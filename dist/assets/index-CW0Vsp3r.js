var e,t,a=Object.defineProperty,r=Object.defineProperties,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,d=Math.pow,c=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&c(e,a,t[a]);if(l)for(var a of l(t))i.call(t,a)&&c(e,a,t[a]);return e},m=(e,t)=>r(e,n(t)),h=(e,t)=>{var a={};for(var r in e)o.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&i.call(e,r)&&(a[r]=e[r]);return a},f=(e,t,a)=>(c(e,"symbol"!=typeof t?t+"":t,a),a),p=(e,t,a)=>new Promise(((r,n)=>{var s=e=>{try{o(a.next(e))}catch(t){n(t)}},l=e=>{try{o(a.throw(e))}catch(t){n(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,l);o((a=a.apply(e,t)).next())})),x=(e={"assets/index-CW0Vsp3r.js"(e,t){function a(e,t){for(var a=0;a<t.length;a++){const r=t[a];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const a=Object.getOwnPropertyDescriptor(r,t);a&&Object.defineProperty(e,t,a.get?a:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var a=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),a}var l={exports:{}},o={},i={exports:{}},c={},x=Symbol.for("react.element"),g=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),C=Symbol.iterator,E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,O={};function D(e,t,a){this.props=e,this.context=t,this.refs=O,this.updater=a||E}function A(){}function P(e,t,a){this.props=e,this.context=t,this.refs=O,this.updater=a||E}D.prototype.isReactComponent={},D.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},D.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},A.prototype=D.prototype;var M=P.prototype=new A;M.constructor=P,T(M,D.prototype),M.isPureReactComponent=!0;var L=Array.isArray,I=Object.prototype.hasOwnProperty,F={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function B(e,t,a){var r,n={},s=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(s=""+t.key),t)I.call(t,r)&&!R.hasOwnProperty(r)&&(n[r]=t[r]);var o=arguments.length-2;if(1===o)n.children=a;else if(1<o){for(var i=Array(o),d=0;d<o;d++)i[d]=arguments[d+2];n.children=i}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===n[r]&&(n[r]=o[r]);return{$$typeof:x,type:e,key:s,ref:l,props:n,_owner:F.current}}function z(e){return"object"==typeof e&&null!==e&&e.$$typeof===x}var U=/\/+/g;function H(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function W(e,t,a,r,n){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case x:case g:l=!0}}if(l)return n=n(l=e),e=""===r?"."+H(l,0):r,L(n)?(a="",null!=e&&(a=e.replace(U,"$&/")+"/"),W(n,t,a,"",(function(e){return e}))):null!=n&&(z(n)&&(n=function(e,t){return{$$typeof:x,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(n,a+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(U,"$&/")+"/")+e)),t.push(n)),1;if(l=0,r=""===r?".":r+":",L(e))for(var o=0;o<e.length;o++){var i=r+H(s=e[o],o);l+=W(s,t,a,i,n)}else if(i=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}(e),"function"==typeof i)for(e=i.call(e),o=0;!(s=e.next()).done;)l+=W(s=s.value,t,a,i=r+H(s,o++),n);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Y(e,t,a){if(null==e)return e;var r=[],n=0;return W(e,r,"","",(function(e){return t.call(a,e,n++)})),r}function q(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var V={current:null},G={transition:null},K={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:G,ReactCurrentOwner:F};function X(){throw Error("act(...) is not supported in production builds of React.")}c.Children={map:Y,forEach:function(e,t,a){Y(e,(function(){t.apply(this,arguments)}),a)},count:function(e){var t=0;return Y(e,(function(){t++})),t},toArray:function(e){return Y(e,(function(e){return e}))||[]},only:function(e){if(!z(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},c.Component=D,c.Fragment=b,c.Profiler=y,c.PureComponent=P,c.StrictMode=v,c.Suspense=_,c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,c.act=X,c.cloneElement=function(e,t,a){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=T({},e.props),n=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=F.current),void 0!==t.key&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(i in t)I.call(t,i)&&!R.hasOwnProperty(i)&&(r[i]=void 0===t[i]&&void 0!==o?o[i]:t[i])}var i=arguments.length-2;if(1===i)r.children=a;else if(1<i){o=Array(i);for(var d=0;d<i;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:x,type:e.type,key:n,ref:s,props:r,_owner:l}},c.createContext=function(e){return(e={$$typeof:j,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:w,_context:e},e.Consumer=e},c.createElement=B,c.createFactory=function(e){var t=B.bind(null,e);return t.type=e,t},c.createRef=function(){return{current:null}},c.forwardRef=function(e){return{$$typeof:N,render:e}},c.isValidElement=z,c.lazy=function(e){return{$$typeof:k,_payload:{_status:-1,_result:e},_init:q}},c.memo=function(e,t){return{$$typeof:S,type:e,compare:void 0===t?null:t}},c.startTransition=function(e){var t=G.transition;G.transition={};try{e()}finally{G.transition=t}},c.unstable_act=X,c.useCallback=function(e,t){return V.current.useCallback(e,t)},c.useContext=function(e){return V.current.useContext(e)},c.useDebugValue=function(){},c.useDeferredValue=function(e){return V.current.useDeferredValue(e)},c.useEffect=function(e,t){return V.current.useEffect(e,t)},c.useId=function(){return V.current.useId()},c.useImperativeHandle=function(e,t,a){return V.current.useImperativeHandle(e,t,a)},c.useInsertionEffect=function(e,t){return V.current.useInsertionEffect(e,t)},c.useLayoutEffect=function(e,t){return V.current.useLayoutEffect(e,t)},c.useMemo=function(e,t){return V.current.useMemo(e,t)},c.useReducer=function(e,t,a){return V.current.useReducer(e,t,a)},c.useRef=function(e){return V.current.useRef(e)},c.useState=function(e){return V.current.useState(e)},c.useSyncExternalStore=function(e,t,a){return V.current.useSyncExternalStore(e,t,a)},c.useTransition=function(){return V.current.useTransition()},c.version="18.3.1",i.exports=c;var Q=i.exports;const J=n(Q),Z=a({__proto__:null,default:J},[Q]);
/**
     * @license React
     * react-jsx-runtime.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */
var ee=Q,te=Symbol.for("react.element"),ae=Symbol.for("react.fragment"),re=Object.prototype.hasOwnProperty,ne=ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,se={key:!0,ref:!0,__self:!0,__source:!0};function le(e,t,a){var r,n={},s=null,l=null;for(r in void 0!==a&&(s=""+a),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(l=t.ref),t)re.call(t,r)&&!se.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:te,type:e,key:s,ref:l,props:n,_owner:ne.current}}o.Fragment=ae,o.jsx=le,o.jsxs=le,l.exports=o;var oe=l.exports,ie={},de={exports:{}},ce={},ue={exports:{}},me={};
/**
     * @license React
     * scheduler.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */
!function(e){function t(e,t){var a=e.length;e.push(t);e:for(;0<a;){var r=a-1>>>1,s=e[r];if(!(0<n(s,t)))break e;e[r]=t,e[a]=s,a=r}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var r=0,s=e.length,l=s>>>1;r<l;){var o=2*(r+1)-1,i=e[o],d=o+1,c=e[d];if(0>n(i,a))d<s&&0>n(c,i)?(e[r]=c,e[d]=a,r=d):(e[r]=i,e[o]=a,r=o);else{if(!(d<s&&0>n(c,a)))break e;e[r]=c,e[d]=a,r=d}}}return t}function n(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var i=[],d=[],c=1,u=null,m=3,h=!1,f=!1,p=!1,x="function"==typeof setTimeout?setTimeout:null,g="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var n=a(d);null!==n;){if(null===n.callback)r(d);else{if(!(n.startTime<=e))break;r(d),n.sortIndex=n.expirationTime,t(i,n)}n=a(d)}}function y(e){if(p=!1,v(e),!f)if(null!==a(i))f=!0,A(w);else{var t=a(d);null!==t&&P(y,t.startTime-e)}}function w(t,n){f=!1,p&&(p=!1,g(S),S=-1),h=!0;var s=m;try{for(v(n),u=a(i);null!==u&&(!(u.expirationTime>n)||t&&!E());){var l=u.callback;if("function"==typeof l){u.callback=null,m=u.priorityLevel;var o=l(u.expirationTime<=n);n=e.unstable_now(),"function"==typeof o?u.callback=o:u===a(i)&&r(i),v(n)}else r(i);u=a(i)}if(null!==u)var c=!0;else{var x=a(d);null!==x&&P(y,x.startTime-n),c=!1}return c}finally{u=null,m=s,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,_=null,S=-1,k=5,C=-1;function E(){return!(e.unstable_now()-C<k)}function T(){if(null!==_){var t=e.unstable_now();C=t;var a=!0;try{a=_(!0,t)}finally{a?j():(N=!1,_=null)}}else N=!1}if("function"==typeof b)j=function(){b(T)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=T,j=function(){D.postMessage(null)}}else j=function(){x(T,0)};function A(e){_=e,N||(N=!0,j())}function P(t,a){S=x((function(){t(e.unstable_now())}),a)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){f||h||(f=!0,A(w))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return a(i)},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var a=m;m=t;try{return e()}finally{m=a}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=m;m=e;try{return t()}finally{m=a}},e.unstable_scheduleCallback=function(r,n,s){var l=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?l+s:l,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:c++,callback:n,priorityLevel:r,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>l?(r.sortIndex=s,t(d,r),null===a(i)&&r===a(d)&&(p?(g(S),S=-1):p=!0,P(y,s-l))):(r.sortIndex=o,t(i,r),f||h||(f=!0,A(w))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=m;return function(){var a=m;m=t;try{return e.apply(this,arguments)}finally{m=a}}}}(me),ue.exports=me;var he=ue.exports,fe=Q,pe=he;
/**
     * @license React
     * react-dom.production.min.js
     *
     * Copyright (c) Facebook, Inc. and its affiliates.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE file in the root directory of this source tree.
     */function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ge=new Set,be={};function ve(e,t){ye(e,t),ye(e+"Capture",t)}function ye(e,t){for(be[e]=t,e=0;e<t.length;e++)ge.add(t[e])}var we=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),je=Object.prototype.hasOwnProperty,Ne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_e={},Se={};function ke(e,t,a,r,n,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Ce[e]=new ke(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Ce[t]=new ke(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Ce[e]=new ke(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Ce[e]=new ke(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Ce[e]=new ke(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Ce[e]=new ke(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){Ce[e]=new ke(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){Ce[e]=new ke(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){Ce[e]=new ke(e,5,!1,e.toLowerCase(),null,!1,!1)}));var Ee=/[\-:]([a-z])/g;function Te(e){return e[1].toUpperCase()}function Oe(e,t,a,r){var n=Ce.hasOwnProperty(t)?Ce[t]:null;(null!==n?0!==n.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,a,r){if(null==t||function(e,t,a,r){if(null!==a&&0===a.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==a?!a.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,a,r))return!0;if(r)return!1;if(null!==a)switch(a.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,a,n,r)&&(a=null),r||null===n?function(e){return!!je.call(Se,e)||!je.call(_e,e)&&(Ne.test(e)?Se[e]=!0:(_e[e]=!0,!1))}(t)&&(null===a?e.removeAttribute(t):e.setAttribute(t,""+a)):n.mustUseProperty?e[n.propertyName]=null===a?3!==n.type&&"":a:(t=n.attributeName,r=n.attributeNamespace,null===a?e.removeAttribute(t):(a=3===(n=n.type)||4===n&&!0===a?"":""+a,r?e.setAttributeNS(r,t,a):e.setAttribute(t,a))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Ee,Te);Ce[t]=new ke(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Ee,Te);Ce[t]=new ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Ee,Te);Ce[t]=new ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){Ce[e]=new ke(e,1,!1,e.toLowerCase(),null,!1,!1)})),Ce.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){Ce[e]=new ke(e,1,!1,e.toLowerCase(),null,!0,!0)}));var De=fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ae=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),Me=Symbol.for("react.fragment"),Le=Symbol.for("react.strict_mode"),Ie=Symbol.for("react.profiler"),Fe=Symbol.for("react.provider"),Re=Symbol.for("react.context"),$e=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),We=Symbol.for("react.offscreen"),Ye=Symbol.iterator;function qe(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Ye&&e[Ye]||e["@@iterator"])?e:null}var Ve,Ge=Object.assign;function Ke(e){if(void 0===Ve)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ve=t&&t[1]||""}return"\n"+Ve+e}var Xe=!1;function Qe(e,t){if(!e||Xe)return"";Xe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&"string"==typeof d.stack){for(var n=d.stack.split("\n"),s=r.stack.split("\n"),l=n.length-1,o=s.length-1;1<=l&&0<=o&&n[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(n[l]!==s[o]){if(1!==l||1!==o)do{if(l--,0>--o||n[l]!==s[o]){var i="\n"+n[l].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}}while(1<=l&&0<=o);break}}}finally{Xe=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Ke(e):""}function Je(e){switch(e.tag){case 5:return Ke(e.type);case 16:return Ke("Lazy");case 13:return Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 2:case 15:return e=Qe(e.type,!1);case 11:return e=Qe(e.type.render,!1);case 1:return e=Qe(e.type,!0);default:return""}}function Ze(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Me:return"Fragment";case Pe:return"Portal";case Ie:return"Profiler";case Le:return"StrictMode";case Be:return"Suspense";case ze:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Re:return(e.displayName||"Context")+".Consumer";case Fe:return(e._context.displayName||"Context")+".Provider";case $e:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Ue:return null!==(t=e.displayName||null)?t:Ze(e.type)||"Memo";case He:t=e._payload,e=e._init;try{return Ze(e(t))}catch(a){}}return null}function et(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ze(t);case 8:return t===Le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function tt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function at(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function rt(e){e._valueTracker||(e._valueTracker=function(e){var t=at(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==a&&"function"==typeof a.get&&"function"==typeof a.set){var n=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function nt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=at(e)?e.checked?"true":"false":e.value),(e=r)!==a&&(t.setValue(e),!0)}function st(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function lt(e,t){var a=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=a?a:e._wrapperState.initialChecked})}function ot(e,t){var a=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;a=tt(null!=t.value?t.value:a),e._wrapperState={initialChecked:r,initialValue:a,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function it(e,t){null!=(t=t.checked)&&Oe(e,"checked",t,!1)}function dt(e,t){it(e,t);var a=tt(t.value),r=t.type;if(null!=a)"number"===r?(0===a&&""===e.value||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ut(e,t.type,a):t.hasOwnProperty("defaultValue")&&ut(e,t.type,tt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ct(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}""!==(a=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==a&&(e.name=a)}function ut(e,t,a){"number"===t&&st(e.ownerDocument)===e||(null==a?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var mt=Array.isArray;function ht(e,t,a,r){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&r&&(e[a].defaultSelected=!0)}else{for(a=""+tt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a)return e[n].selected=!0,void(r&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function ft(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(xe(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pt(e,t){var a=t.value;if(null==a){if(a=t.children,t=t.defaultValue,null!=a){if(null!=t)throw Error(xe(92));if(mt(a)){if(1<a.length)throw Error(xe(93));a=a[0]}t=a}null==t&&(t=""),a=t}e._wrapperState={initialValue:tt(a)}}function xt(e,t){var a=tt(t.value),r=tt(t.defaultValue);null!=a&&((a=""+a)!==e.value&&(e.value=a),null==t.defaultValue&&e.defaultValue!==a&&(e.defaultValue=a)),null!=r&&(e.defaultValue=""+r)}function gt(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function bt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?bt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var yt,wt,jt=(wt=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((yt=yt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,a,r){MSApp.execUnsafeLocalFunction((function(){return wt(e,t)}))}:wt);function Nt(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var _t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},St=["Webkit","ms","Moz","O"];function kt(e,t,a){return null==t||"boolean"==typeof t||""===t?"":a||"number"!=typeof t||0===t||_t.hasOwnProperty(e)&&_t[e]?(""+t).trim():t+"px"}function Ct(e,t){for(var a in e=e.style,t)if(t.hasOwnProperty(a)){var r=0===a.indexOf("--"),n=kt(a,t[a],r);"float"===a&&(a="cssFloat"),r?e.setProperty(a,n):e[a]=n}}Object.keys(_t).forEach((function(e){St.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_t[t]=_t[e]}))}));var Et=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tt(e,t){if(t){if(Et[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(xe(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(xe(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(xe(62))}}function Ot(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Mt=null,Lt=null;function It(e){if(e=Os(e)){if("function"!=typeof Pt)throw Error(xe(280));var t=e.stateNode;t&&(t=As(t),Pt(e.stateNode,e.type,t))}}function Ft(e){Mt?Lt?Lt.push(e):Lt=[e]:Mt=e}function Rt(){if(Mt){var e=Mt,t=Lt;if(Lt=Mt=null,It(e),t)for(e=0;e<t.length;e++)It(t[e])}}function $t(e,t){return e(t)}function Bt(){}var zt=!1;function Ut(e,t,a){if(zt)return e(t,a);zt=!0;try{return $t(e,t,a)}finally{zt=!1,(null!==Mt||null!==Lt)&&(Bt(),Rt())}}function Ht(e,t){var a=e.stateNode;if(null===a)return null;var r=As(a);if(null===r)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(a&&"function"!=typeof a)throw Error(xe(231,t,typeof a));return a}var Wt=!1;if(we)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch(wt){Wt=!1}function qt(e,t,a,r,n,s,l,o,i){var d=Array.prototype.slice.call(arguments,3);try{t.apply(a,d)}catch(c){this.onError(c)}}var Vt=!1,Gt=null,Kt=!1,Xt=null,Qt={onError:function(e){Vt=!0,Gt=e}};function Jt(e,t,a,r,n,s,l,o,i){Vt=!1,Gt=null,qt.apply(Qt,arguments)}function Zt(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function ea(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function ta(e){if(Zt(e)!==e)throw Error(xe(188))}function aa(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Zt(e)))throw Error(xe(188));return t!==e?null:e}for(var a=e,r=t;;){var n=a.return;if(null===n)break;var s=n.alternate;if(null===s){if(null!==(r=n.return)){a=r;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===a)return ta(n),e;if(s===r)return ta(n),t;s=s.sibling}throw Error(xe(188))}if(a.return!==r.return)a=n,r=s;else{for(var l=!1,o=n.child;o;){if(o===a){l=!0,a=n,r=s;break}if(o===r){l=!0,r=n,a=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===a){l=!0,a=s,r=n;break}if(o===r){l=!0,r=s,a=n;break}o=o.sibling}if(!l)throw Error(xe(189))}}if(a.alternate!==r)throw Error(xe(190))}if(3!==a.tag)throw Error(xe(188));return a.stateNode.current===a?e:t}(e))?ra(e):null}function ra(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ra(e);if(null!==t)return t;e=e.sibling}return null}var na=pe.unstable_scheduleCallback,sa=pe.unstable_cancelCallback,la=pe.unstable_shouldYield,oa=pe.unstable_requestPaint,ia=pe.unstable_now,da=pe.unstable_getCurrentPriorityLevel,ca=pe.unstable_ImmediatePriority,ua=pe.unstable_UserBlockingPriority,ma=pe.unstable_NormalPriority,ha=pe.unstable_LowPriority,fa=pe.unstable_IdlePriority,pa=null,xa=null,ga=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ba(e)/va|0)|0},ba=Math.log,va=Math.LN2,ya=64,wa=4194304;function ja(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Na(e,t){var a=e.pendingLanes;if(0===a)return 0;var r=0,n=e.suspendedLanes,s=e.pingedLanes,l=268435455&a;if(0!==l){var o=l&~n;0!==o?r=ja(o):0!=(s&=l)&&(r=ja(s))}else 0!=(l=a&~n)?r=ja(l):0!==s&&(r=ja(s));if(0===r)return 0;if(0!==t&&t!==r&&!(t&n)&&((n=r&-r)>=(s=t&-t)||16===n&&4194240&s))return t;if(4&r&&(r|=16&a),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)n=1<<(a=31-ga(t)),r|=e[a],t&=~n;return r}function _a(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Sa(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ka(){var e=ya;return!(4194240&(ya<<=1))&&(ya=64),e}function Ca(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ea(e,t,a){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ga(t)]=a}function Ta(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-ga(a),n=1<<r;n&t|e[r]&t&&(e[r]|=t),a&=~n}}var Oa=0;function Da(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Aa,Pa,Ma,La,Ia,Fa=!1,Ra=[],$a=null,Ba=null,za=null,Ua=new Map,Ha=new Map,Wa=[],Ya="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qa(e,t){switch(e){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Ua.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ha.delete(t.pointerId)}}function Va(e,t,a,r,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:s,targetContainers:[n]},null!==t&&null!==(t=Os(t))&&Pa(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Ga(e){var t=Ts(e.target);if(null!==t){var a=Zt(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=ea(a)))return e.blockedOn=t,void Ia(e.priority,(function(){Ma(a)}))}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function Ka(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=lr(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==a)return null!==(t=Os(a))&&Pa(t),e.blockedOn=a,!1;var r=new(a=e.nativeEvent).constructor(a.type,a);Dt=r,a.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function Xa(e,t,a){Ka(e)&&a.delete(t)}function Qa(){Fa=!1,null!==$a&&Ka($a)&&($a=null),null!==Ba&&Ka(Ba)&&(Ba=null),null!==za&&Ka(za)&&(za=null),Ua.forEach(Xa),Ha.forEach(Xa)}function Ja(e,t){e.blockedOn===t&&(e.blockedOn=null,Fa||(Fa=!0,pe.unstable_scheduleCallback(pe.unstable_NormalPriority,Qa)))}function Za(e){function t(t){return Ja(t,e)}if(0<Ra.length){Ja(Ra[0],e);for(var a=1;a<Ra.length;a++){var r=Ra[a];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==$a&&Ja($a,e),null!==Ba&&Ja(Ba,e),null!==za&&Ja(za,e),Ua.forEach(t),Ha.forEach(t),a=0;a<Wa.length;a++)(r=Wa[a]).blockedOn===e&&(r.blockedOn=null);for(;0<Wa.length&&null===(a=Wa[0]).blockedOn;)Ga(a),null===a.blockedOn&&Wa.shift()}var er=De.ReactCurrentBatchConfig,tr=!0;function ar(e,t,a,r){var n=Oa,s=er.transition;er.transition=null;try{Oa=1,nr(e,t,a,r)}finally{Oa=n,er.transition=s}}function rr(e,t,a,r){var n=Oa,s=er.transition;er.transition=null;try{Oa=4,nr(e,t,a,r)}finally{Oa=n,er.transition=s}}function nr(e,t,a,r){if(tr){var n=lr(e,t,a,r);if(null===n)ts(e,t,r,sr,a),qa(e,r);else if(function(e,t,a,r,n){switch(t){case"focusin":return $a=Va($a,e,t,a,r,n),!0;case"dragenter":return Ba=Va(Ba,e,t,a,r,n),!0;case"mouseover":return za=Va(za,e,t,a,r,n),!0;case"pointerover":var s=n.pointerId;return Ua.set(s,Va(Ua.get(s)||null,e,t,a,r,n)),!0;case"gotpointercapture":return s=n.pointerId,Ha.set(s,Va(Ha.get(s)||null,e,t,a,r,n)),!0}return!1}(n,e,t,a,r))r.stopPropagation();else if(qa(e,r),4&t&&-1<Ya.indexOf(e)){for(;null!==n;){var s=Os(n);if(null!==s&&Aa(s),null===(s=lr(e,t,a,r))&&ts(e,t,r,sr,a),s===n)break;n=s}null!==n&&r.stopPropagation()}else ts(e,t,r,null,a)}}var sr=null;function lr(e,t,a,r){if(sr=null,null!==(e=Ts(e=At(r))))if(null===(t=Zt(e)))e=null;else if(13===(a=t.tag)){if(null!==(e=ea(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sr=e,null}function or(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(da()){case ca:return 1;case ua:return 4;case ma:case ha:return 16;case fa:return 536870912;default:return 16}default:return 16}}var ir=null,dr=null,cr=null;function ur(){if(cr)return cr;var e,t,a=dr,r=a.length,n="value"in ir?ir.value:ir.textContent,s=n.length;for(e=0;e<r&&a[e]===n[e];e++);var l=r-e;for(t=1;t<=l&&a[r-t]===n[s-t];t++);return cr=n.slice(e,1<t?1-t:void 0)}function mr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function hr(){return!0}function fr(){return!1}function pr(e){function t(t,a,r,n,s){for(var l in this._reactName=t,this._targetInst=r,this.type=a,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(n):n[l]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?hr:fr,this.isPropagationStopped=fr,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),t}var xr,gr,br,vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=pr(vr),wr=Ge({},vr,{view:0,detail:0}),jr=pr(wr),Nr=Ge({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&"mousemove"===e.type?(xr=e.screenX-br.screenX,gr=e.screenY-br.screenY):gr=xr=0,br=e),xr)},movementY:function(e){return"movementY"in e?e.movementY:gr}}),_r=pr(Nr),Sr=pr(Ge({},Nr,{dataTransfer:0})),kr=pr(Ge({},wr,{relatedTarget:0})),Cr=pr(Ge({},vr,{animationName:0,elapsedTime:0,pseudoElement:0})),Er=Ge({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tr=pr(Er),Or=pr(Ge({},vr,{data:0})),Dr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ar={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pr[e])&&!!t[e]}function Lr(){return Mr}var Ir=Ge({},wr,{key:function(e){if(e.key){var t=Dr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=mr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ar[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(e){return"keypress"===e.type?mr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?mr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Fr=pr(Ir),Rr=pr(Ge({},Nr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),$r=pr(Ge({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr})),Br=pr(Ge({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0})),zr=Ge({},Nr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ur=pr(zr),Hr=[9,13,27,32],Wr=we&&"CompositionEvent"in window,Yr=null;we&&"documentMode"in document&&(Yr=document.documentMode);var qr=we&&"TextEvent"in window&&!Yr,Vr=we&&(!Wr||Yr&&8<Yr&&11>=Yr),Gr=String.fromCharCode(32),Kr=!1;function Xr(e,t){switch(e){case"keyup":return-1!==Hr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Jr=!1,Zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Zr[e.type]:"textarea"===t}function tn(e,t,a,r){Ft(r),0<(t=rs(t,"onChange")).length&&(a=new yr("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var an=null,rn=null;function nn(e){Kn(e,0)}function sn(e){if(nt(Ds(e)))return e}function ln(e,t){if("change"===e)return t}var on=!1;if(we){var dn;if(we){var cn="oninput"in document;if(!cn){var un=document.createElement("div");un.setAttribute("oninput","return;"),cn="function"==typeof un.oninput}dn=cn}else dn=!1;on=dn&&(!document.documentMode||9<document.documentMode)}function mn(){an&&(an.detachEvent("onpropertychange",hn),rn=an=null)}function hn(e){if("value"===e.propertyName&&sn(rn)){var t=[];tn(t,rn,e,At(e)),Ut(nn,t)}}function fn(e,t,a){"focusin"===e?(mn(),rn=a,(an=t).attachEvent("onpropertychange",hn)):"focusout"===e&&mn()}function pn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return sn(rn)}function xn(e,t){if("click"===e)return sn(t)}function gn(e,t){if("input"===e||"change"===e)return sn(t)}var bn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function vn(e,t){if(bn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var n=a[r];if(!je.call(t,n)||!bn(e[n],t[n]))return!1}return!0}function yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wn(e,t){var a,r=yn(e);for(e=0;r;){if(3===r.nodeType){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yn(r)}}function jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Nn(){for(var e=window,t=st();t instanceof e.HTMLIFrameElement;){try{var a="string"==typeof t.contentWindow.location.href}catch(r){a=!1}if(!a)break;t=st((e=t.contentWindow).document)}return t}function _n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Sn(e){var t=Nn(),a=e.focusedElem,r=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&jn(a.ownerDocument.documentElement,a)){if(null!==r&&_n(a))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if((e=(t=a.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=a.textContent.length,s=Math.min(r.start,n);r=void 0===r.end?s:Math.min(r.end,n),!e.extend&&s>r&&(n=r,r=s,s=n),n=wn(a,s);var l=wn(a,r);n&&l&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=a;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<t.length;a++)(e=t[a]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kn=we&&"documentMode"in document&&11>=document.documentMode,Cn=null,En=null,Tn=null,On=!1;function Dn(e,t,a){var r=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;On||null==Cn||Cn!==st(r)||(r="selectionStart"in(r=Cn)&&_n(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Tn&&vn(Tn,r)||(Tn=r,0<(r=rs(En,"onSelect")).length&&(t=new yr("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=Cn)))}function An(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Pn={animationend:An("Animation","AnimationEnd"),animationiteration:An("Animation","AnimationIteration"),animationstart:An("Animation","AnimationStart"),transitionend:An("Transition","TransitionEnd")},Mn={},Ln={};function In(e){if(Mn[e])return Mn[e];if(!Pn[e])return e;var t,a=Pn[e];for(t in a)if(a.hasOwnProperty(t)&&t in Ln)return Mn[e]=a[t];return e}we&&(Ln=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);var Fn=In("animationend"),Rn=In("animationiteration"),$n=In("animationstart"),Bn=In("transitionend"),zn=new Map,Un="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hn(e,t){zn.set(e,t),ve(t,[e])}for(var Wn=0;Wn<Un.length;Wn++){var Yn=Un[Wn];Hn(Yn.toLowerCase(),"on"+(Yn[0].toUpperCase()+Yn.slice(1)))}Hn(Fn,"onAnimationEnd"),Hn(Rn,"onAnimationIteration"),Hn($n,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Bn,"onTransitionEnd"),ye("onMouseEnter",["mouseout","mouseover"]),ye("onMouseLeave",["mouseout","mouseover"]),ye("onPointerEnter",["pointerout","pointerover"]),ye("onPointerLeave",["pointerout","pointerover"]),ve("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ve("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ve("onBeforeInput",["compositionend","keypress","textInput","paste"]),ve("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ve("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ve("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vn=new Set("cancel close invalid load scroll toggle".split(" ").concat(qn));function Gn(e,t,a){var r=e.type||"unknown-event";e.currentTarget=a,function(e,t,a,r,n,s,l,o,i){if(Jt.apply(this,arguments),Vt){if(!Vt)throw Error(xe(198));var d=Gt;Vt=!1,Gt=null,Kt||(Kt=!0,Xt=d)}}(r,t,void 0,e),e.currentTarget=null}function Kn(e,t){t=!!(4&t);for(var a=0;a<e.length;a++){var r=e[a],n=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],i=o.instance,d=o.currentTarget;if(o=o.listener,i!==s&&n.isPropagationStopped())break e;Gn(n,o,d),s=i}else for(l=0;l<r.length;l++){if(i=(o=r[l]).instance,d=o.currentTarget,o=o.listener,i!==s&&n.isPropagationStopped())break e;Gn(n,o,d),s=i}}}if(Kt)throw e=Xt,Kt=!1,Xt=null,e}function Xn(e,t){var a=t[ks];void 0===a&&(a=t[ks]=new Set);var r=e+"__bubble";a.has(r)||(es(t,e,2,!1),a.add(r))}function Qn(e,t,a){var r=0;t&&(r|=4),es(a,e,r,t)}var Jn="_reactListening"+Math.random().toString(36).slice(2);function Zn(e){if(!e[Jn]){e[Jn]=!0,ge.forEach((function(t){"selectionchange"!==t&&(Vn.has(t)||Qn(t,!1,e),Qn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Jn]||(t[Jn]=!0,Qn("selectionchange",!1,t))}}function es(e,t,a,r){switch(or(t)){case 1:var n=ar;break;case 4:n=rr;break;default:n=nr}a=n.bind(null,t,a,e),n=void 0,!Wt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),r?void 0!==n?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):void 0!==n?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function ts(e,t,a,r,n){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var o=r.stateNode.containerInfo;if(o===n||8===o.nodeType&&o.parentNode===n)break;if(4===l)for(l=r.return;null!==l;){var i=l.tag;if((3===i||4===i)&&((i=l.stateNode.containerInfo)===n||8===i.nodeType&&i.parentNode===n))return;l=l.return}for(;null!==o;){if(null===(l=Ts(o)))return;if(5===(i=l.tag)||6===i){r=s=l;continue e}o=o.parentNode}}r=r.return}Ut((function(){var r=s,n=At(a),l=[];e:{var o=zn.get(e);if(void 0!==o){var i=yr,d=e;switch(e){case"keypress":if(0===mr(a))break e;case"keydown":case"keyup":i=Fr;break;case"focusin":d="focus",i=kr;break;case"focusout":d="blur",i=kr;break;case"beforeblur":case"afterblur":i=kr;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":i=_r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":i=Sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":i=$r;break;case Fn:case Rn:case $n:i=Cr;break;case Bn:i=Br;break;case"scroll":i=jr;break;case"wheel":i=Ur;break;case"copy":case"cut":case"paste":i=Tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":i=Rr}var c=!!(4&t),u=!c&&"scroll"===e,m=c?null!==o?o+"Capture":null:o;c=[];for(var h,f=r;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&null!=(p=Ht(f,m))&&c.push(as(f,p,h))),u)break;f=f.return}0<c.length&&(o=new i(o,d,null,a,n),l.push({event:o,listeners:c}))}}if(!(7&t)){if(i="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||a===Dt||!(d=a.relatedTarget||a.fromElement)||!Ts(d)&&!d[Ss])&&(i||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,i?(i=r,null!==(d=(d=a.relatedTarget||a.toElement)?Ts(d):null)&&(d!==(u=Zt(d))||5!==d.tag&&6!==d.tag)&&(d=null)):(i=null,d=r),i!==d)){if(c=_r,p="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=Rr,p="onPointerLeave",m="onPointerEnter",f="pointer"),u=null==i?o:Ds(i),h=null==d?o:Ds(d),(o=new c(p,f+"leave",i,a,n)).target=u,o.relatedTarget=h,p=null,Ts(n)===r&&((c=new c(m,f+"enter",d,a,n)).target=h,c.relatedTarget=u,p=c),u=p,i&&d)e:{for(m=d,f=0,h=c=i;h;h=ns(h))f++;for(h=0,p=m;p;p=ns(p))h++;for(;0<f-h;)c=ns(c),f--;for(;0<h-f;)m=ns(m),h--;for(;f--;){if(c===m||null!==m&&c===m.alternate)break e;c=ns(c),m=ns(m)}c=null}else c=null;null!==i&&ss(l,o,i,c,!1),null!==d&&null!==u&&ss(l,u,d,c,!0)}if("select"===(i=(o=r?Ds(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===i&&"file"===o.type)var x=ln;else if(en(o))if(on)x=gn;else{x=pn;var g=fn}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=xn);switch(x&&(x=x(e,r))?tn(l,x,a,n):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ut(o,"number",o.value)),g=r?Ds(r):window,e){case"focusin":(en(g)||"true"===g.contentEditable)&&(Cn=g,En=r,Tn=null);break;case"focusout":Tn=En=Cn=null;break;case"mousedown":On=!0;break;case"contextmenu":case"mouseup":case"dragend":On=!1,Dn(l,a,n);break;case"selectionchange":if(kn)break;case"keydown":case"keyup":Dn(l,a,n)}var b;if(Wr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Jr?Xr(e,a)&&(v="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(v="onCompositionStart");v&&(Vr&&"ko"!==a.locale&&(Jr||"onCompositionStart"!==v?"onCompositionEnd"===v&&Jr&&(b=ur()):(dr="value"in(ir=n)?ir.value:ir.textContent,Jr=!0)),0<(g=rs(r,v)).length&&(v=new Or(v,e,null,a,n),l.push({event:v,listeners:g}),(b||null!==(b=Qr(a)))&&(v.data=b))),(b=qr?function(e,t){switch(e){case"compositionend":return Qr(t);case"keypress":return 32!==t.which?null:(Kr=!0,Gr);case"textInput":return(e=t.data)===Gr&&Kr?null:e;default:return null}}(e,a):function(e,t){if(Jr)return"compositionend"===e||!Wr&&Xr(e,t)?(e=ur(),cr=dr=ir=null,Jr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vr&&"ko"!==t.locale?null:t.data}}(e,a))&&0<(r=rs(r,"onBeforeInput")).length&&(n=new Or("onBeforeInput","beforeinput",null,a,n),l.push({event:n,listeners:r}),n.data=b)}Kn(l,t)}))}function as(e,t,a){return{instance:e,listener:t,currentTarget:a}}function rs(e,t){for(var a=t+"Capture",r=[];null!==e;){var n=e,s=n.stateNode;5===n.tag&&null!==s&&(n=s,null!=(s=Ht(e,a))&&r.unshift(as(e,s,n)),null!=(s=Ht(e,t))&&r.push(as(e,s,n))),e=e.return}return r}function ns(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ss(e,t,a,r,n){for(var s=t._reactName,l=[];null!==a&&a!==r;){var o=a,i=o.alternate,d=o.stateNode;if(null!==i&&i===r)break;5===o.tag&&null!==d&&(o=d,n?null!=(i=Ht(a,s))&&l.unshift(as(a,i,o)):n||null!=(i=Ht(a,s))&&l.push(as(a,i,o))),a=a.return}0!==l.length&&e.push({event:t,listeners:l})}var ls=/\r\n?/g,os=/\u0000|\uFFFD/g;function is(e){return("string"==typeof e?e:""+e).replace(ls,"\n").replace(os,"")}function ds(e,t,a){if(t=is(t),is(e)!==t&&a)throw Error(xe(425))}function cs(){}var us=null,ms=null;function hs(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var fs="function"==typeof setTimeout?setTimeout:void 0,ps="function"==typeof clearTimeout?clearTimeout:void 0,xs="function"==typeof Promise?Promise:void 0,gs="function"==typeof queueMicrotask?queueMicrotask:void 0!==xs?function(e){return xs.resolve(null).then(e).catch(bs)}:fs;function bs(e){setTimeout((function(){throw e}))}function vs(e,t){var a=t,r=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&8===n.nodeType)if("/$"===(a=n.data)){if(0===r)return e.removeChild(n),void Za(t);r--}else"$"!==a&&"$?"!==a&&"$!"!==a||r++;a=n}while(a);Za(t)}function ys(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ws(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===t)return e;t--}else"/$"===a&&t++}e=e.previousSibling}return null}var js=Math.random().toString(36).slice(2),Ns="__reactFiber$"+js,_s="__reactProps$"+js,Ss="__reactContainer$"+js,ks="__reactEvents$"+js,Cs="__reactListeners$"+js,Es="__reactHandles$"+js;function Ts(e){var t=e[Ns];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ss]||a[Ns]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=ws(e);null!==e;){if(a=e[Ns])return a;e=ws(e)}return t}a=(e=a).parentNode}return null}function Os(e){return!(e=e[Ns]||e[Ss])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ds(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(xe(33))}function As(e){return e[_s]||null}var Ps=[],Ms=-1;function Ls(e){return{current:e}}function Is(e){0>Ms||(e.current=Ps[Ms],Ps[Ms]=null,Ms--)}function Fs(e,t){Ms++,Ps[Ms]=e.current,e.current=t}var Rs={},$s=Ls(Rs),Bs=Ls(!1),zs=Rs;function Us(e,t){var a=e.type.contextTypes;if(!a)return Rs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n,s={};for(n in a)s[n]=t[n];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Hs(e){return null!=(e=e.childContextTypes)}function Ws(){Is(Bs),Is($s)}function Ys(e,t,a){if($s.current!==Rs)throw Error(xe(168));Fs($s,t),Fs(Bs,a)}function qs(e,t,a){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return a;for(var n in r=r.getChildContext())if(!(n in t))throw Error(xe(108,et(e)||"Unknown",n));return Ge({},a,r)}function Vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rs,zs=$s.current,Fs($s,e),Fs(Bs,Bs.current),!0}function Gs(e,t,a){var r=e.stateNode;if(!r)throw Error(xe(169));a?(e=qs(e,t,zs),r.__reactInternalMemoizedMergedChildContext=e,Is(Bs),Is($s),Fs($s,e)):Is(Bs),Fs(Bs,a)}var Ks=null,Xs=!1,Qs=!1;function Js(e){null===Ks?Ks=[e]:Ks.push(e)}function Zs(){if(!Qs&&null!==Ks){Qs=!0;var e=0,t=Oa;try{var a=Ks;for(Oa=1;e<a.length;e++){var r=a[e];do{r=r(!0)}while(null!==r)}Ks=null,Xs=!1}catch(n){throw null!==Ks&&(Ks=Ks.slice(e+1)),na(ca,Zs),n}finally{Oa=t,Qs=!1}}return null}var el=[],tl=0,al=null,rl=0,nl=[],sl=0,ll=null,ol=1,il="";function dl(e,t){el[tl++]=rl,el[tl++]=al,al=e,rl=t}function cl(e,t,a){nl[sl++]=ol,nl[sl++]=il,nl[sl++]=ll,ll=e;var r=ol;e=il;var n=32-ga(r)-1;r&=~(1<<n),a+=1;var s=32-ga(t)+n;if(30<s){var l=n-n%5;s=(r&(1<<l)-1).toString(32),r>>=l,n-=l,ol=1<<32-ga(t)+n|a<<n|r,il=s+e}else ol=1<<s|a<<n|r,il=e}function ul(e){null!==e.return&&(dl(e,1),cl(e,1,0))}function ml(e){for(;e===al;)al=el[--tl],el[tl]=null,rl=el[--tl],el[tl]=null;for(;e===ll;)ll=nl[--sl],nl[sl]=null,il=nl[--sl],nl[sl]=null,ol=nl[--sl],nl[sl]=null}var hl=null,fl=null,pl=!1,xl=null;function gl(e,t){var a=zc(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,null===(t=e.deletions)?(e.deletions=[a],e.flags|=16):t.push(a)}function bl(e,t){switch(e.tag){case 5:var a=e.type;return null!==(t=1!==t.nodeType||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,hl=e,fl=ys(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,hl=e,fl=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(a=null!==ll?{id:ol,overflow:il}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},(a=zc(18,null,null,0)).stateNode=t,a.return=e,e.child=a,hl=e,fl=null,!0);default:return!1}}function vl(e){return!(!(1&e.mode)||128&e.flags)}function yl(e){if(pl){var t=fl;if(t){var a=t;if(!bl(e,t)){if(vl(e))throw Error(xe(418));t=ys(a.nextSibling);var r=hl;t&&bl(e,t)?gl(r,a):(e.flags=-4097&e.flags|2,pl=!1,hl=e)}}else{if(vl(e))throw Error(xe(418));e.flags=-4097&e.flags|2,pl=!1,hl=e}}}function wl(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;hl=e}function jl(e){if(e!==hl)return!1;if(!pl)return wl(e),pl=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!hs(e.type,e.memoizedProps)),t&&(t=fl)){if(vl(e))throw Nl(),Error(xe(418));for(;t;)gl(e,t),t=ys(t.nextSibling)}if(wl(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a){if(0===t){fl=ys(e.nextSibling);break e}t--}else"$"!==a&&"$!"!==a&&"$?"!==a||t++}e=e.nextSibling}fl=null}}else fl=hl?ys(e.stateNode.nextSibling):null;return!0}function Nl(){for(var e=fl;e;)e=ys(e.nextSibling)}function _l(){fl=hl=null,pl=!1}function Sl(e){null===xl?xl=[e]:xl.push(e)}var kl=De.ReactCurrentBatchConfig;function Cl(e,t,a){if(null!==(e=a.ref)&&"function"!=typeof e&&"object"!=typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(xe(309));var r=a.stateNode}if(!r)throw Error(xe(147,e));var n=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=n.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(xe(284));if(!a._owner)throw Error(xe(290,e))}return e}function El(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tl(e){return(0,e._init)(e._payload)}function Ol(e){function t(t,a){if(e){var r=t.deletions;null===r?(t.deletions=[a],t.flags|=16):r.push(a)}}function a(a,r){if(!e)return null;for(;null!==r;)t(a,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Hc(e,t)).index=0,e.sibling=null,e}function s(t,a,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<a?(t.flags|=2,a):r:(t.flags|=2,a):(t.flags|=1048576,a)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,a,r){return null===t||6!==t.tag?((t=Vc(a,e.mode,r)).return=e,t):((t=n(t,a)).return=e,t)}function i(e,t,a,r){var s=a.type;return s===Me?c(e,t,a.props.children,r,a.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===He&&Tl(s)===t.type)?((r=n(t,a.props)).ref=Cl(e,t,a),r.return=e,r):((r=Wc(a.type,a.key,a.props,null,e.mode,r)).ref=Cl(e,t,a),r.return=e,r)}function d(e,t,a,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Gc(a,e.mode,r)).return=e,t):((t=n(t,a.children||[])).return=e,t)}function c(e,t,a,r,s){return null===t||7!==t.tag?((t=Yc(a,e.mode,r,s)).return=e,t):((t=n(t,a)).return=e,t)}function u(e,t,a){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Vc(""+t,e.mode,a)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ae:return(a=Wc(t.type,t.key,t.props,null,e.mode,a)).ref=Cl(e,null,t),a.return=e,a;case Pe:return(t=Gc(t,e.mode,a)).return=e,t;case He:return u(e,(0,t._init)(t._payload),a)}if(mt(t)||qe(t))return(t=Yc(t,e.mode,a,null)).return=e,t;El(e,t)}return null}function m(e,t,a,r){var n=null!==t?t.key:null;if("string"==typeof a&&""!==a||"number"==typeof a)return null!==n?null:o(e,t,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case Ae:return a.key===n?i(e,t,a,r):null;case Pe:return a.key===n?d(e,t,a,r):null;case He:return m(e,t,(n=a._init)(a._payload),r)}if(mt(a)||qe(a))return null!==n?null:c(e,t,a,r,null);El(e,a)}return null}function h(e,t,a,r,n){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(a)||null,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ae:return i(t,e=e.get(null===r.key?a:r.key)||null,r,n);case Pe:return d(t,e=e.get(null===r.key?a:r.key)||null,r,n);case He:return h(e,t,a,(0,r._init)(r._payload),n)}if(mt(r)||qe(r))return c(t,e=e.get(a)||null,r,n,null);El(t,r)}return null}return function o(i,d,c,f){if("object"==typeof c&&null!==c&&c.type===Me&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case Ae:e:{for(var p=c.key,x=d;null!==x;){if(x.key===p){if((p=c.type)===Me){if(7===x.tag){a(i,x.sibling),(d=n(x,c.props.children)).return=i,i=d;break e}}else if(x.elementType===p||"object"==typeof p&&null!==p&&p.$$typeof===He&&Tl(p)===x.type){a(i,x.sibling),(d=n(x,c.props)).ref=Cl(i,x,c),d.return=i,i=d;break e}a(i,x);break}t(i,x),x=x.sibling}c.type===Me?((d=Yc(c.props.children,i.mode,f,c.key)).return=i,i=d):((f=Wc(c.type,c.key,c.props,null,i.mode,f)).ref=Cl(i,d,c),f.return=i,i=f)}return l(i);case Pe:e:{for(x=c.key;null!==d;){if(d.key===x){if(4===d.tag&&d.stateNode.containerInfo===c.containerInfo&&d.stateNode.implementation===c.implementation){a(i,d.sibling),(d=n(d,c.children||[])).return=i,i=d;break e}a(i,d);break}t(i,d),d=d.sibling}(d=Gc(c,i.mode,f)).return=i,i=d}return l(i);case He:return o(i,d,(x=c._init)(c._payload),f)}if(mt(c))return function(n,l,o,i){for(var d=null,c=null,f=l,p=l=0,x=null;null!==f&&p<o.length;p++){f.index>p?(x=f,f=null):x=f.sibling;var g=m(n,f,o[p],i);if(null===g){null===f&&(f=x);break}e&&f&&null===g.alternate&&t(n,f),l=s(g,l,p),null===c?d=g:c.sibling=g,c=g,f=x}if(p===o.length)return a(n,f),pl&&dl(n,p),d;if(null===f){for(;p<o.length;p++)null!==(f=u(n,o[p],i))&&(l=s(f,l,p),null===c?d=f:c.sibling=f,c=f);return pl&&dl(n,p),d}for(f=r(n,f);p<o.length;p++)null!==(x=h(f,n,p,o[p],i))&&(e&&null!==x.alternate&&f.delete(null===x.key?p:x.key),l=s(x,l,p),null===c?d=x:c.sibling=x,c=x);return e&&f.forEach((function(e){return t(n,e)})),pl&&dl(n,p),d}(i,d,c,f);if(qe(c))return function(n,l,o,i){var d=qe(o);if("function"!=typeof d)throw Error(xe(150));if(null==(o=d.call(o)))throw Error(xe(151));for(var c=d=null,f=l,p=l=0,x=null,g=o.next();null!==f&&!g.done;p++,g=o.next()){f.index>p?(x=f,f=null):x=f.sibling;var b=m(n,f,g.value,i);if(null===b){null===f&&(f=x);break}e&&f&&null===b.alternate&&t(n,f),l=s(b,l,p),null===c?d=b:c.sibling=b,c=b,f=x}if(g.done)return a(n,f),pl&&dl(n,p),d;if(null===f){for(;!g.done;p++,g=o.next())null!==(g=u(n,g.value,i))&&(l=s(g,l,p),null===c?d=g:c.sibling=g,c=g);return pl&&dl(n,p),d}for(f=r(n,f);!g.done;p++,g=o.next())null!==(g=h(f,n,p,g.value,i))&&(e&&null!==g.alternate&&f.delete(null===g.key?p:g.key),l=s(g,l,p),null===c?d=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(n,e)})),pl&&dl(n,p),d}(i,d,c,f);El(i,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==d&&6===d.tag?(a(i,d.sibling),(d=n(d,c)).return=i,i=d):(a(i,d),(d=Vc(c,i.mode,f)).return=i,i=d),l(i)):a(i,d)}}var Dl=Ol(!0),Al=Ol(!1),Pl=Ls(null),Ml=null,Ll=null,Il=null;function Fl(){Il=Ll=Ml=null}function Rl(e){var t=Pl.current;Is(Pl),e._currentValue=t}function $l(e,t,a){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function Bl(e,t){Ml=e,Il=Ll=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(Oi=!0),e.firstContext=null)}function zl(e){var t=e._currentValue;if(Il!==e)if(e={context:e,memoizedValue:t,next:null},null===Ll){if(null===Ml)throw Error(xe(308));Ll=e,Ml.dependencies={lanes:0,firstContext:e}}else Ll=Ll.next=e;return t}var Ul=null;function Hl(e){null===Ul?Ul=[e]:Ul.push(e)}function Wl(e,t,a,r){var n=t.interleaved;return null===n?(a.next=a,Hl(t)):(a.next=n.next,n.next=a),t.interleaved=a,Yl(e,r)}function Yl(e,t){e.lanes|=t;var a=e.alternate;for(null!==a&&(a.lanes|=t),a=e,e=e.return;null!==e;)e.childLanes|=t,null!==(a=e.alternate)&&(a.childLanes|=t),a=e,e=e.return;return 3===a.tag?a.stateNode:null}var ql=!1;function Vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xl(e,t,a){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Rd){var n=r.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),r.pending=t,Yl(e,a)}return null===(n=r.interleaved)?(t.next=t,Hl(r)):(t.next=n.next,n.next=t),r.interleaved=t,Yl(e,a)}function Ql(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&a)){var r=t.lanes;a|=r&=e.pendingLanes,t.lanes=a,Ta(e,a)}}function Jl(e,t){var a=e.updateQueue,r=e.alternate;if(null!==r&&a===(r=r.updateQueue)){var n=null,s=null;if(null!==(a=a.firstBaseUpdate)){do{var l={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};null===s?n=s=l:s=s.next=l,a=a.next}while(null!==a);null===s?n=s=t:s=s.next=t}else n=s=t;return a={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Zl(e,t,a,r){var n=e.updateQueue;ql=!1;var s=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var i=o,d=i.next;i.next=null,null===l?s=d:l.next=d,l=i;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===o?c.firstBaseUpdate=d:o.next=d,c.lastBaseUpdate=i)}if(null!==s){var u=n.baseState;for(l=0,c=d=i=null,o=s;;){var m=o.lane,h=o.eventTime;if((r&m)===m){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,p=o;switch(m=t,h=a,p.tag){case 1:if("function"==typeof(f=p.payload)){u=f.call(h,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(m="function"==typeof(f=p.payload)?f.call(h,u,m):f))break e;u=Ge({},u,m);break e;case 2:ql=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=n.effects)?n.effects=[o]:m.push(o))}else h={eventTime:h,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(d=c=h,i=u):c=c.next=h,l|=m;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(m=o).next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}if(null===c&&(i=u),n.baseState=i,n.firstBaseUpdate=d,n.lastBaseUpdate=c,null!==(t=n.shared.interleaved)){n=t;do{l|=n.lane,n=n.next}while(n!==t)}else null===s&&(n.shared.lanes=0);qd|=l,e.lanes=l,e.memoizedState=u}}function eo(e,t,a){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(null!==n){if(r.callback=null,r=a,"function"!=typeof n)throw Error(xe(191,n));n.call(r)}}}var to={},ao=Ls(to),ro=Ls(to),no=Ls(to);function so(e){if(e===to)throw Error(xe(174));return e}function lo(e,t){switch(Fs(no,t),Fs(ro,e),Fs(ao,to),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vt(null,"");break;default:t=vt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Is(ao),Fs(ao,t)}function oo(){Is(ao),Is(ro),Is(no)}function io(e){so(no.current);var t=so(ao.current),a=vt(t,e.type);t!==a&&(Fs(ro,e),Fs(ao,a))}function co(e){ro.current===e&&(Is(ao),Is(ro))}var uo=Ls(0);function mo(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ho=[];function fo(){for(var e=0;e<ho.length;e++)ho[e]._workInProgressVersionPrimary=null;ho.length=0}var po=De.ReactCurrentDispatcher,xo=De.ReactCurrentBatchConfig,go=0,bo=null,vo=null,yo=null,wo=!1,jo=!1,No=0,_o=0;function So(){throw Error(xe(321))}function ko(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!bn(e[a],t[a]))return!1;return!0}function Co(e,t,a,r,n,s){if(go=s,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,po.current=null===e||null===e.memoizedState?ci:ui,e=a(r,n),jo){s=0;do{if(jo=!1,No=0,25<=s)throw Error(xe(301));s+=1,yo=vo=null,t.updateQueue=null,po.current=mi,e=a(r,n)}while(jo)}if(po.current=di,t=null!==vo&&null!==vo.next,go=0,yo=vo=bo=null,wo=!1,t)throw Error(xe(300));return e}function Eo(){var e=0!==No;return No=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?bo.memoizedState=yo=e:yo=yo.next=e,yo}function Oo(){if(null===vo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===yo?bo.memoizedState:yo.next;if(null!==t)yo=t,vo=e;else{if(null===e)throw Error(xe(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===yo?bo.memoizedState=yo=e:yo=yo.next=e}return yo}function Do(e,t){return"function"==typeof t?t(e):t}function Ao(e){var t=Oo(),a=t.queue;if(null===a)throw Error(xe(311));a.lastRenderedReducer=e;var r=vo,n=r.baseQueue,s=a.pending;if(null!==s){if(null!==n){var l=n.next;n.next=s.next,s.next=l}r.baseQueue=n=s,a.pending=null}if(null!==n){s=n.next,r=r.baseState;var o=l=null,i=null,d=s;do{var c=d.lane;if((go&c)===c)null!==i&&(i=i.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var u={lane:c,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===i?(o=i=u,l=r):i=i.next=u,bo.lanes|=c,qd|=c}d=d.next}while(null!==d&&d!==s);null===i?l=r:i.next=o,bn(r,t.memoizedState)||(Oi=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=i,a.lastRenderedState=r}if(null!==(e=a.interleaved)){n=e;do{s=n.lane,bo.lanes|=s,qd|=s,n=n.next}while(n!==e)}else null===n&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function Po(e){var t=Oo(),a=t.queue;if(null===a)throw Error(xe(311));a.lastRenderedReducer=e;var r=a.dispatch,n=a.pending,s=t.memoizedState;if(null!==n){a.pending=null;var l=n=n.next;do{s=e(s,l.action),l=l.next}while(l!==n);bn(s,t.memoizedState)||(Oi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),a.lastRenderedState=s}return[s,r]}function Mo(){}function Lo(e,t){var a=bo,r=Oo(),n=t(),s=!bn(r.memoizedState,n);if(s&&(r.memoizedState=n,Oi=!0),r=r.queue,Vo(Ro.bind(null,a,r,e),[e]),r.getSnapshot!==t||s||null!==yo&&1&yo.memoizedState.tag){if(a.flags|=2048,Uo(9,Fo.bind(null,a,r,n,t),void 0,null),null===$d)throw Error(xe(349));30&go||Io(a,t,n)}return n}function Io(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=bo.updateQueue)?(t={lastEffect:null,stores:null},bo.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function Fo(e,t,a,r){t.value=a,t.getSnapshot=r,$o(t)&&Bo(e)}function Ro(e,t,a){return a((function(){$o(t)&&Bo(e)}))}function $o(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!bn(e,a)}catch(r){return!0}}function Bo(e){var t=Yl(e,1);null!==t&&mc(t,e,1,-1)}function zo(e){var t=To();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:e},t.queue=e,e=e.dispatch=si.bind(null,bo,e),[t.memoizedState,e]}function Uo(e,t,a,r){return e={tag:e,create:t,destroy:a,deps:r,next:null},null===(t=bo.updateQueue)?(t={lastEffect:null,stores:null},bo.updateQueue=t,t.lastEffect=e.next=e):null===(a=t.lastEffect)?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function Ho(){return Oo().memoizedState}function Wo(e,t,a,r){var n=To();bo.flags|=e,n.memoizedState=Uo(1|t,a,void 0,void 0===r?null:r)}function Yo(e,t,a,r){var n=Oo();r=void 0===r?null:r;var s=void 0;if(null!==vo){var l=vo.memoizedState;if(s=l.destroy,null!==r&&ko(r,l.deps))return void(n.memoizedState=Uo(t,a,s,r))}bo.flags|=e,n.memoizedState=Uo(1|t,a,s,r)}function qo(e,t){return Wo(8390656,8,e,t)}function Vo(e,t){return Yo(2048,8,e,t)}function Go(e,t){return Yo(4,2,e,t)}function Ko(e,t){return Yo(4,4,e,t)}function Xo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,a){return a=null!=a?a.concat([e]):null,Yo(4,4,Xo.bind(null,t,e),a)}function Jo(){}function Zo(e,t){var a=Oo();t=void 0===t?null:t;var r=a.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function ei(e,t){var a=Oo();t=void 0===t?null:t;var r=a.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),a.memoizedState=[e,t],e)}function ti(e,t,a){return 21&go?(bn(a,t)||(a=ka(),bo.lanes|=a,qd|=a,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Oi=!0),e.memoizedState=a)}function ai(e,t){var a=Oa;Oa=0!==a&&4>a?a:4,e(!0);var r=xo.transition;xo.transition={};try{e(!1),t()}finally{Oa=a,xo.transition=r}}function ri(){return Oo().memoizedState}function ni(e,t,a){var r=uc(e);a={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null},li(e)?oi(t,a):null!==(a=Wl(e,t,a,r))&&(mc(a,e,r,cc()),ii(a,t,r))}function si(e,t,a){var r=uc(e),n={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null};if(li(e))oi(t,n);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=s(l,a);if(n.hasEagerState=!0,n.eagerState=o,bn(o,l)){var i=t.interleaved;return null===i?(n.next=n,Hl(t)):(n.next=i.next,i.next=n),void(t.interleaved=n)}}catch(d){}null!==(a=Wl(e,t,n,r))&&(mc(a,e,r,n=cc()),ii(a,t,r))}}function li(e){var t=e.alternate;return e===bo||null!==t&&t===bo}function oi(e,t){jo=wo=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ii(e,t,a){if(4194240&a){var r=t.lanes;a|=r&=e.pendingLanes,t.lanes=a,Ta(e,a)}}var di={readContext:zl,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ci={readContext:zl,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:zl,useEffect:qo,useImperativeHandle:function(e,t,a){return a=null!=a?a.concat([e]):null,Wo(4194308,4,Xo.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wo(4,2,e,t)},useMemo:function(e,t){var a=To();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var r=To();return t=void 0!==a?a(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ni.bind(null,bo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:zo,useDebugValue:Jo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=zo(!1),t=e[0];return e=ai.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var r=bo,n=To();if(pl){if(void 0===a)throw Error(xe(407));a=a()}else{if(a=t(),null===$d)throw Error(xe(349));30&go||Io(r,t,a)}n.memoizedState=a;var s={value:a,getSnapshot:t};return n.queue=s,qo(Ro.bind(null,r,s,e),[e]),r.flags|=2048,Uo(9,Fo.bind(null,r,s,a,t),void 0,null),a},useId:function(){var e=To(),t=$d.identifierPrefix;if(pl){var a=il;t=":"+t+"R"+(a=(ol&~(1<<32-ga(ol)-1)).toString(32)+a),0<(a=No++)&&(t+="H"+a.toString(32)),t+=":"}else t=":"+t+"r"+(a=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ui={readContext:zl,useCallback:Zo,useContext:zl,useEffect:Vo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:ei,useReducer:Ao,useRef:Ho,useState:function(){return Ao(Do)},useDebugValue:Jo,useDeferredValue:function(e){return ti(Oo(),vo.memoizedState,e)},useTransition:function(){return[Ao(Do)[0],Oo().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Lo,useId:ri,unstable_isNewReconciler:!1},mi={readContext:zl,useCallback:Zo,useContext:zl,useEffect:Vo,useImperativeHandle:Qo,useInsertionEffect:Go,useLayoutEffect:Ko,useMemo:ei,useReducer:Po,useRef:Ho,useState:function(){return Po(Do)},useDebugValue:Jo,useDeferredValue:function(e){var t=Oo();return null===vo?t.memoizedState=e:ti(t,vo.memoizedState,e)},useTransition:function(){return[Po(Do)[0],Oo().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Lo,useId:ri,unstable_isNewReconciler:!1};function hi(e,t){if(e&&e.defaultProps){for(var a in t=Ge({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}return t}function fi(e,t,a,r){a=null==(a=a(r,t=e.memoizedState))?t:Ge({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var pi={isMounted:function(e){return!!(e=e._reactInternals)&&Zt(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var r=cc(),n=uc(e),s=Kl(r,n);s.payload=t,null!=a&&(s.callback=a),null!==(t=Xl(e,s,n))&&(mc(t,e,n,r),Ql(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=cc(),n=uc(e),s=Kl(r,n);s.tag=1,s.payload=t,null!=a&&(s.callback=a),null!==(t=Xl(e,s,n))&&(mc(t,e,n,r),Ql(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=cc(),r=uc(e),n=Kl(a,r);n.tag=2,null!=t&&(n.callback=t),null!==(t=Xl(e,n,r))&&(mc(t,e,r,a),Ql(t,e,r))}};function xi(e,t,a,r,n,s,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,l):!(t.prototype&&t.prototype.isPureReactComponent&&vn(a,r)&&vn(n,s))}function gi(e,t,a){var r=!1,n=Rs,s=t.contextType;return"object"==typeof s&&null!==s?s=zl(s):(n=Hs(t)?zs:$s.current,s=(r=null!=(r=t.contextTypes))?Us(e,n):Rs),t=new t(a,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function bi(e,t,a,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&pi.enqueueReplaceState(t,t.state,null)}function vi(e,t,a,r){var n=e.stateNode;n.props=a,n.state=e.memoizedState,n.refs={},Vl(e);var s=t.contextType;"object"==typeof s&&null!==s?n.context=zl(s):(s=Hs(t)?zs:$s.current,n.context=Us(e,s)),n.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(fi(e,t,s,a),n.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof n.getSnapshotBeforeUpdate||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||(t=n.state,"function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&pi.enqueueReplaceState(n,n.state,null),Zl(e,a,n,r),n.state=e.memoizedState),"function"==typeof n.componentDidMount&&(e.flags|=4194308)}function yi(e,t){try{var a="",r=t;do{a+=Je(r),r=r.return}while(r);var n=a}catch(s){n="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:n,digest:null}}function wi(e,t,a){return{value:e,source:null,stack:null!=a?a:null,digest:null!=t?t:null}}function ji(e,t){try{console.error(t.value)}catch(a){setTimeout((function(){throw a}))}}var Ni="function"==typeof WeakMap?WeakMap:Map;function _i(e,t,a){(a=Kl(-1,a)).tag=3,a.payload={element:null};var r=t.value;return a.callback=function(){ec||(ec=!0,tc=r),ji(0,t)},a}function Si(e,t,a){(a=Kl(-1,a)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var n=t.value;a.payload=function(){return r(n)},a.callback=function(){ji(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(a.callback=function(){ji(0,t),"function"!=typeof r&&(null===ac?ac=new Set([this]):ac.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),a}function ki(e,t,a){var r=e.pingCache;if(null===r){r=e.pingCache=new Ni;var n=new Set;r.set(t,n)}else void 0===(n=r.get(t))&&(n=new Set,r.set(t,n));n.has(a)||(n.add(a),e=Lc.bind(null,e,t,a),t.then(e,e))}function Ci(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ei(e,t,a,r,n){return 1&e.mode?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,1===a.tag&&(null===a.alternate?a.tag=17:((t=Kl(-1,1)).tag=2,Xl(a,t,1))),a.lanes|=1),e)}var Ti=De.ReactCurrentOwner,Oi=!1;function Di(e,t,a,r){t.child=null===e?Al(t,null,a,r):Dl(t,e.child,a,r)}function Ai(e,t,a,r,n){a=a.render;var s=t.ref;return Bl(t,n),r=Co(e,t,a,r,s,n),a=Eo(),null===e||Oi?(pl&&a&&ul(t),t.flags|=1,Di(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ed(e,t,n))}function Pi(e,t,a,r,n){if(null===e){var s=a.type;return"function"!=typeof s||Uc(s)||void 0!==s.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=Wc(a.type,null,r,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Mi(e,t,s,r,n))}if(s=e.child,!(e.lanes&n)){var l=s.memoizedProps;if((a=null!==(a=a.compare)?a:vn)(l,r)&&e.ref===t.ref)return ed(e,t,n)}return t.flags|=1,(e=Hc(s,r)).ref=t.ref,e.return=t,t.child=e}function Mi(e,t,a,r,n){if(null!==e){var s=e.memoizedProps;if(vn(s,r)&&e.ref===t.ref){if(Oi=!1,t.pendingProps=r=s,!(e.lanes&n))return t.lanes=e.lanes,ed(e,t,n);131072&e.flags&&(Oi=!0)}}return Fi(e,t,a,r,n)}function Li(e,t,a){var r=t.pendingProps,n=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&a))return e=null!==s?s.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fs(Hd,Ud),Ud|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:a,Fs(Hd,Ud),Ud|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fs(Hd,Ud),Ud|=a;else null!==s?(r=s.baseLanes|a,t.memoizedState=null):r=a,Fs(Hd,Ud),Ud|=r;return Di(e,t,n,a),t.child}function Ii(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Fi(e,t,a,r,n){var s=Hs(a)?zs:$s.current;return s=Us(t,s),Bl(t,n),a=Co(e,t,a,r,s,n),r=Eo(),null===e||Oi?(pl&&r&&ul(t),t.flags|=1,Di(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,ed(e,t,n))}function Ri(e,t,a,r,n){if(Hs(a)){var s=!0;Vs(t)}else s=!1;if(Bl(t,n),null===t.stateNode)Zi(e,t),gi(t,a,r),vi(t,a,r,n),r=!0;else if(null===e){var l=t.stateNode,o=t.memoizedProps;l.props=o;var i=l.context,d=a.contextType;d="object"==typeof d&&null!==d?zl(d):Us(t,d=Hs(a)?zs:$s.current);var c=a.getDerivedStateFromProps,u="function"==typeof c||"function"==typeof l.getSnapshotBeforeUpdate;u||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==r||i!==d)&&bi(t,l,r,d),ql=!1;var m=t.memoizedState;l.state=m,Zl(t,r,l,n),i=t.memoizedState,o!==r||m!==i||Bs.current||ql?("function"==typeof c&&(fi(t,a,c,r),i=t.memoizedState),(o=ql||xi(t,a,o,r,m,i,d))?(u||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=i),l.props=r,l.state=i,l.context=d,r=o):("function"==typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Gl(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:hi(t.type,o),l.props=d,u=t.pendingProps,m=l.context,i="object"==typeof(i=a.contextType)&&null!==i?zl(i):Us(t,i=Hs(a)?zs:$s.current);var h=a.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==u||m!==i)&&bi(t,l,r,i),ql=!1,m=t.memoizedState,l.state=m,Zl(t,r,l,n);var f=t.memoizedState;o!==u||m!==f||Bs.current||ql?("function"==typeof h&&(fi(t,a,h,r),f=t.memoizedState),(d=ql||xi(t,a,d,r,m,f,i)||!1)?(c||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(r,f,i),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,f,i)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),l.props=r,l.state=f,l.context=i,r=d):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return $i(e,t,a,r,s,n)}function $i(e,t,a,r,n,s){Ii(e,t);var l=!!(128&t.flags);if(!r&&!l)return n&&Gs(t,a,!1),ed(e,t,s);r=t.stateNode,Ti.current=t;var o=l&&"function"!=typeof a.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=Dl(t,e.child,null,s),t.child=Dl(t,null,o,s)):Di(e,t,o,s),t.memoizedState=r.state,n&&Gs(t,a,!0),t.child}function Bi(e){var t=e.stateNode;t.pendingContext?Ys(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ys(0,t.context,!1),lo(e,t.containerInfo)}function zi(e,t,a,r,n){return _l(),Sl(n),t.flags|=256,Di(e,t,a,r),t.child}var Ui,Hi,Wi,Yi={dehydrated:null,treeContext:null,retryLane:0};function qi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vi(e,t,a){var r,n=t.pendingProps,s=uo.current,l=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Fs(uo,1&s),null===e)return yl(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,l?(n=t.mode,l=t.child,o={mode:"hidden",children:o},1&n||null===l?l=qc(o,n,0,null):(l.childLanes=0,l.pendingProps=o),e=Yc(e,n,a,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=qi(a),t.memoizedState=Yi,e):Gi(t,o));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,a,r,n,s,l){if(a)return 256&t.flags?(t.flags&=-257,Ki(e,t,l,r=wi(Error(xe(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,n=t.mode,r=qc({mode:"visible",children:r.children},n,0,null),(s=Yc(s,n,l,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,1&t.mode&&Dl(t,e.child,null,l),t.child.memoizedState=qi(l),t.memoizedState=Yi,s);if(!(1&t.mode))return Ki(e,t,l,null);if("$!"===n.data){if(r=n.nextSibling&&n.nextSibling.dataset)var o=r.dgst;return r=o,Ki(e,t,l,r=wi(s=Error(xe(419)),r,void 0))}if(o=!!(l&e.childLanes),Oi||o){if(null!==(r=$d)){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=n&(r.suspendedLanes|l)?0:n)&&n!==s.retryLane&&(s.retryLane=n,Yl(e,n),mc(r,e,n,-1))}return Sc(),Ki(e,t,l,r=wi(Error(xe(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Fc.bind(null,e),n._reactRetry=t,null):(e=s.treeContext,fl=ys(n.nextSibling),hl=t,pl=!0,xl=null,null!==e&&(nl[sl++]=ol,nl[sl++]=il,nl[sl++]=ll,ol=e.id,il=e.overflow,ll=t),(t=Gi(t,r.children)).flags|=4096,t)}(e,t,o,n,r,s,a);if(l){l=n.fallback,o=t.mode,r=(s=e.child).sibling;var i={mode:"hidden",children:n.children};return 1&o||t.child===s?(n=Hc(s,i)).subtreeFlags=14680064&s.subtreeFlags:((n=t.child).childLanes=0,n.pendingProps=i,t.deletions=null),null!==r?l=Hc(r,l):(l=Yc(l,o,a,null)).flags|=2,l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,o=null===(o=e.child.memoizedState)?qi(a):{baseLanes:o.baseLanes|a,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~a,t.memoizedState=Yi,n}return e=(l=e.child).sibling,n=Hc(l,{mode:"visible",children:n.children}),!(1&t.mode)&&(n.lanes=a),n.return=t,n.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n}function Gi(e,t){return(t=qc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ki(e,t,a,r){return null!==r&&Sl(r),Dl(t,e.child,null,a),(e=Gi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Xi(e,t,a){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),$l(e.return,t,a)}function Qi(e,t,a,r,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=a,s.tailMode=n)}function Ji(e,t,a){var r=t.pendingProps,n=r.revealOrder,s=r.tail;if(Di(e,t,r.children,a),2&(r=uo.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xi(e,a,t);else if(19===e.tag)Xi(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fs(uo,r),1&t.mode)switch(n){case"forwards":for(a=t.child,n=null;null!==a;)null!==(e=a.alternate)&&null===mo(e)&&(n=a),a=a.sibling;null===(a=n)?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Qi(t,!1,n,a,s);break;case"backwards":for(a=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===mo(e)){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Qi(t,!0,a,null,s);break;case"together":Qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Zi(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ed(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),qd|=t.lanes,!(a&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(xe(153));if(null!==t.child){for(a=Hc(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Hc(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function td(e,t){if(!pl)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;null!==a;)null!==a.alternate&&(r=a),a=a.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ad(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,r=0;if(t)for(var n=e.child;null!==n;)a|=n.lanes|n.childLanes,r|=14680064&n.subtreeFlags,r|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)a|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function rd(e,t,a){var r=t.pendingProps;switch(ml(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ad(t),null;case 1:case 17:return Hs(t.type)&&Ws(),ad(t),null;case 3:return r=t.stateNode,oo(),Is(Bs),Is($s),fo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(jl(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==xl&&(xc(xl),xl=null))),ad(t),null;case 5:co(t);var n=so(no.current);if(a=t.type,null!==e&&null!=t.stateNode)Hi(e,t,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(xe(166));return ad(t),null}if(e=so(ao.current),jl(t)){r=t.stateNode,a=t.type;var s=t.memoizedProps;switch(r[Ns]=t,r[_s]=s,e=!!(1&t.mode),a){case"dialog":Xn("cancel",r),Xn("close",r);break;case"iframe":case"object":case"embed":Xn("load",r);break;case"video":case"audio":for(n=0;n<qn.length;n++)Xn(qn[n],r);break;case"source":Xn("error",r);break;case"img":case"image":case"link":Xn("error",r),Xn("load",r);break;case"details":Xn("toggle",r);break;case"input":ot(r,s),Xn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xn("invalid",r);break;case"textarea":pt(r,s),Xn("invalid",r)}for(var l in Tt(a,s),n=null,s)if(s.hasOwnProperty(l)){var o=s[l];"children"===l?"string"==typeof o?r.textContent!==o&&(!0!==s.suppressHydrationWarning&&ds(r.textContent,o,e),n=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(!0!==s.suppressHydrationWarning&&ds(r.textContent,o,e),n=["children",""+o]):be.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Xn("scroll",r)}switch(a){case"input":rt(r),ct(r,s,!0);break;case"textarea":rt(r),gt(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=cs)}r=n,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=bt(a)),"http://www.w3.org/1999/xhtml"===e?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(a,{is:r.is}):(e=l.createElement(a),"select"===a&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,a),e[Ns]=t,e[_s]=r,Ui(e,t),t.stateNode=e;e:{switch(l=Ot(a,r),a){case"dialog":Xn("cancel",e),Xn("close",e),n=r;break;case"iframe":case"object":case"embed":Xn("load",e),n=r;break;case"video":case"audio":for(n=0;n<qn.length;n++)Xn(qn[n],e);n=r;break;case"source":Xn("error",e),n=r;break;case"img":case"image":case"link":Xn("error",e),Xn("load",e),n=r;break;case"details":Xn("toggle",e),n=r;break;case"input":ot(e,r),n=lt(e,r),Xn("invalid",e);break;case"option":default:n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=Ge({},r,{value:void 0}),Xn("invalid",e);break;case"textarea":pt(e,r),n=ft(e,r),Xn("invalid",e)}for(s in Tt(a,n),o=n)if(o.hasOwnProperty(s)){var i=o[s];"style"===s?Ct(e,i):"dangerouslySetInnerHTML"===s?null!=(i=i?i.__html:void 0)&&jt(e,i):"children"===s?"string"==typeof i?("textarea"!==a||""!==i)&&Nt(e,i):"number"==typeof i&&Nt(e,""+i):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(be.hasOwnProperty(s)?null!=i&&"onScroll"===s&&Xn("scroll",e):null!=i&&Oe(e,s,i,l))}switch(a){case"input":rt(e),ct(e,r,!1);break;case"textarea":rt(e),gt(e);break;case"option":null!=r.value&&e.setAttribute("value",""+tt(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ht(e,!!r.multiple,s,!1):null!=r.defaultValue&&ht(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof n.onClick&&(e.onclick=cs)}switch(a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ad(t),null;case 6:if(e&&null!=t.stateNode)Wi(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(xe(166));if(a=so(no.current),so(ao.current),jl(t)){if(r=t.stateNode,a=t.memoizedProps,r[Ns]=t,(s=r.nodeValue!==a)&&null!==(e=hl))switch(e.tag){case 3:ds(r.nodeValue,a,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ds(r.nodeValue,a,!!(1&e.mode))}s&&(t.flags|=4)}else(r=(9===a.nodeType?a:a.ownerDocument).createTextNode(r))[Ns]=t,t.stateNode=r}return ad(t),null;case 13:if(Is(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(pl&&null!==fl&&1&t.mode&&!(128&t.flags))Nl(),_l(),t.flags|=98560,s=!1;else if(s=jl(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(xe(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(xe(317));s[Ns]=t}else _l(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ad(t),s=!1}else null!==xl&&(xc(xl),xl=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=a,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&uo.current?0===Wd&&(Wd=3):Sc())),null!==t.updateQueue&&(t.flags|=4),ad(t),null);case 4:return oo(),null===e&&Zn(t.stateNode.containerInfo),ad(t),null;case 10:return Rl(t.type._context),ad(t),null;case 19:if(Is(uo),null===(s=t.memoizedState))return ad(t),null;if(r=!!(128&t.flags),null===(l=s.rendering))if(r)td(s,!1);else{if(0!==Wd||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=mo(e))){for(t.flags|=128,td(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=a,a=t.child;null!==a;)e=r,(s=a).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Fs(uo,1&uo.current|2),t.child}e=e.sibling}null!==s.tail&&ia()>Jd&&(t.flags|=128,r=!0,td(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=mo(l))){if(t.flags|=128,r=!0,null!==(a=e.updateQueue)&&(t.updateQueue=a,t.flags|=4),td(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!pl)return ad(t),null}else 2*ia()-s.renderingStartTime>Jd&&1073741824!==a&&(t.flags|=128,r=!0,td(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(a=s.last)?a.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ia(),t.sibling=null,a=uo.current,Fs(uo,r?1&a|2:1&a),t):(ad(t),null);case 22:case 23:return wc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ud)&&(ad(t),6&t.subtreeFlags&&(t.flags|=8192)):ad(t),null;case 24:case 25:return null}throw Error(xe(156,t.tag))}function nd(e,t){switch(ml(t),t.tag){case 1:return Hs(t.type)&&Ws(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oo(),Is(Bs),Is($s),fo(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return co(t),null;case 13:if(Is(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(xe(340));_l()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Is(uo),null;case 4:return oo(),null;case 10:return Rl(t.type._context),null;case 22:case 23:return wc(),null;default:return null}}Ui=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Hi=function(e,t,a,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,so(ao.current);var s,l=null;switch(a){case"input":n=lt(e,n),r=lt(e,r),l=[];break;case"select":n=Ge({},n,{value:void 0}),r=Ge({},r,{value:void 0}),l=[];break;case"textarea":n=ft(e,n),r=ft(e,r),l=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=cs)}for(d in Tt(a,r),a=null,n)if(!r.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var o=n[d];for(s in o)o.hasOwnProperty(s)&&(a||(a={}),a[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(be.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var i=r[d];if(o=null!=n?n[d]:void 0,r.hasOwnProperty(d)&&i!==o&&(null!=i||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||i&&i.hasOwnProperty(s)||(a||(a={}),a[s]="");for(s in i)i.hasOwnProperty(s)&&o[s]!==i[s]&&(a||(a={}),a[s]=i[s])}else a||(l||(l=[]),l.push(d,a)),a=i;else"dangerouslySetInnerHTML"===d?(i=i?i.__html:void 0,o=o?o.__html:void 0,null!=i&&o!==i&&(l=l||[]).push(d,i)):"children"===d?"string"!=typeof i&&"number"!=typeof i||(l=l||[]).push(d,""+i):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(be.hasOwnProperty(d)?(null!=i&&"onScroll"===d&&Xn("scroll",e),l||o===i||(l=[])):(l=l||[]).push(d,i))}a&&(l=l||[]).push("style",a);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Wi=function(e,t,a,r){a!==r&&(t.flags|=4)};var sd=!1,ld=!1,od="function"==typeof WeakSet?WeakSet:Set,id=null;function dd(e,t){var a=e.ref;if(null!==a)if("function"==typeof a)try{a(null)}catch(r){Mc(e,t,r)}else a.current=null}function cd(e,t,a){try{a()}catch(r){Mc(e,t,r)}}var ud=!1;function md(e,t,a){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,void 0!==s&&cd(t,a,s)}n=n.next}while(n!==r)}}function hd(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var a=t=t.next;do{if((a.tag&e)===e){var r=a.create;a.destroy=r()}a=a.next}while(a!==t)}}function fd(e){var t=e.ref;if(null!==t){var a=e.stateNode;e.tag,e=a,"function"==typeof t?t(e):t.current=e}}function pd(e){var t=e.alternate;null!==t&&(e.alternate=null,pd(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[Ns],delete t[_s],delete t[ks],delete t[Cs],delete t[Es]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xd(e){return 5===e.tag||3===e.tag||4===e.tag}function gd(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bd(e,t,a){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===a.nodeType?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(8===a.nodeType?(t=a.parentNode).insertBefore(e,a):(t=a).appendChild(e),null!=(a=a._reactRootContainer)||null!==t.onclick||(t.onclick=cs));else if(4!==r&&null!==(e=e.child))for(bd(e,t,a),e=e.sibling;null!==e;)bd(e,t,a),e=e.sibling}function vd(e,t,a){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==r&&null!==(e=e.child))for(vd(e,t,a),e=e.sibling;null!==e;)vd(e,t,a),e=e.sibling}var yd=null,wd=!1;function jd(e,t,a){for(a=a.child;null!==a;)Nd(e,t,a),a=a.sibling}function Nd(e,t,a){if(xa&&"function"==typeof xa.onCommitFiberUnmount)try{xa.onCommitFiberUnmount(pa,a)}catch(o){}switch(a.tag){case 5:ld||dd(a,t);case 6:var r=yd,n=wd;yd=null,jd(e,t,a),wd=n,null!==(yd=r)&&(wd?(e=yd,a=a.stateNode,8===e.nodeType?e.parentNode.removeChild(a):e.removeChild(a)):yd.removeChild(a.stateNode));break;case 18:null!==yd&&(wd?(e=yd,a=a.stateNode,8===e.nodeType?vs(e.parentNode,a):1===e.nodeType&&vs(e,a),Za(e)):vs(yd,a.stateNode));break;case 4:r=yd,n=wd,yd=a.stateNode.containerInfo,wd=!0,jd(e,t,a),yd=r,wd=n;break;case 0:case 11:case 14:case 15:if(!ld&&null!==(r=a.updateQueue)&&null!==(r=r.lastEffect)){n=r=r.next;do{var s=n,l=s.destroy;s=s.tag,void 0!==l&&(2&s||4&s)&&cd(a,t,l),n=n.next}while(n!==r)}jd(e,t,a);break;case 1:if(!ld&&(dd(a,t),"function"==typeof(r=a.stateNode).componentWillUnmount))try{r.props=a.memoizedProps,r.state=a.memoizedState,r.componentWillUnmount()}catch(o){Mc(a,t,o)}jd(e,t,a);break;case 21:jd(e,t,a);break;case 22:1&a.mode?(ld=(r=ld)||null!==a.memoizedState,jd(e,t,a),ld=r):jd(e,t,a);break;default:jd(e,t,a)}}function _d(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new od),t.forEach((function(t){var r=Rc.bind(null,e,t);a.has(t)||(a.add(t),t.then(r,r))}))}}function Sd(e,t){var a=t.deletions;if(null!==a)for(var r=0;r<a.length;r++){var n=a[r];try{var s=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:yd=o.stateNode,wd=!1;break e;case 3:case 4:yd=o.stateNode.containerInfo,wd=!0;break e}o=o.return}if(null===yd)throw Error(xe(160));Nd(s,l,n),yd=null,wd=!1;var i=n.alternate;null!==i&&(i.return=null),n.return=null}catch(d){Mc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)kd(t,e),t=t.sibling}function kd(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Sd(t,e),Cd(e),4&r){try{md(3,e,e.return),hd(3,e)}catch(p){Mc(e,e.return,p)}try{md(5,e,e.return)}catch(p){Mc(e,e.return,p)}}break;case 1:Sd(t,e),Cd(e),512&r&&null!==a&&dd(a,a.return);break;case 5:if(Sd(t,e),Cd(e),512&r&&null!==a&&dd(a,a.return),32&e.flags){var n=e.stateNode;try{Nt(n,"")}catch(p){Mc(e,e.return,p)}}if(4&r&&null!=(n=e.stateNode)){var s=e.memoizedProps,l=null!==a?a.memoizedProps:s,o=e.type,i=e.updateQueue;if(e.updateQueue=null,null!==i)try{"input"===o&&"radio"===s.type&&null!=s.name&&it(n,s),Ot(o,l);var d=Ot(o,s);for(l=0;l<i.length;l+=2){var c=i[l],u=i[l+1];"style"===c?Ct(n,u):"dangerouslySetInnerHTML"===c?jt(n,u):"children"===c?Nt(n,u):Oe(n,c,u,d)}switch(o){case"input":dt(n,s);break;case"textarea":xt(n,s);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ht(n,!!s.multiple,h,!1):m!==!!s.multiple&&(null!=s.defaultValue?ht(n,!!s.multiple,s.defaultValue,!0):ht(n,!!s.multiple,s.multiple?[]:"",!1))}n[_s]=s}catch(p){Mc(e,e.return,p)}}break;case 6:if(Sd(t,e),Cd(e),4&r){if(null===e.stateNode)throw Error(xe(162));n=e.stateNode,s=e.memoizedProps;try{n.nodeValue=s}catch(p){Mc(e,e.return,p)}}break;case 3:if(Sd(t,e),Cd(e),4&r&&null!==a&&a.memoizedState.isDehydrated)try{Za(t.containerInfo)}catch(p){Mc(e,e.return,p)}break;case 4:default:Sd(t,e),Cd(e);break;case 13:Sd(t,e),Cd(e),8192&(n=e.child).flags&&(s=null!==n.memoizedState,n.stateNode.isHidden=s,!s||null!==n.alternate&&null!==n.alternate.memoizedState||(Qd=ia())),4&r&&_d(e);break;case 22:if(c=null!==a&&null!==a.memoizedState,1&e.mode?(ld=(d=ld)||c,Sd(t,e),ld=d):Sd(t,e),Cd(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!c&&1&e.mode)for(id=e,c=e.child;null!==c;){for(u=id=c;null!==id;){switch(h=(m=id).child,m.tag){case 0:case 11:case 14:case 15:md(4,m,m.return);break;case 1:dd(m,m.return);var f=m.stateNode;if("function"==typeof f.componentWillUnmount){r=m,a=m.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(p){Mc(r,a,p)}}break;case 5:dd(m,m.return);break;case 22:if(null!==m.memoizedState){Dd(u);continue}}null!==h?(h.return=m,id=h):Dd(u)}c=c.sibling}e:for(c=null,u=e;;){if(5===u.tag){if(null===c){c=u;try{n=u.stateNode,d?"function"==typeof(s=n.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=u.stateNode,l=null!=(i=u.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=kt("display",l))}catch(p){Mc(e,e.return,p)}}}else if(6===u.tag){if(null===c)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(p){Mc(e,e.return,p)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Sd(t,e),Cd(e),4&r&&_d(e);case 21:}}function Cd(e){var t=e.flags;if(2&t){try{e:{for(var a=e.return;null!==a;){if(xd(a)){var r=a;break e}a=a.return}throw Error(xe(160))}switch(r.tag){case 5:var n=r.stateNode;32&r.flags&&(Nt(n,""),r.flags&=-33),vd(e,gd(e),n);break;case 3:case 4:var s=r.stateNode.containerInfo;bd(e,gd(e),s);break;default:throw Error(xe(161))}}catch(l){Mc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ed(e,t,a){id=e,Td(e)}function Td(e,t,a){for(var r=!!(1&e.mode);null!==id;){var n=id,s=n.child;if(22===n.tag&&r){var l=null!==n.memoizedState||sd;if(!l){var o=n.alternate,i=null!==o&&null!==o.memoizedState||ld;o=sd;var d=ld;if(sd=l,(ld=i)&&!d)for(id=n;null!==id;)i=(l=id).child,22===l.tag&&null!==l.memoizedState?Ad(n):null!==i?(i.return=l,id=i):Ad(n);for(;null!==s;)id=s,Td(s),s=s.sibling;id=n,sd=o,ld=d}Od(e)}else 8772&n.subtreeFlags&&null!==s?(s.return=n,id=s):Od(e)}}function Od(e){for(;null!==id;){var t=id;if(8772&t.flags){var a=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:ld||hd(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ld)if(null===a)r.componentDidMount();else{var n=t.elementType===t.type?a.memoizedProps:hi(t.type,a.memoizedProps);r.componentDidUpdate(n,a.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&eo(t,s,r);break;case 3:var l=t.updateQueue;if(null!==l){if(a=null,null!==t.child)switch(t.child.tag){case 5:case 1:a=t.child.stateNode}eo(t,l,a)}break;case 5:var o=t.stateNode;if(null===a&&4&t.flags){a=o;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break;case"img":i.src&&(a.src=i.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var c=d.memoizedState;if(null!==c){var u=c.dehydrated;null!==u&&Za(u)}}}break;default:throw Error(xe(163))}ld||512&t.flags&&fd(t)}catch(m){Mc(t,t.return,m)}}if(t===e){id=null;break}if(null!==(a=t.sibling)){a.return=t.return,id=a;break}id=t.return}}function Dd(e){for(;null!==id;){var t=id;if(t===e){id=null;break}var a=t.sibling;if(null!==a){a.return=t.return,id=a;break}id=t.return}}function Ad(e){for(;null!==id;){var t=id;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{hd(4,t)}catch(i){Mc(t,a,i)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var n=t.return;try{r.componentDidMount()}catch(i){Mc(t,n,i)}}var s=t.return;try{fd(t)}catch(i){Mc(t,s,i)}break;case 5:var l=t.return;try{fd(t)}catch(i){Mc(t,l,i)}}}catch(i){Mc(t,t.return,i)}if(t===e){id=null;break}var o=t.sibling;if(null!==o){o.return=t.return,id=o;break}id=t.return}}var Pd,Md=Math.ceil,Ld=De.ReactCurrentDispatcher,Id=De.ReactCurrentOwner,Fd=De.ReactCurrentBatchConfig,Rd=0,$d=null,Bd=null,zd=0,Ud=0,Hd=Ls(0),Wd=0,Yd=null,qd=0,Vd=0,Gd=0,Kd=null,Xd=null,Qd=0,Jd=1/0,Zd=null,ec=!1,tc=null,ac=null,rc=!1,nc=null,sc=0,lc=0,oc=null,ic=-1,dc=0;function cc(){return 6&Rd?ia():-1!==ic?ic:ic=ia()}function uc(e){return 1&e.mode?2&Rd&&0!==zd?zd&-zd:null!==kl.transition?(0===dc&&(dc=ka()),dc):0!==(e=Oa)?e:e=void 0===(e=window.event)?16:or(e.type):1}function mc(e,t,a,r){if(50<lc)throw lc=0,oc=null,Error(xe(185));Ea(e,a,r),2&Rd&&e===$d||(e===$d&&(!(2&Rd)&&(Vd|=a),4===Wd&&gc(e,zd)),hc(e,r),1===a&&0===Rd&&!(1&t.mode)&&(Jd=ia()+500,Xs&&Zs()))}function hc(e,t){var a=e.callbackNode;!function(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-ga(s),o=1<<l,i=n[l];-1===i?o&a&&!(o&r)||(n[l]=_a(o,t)):i<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=Na(e,e===$d?zd:0);if(0===r)null!==a&&sa(a),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=a&&sa(a),1===t)0===e.tag?function(e){Xs=!0,Js(e)}(bc.bind(null,e)):Js(bc.bind(null,e)),gs((function(){!(6&Rd)&&Zs()})),a=null;else{switch(Da(r)){case 1:a=ca;break;case 4:a=ua;break;case 16:default:a=ma;break;case 536870912:a=fa}a=$c(a,fc.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function fc(e,t){if(ic=-1,dc=0,6&Rd)throw Error(xe(327));var a=e.callbackNode;if(Ac()&&e.callbackNode!==a)return null;var r=Na(e,e===$d?zd:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=kc(e,r);else{t=r;var n=Rd;Rd|=2;var s=_c();for($d===e&&zd===t||(Zd=null,Jd=ia()+500,jc(e,t));;)try{Ec();break}catch(o){Nc(e,o)}Fl(),Ld.current=s,Rd=n,null!==Bd?t=0:($d=null,zd=0,t=Wd)}if(0!==t){if(2===t&&0!==(n=Sa(e))&&(r=n,t=pc(e,n)),1===t)throw a=Yd,jc(e,0),gc(e,r),hc(e,ia()),a;if(6===t)gc(e,r);else{if(n=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var a=t.updateQueue;if(null!==a&&null!==(a=a.stores))for(var r=0;r<a.length;r++){var n=a[r],s=n.getSnapshot;n=n.value;try{if(!bn(s(),n))return!1}catch(l){return!1}}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)||(t=kc(e,r),2===t&&(s=Sa(e),0!==s&&(r=s,t=pc(e,s))),1!==t)))throw a=Yd,jc(e,0),gc(e,r),hc(e,ia()),a;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(xe(345));case 2:case 5:Dc(e,Xd,Zd);break;case 3:if(gc(e,r),(130023424&r)===r&&10<(t=Qd+500-ia())){if(0!==Na(e,0))break;if(((n=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=fs(Dc.bind(null,e,Xd,Zd),t);break}Dc(e,Xd,Zd);break;case 4:if(gc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,n=-1;0<r;){var l=31-ga(r);s=1<<l,(l=t[l])>n&&(n=l),r&=~s}if(r=n,10<(r=(120>(r=ia()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Md(r/1960))-r)){e.timeoutHandle=fs(Dc.bind(null,e,Xd,Zd),r);break}Dc(e,Xd,Zd);break;default:throw Error(xe(329))}}}return hc(e,ia()),e.callbackNode===a?fc.bind(null,e):null}function pc(e,t){var a=Kd;return e.current.memoizedState.isDehydrated&&(jc(e,t).flags|=256),2!==(e=kc(e,t))&&(t=Xd,Xd=a,null!==t&&xc(t)),e}function xc(e){null===Xd?Xd=e:Xd.push.apply(Xd,e)}function gc(e,t){for(t&=~Gd,t&=~Vd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-ga(t),r=1<<a;e[a]=-1,t&=~r}}function bc(e){if(6&Rd)throw Error(xe(327));Ac();var t=Na(e,0);if(!(1&t))return hc(e,ia()),null;var a=kc(e,t);if(0!==e.tag&&2===a){var r=Sa(e);0!==r&&(t=r,a=pc(e,r))}if(1===a)throw a=Yd,jc(e,0),gc(e,t),hc(e,ia()),a;if(6===a)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dc(e,Xd,Zd),hc(e,ia()),null}function vc(e,t){var a=Rd;Rd|=1;try{return e(t)}finally{0===(Rd=a)&&(Jd=ia()+500,Xs&&Zs())}}function yc(e){null!==nc&&0===nc.tag&&!(6&Rd)&&Ac();var t=Rd;Rd|=1;var a=Fd.transition,r=Oa;try{if(Fd.transition=null,Oa=1,e)return e()}finally{Oa=r,Fd.transition=a,!(6&(Rd=t))&&Zs()}}function wc(){Ud=Hd.current,Is(Hd)}function jc(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(-1!==a&&(e.timeoutHandle=-1,ps(a)),null!==Bd)for(a=Bd.return;null!==a;){var r=a;switch(ml(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Ws();break;case 3:oo(),Is(Bs),Is($s),fo();break;case 5:co(r);break;case 4:oo();break;case 13:case 19:Is(uo);break;case 10:Rl(r.type._context);break;case 22:case 23:wc()}a=a.return}if($d=e,Bd=e=Hc(e.current,null),zd=Ud=t,Wd=0,Yd=null,Gd=Vd=qd=0,Xd=Kd=null,null!==Ul){for(t=0;t<Ul.length;t++)if(null!==(r=(a=Ul[t]).interleaved)){a.interleaved=null;var n=r.next,s=a.pending;if(null!==s){var l=s.next;s.next=n,r.next=l}a.pending=r}Ul=null}return e}function Nc(e,t){for(;;){var a=Bd;try{if(Fl(),po.current=di,wo){for(var r=bo.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}wo=!1}if(go=0,yo=vo=bo=null,jo=!1,No=0,Id.current=null,null===a||null===a.return){Wd=1,Yd=t,Bd=null;break}e:{var s=e,l=a.return,o=a,i=t;if(t=zd,o.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){var d=i,c=o,u=c.tag;if(!(1&c.mode||0!==u&&11!==u&&15!==u)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Ci(l);if(null!==h){h.flags&=-257,Ei(h,l,o,0,t),1&h.mode&&ki(s,d,t),i=d;var f=(t=h).updateQueue;if(null===f){var p=new Set;p.add(i),t.updateQueue=p}else f.add(i);break e}if(!(1&t)){ki(s,d,t),Sc();break e}i=Error(xe(426))}else if(pl&&1&o.mode){var x=Ci(l);if(null!==x){!(65536&x.flags)&&(x.flags|=256),Ei(x,l,o,0,t),Sl(yi(i,o));break e}}s=i=yi(i,o),4!==Wd&&(Wd=2),null===Kd?Kd=[s]:Kd.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Jl(s,_i(0,i,t));break e;case 1:o=i;var g=s.type,b=s.stateNode;if(!(128&s.flags||"function"!=typeof g.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==ac&&ac.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Jl(s,Si(s,o,t));break e}}s=s.return}while(null!==s)}Oc(a)}catch(v){t=v,Bd===a&&null!==a&&(Bd=a=a.return);continue}break}}function _c(){var e=Ld.current;return Ld.current=di,null===e?di:e}function Sc(){0!==Wd&&3!==Wd&&2!==Wd||(Wd=4),null===$d||!(268435455&qd)&&!(268435455&Vd)||gc($d,zd)}function kc(e,t){var a=Rd;Rd|=2;var r=_c();for($d===e&&zd===t||(Zd=null,jc(e,t));;)try{Cc();break}catch(n){Nc(e,n)}if(Fl(),Rd=a,Ld.current=r,null!==Bd)throw Error(xe(261));return $d=null,zd=0,Wd}function Cc(){for(;null!==Bd;)Tc(Bd)}function Ec(){for(;null!==Bd&&!la();)Tc(Bd)}function Tc(e){var t=Pd(e.alternate,e,Ud);e.memoizedProps=e.pendingProps,null===t?Oc(e):Bd=t,Id.current=null}function Oc(e){var t=e;do{var a=t.alternate;if(e=t.return,32768&t.flags){if(null!==(a=nd(a,t)))return a.flags&=32767,void(Bd=a);if(null===e)return Wd=6,void(Bd=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(a=rd(a,t,Ud)))return void(Bd=a);if(null!==(t=t.sibling))return void(Bd=t);Bd=t=e}while(null!==t);0===Wd&&(Wd=5)}function Dc(e,t,a){var r=Oa,n=Fd.transition;try{Fd.transition=null,Oa=1,function(e,t,a,r){do{Ac()}while(null!==nc);if(6&Rd)throw Error(xe(327));a=e.finishedWork;var n=e.finishedLanes;if(null===a)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var s=a.lanes|a.childLanes;if(function(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<a;){var n=31-ga(a),s=1<<n;t[n]=0,r[n]=-1,e[n]=-1,a&=~s}}(e,s),e===$d&&(Bd=$d=null,zd=0),!(2064&a.subtreeFlags)&&!(2064&a.flags)||rc||(rc=!0,$c(ma,(function(){return Ac(),null}))),s=!!(15990&a.flags),15990&a.subtreeFlags||s){s=Fd.transition,Fd.transition=null;var l=Oa;Oa=1;var o=Rd;Rd|=4,Id.current=null,function(e,t){if(us=tr,_n(e=Nn())){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(r&&0!==r.rangeCount){a=r.anchorNode;var n=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{a.nodeType,s.nodeType}catch(y){a=null;break e}var l=0,o=-1,i=-1,d=0,c=0,u=e,m=null;t:for(;;){for(var h;u!==a||0!==n&&3!==u.nodeType||(o=l+n),u!==s||0!==r&&3!==u.nodeType||(i=l+r),3===u.nodeType&&(l+=u.nodeValue.length),null!==(h=u.firstChild);)m=u,u=h;for(;;){if(u===e)break t;if(m===a&&++d===n&&(o=l),m===s&&++c===r&&(i=l),null!==(h=u.nextSibling))break;m=(u=m).parentNode}u=h}a=-1===o||-1===i?null:{start:o,end:i}}else a=null}a=a||{start:0,end:0}}else a=null;for(ms={focusedElem:e,selectionRange:a},tr=!1,id=t;null!==id;)if(e=(t=id).child,1028&t.subtreeFlags&&null!==e)e.return=t,id=e;else for(;null!==id;){t=id;try{var f=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var p=f.memoizedProps,x=f.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?p:hi(t.type,p),x);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(xe(163))}}catch(y){Mc(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,id=e;break}id=t.return}f=ud,ud=!1}(e,a),kd(a,e),Sn(ms),tr=!!us,ms=us=null,e.current=a,Ed(a),oa(),Rd=o,Oa=l,Fd.transition=s}else e.current=a;if(rc&&(rc=!1,nc=e,sc=n),0===(s=e.pendingLanes)&&(ac=null),function(e){if(xa&&"function"==typeof xa.onCommitFiberRoot)try{xa.onCommitFiberRoot(pa,e,void 0,!(128&~e.current.flags))}catch(t){}}(a.stateNode),hc(e,ia()),null!==t)for(r=e.onRecoverableError,a=0;a<t.length;a++)n=t[a],r(n.value,{componentStack:n.stack,digest:n.digest});if(ec)throw ec=!1,e=tc,tc=null,e;!!(1&sc)&&0!==e.tag&&Ac(),1&(s=e.pendingLanes)?e===oc?lc++:(lc=0,oc=e):lc=0,Zs()}(e,t,a,r)}finally{Fd.transition=n,Oa=r}return null}function Ac(){if(null!==nc){var e=Da(sc),t=Fd.transition,a=Oa;try{if(Fd.transition=null,Oa=16>e?16:e,null===nc)var r=!1;else{if(e=nc,nc=null,sc=0,6&Rd)throw Error(xe(331));var n=Rd;for(Rd|=4,id=e.current;null!==id;){var s=id,l=s.child;if(16&id.flags){var o=s.deletions;if(null!==o){for(var i=0;i<o.length;i++){var d=o[i];for(id=d;null!==id;){var c=id;switch(c.tag){case 0:case 11:case 15:md(8,c,s)}var u=c.child;if(null!==u)u.return=c,id=u;else for(;null!==id;){var m=(c=id).sibling,h=c.return;if(pd(c),c===d){id=null;break}if(null!==m){m.return=h,id=m;break}id=h}}}var f=s.alternate;if(null!==f){var p=f.child;if(null!==p){f.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(null!==p)}}id=s}}if(2064&s.subtreeFlags&&null!==l)l.return=s,id=l;else e:for(;null!==id;){if(2048&(s=id).flags)switch(s.tag){case 0:case 11:case 15:md(9,s,s.return)}var g=s.sibling;if(null!==g){g.return=s.return,id=g;break e}id=s.return}}var b=e.current;for(id=b;null!==id;){var v=(l=id).child;if(2064&l.subtreeFlags&&null!==v)v.return=l,id=v;else e:for(l=b;null!==id;){if(2048&(o=id).flags)try{switch(o.tag){case 0:case 11:case 15:hd(9,o)}}catch(w){Mc(o,o.return,w)}if(o===l){id=null;break e}var y=o.sibling;if(null!==y){y.return=o.return,id=y;break e}id=o.return}}if(Rd=n,Zs(),xa&&"function"==typeof xa.onPostCommitFiberRoot)try{xa.onPostCommitFiberRoot(pa,e)}catch(w){}r=!0}return r}finally{Oa=a,Fd.transition=t}}return!1}function Pc(e,t,a){e=Xl(e,t=_i(0,t=yi(a,t),1),1),t=cc(),null!==e&&(Ea(e,1,t),hc(e,t))}function Mc(e,t,a){if(3===e.tag)Pc(e,e,a);else for(;null!==t;){if(3===t.tag){Pc(t,e,a);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ac||!ac.has(r))){t=Xl(t,e=Si(t,e=yi(a,e),1),1),e=cc(),null!==t&&(Ea(t,1,e),hc(t,e));break}}t=t.return}}function Lc(e,t,a){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&a,$d===e&&(zd&a)===a&&(4===Wd||3===Wd&&(130023424&zd)===zd&&500>ia()-Qd?jc(e,0):Gd|=a),hc(e,t)}function Ic(e,t){0===t&&(1&e.mode?(t=wa,!(130023424&(wa<<=1))&&(wa=4194304)):t=1);var a=cc();null!==(e=Yl(e,t))&&(Ea(e,t,a),hc(e,a))}function Fc(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),Ic(e,a)}function Rc(e,t){var a=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;null!==n&&(a=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(xe(314))}null!==r&&r.delete(t),Ic(e,a)}function $c(e,t){return na(e,t)}function Bc(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,a,r){return new Bc(e,t,a,r)}function Uc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hc(e,t){var a=e.alternate;return null===a?((a=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=14680064&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Wc(e,t,a,r,n,s){var l=2;if(r=e,"function"==typeof e)Uc(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case Me:return Yc(a.children,n,s,t);case Le:l=8,n|=8;break;case Ie:return(e=zc(12,a,t,2|n)).elementType=Ie,e.lanes=s,e;case Be:return(e=zc(13,a,t,n)).elementType=Be,e.lanes=s,e;case ze:return(e=zc(19,a,t,n)).elementType=ze,e.lanes=s,e;case We:return qc(a,n,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Fe:l=10;break e;case Re:l=9;break e;case $e:l=11;break e;case Ue:l=14;break e;case He:l=16,r=null;break e}throw Error(xe(130,null==e?e:typeof e,""))}return(t=zc(l,a,t,n)).elementType=e,t.type=r,t.lanes=s,t}function Yc(e,t,a,r){return(e=zc(7,e,r,t)).lanes=a,e}function qc(e,t,a,r){return(e=zc(22,e,r,t)).elementType=We,e.lanes=a,e.stateNode={isHidden:!1},e}function Vc(e,t,a){return(e=zc(6,e,null,t)).lanes=a,e}function Gc(e,t,a){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kc(e,t,a,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ca(0),this.expirationTimes=Ca(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ca(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Xc(e,t,a,r,n,s,l,o,i){return e=new Kc(e,t,a,o,i),1===t?(t=1,!0===s&&(t|=8)):t=0,s=zc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(s),e}function Qc(e){if(!e)return Rs;e:{if(Zt(e=e._reactInternals)!==e||1!==e.tag)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Hs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(xe(171))}if(1===e.tag){var a=e.type;if(Hs(a))return qs(e,a,t)}return t}function Jc(e,t,a,r,n,s,l,o,i){return(e=Xc(a,r,!0,e,0,s,0,o,i)).context=Qc(null),a=e.current,(s=Kl(r=cc(),n=uc(a))).callback=null!=t?t:null,Xl(a,s,n),e.current.lanes=n,Ea(e,n,r),hc(e,r),e}function Zc(e,t,a,r){var n=t.current,s=cc(),l=uc(n);return a=Qc(a),null===t.context?t.context=a:t.pendingContext=a,(t=Kl(s,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Xl(n,t,l))&&(mc(e,n,l,s),Ql(e,n,l)),l}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function au(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}Pd=function(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps||Bs.current)Oi=!0;else{if(!(e.lanes&a||128&t.flags))return Oi=!1,function(e,t,a){switch(t.tag){case 3:Bi(t),_l();break;case 5:io(t);break;case 1:Hs(t.type)&&Vs(t);break;case 4:lo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;Fs(Pl,r._currentValue),r._currentValue=n;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Fs(uo,1&uo.current),t.flags|=128,null):a&t.child.childLanes?Vi(e,t,a):(Fs(uo,1&uo.current),null!==(e=ed(e,t,a))?e.sibling:null);Fs(uo,1&uo.current);break;case 19:if(r=!!(a&t.childLanes),128&e.flags){if(r)return Ji(e,t,a);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Fs(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Li(e,t,a)}return ed(e,t,a)}(e,t,a);Oi=!!(131072&e.flags)}else Oi=!1,pl&&1048576&t.flags&&cl(t,rl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zi(e,t),e=t.pendingProps;var n=Us(t,$s.current);Bl(t,a),n=Co(null,t,r,e,n,a);var s=Eo();return t.flags|=1,"object"==typeof n&&null!==n&&"function"==typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Hs(r)?(s=!0,Vs(t)):s=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Vl(t),n.updater=pi,t.stateNode=n,n._reactInternals=t,vi(t,r,e,a),t=$i(null,t,r,!0,s,a)):(t.tag=0,pl&&s&&ul(t),Di(null,t,n,a),t=t.child),t;case 16:r=t.elementType;e:{switch(Zi(e,t),e=t.pendingProps,r=(n=r._init)(r._payload),t.type=r,n=t.tag=function(e){if("function"==typeof e)return Uc(e)?1:0;if(null!=e){if((e=e.$$typeof)===$e)return 11;if(e===Ue)return 14}return 2}(r),e=hi(r,e),n){case 0:t=Fi(null,t,r,e,a);break e;case 1:t=Ri(null,t,r,e,a);break e;case 11:t=Ai(null,t,r,e,a);break e;case 14:t=Pi(null,t,r,hi(r.type,e),a);break e}throw Error(xe(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,Fi(e,t,r,n=t.elementType===r?n:hi(r,n),a);case 1:return r=t.type,n=t.pendingProps,Ri(e,t,r,n=t.elementType===r?n:hi(r,n),a);case 3:e:{if(Bi(t),null===e)throw Error(xe(387));r=t.pendingProps,n=(s=t.memoizedState).element,Gl(e,t),Zl(t,r,null,a);var l=t.memoizedState;if(r=l.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=zi(e,t,r,a,n=yi(Error(xe(423)),t));break e}if(r!==n){t=zi(e,t,r,a,n=yi(Error(xe(424)),t));break e}for(fl=ys(t.stateNode.containerInfo.firstChild),hl=t,pl=!0,xl=null,a=Al(t,null,r,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(_l(),r===n){t=ed(e,t,a);break e}Di(e,t,r,a)}t=t.child}return t;case 5:return io(t),null===e&&yl(t),r=t.type,n=t.pendingProps,s=null!==e?e.memoizedProps:null,l=n.children,hs(r,n)?l=null:null!==s&&hs(r,s)&&(t.flags|=32),Ii(e,t),Di(e,t,l,a),t.child;case 6:return null===e&&yl(t),null;case 13:return Vi(e,t,a);case 4:return lo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Dl(t,null,r,a):Di(e,t,r,a),t.child;case 11:return r=t.type,n=t.pendingProps,Ai(e,t,r,n=t.elementType===r?n:hi(r,n),a);case 7:return Di(e,t,t.pendingProps,a),t.child;case 8:case 12:return Di(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,s=t.memoizedProps,l=n.value,Fs(Pl,r._currentValue),r._currentValue=l,null!==s)if(bn(s.value,l)){if(s.children===n.children&&!Bs.current){t=ed(e,t,a);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){l=s.child;for(var i=o.firstContext;null!==i;){if(i.context===r){if(1===s.tag){(i=Kl(-1,a&-a)).tag=2;var d=s.updateQueue;if(null!==d){var c=(d=d.shared).pending;null===c?i.next=i:(i.next=c.next,c.next=i),d.pending=i}}s.lanes|=a,null!==(i=s.alternate)&&(i.lanes|=a),$l(s.return,a,t),o.lanes|=a;break}i=i.next}}else if(10===s.tag)l=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(l=s.return))throw Error(xe(341));l.lanes|=a,null!==(o=l.alternate)&&(o.lanes|=a),$l(l,a,t),l=s.sibling}else l=s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}Di(e,t,n.children,a),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,Bl(t,a),r=r(n=zl(n)),t.flags|=1,Di(e,t,r,a),t.child;case 14:return n=hi(r=t.type,t.pendingProps),Pi(e,t,r,n=hi(r.type,n),a);case 15:return Mi(e,t,t.type,t.pendingProps,a);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:hi(r,n),Zi(e,t),t.tag=1,Hs(r)?(e=!0,Vs(t)):e=!1,Bl(t,a),gi(t,r,n),vi(t,r,n,a),$i(null,t,r,!0,e,a);case 19:return Ji(e,t,a);case 22:return Li(e,t,a)}throw Error(xe(156,t.tag))};var ru="function"==typeof reportError?reportError:function(e){console.error(e)};function nu(e){this._internalRoot=e}function su(e){this._internalRoot=e}function lu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ou(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function iu(){}function du(e,t,a,r,n){var s=a._reactRootContainer;if(s){var l=s;if("function"==typeof n){var o=n;n=function(){var e=eu(l);o.call(e)}}Zc(t,l,e,n)}else l=function(e,t,a,r,n){if(n){if("function"==typeof r){var s=r;r=function(){var e=eu(l);s.call(e)}}var l=Jc(t,r,e,0,null,!1,0,"",iu);return e._reactRootContainer=l,e[Ss]=l.current,Zn(8===e.nodeType?e.parentNode:e),yc(),l}for(;n=e.lastChild;)e.removeChild(n);if("function"==typeof r){var o=r;r=function(){var e=eu(i);o.call(e)}}var i=Xc(e,0,!1,null,0,!1,0,"",iu);return e._reactRootContainer=i,e[Ss]=i.current,Zn(8===e.nodeType?e.parentNode:e),yc((function(){Zc(t,i,a,r)})),i}(a,t,e,n,r);return eu(l)}su.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(xe(409));Zc(e,t,null,null)},su.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;yc((function(){Zc(null,e,null,null)})),t[Ss]=null}},su.prototype.unstable_scheduleHydration=function(e){if(e){var t=La();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Wa.length&&0!==t&&t<Wa[a].priority;a++);Wa.splice(a,0,e),0===a&&Ga(e)}},Aa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=ja(t.pendingLanes);0!==a&&(Ta(t,1|a),hc(t,ia()),!(6&Rd)&&(Jd=ia()+500,Zs()))}break;case 13:yc((function(){var t=Yl(e,1);if(null!==t){var a=cc();mc(t,e,1,a)}})),au(e,1)}},Pa=function(e){if(13===e.tag){var t=Yl(e,134217728);null!==t&&mc(t,e,134217728,cc()),au(e,134217728)}},Ma=function(e){if(13===e.tag){var t=uc(e),a=Yl(e,t);null!==a&&mc(a,e,t,cc()),au(e,t)}},La=function(){return Oa},Ia=function(e,t){var a=Oa;try{return Oa=e,t()}finally{Oa=a}},Pt=function(e,t,a){switch(t){case"input":if(dt(e,a),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var n=As(r);if(!n)throw Error(xe(90));nt(r),dt(r,n)}}}break;case"textarea":xt(e,a);break;case"select":null!=(t=a.value)&&ht(e,!!a.multiple,t,!1)}},$t=vc,Bt=yc;var cu={usingClientEntryPoint:!1,Events:[Os,Ds,As,Ft,Rt,vc]},uu={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:De.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=aa(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{pa=hu.inject(mu),xa=hu}catch(wt){}}ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,ce.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lu(t))throw Error(xe(200));return function(e,t,a){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Pe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},ce.createRoot=function(e,t){if(!lu(e))throw Error(xe(299));var a=!1,r="",n=ru;return null!=t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Xc(e,1,!1,null,0,a,0,r,n),e[Ss]=t.current,Zn(8===e.nodeType?e.parentNode:e),new nu(t)},ce.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(xe(188));throw e=Object.keys(e).join(","),Error(xe(268,e))}return e=null===(e=aa(t))?null:e.stateNode},ce.flushSync=function(e){return yc(e)},ce.hydrate=function(e,t,a){if(!ou(t))throw Error(xe(200));return du(null,e,t,!0,a)},ce.hydrateRoot=function(e,t,a){if(!lu(e))throw Error(xe(405));var r=null!=a&&a.hydratedSources||null,n=!1,s="",l=ru;if(null!=a&&(!0===a.unstable_strictMode&&(n=!0),void 0!==a.identifierPrefix&&(s=a.identifierPrefix),void 0!==a.onRecoverableError&&(l=a.onRecoverableError)),t=Jc(t,null,e,1,null!=a?a:null,n,0,s,l),e[Ss]=t.current,Zn(e),r)for(e=0;e<r.length;e++)n=(n=(a=r[e])._getVersion)(a._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[a,n]:t.mutableSourceEagerHydrationData.push(a,n);return new su(t)},ce.render=function(e,t,a){if(!ou(t))throw Error(xe(200));return du(null,e,t,!1,a)},ce.unmountComponentAtNode=function(e){if(!ou(e))throw Error(xe(40));return!!e._reactRootContainer&&(yc((function(){du(null,null,e,!1,(function(){e._reactRootContainer=null,e[Ss]=null}))})),!0)},ce.unstable_batchedUpdates=vc,ce.unstable_renderSubtreeIntoContainer=function(e,t,a,r){if(!ou(a))throw Error(xe(200));if(null==e||void 0===e._reactInternals)throw Error(xe(38));return du(e,t,a,!1,r)},ce.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),de.exports=ce;var fu=de.exports;const pu=n(fu);var xu,gu,bu=fu;
/**
     * @remix-run/router v1.16.1
     *
     * Copyright (c) Remix Software Inc.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     */
function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},vu.apply(this,arguments)}ie.createRoot=bu.createRoot,ie.hydrateRoot=bu.hydrateRoot,(gu=xu||(xu={})).Pop="POP",gu.Push="PUSH",gu.Replace="REPLACE";const yu="popstate";function wu(e){return void 0===e&&(e={}),function(e,t,a,r){void 0===r&&(r={});let{window:n=document.defaultView,v5Compat:s=!1}=r,l=n.history,o=xu.Pop,i=null,d=c();function c(){return(l.state||{idx:null}).idx}function u(){o=xu.Pop;let e=c(),t=null==e?null:e-d;d=e,i&&i({action:o,location:p.location,delta:t})}function m(e,t){o=xu.Push;let a=Su(p.location,e,t);d=c()+1;let r=_u(a,d),u=p.createHref(a);try{l.pushState(r,"",u)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;n.location.assign(u)}s&&i&&i({action:o,location:p.location,delta:1})}function h(e,t){o=xu.Replace;let a=Su(p.location,e,t);d=c();let r=_u(a,d),n=p.createHref(a);l.replaceState(r,"",n),s&&i&&i({action:o,location:p.location,delta:0})}function f(e){let t="null"!==n.location.origin?n.location.origin:n.location.href,a="string"==typeof e?e:ku(e);return a=a.replace(/ $/,"%20"),ju(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}null==d&&(d=0,l.replaceState(vu({},l.state,{idx:d}),""));let p={get action(){return o},get location(){return e(n,l)},listen(e){if(i)throw new Error("A history only accepts one active listener");return n.addEventListener(yu,u),i=e,()=>{n.removeEventListener(yu,u),i=null}},createHref:e=>t(n,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:m,replace:h,go:e=>l.go(e)};return p}((function(e,t){let{pathname:a,search:r,hash:n}=e.location;return Su("",{pathname:a,search:r,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:ku(t)}),0,e)}function ju(e,t){if(!1===e||null==e)throw new Error(t)}function Nu(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(a){}}}function _u(e,t){return{usr:e.state,key:e.key,idx:t}}function Su(e,t,a,r){return void 0===a&&(a=null),vu({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Cu(t):t,{state:a,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function ku(e){let{pathname:t="/",search:a="",hash:r=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Cu(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Eu,Tu;function Ou(e,t,a){void 0===a&&(a="/");let r=$u(("string"==typeof t?Cu(t):t).pathname||"/",a);if(null==r)return null;let n=Du(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every(((e,a)=>e===t[a]));return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(n);let s=null;for(let l=0;null==s&&l<n.length;++l){let e=Ru(r);s=Iu(n[l],e)}return s}function Du(e,t,a,r){void 0===t&&(t=[]),void 0===a&&(a=[]),void 0===r&&(r="");let n=(e,n,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};l.relativePath.startsWith("/")&&(ju(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(r.length));let o=Hu([r,l.relativePath]),i=a.concat(l);e.children&&e.children.length>0&&(ju(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),Du(e.children,t,i,o)),(null!=e.path||e.index)&&t.push({path:o,score:Lu(o,e.index),routesMeta:i})};return e.forEach(((e,t)=>{var a;if(""!==e.path&&null!=(a=e.path)&&a.includes("?"))for(let r of Au(e.path))n(e,t,r);else n(e,t)})),t}function Au(e){let t=e.split("/");if(0===t.length)return[];let[a,...r]=t,n=a.endsWith("?"),s=a.replace(/\?$/,"");if(0===r.length)return n?[s,""]:[s];let l=Au(r.join("/")),o=[];return o.push(...l.map((e=>""===e?s:[s,e].join("/")))),n&&o.push(...l),o.map((t=>e.startsWith("/")&&""===t?"/":t))}(Tu=Eu||(Eu={})).data="data",Tu.deferred="deferred",Tu.redirect="redirect",Tu.error="error";const Pu=/^:[\w-]+$/,Mu=e=>"*"===e;function Lu(e,t){let a=e.split("/"),r=a.length;return a.some(Mu)&&(r+=-2),t&&(r+=2),a.filter((e=>!Mu(e))).reduce(((e,t)=>e+(Pu.test(t)?3:""===t?1:10)),r)}function Iu(e,t){let{routesMeta:a}=e,r={},n="/",s=[];for(let l=0;l<a.length;++l){let e=a[l],o=l===a.length-1,i="/"===n?t:t.slice(n.length)||"/",d=Fu({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},i);if(!d)return null;Object.assign(r,d.params);let c=e.route;s.push({params:r,pathname:Hu([n,d.pathname]),pathnameBase:Wu(Hu([n,d.pathnameBase])),route:c}),"/"!==d.pathnameBase&&(n=Hu([n,d.pathnameBase]))}return s}function Fu(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=function(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!0),Nu("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,a)=>(r.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let s=new RegExp(n,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),n=t.match(a);if(!n)return null;let s=n[0],l=s.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce(((e,t,a)=>{let{paramName:r,isOptional:n}=t;if("*"===r){let e=o[a]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const i=o[a];return e[r]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function Ru(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return Nu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function $u(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&"/"!==r?null:e.slice(a)||"/"}function Bu(e,t,a,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+a+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function zu(e,t){let a=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?a.map(((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)):a.map((e=>e.pathnameBase))}function Uu(e,t,a,r){let n;void 0===r&&(r=!1),"string"==typeof e?n=Cu(e):(n=vu({},e),ju(!n.pathname||!n.pathname.includes("?"),Bu("?","pathname","search",n)),ju(!n.pathname||!n.pathname.includes("#"),Bu("#","pathname","hash",n)),ju(!n.search||!n.search.includes("#"),Bu("#","search","hash",n)));let s,l=""===e||""===n.pathname,o=l?"/":n.pathname;if(null==o)s=a;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}s=e>=0?t[e]:"/"}let i=function(e,t){void 0===t&&(t="/");let{pathname:a,search:r="",hash:n=""}="string"==typeof e?Cu(e):e,s=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)})),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:s,search:Yu(r),hash:qu(n)}}(n,s),d=o&&"/"!==o&&o.endsWith("/"),c=(l||"."===o)&&a.endsWith("/");return i.pathname.endsWith("/")||!d&&!c||(i.pathname+="/"),i}const Hu=e=>e.join("/").replace(/\/\/+/g,"/"),Wu=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yu=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",qu=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",Vu=["post","put","patch","delete"];new Set(Vu);const Gu=["get",...Vu];
/**
     * React Router v6.23.1
     *
     * Copyright (c) Remix Software Inc.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     */
function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ku.apply(this,arguments)}new Set(Gu);const Xu=Q.createContext(null),Qu=Q.createContext(null),Ju=Q.createContext(null),Zu=Q.createContext(null),em=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),tm=Q.createContext(null);function am(){return null!=Q.useContext(Zu)}function rm(){return am()||ju(!1),Q.useContext(Zu).location}function nm(e){Q.useContext(Ju).static||Q.useLayoutEffect(e)}function sm(){let{isDataRoute:e}=Q.useContext(em);return e?function(){let{router:e}=function(){let e=Q.useContext(Xu);return e||ju(!1),e}(fm.UseNavigateStable),t=xm(pm.UseNavigateStable),a=Q.useRef(!1);return nm((()=>{a.current=!0})),Q.useCallback((function(r,n){void 0===n&&(n={}),a.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Ku({fromRouteId:t},n)))}),[e,t])}():function(){am()||ju(!1);let e=Q.useContext(Xu),{basename:t,future:a,navigator:r}=Q.useContext(Ju),{matches:n}=Q.useContext(em),{pathname:s}=rm(),l=JSON.stringify(zu(n,a.v7_relativeSplatPath)),o=Q.useRef(!1);return nm((()=>{o.current=!0})),Q.useCallback((function(a,n){if(void 0===n&&(n={}),!o.current)return;if("number"==typeof a)return void r.go(a);let i=Uu(a,JSON.parse(l),s,"path"===n.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:Hu([t,i.pathname])),(n.replace?r.replace:r.push)(i,n.state,n)}),[t,r,l,s,e])}()}const lm=Q.createContext(null);function om(){let{matches:e}=Q.useContext(em),t=e[e.length-1];return t?t.params:{}}function im(e,t){let{relative:a}=void 0===t?{}:t,{future:r}=Q.useContext(Ju),{matches:n}=Q.useContext(em),{pathname:s}=rm(),l=JSON.stringify(zu(n,r.v7_relativeSplatPath));return Q.useMemo((()=>Uu(e,JSON.parse(l),s,"path"===a)),[e,l,s,a])}function dm(e,t){return function(e,t,a,r){am()||ju(!1);let{navigator:n}=Q.useContext(Ju),{matches:s}=Q.useContext(em),l=s[s.length-1],o=l?l.params:{};!l||l.pathname;let i=l?l.pathnameBase:"/";l&&l.route;let d,c=rm();if(t){var u;let e="string"==typeof t?Cu(t):t;"/"===i||(null==(u=e.pathname)?void 0:u.startsWith(i))||ju(!1),d=e}else d=c;let m=d.pathname||"/",h=m;if("/"!==i){let e=i.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=Ou(e,{pathname:h}),p=function(e,t,a,r){var n,s;if(void 0===t&&(t=[]),void 0===a&&(a=null),void 0===r&&(r=null),null==e){if(null==(s=a)||!s.errors)return null;e=a.matches}let l=e,o=null==(n=a)?void 0:n.errors;if(null!=o){let e=l.findIndex((e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id])));e>=0||ju(!1),l=l.slice(0,Math.min(l.length,e+1))}let i=!1,d=-1;if(a&&r&&r.v7_partialHydration)for(let c=0;c<l.length;c++){let e=l[c];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=c),e.route.id){let{loaderData:t,errors:r}=a,n=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||n){i=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight(((e,r,n)=>{let s,c=!1,u=null,m=null;a&&(s=o&&r.route.id?o[r.route.id]:void 0,u=r.route.errorElement||um,i&&(d<0&&0===n?(c=!0,m=null):d===n&&(c=!0,m=r.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,n+1)),f=()=>{let t;return t=s?u:c?m:r.route.Component?Q.createElement(r.route.Component,null):r.route.element?r.route.element:e,Q.createElement(hm,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=a},children:t})};return a&&(r.route.ErrorBoundary||r.route.errorElement||0===n)?Q.createElement(mm,{location:a.location,revalidation:a.revalidation,component:u,error:s,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()}),null)}(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Hu([i,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?i:Hu([i,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,a,r);return t&&p?Q.createElement(Zu.Provider,{value:{location:Ku({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xu.Pop}},p):p}(e,t)}function cm(){let e=function(){var e;let t=Q.useContext(tm),a=function(){let e=Q.useContext(Qu);return e||ju(!1),e}(pm.UseRouteError),r=xm(pm.UseRouteError);return void 0!==t?t:null==(e=a.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),a?Q.createElement("pre",{style:r},a):null,null)}const um=Q.createElement(cm,null);class mm extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?Q.createElement(em.Provider,{value:this.props.routeContext},Q.createElement(tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hm(e){let{routeContext:t,match:a,children:r}=e,n=Q.useContext(Xu);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),Q.createElement(em.Provider,{value:t},r)}var fm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fm||{}),pm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pm||{});function xm(e){let t=function(){let e=Q.useContext(em);return e||ju(!1),e}(),a=t.matches[t.matches.length-1];return a.route.id||ju(!1),a.route.id}function gm(e){let{to:t,replace:a,state:r,relative:n}=e;am()||ju(!1);let{future:s,static:l}=Q.useContext(Ju),{matches:o}=Q.useContext(em),{pathname:i}=rm(),d=sm(),c=Uu(t,zu(o,s.v7_relativeSplatPath),i,"path"===n),u=JSON.stringify(c);return Q.useEffect((()=>d(JSON.parse(u),{replace:a,state:r,relative:n})),[d,u,n,a,r]),null}function bm(e){return function(e){let t=Q.useContext(em).outlet;return t?Q.createElement(lm.Provider,{value:e},t):t}(e.context)}function vm(e){ju(!1)}function ym(e){let{basename:t="/",children:a=null,location:r,navigationType:n=xu.Pop,navigator:s,static:l=!1,future:o}=e;am()&&ju(!1);let i=t.replace(/^\/*/,"/"),d=Q.useMemo((()=>({basename:i,navigator:s,static:l,future:Ku({v7_relativeSplatPath:!1},o)})),[i,o,s,l]);"string"==typeof r&&(r=Cu(r));let{pathname:c="/",search:u="",hash:m="",state:h=null,key:f="default"}=r,p=Q.useMemo((()=>{let e=$u(c,i);return null==e?null:{location:{pathname:e,search:u,hash:m,state:h,key:f},navigationType:n}}),[i,c,u,m,h,f,n]);return null==p?null:Q.createElement(Ju.Provider,{value:d},Q.createElement(Zu.Provider,{children:a,value:p}))}function wm(e){let{children:t,location:a}=e;return dm(jm(t),a)}function jm(e,t){void 0===t&&(t=[]);let a=[];return Q.Children.forEach(e,((e,r)=>{if(!Q.isValidElement(e))return;let n=[...t,r];if(e.type===Q.Fragment)return void a.push.apply(a,jm(e.props.children,n));e.type!==vm&&ju(!1),e.props.index&&e.props.children&&ju(!1);let s={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=jm(e.props.children,n)),a.push(s)})),a}
/**
     * React Router DOM v6.23.1
     *
     * Copyright (c) Remix Software Inc.
     *
     * This source code is licensed under the MIT license found in the
     * LICENSE.md file in the root directory of this source tree.
     *
     * @license MIT
     */function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Nm.apply(this,arguments)}new Promise((()=>{}));const _m=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(mMe){}const Sm=Z.startTransition;function km(e){let{basename:t,children:a,future:r,window:n}=e,s=Q.useRef();null==s.current&&(s.current=wu({window:n,v5Compat:!0}));let l=s.current,[o,i]=Q.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},c=Q.useCallback((e=>{d&&Sm?Sm((()=>i(e))):i(e)}),[i,d]);return Q.useLayoutEffect((()=>l.listen(c)),[l,c]),Q.createElement(ym,{basename:t,children:a,location:o.location,navigationType:o.action,navigator:l,future:r})}const Cm="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Em=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tm=Q.forwardRef((function(e,t){let a,{onClick:r,relative:n,reloadDocument:s,replace:l,state:o,target:i,to:d,preventScrollReset:c,unstable_viewTransition:u}=e,m=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,_m),{basename:h}=Q.useContext(Ju),f=!1;if("string"==typeof d&&Em.test(d)&&(a=d,Cm))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),a=$u(t.pathname,h);t.origin===e.origin&&null!=a?d=a+t.search+t.hash:f=!0}catch(mMe){}let p=function(e,t){let{relative:a}=void 0===t?{}:t;am()||ju(!1);let{basename:r,navigator:n}=Q.useContext(Ju),{hash:s,pathname:l,search:o}=im(e,{relative:a}),i=l;return"/"!==r&&(i="/"===l?r:Hu([r,l])),n.createHref({pathname:i,search:o,hash:s})}(d,{relative:n}),x=function(e,t){let{target:a,replace:r,state:n,preventScrollReset:s,relative:l,unstable_viewTransition:o}=void 0===t?{}:t,i=sm(),d=rm(),c=im(e,{relative:l});return Q.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,a)){t.preventDefault();let a=void 0!==r?r:ku(d)===ku(c);i(e,{replace:a,state:n,preventScrollReset:s,relative:l,unstable_viewTransition:o})}}),[d,i,c,r,n,a,e,s,l,o])}(d,{replace:l,state:o,target:i,preventScrollReset:c,relative:n,unstable_viewTransition:u});return Q.createElement("a",Nm({},m,{href:a||p,onClick:f||s?r:function(e){r&&r(e),e.defaultPrevented||x(e)},ref:t,target:i}))}));var Om,Dm,Am,Pm;(Dm=Om||(Om={})).UseScrollRestoration="useScrollRestoration",Dm.UseSubmit="useSubmit",Dm.UseSubmitFetcher="useSubmitFetcher",Dm.UseFetcher="useFetcher",Dm.useViewTransitionState="useViewTransitionState",(Pm=Am||(Am={})).UseFetcher="useFetcher",Pm.UseFetchers="useFetchers",Pm.UseScrollRestoration="useScrollRestoration";var Mm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lm=J.createContext&&J.createContext(Mm),Im=["attr","size","title"];function Fm(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Rm.apply(this,arguments)}function $m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Bm(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$m(Object(a),!0).forEach((function(t){zm(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function zm(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Um(e){return e&&e.map(((e,t)=>J.createElement(e.tag,Bm({key:t},e.attr),Um(e.child))))}function Hm(e){return t=>J.createElement(Wm,Rm({attr:Bm({},e.attr)},t),Um(e.child))}function Wm(e){var t=t=>{var a,{attr:r,size:n,title:s}=e,l=Fm(e,Im),o=n||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),J.createElement("svg",Rm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:a,style:Bm(Bm({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&J.createElement("title",null,s),e.children)};return void 0!==Lm?J.createElement(Lm.Consumer,null,(e=>t(e))):t(Mm)}function Ym(e){return Hm({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"},child:[]}]})(e)}function qm(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"},child:[]}]})(e)}function Vm(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Gm(e){return Hm({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function Km(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function Xm(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Qm(e){return Hm({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Jm(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"},child:[]}]})(e)}function Zm(e){return Hm({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function eh(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function th(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(e)}function ah(e){return Hm({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function rh(e){return Hm({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function nh(e){return Hm({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M148 288h-40c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3 0 6-2.7 6-6z"},child:[]}]})(e)}function sh(e){return Hm({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.8536 2.85355C13.0488 2.65829 13.0488 2.34171 12.8536 2.14645C12.6583 1.95118 12.3417 1.95118 12.1464 2.14645L7.5 6.79289L2.85355 2.14645C2.65829 1.95118 2.34171 1.95118 2.14645 2.14645C1.95118 2.34171 1.95118 2.65829 2.14645 2.85355L6.79289 7.5L2.14645 12.1464C1.95118 12.3417 1.95118 12.6583 2.14645 12.8536C2.34171 13.0488 2.65829 13.0488 2.85355 12.8536L7.5 8.20711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.20711 7.5L12.8536 2.85355Z",fill:"currentColor"},child:[]}]})(e)}function lh(e){return Hm({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(e)}function oh(e){return Hm({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 3C1.22386 3 1 3.22386 1 3.5C1 3.77614 1.22386 4 1.5 4H13.5C13.7761 4 14 3.77614 14 3.5C14 3.22386 13.7761 3 13.5 3H1.5ZM1 7.5C1 7.22386 1.22386 7 1.5 7H13.5C13.7761 7 14 7.22386 14 7.5C14 7.77614 13.7761 8 13.5 8H1.5C1.22386 8 1 7.77614 1 7.5ZM1 11.5C1 11.2239 1.22386 11 1.5 11H13.5C13.7761 11 14 11.2239 14 11.5C14 11.7761 13.7761 12 13.5 12H1.5C1.22386 12 1 11.7761 1 11.5Z",fill:"currentColor"},child:[]}]})(e)}function ih(e,t){return function(){return e.apply(t,arguments)}}const{toString:dh}=Object.prototype,{getPrototypeOf:ch}=Object,uh=(e=>t=>{const a=dh.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),mh=e=>(e=e.toLowerCase(),t=>uh(t)===e),hh=e=>t=>typeof t===e,{isArray:fh}=Array,ph=hh("undefined"),xh=mh("ArrayBuffer"),gh=hh("string"),bh=hh("function"),vh=hh("number"),yh=e=>null!==e&&"object"==typeof e,wh=e=>{if("object"!==uh(e))return!1;const t=ch(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},jh=mh("Date"),Nh=mh("File"),_h=mh("Blob"),Sh=mh("FileList"),kh=mh("URLSearchParams");function Ch(e,t,{allOwnKeys:a=!1}={}){if(null==e)return;let r,n;if("object"!=typeof e&&(e=[e]),fh(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let l;for(r=0;r<s;r++)l=n[r],t.call(null,e[l],l,e)}}function Eh(e,t){t=t.toLowerCase();const a=Object.keys(e);let r,n=a.length;for(;n-- >0;)if(r=a[n],t===r.toLowerCase())return r;return null}const Th="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Oh=e=>!ph(e)&&e!==Th,Dh=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&ch(Uint8Array)),Ah=mh("HTMLFormElement"),Ph=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),Mh=mh("RegExp"),Lh=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),r={};Ch(a,((a,n)=>{let s;!1!==(s=t(a,n,e))&&(r[n]=s||a)})),Object.defineProperties(e,r)},Ih="abcdefghijklmnopqrstuvwxyz",Fh="0123456789",Rh={DIGIT:Fh,ALPHA:Ih,ALPHA_DIGIT:Ih+Ih.toUpperCase()+Fh},$h=mh("AsyncFunction"),Bh={isArray:fh,isArrayBuffer:xh,isBuffer:function(e){return null!==e&&!ph(e)&&null!==e.constructor&&!ph(e.constructor)&&bh(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||bh(e.append)&&("formdata"===(t=uh(e))||"object"===t&&bh(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&xh(e.buffer),t},isString:gh,isNumber:vh,isBoolean:e=>!0===e||!1===e,isObject:yh,isPlainObject:wh,isUndefined:ph,isDate:jh,isFile:Nh,isBlob:_h,isRegExp:Mh,isFunction:bh,isStream:e=>yh(e)&&bh(e.pipe),isURLSearchParams:kh,isTypedArray:Dh,isFileList:Sh,forEach:Ch,merge:function e(){const{caseless:t}=Oh(this)&&this||{},a={},r=(r,n)=>{const s=t&&Eh(a,n)||n;wh(a[s])&&wh(r)?a[s]=e(a[s],r):wh(r)?a[s]=e({},r):fh(r)?a[s]=r.slice():a[s]=r};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Ch(arguments[n],r);return a},extend:(e,t,a,{allOwnKeys:r}={})=>(Ch(t,((t,r)=>{a&&bh(t)?e[r]=ih(t,a):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,r)=>{let n,s,l;const o={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),s=n.length;s-- >0;)l=n[s],r&&!r(l,e,t)||o[l]||(t[l]=e[l],o[l]=!0);e=!1!==a&&ch(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:uh,kindOfTest:mh,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const r=e.indexOf(t,a);return-1!==r&&r===a},toArray:e=>{if(!e)return null;if(fh(e))return e;let t=e.length;if(!vh(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=a.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const r=[];for(;null!==(a=e.exec(t));)r.push(a);return r},isHTMLForm:Ah,hasOwnProperty:Ph,hasOwnProp:Ph,reduceDescriptors:Lh,freezeMethods:e=>{Lh(e,((t,a)=>{if(bh(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const r=e[a];bh(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))}))},toObjectSet:(e,t)=>{const a={},r=e=>{e.forEach((e=>{a[e]=!0}))};return fh(e)?r(e):r(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,a){return t.toUpperCase()+a})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:Eh,global:Th,isContextDefined:Oh,ALPHABET:Rh,generateString:(e=16,t=Rh.ALPHA_DIGIT)=>{let a="";const{length:r}=t;for(;e--;)a+=t[Math.random()*r|0];return a},isSpecCompliantForm:function(e){return!!(e&&bh(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),a=(e,r)=>{if(yh(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const n=fh(e)?[]:{};return Ch(e,((e,t)=>{const s=a(e,r+1);!ph(s)&&(n[t]=s)})),t[r]=void 0,n}}return e};return a(e,0)},isAsyncFn:$h,isThenable:e=>e&&(yh(e)||bh(e))&&bh(e.then)&&bh(e.catch)};function zh(e,t,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n)}Bh.inherits(zh,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bh.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Uh=zh.prototype,Hh={};function Wh(e){return Bh.isPlainObject(e)||Bh.isArray(e)}function Yh(e){return Bh.endsWith(e,"[]")?e.slice(0,-2):e}function qh(e,t,a){return e?e.concat(t).map((function(e,t){return e=Yh(e),!a&&t?"["+e+"]":e})).join(a?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Hh[e]={value:e}})),Object.defineProperties(zh,Hh),Object.defineProperty(Uh,"isAxiosError",{value:!0}),zh.from=(e,t,a,r,n,s)=>{const l=Object.create(Uh);return Bh.toFlatObject(e,l,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),zh.call(l,e.message,t,a,r,n),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const Vh=Bh.toFlatObject(Bh,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Gh(e,t,a){if(!Bh.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(a=Bh.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Bh.isUndefined(t[e])}))).metaTokens,n=a.visitor||d,s=a.dots,l=a.indexes,o=(a.Blob||"undefined"!=typeof Blob&&Blob)&&Bh.isSpecCompliantForm(t);if(!Bh.isFunction(n))throw new TypeError("visitor must be a function");function i(e){if(null===e)return"";if(Bh.isDate(e))return e.toISOString();if(!o&&Bh.isBlob(e))throw new zh("Blob is not supported. Use a Buffer instead.");return Bh.isArrayBuffer(e)||Bh.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function d(e,a,n){let o=e;if(e&&!n&&"object"==typeof e)if(Bh.endsWith(a,"{}"))a=r?a:a.slice(0,-2),e=JSON.stringify(e);else if(Bh.isArray(e)&&function(e){return Bh.isArray(e)&&!e.some(Wh)}(e)||(Bh.isFileList(e)||Bh.endsWith(a,"[]"))&&(o=Bh.toArray(e)))return a=Yh(a),o.forEach((function(e,r){!Bh.isUndefined(e)&&null!==e&&t.append(!0===l?qh([a],r,s):null===l?a:a+"[]",i(e))})),!1;return!!Wh(e)||(t.append(qh(n,a,s),i(e)),!1)}const c=[],u=Object.assign(Vh,{defaultVisitor:d,convertValue:i,isVisitable:Wh});if(!Bh.isObject(e))throw new TypeError("data must be an object");return function e(a,r){if(!Bh.isUndefined(a)){if(-1!==c.indexOf(a))throw Error("Circular reference detected in "+r.join("."));c.push(a),Bh.forEach(a,(function(a,s){!0===(!(Bh.isUndefined(a)||null===a)&&n.call(t,a,Bh.isString(s)?s.trim():s,r,u))&&e(a,r?r.concat(s):[s])})),c.pop()}}(e),t}function Kh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Xh(e,t){this._pairs=[],e&&Gh(e,this,t)}const Qh=Xh.prototype;function Jh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zh(e,t,a){if(!t)return e;const r=a&&a.encode||Jh,n=a&&a.serialize;let s;if(s=n?n(t,a):Bh.isURLSearchParams(t)?t.toString():new Xh(t,a).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}Qh.append=function(e,t){this._pairs.push([e,t])},Qh.toString=function(e){const t=e?function(t){return e.call(this,t,Kh)}:Kh;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class ef{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Bh.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const tf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},af={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Xh,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},rf="undefined"!=typeof window&&"undefined"!=typeof document,nf=(sf="undefined"!=typeof navigator&&navigator.product,rf&&["ReactNative","NativeScript","NS"].indexOf(sf)<0);var sf;const lf="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,of=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rf,hasStandardBrowserEnv:nf,hasStandardBrowserWebWorkerEnv:lf},Symbol.toStringTag,{value:"Module"})),df=u(u({},of),af);function cf(e){function t(e,a,r,n){let s=e[n++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),o=n>=e.length;return s=!s&&Bh.isArray(r)?r.length:s,o?(Bh.hasOwnProp(r,s)?r[s]=[r[s],a]:r[s]=a,!l):(r[s]&&Bh.isObject(r[s])||(r[s]=[]),t(e,a,r[s],n)&&Bh.isArray(r[s])&&(r[s]=function(e){const t={},a=Object.keys(e);let r;const n=a.length;let s;for(r=0;r<n;r++)s=a[r],t[s]=e[s];return t}(r[s])),!l)}if(Bh.isFormData(e)&&Bh.isFunction(e.entries)){const a={};return Bh.forEachEntry(e,((e,r)=>{t(function(e){return Bh.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,a,0)})),a}return null}const uf={transitional:tf,adapter:["xhr","http"],transformRequest:[function(e,t){const a=t.getContentType()||"",r=a.indexOf("application/json")>-1,n=Bh.isObject(e);if(n&&Bh.isHTMLForm(e)&&(e=new FormData(e)),Bh.isFormData(e))return r?JSON.stringify(cf(e)):e;if(Bh.isArrayBuffer(e)||Bh.isBuffer(e)||Bh.isStream(e)||Bh.isFile(e)||Bh.isBlob(e))return e;if(Bh.isArrayBufferView(e))return e.buffer;if(Bh.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(n){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Gh(e,new df.classes.URLSearchParams,Object.assign({visitor:function(e,t,a,r){return df.isNode&&Bh.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Bh.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Gh(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||r?(t.setContentType("application/json",!1),function(e,t,a){if(Bh.isString(e))try{return(t||JSON.parse)(e),Bh.trim(e)}catch(mMe){if("SyntaxError"!==mMe.name)throw mMe}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||uf.transitional,a=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Bh.isString(e)&&(a&&!this.responseType||r)){const a=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(mMe){if(a){if("SyntaxError"===mMe.name)throw zh.from(mMe,zh.ERR_BAD_RESPONSE,this,null,this.response);throw mMe}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:df.classes.FormData,Blob:df.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Bh.forEach(["delete","get","head","post","put","patch"],(e=>{uf.headers[e]={}}));const mf=Bh.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hf=Symbol("internals");function ff(e){return e&&String(e).trim().toLowerCase()}function pf(e){return!1===e||null==e?e:Bh.isArray(e)?e.map(pf):String(e)}function xf(e,t,a,r,n){return Bh.isFunction(r)?r.call(this,t,a):(n&&(t=a),Bh.isString(t)?Bh.isString(r)?-1!==t.indexOf(r):Bh.isRegExp(r)?r.test(t):void 0:void 0)}class gf{constructor(e){e&&this.set(e)}set(e,t,a){const r=this;function n(e,t,a){const n=ff(t);if(!n)throw new Error("header name must be a non-empty string");const s=Bh.findKey(r,n);(!s||void 0===r[s]||!0===a||void 0===a&&!1!==r[s])&&(r[s||t]=pf(e))}const s=(e,t)=>Bh.forEach(e,((e,a)=>n(e,a,t)));return Bh.isPlainObject(e)||e instanceof this.constructor?s(e,t):Bh.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let a,r,n;return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),a=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!a||t[a]&&mf[a]||("set-cookie"===a?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)})),t})(e),t):null!=e&&n(t,e,a),this}get(e,t){if(e=ff(e)){const a=Bh.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)t[r[1]]=r[2];return t}(e);if(Bh.isFunction(t))return t.call(this,e,a);if(Bh.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ff(e)){const a=Bh.findKey(this,e);return!(!a||void 0===this[a]||t&&!xf(0,this[a],a,t))}return!1}delete(e,t){const a=this;let r=!1;function n(e){if(e=ff(e)){const n=Bh.findKey(a,e);!n||t&&!xf(0,a[n],n,t)||(delete a[n],r=!0)}}return Bh.isArray(e)?e.forEach(n):n(e),r}clear(e){const t=Object.keys(this);let a=t.length,r=!1;for(;a--;){const n=t[a];e&&!xf(0,this[n],n,e,!0)||(delete this[n],r=!0)}return r}normalize(e){const t=this,a={};return Bh.forEach(this,((r,n)=>{const s=Bh.findKey(a,n);if(s)return t[s]=pf(r),void delete t[n];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,a)=>t.toUpperCase()+a))}(n):String(n).trim();l!==n&&delete t[n],t[l]=pf(r),a[l]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Bh.forEach(this,((a,r)=>{null!=a&&!1!==a&&(t[r]=e&&Bh.isArray(a)?a.join(", "):a)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const a=new this(e);return t.forEach((e=>a.set(e))),a}static accessor(e){const t=(this[hf]=this[hf]={accessors:{}}).accessors,a=this.prototype;function r(e){const r=ff(e);t[r]||(function(e,t){const a=Bh.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+a,{value:function(e,a,n){return this[r].call(this,t,e,a,n)},configurable:!0})}))}(a,e),t[r]=!0)}return Bh.isArray(e)?e.forEach(r):r(e),this}}function bf(e,t){const a=this||uf,r=t||a,n=gf.from(r.headers);let s=r.data;return Bh.forEach(e,(function(e){s=e.call(a,s,n.normalize(),t?t.status:void 0)})),n.normalize(),s}function vf(e){return!(!e||!e.__CANCEL__)}function yf(e,t,a){zh.call(this,null==e?"canceled":e,zh.ERR_CANCELED,t,a),this.name="CanceledError"}gf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Bh.reduceDescriptors(gf.prototype,(({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[a]=e}}})),Bh.freezeMethods(gf),Bh.inherits(yf,zh,{__CANCEL__:!0});const wf=df.hasStandardBrowserEnv?{write(e,t,a,r,n,s){const l=[e+"="+encodeURIComponent(t)];Bh.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),Bh.isString(r)&&l.push("path="+r),Bh.isString(n)&&l.push("domain="+n),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function jf(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Nf=df.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let a;function r(a){let r=a;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return a=r(window.location.href),function(e){const t=Bh.isString(e)?r(e):e;return t.protocol===a.protocol&&t.host===a.host}}():function(){return function(){return!0}}();function _f(e,t){let a=0;const r=function(e,t){e=e||10;const a=new Array(e),r=new Array(e);let n,s=0,l=0;return t=void 0!==t?t:1e3,function(o){const i=Date.now(),d=r[l];n||(n=i),a[s]=o,r[s]=i;let c=l,u=0;for(;c!==s;)u+=a[c++],c%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),i-n<t)return;const m=d&&i-d;return m?Math.round(1e3*u/m):void 0}}(50,250);return n=>{const s=n.loaded,l=n.lengthComputable?n.total:void 0,o=s-a,i=r(o);a=s;const d={loaded:s,total:l,progress:l?s/l:void 0,bytes:o,rate:i||void 0,estimated:i&&l&&s<=l?(l-s)/i:void 0,event:n};d[t?"download":"upload"]=!0,e(d)}}const Sf="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,a){let r=e.data;const n=gf.from(e.headers).normalize();let s,l,{responseType:o,withXSRFToken:i}=e;function d(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(Bh.isFormData(r))if(df.hasStandardBrowserEnv||df.hasStandardBrowserWebWorkerEnv)n.setContentType(!1);else if(!1!==(l=n.getContentType())){const[e,...t]=l?l.split(";").map((e=>e.trim())).filter(Boolean):[];n.setContentType([e||"multipart/form-data",...t].join("; "))}let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",a=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";n.set("Authorization","Basic "+btoa(t+":"+a))}const u=jf(e.baseURL,e.url);function m(){if(!c)return;const r=gf.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,a){const r=a.config.validateStatus;a.status&&r&&!r(a.status)?t(new zh("Request failed with status code "+a.status,[zh.ERR_BAD_REQUEST,zh.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}((function(e){t(e),d()}),(function(e){a(e),d()}),{data:o&&"text"!==o&&"json"!==o?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),Zh(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=m:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(m)},c.onabort=function(){c&&(a(new zh("Request aborted",zh.ECONNABORTED,e,c)),c=null)},c.onerror=function(){a(new zh("Network Error",zh.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||tf;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),a(new zh(t,r.clarifyTimeoutError?zh.ETIMEDOUT:zh.ECONNABORTED,e,c)),c=null},df.hasStandardBrowserEnv&&(i&&Bh.isFunction(i)&&(i=i(e)),i||!1!==i&&Nf(u))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&wf.read(e.xsrfCookieName);t&&n.set(e.xsrfHeaderName,t)}void 0===r&&n.setContentType(null),"setRequestHeader"in c&&Bh.forEach(n.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),Bh.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),o&&"json"!==o&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",_f(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",_f(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{c&&(a(!t||t.type?new yf(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u);h&&-1===df.protocols.indexOf(h)?a(new zh("Unsupported protocol "+h+":",zh.ERR_BAD_REQUEST,e)):c.send(r||null)}))},kf={http:null,xhr:Sf};Bh.forEach(kf,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(mMe){}Object.defineProperty(e,"adapterName",{value:t})}}));const Cf=e=>`- ${e}`,Ef=e=>Bh.isFunction(e)||null===e||!1===e,Tf=e=>{e=Bh.isArray(e)?e:[e];const{length:t}=e;let a,r;const n={};for(let s=0;s<t;s++){let t;if(a=e[s],r=a,!Ef(a)&&(r=kf[(t=String(a)).toLowerCase()],void 0===r))throw new zh(`Unknown adapter '${t}'`);if(r)break;n[t||"#"+s]=r}if(!r){const e=Object.entries(n).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new zh("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Cf).join("\n"):" "+Cf(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r};function Of(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yf(null,e)}function Df(e){return Of(e),e.headers=gf.from(e.headers),e.data=bf.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Tf(e.adapter||uf.adapter)(e).then((function(t){return Of(e),t.data=bf.call(e,e.transformResponse,t),t.headers=gf.from(t.headers),t}),(function(t){return vf(t)||(Of(e),t&&t.response&&(t.response.data=bf.call(e,e.transformResponse,t.response),t.response.headers=gf.from(t.response.headers))),Promise.reject(t)}))}const Af=e=>e instanceof gf?u({},e):e;function Pf(e,t){t=t||{};const a={};function r(e,t,a){return Bh.isPlainObject(e)&&Bh.isPlainObject(t)?Bh.merge.call({caseless:a},e,t):Bh.isPlainObject(t)?Bh.merge({},t):Bh.isArray(t)?t.slice():t}function n(e,t,a){return Bh.isUndefined(t)?Bh.isUndefined(e)?void 0:r(void 0,e,a):r(e,t,a)}function s(e,t){if(!Bh.isUndefined(t))return r(void 0,t)}function l(e,t){return Bh.isUndefined(t)?Bh.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(a,n,s){return s in t?r(a,n):s in e?r(void 0,a):void 0}const i={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(e,t)=>n(Af(e),Af(t),!0)};return Bh.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=i[r]||n,l=s(e[r],t[r],r);Bh.isUndefined(l)&&s!==o||(a[r]=l)})),a}const Mf="1.6.8",Lf={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Lf[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}}));const If={};Lf.transitional=function(e,t,a){function r(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,n,s)=>{if(!1===e)throw new zh(r(n," has been removed"+(t?" in "+t:"")),zh.ERR_DEPRECATED);return t&&!If[n]&&(If[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,n,s)}};const Ff={assertOptions:function(e,t,a){if("object"!=typeof e)throw new zh("options must be an object",zh.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const s=r[n],l=t[s];if(l){const t=e[s],a=void 0===t||l(t,s,e);if(!0!==a)throw new zh("option "+s+" must be "+a,zh.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new zh("Unknown option "+s,zh.ERR_BAD_OPTION)}},validators:Lf},Rf=Ff.validators;class $f{constructor(e){this.defaults=e,this.interceptors={request:new ef,response:new ef}}request(e,t){return p(this,null,(function*(){try{return yield this._request(e,t)}catch(a){if(a instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}throw a}}))}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Pf(this.defaults,t);const{transitional:a,paramsSerializer:r,headers:n}=t;void 0!==a&&Ff.assertOptions(a,{silentJSONParsing:Rf.transitional(Rf.boolean),forcedJSONParsing:Rf.transitional(Rf.boolean),clarifyTimeoutError:Rf.transitional(Rf.boolean)},!1),null!=r&&(Bh.isFunction(r)?t.paramsSerializer={serialize:r}:Ff.assertOptions(r,{encode:Rf.function,serialize:Rf.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=n&&Bh.merge(n.common,n[t.method]);n&&Bh.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete n[e]})),t.headers=gf.concat(s,n);const l=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,l.unshift(e.fulfilled,e.rejected))}));const i=[];let d;this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)}));let c,u=0;if(!o){const e=[Df.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,i),c=e.length,d=Promise.resolve(t);u<c;)d=d.then(e[u++],e[u++]);return d}c=l.length;let m=t;for(u=0;u<c;){const e=l[u++],t=l[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{d=Df.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,c=i.length;u<c;)d=d.then(i[u++],i[u++]);return d}getUri(e){return Zh(jf((e=Pf(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Bh.forEach(["delete","get","head","options"],(function(e){$f.prototype[e]=function(t,a){return this.request(Pf(a||{},{method:e,url:t,data:(a||{}).data}))}})),Bh.forEach(["post","put","patch"],(function(e){function t(t){return function(a,r,n){return this.request(Pf(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:r}))}}$f.prototype[e]=t(),$f.prototype[e+"Form"]=t(!0)}));class Bf{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const a=this;this.promise.then((e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{a.subscribe(e),t=e})).then(e);return r.cancel=function(){a.unsubscribe(t)},r},e((function(e,r,n){a.reason||(a.reason=new yf(e,r,n),t(a.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Bf((function(t){e=t})),cancel:e}}}const zf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zf).forEach((([e,t])=>{zf[t]=e}));const Uf=function e(t){const a=new $f(t),r=ih($f.prototype.request,a);return Bh.extend(r,$f.prototype,a,{allOwnKeys:!0}),Bh.extend(r,a,null,{allOwnKeys:!0}),r.create=function(a){return e(Pf(t,a))},r}(uf);function Hf(e){var t,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(a=Hf(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function Wf(){for(var e,t,a=0,r="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=Hf(e))&&(r&&(r+=" "),r+=t);return r}Uf.Axios=$f,Uf.CanceledError=yf,Uf.CancelToken=Bf,Uf.isCancel=vf,Uf.VERSION=Mf,Uf.toFormData=Gh,Uf.AxiosError=zh,Uf.Cancel=Uf.CanceledError,Uf.all=function(e){return Promise.all(e)},Uf.spread=function(e){return function(t){return e.apply(null,t)}},Uf.isAxiosError=function(e){return Bh.isObject(e)&&!0===e.isAxiosError},Uf.mergeConfig=Pf,Uf.AxiosHeaders=gf,Uf.formToJSON=e=>cf(Bh.isHTMLForm(e)?new FormData(e):e),Uf.getAdapter=Tf,Uf.HttpStatusCode=zf,Uf.default=Uf;const Yf=e=>"number"==typeof e&&!isNaN(e),qf=e=>"string"==typeof e,Vf=e=>"function"==typeof e,Gf=e=>qf(e)||Vf(e)?e:null,Kf=e=>Q.isValidElement(e)||qf(e)||Vf(e)||Yf(e);function Xf(e){let{enter:t,exit:a,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}=e;return function(e){let{children:l,position:o,preventExitTransition:i,done:d,nodeRef:c,isIn:u,playToast:m}=e;const h=r?`${t}--${o}`:t,f=r?`${a}--${o}`:a,p=Q.useRef(0);return Q.useLayoutEffect((()=>{const e=c.current,t=h.split(" "),a=r=>{r.target===c.current&&(m(),e.removeEventListener("animationend",a),e.removeEventListener("animationcancel",a),0===p.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",a),e.addEventListener("animationcancel",a)}),[]),Q.useEffect((()=>{const e=c.current,t=()=>{e.removeEventListener("animationend",t),n?function(e,t,a){void 0===a&&(a=300);const{scrollHeight:r,style:n}=e;requestAnimationFrame((()=>{n.minHeight="initial",n.height=r+"px",n.transition=`all ${a}ms`,requestAnimationFrame((()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,a)}))}))}(e,d,s):d()};u||(i?t():(p.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))}),[u]),J.createElement(J.Fragment,null,l)}}function Qf(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Jf=new Map;let Zf=[];const ep=new Set,tp=e=>ep.forEach((t=>t(e))),ap=()=>Jf.size>0;function rp(e,t){var a;if(t)return!(null==(a=Jf.get(t))||!a.isToastActive(e));let r=!1;return Jf.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function np(e,t){Kf(e)&&(ap()||Zf.push({content:e,options:t}),Jf.forEach((a=>{a.buildToast(e,t)})))}function sp(e,t){Jf.forEach((a=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===a.id&&a.toggle(e,null==t?void 0:t.id):a.toggle(e,null==t?void 0:t.id)}))}function lp(e){let{delay:t,isRunning:a,closeToast:r,type:n="default",hide:s,className:l,style:o,controlledProgress:i,progress:d,rtl:c,isIn:h,theme:f}=e;const p=s||i&&0===d,x=m(u({},o),{animationDuration:`${t}ms`,animationPlayState:a?"running":"paused"});i&&(x.transform=`scaleX(${d})`);const g=Wf("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),b=Vf(l)?l({rtl:c,type:n,defaultClassName:g}):Wf(g,l),v={[i&&d>=1?"onTransitionEnd":"onAnimationEnd"]:i&&d<1?null:()=>{h&&r()}};return J.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},J.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${n}`}),J.createElement("div",u({role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:b,style:x},v)))}let op=1;const ip=()=>""+op++;function dp(e){return e&&(qf(e.toastId)||Yf(e.toastId))?e.toastId:ip()}function cp(e,t){return np(e,t),t.toastId}function up(e,t){return m(u({},t),{type:t&&t.type||e,toastId:dp(t)})}function mp(e){return(t,a)=>cp(t,up(e,a))}function hp(e,t){return cp(e,up("default",t))}hp.loading=(e,t)=>cp(e,up("default",u({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),hp.promise=function(e,t,a){let r,{pending:n,error:s,success:l}=t;n&&(r=qf(n)?hp.loading(n,a):hp.loading(n.render,u(u({},a),n)));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},i=(e,t,n)=>{if(null==t)return void hp.dismiss(r);const s=m(u(u({type:e},o),a),{data:n}),l=qf(t)?{render:t}:t;return r?hp.update(r,u(u({},s),l)):hp(l.render,u(u({},s),l)),n},d=Vf(e)?e():e;return d.then((e=>i("success",l,e))).catch((e=>i("error",s,e))),d},hp.success=mp("success"),hp.info=mp("info"),hp.error=mp("error"),hp.warning=mp("warning"),hp.warn=hp.warning,hp.dark=(e,t)=>cp(e,up("default",u({theme:"dark"},t))),hp.dismiss=function(e){!function(e){var t;if(ap()){if(null==e||qf(t=e)||Yf(t))Jf.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){const t=Jf.get(e.containerId);t?t.removeToast(e.id):Jf.forEach((t=>{t.removeToast(e.id)}))}}else Zf=Zf.filter((t=>null!=e&&t.options.toastId!==e))}(e)},hp.clearWaitingQueue=function(e){void 0===e&&(e={}),Jf.forEach((t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()}))},hp.isActive=rp,hp.update=function(e,t){void 0===t&&(t={});const a=((e,t)=>{var a;let{containerId:r}=t;return null==(a=Jf.get(r||1))?void 0:a.toasts.get(e)})(e,t);if(a){const{props:r,content:n}=a,s=m(u(u({delay:100},r),t),{toastId:t.toastId||e,updateId:ip()});s.toastId!==e&&(s.staleId=e);const l=s.render||n;delete s.render,cp(l,s)}},hp.done=e=>{hp.update(e,{progress:1})},hp.onChange=function(e){return ep.add(e),()=>{ep.delete(e)}},hp.play=e=>sp(!0,e),hp.pause=e=>sp(!1,e);const fp="undefined"!=typeof window?Q.useLayoutEffect:Q.useEffect,pp=e=>{let t=e,{theme:a,type:r,isLoading:n}=t,s=h(t,["theme","type","isLoading"]);return J.createElement("svg",u({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===a?"currentColor":`var(--toastify-icon-color-${r})`},s))},xp={info:function(e){return J.createElement(pp,u({},e),J.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return J.createElement(pp,u({},e),J.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return J.createElement(pp,u({},e),J.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return J.createElement(pp,u({},e),J.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return J.createElement("div",{className:"Toastify__spinner"})}},gp=e=>{const{isRunning:t,preventExitTransition:a,toastRef:r,eventHandlers:n,playToast:s}=function(e){const[t,a]=Q.useState(!1),[r,n]=Q.useState(!1),s=Q.useRef(null),l=Q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:i,closeToast:d,onClick:c,closeOnClick:u}=e;var m,h;function f(){a(!0)}function p(){a(!1)}function x(a){const r=s.current;l.canDrag&&r&&(l.didMove=!0,t&&p(),l.delta="x"===e.draggableDirection?a.clientX-l.start:a.clientY-l.start,l.start!==a.clientX&&(l.canCloseOnClick=!1),r.style.transform=`translate3d(${"x"===e.draggableDirection?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`},0)`,r.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function g(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",g);const t=s.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return n(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(h=Jf.get((m={id:e.toastId,containerId:e.containerId,fn:a}).containerId||1))||h.setToggle(m.id,m.fn),Q.useEffect((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",f),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",p)}}),[e.pauseOnFocusLoss]);const b={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){l.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",g);const a=s.current;l.canCloseOnClick=!0,l.canDrag=!0,a.style.transition="none","x"===e.draggableDirection?(l.start=t.clientX,l.removalDistance=a.offsetWidth*(e.draggablePercent/100)):(l.start=t.clientY,l.removalDistance=a.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){const{top:a,bottom:r,left:n,right:l}=s.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=n&&t.clientX<=l&&t.clientY>=a&&t.clientY<=r?p():f()}};return o&&i&&(b.onMouseEnter=p,e.stacked||(b.onMouseLeave=f)),u&&(b.onClick=e=>{c&&c(e),l.canCloseOnClick&&d()}),{playToast:f,pauseToast:p,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:b}}(e),{closeButton:l,children:o,autoClose:i,onClick:d,type:c,hideProgressBar:h,closeToast:f,transition:p,position:x,className:g,style:b,bodyClassName:v,bodyStyle:y,progressClassName:w,progressStyle:j,updateId:N,role:_,progress:S,rtl:k,toastId:C,deleteToast:E,isIn:T,isLoading:O,closeOnClick:D,theme:A}=e,P=Wf("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":D}),M=Vf(g)?g({rtl:k,position:x,type:c,defaultClassName:P}):Wf(P,g),L=function(e){let{theme:t,type:a,isLoading:r,icon:n}=e,s=null;const l={theme:t,type:a};return!1===n||(Vf(n)?s=n(m(u({},l),{isLoading:r})):Q.isValidElement(n)?s=Q.cloneElement(n,l):r?s=xp.spinner():a in xp&&(s=xp[a](l))),s}(e),I=!!S||!i,F={closeToast:f,type:c,theme:A};let R=null;return!1===l||(R=Vf(l)?l(F):Q.isValidElement(l)?Q.cloneElement(l,F):function(e){let{closeToast:t,theme:a,ariaLabel:r="close"}=e;return J.createElement("button",{className:`Toastify__close-button Toastify__close-button--${a}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},J.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},J.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(F)),J.createElement(p,{isIn:T,done:E,position:x,preventExitTransition:a,nodeRef:r,playToast:s},J.createElement("div",m(u({id:C,onClick:d,"data-in":T,className:M},n),{style:b,ref:r}),J.createElement("div",m(u({},T&&{role:_}),{className:Vf(v)?v({type:c}):Wf("Toastify__toast-body",v),style:y}),null!=L&&J.createElement("div",{className:Wf("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},L),J.createElement("div",null,o)),R,J.createElement(lp,m(u({},N&&!I?{key:`pb-${N}`}:{}),{rtl:k,theme:A,delay:i,isRunning:t,isIn:T,closeToast:f,hide:h,type:c,style:j,className:w,controlledProgress:I,progress:S||0}))))},bp=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},vp=Xf(bp("bounce",!0));Xf(bp("slide",!0)),Xf(bp("zoom")),Xf(bp("flip"));const yp={position:"top-right",transition:vp,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function wp(e){let t=u(u({},yp),e);const a=e.stacked,[r,n]=Q.useState(!0),s=Q.useRef(null),{getToastToRender:l,isToastActive:o,count:i}=function(e){const{subscribe:t,getSnapshot:a,setProps:r}=Q.useRef(function(e){const t=e.containerId||1;return{subscribe(a){const r=function(e,t,a){let r=1,n=0,s=[],l=[],o=[],i=t;const d=new Map,c=new Set,h=()=>{o=Array.from(d.values()),c.forEach((e=>e()))},f=e=>{l=null==e?[]:l.filter((t=>t!==e)),h()},p=e=>{const{toastId:t,onOpen:r,updateId:n,children:s}=e.props,o=null==n;e.staleId&&d.delete(e.staleId),d.set(t,e),l=[...l,e.props.toastId].filter((t=>t!==e.staleId)),h(),a(Qf(e,o?"added":"updated")),o&&Vf(r)&&r(Q.isValidElement(s)&&s.props)};return{id:e,props:i,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{d.forEach((a=>{null!=t&&t!==a.props.toastId||Vf(a.toggle)&&a.toggle(e)}))},removeToast:f,toasts:d,clearQueue:()=>{n-=s.length,s=[]},buildToast:(t,l)=>{if((t=>{let{containerId:a,toastId:r,updateId:n}=t;const s=a?a!==e:1!==e,l=d.has(r)&&null==n;return s||l})(l))return;const{toastId:o,updateId:c,data:x,staleId:g,delay:b}=l,v=()=>{f(o)},y=null==c;y&&n++;const w=m(u(m(u({},i),{style:i.toastStyle,key:r++}),Object.fromEntries(Object.entries(l).filter((e=>{let[t,a]=e;return null!=a})))),{toastId:o,updateId:c,data:x,closeToast:v,isIn:!1,className:Gf(l.className||i.toastClassName),bodyClassName:Gf(l.bodyClassName||i.bodyClassName),progressClassName:Gf(l.progressClassName||i.progressClassName),autoClose:!l.isLoading&&(j=l.autoClose,N=i.autoClose,!1===j||Yf(j)&&j>0?j:N),deleteToast(){const e=d.get(o),{onClose:t,children:r}=e.props;Vf(t)&&t(Q.isValidElement(r)&&r.props),a(Qf(e,"removed")),d.delete(o),n--,n<0&&(n=0),s.length>0?p(s.shift()):h()}});var j,N;w.closeButton=i.closeButton,!1===l.closeButton||Kf(l.closeButton)?w.closeButton=l.closeButton:!0===l.closeButton&&(w.closeButton=!Kf(i.closeButton)||i.closeButton);let _=t;Q.isValidElement(t)&&!qf(t.type)?_=Q.cloneElement(t,{closeToast:v,toastProps:w,data:x}):Vf(t)&&(_=t({closeToast:v,toastProps:w,data:x}));const S={content:_,props:w,staleId:g};i.limit&&i.limit>0&&n>i.limit&&y?s.push(S):Yf(b)?setTimeout((()=>{p(S)}),b):p(S)},setProps(e){i=e},setToggle:(e,t)=>{d.get(e).toggle=t},isToastActive:e=>l.some((t=>t===e)),getSnapshot:()=>i.newestOnTop?o.reverse():o}}(t,e,tp);Jf.set(t,r);const n=r.observe(a);return Zf.forEach((e=>np(e.content,e.options))),Zf=[],()=>{n(),Jf.delete(t)}},setProps(e){var a;null==(a=Jf.get(t))||a.setProps(e)},getSnapshot(){var e;return null==(e=Jf.get(t))?void 0:e.getSnapshot()}}}(e)).current;r(e);const n=Q.useSyncExternalStore(t,a,a);return{getToastToRender:function(e){if(!n)return[];const t=new Map;return n.forEach((e=>{const{position:a}=e.props;t.has(a)||t.set(a,[]),t.get(a).push(e)})),Array.from(t,(t=>e(t[0],t[1])))},isToastActive:rp,count:null==n?void 0:n.length}}(t),{className:d,style:c,rtl:h,containerId:f}=t;function p(e){const t=Wf("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return Vf(d)?d({position:e,rtl:h,defaultClassName:t}):Wf(t,Gf(d))}function x(){a&&(n(!0),hp.play())}return fp((()=>{if(a){var e;const a=s.current.querySelectorAll('[data-in="true"]'),n=12,l=null==(e=t.position)?void 0:e.includes("top");let o=0,i=0;Array.from(a).reverse().forEach(((e,t)=>{const a=e;a.classList.add("Toastify__toast--stacked"),t>0&&(a.dataset.collapsed=`${r}`),a.dataset.pos||(a.dataset.pos=l?"top":"bot");const s=o*(r?.2:1)+(r?0:n*t);a.style.setProperty("--y",`${l?s:-1*s}px`),a.style.setProperty("--g",`${n}`),a.style.setProperty("--s",""+(1-(r?i:0))),o+=a.offsetHeight,i+=.025}))}}),[r,i,a]),J.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{a&&(n(!1),hp.pause())},onMouseLeave:x},l(((e,t)=>{const r=t.length?u({},c):m(u({},c),{pointerEvents:"none"});return J.createElement("div",{className:p(e),style:r,key:`container-${e}`},t.map((e=>{let{content:t,props:r}=e;return J.createElement(gp,m(u({},r),{stacked:a,collapseAll:x,isIn:o(r.toastId,r.containerId),style:r.style,key:`toast-${r.key}`}),t)})))})))
/*!
     * Cropper.js v1.6.2
     * https://fengyuanchen.github.io/cropperjs
     *
     * Copyright 2015-present Chen Fengyuan
     * Released under the MIT license
     *
     * Date: 2024-04-21T07:43:05.335Z
     */}function jp(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Np(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?jp(Object(a),!0).forEach((function(t){Cp(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jp(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _p(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function Sp(e){return(Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kp(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_p(r.key),r)}}function Cp(e,t,a){return(t=_p(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ep(e){return function(e){if(Array.isArray(e))return Tp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Tp(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Tp(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tp(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var Op="undefined"!=typeof window&&void 0!==window.document,Dp=Op?window:{},Ap=!(!Op||!Dp.document.documentElement)&&"ontouchstart"in Dp.document.documentElement,Pp=!!Op&&"PointerEvent"in Dp,Mp="cropper",Lp="all",Ip="crop",Fp="move",Rp="zoom",$p="e",Bp="w",zp="s",Up="n",Hp="ne",Wp="nw",Yp="se",qp="sw",Vp="".concat(Mp,"-crop"),Gp="".concat(Mp,"-disabled"),Kp="".concat(Mp,"-hidden"),Xp="".concat(Mp,"-hide"),Qp="".concat(Mp,"-invisible"),Jp="".concat(Mp,"-modal"),Zp="".concat(Mp,"-move"),ex="".concat(Mp,"Action"),tx="".concat(Mp,"Preview"),ax="crop",rx="move",nx="none",sx="crop",lx="cropend",ox="cropmove",ix="cropstart",dx="dblclick",cx=Pp?"pointerdown":Ap?"touchstart":"mousedown",ux=Pp?"pointermove":Ap?"touchmove":"mousemove",mx=Pp?"pointerup pointercancel":Ap?"touchend touchcancel":"mouseup",hx="ready",fx="resize",px="wheel",xx="zoom",gx="image/jpeg",bx=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,vx=/^data:/,yx=/^data:image\/jpeg;base64,/,wx=/^img|canvas$/i,jx={viewMode:0,dragMode:ax,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Nx=Number.isNaN||Dp.isNaN;function _x(e){return"number"==typeof e&&!Nx(e)}var Sx=function(e){return e>0&&e<1/0};function kx(e){return void 0===e}function Cx(e){return"object"===Sp(e)&&null!==e}var Ex=Object.prototype.hasOwnProperty;function Tx(e){if(!Cx(e))return!1;try{var t=e.constructor,a=t.prototype;return t&&a&&Ex.call(a,"isPrototypeOf")}catch(r){return!1}}function Ox(e){return"function"==typeof e}var Dx=Array.prototype.slice;function Ax(e){return Array.from?Array.from(e):Dx.call(e)}function Px(e,t){return e&&Ox(t)&&(Array.isArray(e)||_x(e.length)?Ax(e).forEach((function(a,r){t.call(e,a,r,e)})):Cx(e)&&Object.keys(e).forEach((function(a){t.call(e,e[a],a,e)}))),e}var Mx=Object.assign||function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return Cx(e)&&a.length>0&&a.forEach((function(t){Cx(t)&&Object.keys(t).forEach((function(a){e[a]=t[a]}))})),e},Lx=/\.\d*(?:0|9){12}\d*$/;function Ix(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Lx.test(e)?Math.round(e*t)/t:e}var Fx=/^width|height|left|top|marginLeft|marginTop$/;function Rx(e,t){var a=e.style;Px(t,(function(e,t){Fx.test(t)&&_x(e)&&(e="".concat(e,"px")),a[t]=e}))}function $x(e,t){if(t)if(_x(e.length))Px(e,(function(e){$x(e,t)}));else if(e.classList)e.classList.add(t);else{var a=e.className.trim();a?a.indexOf(t)<0&&(e.className="".concat(a," ").concat(t)):e.className=t}}function Bx(e,t){t&&(_x(e.length)?Px(e,(function(e){Bx(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function zx(e,t,a){t&&(_x(e.length)?Px(e,(function(e){zx(e,t,a)})):a?$x(e,t):Bx(e,t))}var Ux=/([a-z\d])([A-Z])/g;function Hx(e){return e.replace(Ux,"$1-$2").toLowerCase()}function Wx(e,t){return Cx(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Hx(t)))}function Yx(e,t,a){Cx(a)?e[t]=a:e.dataset?e.dataset[t]=a:e.setAttribute("data-".concat(Hx(t)),a)}var qx=/\s\s*/,Vx=function(){var e=!1;if(Op){var t=!1,a=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});Dp.addEventListener("test",a,r),Dp.removeEventListener("test",a,r)}return e}();function Gx(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=a;t.trim().split(qx).forEach((function(t){if(!Vx){var s=e.listeners;s&&s[t]&&s[t][a]&&(n=s[t][a],delete s[t][a],0===Object.keys(s[t]).length&&delete s[t],0===Object.keys(s).length&&delete e.listeners)}e.removeEventListener(t,n,r)}))}function Kx(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=a;t.trim().split(qx).forEach((function(t){if(r.once&&!Vx){var s=e.listeners,l=void 0===s?{}:s;n=function(){delete l[t][a],e.removeEventListener(t,n,r);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];a.apply(e,o)},l[t]||(l[t]={}),l[t][a]&&e.removeEventListener(t,l[t][a],r),l[t][a]=n,e.listeners=l}e.addEventListener(t,n,r)}))}function Xx(e,t,a){var r;return Ox(Event)&&Ox(CustomEvent)?r=new CustomEvent(t,{detail:a,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,a),e.dispatchEvent(r)}function Qx(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var Jx=Dp.location,Zx=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function eg(e){var t=e.match(Zx);return null!==t&&(t[1]!==Jx.protocol||t[2]!==Jx.hostname||t[3]!==Jx.port)}function tg(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function ag(e){var t=e.rotate,a=e.scaleX,r=e.scaleY,n=e.translateX,s=e.translateY,l=[];_x(n)&&0!==n&&l.push("translateX(".concat(n,"px)")),_x(s)&&0!==s&&l.push("translateY(".concat(s,"px)")),_x(t)&&0!==t&&l.push("rotate(".concat(t,"deg)")),_x(a)&&1!==a&&l.push("scaleX(".concat(a,")")),_x(r)&&1!==r&&l.push("scaleY(".concat(r,")"));var o=l.length?l.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function rg(e,t){var a=e.pageX,r=e.pageY,n={endX:a,endY:r};return t?n:Np({startX:a,startY:r},n)}function ng(e){var t=e.aspectRatio,a=e.height,r=e.width,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",s=Sx(r),l=Sx(a);if(s&&l){var o=a*t;"contain"===n&&o>r||"cover"===n&&o<r?a=r/t:r=a*t}else s?a=r/t:l&&(r=a*t);return{width:r,height:a}}var sg=String.fromCharCode,lg=/^data:.*,/;function og(e){var t,a=new DataView(e);try{var r,n,s;if(255===a.getUint8(0)&&216===a.getUint8(1))for(var l=a.byteLength,o=2;o+1<l;){if(255===a.getUint8(o)&&225===a.getUint8(o+1)){n=o;break}o+=1}if(n){var i=n+10;if("Exif"===function(e,t,a){var r="";a+=t;for(var n=t;n<a;n+=1)r+=sg(e.getUint8(n));return r}(a,n+4,4)){var d=a.getUint16(i);if(((r=18761===d)||19789===d)&&42===a.getUint16(i+2,r)){var c=a.getUint32(i+4,r);c>=8&&(s=i+c)}}}if(s){var u,m,h=a.getUint16(s,r);for(m=0;m<h;m+=1)if(u=s+12*m+2,274===a.getUint16(u,r)){u+=8,t=a.getUint16(u,r),a.setUint16(u,1,r);break}}}catch(f){t=1}return t}var ig={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,a=this.container,r=this.cropper,n=Number(t.minContainerWidth),s=Number(t.minContainerHeight);$x(r,Kp),Bx(e,Kp);var l={width:Math.max(a.offsetWidth,n>=0?n:200),height:Math.max(a.offsetHeight,s>=0?s:100)};this.containerData=l,Rx(r,{width:l.width,height:l.height}),$x(e,Kp),Bx(r,Kp)},initCanvas:function(){var e=this.containerData,t=this.imageData,a=this.options.viewMode,r=Math.abs(t.rotate)%180==90,n=r?t.naturalHeight:t.naturalWidth,s=r?t.naturalWidth:t.naturalHeight,l=n/s,o=e.width,i=e.height;e.height*l>e.width?3===a?o=e.height*l:i=e.width/l:3===a?i=e.width/l:o=e.height*l;var d={aspectRatio:l,naturalWidth:n,naturalHeight:s,width:o,height:i};this.canvasData=d,this.limited=1===a||2===a,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=Mx({},d)},limitCanvas:function(e,t){var a=this.options,r=this.containerData,n=this.canvasData,s=this.cropBoxData,l=a.viewMode,o=n.aspectRatio,i=this.cropped&&s;if(e){var d=Number(a.minCanvasWidth)||0,c=Number(a.minCanvasHeight)||0;l>1?(d=Math.max(d,r.width),c=Math.max(c,r.height),3===l&&(c*o>d?d=c*o:c=d/o)):l>0&&(d?d=Math.max(d,i?s.width:0):c?c=Math.max(c,i?s.height:0):i&&(d=s.width,(c=s.height)*o>d?d=c*o:c=d/o));var u=ng({aspectRatio:o,width:d,height:c});d=u.width,c=u.height,n.minWidth=d,n.minHeight=c,n.maxWidth=1/0,n.maxHeight=1/0}if(t)if(l>(i?0:1)){var m=r.width-n.width,h=r.height-n.height;n.minLeft=Math.min(0,m),n.minTop=Math.min(0,h),n.maxLeft=Math.max(0,m),n.maxTop=Math.max(0,h),i&&this.limited&&(n.minLeft=Math.min(s.left,s.left+(s.width-n.width)),n.minTop=Math.min(s.top,s.top+(s.height-n.height)),n.maxLeft=s.left,n.maxTop=s.top,2===l&&(n.width>=r.width&&(n.minLeft=Math.min(0,m),n.maxLeft=Math.max(0,m)),n.height>=r.height&&(n.minTop=Math.min(0,h),n.maxTop=Math.max(0,h))))}else n.minLeft=-n.width,n.minTop=-n.height,n.maxLeft=r.width,n.maxTop=r.height},renderCanvas:function(e,t){var a=this.canvasData,r=this.imageData;if(t){var n=function(e){var t=e.width,a=e.height,r=e.degree;if(90==(r=Math.abs(r)%180))return{width:a,height:t};var n=r%90*Math.PI/180,s=Math.sin(n),l=Math.cos(n),o=t*l+a*s,i=t*s+a*l;return r>90?{width:i,height:o}:{width:o,height:i}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),s=n.width,l=n.height,o=a.width*(s/a.naturalWidth),i=a.height*(l/a.naturalHeight);a.left-=(o-a.width)/2,a.top-=(i-a.height)/2,a.width=o,a.height=i,a.aspectRatio=s/l,a.naturalWidth=s,a.naturalHeight=l,this.limitCanvas(!0,!1)}(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,Rx(this.canvas,Mx({width:a.width,height:a.height},ag({translateX:a.left,translateY:a.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,a=this.imageData,r=a.naturalWidth*(t.width/t.naturalWidth),n=a.naturalHeight*(t.height/t.naturalHeight);Mx(a,{width:r,height:n,left:(t.width-r)/2,top:(t.height-n)/2}),Rx(this.image,Mx({width:a.width,height:a.height},ag(Mx({translateX:a.left,translateY:a.top},a)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,a=e.aspectRatio||e.initialAspectRatio,r=Number(e.autoCropArea)||.8,n={width:t.width,height:t.height};a&&(t.height*a>t.width?n.height=n.width/a:n.width=n.height*a),this.cropBoxData=n,this.limitCropBox(!0,!0),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),n.width=Math.max(n.minWidth,n.width*r),n.height=Math.max(n.minHeight,n.height*r),n.left=t.left+(t.width-n.width)/2,n.top=t.top+(t.height-n.height)/2,n.oldLeft=n.left,n.oldTop=n.top,this.initialCropBoxData=Mx({},n)},limitCropBox:function(e,t){var a=this.options,r=this.containerData,n=this.canvasData,s=this.cropBoxData,l=this.limited,o=a.aspectRatio;if(e){var i=Number(a.minCropBoxWidth)||0,d=Number(a.minCropBoxHeight)||0,c=l?Math.min(r.width,n.width,n.width+n.left,r.width-n.left):r.width,u=l?Math.min(r.height,n.height,n.height+n.top,r.height-n.top):r.height;i=Math.min(i,r.width),d=Math.min(d,r.height),o&&(i&&d?d*o>i?d=i/o:i=d*o:i?d=i/o:d&&(i=d*o),u*o>c?u=c/o:c=u*o),s.minWidth=Math.min(i,c),s.minHeight=Math.min(d,u),s.maxWidth=c,s.maxHeight=u}t&&(l?(s.minLeft=Math.max(0,n.left),s.minTop=Math.max(0,n.top),s.maxLeft=Math.min(r.width,n.left+n.width)-s.width,s.maxTop=Math.min(r.height,n.top+n.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=r.width-s.width,s.maxTop=r.height-s.height))},renderCropBox:function(){var e=this.options,t=this.containerData,a=this.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCropBox(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,e.movable&&e.cropBoxMovable&&Yx(this.face,ex,a.width>=t.width&&a.height>=t.height?Fp:Lp),Rx(this.cropBox,Mx({width:a.width,height:a.height},ag({translateX:a.left,translateY:a.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Xx(this.element,sx,this.getData())}},dg={initPreview:function(){var e=this.element,t=this.crossOrigin,a=this.options.preview,r=t?this.crossOriginUrl:this.url,n=e.alt||"The image to preview",s=document.createElement("img");if(t&&(s.crossOrigin=t),s.src=r,s.alt=n,this.viewBox.appendChild(s),this.viewBoxImage=s,a){var l=a;"string"==typeof a?l=e.ownerDocument.querySelectorAll(a):a.querySelector&&(l=[a]),this.previews=l,Px(l,(function(e){var a=document.createElement("img");Yx(e,tx,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(a.crossOrigin=t),a.src=r,a.alt=n,a.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(a)}))}},resetPreview:function(){Px(this.previews,(function(e){var t=Wx(e,tx);Rx(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(Cx(e[t]))try{delete e[t]}catch(a){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(a){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Hx(t)))}(e,tx)}))},preview:function(){var e=this.imageData,t=this.canvasData,a=this.cropBoxData,r=a.width,n=a.height,s=e.width,l=e.height,o=a.left-t.left-e.left,i=a.top-t.top-e.top;this.cropped&&!this.disabled&&(Rx(this.viewBoxImage,Mx({width:s,height:l},ag(Mx({translateX:-o,translateY:-i},e)))),Px(this.previews,(function(t){var a=Wx(t,tx),d=a.width,c=a.height,u=d,m=c,h=1;r&&(m=n*(h=d/r)),n&&m>c&&(u=r*(h=c/n),m=c),Rx(t,{width:u,height:m}),Rx(t.getElementsByTagName("img")[0],Mx({width:s*h,height:l*h},ag(Mx({translateX:-o*h,translateY:-i*h},e))))})))}},cg={bind:function(){var e=this.element,t=this.options,a=this.cropper;Ox(t.cropstart)&&Kx(e,ix,t.cropstart),Ox(t.cropmove)&&Kx(e,ox,t.cropmove),Ox(t.cropend)&&Kx(e,lx,t.cropend),Ox(t.crop)&&Kx(e,sx,t.crop),Ox(t.zoom)&&Kx(e,xx,t.zoom),Kx(a,cx,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Kx(a,px,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Kx(a,dx,this.onDblclick=this.dblclick.bind(this)),Kx(e.ownerDocument,ux,this.onCropMove=this.cropMove.bind(this)),Kx(e.ownerDocument,mx,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Kx(window,fx,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,a=this.cropper;Ox(t.cropstart)&&Gx(e,ix,t.cropstart),Ox(t.cropmove)&&Gx(e,ox,t.cropmove),Ox(t.cropend)&&Gx(e,lx,t.cropend),Ox(t.crop)&&Gx(e,sx,t.crop),Ox(t.zoom)&&Gx(e,xx,t.zoom),Gx(a,cx,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Gx(a,px,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Gx(a,dx,this.onDblclick),Gx(e.ownerDocument,ux,this.onCropMove),Gx(e.ownerDocument,mx,this.onCropEnd),t.responsive&&Gx(window,fx,this.onResize)}},ug={resize:function(){if(!this.disabled){var e,t,a=this.options,r=this.container,n=this.containerData,s=r.offsetWidth/n.width,l=r.offsetHeight/n.height,o=Math.abs(s-1)>Math.abs(l-1)?s:l;1!==o&&(a.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),a.restore&&(this.setCanvasData(Px(e,(function(t,a){e[a]=t*o}))),this.setCropBoxData(Px(t,(function(e,a){t[a]=e*o})))))}},dblclick:function(){var e,t;this.disabled||this.options.dragMode===nx||this.setDragMode((e=this.dragBox,t=Vp,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?rx:ax))},wheel:function(e){var t=this,a=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*a,e)))},cropStart:function(e){var t=e.buttons,a=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(_x(t)&&1!==t||_x(a)&&0!==a||e.ctrlKey))){var r,n=this.options,s=this.pointers;e.changedTouches?Px(e.changedTouches,(function(e){s[e.identifier]=rg(e)})):s[e.pointerId||0]=rg(e),r=Object.keys(s).length>1&&n.zoomable&&n.zoomOnTouch?Rp:Wx(e.target,ex),bx.test(r)&&!1!==Xx(this.element,ix,{originalEvent:e,action:r})&&(e.preventDefault(),this.action=r,this.cropping=!1,r===Ip&&(this.cropping=!0,$x(this.dragBox,Jp)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var a=this.pointers;e.preventDefault(),!1!==Xx(this.element,ox,{originalEvent:e,action:t})&&(e.changedTouches?Px(e.changedTouches,(function(e){Mx(a[e.identifier]||{},rg(e,!0))})):Mx(a[e.pointerId||0]||{},rg(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,a=this.pointers;e.changedTouches?Px(e.changedTouches,(function(e){delete a[e.identifier]})):delete a[e.pointerId||0],t&&(e.preventDefault(),Object.keys(a).length||(this.action=""),this.cropping&&(this.cropping=!1,zx(this.dragBox,Jp,this.cropped&&this.options.modal)),Xx(this.element,lx,{originalEvent:e,action:t}))}}},mg={change:function(e){var t,a=this.options,r=this.canvasData,n=this.containerData,s=this.cropBoxData,l=this.pointers,o=this.action,i=a.aspectRatio,d=s.left,c=s.top,u=s.width,m=s.height,h=d+u,f=c+m,p=0,x=0,g=n.width,b=n.height,v=!0;!i&&e.shiftKey&&(i=u&&m?u/m:1),this.limited&&(p=s.minLeft,x=s.minTop,g=p+Math.min(n.width,r.width,r.left+r.width),b=x+Math.min(n.height,r.height,r.top+r.height));var y=l[Object.keys(l)[0]],w={x:y.endX-y.startX,y:y.endY-y.startY},j=function(e){switch(e){case $p:h+w.x>g&&(w.x=g-h);break;case Bp:d+w.x<p&&(w.x=p-d);break;case Up:c+w.y<x&&(w.y=x-c);break;case zp:f+w.y>b&&(w.y=b-f)}};switch(o){case Lp:d+=w.x,c+=w.y;break;case $p:if(w.x>=0&&(h>=g||i&&(c<=x||f>=b))){v=!1;break}j($p),(u+=w.x)<0&&(o=Bp,d-=u=-u),i&&(m=u/i,c+=(s.height-m)/2);break;case Up:if(w.y<=0&&(c<=x||i&&(d<=p||h>=g))){v=!1;break}j(Up),m-=w.y,c+=w.y,m<0&&(o=zp,c-=m=-m),i&&(u=m*i,d+=(s.width-u)/2);break;case Bp:if(w.x<=0&&(d<=p||i&&(c<=x||f>=b))){v=!1;break}j(Bp),u-=w.x,d+=w.x,u<0&&(o=$p,d-=u=-u),i&&(m=u/i,c+=(s.height-m)/2);break;case zp:if(w.y>=0&&(f>=b||i&&(d<=p||h>=g))){v=!1;break}j(zp),(m+=w.y)<0&&(o=Up,c-=m=-m),i&&(u=m*i,d+=(s.width-u)/2);break;case Hp:if(i){if(w.y<=0&&(c<=x||h>=g)){v=!1;break}j(Up),m-=w.y,c+=w.y,u=m*i}else j(Up),j($p),w.x>=0?h<g?u+=w.x:w.y<=0&&c<=x&&(v=!1):u+=w.x,w.y<=0?c>x&&(m-=w.y,c+=w.y):(m-=w.y,c+=w.y);u<0&&m<0?(o=qp,c-=m=-m,d-=u=-u):u<0?(o=Wp,d-=u=-u):m<0&&(o=Yp,c-=m=-m);break;case Wp:if(i){if(w.y<=0&&(c<=x||d<=p)){v=!1;break}j(Up),m-=w.y,c+=w.y,u=m*i,d+=s.width-u}else j(Up),j(Bp),w.x<=0?d>p?(u-=w.x,d+=w.x):w.y<=0&&c<=x&&(v=!1):(u-=w.x,d+=w.x),w.y<=0?c>x&&(m-=w.y,c+=w.y):(m-=w.y,c+=w.y);u<0&&m<0?(o=Yp,c-=m=-m,d-=u=-u):u<0?(o=Hp,d-=u=-u):m<0&&(o=qp,c-=m=-m);break;case qp:if(i){if(w.x<=0&&(d<=p||f>=b)){v=!1;break}j(Bp),u-=w.x,d+=w.x,m=u/i}else j(zp),j(Bp),w.x<=0?d>p?(u-=w.x,d+=w.x):w.y>=0&&f>=b&&(v=!1):(u-=w.x,d+=w.x),w.y>=0?f<b&&(m+=w.y):m+=w.y;u<0&&m<0?(o=Hp,c-=m=-m,d-=u=-u):u<0?(o=Yp,d-=u=-u):m<0&&(o=Wp,c-=m=-m);break;case Yp:if(i){if(w.x>=0&&(h>=g||f>=b)){v=!1;break}j($p),m=(u+=w.x)/i}else j(zp),j($p),w.x>=0?h<g?u+=w.x:w.y>=0&&f>=b&&(v=!1):u+=w.x,w.y>=0?f<b&&(m+=w.y):m+=w.y;u<0&&m<0?(o=Wp,c-=m=-m,d-=u=-u):u<0?(o=qp,d-=u=-u):m<0&&(o=Hp,c-=m=-m);break;case Fp:this.move(w.x,w.y),v=!1;break;case Rp:this.zoom(function(e){var t=Np({},e),a=0;return Px(e,(function(e,r){delete t[r],Px(t,(function(t){var r=Math.abs(e.startX-t.startX),n=Math.abs(e.startY-t.startY),s=Math.abs(e.endX-t.endX),l=Math.abs(e.endY-t.endY),o=Math.sqrt(r*r+n*n),i=(Math.sqrt(s*s+l*l)-o)/o;Math.abs(i)>Math.abs(a)&&(a=i)}))})),a}(l),e),v=!1;break;case Ip:if(!w.x||!w.y){v=!1;break}t=Qx(this.cropper),d=y.startX-t.left,c=y.startY-t.top,u=s.minWidth,m=s.minHeight,w.x>0?o=w.y>0?Yp:Hp:w.x<0&&(d-=u,o=w.y>0?qp:Wp),w.y<0&&(c-=m),this.cropped||(Bx(this.cropBox,Kp),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}v&&(s.width=u,s.height=m,s.left=d,s.top=c,this.action=o,this.renderCropBox()),Px(l,(function(e){e.startX=e.endX,e.startY=e.endY}))}},hg={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&$x(this.dragBox,Jp),Bx(this.cropBox,Kp),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Mx({},this.initialImageData),this.canvasData=Mx({},this.initialCanvasData),this.cropBoxData=Mx({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Mx(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Bx(this.dragBox,Jp),$x(this.cropBox,Kp)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Px(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Bx(this.cropper,Gp)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,$x(this.cropper,Gp)),this},destroy:function(){var e=this.element;return e[Mp]?(e[Mp]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.canvasData,r=a.left,n=a.top;return this.moveTo(kx(e)?e:r+Number(e),kx(t)?t:n+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.canvasData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(_x(e)&&(a.left=e,r=!0),_x(t)&&(a.top=t,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(e,t){var a=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(a.width*e/a.naturalWidth,null,t)},zoomTo:function(e,t,a){var r=this.options,n=this.canvasData,s=n.width,l=n.height,o=n.naturalWidth,i=n.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&r.zoomable){var d=o*e,c=i*e;if(!1===Xx(this.element,xx,{ratio:e,oldRatio:s/o,originalEvent:a}))return this;if(a){var u=this.pointers,m=Qx(this.cropper),h=u&&Object.keys(u).length?function(e){var t=0,a=0,r=0;return Px(e,(function(e){var n=e.startX,s=e.startY;t+=n,a+=s,r+=1})),{pageX:t/=r,pageY:a/=r}}(u):{pageX:a.pageX,pageY:a.pageY};n.left-=(d-s)*((h.pageX-m.left-n.left)/s),n.top-=(c-l)*((h.pageY-m.top-n.top)/l)}else Tx(t)&&_x(t.x)&&_x(t.y)?(n.left-=(d-s)*((t.x-n.left)/s),n.top-=(c-l)*((t.y-n.top)/l)):(n.left-=(d-s)/2,n.top-=(c-l)/2);n.width=d,n.height=c,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return _x(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,_x(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(_x(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a=this.imageData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(_x(e)&&(a.scaleX=e,r=!0),_x(t)&&(a.scaleY=t,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.options,r=this.imageData,n=this.canvasData,s=this.cropBoxData;if(this.ready&&this.cropped){e={x:s.left-n.left,y:s.top-n.top,width:s.width,height:s.height};var l=r.width/r.naturalWidth;if(Px(e,(function(t,a){e[a]=t/l})),t){var o=Math.round(e.y+e.height),i=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=i-e.x,e.height=o-e.y}}else e={x:0,y:0,width:0,height:0};return a.rotatable&&(e.rotate=r.rotate||0),a.scalable&&(e.scaleX=r.scaleX||1,e.scaleY=r.scaleY||1),e},setData:function(e){var t=this.options,a=this.imageData,r=this.canvasData,n={};if(this.ready&&!this.disabled&&Tx(e)){var s=!1;t.rotatable&&_x(e.rotate)&&e.rotate!==a.rotate&&(a.rotate=e.rotate,s=!0),t.scalable&&(_x(e.scaleX)&&e.scaleX!==a.scaleX&&(a.scaleX=e.scaleX,s=!0),_x(e.scaleY)&&e.scaleY!==a.scaleY&&(a.scaleY=e.scaleY,s=!0)),s&&this.renderCanvas(!0,!0);var l=a.width/a.naturalWidth;_x(e.x)&&(n.left=e.x*l+r.left),_x(e.y)&&(n.top=e.y*l+r.top),_x(e.width)&&(n.width=e.width*l),_x(e.height)&&(n.height=e.height*l),this.setCropBoxData(n)}return this},getContainerData:function(){return this.ready?Mx({},this.containerData):{}},getImageData:function(){return this.sized?Mx({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&Px(["left","top","width","height","naturalWidth","naturalHeight"],(function(a){t[a]=e[a]})),t},setCanvasData:function(e){var t=this.canvasData,a=t.aspectRatio;return this.ready&&!this.disabled&&Tx(e)&&(_x(e.left)&&(t.left=e.left),_x(e.top)&&(t.top=e.top),_x(e.width)?(t.width=e.width,t.height=e.width/a):_x(e.height)&&(t.height=e.height,t.width=e.height*a),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,a,r=this.cropBoxData,n=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&Tx(e)&&(_x(e.left)&&(r.left=e.left),_x(e.top)&&(r.top=e.top),_x(e.width)&&e.width!==r.width&&(t=!0,r.width=e.width),_x(e.height)&&e.height!==r.height&&(a=!0,r.height=e.height),n&&(t?r.height=r.width/n:a&&(r.width=r.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,a=function(e,t,a,r){var n=t.aspectRatio,s=t.naturalWidth,l=t.naturalHeight,o=t.rotate,i=void 0===o?0:o,d=t.scaleX,c=void 0===d?1:d,u=t.scaleY,m=void 0===u?1:u,h=a.aspectRatio,f=a.naturalWidth,p=a.naturalHeight,x=r.fillColor,g=void 0===x?"transparent":x,b=r.imageSmoothingEnabled,v=void 0===b||b,y=r.imageSmoothingQuality,w=void 0===y?"low":y,j=r.maxWidth,N=void 0===j?1/0:j,_=r.maxHeight,S=void 0===_?1/0:_,k=r.minWidth,C=void 0===k?0:k,E=r.minHeight,T=void 0===E?0:E,O=document.createElement("canvas"),D=O.getContext("2d"),A=ng({aspectRatio:h,width:N,height:S}),P=ng({aspectRatio:h,width:C,height:T},"cover"),M=Math.min(A.width,Math.max(P.width,f)),L=Math.min(A.height,Math.max(P.height,p)),I=ng({aspectRatio:n,width:N,height:S}),F=ng({aspectRatio:n,width:C,height:T},"cover"),R=Math.min(I.width,Math.max(F.width,s)),$=Math.min(I.height,Math.max(F.height,l)),B=[-R/2,-$/2,R,$];return O.width=Ix(M),O.height=Ix(L),D.fillStyle=g,D.fillRect(0,0,M,L),D.save(),D.translate(M/2,L/2),D.rotate(i*Math.PI/180),D.scale(c,m),D.imageSmoothingEnabled=v,D.imageSmoothingQuality=w,D.drawImage.apply(D,[e].concat(Ep(B.map((function(e){return Math.floor(Ix(e))}))))),D.restore(),O}(this.image,this.imageData,t,e);if(!this.cropped)return a;var r=this.getData(e.rounded),n=r.x,s=r.y,l=r.width,o=r.height,i=a.width/Math.floor(t.naturalWidth);1!==i&&(n*=i,s*=i,l*=i,o*=i);var d=l/o,c=ng({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),u=ng({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),m=ng({aspectRatio:d,width:e.width||(1!==i?a.width:l),height:e.height||(1!==i?a.height:o)}),h=m.width,f=m.height;h=Math.min(c.width,Math.max(u.width,h)),f=Math.min(c.height,Math.max(u.height,f));var p=document.createElement("canvas"),x=p.getContext("2d");p.width=Ix(h),p.height=Ix(f),x.fillStyle=e.fillColor||"transparent",x.fillRect(0,0,h,f);var g=e.imageSmoothingEnabled,b=void 0===g||g,v=e.imageSmoothingQuality;x.imageSmoothingEnabled=b,v&&(x.imageSmoothingQuality=v);var y,w,j,N,_,S,k=a.width,C=a.height,E=n,T=s;E<=-l||E>k?(E=0,y=0,j=0,_=0):E<=0?(j=-E,E=0,_=y=Math.min(k,l+E)):E<=k&&(j=0,_=y=Math.min(l,k-E)),y<=0||T<=-o||T>C?(T=0,w=0,N=0,S=0):T<=0?(N=-T,T=0,S=w=Math.min(C,o+T)):T<=C&&(N=0,S=w=Math.min(o,C-T));var O=[E,T,y,w];if(_>0&&S>0){var D=h/l;O.push(j*D,N*D,_*D,S*D)}return x.drawImage.apply(x,[a].concat(Ep(O.map((function(e){return Math.floor(Ix(e))}))))),p},setAspectRatio:function(e){var t=this.options;return this.disabled||kx(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,a=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var n=e===ax,s=t.movable&&e===rx;e=n||s?e:nx,t.dragMode=e,Yx(a,ex,e),zx(a,Vp,n),zx(a,Zp,s),t.cropBoxMovable||(Yx(r,ex,e),zx(r,Vp,n),zx(r,Zp,s))}return this}},fg=Dp.Cropper,pg=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!wx.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Mx({},jx,Tx(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return t=e,r=[{key:"noConflict",value:function(){return window.Cropper=fg,e}},{key:"setDefaults",value:function(e){Mx(jx,Tx(e)&&e)}}],(a=[{key:"init",value:function(){var e,t=this.element,a=t.tagName.toLowerCase();if(!t[Mp]){if(t[Mp]=this,"img"===a){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===a&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var a=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(vx.test(e))yx.test(e)?this.read((n=e.replace(lg,""),s=atob(n),l=new ArrayBuffer(s.length),Px(o=new Uint8Array(l),(function(e,t){o[t]=s.charCodeAt(t)})),l)):this.clone();else{var n,s,l,o,i=new XMLHttpRequest,d=this.clone.bind(this);this.reloading=!0,this.xhr=i,i.onabort=d,i.onerror=d,i.ontimeout=d,i.onprogress=function(){i.getResponseHeader("content-type")!==gx&&i.abort()},i.onload=function(){t.read(i.response)},i.onloadend=function(){t.reloading=!1,t.xhr=null},r.checkCrossOrigin&&eg(e)&&a.crossOrigin&&(e=tg(e)),i.open("GET",e,!0),i.responseType="arraybuffer",i.withCredentials="use-credentials"===a.crossOrigin,i.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,a=this.imageData,r=og(e),n=0,s=1,l=1;if(r>1){this.url=function(e,t){for(var a=[],r=new Uint8Array(e);r.length>0;)a.push(sg.apply(null,Ax(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(a.join("")))}(e,gx);var o=function(e){var t=0,a=1,r=1;switch(e){case 2:a=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90}return{rotate:t,scaleX:a,scaleY:r}}(r);n=o.rotate,s=o.scaleX,l=o.scaleY}t.rotatable&&(a.rotate=n),t.scalable&&(a.scaleX=s,a.scaleY=l),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,a=e.crossOrigin,r=t;this.options.checkCrossOrigin&&eg(t)&&(a||(a="anonymous"),r=tg(t)),this.crossOrigin=a,this.crossOriginUrl=r;var n=document.createElement("img");a&&(n.crossOrigin=a),n.src=r||t,n.alt=e.alt||"The image to crop",this.image=n,n.onload=this.start.bind(this),n.onerror=this.stop.bind(this),$x(n,Xp),e.parentNode.insertBefore(n,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var a=Dp.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Dp.navigator.userAgent),r=function(t,a){Mx(e.imageData,{naturalWidth:t,naturalHeight:a,aspectRatio:t/a}),e.initialImageData=Mx({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||a){var n=document.createElement("img"),s=document.body||document.documentElement;this.sizingImage=n,n.onload=function(){r(n.width,n.height),a||s.removeChild(n)},n.src=t.src,a||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",s.appendChild(n))}else r(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,a=this.image,r=e.parentNode,n=document.createElement("div");n.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var s=n.querySelector(".".concat(Mp,"-container")),l=s.querySelector(".".concat(Mp,"-canvas")),o=s.querySelector(".".concat(Mp,"-drag-box")),i=s.querySelector(".".concat(Mp,"-crop-box")),d=i.querySelector(".".concat(Mp,"-face"));this.container=r,this.cropper=s,this.canvas=l,this.dragBox=o,this.cropBox=i,this.viewBox=s.querySelector(".".concat(Mp,"-view-box")),this.face=d,l.appendChild(a),$x(e,Kp),r.insertBefore(s,e.nextSibling),Bx(a,Xp),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,$x(i,Kp),t.guides||$x(i.getElementsByClassName("".concat(Mp,"-dashed")),Kp),t.center||$x(i.getElementsByClassName("".concat(Mp,"-center")),Kp),t.background&&$x(s,"".concat(Mp,"-bg")),t.highlight||$x(d,Qp),t.cropBoxMovable&&($x(d,Zp),Yx(d,ex,Lp)),t.cropBoxResizable||($x(i.getElementsByClassName("".concat(Mp,"-line")),Kp),$x(i.getElementsByClassName("".concat(Mp,"-point")),Kp)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),Ox(t.ready)&&Kx(e,hx,t.ready,{once:!0}),Xx(e,hx)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),Bx(this.element,Kp)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&kp(t.prototype,a),r&&kp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,a,r}();Mx(pg.prototype,ig,dg,cg,ug,mg,hg);var xg=function(){return xg=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},xg.apply(this,arguments)};function gg(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a}var bg=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],vg={opacity:0,maxWidth:"100%"},yg=J.forwardRef((function(e,t){var a=gg(e,[]),r=a.dragMode,n=void 0===r?"crop":r,s=a.src,l=a.style,o=a.className,i=a.crossOrigin,d=a.scaleX,c=a.scaleY,u=a.enable,m=a.zoomTo,h=a.rotateTo,f=a.alt,p=void 0===f?"picture":f,x=a.ready,g=a.onInitialized,b=gg(a,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),v={scaleY:c,scaleX:d,enable:u,zoomTo:m,rotateTo:h},y=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=Q.useRef(null);return J.useEffect((function(){e.forEach((function(e){e&&("function"==typeof e?e(a.current):e.current=a.current)}))}),[e]),a}(t,Q.useRef(null));Q.useEffect((function(){var e;(null===(e=y.current)||void 0===e?void 0:e.cropper)&&"number"==typeof m&&y.current.cropper.zoomTo(m)}),[a.zoomTo]),Q.useEffect((function(){var e;(null===(e=y.current)||void 0===e?void 0:e.cropper)&&void 0!==s&&y.current.cropper.reset().clear().replace(s)}),[s]),Q.useEffect((function(){if(null!==y.current){var e=new pg(y.current,xg(xg({dragMode:n},b),{ready:function(e){null!==e.currentTarget&&function(e,t){void 0===t&&(t={});var a=t.enable,r=void 0===a||a,n=t.scaleX,s=void 0===n?1:n,l=t.scaleY,o=void 0===l?1:l,i=t.zoomTo,d=void 0===i?0:i,c=t.rotateTo;r?e.enable():e.disable(),e.scaleX(s),e.scaleY(o),void 0!==c&&e.rotateTo(c),d>0&&e.zoomTo(d)}(e.currentTarget.cropper,v),x&&x(e)}}));g&&g(e)}return function(){var e,t;null===(t=null===(e=y.current)||void 0===e?void 0:e.cropper)||void 0===t||t.destroy()}}),[y]);var w,j=(w=xg(xg({},b),{crossOrigin:i,src:s,alt:p}),bg.reduce((function(e,t){var a=e,r=t;return a[r],gg(a,["symbol"==typeof r?r:r+""])}),w));return J.createElement("div",{style:l,className:o},J.createElement("img",xg({},j,{style:vg,ref:y})))}));function wg(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"},child:[]}]})(e)}function jg(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42A8.982 8.982 0 0 0 13 21a9 9 0 0 0 0-18zm2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1zm-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1v1z"},child:[]}]})(e)}function Ng(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 19a6.995 6.995 0 0 1 10-6.32V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h8.08c-.05-.33-.08-.66-.08-1zM4 6l8 5 8-5v2l-8 5-8-5V6zm13.34 16-3.54-3.54 1.41-1.41 2.12 2.12 4.24-4.24L23 16.34 17.34 22z"},child:[]}]})(e)}function _g(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(e)}function Sg(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 0 0 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"},child:[]}]})(e)}function kg(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 6.5a9.77 9.77 0 0 1 8.82 5.5c-1.65 3.37-5.02 5.5-8.82 5.5S4.83 15.37 3.18 12A9.77 9.77 0 0 1 12 6.5m0-2C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 5a2.5 2.5 0 0 1 0 5 2.5 2.5 0 0 1 0-5m0-2c-2.48 0-4.5 2.02-4.5 4.5s2.02 4.5 4.5 4.5 4.5-2.02 4.5-4.5-2.02-4.5-4.5-4.5z"},child:[]}]})(e)}const Cg=({onImageCropped:e,photoPreview:t})=>{console.log("photoPRevious of the imageCropper component",t);const[a,r]=Q.useState(null),[n,s]=Q.useState(!1),[l,o]=Q.useState(t||null),[i,d]=Q.useState(null),[c,u]=Q.useState("");console.log("the vlaue of the image inside imagecrop ",l);const m=Q.useRef(null),h=Q.useRef(null);return Q.useEffect((()=>{o(t||null)}),[t]),oe.jsxs("div",{className:"container mx-auto ",children:[oe.jsxs("label",{className:"block font-bold  text-xs mb-2",children:["Photo",l?oe.jsxs(oe.Fragment,{children:[oe.jsx("img",{src:l,alt:"Cropped",className:"h-20 w-20 rounded-[50%] mx-auto border-1 border-black object-cover"}),oe.jsx("p",{className:"relative bottom-5",children:oe.jsx(Sg,{className:"m-auto text-3xl md:absolute md:left-[44%] hover:cursor-pointer text-white p-1 rounded-full bg-gray-800 hover:bg-gray-700 border border-gray-600",onClick:()=>{d(l),s(!0)}})})]}):oe.jsx(ah,{className:"mt-2 h-20 w-20 object-cover mx-auto text-gray-300"})]}),oe.jsx("input",{type:"file",id:"photo",name:"photo",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const a=new FileReader;a.onloadend=()=>{console.log("Image loaded successfully",a.result),r(a.result),d(a.result),u(t.name),s(!0),e.target.value=null},a.readAsDataURL(t)}},ref:h,className:" md:w-[100%] input-field text-xs box-border mt-2 bg-black text-white  "}),n&&oe.jsx("div",{className:"fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50",children:oe.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-lg max-w-lg w-full",children:[oe.jsx("h2",{className:"text-xl mb-4",children:"Edit Image"}),oe.jsx(yg,{src:i,style:{height:400,width:"100%"},initialAspectRatio:1,aspectRatio:1,guides:!1,ref:m,crossOrigin:"anonymous",viewMode:1}),oe.jsxs("div",{className:"mt-4 flex justify-between",children:[oe.jsx("button",{onClick:()=>{d(null),s(!1)},className:"bg-red-500 font-md text-white px-4 py-2 rounded hover:bg-red-600",children:"Cancel"})," ",oe.jsx("button",{type:"button",onClick:()=>{var t;const a=null==(t=m.current)?void 0:t.cropper;if(a){const t=a.getCroppedCanvas({width:1024,height:1024,imageSmoothingEnabled:!0,imageSmoothingQuality:"high"}),r=(e,t=.8)=>new Promise((a=>{e.toBlob((n=>{n.size<=512e3?a(n):a(r(e,.9*t))}),"image/jpeg",t)}));r(t).then((t=>{const a=new FileReader;a.onloadend=()=>{const t=a.result;o(t),d(null),s(!1),e(t)},a.readAsDataURL(t)})).catch((e=>{console.error("Error during image compression:",e)}))}else console.error("Cropper is not initialized or ref is not set.")},className:"bg-blue-500 font-md text-white px-4 py-2 rounded hover:bg-blue-600",children:"Save"})]})]})})]})};function Eg(e){return Hm({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM609.3 512H471.4c5.4-9.4 8.6-20.3 8.6-32v-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2h61.4C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"},child:[]}]})(e)}function Tg(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 288A144 144 0 1 0 256 0a144 144 0 1 0 0 288zm-94.7 32C72.2 320 0 392.2 0 481.3c0 17 13.8 30.7 30.7 30.7H481.3c17 0 30.7-13.8 30.7-30.7C512 392.2 439.8 320 350.7 320H161.3z"},child:[]}]})(e)}function Og(e){return Hm({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M211.2 96a64 64 0 1 0 -128 0 64 64 0 1 0 128 0zM32 256c0 17.7 14.3 32 32 32h85.6c10.1-39.4 38.6-71.5 75.8-86.6c-9.7-6-21.2-9.4-33.4-9.4H96c-35.3 0-64 28.7-64 64zm461.6 32H576c17.7 0 32-14.3 32-32c0-35.3-28.7-64-64-64H448c-11.7 0-22.7 3.1-32.1 8.6c38.1 14.8 67.4 47.3 77.7 87.4zM391.2 226.4c-6.9-1.6-14.2-2.4-21.6-2.4h-96c-8.5 0-16.7 1.1-24.5 3.1c-30.8 8.1-55.6 31.1-66.1 60.9c-3.5 10-5.5 20.8-5.5 32c0 17.7 14.3 32 32 32h224c17.7 0 32-14.3 32-32c0-11.2-1.9-22-5.5-32c-10.8-30.7-36.8-54.2-68.9-61.6zM563.2 96a64 64 0 1 0 -128 0 64 64 0 1 0 128 0zM321.6 192a80 80 0 1 0 0-160 80 80 0 1 0 0 160zM32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32H608c17.7 0 32-14.3 32-32s-14.3-32-32-32H32z"},child:[]}]})(e)}const Dg="_spinner_eo1y1_1",Ag=()=>oe.jsx("div",{className:Dg}),Pg="_spinner_1j59s_1",Mg=()=>oe.jsx("div",{className:Pg});function Lg(){var e,t;const a="https://sms.evolvu.in/public";Q.useState("");const[r,n]=Q.useState(!1),s=sm(),l=rm(),[o,i]=Q.useState(!1),{student:d}=l.state||{},[c,h]=Q.useState([]),[f,x]=Q.useState([]),[g,b]=Q.useState(null),[v,y]=Q.useState(null);Q.useState(""),Q.useState("");const[w,j]=Q.useState({fatherMobile:"",motherMobile:"",fatherEmail:"",motherEmail:""}),[N,_]=Q.useState(!1),[S,k]=Q.useState(null),C=(null==(e=l.state)?void 0:e.student)||null,E=(null==(t=l.state)?void 0:t.section_id)||null;console.log("Student being edited:",C),console.log("Section ID passed for back navigation:",E),Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),t=yield Uf.get(`${a}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});h(t.data),console.log("claases are",c)}catch(e){hp.error("Error fetching class names")}}))})()}),[a]);const[T,O]=Q.useState({first_name:"",mid_name:"",last_name:"",house:"",student_name:"",dob:"",admission_date:"",stud_id_no:"",stu_aadhaar_no:"",gender:"",category:" ",blood_group:" ",mother_tongue:"",permant_add:" ",birth_place:"",admission_class:"",city:"",state:"",roll_no:"",class_id:"",section_id:"",religion:"",caste:"",subcaste:"",vehicle_no:"",emergency_name:"",emergency_contact:"",emergency_add:"",transport_mode:" ",height:"",weight:"",m_blood_group:"",f_blood_group:"",allergies:"",nationality:"",pincode:"",image_name:null,reg_no:" ",father_name:"",father_occupation:"",f_office_add:"",f_office_tel:"",f_mobile:"",f_email:"",f_dob:" ",m_dob:" ",has_specs:"",parent_adhar_no:"",mother_name:"",mother_occupation:"",m_office_add:"",m_office_tel:"",m_mobile:"",m_emailid:"",m_adhar_no:"",udise_pen_no:"",SetToReceiveSMS:"",SetEmailIDAsUsername:""}),[D,A]=Q.useState({}),[P,M]=Q.useState(null),[L,I]=Q.useState({}),[F,R]=Q.useState({setUsername:!1,receiveSms:!1}),[$,B]=Q.useState({setUsername:!1,receiveSms:!1}),[z,U]=Q.useState({setUsername:!1}),[H,W]=Q.useState({setUsername:!1});console.log("student",d),Q.useEffect((()=>{var e,t,a,r,n,s,l,o,i,c,u,m,h,f,p,x,g,v;d&&(O({first_name:d.first_name||" ",mid_name:d.mid_name||"",last_name:d.last_name||"",house:d.house||"",student_name:d.student_name||"",dob:d.dob||"",admission_date:d.admission_date||"",stud_id_no:d.stud_id_no||"",stu_aadhaar_no:d.stu_aadhaar_no||"",gender:d.gender||"",permant_add:d.permant_add||" ",mother_tongue:d.mother_tongue||"",birth_place:d.birth_place||"",admission_class:d.admission_class||" ",city:d.city||" ",state:d.state||"",roll_no:d.roll_no||"",reg_no:d.reg_no||" ",blood_group:d.blood_group||" ",category:d.category||" ",class_id:d.class_id||"",section_id:d.section_id||"",religion:d.religion||"",caste:d.caste||"",subcaste:d.subcaste||"",transport_mode:d.transport_mode||" ",vehicle_no:d.vehicle_no||"",emergency_name:d.emergency_name||" ",emergency_contact:d.emergency_contact||"",emergency_add:d.emergency_add||"",height:d.height||"",weight:d.weight||"",allergies:d.allergies||"",nationality:d.nationality||"",pincode:d.pincode||"",image_name:d.image_name||null,f_dob:(null==(e=null==d?void 0:d.parents)?void 0:e.f_dob)||" ",m_dob:(null==(t=null==d?void 0:d.parents)?void 0:t.m_dob)||" ",father_name:(null==(a=null==d?void 0:d.parents)?void 0:a.father_name)||" ",father_occupation:(null==(r=null==d?void 0:d.parents)?void 0:r.father_occupation)||"",f_office_add:(null==(n=null==d?void 0:d.parents)?void 0:n.f_office_add)||"  ",f_office_tel:(null==(s=null==d?void 0:d.parents)?void 0:s.f_office_tel)||"",f_mobile:(null==(l=null==d?void 0:d.parents)?void 0:l.f_mobile)||"",f_email:(null==(o=null==d?void 0:d.parents)?void 0:o.f_email)||"",parent_adhar_no:(null==(i=null==d?void 0:d.parents)?void 0:i.parent_adhar_no)||"",mother_name:(null==(c=null==d?void 0:d.parents)?void 0:c.mother_name)||" ",mother_occupation:(null==(u=null==d?void 0:d.parents)?void 0:u.mother_occupation)||"",m_office_add:(null==(m=null==d?void 0:d.parents)?void 0:m.m_office_add)||" ",m_office_tel:(null==(h=null==d?void 0:d.parents)?void 0:h.m_office_tel)||"",m_mobile:(null==(f=null==d?void 0:d.parents)?void 0:f.m_mobile)||"",m_emailid:(null==(p=null==d?void 0:d.parents)?void 0:p.m_emailid)||"",m_adhar_no:(null==(x=null==d?void 0:d.parents)?void 0:x.m_adhar_no)||"",udise_pen_no:d.udise_pen_no||" ",has_specs:d.has_specs||" ",m_blood_group:(null==(g=null==d?void 0:d.parents)?void 0:g.m_blood_group)||" ",f_blood_group:(null==(v=null==d?void 0:d.parents)?void 0:v.f_blood_group)||" ",SetToReceiveSMS:d.SetToReceiveSMS||"",SetEmailIDAsUsername:d.SetEmailIDAsUsername||""}),R({setUsername:"FatherMob"===d.SetEmailIDAsUsername,receiveSms:"FatherMob"===d.SetToReceiveSMS}),B({setUsername:"MotherMob"===d.SetEmailIDAsUsername,receiveSms:"MotherMob"===d.SetToReceiveSMS}),U({setUsername:"Father"===d.SetEmailIDAsUsername}),W({setUsername:"Mother"===d.SetEmailIDAsUsername}),b(d.class_id||""),y(d.section_id||""),(null==d?void 0:d.image_name)&&M(`${d.image_name}`))}),[d,a]),Q.useEffect((()=>{g&&(()=>{p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),t=yield Uf.get(`${a}/api/get_divisions/${g}`,{headers:{Authorization:`Bearer ${e}`}});x(t.data.divisions)}catch(e){hp.error("Error fetching divisions")}}))})()}),[g,a]),Q.useEffect((()=>{var e,t,a,r,n,s,l;if(d){O((e=>{var t,a,r,n;return m(u({},e),{f_mobile:(null==(t=d.parents)?void 0:t.f_mobile)||"",f_email:(null==(a=d.parents)?void 0:a.f_email)||"",m_mobile:(null==(r=d.parents)?void 0:r.m_mobile)||"",m_emailid:(null==(n=d.parents)?void 0:n.m_emailid)||"",SetToReceiveSMS:d.SetToReceiveSMS||"",SetEmailIDAsUsername:d.SetEmailIDAsUsername||""})}));const o=(null==(e=d.user_master)?void 0:e.user_id)?d.user_master.user_id:null;if(console.log("master user_id",o),null===o)return k(""),void console.log("User ID is undefined, skipping conditions");o===(null==(t=d.parents)?void 0:t.f_mobile)?k("FatherMob"):o===(null==(a=d.parents)?void 0:a.m_mobile)?k("MotherMob"):o===(null==(r=d.parents)?void 0:r.f_email)?k("Father"):o===(null==(n=d.parents)?void 0:n.m_emailid)?k("Mother"):(k(""),console.log("User ID does not match any condition")),d.SetToReceiveSMS===(null==(s=d.parents)?void 0:s.f_mobile)?O((e=>m(u({},e),{SetToReceiveSMS:"Father"}))):d.SetToReceiveSMS===(null==(l=d.parents)?void 0:l.m_mobile)?O((e=>m(u({},e),{SetToReceiveSMS:"Mother"}))):O((e=>m(u({},e),{SetToReceiveSMS:""})))}}),[d]);const Y=(e,t)=>p(this,null,(function*(){var r;i(!0);try{const n=localStorage.getItem("authToken"),s=yield Uf.get(`${a}/api/check-user-id/${e}/${t}`,{headers:{Authorization:`Bearer ${n}`}});return null==(r=null==s?void 0:s.data)?void 0:r.exists}catch(n){return console.error("Error checking username uniqueness:",n),!1}finally{i(!1)}})),q=(e,t,a)=>p(this,null,(function*(){const r=yield Y(d.student_id,t);j(""),r?j((e=>m(u({},e),{[a]:"Username is already taken."}))):(j((e=>m(u({},e),{[a]:""}))),O((t=>m(u({},t),{SetEmailIDAsUsername:e})))),k(e)})),V=e=>{A((e=>m(u({},e),{SetToReceiveSMS:""}))),O((t=>m(u({},t),{SetToReceiveSMS:e})))},G=e=>e?/^\d{10}$/.test(e)?null:"Phone number must be 10 digits":"Phone number is required",K=e=>e?/^\d{12}$/.test(e.replace(/\s+/g,""))?null:"Aadhar card number must be 12 digits":"Aadhar card number is required",X=e=>e?/\S+@\S+\.\S+/.test(e)?null:"Email address is invalid":"Email is required",J=e=>{const{name:t,value:a,checked:r,type:n}=e.target;let s=a;"checkbox"===n&&(s=r),O((e=>m(u({},e),{[t]:s}))),"stud_id_no"!==t&&"stu_aadhaar_no"!==t&&"udise_pen_no"!==t&&"reg_no"!==t||I((e=>m(u({},e),{[t]:void 0})));let l={};"f_mobile"===t?l.f_mobile=G(s):"m_mobile"===t?l.m_mobile=G(s):"parent_adhar_no"===t?l.parent_adhar_no=K(s):"stu_aadhaar_no"===t?l.stu_aadhaar_no=K(s):"m_adhar_no"===t?l.m_adhar_no=K(s):"f_email"!==t&&"m_emailid"!==t||(l[t]=X(s)),A((e=>u(u({},e),l)))};return oe.jsxs("div",{className:" w-[95%] mx-auto p-4",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-3  rounded-md",children:[oe.jsxs("div",{className:"card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Student Information"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>s("/manageStudent",{state:{section_id:E}})})]}),oe.jsx("div",{className:"relative w-full -top-6 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" md:absolute md:right-8 md:top-[5%] text-gray-500",children:[oe.jsx("span",{className:"text-red-500",children:"*"})," indicates mandatory information"]}),oe.jsx("form",{onSubmit:e=>p(this,null,(function*(){var t,n,l;e.preventDefault(),A({}),j({});const o=(()=>{var e,t,a,r,n,s,l,o,i,c,u,m;const h={},f=[T.f_mobile,T.f_email,T.m_mobile,T.m_emailid],p=null==(e=d.user_master)?void 0:e.user_id;S||(null==T?void 0:T.SetEmailIDAsUsername)&&null!=T.SetEmailIDAsUsername&&""!=T.SetEmailIDAsUsername&&(!p||f.includes(T.SetEmailIDAsUsername))?delete h.SetEmailIDAsUsername:h.SetEmailIDAsUsername="User name is required",(null==T?void 0:T.SetToReceiveSMS)&&null!=T.SetToReceiveSMS&&""!=T.SetToReceiveSMS||(h.SetToReceiveSMS="Receive SMS name is required"),(null==(t=T.first_name)?void 0:t.trim())&&null!=T.first_name&&""!=T.first_name||(h.first_name="First name is required"),T.dob&&null!=T.dob&&""!=T.dob&&"0000-00-00"!=T.dob||(h.dob="Date of Birth is required"),T.nationality&&null!=T.nationality&&""!=T.nationality||(h.nationality="Nationality is required"),T.mother_tongue&&null!=T.mother_tongue&&""!=T.mother_tongue||(h.mother_tongue="Mother Tongue is required"),(null==(a=T.student_name)?void 0:a.trim())&&null!=T.student_name&&""!=T.student_name||(h.student_name="Student name is required"),(null==(r=T.reg_no)?void 0:r.trim())&&null!=T.reg_no&&""!=T.reg_no||(h.reg_no="GR number is required"),T.admission_date&&null!=T.admission_date&&""!=T.admission_date&&"0000-00-00"!=T.admission_date||(h.admission_date="Date of admission is required"),(null==(n=T.permant_add)?void 0:n.trim())&&null!=T.permant_add&&""!=T.permant_add||(h.permant_add="Permanent address is required"),(null==(s=T.city)?void 0:s.trim())&&null!=T.city&&""!=T.city||(h.city="City is required"),(null==(l=T.state)?void 0:l.trim())&&null!=T.state&&""!=T.state||(h.state="State is required"),T.category&&"Select"!=T.category&&null!=T.category&&""!=T.category||(h.category="Category selection is required"),T.gender&&"Select"!=T.gender&&null!=T.gender&&""!=T.gender||(h.gender="Gender selection is required"),T.religion&&"Select"!=T.religion&&null!=T.religion&&""!=T.religion||(h.religion="Religion selection is required"),T.admission_class&&"Select"!=T.admission_class&&"null"!=T.admission_class&&""!=T.admission_class||(h.admission_class="Admission class selection is required"),T.class_id&&"Select"!=T.class_id&&null!=T.class_id&&""!=T.class_id||(h.class_id="Class selection is required"),T.section_id&&"Select"!=T.section_id&&null!=T.section_id&&""!=T.section_id||(h.section_id="Division selection is required");const x=G(T.f_mobile);x&&(h.f_mobile=x);const g=G(T.m_mobile);g&&(h.m_mobile=g);const b=K(T.stu_aadhaar_no);b&&(h.stu_aadhaar_no=b);const v=K(T.m_adhar_no);v&&(h.m_adhar_no=v);const y=K(T.parent_adhar_no);y&&(h.parent_adhar_no=y);const w=X(T.f_email);w&&(h.f_email=w);const j=X(T.m_emailid);return j&&(h.m_emailid=j),(null==(o=T.father_name)?void 0:o.trim())&&null!=T.father_name&&""!=T.father_name||(h.father_name="Father Name is required"),(null==(i=T.mother_name)?void 0:i.trim())&&null!=T.mother_name&&""!=T.mother_name||(h.mother_name="Mother Name is required"),(null==(c=T.m_adhar_no)?void 0:c.trim())&&null!=T.m_adhar_no&&""!=T.m_adhar_no||(h.m_adhar_no="Mother Aadhaar Card No. is required"),(null==(u=T.stu_aadhaar_no)?void 0:u.trim())&&null!=T.stu_aadhaar_no&&""!=T.stu_aadhaar_no||(h.stu_aadhaar_no="Student Aadhaar Card No. is required"),(null==(m=T.parent_adhar_no)?void 0:m.trim())&&null!=T.parent_adhar_no&&""!=T.parent_adhar_no||(h.parent_adhar_no="Father Aadhaar Card No. is required"),h})();if(Object.keys(o).length>0)return A(o),void console.log("Validation Errors:",o);const{value:i,key:c}=((e,t)=>{switch(t){case"FatherMob":return{value:e.f_mobile,key:"fatherMobile"};case"MotherMob":return{value:e.m_mobile,key:"motherMobile"};case"Father":return{value:e.f_email,key:"fatherEmail"};case"Mother":return{value:e.m_emailid,key:"motherEmail"};default:return{value:"",key:"general"}}})(T,S);if(!i)return j((e=>m(u({},e),{[c]:"Username is empty or invalid."}))),void hp.error("Please fill a valid username.");if(yield Y(d.student_id,i))return j((e=>m(u({},e),{[c]:"Username is already taken."}))),void hp.error("Username is already taken. Please choose another.");try{_(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const t=m(u({},T),{image_name:r?T.image_name:"",SetEmailIDAsUsername:S||""});200===(yield Uf.put(`${a}/api/students/${d.student_id}`,t,{headers:{Authorization:`Bearer ${e}`}})).status&&(hp.success("Student updated successfully!"),setTimeout((()=>{s("/manageStudent")}),500))}catch(h){console.error("Error:",(null==(t=h.response)?void 0:t.data)||h.message),(null==(l=null==(n=h.response)?void 0:n.data)?void 0:l.errors)?(I(h.response.data.errors||{}),hp.error("Some fields contain duplicate data. Please ensure all values are unique.")):hp.error(h.message||"Backend error occurred while updating data.")}finally{_(!1)}})),className:"md:mx-2 overflow-x-hidden shadow-md py-1 bg-gray-50",children:N?oe.jsxs("div",{className:" inset-0  h-52 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):oe.jsxs("div",{className:"flex flex-col gap-y-3 p-2 md:grid md:grid-cols-4 md:gap-x-14 md:mx-10 ",children:[oe.jsxs("h5",{className:"col-span-4 text-blue-400  relative top-2",children:[" ","Personal Information"]}),oe.jsx("div",{className:" row-span-2  ",children:oe.jsx(Cg,{photoPreview:P,onImageCropped:e=>{n(!0),O((t=>m(u({},t),{image_name:e})))}})}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"first_name",className:"block font-bold text-xs mb-0.5",children:["First Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"first_name",name:"first_name",maxLength:100,value:T.first_name,onChange:J,className:" input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"}),D.first_name&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.first_name})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"mid_name",className:"block font-bold text-xs mb-0.5",children:"Middle Name"}),oe.jsx("input",{type:"text",id:"mid_name",name:"mid_name",maxLength:100,value:T.mid_name,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"lastName",className:"block font-bold text-xs mb-0.5",children:"Last Name"}),oe.jsx("input",{type:"text",id:"lastName",name:"last_name",maxLength:100,value:T.last_name,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"dateOfBirth",className:"block font-bold text-xs mb-0.5",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dateOfBirth",name:"dob",value:T.dob,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),D.dateOfBirth&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.dateOfBirth})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"gender",className:"block font-bold text-xs mb-0.5",children:["Gender ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"gender",name:"gender",value:T.gender,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"M",children:"Male"}),oe.jsx("option",{value:"F",children:"Female"}),oe.jsx("option",{value:"O",children:"Other"})]}),D.gender&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.gender})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsxs("select",{id:"bloodGroup",name:"blood_group",value:T.blood_group,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"religion",className:"block font-bold text-xs mb-0.5",children:["Religion ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"religion",name:"religion",value:T.religion,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"Hindu",children:"Hindu"}),oe.jsx("option",{value:"Christian",children:"Christian"}),oe.jsx("option",{value:"Muslim",children:"Muslim"}),oe.jsx("option",{value:"Sikh",children:"Sikh"}),oe.jsx("option",{value:"Jain",children:"Jain"}),oe.jsx("option",{value:"Buddhist",children:"Buddhist"})]}),D.religion&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.religion})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"caste",className:"block font-bold text-xs mb-0.5",children:"Caste"}),oe.jsx("input",{type:"text",id:"caste",maxLength:100,name:"caste",value:T.caste,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"category",className:"block font-bold text-xs mb-0.5",children:["Category ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"category",name:"category",value:T.category,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"General",children:"General"}),oe.jsx("option",{value:"SC",children:"SC"}),oe.jsx("option",{value:"ST",children:"ST"}),oe.jsx("option",{value:"OBC",children:"OBC"}),oe.jsx("option",{value:"SBC",children:"SBC"}),oe.jsx("option",{value:"NT",children:"NT"}),oe.jsx("option",{value:"VJNT",children:"VJNT"}),oe.jsx("option",{value:"Minority",children:"Minority"})]}),D.category&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.category})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"birthPlace",className:"block font-bold text-xs mb-0.5",children:"Birth Place"}),oe.jsx("input",{type:"text",id:"birthPlace",name:"birth_place",maxLength:50,value:T.birth_place,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"nationality",className:"block font-bold text-xs mb-0.5",children:["Nationality ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"nationality",maxLength:100,name:"nationality",value:T.nationality,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),D.nationality&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.nationality})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"motherTongue",className:"block font-bold text-xs mb-0.5",children:["Mother Tongue ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"motherTongue",name:"mother_tongue",maxLength:20,value:T.mother_tongue,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),D.mother_tongue&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.mother_tongue})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Student Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"studentName",className:"block font-bold text-xs mb-0.5",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"studentName",maxLength:100,name:"student_name",value:T.student_name,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),D.student_name&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.student_name})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"studentClass",className:"block font-bold text-xs mb-0.5",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"studentClass",name:"class_id",value:g,onChange:e=>p(this,null,(function*(){const t=e.target.value;b(t),O((e=>m(u({},e),{class_id:t,section_id:""}))),y("");try{const e=localStorage.getItem("authToken"),r=yield Uf.get(`${a}/api/get_divisions/${t}`,{headers:{Authorization:`Bearer ${e}`}});x(r.data.divisions)}catch(r){hp.error("Error fetching divisions")}})),className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),c.map((e=>oe.jsx("option",{value:e.class_id,children:e.name},e.class_id)))]}),D.class_id&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.class_id})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"division",className:"block font-bold text-xs mb-0.5",children:["Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"division",name:"section_id",value:v,onChange:e=>{const t=e.target.value;y(t),O((e=>m(u({},e),{section_id:t})))},className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",disabled:!g,children:[oe.jsx("option",{value:"",children:"Select"}),f.map((e=>oe.jsx("option",{value:e.section_id,children:e.name},e.section_id)))]}),D.section_id&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.section_id})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"rollNumber",className:"block font-bold text-xs mb-0.5",children:"Roll No."}),oe.jsx("input",{type:"text",id:"rollNumber",maxLength:11,name:"roll_no",value:T.roll_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"grnNumber",className:"block font-bold text-xs mb-0.5",children:["GRN No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"grnNumber",name:"reg_no",maxLength:10,value:T.reg_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),L.reg_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:L.reg_no}),D.reg_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.reg_no})]})," ",oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"house",className:"block font-bold text-xs mb-0.5",children:"House"}),oe.jsxs("select",{id:"house",name:"house",value:T.house,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"D",children:"Diamond"}),oe.jsx("option",{value:"E",children:"Emerald"}),oe.jsx("option",{value:"R",children:"Ruby"}),oe.jsx("option",{value:"S",children:"Sapphire"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"admittedInClass",className:"block font-bold text-xs mb-0.5",children:["Admitted In Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"admittedInClass",name:"admission_class",value:T.admission_class,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"Nursery",children:"Nursery"}),oe.jsx("option",{value:"LKG",children:"LKG"}),oe.jsx("option",{value:"UKG",children:"UKG"}),oe.jsx("option",{value:"1",children:"1"}),oe.jsx("option",{value:"2",children:"2"}),oe.jsx("option",{value:"3",children:"3"}),oe.jsx("option",{value:"4",children:"4"}),oe.jsx("option",{value:"5",children:"5"}),oe.jsx("option",{value:"6",children:"6"}),oe.jsx("option",{value:"7",children:"7"}),oe.jsx("option",{value:"8",children:"8"}),oe.jsx("option",{value:"9",children:"9"}),oe.jsx("option",{value:"10",children:"10"}),oe.jsx("option",{value:"11",children:"11"}),oe.jsx("option",{value:"12",children:"12"})]}),D.admission_class&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.admission_class})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:["Date of Admission ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dataOfAdmission",name:"admission_date",value:T.admission_date,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),D.admission_date&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.admission_date})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentIdNumber",className:"block font-bold text-xs mb-0.5",children:"Student ID No."}),oe.jsx("input",{type:"text",id:"studentIdNumber",name:"stud_id_no",maxLength:25,value:T.stud_id_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),L.stud_id_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:L.stud_id_no})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:["Student Aadhar No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"studentAadharNumber",name:"stu_aadhaar_no",maxLength:12,value:T.stu_aadhaar_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),L.stu_aadhaar_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:L.stu_aadhaar_no}),D.stu_aadhaar_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.stu_aadhaar_no})]})," ",g>99&&oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:"Udise Pen No."}),oe.jsx("input",{type:"text",id:"Udise_no",name:"udise_pen_no",maxLength:11,value:T.udise_pen_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),L.udise_pen_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:L.udise_pen_no})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Address Information"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"address",className:"block font-bold text-xs mb-0.5",children:["Address ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{id:"address",name:"permant_add",maxLength:200,rows:2,value:T.permant_add,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),D.permant_add&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.permant_add})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"city",className:"block font-bold text-xs mb-0.5",children:["City ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"city",name:"city",maxLength:100,value:T.city,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),D.city&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.city})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"state",className:"block font-bold text-xs mb-0.5",children:["State ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"state",maxLength:100,name:"state",value:T.state,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),D.state&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.state})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"pincode",className:"block font-bold text-xs mb-0.5",children:"Pincode"}),oe.jsx("input",{type:"text",id:"pincode",maxLength:6,name:"pincode",value:T.pincode,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Emergency Contact"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"emergencyName",className:"block font-bold text-xs mb-0.5",children:"Emergency Name"}),oe.jsx("input",{type:"text",id:"emergencyName",maxLength:100,name:"emergency_name",value:T.emergency_name,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"emergencyAddress",className:"block font-bold text-xs mb-0.5",children:"Emergency Address"}),oe.jsx("textarea",{id:"emergencyAddress",name:"emergency_add",rows:2,maxLength:200,value:T.emergency_add,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J}),oe.jsxs("div",{className:"flex flex-row items-center gap-2 -mt-1 w-full",children:[oe.jsx("input",{type:"checkbox",id:"sameAs",name:"sameAs",className:"border h-[26px] border-[#ccc] px-3 py-[6px] text-[14px] leading-4 outline-none",onChange:e=>{e.target.checked?O((e=>m(u({},e),{emergency_add:e.permant_add}))):O((e=>m(u({},e),{emergency_add:""})))}}),oe.jsx("label",{htmlFor:"sameAs",className:"text-xs",children:"Same as permanent address"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"emergencyContact",className:" font-bold text-xs mb-0.5",children:["Emergency Contact"," "]}),oe.jsxs("div",{className:"w-full flex flex-row items-center",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"text",inputMode:"numeric",id:"emergencyContact",name:"emergency_contact",maxLength:10,value:T.emergency_contact,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:e=>{const t=e.target.value.replace(/\D/g,"");t.length<=10&&O(m(u({},T),{emergency_contact:t}))}})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"transportMode",className:"block font-bold text-xs mb-0.5",children:"Transport Mode"}),oe.jsxs("select",{id:"transportMode",name:"transport_mode",value:T.transport_mode,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"School Bus",children:"School Bus"}),oe.jsx("option",{value:"Private Van",children:"Private Van"}),oe.jsx("option",{value:"Self",children:"Self"})]}),oe.jsx("input",{type:"text",id:"vehicleNumber",name:"vehicle_no",maxLength:13,placeholder:"Vehicle No.",value:T.vehicle_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Health Information"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"allergies",className:"block font-bold text-xs mb-0.5",children:"Allergies(if any)"}),oe.jsx("input",{type:"text",id:"allergies",name:"allergies",maxLength:200,value:T.allergies,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"height",className:"block font-bold text-xs mb-0.5",children:"Height"}),oe.jsx("input",{type:"text",id:"height",maxLength:4.1,name:"height",value:T.height,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:e=>{const t=e.target.value;/^\d*\.?\d*$/.test(t)&&J(e)}})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"weight",className:"block font-bold text-xs mb-0.5",children:"Weight"}),oe.jsx("input",{type:"text",id:"weight",name:"weight",maxLength:4.1,value:T.weight,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:e=>{const t=e.target.value;/^\d*\.?\d*$/.test(t)&&J(e)}})]}),oe.jsxs("div",{className:"  flex gap-4 pt-[7px]",children:[oe.jsx("div",{htmlFor:"weight",className:"block font-bold text-[.9em] mt-4 ",children:"Has Spectacles"}),oe.jsxs("div",{className:"flex items-center gap-6 mt-3",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"radio",id:"yes",name:"has_specs",checked:"Y"==T.has_specs,value:"Y",onChange:J}),oe.jsx("label",{htmlFor:"yes",className:"ml-1",children:"Yes"})]}),oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"radio",id:"no",name:"has_specs",checked:"N"==T.has_specs,value:"N",onChange:J}),oe.jsx("label",{htmlFor:"no",className:"ml-1",children:"No"})]})]})]}),oe.jsx("div",{className:"w-full col-span-4 relative top-4",children:oe.jsx("div",{className:"w-full mx-auto",children:oe.jsxs("h3",{className:"text-blue-500 w-full mx-auto text-center  md:text-[1.2em] text-nowrap font-bold",children:[" ",oe.jsx(Eg,{className:"text-[1.4em] text-blue-700 inline"})," ","Parent's Information :"," "]})})}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Father Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"email",name:"father_name",maxLength:100,value:T.father_name,onChange:J,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"}),D.father_name&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.father_name})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Occupation"}),oe.jsx("input",{type:"text",id:"email",maxLength:100,name:"father_occupation",value:T.father_occupation,onChange:J,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsxs("select",{id:"bloodGroup",name:"f_blood_group",value:T.f_blood_group,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Father Aadhaar Card No."," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"email",name:"parent_adhar_no",maxLength:12,value:T.parent_adhar_no,onChange:J,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"}),D.parent_adhar_no&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.parent_adhar_no})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Office Address"}),oe.jsx("textarea",{id:"email",rows:2,maxLength:200,name:"f_office_add",value:T.f_office_add,onChange:J,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"telephone",className:"block font-bold text-xs mb-0.5",children:"Telephone"}),oe.jsx("input",{type:"text",maxLength:11,id:"telephone",name:"f_office_tel",value:T.f_office_tel,onChange:e=>{const t=e.target.value.replace(/\D/g,"");t.length<=11&&O(m(u({},T),{f_office_tel:t}))},className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"phone",className:"block font-bold text-xs mb-0.5",children:["Mobile Number ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",name:"f_mobile",pattern:"\\d{10}",maxLength:"10",value:T.f_mobile,onChange:J,className:"input-field block w-full border-1 border-gray-400 outline-none rounded-r-md py-1 px-3 bg-white shadow-inner"})]}),L.phone&&oe.jsx("span",{className:"error",children:L.phone[0]}),D.f_mobile&&oe.jsx("span",{className:" text-red-500 text-xs",children:D.f_mobile})," ",w.fatherMobile&&oe.jsx("span",{className:"block text-red-500 text-xs",children:w.fatherMobile}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",id:"setusernameFatherMob",name:"setUsername",onChange:()=>p(this,null,(function*(){j(""),A((e=>m(u({},e),{SetEmailIDAsUsername:""}))),k("FatherMob"),yield q("FatherMob",T.f_mobile,"fatherMobile")})),checked:"FatherMob"===S}),oe.jsx("label",{htmlFor:"setusernameFatherMob",children:"Set this as username"}),"FatherMob"===S&&o&&oe.jsx("div",{children:oe.jsx(Mg,{})})]}),oe.jsx("div",{className:D.SetEmailIDAsUsername?"h-2":"",children:D.SetEmailIDAsUsername&&oe.jsx("span",{className:"text-red-500 text-xs relative left-5 -top-2",children:D.SetEmailIDAsUsername})}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",name:"receiveSms",value:"Father",id:"receiveSmsmob",checked:"Father"===T.SetToReceiveSMS||T.SetToReceiveSMS==T.f_mobile,onChange:()=>V("Father")}),oe.jsx("label",{htmlFor:"receiveSmsmob",children:"Set to receive SMS at this no."})]}),D.SetToReceiveSMS&&oe.jsx("span",{className:"text-red-500 text-xs relative left-5 -top-2",children:D.SetToReceiveSMS})," "]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Email Id ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"email",id:"email",name:"f_email",maxLength:50,value:T.f_email,onChange:J,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"}),D.f_email&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.f_email}),w.fatherEmail&&oe.jsx("span",{className:"block text-red-500 text-xs",children:w.fatherEmail}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",id:"setUserNameFather",name:"setUsername",onChange:()=>p(this,null,(function*(){j(""),A((e=>m(u({},e),{SetEmailIDAsUsername:""}))),k("Father"),yield q("Father",T.f_email,"fatherEmail")})),checked:"Father"===S}),oe.jsx("label",{htmlFor:"setUserNameFather",children:"Set this as username"}),"Father"===S&&o&&oe.jsx("div",{children:oe.jsx(Mg,{})})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Father Date Of Birth"}),oe.jsx("input",{type:"date",id:"dataOfAdmission",name:"f_dob",value:T.f_dob,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Mother Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"email",maxLength:100,name:"mother_name",value:T.mother_name,onChange:J,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"}),D.mother_name&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.mother_name})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Occupation"}),oe.jsx("input",{type:"text",id:"email",maxLength:100,name:"mother_occupation",value:T.mother_occupation,onChange:J,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsxs("select",{id:"bloodGroup",name:"m_blood_group",value:T.m_blood_group,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Mother Aadhaar Card No."," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"email",name:"m_adhar_no",maxLength:12,value:T.m_adhar_no,onChange:J,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"}),D.m_adhar_no&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.m_adhar_no})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Office Address"}),oe.jsx("textarea",{id:"email",rows:2,maxLength:200,name:"m_office_add",value:T.m_office_add,onChange:J,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"m_office_tel",className:"block font-bold text-xs mb-0.5",children:"Telephone"}),oe.jsx("input",{type:"text",maxLength:11,id:"m_office_tel",name:"m_office_tel",value:T.m_office_tel,onChange:e=>{const t=e.target.value.replace(/\D/g,"");t.length<=11&&O(m(u({},T),{m_office_tel:t}))},className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"phone",className:"block font-bold text-xs mb-0.5",children:["Mobile Number ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",name:"m_mobile",pattern:"\\d{10}",maxLength:"10",value:T.m_mobile,onChange:J,className:"input-field block w-full border-1 border-gray-400 outline-none rounded-r-md py-1 px-3 bg-white shadow-inner"})]}),L.phone&&oe.jsx("span",{className:"error",children:L.phone[0]}),D.m_mobile&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.m_mobile})," ",w.motherMobile&&oe.jsx("span",{className:"block text-red-500 text-xs",children:w.motherMobile}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",id:"setusernameMotherMob",name:"setUsername",onChange:()=>p(this,null,(function*(){j(""),A((e=>m(u({},e),{SetEmailIDAsUsername:""}))),k("MotherMob"),yield q("MotherMob",T.m_mobile,"motherMobile")})),checked:"MotherMob"===S}),oe.jsx("label",{htmlFor:"setusernameMotherMob",children:"Set this as username"}),"MotherMob"===S&&o&&oe.jsx("div",{children:oe.jsx(Mg,{})})]}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",name:"receiveSms",value:"Mother",id:"receiveSmsmobMother",checked:"Mother"===T.SetToReceiveSMS||T.SetToReceiveSMS==T.m_mobile,onChange:()=>V("Mother")}),oe.jsx("label",{htmlFor:"receiveSmsmobMother",children:"Set to receive SMS at this no."})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Email Id ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"email",id:"email",name:"m_emailid",maxLength:50,value:T.m_emailid,onChange:J,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"}),D.m_emailid&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.m_emailid})," ",w.motherEmail&&oe.jsx("span",{className:"block text-red-500 text-xs",children:w.motherEmail}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",id:"emailuser",name:"setUsername",onChange:()=>p(this,null,(function*(){j(""),A((e=>m(u({},e),{SetEmailIDAsUsername:""}))),k("Mother"),yield q("Mother",T.m_emailid,"motherEmail")})),checked:"Mother"===S}),oe.jsx("label",{htmlFor:"emailuser",children:"Set this as username"}),"Mother"===S&&o&&oe.jsx("div",{children:oe.jsx(Mg,{})})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Mother Date Of Birth"}),oe.jsx("input",{type:"date",id:"dataOfAdmission",name:"m_dob",value:T.m_dob,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:J})]}),oe.jsxs("div",{className:"  col-span-3  mt-4 text-right space-x-2",children:[oe.jsx("button",{style:{backgroundColor:"#2196F3"},className:" text-white font-bold py-1 border-1 border-blue-500 px-4 rounded",children:"Update"}),oe.jsx("button",{onClick:()=>{s("/manageStudent",{state:{section_id:E}})},className:"text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})]})]})})]})]})}var Ig,Fg={exports:{}};
/*!
    	Copyright (c) 2018 Jed Watson.
    	Licensed under the MIT License (MIT), see
    	http://jedwatson.github.io/classnames
    */Ig=Fg,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=r(e,a(n)))}return e}function a(a){if("string"==typeof a||"number"==typeof a)return a;if("object"!=typeof a)return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var n="";for(var s in a)e.call(a,s)&&a[s]&&(n=r(n,s));return n}function r(e,t){return t?e?e+" "+t:e+t:e}Ig.exports?(t.default=t,Ig.exports=t):window.classNames=t}();var Rg=Fg.exports;const $g=n(Rg);function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Bg.apply(this,arguments)}function zg(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function Ug(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Hg(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function Wg(e,t){return Object.keys(t).reduce((function(a,r){var n,s=a,l=s[Ug(r)],o=s[r],i=zg(s,[Ug(r),r].map(Hg)),d=t[r],c=function(e,t,a){var r=Q.useRef(void 0!==e),n=Q.useState(t),s=n[0],l=n[1],o=void 0!==e,i=r.current;return r.current=o,!o&&i&&s!==t&&l(t),[o?e:s,Q.useCallback((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];a&&a.apply(void 0,[e].concat(r)),l(e)}),[a])]}(o,l,e[d]),u=c[0],m=c[1];return Bg({},i,((n={})[r]=u,n[d]=m,n))}),e)}function Yg(e,t){return(Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Yg(e,t)}const Vg=Q.createContext({prefixes:{},breakpoints:["xxl","xl","lg","md","sm","xs"],minBreakpoint:"xs"});function Gg(e,t){const{prefixes:a}=Q.useContext(Vg);return e||a[t]||t}function Kg(e){return e&&e.ownerDocument||document}function Xg(e,t){return function(e){var t=Kg(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Qg=/([A-Z])/g,Jg=/^ms-/;function Zg(e){return function(e){return e.replace(Qg,"-$1").toLowerCase()}(e).replace(Jg,"-ms-")}var eb=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function tb(e,t){var a="",r="";if("string"==typeof t)return e.style.getPropertyValue(Zg(t))||Xg(e).getPropertyValue(Zg(t));Object.keys(t).forEach((function(n){var s=t[n];s||0===s?function(e){return!(!e||!eb.test(e))}(n)?r+=n+"("+s+") ":a+=Zg(n)+": "+s+";":e.style.removeProperty(Zg(n))})),r&&(a+="transform: "+r+";"),e.style.cssText+=";"+a}var ab={exports:{}};function rb(){}function nb(){}nb.resetWarningCache=rb,ab.exports=function(){function e(e,t,a,r,n,s){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==s){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:nb,resetWarningCache:rb};return a.PropTypes=a,a}();var sb=ab.exports;const lb=n(sb),ob={disabled:!1},ib=J.createContext(null);var db=function(e){return e.scrollTop},cb="unmounted",ub="exited",mb="entering",hb="entered",fb="exiting",pb=function(e){function t(t,a){var r;r=e.call(this,t,a)||this;var n,s=a&&!a.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(n=ub,r.appearStatus=mb):n=hb:n=t.unmountOnExit||t.mountOnEnter?cb:ub,r.state={status:n},r.nextCallback=null,r}qg(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===cb?{status:ub}:null};var a=t.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var a=this.state.status;this.props.in?a!==mb&&a!==hb&&(t=mb):a!==mb&&a!==hb||(t=fb)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,a,r=this.props.timeout;return e=t=a=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,a=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:a}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===mb){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:pu.findDOMNode(this);a&&db(a)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ub&&this.setState({status:cb})},a.performEnter=function(e){var t=this,a=this.props.enter,r=this.context?this.context.isMounting:e,n=this.props.nodeRef?[r]:[pu.findDOMNode(this),r],s=n[0],l=n[1],o=this.getTimeouts(),i=r?o.appear:o.enter;!e&&!a||ob.disabled?this.safeSetState({status:hb},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,l),this.safeSetState({status:mb},(function(){t.props.onEntering(s,l),t.onTransitionEnd(i,(function(){t.safeSetState({status:hb},(function(){t.props.onEntered(s,l)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,a=this.getTimeouts(),r=this.props.nodeRef?void 0:pu.findDOMNode(this);t&&!ob.disabled?(this.props.onExit(r),this.safeSetState({status:fb},(function(){e.props.onExiting(r),e.onTransitionEnd(a.exit,(function(){e.safeSetState({status:ub},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ub},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,a=!0;return this.nextCallback=function(r){a&&(a=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var a=this.props.nodeRef?this.props.nodeRef.current:pu.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(a&&!r){if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],s=n[0],l=n[1];this.props.addEndListener(s,l)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===cb)return null;var t=this.props,a=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=zg(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return J.createElement(ib.Provider,{value:null},"function"==typeof a?a(e,r):J.cloneElement(J.Children.only(a),r))},t}(J.Component);function xb(){}pb.contextType=ib,pb.propTypes={},pb.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:xb,onEntering:xb,onEntered:xb,onExit:xb,onExiting:xb,onExited:xb},pb.UNMOUNTED=cb,pb.EXITED=ub,pb.ENTERING=mb,pb.ENTERED=hb,pb.EXITING=fb;const gb=pb,bb=!("undefined"==typeof window||!window.document||!window.document.createElement);var vb=!1,yb=!1;try{var wb={get passive(){return vb=!0},get once(){return yb=vb=!0}};bb&&(window.addEventListener("test",wb,wb),window.removeEventListener("test",wb,!0))}catch(mMe){}function jb(e,t,a,r){if(r&&"boolean"!=typeof r&&!yb){var n=r.once,s=r.capture,l=a;!yb&&n&&(l=a.__once||function e(r){this.removeEventListener(t,e,s),a.call(this,r)},a.__once=l),e.addEventListener(t,l,vb?r:s)}e.addEventListener(t,a,r)}function Nb(e,t,a,r){return jb(e,t,a,r),function(){!function(e,t,a,r){var n=r&&"boolean"!=typeof r?r.capture:r;e.removeEventListener(t,a,n),a.__once&&e.removeEventListener(t,a.__once,n)}(e,t,a,r)}}function _b(e,t,a){void 0===a&&(a=5);var r=!1,n=setTimeout((function(){r||function(e,t,a,r){if(void 0===r&&(r=!0),e){var n=document.createEvent("HTMLEvents");n.initEvent(t,a,r),e.dispatchEvent(n)}}(e,"transitionend",!0)}),t+a),s=Nb(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(n),s()}}function Sb(e,t,a,r){var n,s;null==a&&(n=tb(e,"transitionDuration")||"",s=-1===n.indexOf("ms")?1e3:1,a=parseFloat(n)*s||0);var l=_b(e,a,r),o=Nb(e,"transitionend",t);return function(){l(),o()}}function kb(e,t){const a=tb(e,t)||"",r=-1===a.indexOf("ms")?1e3:1;return parseFloat(a)*r}function Cb(e,t){const a=kb(e,"transitionDuration"),r=kb(e,"transitionDelay"),n=Sb(e,(a=>{a.target===e&&(n(),t(a))}),a+r)}function Eb(...e){return e.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!=typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(...a){e.apply(this,a),t.apply(this,a)}}),null)}function Tb(e){e.offsetHeight}const Ob=e=>e&&"function"!=typeof e?t=>{e.current=t}:e;function Db(e,t){return Q.useMemo((()=>function(e,t){const a=Ob(e),r=Ob(t);return e=>{a&&a(e),r&&r(e)}}(e,t)),[e,t])}const Ab=J.forwardRef(((e,t)=>{var a=e,{onEnter:r,onEntering:n,onEntered:s,onExit:l,onExiting:o,onExited:i,addEndListener:d,children:c,childRef:f}=a,p=h(a,["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"]);const x=Q.useRef(null),g=Db(x,f),b=e=>{var t;g((t=e)&&"setState"in t?pu.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&x.current&&e(x.current,t)},y=Q.useCallback(v(r),[r]),w=Q.useCallback(v(n),[n]),j=Q.useCallback(v(s),[s]),N=Q.useCallback(v(l),[l]),_=Q.useCallback(v(o),[o]),S=Q.useCallback(v(i),[i]),k=Q.useCallback(v(d),[d]);return oe.jsx(gb,m(u({ref:t},p),{onEnter:y,onEntered:j,onEntering:w,onExit:N,onExited:S,onExiting:_,addEndListener:k,nodeRef:x,children:"function"==typeof c?(e,t)=>c(e,m(u({},t),{ref:b})):J.cloneElement(c,{ref:b})}))})),Pb={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Mb(e,t){const a=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],r=Pb[e];return a+parseInt(tb(t,r[0]),10)+parseInt(tb(t,r[1]),10)}const Lb={[ub]:"collapse",[fb]:"collapsing",[mb]:"collapsing",[hb]:"collapse show"},Ib=J.forwardRef(((e,t)=>{var a=e,{onEnter:r,onEntering:n,onEntered:s,onExit:l,onExiting:o,className:i,children:d,dimension:c="height",in:f=!1,timeout:p=300,mountOnEnter:x=!1,unmountOnExit:g=!1,appear:b=!1,getDimensionValue:v=Mb}=a,y=h(a,["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","in","timeout","mountOnEnter","unmountOnExit","appear","getDimensionValue"]);const w="function"==typeof c?c():c,j=Q.useMemo((()=>Eb((e=>{e.style[w]="0"}),r)),[w,r]),N=Q.useMemo((()=>Eb((e=>{const t=`scroll${w[0].toUpperCase()}${w.slice(1)}`;e.style[w]=`${e[t]}px`}),n)),[w,n]),_=Q.useMemo((()=>Eb((e=>{e.style[w]=null}),s)),[w,s]),S=Q.useMemo((()=>Eb((e=>{e.style[w]=`${v(w,e)}px`,Tb(e)}),l)),[l,v,w]),k=Q.useMemo((()=>Eb((e=>{e.style[w]=null}),o)),[w,o]);return oe.jsx(Ab,m(u({ref:t,addEndListener:Cb},y),{"aria-expanded":y.role?f:null,onEnter:j,onEntering:N,onEntered:_,onExit:S,onExiting:k,childRef:d.ref,in:f,timeout:p,mountOnEnter:x,unmountOnExit:g,appear:b,children:(e,t)=>J.cloneElement(d,m(u({},t),{className:$g(i,d.props.className,Lb[e],"width"===w&&"collapse-horizontal")}))}))}));function Fb(e){const t=function(e){const t=Q.useRef(e);return Q.useEffect((()=>{t.current=e}),[e]),t}(e);return Q.useCallback((function(...e){return t.current&&t.current(...e)}),[t])}function Rb(){const e=Q.useRef(!0),t=Q.useRef((()=>e.current));return Q.useEffect((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}function $b(e){const t=Q.useRef(null);return Q.useEffect((()=>{t.current=e})),t.current}const Bb="undefined"!=typeof global&&global.navigator&&"ReactNative"===global.navigator.product,zb="undefined"!=typeof document||Bb?Q.useLayoutEffect:Q.useEffect,Ub=["as","disabled"];function Hb({tagName:e,disabled:t,href:a,target:r,rel:n,role:s,onClick:l,tabIndex:o=0,type:i}){e||(e=null!=a||null!=r||null!=n?"a":"button");const d={tagName:e};if("button"===e)return[{type:i||"button",disabled:t},d];const c=r=>{(t||"a"===e&&function(e){return!e||"#"===e.trim()}(a))&&r.preventDefault(),t?r.stopPropagation():null==l||l(r)};return"a"===e&&(a||(a="#"),t&&(a=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:t?void 0:o,href:a,target:"a"===e?r:void 0,"aria-disabled":t||void 0,rel:"a"===e?n:void 0,onClick:c,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),c(e))}},d]}const Wb=Q.forwardRef(((e,t)=>{let{as:a,disabled:r}=e,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,Ub);const[s,{tagName:l}]=Hb(Object.assign({tagName:a,disabled:r},n));return oe.jsx(l,Object.assign({},n,s,{ref:t}))}));Wb.displayName="Button";const Yb=Wb,qb=["onKeyDown"],Vb=Q.forwardRef(((e,t)=>{let{onKeyDown:a}=e,r=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,qb);const[n]=Hb(Object.assign({tagName:"a"},r)),s=Fb((e=>{n.onKeyDown(e),null==a||a(e)}));return(l=r.href)&&"#"!==l.trim()&&"button"!==r.role?oe.jsx("a",Object.assign({ref:t},r,{onKeyDown:a})):oe.jsx("a",Object.assign({ref:t},r,n,{onKeyDown:s}));var l}));Vb.displayName="Anchor";const Gb={[mb]:"show",[hb]:"show"},Kb=Q.forwardRef(((e,t)=>{var a=e,{className:r,children:n,transitionClasses:s={},onEnter:l}=a,o=h(a,["className","children","transitionClasses","onEnter"]);const i=u({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},o),d=Q.useCallback(((e,t)=>{Tb(e),null==l||l(e,t)}),[l]);return oe.jsx(Ab,m(u({ref:t,addEndListener:Cb},i),{onEnter:d,childRef:n.ref,children:(e,t)=>Q.cloneElement(n,m(u({},t),{className:$g("fade",r,n.props.className,Gb[e],s[e])}))}))}));Kb.displayName="Fade";const Xb={"aria-label":lb.string,onClick:lb.func,variant:lb.oneOf(["white"])},Qb=Q.forwardRef(((e,t)=>{var a=e,{className:r,variant:n,"aria-label":s="Close"}=a,l=h(a,["className","variant","aria-label"]);return oe.jsx("button",u({ref:t,type:"button",className:$g("btn-close",n&&`btn-close-${n}`,r),"aria-label":s},l))}));Qb.displayName="CloseButton",Qb.propTypes=Xb;const Jb=Q.forwardRef(((e,t)=>{var a=e,{as:r,bsPrefix:n,variant:s="primary",size:l,active:o=!1,disabled:i=!1,className:d}=a,c=h(a,["as","bsPrefix","variant","size","active","disabled","className"]);const f=Gg(n,"btn"),[p,{tagName:x}]=Hb(u({tagName:r,disabled:i},c)),g=x;return oe.jsx(g,m(u(u({},p),c),{ref:t,disabled:i,className:$g(d,f,o&&"active",s&&`${f}-${s}`,l&&`${f}-${l}`,c.href&&i&&"disabled")}))}));Jb.displayName="Button";const Zb=Q.createContext(null);function ev(e){const t=function(e){const t=Q.useRef(e);return t.current=e,t}(e);Q.useEffect((()=>()=>t.current()),[])}Zb.displayName="CardHeaderContext";var tv=Function.prototype.bind.call(Function.prototype.call,[].slice);function av(e,t){return tv(e.querySelectorAll(t))}function rv(){const[,e]=Q.useReducer((e=>!e),!1);return e}const nv=Q.createContext(null);var sv=Object.prototype.hasOwnProperty;function lv(e,t,a){for(a of e.keys())if(ov(a,t))return a}function ov(e,t){var a,r,n;if(e===t)return!0;if(e&&t&&(a=e.constructor)===t.constructor){if(a===Date)return e.getTime()===t.getTime();if(a===RegExp)return e.toString()===t.toString();if(a===Array){if((r=e.length)===t.length)for(;r--&&ov(e[r],t[r]););return-1===r}if(a===Set){if(e.size!==t.size)return!1;for(r of e){if((n=r)&&"object"==typeof n&&!(n=lv(t,n)))return!1;if(!t.has(n))return!1}return!0}if(a===Map){if(e.size!==t.size)return!1;for(r of e){if((n=r[0])&&"object"==typeof n&&!(n=lv(t,n)))return!1;if(!ov(r[1],t.get(n)))return!1}return!0}if(a===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(a===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!a||"object"==typeof e){for(a in r=0,e){if(sv.call(e,a)&&++r&&!sv.call(t,a))return!1;if(!(a in t)||!ov(e[a],t[a]))return!1}return Object.keys(t).length===r}}return e!=e&&t!=t}var iv="top",dv="bottom",cv="right",uv="left",mv="auto",hv=[iv,dv,cv,uv],fv="start",pv="end",xv="viewport",gv="popper",bv=hv.reduce((function(e,t){return e.concat([t+"-"+fv,t+"-"+pv])}),[]),vv=[].concat(hv,[mv]).reduce((function(e,t){return e.concat([t,t+"-"+fv,t+"-"+pv])}),[]),yv=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function wv(e){return e.split("-")[0]}function jv(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Nv(e){return e instanceof jv(e).Element||e instanceof Element}function _v(e){return e instanceof jv(e).HTMLElement||e instanceof HTMLElement}function Sv(e){return"undefined"!=typeof ShadowRoot&&(e instanceof jv(e).ShadowRoot||e instanceof ShadowRoot)}var kv=Math.max,Cv=Math.min,Ev=Math.round;function Tv(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Ov(){return!/^((?!chrome|android).)*safari/i.test(Tv())}function Dv(e,t,a){void 0===t&&(t=!1),void 0===a&&(a=!1);var r=e.getBoundingClientRect(),n=1,s=1;t&&_v(e)&&(n=e.offsetWidth>0&&Ev(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Ev(r.height)/e.offsetHeight||1);var l=(Nv(e)?jv(e):window).visualViewport,o=!Ov()&&a,i=(r.left+(o&&l?l.offsetLeft:0))/n,d=(r.top+(o&&l?l.offsetTop:0))/s,c=r.width/n,u=r.height/s;return{width:c,height:u,top:d,right:i+c,bottom:d+u,left:i,x:i,y:d}}function Av(e){var t=Dv(e),a=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-a)<=1&&(a=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:a,height:r}}function Pv(e,t){var a=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(a&&Sv(a)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Mv(e){return e?(e.nodeName||"").toLowerCase():null}function Lv(e){return jv(e).getComputedStyle(e)}function Iv(e){return["table","td","th"].indexOf(Mv(e))>=0}function Fv(e){return((Nv(e)?e.ownerDocument:e.document)||window.document).documentElement}function Rv(e){return"html"===Mv(e)?e:e.assignedSlot||e.parentNode||(Sv(e)?e.host:null)||Fv(e)}function $v(e){return _v(e)&&"fixed"!==Lv(e).position?e.offsetParent:null}function Bv(e){for(var t=jv(e),a=$v(e);a&&Iv(a)&&"static"===Lv(a).position;)a=$v(a);return a&&("html"===Mv(a)||"body"===Mv(a)&&"static"===Lv(a).position)?t:a||function(e){var t=/firefox/i.test(Tv());if(/Trident/i.test(Tv())&&_v(e)&&"fixed"===Lv(e).position)return null;var a=Rv(e);for(Sv(a)&&(a=a.host);_v(a)&&["html","body"].indexOf(Mv(a))<0;){var r=Lv(a);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return a;a=a.parentNode}return null}(e)||t}function zv(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Uv(e,t,a){return kv(e,Cv(t,a))}function Hv(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Wv(e,t){return t.reduce((function(t,a){return t[a]=e,t}),{})}function Yv(e){return e.split("-")[1]}var qv={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vv(e){var t,a=e.popper,r=e.popperRect,n=e.placement,s=e.variation,l=e.offsets,o=e.position,i=e.gpuAcceleration,d=e.adaptive,c=e.roundOffsets,u=e.isFixed,m=l.x,h=void 0===m?0:m,f=l.y,p=void 0===f?0:f,x="function"==typeof c?c({x:h,y:p}):{x:h,y:p};h=x.x,p=x.y;var g=l.hasOwnProperty("x"),b=l.hasOwnProperty("y"),v=uv,y=iv,w=window;if(d){var j=Bv(a),N="clientHeight",_="clientWidth";j===jv(a)&&"static"!==Lv(j=Fv(a)).position&&"absolute"===o&&(N="scrollHeight",_="scrollWidth"),(n===iv||(n===uv||n===cv)&&s===pv)&&(y=dv,p-=(u&&j===w&&w.visualViewport?w.visualViewport.height:j[N])-r.height,p*=i?1:-1),n!==uv&&(n!==iv&&n!==dv||s!==pv)||(v=cv,h-=(u&&j===w&&w.visualViewport?w.visualViewport.width:j[_])-r.width,h*=i?1:-1)}var S,k=Object.assign({position:o},d&&qv),C=!0===c?function(e,t){var a=e.x,r=e.y,n=t.devicePixelRatio||1;return{x:Ev(a*n)/n||0,y:Ev(r*n)/n||0}}({x:h,y:p},jv(a)):{x:h,y:p};return h=C.x,p=C.y,i?Object.assign({},k,((S={})[y]=b?"0":"",S[v]=g?"0":"",S.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",S)):Object.assign({},k,((t={})[y]=b?p+"px":"",t[v]=g?h+"px":"",t.transform="",t))}var Gv={passive:!0},Kv={left:"right",right:"left",bottom:"top",top:"bottom"};function Xv(e){return e.replace(/left|right|bottom|top/g,(function(e){return Kv[e]}))}var Qv={start:"end",end:"start"};function Jv(e){return e.replace(/start|end/g,(function(e){return Qv[e]}))}function Zv(e){var t=jv(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ey(e){return Dv(Fv(e)).left+Zv(e).scrollLeft}function ty(e){var t=Lv(e),a=t.overflow,r=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(a+n+r)}function ay(e){return["html","body","#document"].indexOf(Mv(e))>=0?e.ownerDocument.body:_v(e)&&ty(e)?e:ay(Rv(e))}function ry(e,t){var a;void 0===t&&(t=[]);var r=ay(e),n=r===(null==(a=e.ownerDocument)?void 0:a.body),s=jv(r),l=n?[s].concat(s.visualViewport||[],ty(r)?r:[]):r,o=t.concat(l);return n?o:o.concat(ry(Rv(l)))}function ny(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function sy(e,t,a){return t===xv?ny(function(e,t){var a=jv(e),r=Fv(e),n=a.visualViewport,s=r.clientWidth,l=r.clientHeight,o=0,i=0;if(n){s=n.width,l=n.height;var d=Ov();(d||!d&&"fixed"===t)&&(o=n.offsetLeft,i=n.offsetTop)}return{width:s,height:l,x:o+ey(e),y:i}}(e,a)):Nv(t)?function(e,t){var a=Dv(e,!1,"fixed"===t);return a.top=a.top+e.clientTop,a.left=a.left+e.clientLeft,a.bottom=a.top+e.clientHeight,a.right=a.left+e.clientWidth,a.width=e.clientWidth,a.height=e.clientHeight,a.x=a.left,a.y=a.top,a}(t,a):ny(function(e){var t,a=Fv(e),r=Zv(e),n=null==(t=e.ownerDocument)?void 0:t.body,s=kv(a.scrollWidth,a.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),l=kv(a.scrollHeight,a.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),o=-r.scrollLeft+ey(e),i=-r.scrollTop;return"rtl"===Lv(n||a).direction&&(o+=kv(a.clientWidth,n?n.clientWidth:0)-s),{width:s,height:l,x:o,y:i}}(Fv(e)))}function ly(e,t,a,r){var n="clippingParents"===t?function(e){var t=ry(Rv(e)),a=["absolute","fixed"].indexOf(Lv(e).position)>=0&&_v(e)?Bv(e):e;return Nv(a)?t.filter((function(e){return Nv(e)&&Pv(e,a)&&"body"!==Mv(e)})):[]}(e):[].concat(t),s=[].concat(n,[a]),l=s[0],o=s.reduce((function(t,a){var n=sy(e,a,r);return t.top=kv(n.top,t.top),t.right=Cv(n.right,t.right),t.bottom=Cv(n.bottom,t.bottom),t.left=kv(n.left,t.left),t}),sy(e,l,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function oy(e){var t,a=e.reference,r=e.element,n=e.placement,s=n?wv(n):null,l=n?Yv(n):null,o=a.x+a.width/2-r.width/2,i=a.y+a.height/2-r.height/2;switch(s){case iv:t={x:o,y:a.y-r.height};break;case dv:t={x:o,y:a.y+a.height};break;case cv:t={x:a.x+a.width,y:i};break;case uv:t={x:a.x-r.width,y:i};break;default:t={x:a.x,y:a.y}}var d=s?zv(s):null;if(null!=d){var c="y"===d?"height":"width";switch(l){case fv:t[d]=t[d]-(a[c]/2-r[c]/2);break;case pv:t[d]=t[d]+(a[c]/2-r[c]/2)}}return t}function iy(e,t){void 0===t&&(t={});var a=t,r=a.placement,n=void 0===r?e.placement:r,s=a.strategy,l=void 0===s?e.strategy:s,o=a.boundary,i=void 0===o?"clippingParents":o,d=a.rootBoundary,c=void 0===d?xv:d,u=a.elementContext,m=void 0===u?gv:u,h=a.altBoundary,f=void 0!==h&&h,p=a.padding,x=void 0===p?0:p,g=Hv("number"!=typeof x?x:Wv(x,hv)),b=m===gv?"reference":gv,v=e.rects.popper,y=e.elements[f?b:m],w=ly(Nv(y)?y:y.contextElement||Fv(e.elements.popper),i,c,l),j=Dv(e.elements.reference),N=oy({reference:j,element:v,strategy:"absolute",placement:n}),_=ny(Object.assign({},v,N)),S=m===gv?_:j,k={top:w.top-S.top+g.top,bottom:S.bottom-w.bottom+g.bottom,left:w.left-S.left+g.left,right:S.right-w.right+g.right},C=e.modifiersData.offset;if(m===gv&&C){var E=C[n];Object.keys(k).forEach((function(e){var t=[cv,dv].indexOf(e)>=0?1:-1,a=[iv,dv].indexOf(e)>=0?"y":"x";k[e]+=E[a]*t}))}return k}const dy={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,a=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var n=a.mainAxis,s=void 0===n||n,l=a.altAxis,o=void 0===l||l,i=a.fallbackPlacements,d=a.padding,c=a.boundary,u=a.rootBoundary,m=a.altBoundary,h=a.flipVariations,f=void 0===h||h,p=a.allowedAutoPlacements,x=t.options.placement,g=wv(x),b=i||(g!==x&&f?function(e){if(wv(e)===mv)return[];var t=Xv(e);return[Jv(e),t,Jv(t)]}(x):[Xv(x)]),v=[x].concat(b).reduce((function(e,a){return e.concat(wv(a)===mv?function(e,t){void 0===t&&(t={});var a=t,r=a.placement,n=a.boundary,s=a.rootBoundary,l=a.padding,o=a.flipVariations,i=a.allowedAutoPlacements,d=void 0===i?vv:i,c=Yv(r),u=c?o?bv:bv.filter((function(e){return Yv(e)===c})):hv,m=u.filter((function(e){return d.indexOf(e)>=0}));0===m.length&&(m=u);var h=m.reduce((function(t,a){return t[a]=iy(e,{placement:a,boundary:n,rootBoundary:s,padding:l})[wv(a)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:a,boundary:c,rootBoundary:u,padding:d,flipVariations:f,allowedAutoPlacements:p}):a)}),[]),y=t.rects.reference,w=t.rects.popper,j=new Map,N=!0,_=v[0],S=0;S<v.length;S++){var k=v[S],C=wv(k),E=Yv(k)===fv,T=[iv,dv].indexOf(C)>=0,O=T?"width":"height",D=iy(t,{placement:k,boundary:c,rootBoundary:u,altBoundary:m,padding:d}),A=T?E?cv:uv:E?dv:iv;y[O]>w[O]&&(A=Xv(A));var P=Xv(A),M=[];if(s&&M.push(D[C]<=0),o&&M.push(D[A]<=0,D[P]<=0),M.every((function(e){return e}))){_=k,N=!1;break}j.set(k,M)}if(N)for(var L=function(e){var t=v.find((function(t){var a=j.get(t);if(a)return a.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},I=f?3:1;I>0&&"break"!==L(I);I--);t.placement!==_&&(t.modifiersData[r]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function cy(e,t,a){return void 0===a&&(a={x:0,y:0}),{top:e.top-t.height-a.y,right:e.right-t.width+a.x,bottom:e.bottom-t.height+a.y,left:e.left-t.width-a.x}}function uy(e){return[iv,cv,dv,uv].some((function(t){return e[t]>=0}))}function my(e,t,a){void 0===a&&(a=!1);var r,n,s=_v(t),l=_v(t)&&function(e){var t=e.getBoundingClientRect(),a=Ev(t.width)/e.offsetWidth||1,r=Ev(t.height)/e.offsetHeight||1;return 1!==a||1!==r}(t),o=Fv(t),i=Dv(e,l,a),d={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(s||!s&&!a)&&(("body"!==Mv(t)||ty(o))&&(d=(r=t)!==jv(r)&&_v(r)?{scrollLeft:(n=r).scrollLeft,scrollTop:n.scrollTop}:Zv(r)),_v(t)?((c=Dv(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=ey(o))),{x:i.left+d.scrollLeft-c.x,y:i.top+d.scrollTop-c.y,width:i.width,height:i.height}}function hy(e){var t=new Map,a=new Set,r=[];function n(e){a.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!a.has(e)){var r=t.get(e);r&&n(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){a.has(e.name)||n(e)})),r}var fy={placement:"bottom",modifiers:[],strategy:"absolute"};function py(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}const xy=function(e){void 0===e&&(e={});var t=e,a=t.defaultModifiers,r=void 0===a?[]:a,n=t.defaultOptions,s=void 0===n?fy:n;return function(e,t,a){void 0===a&&(a=s);var n,l,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},fy,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],d=!1,c={state:o,setOptions:function(a){var n="function"==typeof a?a(o.options):a;u(),o.options=Object.assign({},s,o.options,n),o.scrollParents={reference:Nv(e)?ry(e):e.contextElement?ry(e.contextElement):[],popper:ry(t)};var l,d,m=function(e){var t=hy(e);return yv.reduce((function(e,a){return e.concat(t.filter((function(e){return e.phase===a})))}),[])}((l=[].concat(r,o.options.modifiers),d=l.reduce((function(e,t){var a=e[t.name];return e[t.name]=a?Object.assign({},a,t,{options:Object.assign({},a.options,t.options),data:Object.assign({},a.data,t.data)}):t,e}),{}),Object.keys(d).map((function(e){return d[e]}))));return o.orderedModifiers=m.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,a=e.options,r=void 0===a?{}:a,n=e.effect;if("function"==typeof n){var s=n({state:o,name:t,instance:c,options:r}),l=function(){};i.push(s||l)}})),c.update()},forceUpdate:function(){if(!d){var e=o.elements,t=e.reference,a=e.popper;if(py(t,a)){o.rects={reference:my(t,Bv(a),"fixed"===o.options.strategy),popper:Av(a)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var n=o.orderedModifiers[r],s=n.fn,l=n.options,i=void 0===l?{}:l,u=n.name;"function"==typeof s&&(o=s({state:o,options:i,name:u,instance:c})||o)}else o.reset=!1,r=-1}}},update:(n=function(){return new Promise((function(e){c.forceUpdate(),e(o)}))},function(){return l||(l=new Promise((function(e){Promise.resolve().then((function(){l=void 0,e(n())}))}))),l}),destroy:function(){u(),d=!0}};if(!py(e,t))return c;function u(){i.forEach((function(e){return e()})),i=[]}return c.setOptions(a).then((function(e){!d&&a.onFirstUpdate&&a.onFirstUpdate(e)})),c}}({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,a=e.name,r=t.rects.reference,n=t.rects.popper,s=t.modifiersData.preventOverflow,l=iy(t,{elementContext:"reference"}),o=iy(t,{altBoundary:!0}),i=cy(l,r),d=cy(o,n,s),c=uy(i),u=uy(d);t.modifiersData[a]={referenceClippingOffsets:i,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,a=e.name;t.modifiersData[a]=oy({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,a=e.options,r=a.gpuAcceleration,n=void 0===r||r,s=a.adaptive,l=void 0===s||s,o=a.roundOffsets,i=void 0===o||o,d={placement:wv(t.placement),variation:Yv(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Vv(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:l,roundOffsets:i})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Vv(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:i})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,a=e.instance,r=e.options,n=r.scroll,s=void 0===n||n,l=r.resize,o=void 0===l||l,i=jv(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach((function(e){e.addEventListener("scroll",a.update,Gv)})),o&&i.addEventListener("resize",a.update,Gv),function(){s&&d.forEach((function(e){e.removeEventListener("scroll",a.update,Gv)})),o&&i.removeEventListener("resize",a.update,Gv)}},data:{}},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,a=e.options,r=e.name,n=a.offset,s=void 0===n?[0,0]:n,l=vv.reduce((function(e,a){return e[a]=function(e,t,a){var r=wv(e),n=[uv,iv].indexOf(r)>=0?-1:1,s="function"==typeof a?a(Object.assign({},t,{placement:e})):a,l=s[0],o=s[1];return l=l||0,o=(o||0)*n,[uv,cv].indexOf(r)>=0?{x:o,y:l}:{x:l,y:o}}(a,t.rects,s),e}),{}),o=l[t.placement],i=o.x,d=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=i,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=l}},dy,{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,a=e.options,r=e.name,n=a.mainAxis,s=void 0===n||n,l=a.altAxis,o=void 0!==l&&l,i=a.boundary,d=a.rootBoundary,c=a.altBoundary,u=a.padding,m=a.tether,h=void 0===m||m,f=a.tetherOffset,p=void 0===f?0:f,x=iy(t,{boundary:i,rootBoundary:d,padding:u,altBoundary:c}),g=wv(t.placement),b=Yv(t.placement),v=!b,y=zv(g),w="x"===y?"y":"x",j=t.modifiersData.popperOffsets,N=t.rects.reference,_=t.rects.popper,S="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,k="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(j){if(s){var T,O="y"===y?iv:uv,D="y"===y?dv:cv,A="y"===y?"height":"width",P=j[y],M=P+x[O],L=P-x[D],I=h?-_[A]/2:0,F=b===fv?N[A]:_[A],R=b===fv?-_[A]:-N[A],$=t.elements.arrow,B=h&&$?Av($):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=z[O],H=z[D],W=Uv(0,N[A],B[A]),Y=v?N[A]/2-I-W-U-k.mainAxis:F-W-U-k.mainAxis,q=v?-N[A]/2+I+W+H+k.mainAxis:R+W+H+k.mainAxis,V=t.elements.arrow&&Bv(t.elements.arrow),G=V?"y"===y?V.clientTop||0:V.clientLeft||0:0,K=null!=(T=null==C?void 0:C[y])?T:0,X=P+q-K,Q=Uv(h?Cv(M,P+Y-K-G):M,P,h?kv(L,X):L);j[y]=Q,E[y]=Q-P}if(o){var J,Z="x"===y?iv:uv,ee="x"===y?dv:cv,te=j[w],ae="y"===w?"height":"width",re=te+x[Z],ne=te-x[ee],se=-1!==[iv,uv].indexOf(g),le=null!=(J=null==C?void 0:C[w])?J:0,oe=se?re:te-N[ae]-_[ae]-le+k.altAxis,ie=se?te+N[ae]+_[ae]-le-k.altAxis:ne,de=h&&se?function(e,t,a){var r=Uv(e,t,a);return r>a?a:r}(oe,te,ie):Uv(h?oe:re,te,h?ie:ne);j[w]=de,E[w]=de-te}t.modifiersData[r]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,a=e.state,r=e.name,n=e.options,s=a.elements.arrow,l=a.modifiersData.popperOffsets,o=wv(a.placement),i=zv(o),d=[uv,cv].indexOf(o)>=0?"height":"width";if(s&&l){var c=function(e,t){return Hv("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Wv(e,hv))}(n.padding,a),u=Av(s),m="y"===i?iv:uv,h="y"===i?dv:cv,f=a.rects.reference[d]+a.rects.reference[i]-l[i]-a.rects.popper[d],p=l[i]-a.rects.reference[i],x=Bv(s),g=x?"y"===i?x.clientHeight||0:x.clientWidth||0:0,b=f/2-p/2,v=c[m],y=g-u[d]-c[h],w=g/2-u[d]/2+b,j=Uv(v,w,y),N=i;a.modifiersData[r]=((t={})[N]=j,t.centerOffset=j-w,t)}},effect:function(e){var t=e.state,a=e.options.element,r=void 0===a?"[data-popper-arrow]":a;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Pv(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}]}),gy=["enabled","placement","strategy","modifiers"],by={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},vy={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:a}=e.elements;if("removeAttribute"in t){const e=(t.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==a.id));e.length?t.setAttribute("aria-describedby",e.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:a,reference:r}=e.elements,n=null==(t=a.getAttribute("role"))?void 0:t.toLowerCase();if(a.id&&"tooltip"===n&&"setAttribute"in r){const e=r.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(a.id))return;r.setAttribute("aria-describedby",e?`${e},${a.id}`:a.id)}}},yy=[];function wy(e,t,a={}){let{enabled:r=!0,placement:n="bottom",strategy:s="absolute",modifiers:l=yy}=a,o=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(a,gy);const i=Q.useRef(l),d=Q.useRef(),c=Q.useCallback((()=>{var e;null==(e=d.current)||e.update()}),[]),u=Q.useCallback((()=>{var e;null==(e=d.current)||e.forceUpdate()}),[]),[m,h]=function(e){const t=Rb();return[e[0],Q.useCallback((a=>{if(t())return e[1](a)}),[t,e[1]])]}(Q.useState({placement:n,update:c,forceUpdate:u,attributes:{},styles:{popper:{},arrow:{}}})),f=Q.useMemo((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:e})=>{const t={},a={};Object.keys(e.elements).forEach((r=>{t[r]=e.styles[r],a[r]=e.attributes[r]})),h({state:e,styles:t,attributes:a,update:c,forceUpdate:u,placement:e.placement})}})),[c,u,h]),p=Q.useMemo((()=>(ov(i.current,l)||(i.current=l),i.current)),[l]);return Q.useEffect((()=>{d.current&&r&&d.current.setOptions({placement:n,strategy:s,modifiers:[...p,f,by]})}),[s,n,f,r,p]),Q.useEffect((()=>{if(r&&null!=e&&null!=t)return d.current=xy(e,t,Object.assign({},o,{placement:n,strategy:s,modifiers:[...p,vy,f]})),()=>{null!=d.current&&(d.current.destroy(),d.current=void 0,h((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[r,e,t]),m}function jy(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}const Ny=n((function(){})),_y=()=>{},Sy=e=>e&&("current"in e?e.current:e),ky={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Cy(e={}){return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function Ey({enabled:e,enableEvents:t,placement:a,flip:r,offset:n,fixed:s,containerPadding:l,arrowElement:o,popperConfig:i={}}){var d,c,u,m,h;const f=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(i.modifiers);return Object.assign({},i,{placement:a,enabled:e,strategy:s?"fixed":i.strategy,modifiers:Cy(Object.assign({},f,{eventListeners:{enabled:t,options:null==(d=f.eventListeners)?void 0:d.options},preventOverflow:Object.assign({},f.preventOverflow,{options:l?Object.assign({padding:l},null==(c=f.preventOverflow)?void 0:c.options):null==(u=f.preventOverflow)?void 0:u.options}),offset:{options:Object.assign({offset:n},null==(m=f.offset)?void 0:m.options)},arrow:Object.assign({},f.arrow,{enabled:!!o,options:Object.assign({},null==(h=f.arrow)?void 0:h.options,{element:o})}),flip:Object.assign({enabled:!!r},f.flip)}))})}const Ty=["children","usePopper"],Oy=()=>{};function Dy(e={}){const t=Q.useContext(nv),[a,r]=Q.useState(null),n=Q.useRef(!1),{flip:s,offset:l,rootCloseEvent:o,fixed:i=!1,placement:d,popperConfig:c={},enableEventListeners:u=!0,usePopper:m=!!t}=e,h=null==(null==t?void 0:t.show)?!!e.show:t.show;h&&!n.current&&(n.current=!0);const{placement:f,setMenu:p,menuElement:x,toggleElement:g}=t||{},b=wy(g,x,Ey({placement:d||f||"bottom-start",enabled:m,enableEvents:null==u?h:u,offset:l,flip:s,fixed:i,arrowElement:a,popperConfig:c})),v=Object.assign({ref:p||Oy,"aria-labelledby":null==g?void 0:g.id},b.attributes.popper,{style:b.styles.popper}),y={show:h,placement:f,hasShown:n.current,toggle:null==t?void 0:t.toggle,popper:m?b:null,arrowProps:m?Object.assign({ref:r},b.attributes.arrow,{style:b.styles.arrow}):{}};return function(e,t=_y,{disabled:a,clickTrigger:r="click"}={}){const n=Q.useRef(!1),s=Q.useRef(!1),l=Q.useCallback((t=>{const a=Sy(e);var r;Ny(!!a,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),n.current=!a||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!jy(a,t.target)||s.current,s.current=!1}),[e]),o=Fb((t=>{const a=Sy(e);a&&jy(a,t.target)&&(s.current=!0)})),i=Fb((e=>{n.current||t(e)}));Q.useEffect((()=>{var t,n;if(a||null==e)return;const s=Kg(Sy(e)),d=s.defaultView||window;let c=null!=(t=d.event)?t:null==(n=d.parent)?void 0:n.event,u=null;ky[r]&&(u=Nb(s,ky[r],o,!0));const m=Nb(s,r,l,!0),h=Nb(s,r,(e=>{e!==c?i(e):c=void 0}));let f=[];return"ontouchstart"in s.documentElement&&(f=[].slice.call(s.body.children).map((e=>Nb(e,"mousemove",_y)))),()=>{null==u||u(),m(),h(),f.forEach((e=>e()))}}),[e,a,r,l,o,i])}(x,(e=>{null==t||t.toggle(!1,e)}),{clickTrigger:o,disabled:!h}),[v,y]}function Ay(e){let{children:t,usePopper:a=!0}=e,r=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,Ty);const[n,s]=Dy(Object.assign({},r,{usePopper:a}));return oe.jsx(oe.Fragment,{children:t(n,s)})}Ay.displayName="DropdownMenu";const Py={prefix:String(Math.round(1e10*Math.random())),current:0},My=J.createContext(Py),Ly=J.createContext(!1);let Iy=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),Fy=new WeakMap;const Ry="function"==typeof J.useId?function(e){let t=J.useId(),[a]=Q.useState("function"==typeof J.useSyncExternalStore?J.useSyncExternalStore(zy,$y,By):Q.useContext(Ly));return e||`${a?"react-aria":`react-aria${Py.prefix}`}-${t}`}:function(e){let t=Q.useContext(My);t!==Py||Iy||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let a=function(e=!1){let t=Q.useContext(My),a=Q.useRef(null);if(null===a.current&&!e){var r,n;let e=null===(n=J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===n||null===(r=n.ReactCurrentOwner)||void 0===r?void 0:r.current;if(e){let a=Fy.get(e);null==a?Fy.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==a.state&&(t.current=a.id,Fy.delete(e))}a.current=++t.current}return a.current}(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${a}`};function $y(){return!1}function By(){return!0}function zy(e){return()=>{}}const Uy=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},Hy=()=>{};function Wy(){const e=Ry(),{show:t=!1,toggle:a=Hy,setToggle:r,menuElement:n}=Q.useContext(nv)||{},s=Q.useCallback((e=>{a(!t,e)}),[t,a]),l={id:e,ref:r||Hy,onClick:s,"aria-expanded":!!t};return n&&Uy(n)&&(l["aria-haspopup"]=!0),[l,{show:t,toggle:a}]}function Yy({children:e}){const[t,a]=Wy();return oe.jsx(oe.Fragment,{children:e(t,a)})}Yy.displayName="DropdownToggle";const qy=(e,t=null)=>null!=e?String(e):t||null,Vy=Q.createContext(null),Gy=Q.createContext(null);function Ky(e){return`data-rr-ui-${e}`}Gy.displayName="NavContext";const Xy=["eventKey","disabled","onClick","active","as"];function Qy({key:e,href:t,active:a,disabled:r,onClick:n}){const s=Q.useContext(Vy),l=Q.useContext(Gy),{activeKey:o}=l||{},i=qy(e,t),d=null==a&&null!=e?qy(o)===i:a;return[{onClick:Fb((e=>{r||(null==n||n(e),s&&!e.isPropagationStopped()&&s(i,e))})),"aria-disabled":r||void 0,"aria-selected":d,[Ky("dropdown-item")]:""},{isActive:d}]}const Jy=Q.forwardRef(((e,t)=>{let{eventKey:a,disabled:r,onClick:n,active:s,as:l=Yb}=e,o=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,Xy);const[i]=Qy({key:a,href:o.href,disabled:r,onClick:n,active:s});return oe.jsx(l,Object.assign({},o,{ref:t},i))}));Jy.displayName="DropdownItem";const Zy=Q.createContext(bb?window:void 0);function ew(){return Q.useContext(Zy)}function tw(){const e=rv(),t=Q.useRef(null),a=Q.useCallback((a=>{t.current=a,e()}),[e]);return[t,a]}function aw({defaultShow:e,show:t,onSelect:a,onToggle:r,itemSelector:n=`* [${Ky("dropdown-item")}]`,focusFirstItemOnShow:s,placement:l="bottom-start",children:o}){const i=ew(),[d,c]=function(e,t,a){const r=Q.useRef(void 0!==e),[n,s]=Q.useState(t),l=void 0!==e,o=r.current;return r.current=l,!l&&o&&n!==t&&s(t),[l?e:n,Q.useCallback(((...e)=>{const[t,...r]=e;let n=null==a?void 0:a(t,...r);return s(t),n}),[a])]}(t,e,r),[u,m]=tw(),h=u.current,[f,p]=tw(),x=f.current,g=$b(d),b=Q.useRef(null),v=Q.useRef(!1),y=Q.useContext(Vy),w=Q.useCallback(((e,t,a=(null==t?void 0:t.type))=>{c(e,{originalEvent:t,source:a})}),[c]),j=Fb(((e,t)=>{null==a||a(e,t),w(!1,t,"select"),t.isPropagationStopped()||null==y||y(e,t)})),N=Q.useMemo((()=>({toggle:w,placement:l,show:d,menuElement:h,toggleElement:x,setMenu:m,setToggle:p})),[w,l,d,h,x,m,p]);h&&g&&!d&&(v.current=h.contains(h.ownerDocument.activeElement));const _=Fb((()=>{x&&x.focus&&x.focus()})),S=Fb((()=>{const e=b.current;let t=s;if(null==t&&(t=!(!u.current||!Uy(u.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const a=av(u.current,n)[0];a&&a.focus&&a.focus()}));Q.useEffect((()=>{d?S():v.current&&(v.current=!1,_())}),[d,v,_,S]),Q.useEffect((()=>{b.current=null}));const k=(e,t)=>{if(!u.current)return null;const a=av(u.current,n);let r=a.indexOf(e)+t;return r=Math.max(0,Math.min(r,a.length)),a[r]};return function(e,t,a,r=!1){const n=Fb(a);Q.useEffect((()=>{const a="function"==typeof e?e():e;return a.addEventListener(t,n,r),()=>a.removeEventListener(t,n,r)}),[e])}(Q.useCallback((()=>i.document),[i]),"keydown",(e=>{var t,a;const{key:r}=e,n=e.target,s=null==(t=u.current)?void 0:t.contains(n),l=null==(a=f.current)?void 0:a.contains(n);if(/input|textarea/i.test(n.tagName)&&(" "===r||"Escape"!==r&&s||"Escape"===r&&"search"===n.type))return;if(!s&&!l)return;if(!("Tab"!==r||u.current&&d))return;b.current=e.type;const o={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=k(n,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),d){const e=k(n,1);e&&e.focus&&e.focus()}else c(!0,o);return;case"Tab":jb(n.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=u.current)&&t.contains(e.target)||c(!1,o)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),c(!1,o)}})),oe.jsx(Vy.Provider,{value:j,children:oe.jsx(nv.Provider,{value:N,children:o})})}Zy.Provider,aw.displayName="Dropdown",aw.Menu=Ay,aw.Toggle=Yy,aw.Item=Jy;const rw=Q.createContext({});rw.displayName="DropdownContext";const nw=Q.forwardRef(((e,t)=>{var a=e,{className:r,bsPrefix:n,as:s="hr",role:l="separator"}=a,o=h(a,["className","bsPrefix","as","role"]);return n=Gg(n,"dropdown-divider"),oe.jsx(s,u({ref:t,className:$g(r,n),role:l},o))}));nw.displayName="DropdownDivider";const sw=Q.forwardRef(((e,t)=>{var a=e,{className:r,bsPrefix:n,as:s="div",role:l="heading"}=a,o=h(a,["className","bsPrefix","as","role"]);return n=Gg(n,"dropdown-header"),oe.jsx(s,u({ref:t,className:$g(r,n),role:l},o))}));sw.displayName="DropdownHeader";const lw=Q.forwardRef(((e,t)=>{var a=e,{bsPrefix:r,className:n,eventKey:s,disabled:l=!1,onClick:o,active:i,as:d=Vb}=a,c=h(a,["bsPrefix","className","eventKey","disabled","onClick","active","as"]);const f=Gg(r,"dropdown-item"),[p,x]=Qy({key:s,href:c.href,disabled:l,onClick:o,active:i});return oe.jsx(d,m(u(u({},c),p),{ref:t,className:$g(n,f,x.isActive&&"active",l&&"disabled")}))}));lw.displayName="DropdownItem";const ow=Q.forwardRef(((e,t)=>{var a=e,{className:r,bsPrefix:n,as:s="span"}=a,l=h(a,["className","bsPrefix","as"]);return n=Gg(n,"dropdown-item-text"),oe.jsx(s,u({ref:t,className:$g(r,n)},l))}));ow.displayName="DropdownItemText";const iw=Q.createContext(null);iw.displayName="InputGroupContext";const dw=Q.createContext(null);function cw(e,t){return e}function uw(e,t,a){let r=e?a?"bottom-start":"bottom-end":a?"bottom-end":"bottom-start";return"up"===t?r=e?a?"top-start":"top-end":a?"top-end":"top-start":"end"===t?r=e?a?"left-end":"right-end":a?"left-start":"right-start":"start"===t?r=e?a?"right-end":"left-end":a?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}dw.displayName="NavbarContext";const mw=Q.forwardRef(((e,t)=>{var a=e,{bsPrefix:r,className:n,align:s,rootCloseEvent:l,flip:o=!0,show:i,renderOnMount:d,as:c="div",popperConfig:f,variant:p}=a,x=h(a,["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"]);let g=!1;const b=Q.useContext(dw),v=Gg(r,"dropdown-menu"),{align:y,drop:w,isRTL:j}=Q.useContext(rw);s=s||y;const N=Q.useContext(iw),_=[];if(s)if("object"==typeof s){const e=Object.keys(s);if(e.length){const t=e[0],a=s[t];g="start"===a,_.push(`${v}-${t}-${a}`)}}else"end"===s&&(g=!0);const S=uw(g,w,j),[k,{hasShown:C,popper:E,show:T,toggle:O}]=Dy({flip:o,rootCloseEvent:l,show:i,usePopper:!b&&0===_.length,offset:[0,2],popperConfig:f,placement:S});if(k.ref=Db(cw(t),k.ref),zb((()=>{T&&(null==E||E.update())}),[T]),!C&&!d&&!N)return null;"string"!=typeof c&&(k.show=T,k.close=()=>null==O?void 0:O(!1),k.align=s);let D=x.style;return null!=E&&E.placement&&(D=u(u({},x.style),k.style),x["x-placement"]=E.placement),oe.jsx(c,m(u(m(u(u({},x),k),{style:D}),(_.length||b)&&{"data-bs-popper":"static"}),{className:$g(n,v,T&&"show",g&&`${v}-end`,p&&`${v}-${p}`,..._)}))}));mw.displayName="DropdownMenu";const hw=Q.forwardRef(((e,t)=>{var a=e,{bsPrefix:r,split:n,className:s,childBsPrefix:l,as:o=Jb}=a,i=h(a,["bsPrefix","split","className","childBsPrefix","as"]);const d=Gg(r,"dropdown-toggle"),c=Q.useContext(nv);void 0!==l&&(i.bsPrefix=l);const[m]=Wy();return m.ref=Db(m.ref,cw(t)),oe.jsx(o,u(u({className:$g(s,d,n&&`${d}-split`,(null==c?void 0:c.show)&&"show")},m),i))}));hw.displayName="DropdownToggle";const fw=Q.forwardRef(((e,t)=>{const a=Wg(e,{show:"onToggle"}),{bsPrefix:r,drop:n="down",show:s,className:l,align:o="start",onSelect:i,onToggle:d,focusFirstItemOnShow:c,as:f="div",navbar:p,autoClose:x=!0}=a,g=h(a,["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"]),b=Q.useContext(iw),v=Gg(r,"dropdown"),y=function(){const{dir:e}=Q.useContext(Vg);return"rtl"===e}(),w=Fb(((e,t)=>{var a,r,n;(null==(a=t.originalEvent)||null==(r=a.target)?void 0:r.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===x?"click"===n:"inside"===x?"rootClose"!==n:"outside"!==x||"select"!==n)&&(null==d||d(e,t)))})),j=uw("end"===o,n,y),N=Q.useMemo((()=>({align:o,drop:n,isRTL:y})),[o,n,y]),_={down:v,"down-centered":`${v}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return oe.jsx(rw.Provider,{value:N,children:oe.jsx(aw,{placement:j,show:s,onSelect:i,onToggle:w,focusFirstItemOnShow:c,itemSelector:`.${v}-item:not(.disabled):not(:disabled)`,children:b?g.children:oe.jsx(f,m(u({},g),{ref:t,className:$g(l,s&&"show",_[n])}))})})}));fw.displayName="Dropdown";const pw=Object.assign(fw,{Toggle:hw,Menu:mw,Item:lw,ItemText:ow,Divider:nw,Header:sw}),xw=Q.createContext(null),gw=["as","active","eventKey"];function bw({key:e,onClick:t,active:a,id:r,role:n,disabled:s}){const l=Q.useContext(Vy),o=Q.useContext(Gy),i=Q.useContext(xw);let d=a;const c={role:n};if(o){n||"tablist"!==o.role||(c.role="tab");const t=o.getControllerId(null!=e?e:null),s=o.getControlledId(null!=e?e:null);c[Ky("event-key")]=e,c.id=t||r,d=null==a&&null!=e?o.activeKey===e:a,!d&&(null!=i&&i.unmountOnExit||null!=i&&i.mountOnEnter)||(c["aria-controls"]=s)}return"tab"===c.role&&(c["aria-selected"]=d,d||(c.tabIndex=-1),s&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=Fb((a=>{s||(null==t||t(a),null!=e&&l&&!a.isPropagationStopped()&&l(e,a))})),[c,{isActive:d}]}const vw=Q.forwardRef(((e,t)=>{let{as:a=Yb,active:r,eventKey:n}=e,s=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,gw);const[l,o]=bw(Object.assign({key:qy(n,s.href),active:r},s));return l[Ky("active")]=o.isActive,oe.jsx(a,Object.assign({},s,l,{ref:t}))}));vw.displayName="NavItem";const yw=vw,ww=["as","onSelect","activeKey","role","onKeyDown"],jw=()=>{},Nw=Ky("event-key"),_w=Q.forwardRef(((e,t)=>{let{as:a="div",onSelect:r,activeKey:n,role:s,onKeyDown:l}=e,o=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,ww);const i=rv(),d=Q.useRef(!1),c=Q.useContext(Vy),u=Q.useContext(xw);let m,h;u&&(s=s||"tablist",n=u.activeKey,m=u.getControlledId,h=u.getControllerId);const f=Q.useRef(null),p=e=>{const t=f.current;if(!t)return null;const a=av(t,`[${Nw}]:not([aria-disabled=true])`),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const n=a.indexOf(r);if(-1===n)return null;let s=n+e;return s>=a.length&&(s=0),s<0&&(s=a.length-1),a[s]},x=(e,t)=>{null!=e&&(null==r||r(e,t),null==c||c(e,t))};Q.useEffect((()=>{if(f.current&&d.current){const e=f.current.querySelector(`[${Nw}][aria-selected=true]`);null==e||e.focus()}d.current=!1}));const g=Db(t,f);return oe.jsx(Vy.Provider,{value:x,children:oe.jsx(Gy.Provider,{value:{role:s,activeKey:qy(n),getControlledId:m||jw,getControllerId:h||jw},children:oe.jsx(a,Object.assign({},o,{onKeyDown:e=>{if(null==l||l(e),!u)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=p(-1);break;case"ArrowRight":case"ArrowDown":t=p(1);break;default:return}var a;t&&(e.preventDefault(),x(t.dataset[(a="EventKey",`rrUi${a}`)]||null,e),d.current=!0,i())},ref:g,role:s}))})})}));_w.displayName="Nav";const Sw=Object.assign(_w,{Item:yw});function kw(e){void 0===e&&(e=Kg());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(mMe){return e.body}}const Cw=Ky("modal-open");class Ew{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:a=!1}={}){this.handleContainerOverflow=t,this.isRTL=a,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},a=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[a]:r.style[a]},e.scrollBarWidth&&(t[a]=`${parseInt(tb(r,a)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(Cw,""),tb(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Cw),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state))),t}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Tw=(e,t)=>bb?null==e?(t||Kg()).body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Ow({children:e,in:t,onExited:a,mountOnEnter:r,unmountOnExit:n}){const s=Q.useRef(null),l=Q.useRef(t),o=Fb(a);Q.useEffect((()=>{t?l.current=!0:o(s.current)}),[t,o]);const i=Db(s,e.ref),d=Q.cloneElement(e,{ref:i});return t?d:n||!l.current&&r?null:d}const Dw=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Aw(e){let{onEnter:t,onEntering:a,onEntered:r,onExit:n,onExiting:s,onExited:l,addEndListener:o,children:i}=e,d=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,Dw);const{major:c}=function(){const e=Q.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}(),u=c>=19?i.props.ref:i.ref,m=Q.useRef(null),h=Db(m,"function"==typeof i?null:u),f=e=>t=>{e&&m.current&&e(m.current,t)},p=Q.useCallback(f(t),[t]),x=Q.useCallback(f(a),[a]),g=Q.useCallback(f(r),[r]),b=Q.useCallback(f(n),[n]),v=Q.useCallback(f(s),[s]),y=Q.useCallback(f(l),[l]),w=Q.useCallback(f(o),[o]);return Object.assign({},d,{nodeRef:m},t&&{onEnter:p},a&&{onEntering:x},r&&{onEntered:g},n&&{onExit:b},s&&{onExiting:v},l&&{onExited:y},o&&{addEndListener:w},{children:"function"==typeof i?(e,t)=>i(e,Object.assign({},t,{ref:h})):Q.cloneElement(i,{ref:h})})}const Pw=["component"],Mw=Q.forwardRef(((e,t)=>{let{component:a}=e;const r=Aw(function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,Pw));return oe.jsx(a,Object.assign({ref:t},r))}));function Lw({children:e,in:t,onExited:a,onEntered:r,transition:n}){const[s,l]=Q.useState(!t);t&&s&&l(!1);const o=function({in:e,onTransition:t}){const a=Q.useRef(null),r=Q.useRef(!0),n=Fb(t);return zb((()=>{if(!a.current)return;let t=!1;return n({in:e,element:a.current,initial:r.current,isStale:()=>t}),()=>{t=!0}}),[e,n]),zb((()=>(r.current=!1,()=>{r.current=!0})),[]),a}({in:!!t,onTransition:e=>{Promise.resolve(n(e)).then((()=>{e.isStale()||(e.in?null==r||r(e.element,e.initial):(l(!0),null==a||a(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),i=Db(o,e.ref);return s&&!t?null:Q.cloneElement(e,{ref:i})}function Iw(e,t,a){return e?oe.jsx(Mw,Object.assign({},a,{component:e})):t?oe.jsx(Lw,Object.assign({},a,{transition:t})):oe.jsx(Ow,Object.assign({},a))}const Fw=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Rw;function $w(e){const t=ew(),a=e||function(e){return Rw||(Rw=new Ew({ownerDocument:null==e?void 0:e.document})),Rw}(t),r=Q.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>a.add(r.current),remove:()=>a.remove(r.current),isTopModal:()=>a.isTopModal(r.current),setDialogRef:Q.useCallback((e=>{r.current.dialog=e}),[]),setBackdropRef:Q.useCallback((e=>{r.current.backdrop=e}),[])})}const Bw=Q.forwardRef(((e,t)=>{let{show:a=!1,role:r="dialog",className:n,style:s,children:l,backdrop:o=!0,keyboard:i=!0,onBackdropClick:d,onEscapeKeyDown:c,transition:u,runTransition:m,backdropTransition:h,runBackdropTransition:f,autoFocus:p=!0,enforceFocus:x=!0,restoreFocus:g=!0,restoreFocusOptions:b,renderDialog:v,renderBackdrop:y=e=>oe.jsx("div",Object.assign({},e)),manager:w,container:j,onShow:N,onHide:_=()=>{},onExit:S,onExited:k,onExiting:C,onEnter:E,onEntering:T,onEntered:O}=e,D=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,Fw);const A=ew(),P=function(e,t){const a=ew(),[r,n]=Q.useState((()=>Tw(e,null==a?void 0:a.document)));if(!r){const t=Tw(e);t&&n(t)}return Q.useEffect((()=>{}),[t,r]),Q.useEffect((()=>{const t=Tw(e);t!==r&&n(t)}),[e,r]),r}(j),M=$w(w),L=Rb(),I=$b(a),[F,R]=Q.useState(!a),$=Q.useRef(null);Q.useImperativeHandle(t,(()=>M),[M]),bb&&!I&&a&&($.current=kw(null==A?void 0:A.document)),a&&F&&R(!1);const B=Fb((()=>{if(M.add(),q.current=Nb(document,"keydown",W),Y.current=Nb(document,"focus",(()=>setTimeout(U)),!0),N&&N(),p){var e,t;const a=kw(null!=(e=null==(t=M.dialog)?void 0:t.ownerDocument)?e:null==A?void 0:A.document);M.dialog&&a&&!jy(M.dialog,a)&&($.current=a,M.dialog.focus())}})),z=Fb((()=>{var e;M.remove(),null==q.current||q.current(),null==Y.current||Y.current(),g&&(null==(e=$.current)||null==e.focus||e.focus(b),$.current=null)}));Q.useEffect((()=>{a&&P&&B()}),[a,P,B]),Q.useEffect((()=>{F&&z()}),[F,z]),ev((()=>{z()}));const U=Fb((()=>{if(!x||!L()||!M.isTopModal())return;const e=kw(null==A?void 0:A.document);M.dialog&&e&&!jy(M.dialog,e)&&M.dialog.focus()})),H=Fb((e=>{e.target===e.currentTarget&&(null==d||d(e),!0===o&&_())})),W=Fb((e=>{i&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&M.isTopModal()&&(null==c||c(e),e.defaultPrevented||_())})),Y=Q.useRef(),q=Q.useRef();if(!P)return null;const V=Object.assign({role:r,ref:M.setDialogRef,"aria-modal":"dialog"===r||void 0},D,{style:s,className:n,tabIndex:-1});let G=v?v(V):oe.jsx("div",Object.assign({},V,{children:Q.cloneElement(l,{role:"document"})}));G=Iw(u,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!a,onExit:S,onExiting:C,onExited:(...e)=>{R(!0),null==k||k(...e)},onEnter:E,onEntering:T,onEntered:O,children:G});let K=null;return o&&(K=y({ref:M.setBackdropRef,onClick:H}),K=Iw(h,f,{in:!!a,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:K})),oe.jsx(oe.Fragment,{children:pu.createPortal(oe.jsxs(oe.Fragment,{children:[K,G]}),P)})}));Bw.displayName="Modal";const zw=Object.assign(Bw,{Manager:Ew});function Uw(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Hw(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ww(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=Hw(e.className,t):e.setAttribute("class",Hw(e.className&&e.className.baseVal||"",t))}const Yw=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",qw=".sticky-top",Vw=".navbar-toggler";class Gw extends Ew{adjustAndStore(e,t,a){const r=t.style[e];t.dataset[e]=r,tb(t,{[e]:`${parseFloat(tb(t,e))+a}px`})}restore(e,t){const a=t.dataset[e];void 0!==a&&(delete t.dataset[e],tb(t,{[e]:a}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(Uw(t,"modal-open"),!e.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";av(t,Yw).forEach((t=>this.adjustAndStore(a,t,e.scrollBarWidth))),av(t,qw).forEach((t=>this.adjustAndStore(r,t,-e.scrollBarWidth))),av(t,Vw).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();Ww(t,"modal-open");const a=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";av(t,Yw).forEach((e=>this.restore(a,e))),av(t,qw).forEach((e=>this.restore(r,e))),av(t,Vw).forEach((e=>this.restore(r,e)))}}let Kw;const Xw=Q.createContext({onHide(){}}),Qw=Q.forwardRef(((e,t)=>{var a=e,{closeLabel:r="Close",closeVariant:n,closeButton:s=!1,onHide:l,children:o}=a,i=h(a,["closeLabel","closeVariant","closeButton","onHide","children"]);const d=Q.useContext(Xw),c=Fb((()=>{null==d||d.onHide(),null==l||l()}));return oe.jsxs("div",m(u({ref:t},i),{children:[o,s&&oe.jsx(Qb,{"aria-label":r,variant:n,onClick:c})]}))}));var Jw={exports:{}},Zw={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,a,r,n,s,l){var o=n||"<<anonymous>>",i=l||r;if(null==a[r])return t?new Error("Required "+s+" `"+i+"` was not specified in `"+o+"`."):null;for(var d=arguments.length,c=Array(d>6?d-6:0),u=6;u<d;u++)c[u-6]=arguments[u];return e.apply(void 0,[a,r,o,s,i].concat(c))}var a=t.bind(null,!1);return a.isRequired=t.bind(null,!0),a},e.exports=t.default}(Zw,Zw.exports);var ej=Zw.exports;!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.default)((function(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];var n=null;return t.forEach((function(e){if(null==n){var t=e.apply(void 0,a);null!=t&&(n=t)}})),n}))};var a,r=(a=ej)&&a.__esModule?a:{default:a};e.exports=t.default}(Jw,Jw.exports);const tj=Q.forwardRef(((e,t)=>{var a=e,{className:r,bsPrefix:n,as:s="div"}=a,l=h(a,["className","bsPrefix","as"]);return n=Gg(n,"nav-item"),oe.jsx(s,u({ref:t,className:$g(r,n)},l))}));tj.displayName="NavItem";const aj=Q.forwardRef(((e,t)=>{var a=e,{bsPrefix:r,className:n,as:s=Vb,active:l,eventKey:o,disabled:i=!1}=a,d=h(a,["bsPrefix","className","as","active","eventKey","disabled"]);r=Gg(r,"nav-link");const[c,f]=bw(u({key:qy(o,d.href),active:l,disabled:i},d));return oe.jsx(s,m(u(u({},d),c),{ref:t,disabled:i,className:$g(n,r,i&&"disabled",f.isActive&&"active")}))}));aj.displayName="NavLink";const rj=Q.forwardRef(((e,t)=>{const a=Wg(e,{activeKey:"onSelect"}),{as:r="div",bsPrefix:n,variant:s,fill:l=!1,justify:o=!1,navbar:i,navbarScroll:d,className:c,activeKey:m}=a,f=h(a,["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"]),p=Gg(n,"nav");let x,g,b=!1;const v=Q.useContext(dw),y=Q.useContext(Zb);return v?(x=v.bsPrefix,b=null==i||i):y&&({cardHeaderBsPrefix:g}=y),oe.jsx(Sw,u({as:r,ref:t,activeKey:m,className:$g(c,{[p]:!b,[`${x}-nav`]:b,[`${x}-nav-scroll`]:b&&d,[`${g}-${s}`]:!!g,[`${p}-${s}`]:!!s,[`${p}-fill`]:l,[`${p}-justified`]:o})},f))}));rj.displayName="Nav";const nj=Object.assign(rj,{Item:tj,Link:aj}),sj=Q.forwardRef(((e,t)=>{var a=e,{bsPrefix:r,className:n,as:s}=a,l=h(a,["bsPrefix","className","as"]);r=Gg(r,"navbar-brand");const o=s||(l.href?"a":"span");return oe.jsx(o,m(u({},l),{ref:t,className:$g(n,r)}))}));sj.displayName="NavbarBrand";const lj=Q.forwardRef(((e,t)=>{var a=e,{children:r,bsPrefix:n}=a,s=h(a,["children","bsPrefix"]);n=Gg(n,"navbar-collapse");const l=Q.useContext(dw);return oe.jsx(Ib,m(u({in:!(!l||!l.expanded)},s),{children:oe.jsx("div",{ref:t,className:n,children:r})}))}));lj.displayName="NavbarCollapse";const oj=Q.forwardRef(((e,t)=>{var a=e,{bsPrefix:r,className:n,children:s,label:l="Toggle navigation",as:o="button",onClick:i}=a,d=h(a,["bsPrefix","className","children","label","as","onClick"]);r=Gg(r,"navbar-toggler");const{onToggle:c,expanded:f}=Q.useContext(dw)||{},p=Fb((e=>{i&&i(e),c&&c()}));return"button"===o&&(d.type="button"),oe.jsx(o,m(u({},d),{ref:t,onClick:p,"aria-label":l,className:$g(n,r,!f&&"collapsed"),children:s||oe.jsx("span",{className:`${r}-icon`})}))}));oj.displayName="NavbarToggle";const ij=new WeakMap,dj=(e,t)=>{if(!e||!t)return;const a=ij.get(t)||new Map;ij.set(t,a);let r=a.get(e);return r||(r=t.matchMedia(e),r.refCount=0,a.set(r.media,r)),r},cj=function(e){const t=Object.keys(e);function a(e,t){return e===t?t:e?`${e} and ${t}`:t}function r(a){const r=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(a);let n=e[r];return n="number"==typeof n?n-.2+"px":`calc(${n} - 0.2px)`,`(max-width: ${n})`}return function(t,n,s){let l;return"object"==typeof t?(l=t,s=n,n=!0):(n=n||!0,l={[t]:n}),function(e,t=("undefined"==typeof window?void 0:window)){const a=dj(e,t),[r,n]=Q.useState((()=>!!a&&a.matches));return zb((()=>{let a=dj(e,t);if(!a)return n(!1);let r=ij.get(t);const s=()=>{n(a.matches)};return a.refCount++,a.addListener(s),s(),()=>{a.removeListener(s),a.refCount--,a.refCount<=0&&(null==r||r.delete(a.media)),a=void 0}}),[e]),r}(Q.useMemo((()=>Object.entries(l).reduce(((t,[n,s])=>("up"!==s&&!0!==s||(t=a(t,function(t){let a=e[t];return"number"==typeof a&&(a=`${a}px`),`(min-width: ${a})`}(n))),"down"!==s&&!0!==s||(t=a(t,r(n))),t)),"")),[JSON.stringify(l)]),s)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),uj=Q.forwardRef(((e,t)=>{var a=e,{className:r,bsPrefix:n,as:s="div"}=a,l=h(a,["className","bsPrefix","as"]);return n=Gg(n,"offcanvas-body"),oe.jsx(s,u({ref:t,className:$g(r,n)},l))}));uj.displayName="OffcanvasBody";const mj={[mb]:"show",[hb]:"show"},hj=Q.forwardRef(((e,t)=>{var a=e,{bsPrefix:r,className:n,children:s,in:l=!1,mountOnEnter:o=!1,unmountOnExit:i=!1,appear:d=!1}=a,c=h(a,["bsPrefix","className","children","in","mountOnEnter","unmountOnExit","appear"]);return r=Gg(r,"offcanvas"),oe.jsx(Ab,m(u({ref:t,addEndListener:Cb,in:l,mountOnEnter:o,unmountOnExit:i,appear:d},c),{childRef:s.ref,children:(e,t)=>Q.cloneElement(s,m(u({},t),{className:$g(n,s.props.className,(e===mb||e===fb)&&`${r}-toggling`,mj[e])}))}))}));hj.displayName="OffcanvasToggling";const fj=Q.forwardRef(((e,t)=>{var a=e,{bsPrefix:r,className:n,closeLabel:s="Close",closeButton:l=!1}=a,o=h(a,["bsPrefix","className","closeLabel","closeButton"]);return r=Gg(r,"offcanvas-header"),oe.jsx(Qw,m(u({ref:t},o),{className:$g(n,r),closeLabel:s,closeButton:l}))}));fj.displayName="OffcanvasHeader";const pj=(xj="h5",Q.forwardRef(((e,t)=>oe.jsx("div",m(u({},e),{ref:t,className:$g(e.className,xj)})))));var xj;const gj=Q.forwardRef(((e,t)=>{var a=e,{className:r,bsPrefix:n,as:s=pj}=a,l=h(a,["className","bsPrefix","as"]);return n=Gg(n,"offcanvas-title"),oe.jsx(s,u({ref:t,className:$g(r,n)},l))}));function bj(e){return oe.jsx(hj,u({},e))}function vj(e){return oe.jsx(Kb,u({},e))}gj.displayName="OffcanvasTitle";const yj=Q.forwardRef(((e,t)=>{var a=e,{bsPrefix:r,className:n,children:s,"aria-labelledby":l,placement:o="start",responsive:i,show:d=!1,backdrop:c=!0,keyboard:f=!0,scroll:p=!1,onEscapeKeyDown:x,onShow:g,onHide:b,container:v,autoFocus:y=!0,enforceFocus:w=!0,restoreFocus:j=!0,restoreFocusOptions:N,onEntered:_,onExit:S,onExiting:k,onEnter:C,onEntering:E,onExited:T,backdropClassName:O,manager:D,renderStaticNode:A=!1}=a,P=h(a,["bsPrefix","className","children","aria-labelledby","placement","responsive","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager","renderStaticNode"]);const M=Q.useRef();r=Gg(r,"offcanvas");const{onToggle:L}=Q.useContext(dw)||{},[I,F]=Q.useState(!1),R=cj(i||"xs","up");Q.useEffect((()=>{F(i?d&&!R:d)}),[d,i,R]);const $=Fb((()=>{null==L||L(),null==b||b()})),B=Q.useMemo((()=>({onHide:$})),[$]),z=Q.useCallback((e=>oe.jsx("div",m(u({},e),{className:$g(`${r}-backdrop`,O)}))),[O,r]),U=e=>oe.jsx("div",m(u(u({},e),P),{className:$g(n,i?`${r}-${i}`:r,`${r}-${o}`),"aria-labelledby":l,children:s}));return oe.jsxs(oe.Fragment,{children:[!I&&(i||A)&&U({}),oe.jsx(Xw.Provider,{value:B,children:oe.jsx(zw,{show:I,ref:t,backdrop:c,container:v,keyboard:f,autoFocus:y,enforceFocus:w&&!p,restoreFocus:j,restoreFocusOptions:N,onEscapeKeyDown:x,onShow:g,onHide:$,onEnter:(e,...t)=>{e&&(e.style.visibility="visible"),null==C||C(e,...t)},onEntering:E,onEntered:_,onExit:S,onExiting:k,onExited:(e,...t)=>{e&&(e.style.visibility=""),null==T||T(...t)},manager:D||(p?(M.current||(M.current=new Gw({handleContainerOverflow:!1})),M.current):(Kw||(Kw=new Gw(H)),Kw)),transition:bj,backdropTransition:vj,renderBackdrop:z,renderDialog:U})})]});var H}));yj.displayName="Offcanvas";const wj=Object.assign(yj,{Body:uj,Header:fj,Title:gj}),jj=Q.forwardRef(((e,t)=>{const a=Q.useContext(dw);return oe.jsx(wj,m(u({ref:t,show:!(null==a||!a.expanded)},e),{renderStaticNode:!0}))}));jj.displayName="NavbarOffcanvas";const Nj=Q.forwardRef(((e,t)=>{var a=e,{className:r,bsPrefix:n,as:s="span"}=a,l=h(a,["className","bsPrefix","as"]);return n=Gg(n,"navbar-text"),oe.jsx(s,u({ref:t,className:$g(r,n)},l))}));Nj.displayName="NavbarText";const _j=Q.forwardRef(((e,t)=>{const a=Wg(e,{expanded:"onToggle"}),{bsPrefix:r,expand:n=!0,variant:s="light",bg:l,fixed:o,sticky:i,className:d,as:c="nav",expanded:f,onToggle:p,onSelect:x,collapseOnSelect:g=!1}=a,b=h(a,["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"]),v=Gg(r,"navbar"),y=Q.useCallback(((...e)=>{null==x||x(...e),g&&f&&(null==p||p(!1))}),[x,g,f,p]);void 0===b.role&&"nav"!==c&&(b.role="navigation");let w=`${v}-expand`;"string"==typeof n&&(w=`${w}-${n}`);const j=Q.useMemo((()=>({onToggle:()=>null==p?void 0:p(!f),bsPrefix:v,expanded:!!f,expand:n})),[v,f,n,p]);return oe.jsx(dw.Provider,{value:j,children:oe.jsx(Vy.Provider,{value:y,children:oe.jsx(c,m(u({ref:t},b),{className:$g(d,v,n&&w,s&&`${v}-${s}`,l&&`bg-${l}`,i&&`sticky-${i}`,o&&`fixed-${o}`)}))})})}));_j.displayName="Navbar";const Sj=Object.assign(_j,{Brand:sj,Collapse:lj,Offcanvas:jj,Text:Nj,Toggle:oj}),kj=Q.forwardRef(((e,t)=>{var a=e,{id:r,title:n,children:s,bsPrefix:l,className:o,rootCloseEvent:i,menuRole:d,disabled:c,active:f,renderMenuOnMount:p,menuVariant:x}=a,g=h(a,["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"]);const b=Gg(void 0,"nav-item");return oe.jsxs(pw,m(u({ref:t},g),{className:$g(o,b),children:[oe.jsx(pw.Toggle,{id:r,eventKey:null,active:f,disabled:c,childBsPrefix:l,as:aj,children:n}),oe.jsx(pw.Menu,{role:d,renderOnMount:p,rootCloseEvent:i,variant:x,children:s})]}))}));kj.displayName="NavDropdown";const Cj=Object.assign(kj,{Item:pw.Item,ItemText:pw.ItemText,Divider:pw.Divider,Header:pw.Header});function Ej(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Logout"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.968,18.448a2.577,2.577,0,0,1-2.73,2.5c-2.153.012-4.306,0-6.459,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.647A1.546,1.546,0,0,0,19,4.175a3.023,3.023,0,0,0-1.061-.095H11.779a.5.5,0,0,1,0-1c2.224,0,4.465-.085,6.687,0a2.567,2.567,0,0,1,2.5,2.67Z"},child:[]},{tag:"path",attr:{d:"M3.176,11.663a.455.455,0,0,0-.138.311c0,.015,0,.028-.006.043s0,.027.006.041a.457.457,0,0,0,.138.312l3.669,3.669a.5.5,0,0,0,.707-.707L4.737,12.516H15.479a.5.5,0,0,0,0-1H4.737L7.552,8.7a.5.5,0,0,0-.707-.707Z"},child:[]}]}]}]})(e)}function Tj(e){return Hm({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 25 4.03125 C 24.234375 4.03125 23.484375 4.328125 22.90625 4.90625 L 13 14.78125 L 12.78125 15 L 12.71875 15.3125 L 12.03125 18.8125 L 11.71875 20.28125 L 13.1875 19.96875 L 16.6875 19.28125 L 17 19.21875 L 17.21875 19 L 27.09375 9.09375 C 28.246094 7.941406 28.246094 6.058594 27.09375 4.90625 C 26.515625 4.328125 25.765625 4.03125 25 4.03125 Z M 25 5.96875 C 25.234375 5.96875 25.464844 6.089844 25.6875 6.3125 C 26.132813 6.757813 26.132813 7.242188 25.6875 7.6875 L 16 17.375 L 14.28125 17.71875 L 14.625 16 L 24.3125 6.3125 C 24.535156 6.089844 24.765625 5.96875 25 5.96875 Z M 4 8 L 4 28 L 24 28 L 24 14.8125 L 22 16.8125 L 22 26 L 6 26 L 6 10 L 15.1875 10 L 17.1875 8 Z"},child:[]}]})(e)}const Oj=({element:e})=>localStorage.getItem("authToken")?e:oe.jsx(gm,{to:"/"});Oj.propTypes={element:lb.element.isRequired};const Dj="_navbar_lbnoi_17",Aj="_navBarSide_lbnoi_45",Pj="_headingSchool_lbnoi_75",Mj="_dropNaveBarAcademic_lbnoi_109";function Lj(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"},child:[]},{tag:"path",attr:{d:"M12 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"},child:[]},{tag:"path",attr:{d:"m14 12.5 1 5.5-3-1-3 1 1-5.5"},child:[]}]})(e)}function Ij(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m4 6 8-4 8 4"},child:[]},{tag:"path",attr:{d:"m18 10 4 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-8l4-2"},child:[]},{tag:"path",attr:{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4"},child:[]},{tag:"path",attr:{d:"M18 5v17"},child:[]},{tag:"path",attr:{d:"M6 5v17"},child:[]},{tag:"circle",attr:{cx:"12",cy:"9",r:"2"},child:[]}]})(e)}function Fj({isSidebar:e,setIsSidebar:t}){const[a,r]=Q.useState([]),n=rm();console.log("locaioncurrent",n),Q.useEffect((()=>{const e=JSON.parse(localStorage.getItem("tabVisits"))||[];r(e)}),[]),Q.useEffect((()=>{const e=n.pathname;if(e){const t=s(e,a);r(t),localStorage.setItem("tabVisits",JSON.stringify(t))}}),[n.pathname]);const s=(e,t)=>{const a=[...t],r=a.indexOf(e);return-1!==r&&a.splice(r,1),a.unshift(e),a.length>10&&a.pop(),a};return console.log("updatevisitedpath",s),oe.jsx("div",{className:"hidden md:block md:fixed z-30",children:oe.jsxs("div",{className:" md:w-36 lg:h-[80vh] bg-gray-200 mt-0.5 shadow-lg relative right-36 transform transition-all duration-500 text-center pr-3 "+(e?"relative transform translate-x-36 transition-all duration-500":"relative transform translate-x-0 transition-all duration-500"),children:[oe.jsx("h2",{className:"text-[1.1em] font-semibold pt-2 bg-gray-200 text-gray-900 pr-2",children:"Recent Tabs"}),oe.jsx("div",{className:" relative w-[100%]  left-2 mb-2 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("ul",{className:"space-y-1",children:[console.log("tabvisitednow",a),a.map(((e,t)=>oe.jsx("li",{className:"text-sm w-[132%] relative -left-6    text-center underline-none",children:oe.jsx(Tm,{to:e,className:"overflow-hidden block no-underline font-semibold text-[.9em] py-2 rounded-md bg-blue-500 text-pink-200 hover:text-pink-100 hover:bg-blue-600 shadow-md hover:drop-shadow-lg hover:font-bold transition duration-300",children:e.split("/").map(((e,t,a)=>isNaN(e)||t!==a.length-1?`${e.charAt(0).toUpperCase()}${e.slice(1).toLowerCase()}`:`-${e}`)).join("")})},t)))]}),oe.jsx(lh,{className:"absolute right-2 top-3 text-xl text-red-500 hover:cursor-pointer",onClick:()=>t(!1)})]})})}function Rj(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 448l416-192L48 64v149.333L346 256 48 298.667z"},child:[]}]})(e)}const $j=()=>{const[e,t]=Q.useState(null),[a,r]=Q.useState(null),n=Q.useRef(null),s=sm(),l=e=>{a===e?(t(null),r(null)):(t(e),r(e))},o=e=>{a&&a===e||(t(e),r(null))},i=()=>{a||t(null)};Q.useEffect((()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&(t(null),r(null))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const d=()=>{s("/comingSoon")};return oe.jsx(oe.Fragment,{children:oe.jsxs(nj,{ref:n,children:[oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-title",children:"Role"}),className:"custom-nav-dropdown",children:[oe.jsx(Cj.Item,{as:Tm,to:"/manageRoles",children:"Manage Role"}),oe.jsx(Cj.Item,{as:Tm,to:"/manageMenus",children:"Manage Menu"}),oe.jsx(Cj.Item,{as:Tm,to:"/manageRoleAccess",children:"Manage Access"})]}),oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-title",children:"My Actions"}),className:"custom-nav-dropdown",children:[oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-titleSubUnder",onClick:()=>l("students"),onMouseEnter:()=>o("students"),children:"Students"}),className:"dropend custom-submenu",show:"students"===e,onMouseLeave:i,children:[oe.jsx(Cj.Item,{as:Tm,to:"/newStudentList",children:"New Student List"}),oe.jsx(Cj.Item,{as:Tm,to:"/manageStudent",children:"Manage Students"}),oe.jsx(Cj.Item,{as:Tm,to:"/manageStudentLC",children:"LC Students"}),oe.jsx(Cj.Item,{as:Tm,to:"/deleteStudent",children:"Deleted Students Lists"}),oe.jsx(Cj.Item,{as:Tm,to:"/PromoteStudent",children:"Promote Students"}),oe.jsx(Cj.Item,{as:Tm,to:"/SendUserIdToParent",children:"Send User Id to Parents"}),oe.jsx(Cj.Item,{as:Tm,to:"/SiblingMapping",children:"Sibling Mapping"}),oe.jsx(Cj.Item,{as:Tm,to:"/siblingUnmapping",children:"Sibling Unmapping"}),oe.jsx(Cj.Item,{as:Tm,to:"/myprofile",children:"User Profile"})]}),oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-titleSubUnder",onClick:()=>l("certificate"),onMouseEnter:()=>o("certificate"),children:"Certificate"}),show:"certificate"===e,onMouseLeave:i,className:"dropend custom-submenu",children:[oe.jsx(Cj.Item,{as:Tm,to:"/bonafiedCertificates",children:"Bonafide Certificate"}),oe.jsx(Cj.Item,{as:Tm,to:"/castCertificate",children:"Caste Certificate"}),oe.jsx(Cj.Item,{as:Tm,to:"/characterCertificate",children:"Character Certificate"}),oe.jsx(Cj.Item,{as:Tm,to:"/percentageCertificate",children:"Percentage Certificate"}),oe.jsx(Cj.Item,{as:Tm,to:"/simpleBonafied",children:"Simple Bonafide Certificate"})]}),oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-titleSubUnder",onClick:()=>l("staff"),onMouseEnter:()=>o("staff"),children:"Staff"}),className:"dropend custom-submenu",show:"staff"===e,onMouseLeave:i,children:[oe.jsx(Cj.Item,{as:Tm,to:"/StaffList",children:"Manage Staff"}),oe.jsx(Cj.Item,{as:Tm,to:"/careTacker",children:"Manage Caretaker"}),oe.jsx(Cj.Item,{as:Tm,to:"/SubstituteTeacher",children:"Substitute Teacher"}),oe.jsx(Cj.Item,{as:Tm,to:"/SetLateTime",children:"Set Late Time"})]}),oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-titleSubUnder",onClick:()=>l("leave"),onMouseEnter:()=>o("leave"),children:"Leave"}),className:"dropend custom-submenu",show:"leave"===e,onMouseLeave:i,children:[oe.jsx(Cj.Item,{as:Tm,to:"/LeaveAllocation",children:"Leave Allocation"}),oe.jsx(Cj.Item,{as:Tm,to:"/leaveAllocationtoAllStaff",children:"Leave Allocation to All Staff"}),oe.jsx(Cj.Item,{as:Tm,to:"/LeaveApplication",children:"Leave Application"}),oe.jsx(Cj.Item,{as:Tm,to:"/LeaveApplicationP",children:"Leave Application For Staff"})]}),oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-titleSubUnder",onClick:()=>l("timetableplanner"),onMouseEnter:()=>o("timetableplanner"),children:"Time Table Planner"}),className:"dropend custom-submenu",show:"timetableplanner"===e,onMouseLeave:i,children:[oe.jsx(Cj.Item,{as:Tm,to:"/teacherPeriodAlloction",children:"Teacher Period Allocation"}),oe.jsx(Cj.Item,{as:Tm,to:"/classWisePAllot",children:"Class Wise Period Allocation"}),oe.jsx(Cj.Item,{as:Tm,to:"/timetablePlanner",children:"Time Table Planner"})]}),oe.jsx(Cj.Item,{as:Tm,to:"/leavingCertificate",children:"Leaving Certificate"}),oe.jsx(Cj.Item,{as:Tm,to:"/noticeAndSms",children:"Notice/SMS"}),oe.jsx(Cj.Item,{as:Tm,to:"/comingsoon",children:"Event"}),oe.jsx(Cj.Item,{as:Tm,to:"/holidayList",children:"Holiday List"}),oe.jsx(Cj.Item,{as:Tm,to:"/allotClassTeacher",children:"Allot Class Teachers"}),oe.jsx(Cj.Item,{as:Tm,to:"comingSoon",children:"Allot Department Coordinator"}),oe.jsx(Cj.Item,{as:Tm,to:"/allotGRNumber",children:"Allot GR Number"}),oe.jsx(Cj.Item,{as:Tm,to:"/categoryReligion",children:"Update Category and Religion"}),oe.jsx(Cj.Item,{as:Tm,to:"/updateStudentID",children:"Update Student ID and Other Details"}),oe.jsx(Cj.Item,{as:Tm,to:"/timeTable",children:"Time Table"})]}),oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-title",children:"ID Card"}),className:"custom-nav-dropdown",style:{color:"black",fontWeight:"700"},children:[oe.jsx(Cj.Item,{as:Tm,to:"/studentIdCard",className:"text-sm font-bold hover:text-black",children:"Student ID Card"}),oe.jsx(Cj.Item,{as:Tm,to:"/teacherIdCard",className:"text-sm font-bold hover:text-black",children:"Teacher ID Card"}),oe.jsx(Cj.Item,{as:Tm,to:"/updateStudentIdCard",className:"text-sm font-bold hover:text-black",children:"Update student ID Card"})]}),oe.jsx(Cj,{title:oe.jsx("span",{className:"nav-dropdown-title",children:"View"}),className:"relative cursor-pointer",style:{color:"black",fontWeight:"800"},onClick:d}),oe.jsx(Cj,{title:oe.jsx("span",{className:"nav-dropdown-title",children:"Reports"}),className:"custom-nav-dropdown",style:{color:"black",fontWeight:"700"},children:oe.jsxs("div",{style:{maxHeight:"400px",overflowY:"auto",scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent",msOverflowStyle:"none"},children:[oe.jsx(Cj.Item,{as:Tm,to:"/listAdmFrmRep",className:"text-sm font-bold hover:text-black",children:"List of Admission Forms Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/balanceleave",className:"text-sm font-bold hover:text-black",children:"Balance Leave"}),oe.jsx(Cj.Item,{as:Tm,to:"/consolidatedLeave",className:"text-sm font-bold hover:text-black",children:"Consolidated Leave"}),oe.jsx(Cj.Item,{as:Tm,to:"/studentReport",className:"text-sm font-bold hover:text-black",children:"Student Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/studentContactDetailsReport",className:"text-sm font-bold hover:text-black",children:"Student Contact Details Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/studentRemarkReport",className:"text-sm font-bold hover:text-black",children:"Student Remarks Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/catWiseStudRepo",className:"text-sm font-bold hover:text-black",children:"Student - Category wise Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/relgWiseStudRepo",className:"text-sm font-bold hover:text-black",children:"Student - Religion wise Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/gendrWiseStudRepo",className:"text-sm font-bold hover:text-black",children:"Student - Gender wise Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/genWiseRelignRepo",className:"text-sm font-bold hover:text-black",children:"Student -Genderwise Religionwise Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/genWiseCatRepo",className:"text-sm font-bold hover:text-black",children:"Student - Genderwise Categorywise Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/newStudentsRepo",className:"text-sm font-bold hover:text-black",children:"New Students Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/leftStudentsRepo",className:"text-sm font-bold hover:text-black",children:"Left Students Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/hSCStudSubjectsRepo",className:"text-sm font-bold hover:text-black",children:"HSC Students Subjects Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/staffReport",className:"text-sm font-bold hover:text-black",children:"Staff Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/monthlyAttendenceRepo",className:"text-sm font-bold hover:text-black",children:"Monthly Attendance Report"}),oe.jsx(Cj.Item,{as:Tm,to:"/feePaymentRepo",className:"text-sm font-bold hover:text-black",children:"Fees Payment Report"}),oe.jsxs(Cj.Item,{as:Tm,to:"/worldlinfeePayRepo",className:"text-sm font-bold hover:text-black",children:["Worldline Fee Payment Report"," "]}),oe.jsxs(Cj.Item,{as:Tm,to:"/rozorpayfeePayRepo",className:"text-sm font-bold hover:text-black",children:["Razorpay Fee Payment Report"," "]}),oe.jsx(Cj.Item,{as:Tm,to:"/PndingStudIdCrdRepo",className:"text-sm font-bold hover:text-black",children:"Pending Student ID Card Report"}),oe.jsxs(Cj.Item,{as:Tm,to:"/SubsTeaMonthlyRepo",className:"text-sm font-bold hover:text-black",children:["Substitute Teacher Monthly Report"," "]}),oe.jsxs(Cj.Item,{as:Tm,to:"/SubsWklyHrsRepo",className:"text-sm font-bold hover:text-black",children:["Substitution Weekly Hours Report"," "]}),oe.jsx(Cj.Item,{as:Tm,to:"/LeavCertifRepo",className:"text-sm font-bold hover:text-black",children:"Leaving Certificate Report"})]})}),oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-title",children:"Ticket"}),className:"custom-nav-dropdown",style:{color:"black",fontWeight:"700"},onClick:d,children:[oe.jsx(Cj.Item,{as:Tm,to:"/serviceType",className:"text-sm font-bold hover:text-black",children:"Service Type"})," ",oe.jsx(Cj.Item,{as:Tm,to:"/subServiceType",className:"text-sm font-bold hover:text-black",children:"Sub Service Type"})," ",oe.jsx(Cj.Item,{as:Tm,to:"/appointmentWindow",className:"text-sm font-bold hover:text-black",children:"Appointment Window"})," ",oe.jsx(Cj.Item,{as:Tm,to:"/ticketList",className:"text-sm font-bold hover:text-black",children:"Ticket List"}),oe.jsx(Cj.Item,{as:Tm,to:"/ticketReport",className:"text-sm font-bold hover:text-black",children:"Ticket Report"})]}),oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-title",children:"Masters"}),className:"custom-nav-dropdown",style:{color:"black",fontWeight:"700"},children:[oe.jsx(Cj.Item,{as:Tm,to:"/sections",className:"text-sm font-bold hover:text-black",children:"Section"}),oe.jsx(Cj.Item,{as:Tm,to:"/classes",className:"text-sm font-bold hover:text-black",children:"Class"}),oe.jsx(Cj.Item,{as:Tm,to:"/division",className:"text-sm font-bold hover:text-black",children:"Division"}),oe.jsx(Cj.Item,{as:Tm,to:"/subjects",className:"text-sm font-bold hover:text-black",children:"Subjects"}),oe.jsx(Cj.Item,{as:Tm,to:"/subject_allotment",className:"text-sm font-bold hover:text-black",children:"Subjects Allotment"}),oe.jsx(Cj.Item,{as:Tm,to:"/SubjectAllotmentHSC",className:"text-sm font-bold hover:text-black",children:"StudentWise Subject Allotment for HSC"}),oe.jsx(Cj.Item,{as:Tm,to:"/subjectforReportcard",className:"text-sm font-bold hover:text-black",children:"Subject for Report Card"}),oe.jsx(Cj.Item,{as:Tm,to:"/managesubjectforreportcard",className:"text-sm font-bold hover:text-black",children:"Subject allotment for report card"}),oe.jsx(Cj.Item,{as:Tm,to:"/leavetype",className:"text-sm font-bold hover:text-black",children:"Leave Type"}),oe.jsx(Cj.Item,{as:Tm,to:"/Exams",className:"text-sm font-bold hover:text-black",children:"Exams"}),oe.jsx(Cj.Item,{as:Tm,to:"/grades",className:"text-sm font-bold hover:text-black",children:"Grades"}),oe.jsx(Cj.Item,{as:Tm,to:"/marksHeading",className:"text-sm font-bold hover:text-black",children:"Marks heading"}),oe.jsx(Cj.Item,{as:Tm,to:"/allot_Marks_Heading",className:"text-sm font-bold hover:text-black",children:"Allot Marks heading"}),oe.jsxs(Cj.Item,{as:Tm,to:"/exam_TimeTable",className:"text-sm font-bold hover:text-black",children:["Exam Timetable"," "]}),oe.jsxs(Cj.Item,{as:Tm,to:"/stationery",className:"text-sm font-bold hover:text-black",children:["Stationery"," "]})]})]})})};function Bj(){var e;const t="https://sms.evolvu.in/public",a=sm(),[r,n]=Q.useState();Q.useState("");const[s,l]=Q.useState([]);Q.useState(!1),Q.useState({});const[o,i]=Q.useState(""),[d,c]=Q.useState({}),[u,m]=Q.useState(""),[h,f]=Q.useState("");Q.useState([]);const[x,g]=Q.useState(!1),[b,v]=Q.useState("");Q.useState(!1);const[y,w]=Q.useState([]),[j,N]=Q.useState("");Q.useState(null),Q.useRef(null),Q.useEffect((()=>{(()=>{p(this,null,(function*(){var e,r,n,s,l;const o=localStorage.getItem("authToken");if(!o)return hp.error("Authentication token not found Please login again"),void a("/");try{const s=yield Uf.get(`${t}/api/editprofile`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`}}),l=null==(e=s.data.user)?void 0:e.get_teacher;m(null==l?void 0:l.name),console.log("the userupdate profile inside the navbar compoenent",l);const i=null==(r=null==s?void 0:s.data)?void 0:r.message;if(console.log("tokeneeee error---\x3e",i,null==(n=null==s?void 0:s.data)?void 0:n.message),"Token has expired"===i)return hp.error("Session expired. Please login again."),localStorage.removeItem("authToken"),void a("/")}catch(i){hp.error(i.response.data.message),console.error("Error fetching profile data inside navbar component:",i);const e=null==(l=null==(s=i.response)?void 0:s.data)?void 0:l.message;if("Token has expired"===e)return hp.error("Session expired. Please login again."),localStorage.removeItem("authToken"),void a("/");hp.error(e||"Something went wrong."),console.error("Error fetching profile:",i)}}))})()}),[t]);const _=()=>p(this,null,(function*(){var e,r,n,s,l;if(console.log("GR Number Entered:",h),!h)return hp.error("Please enter a GR number!"),void console.log("Error: Empty GR Number");if(!/^\d+$/.test(h))return hp.error("Invalid GR number! Please enter a valid numeric value."),void console.log("Error: Invalid GR Number Format");g(!0);try{const r=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/student_by_reg_no/${h}`,{headers:{Authorization:`Bearer ${r}`}}),s=(null==(e=null==n?void 0:n.data)?void 0:e.student)||[];console.log("Student List:",s),0===s.length?(hp.error("No student found with this GR number."),console.log("Error: No student found")):a("/StudentSearchUsingGRN",{state:{studentData:s[0]}})}catch(o){hp.error((null==(n=null==(r=null==o?void 0:o.response)?void 0:r.data)?void 0:n.message)||"Error fetching student details."),console.log("API Error:",null==(l=null==(s=null==o?void 0:o.response)?void 0:s.data)?void 0:l.message)}finally{g(!1)}}));Q.useEffect((()=>{(()=>{p(this,null,(function*(){var e,r,n,s,o,d,u;const m=localStorage.getItem("authToken");if(!m)return console.error("No authentication token found"),hp.error("Authentication token not found Please login again"),void a("/");try{const d=yield Uf.get(`${t}/api/sessionData`,{headers:{Authorization:`Bearer ${m}`}}),u=null==(r=null==(e=null==d?void 0:d.data)?void 0:e.custom_claims)?void 0:r.school_name;if(u&&(v(u),document.title=u),c(d.data),i(null==(s=null==(n=null==d?void 0:d.data)?void 0:n.custom_claims)?void 0:s.academic_year),N(d.data.user.role_id),"Token has expired"===(null==(o=null==d?void 0:d.data)?void 0:o.message))return hp.error("Session expired. Please login again."),localStorage.removeItem("authToken"),void a("/");const h=yield Uf.get(`${t}/api/getAcademicYear`,{headers:{Authorization:`Bearer ${m}`}});l(h.data.academic_years);const f=yield Uf.get(`${t}/api/navmenulisttest`,{headers:{Authorization:`Bearer ${m}`}});w(f.data),console.log("this is the nablis",f.data),console.log("this is the array",f.data.sub_menus)}catch(h){if("Token has expired"===(null==(u=null==(d=h.response)?void 0:d.data)?void 0:u.message))return hp.error("Session expired. Please login again."),localStorage.removeItem("authToken"),void a("/");console.error("Error fetching data:",h)}}))})()}),[]);const S=Q.useRef(null),[k,C]=Q.useState([]),[E,T]=Q.useState([]),O=(e,t)=>{const a=[...k.slice(0,t)];if(k[t]===e)C(a),T(a);else{const t=[...a,e];C(t),T(t)}},D=Q.useRef({}),A=(e,t)=>{if(0===t)return;clearTimeout(D.current[t]);const a=[...k.slice(0,t),e];C(a),T([])},P=e=>{0!==e&&(clearTimeout(D.current[e]),D.current[e]=setTimeout((()=>{C((t=>t.filter((t=>parseInt(t.split("-")[1])<e||E.includes(t)))))}),200))};return Q.useEffect((()=>{const e=e=>{S.current&&!S.current.contains(e.target)&&(C([]),T([]))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"",style:{position:"fixed",top:"0px",zIndex:"10",backgroundColor:"#D61D5E"},children:[oe.jsxs("div",{className:`${Dj} w-screen flex items-center justify-between px-2  h-12`,style:{background:"#C03078"},children:[oe.jsx("div",{children:oe.jsx(Ij,{className:" text-white ",style:{fontSize:"2em"}})}),oe.jsx("div",{className:"flex-grow ",children:oe.jsxs("h1",{className:`${Pj} flex justify-center items-center   lg:text-2xl  font-semibold   sm:font-bold  text-white `,children:[b," (",null==(e=d.custom_claims)?void 0:e.academic_year,")"]})}),oe.jsx("h1",{className:"text-lg lg:text-sm text-white px-2 hidden lg:block mt-2",children:function(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=e.getMonth(),r=String(e.getFullYear()).slice();return`${t} ${["January","February","March","April","May","June","July","August","September","October","November","December"][a]} ${r}`}()}),oe.jsx("div",{className:"flex items-center ",children:oe.jsxs(Cj,{title:oe.jsx("span",{className:"nav-dropdown-title",children:oe.jsx(ah,{className:"text-white",style:{fontSize:"1.5rem",display:"inline",marginLeft:"4px",paddingRight:"4px"}})}),className:"  w-18 border-2 rounded-full border-white px-2 lg:px-4 ml-2 hover:rounded-lg ",children:[oe.jsx(Cj.Item,{children:oe.jsxs("div",{className:"flex items-center gap-2",onClick:()=>{a("/myprofile")},children:[oe.jsx(ah,{style:{fontSize:"1.5rem"}}),oe.jsx("span",{style:{fontSize:".8em"},children:u})]})}),oe.jsx(Cj.Item,{children:oe.jsxs("div",{className:"flex items-center gap-2",onClick:()=>{a("/changepassword")},children:[oe.jsx(Tj,{style:{fontSize:"1.5rem"}}),oe.jsx("span",{style:{fontSize:".8em"},children:"Change Password"})]})}),oe.jsx(Cj.Item,{onClick:()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");yield Uf.post(`${t}/api/logout`,{},{headers:{Authorization:`Bearer ${e}`}}),localStorage.removeItem("authToken"),localStorage.removeItem("academicYear"),localStorage.removeItem("user"),localStorage.removeItem("settings"),sessionStorage.removeItem("sessionData"),a("/")}catch(e){console.error("Logout error:",e)}})),children:oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx(Ej,{style:{fontSize:"1.5rem"}}),oe.jsx("span",{style:{fontSize:".8em"},children:"Logout"})]})})]})})]}),oe.jsx("div",{style:{background:"rgb(255, 9, 98)"},children:oe.jsxs("div",{className:" flex justify-between  shadow h-12  mx-2 bg-gray-200",children:[oe.jsx("div",{onClick:()=>n(!0),className:"  hover:cursor-pointer hidden lg:block",children:oe.jsx(oh,{style:{fontSize:"1.8em",textAlign:"center",display:"inline",position:"relative",top:"5px",left:"10px",paddingTop:"5px"}})}),oe.jsx(Sj,{expand:"lg",className:`${Aj} flex justify-between pl-16 w-full custom-navbar `,children:oe.jsxs("div",{className:"container-fluid flex items-center bg-gray-200 sm:w-40 box-border ",children:[oe.jsx(Sj.Toggle,{"aria-controls":"basic-navbar-nav",className:"custom-toggler bg-transparent"}),oe.jsx(Sj.Collapse,{id:"basic-navbar-nav",className:"flex-grow-1 text-black ",children:oe.jsxs(nj,{className:"  mr-auto text-xs lg:text-sm ",children:[oe.jsxs("div",{onClick:()=>{a("/dashboard")},style:{fontWeight:"700"},className:"hover:cursor-pointer   DashbordText text-[1rem] md:pt-0 my-auto  text-black  md:relative right-2  ",children:[oe.jsx(Zm,{className:"inline mr-1 relative bottom-0.5  hover:text-black"}),"Dashboard"]}),console.log("the Role id",j),"A"===j?oe.jsx($j,{}):oe.jsx("div",{ref:S,className:"flex items-center",children:((e,t=0)=>e.map((e=>{const r=`${e.menu_id}-${t}`,n=k.includes(r);return e.sub_menus&&e.sub_menus.length>0?oe.jsx(Cj,{title:oe.jsx("span",{className:"nav-title-topIs",children:e.name}),className:"custom-nav-dropdown "+(n?"show":""),show:n,onClick:e=>{e.preventDefault(),O(r,t)},children:e.sub_menus.map((e=>{const r=`${e.menu_id}-${t+1}`,n=k.includes(r);return e.sub_menus&&e.sub_menus.length>0?oe.jsx(Cj,{title:oe.jsx("span",{className:"nav-dropdown-sub-new-Dynamic ml-2",children:e.name}),className:`  nav-dropdown-sub-new dropend w-auto ${n?"show":""} `,show:n,onClick:e=>{e.preventDefault(),e.stopPropagation(),O(r,t+1)},onMouseEnter:()=>A(r,t+1),onMouseLeave:()=>P(t+1),children:e.sub_menus.map((e=>{var r;const s=`${e.menu_id}-${t+2}`,l=k.includes(s);return(null==(r=e.sub_menus)?void 0:r.length)>0?oe.jsx(Cj,{title:oe.jsx("span",{style:{cursor:"pointer"},className:"  custom-hover-styleForchildLeve  ml-2",children:e.name}),className:`  nav-dropdown-sub-new dropend w-auto ${n?"show":""} `,show:l,onClick:e=>{e.preventDefault(),O(s,t+2)},onMouseEnter:()=>A(s,t+2),onMouseLeave:()=>P(t+2),children:e.sub_menus.map((e=>oe.jsx(Cj.Item,{onClick:()=>a(e.url),children:e.name},e.menu_id)))},s):oe.jsx(Cj.Item,{onClick:()=>a(e.url),className:"hover:bg-gray-100 hover:text-blue-600 text-sm",children:e.name},s)}))},r):oe.jsx(Cj.Item,{onClick:()=>a(e.url),children:e.name},r)}))},r):oe.jsx(nj.Link,{onClick:()=>e.url&&a(e.url),className:"nav-title-top",children:oe.jsx("span",{className:"nav-title-top",children:e.name})},r)})))(y)})]})})," "]})}),oe.jsxs("div",{className:"flex items-center  ",children:[oe.jsx("div",{className:"flex items-center",children:oe.jsx("div",{children:oe.jsx("input",{type:"text",id:"search",name:"search",disabled:!0,placeholder:"GR NO",value:h,onChange:e=>{f(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&_()},style:{display:"inline",position:"relative",zIndex:"2",padding:"3px",paddingRight:"4px"},className:"w-12 lg:w-20 mr-4 outline-none border-1 border-gray-400 rounded-md py-0.5 text-xs lg:text-sm"})})})," ",oe.jsx(Cj,{title:oe.jsx("span",{className:"nav-dropdown-title",style:{fontSize:"1em"},children:o||"Academic Year "}),className:`${Mj} academic-dropdown outline-none border-1 border-gray-400 px-1 rounded-md py-0.5 text-xs lg:text-sm   `,style:{boxSizing:"border-box",width:"60%",margin:"auto",position:"relative",right:"10px",textAlign:"center",fontWeight:"600"},onSelect:e=>p(this,null,(function*(){i(e);const r=localStorage.getItem("authToken");if(!r)return console.error("No authentication token found"),hp.error("Authentication token not found Please login again"),void a("/");try{const n=yield Uf.post(`${t}/api/update_academic_year`,{academic_year:e},{headers:{Authorization:`Bearer ${r}`}});localStorage.setItem("authToken",n.data.token),window.location.reload(),setTimeout((()=>{a("/dashboard")}),100)}catch(n){console.error("Error updating academic year:",n)}})),children:oe.jsx("div",{className:" text-start text-sm bg-gray-50 text-gray-300  h-28 overflow-y-scroll",children:s&&s.length>0&&s.map((e=>oe.jsx(Cj.Item,{eventKey:e,children:e},e)))})})]})]})})]}),oe.jsx(Fj,{isSidebar:r,setIsSidebar:n})]})}const zj="https://sms.evolvu.in/public";function Uj(){const[e,t]=Q.useState([]);Q.useEffect((()=>{(()=>{p(this,null,(function*(){const e=localStorage.getItem("authToken");if(e)try{const a=yield Uf.get(`${zj}/api/students`,{headers:{Authorization:`Bearer ${e}`}});t(a.data)}catch(a){console.error("Error fetching students:",a)}}))})()}),[]);const a=(e,a)=>p(this,null,(function*(){if(e.preventDefault(),window.confirm("Are you sure you want to delete this student?")){const e=localStorage.getItem("authToken");if(e)try{yield Uf.delete(`${zj}/api/students/${a}/delete`,{headers:{Authorization:`Bearer ${e}`}}),t((e=>e.filter((e=>e.id!==a))))}catch(r){console.error("Error deleting student:",r)}}})),r=e.map(((e,t)=>oe.jsxs("tr",{children:[oe.jsx("td",{children:e.id}),oe.jsx("td",{children:`${e.first_name} ${e.middle_name} ${e.last_name}`}),oe.jsx("td",{children:e.student_aadhaar_no}),oe.jsx("td",{children:e.class}),oe.jsx("td",{children:e.state}),oe.jsx("td",{children:e.city}),oe.jsx("td",{children:e.pincode}),oe.jsx("td",{children:e.religion}),oe.jsx("td",{children:e.caste}),oe.jsx("td",{children:e.emergency_address}),oe.jsx("td",{children:oe.jsx(Tm,{to:`/student/${e.id}/edit`,children:oe.jsx("button",{className:"btn btn-primary",children:"Edit"})})}),oe.jsx("td",{children:oe.jsx("button",{type:"button",onClick:t=>a(t,e.id),className:"btn btn-danger",children:"Delete"})})]},t)));return oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"container mt-5",children:oe.jsx("div",{className:"row",children:oe.jsxs("div",{className:"card",children:[oe.jsxs("div",{className:"card-header bg-dark",children:[oe.jsx("h4",{style:{color:"white"},children:"Students List"}),oe.jsx("p",{style:{color:"white"},children:"Here you see all the student list"})]}),oe.jsx("div",{className:"card-body",children:oe.jsxs("table",{className:"table table-striped",children:[oe.jsx("thead",{children:oe.jsxs("tr",{children:[oe.jsx("th",{children:"ID"}),oe.jsx("th",{children:"Name"}),oe.jsx("th",{children:"Aadhaar No"}),oe.jsx("th",{children:"Class"}),oe.jsx("th",{children:"State"}),oe.jsx("th",{children:"City"}),oe.jsx("th",{children:"Pin Code"}),oe.jsx("th",{children:"Religion"}),oe.jsx("th",{children:"Caste"}),oe.jsx("th",{children:"Emergency Address"}),oe.jsx("th",{children:"Edit"}),oe.jsx("th",{children:"Delete"})]})}),oe.jsx("tbody",{children:r})]})})]})})})})}var Hj={},Wj={},Yj={},qj={},Vj={};Object.defineProperty(Vj,"__esModule",{value:!0}),Vj.default={SORT_ASC:"asc",SORT_DESC:"desc",ROW_SELECT_SINGLE:"radio",ROW_SELECT_MULTIPLE:"checkbox",ROW_SELECT_DISABLED:"ROW_SELECT_DISABLED",CHECKBOX_STATUS_CHECKED:"checked",CHECKBOX_STATUS_INDETERMINATE:"indeterminate",CHECKBOX_STATUS_UNCHECKED:"unchecked",INDICATOR_POSITION_LEFT:"left",INDICATOR_POSITION_RIGHT:"right",TYPE_STRING:"string",TYPE_NUMBER:"number",TYPE_BOOLEAN:"bool",TYPE_DATE:"date",FILTERS_POSITION_INLINE:"inline",FILTERS_POSITION_TOP:"top",FILTERS_POSITION_BOTTOM:"bottom"};var Gj={},Kj={};Object.defineProperty(Kj,"__esModule",{value:!0}),Kj.BootstrapContext=void 0;var Xj,Qj=(Xj=Q)&&Xj.__esModule?Xj:{default:Xj};Kj.BootstrapContext=Qj.default.createContext({bootstrap4:!1}),Object.defineProperty(Gj,"__esModule",{value:!0});var Jj=function(e){return e&&e.__esModule?e:{default:e}}(Q),Zj=Kj;Gj.default=function(){return Jj.default.createElement(Zj.BootstrapContext.Consumer,null,(function(e){return e.bootstrap4?Jj.default.createElement("span",{className:"order-4"}):Jj.default.createElement("span",{className:"order"},Jj.default.createElement("span",{className:"dropdown"},Jj.default.createElement("span",{className:"caret"})),Jj.default.createElement("span",{className:"dropup"},Jj.default.createElement("span",{className:"caret"})))}))};var eN={};Object.defineProperty(eN,"__esModule",{value:!0});var tN=lN(Q),aN=lN(Rg),rN=lN(sb),nN=lN(Vj),sN=Kj;function lN(e){return e&&e.__esModule?e:{default:e}}var oN=function(e){var t=e.order,a=(0,aN.default)("react-bootstrap-table-sort-order",{dropup:t===nN.default.SORT_ASC});return tN.default.createElement(sN.BootstrapContext.Consumer,null,(function(e){return e.bootstrap4?tN.default.createElement("span",{className:"caret-4-"+t}):tN.default.createElement("span",{className:a},tN.default.createElement("span",{className:"caret"}))}))};oN.propTypes={order:rN.default.oneOf([nN.default.SORT_ASC,nN.default.SORT_DESC]).isRequired},eN.default=oN;var iN={},dN={exports:{}};!function(e,t){!function(){var a="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r||this||{},n=a._,s=Array.prototype,l=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,i=s.push,d=s.slice,c=l.toString,u=l.hasOwnProperty,m=Array.isArray,h=Object.keys,f=Object.create,p=function(){},x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};t.nodeType?a._=x:(!e.nodeType&&e.exports&&(t=e.exports=x),t._=x),x.VERSION="1.9.1";var g,b=function(e,t,a){if(void 0===t)return e;switch(null==a?3:a){case 1:return function(a){return e.call(t,a)};case 3:return function(a,r,n){return e.call(t,a,r,n)};case 4:return function(a,r,n,s){return e.call(t,a,r,n,s)}}return function(){return e.apply(t,arguments)}},v=function(e,t,a){return x.iteratee!==g?x.iteratee(e,t):null==e?x.identity:x.isFunction(e)?b(e,t,a):x.isObject(e)&&!x.isArray(e)?x.matcher(e):x.property(e)};x.iteratee=g=function(e,t){return v(e,t,1/0)};var y=function(e,t){return t=null==t?e.length-1:+t,function(){for(var a=Math.max(arguments.length-t,0),r=Array(a),n=0;n<a;n++)r[n]=arguments[n+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var s=Array(t+1);for(n=0;n<t;n++)s[n]=arguments[n];return s[t]=r,e.apply(this,s)}},w=function(e){if(!x.isObject(e))return{};if(f)return f(e);p.prototype=e;var t=new p;return p.prototype=null,t},j=function(e){return function(t){return null==t?void 0:t[e]}},N=function(e,t){return null!=e&&u.call(e,t)},_=function(e,t){for(var a=t.length,r=0;r<a;r++){if(null==e)return;e=e[t[r]]}return a?e:void 0},S=Math.pow(2,53)-1,k=j("length"),C=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=S};x.each=x.forEach=function(e,t,a){var r,n;if(t=b(t,a),C(e))for(r=0,n=e.length;r<n;r++)t(e[r],r,e);else{var s=x.keys(e);for(r=0,n=s.length;r<n;r++)t(e[s[r]],s[r],e)}return e},x.map=x.collect=function(e,t,a){t=v(t,a);for(var r=!C(e)&&x.keys(e),n=(r||e).length,s=Array(n),l=0;l<n;l++){var o=r?r[l]:l;s[l]=t(e[o],o,e)}return s};var E=function(e){return function(t,a,r,n){var s=arguments.length>=3;return function(t,a,r,n){var s=!C(t)&&x.keys(t),l=(s||t).length,o=e>0?0:l-1;for(n||(r=t[s?s[o]:o],o+=e);o>=0&&o<l;o+=e){var i=s?s[o]:o;r=a(r,t[i],i,t)}return r}(t,b(a,n,4),r,s)}};x.reduce=x.foldl=x.inject=E(1),x.reduceRight=x.foldr=E(-1),x.find=x.detect=function(e,t,a){var r=(C(e)?x.findIndex:x.findKey)(e,t,a);if(void 0!==r&&-1!==r)return e[r]},x.filter=x.select=function(e,t,a){var r=[];return t=v(t,a),x.each(e,(function(e,a,n){t(e,a,n)&&r.push(e)})),r},x.reject=function(e,t,a){return x.filter(e,x.negate(v(t)),a)},x.every=x.all=function(e,t,a){t=v(t,a);for(var r=!C(e)&&x.keys(e),n=(r||e).length,s=0;s<n;s++){var l=r?r[s]:s;if(!t(e[l],l,e))return!1}return!0},x.some=x.any=function(e,t,a){t=v(t,a);for(var r=!C(e)&&x.keys(e),n=(r||e).length,s=0;s<n;s++){var l=r?r[s]:s;if(t(e[l],l,e))return!0}return!1},x.contains=x.includes=x.include=function(e,t,a,r){return C(e)||(e=x.values(e)),("number"!=typeof a||r)&&(a=0),x.indexOf(e,t,a)>=0},x.invoke=y((function(e,t,a){var r,n;return x.isFunction(t)?n=t:x.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),x.map(e,(function(e){var s=n;if(!s){if(r&&r.length&&(e=_(e,r)),null==e)return;s=e[t]}return null==s?s:s.apply(e,a)}))})),x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matcher(t))},x.findWhere=function(e,t){return x.find(e,x.matcher(t))},x.max=function(e,t,a){var r,n,s=-1/0,l=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,i=(e=C(e)?e:x.values(e)).length;o<i;o++)null!=(r=e[o])&&r>s&&(s=r);else t=v(t,a),x.each(e,(function(e,a,r){((n=t(e,a,r))>l||n===-1/0&&s===-1/0)&&(s=e,l=n)}));return s},x.min=function(e,t,a){var r,n,s=1/0,l=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,i=(e=C(e)?e:x.values(e)).length;o<i;o++)null!=(r=e[o])&&r<s&&(s=r);else t=v(t,a),x.each(e,(function(e,a,r){((n=t(e,a,r))<l||n===1/0&&s===1/0)&&(s=e,l=n)}));return s},x.shuffle=function(e){return x.sample(e,1/0)},x.sample=function(e,t,a){if(null==t||a)return C(e)||(e=x.values(e)),e[x.random(e.length-1)];var r=C(e)?x.clone(e):x.values(e),n=k(r);t=Math.max(Math.min(t,n),0);for(var s=n-1,l=0;l<t;l++){var o=x.random(l,s),i=r[l];r[l]=r[o],r[o]=i}return r.slice(0,t)},x.sortBy=function(e,t,a){var r=0;return t=v(t,a),x.pluck(x.map(e,(function(e,a,n){return{value:e,index:r++,criteria:t(e,a,n)}})).sort((function(e,t){var a=e.criteria,r=t.criteria;if(a!==r){if(a>r||void 0===a)return 1;if(a<r||void 0===r)return-1}return e.index-t.index})),"value")};var T=function(e,t){return function(a,r,n){var s=t?[[],[]]:{};return r=v(r,n),x.each(a,(function(t,n){var l=r(t,n,a);e(s,t,l)})),s}};x.groupBy=T((function(e,t,a){N(e,a)?e[a].push(t):e[a]=[t]})),x.indexBy=T((function(e,t,a){e[a]=t})),x.countBy=T((function(e,t,a){N(e,a)?e[a]++:e[a]=1}));var O=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;x.toArray=function(e){return e?x.isArray(e)?d.call(e):x.isString(e)?e.match(O):C(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:C(e)?e.length:x.keys(e).length},x.partition=T((function(e,t,a){e[a?0:1].push(t)}),!0),x.first=x.head=x.take=function(e,t,a){return null==e||e.length<1?null==t?void 0:[]:null==t||a?e[0]:x.initial(e,e.length-t)},x.initial=function(e,t,a){return d.call(e,0,Math.max(0,e.length-(null==t||a?1:t)))},x.last=function(e,t,a){return null==e||e.length<1?null==t?void 0:[]:null==t||a?e[e.length-1]:x.rest(e,Math.max(0,e.length-t))},x.rest=x.tail=x.drop=function(e,t,a){return d.call(e,null==t||a?1:t)},x.compact=function(e){return x.filter(e,Boolean)};var D=function(e,t,a,r){for(var n=(r=r||[]).length,s=0,l=k(e);s<l;s++){var o=e[s];if(C(o)&&(x.isArray(o)||x.isArguments(o)))if(t)for(var i=0,d=o.length;i<d;)r[n++]=o[i++];else D(o,t,a,r),n=r.length;else a||(r[n++]=o)}return r};x.flatten=function(e,t){return D(e,t,!1)},x.without=y((function(e,t){return x.difference(e,t)})),x.uniq=x.unique=function(e,t,a,r){x.isBoolean(t)||(r=a,a=t,t=!1),null!=a&&(a=v(a,r));for(var n=[],s=[],l=0,o=k(e);l<o;l++){var i=e[l],d=a?a(i,l,e):i;t&&!a?(l&&s===d||n.push(i),s=d):a?x.contains(s,d)||(s.push(d),n.push(i)):x.contains(n,i)||n.push(i)}return n},x.union=y((function(e){return x.uniq(D(e,!0,!0))})),x.intersection=function(e){for(var t=[],a=arguments.length,r=0,n=k(e);r<n;r++){var s=e[r];if(!x.contains(t,s)){var l;for(l=1;l<a&&x.contains(arguments[l],s);l++);l===a&&t.push(s)}}return t},x.difference=y((function(e,t){return t=D(t,!0,!0),x.filter(e,(function(e){return!x.contains(t,e)}))})),x.unzip=function(e){for(var t=e&&x.max(e,k).length||0,a=Array(t),r=0;r<t;r++)a[r]=x.pluck(e,r);return a},x.zip=y(x.unzip),x.object=function(e,t){for(var a={},r=0,n=k(e);r<n;r++)t?a[e[r]]=t[r]:a[e[r][0]]=e[r][1];return a};var A=function(e){return function(t,a,r){a=v(a,r);for(var n=k(t),s=e>0?0:n-1;s>=0&&s<n;s+=e)if(a(t[s],s,t))return s;return-1}};x.findIndex=A(1),x.findLastIndex=A(-1),x.sortedIndex=function(e,t,a,r){for(var n=(a=v(a,r,1))(t),s=0,l=k(e);s<l;){var o=Math.floor((s+l)/2);a(e[o])<n?s=o+1:l=o}return s};var P=function(e,t,a){return function(r,n,s){var l=0,o=k(r);if("number"==typeof s)e>0?l=s>=0?s:Math.max(s+o,l):o=s>=0?Math.min(s+1,o):s+o+1;else if(a&&s&&o)return r[s=a(r,n)]===n?s:-1;if(n!=n)return(s=t(d.call(r,l,o),x.isNaN))>=0?s+l:-1;for(s=e>0?l:o-1;s>=0&&s<o;s+=e)if(r[s]===n)return s;return-1}};x.indexOf=P(1,x.findIndex,x.sortedIndex),x.lastIndexOf=P(-1,x.findLastIndex),x.range=function(e,t,a){null==t&&(t=e||0,e=0),a||(a=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/a),0),n=Array(r),s=0;s<r;s++,e+=a)n[s]=e;return n},x.chunk=function(e,t){if(null==t||t<1)return[];for(var a=[],r=0,n=e.length;r<n;)a.push(d.call(e,r,r+=t));return a};var M=function(e,t,a,r,n){if(!(r instanceof t))return e.apply(a,n);var s=w(e.prototype),l=e.apply(s,n);return x.isObject(l)?l:s};x.bind=y((function(e,t,a){if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var r=y((function(n){return M(e,r,t,this,a.concat(n))}));return r})),x.partial=y((function(e,t){var a=x.partial.placeholder,r=function(){for(var n=0,s=t.length,l=Array(s),o=0;o<s;o++)l[o]=t[o]===a?arguments[n++]:t[o];for(;n<arguments.length;)l.push(arguments[n++]);return M(e,r,this,this,l)};return r})),x.partial.placeholder=x,x.bindAll=y((function(e,t){var a=(t=D(t,!1,!1)).length;if(a<1)throw new Error("bindAll must be passed function names");for(;a--;){var r=t[a];e[r]=x.bind(e[r],e)}})),x.memoize=function(e,t){var a=function(r){var n=a.cache,s=""+(t?t.apply(this,arguments):r);return N(n,s)||(n[s]=e.apply(this,arguments)),n[s]};return a.cache={},a},x.delay=y((function(e,t,a){return setTimeout((function(){return e.apply(null,a)}),t)})),x.defer=x.partial(x.delay,x,1),x.throttle=function(e,t,a){var r,n,s,l,o=0;a||(a={});var i=function(){o=!1===a.leading?0:x.now(),r=null,l=e.apply(n,s),r||(n=s=null)},d=function(){var d=x.now();o||!1!==a.leading||(o=d);var c=t-(d-o);return n=this,s=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),o=d,l=e.apply(n,s),r||(n=s=null)):r||!1===a.trailing||(r=setTimeout(i,c)),l};return d.cancel=function(){clearTimeout(r),o=0,r=n=s=null},d},x.debounce=function(e,t,a){var r,n,s=function(t,a){r=null,a&&(n=e.apply(t,a))},l=y((function(l){if(r&&clearTimeout(r),a){var o=!r;r=setTimeout(s,t),o&&(n=e.apply(this,l))}else r=x.delay(s,t,this,l);return n}));return l.cancel=function(){clearTimeout(r),r=null},l},x.wrap=function(e,t){return x.partial(t,e)},x.negate=function(e){return function(){return!e.apply(this,arguments)}},x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var a=t,r=e[t].apply(this,arguments);a--;)r=e[a].call(this,r);return r}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.before=function(e,t){var a;return function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=null),a}},x.once=x.partial(x.before,2),x.restArguments=y;var L=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(e,t){var a=I.length,r=e.constructor,n=x.isFunction(r)&&r.prototype||l,s="constructor";for(N(e,s)&&!x.contains(t,s)&&t.push(s);a--;)(s=I[a])in e&&e[s]!==n[s]&&!x.contains(t,s)&&t.push(s)};x.keys=function(e){if(!x.isObject(e))return[];if(h)return h(e);var t=[];for(var a in e)N(e,a)&&t.push(a);return L&&F(e,t),t},x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var a in e)t.push(a);return L&&F(e,t),t},x.values=function(e){for(var t=x.keys(e),a=t.length,r=Array(a),n=0;n<a;n++)r[n]=e[t[n]];return r},x.mapObject=function(e,t,a){t=v(t,a);for(var r=x.keys(e),n=r.length,s={},l=0;l<n;l++){var o=r[l];s[o]=t(e[o],o,e)}return s},x.pairs=function(e){for(var t=x.keys(e),a=t.length,r=Array(a),n=0;n<a;n++)r[n]=[t[n],e[t[n]]];return r},x.invert=function(e){for(var t={},a=x.keys(e),r=0,n=a.length;r<n;r++)t[e[a[r]]]=a[r];return t},x.functions=x.methods=function(e){var t=[];for(var a in e)x.isFunction(e[a])&&t.push(a);return t.sort()};var R=function(e,t){return function(a){var r=arguments.length;if(t&&(a=Object(a)),r<2||null==a)return a;for(var n=1;n<r;n++)for(var s=arguments[n],l=e(s),o=l.length,i=0;i<o;i++){var d=l[i];t&&void 0!==a[d]||(a[d]=s[d])}return a}};x.extend=R(x.allKeys),x.extendOwn=x.assign=R(x.keys),x.findKey=function(e,t,a){t=v(t,a);for(var r,n=x.keys(e),s=0,l=n.length;s<l;s++)if(t(e[r=n[s]],r,e))return r};var $,B,z=function(e,t,a){return t in a};x.pick=y((function(e,t){var a={},r=t[0];if(null==e)return a;x.isFunction(r)?(t.length>1&&(r=b(r,t[1])),t=x.allKeys(e)):(r=z,t=D(t,!1,!1),e=Object(e));for(var n=0,s=t.length;n<s;n++){var l=t[n],o=e[l];r(o,l,e)&&(a[l]=o)}return a})),x.omit=y((function(e,t){var a,r=t[0];return x.isFunction(r)?(r=x.negate(r),t.length>1&&(a=t[1])):(t=x.map(D(t,!1,!1),String),r=function(e,a){return!x.contains(t,a)}),x.pick(e,r,a)})),x.defaults=R(x.allKeys,!0),x.create=function(e,t){var a=w(e);return t&&x.extendOwn(a,t),a},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isMatch=function(e,t){var a=x.keys(t),r=a.length;if(null==e)return!r;for(var n=Object(e),s=0;s<r;s++){var l=a[s];if(t[l]!==n[l]||!(l in n))return!1}return!0},$=function(e,t,a,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var n=typeof e;return("function"===n||"object"===n||"object"==typeof t)&&B(e,t,a,r)},B=function(e,t,a,r){e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var n=c.call(e);if(n!==c.call(t))return!1;switch(n){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return o.valueOf.call(e)===o.valueOf.call(t)}var s="[object Array]"===n;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,i=t.constructor;if(l!==i&&!(x.isFunction(l)&&l instanceof l&&x.isFunction(i)&&i instanceof i)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var d=(a=a||[]).length;d--;)if(a[d]===e)return r[d]===t;if(a.push(e),r.push(t),s){if((d=e.length)!==t.length)return!1;for(;d--;)if(!$(e[d],t[d],a,r))return!1}else{var u,m=x.keys(e);if(d=m.length,x.keys(t).length!==d)return!1;for(;d--;)if(u=m[d],!N(t,u)||!$(e[u],t[u],a,r))return!1}return a.pop(),r.pop(),!0},x.isEqual=function(e,t){return $(e,t)},x.isEmpty=function(e){return null==e||(C(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length)},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=m||function(e){return"[object Array]"===c.call(e)},x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},x.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){x["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}})),x.isArguments(arguments)||(x.isArguments=function(e){return N(e,"callee")});var U=a.document&&a.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof U&&(x.isFunction=function(e){return"function"==typeof e||!1}),x.isFinite=function(e){return!x.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&isNaN(e)},x.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){if(!x.isArray(t))return N(e,t);for(var a=t.length,r=0;r<a;r++){var n=t[r];if(null==e||!u.call(e,n))return!1;e=e[n]}return!!a},x.noConflict=function(){return a._=n,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.noop=function(){},x.property=function(e){return x.isArray(e)?function(t){return _(t,e)}:j(e)},x.propertyOf=function(e){return null==e?function(){}:function(t){return x.isArray(t)?_(e,t):e[t]}},x.matcher=x.matches=function(e){return e=x.extendOwn({},e),function(t){return x.isMatch(t,e)}},x.times=function(e,t,a){var r=Array(Math.max(0,e));t=b(t,a,1);for(var n=0;n<e;n++)r[n]=t(n);return r},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},W=x.invert(H),Y=function(e){var t=function(t){return e[t]},a="(?:"+x.keys(e).join("|")+")",r=RegExp(a),n=RegExp(a,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(n,t):e}};x.escape=Y(H),x.unescape=Y(W),x.result=function(e,t,a){x.isArray(t)||(t=[t]);var r=t.length;if(!r)return x.isFunction(a)?a.call(e):a;for(var n=0;n<r;n++){var s=null==e?void 0:e[t[n]];void 0===s&&(s=a,n=r),e=x.isFunction(s)?s.call(e):s}return e};var q=0;x.uniqueId=function(e){var t=++q+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+G[e]};x.template=function(e,t,a){!t&&a&&(t=a),t=x.defaults({},t,x.templateSettings);var r,n=RegExp([(t.escape||V).source,(t.interpolate||V).source,(t.evaluate||V).source].join("|")+"|$","g"),s=0,l="__p+='";e.replace(n,(function(t,a,r,n,o){return l+=e.slice(s,o).replace(K,X),s=o+t.length,a?l+="'+\n((__t=("+a+"))==null?'':_.escape(__t))+\n'":r?l+="'+\n((__t=("+r+"))==null?'':__t)+\n'":n&&(l+="';\n"+n+"\n__p+='"),t})),l+="';\n",t.variable||(l="with(obj||{}){\n"+l+"}\n"),l="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+l+"return __p;\n";try{r=new Function(t.variable||"obj","_",l)}catch(mMe){throw mMe.source=l,mMe}var o=function(e){return r.call(this,e,x)},i=t.variable||"obj";return o.source="function("+i+"){\n"+l+"}",o},x.chain=function(e){var t=x(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){return x.each(x.functions(e),(function(t){var a=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return i.apply(e,arguments),Q(this,a.apply(x,e))}})),x},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=s[e];x.prototype[e]=function(){var a=this._wrapped;return t.apply(a,arguments),"shift"!==e&&"splice"!==e||0!==a.length||delete a[0],Q(this,a)}})),x.each(["concat","join","slice"],(function(e){var t=s[e];x.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}})),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return String(this._wrapped)}}()}(dN,dN.exports);var cN=dN.exports;Object.defineProperty(iN,"__esModule",{value:!0});var uN=function(e){return e&&e.__esModule?e:{default:e}}(cN);function mN(e){return[e].join(".").replace(/\[/g,".").replace(/\]/g,"").split(".")}iN.default=Object.assign(uN.default,{get:function(e,t){var a=e[t];if(null!=a)return a;var r=mN(t),n=void 0;try{n=r.reduce((function(e,t){return e[t]}),e)}catch(mMe){}return n},set:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=mN(t),s=0;n.reduce((function(e,t){if(s+=1,void 0===e[t]){if(!r)throw new Error(e+"."+t+" is undefined");return e[t]={},e[t]}return s===n.length?(e[t]=a,a):e[t]}),e)},isDefined:function(e){return null!=e},isEmptyObject:function(e){if(!uN.default.isObject(e))return!1;for(var t=Object.prototype.hasOwnProperty,a=Object.keys(e),r=0;r<a.length;r+=1)if(t.call(e,a[r]))return!1;return!0},sleep:function(e,t){return setTimeout((function(){return e()}),t)},debounce:function(e,t,a){var r=this,n=arguments,s=void 0;return function(){var l=a&&!s;clearTimeout(s),s=setTimeout((function(){s=null,a||e.apply(r,n)}),t||0),l&&e.apply(r,n)}},contains:function(e,t){return uN.default.includes?uN.default.includes(e,t):e.indexOf(t)>-1}});var hN={};Object.defineProperty(hN,"__esModule",{value:!0});var fN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},pN=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),xN=function(e){return e&&e.__esModule?e:{default:e}}(iN),gN=["onClick","onDoubleClick","onMouseEnter","onMouseLeave","onContextMenu","onAuxClick"];hN.default=function(e){return function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.createDefaultEventHandler=a.createDefaultEventHandler.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pN(t,[{key:"createDefaultEventHandler",value:function(e){var t=this;return function(a){var r=t.props,n=r.column,s=r.columnIndex,l=r.index;e(a,n,void 0!==s?s:l)}}},{key:"delegate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=fN({},t);return Object.keys(t).forEach((function(r){xN.default.contains(gN,r)&&(a[r]=e.createDefaultEventHandler(t[r]))})),a}}]),t}(e)},Object.defineProperty(qj,"__esModule",{value:!0});var bN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},vN=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),yN=CN(Q),wN=CN(Rg),jN=CN(sb),NN=CN(Vj),_N=CN(Gj),SN=CN(eN),kN=CN(iN);function CN(e){return e&&e.__esModule?e:{default:e}}var EN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),vN(t,[{key:"render",value:function(){var e=this.props,t=e.column,a=e.index,r=e.onSort,n=e.sorting,s=e.sortOrder,l=e.isLastSorting,o=e.onFilter,i=e.currFilters,d=e.filterPosition,c=e.onExternalFilter,u=e.globalSortCaret,m=t.text,h=t.sort,f=t.sortCaret,p=t.filter,x=t.filterRenderer,g=t.headerTitle,b=t.headerAlign,v=t.headerFormatter,y=t.headerEvents,w=t.headerClasses,j=t.headerStyle,N=t.headerAttrs,_=t.headerSortingClasses,S=t.headerSortingStyle,k=f||u,C=this.delegate(y),E=kN.default.isFunction(N)?N(t,a):N||{},T=bN({},E,C,{tabIndex:kN.default.isDefined(E.tabIndex)?E.tabIndex:0}),O=void 0,D=void 0,A={},P=kN.default.isFunction(w)?w(t,a):w;if(j&&(A=(A=kN.default.isFunction(j)?j(t,a):j)?bN({},A):A),g&&(T.title=kN.default.isFunction(g)?g(t,a):m),b&&(A.textAlign=kN.default.isFunction(b)?b(t,a):b),h){var M=T.onClick;T["aria-label"]=n?m+" sort "+s:m+" sortable",T.onKeyUp=function(e){"Enter"===e.key&&(r(t),kN.default.isFunction(M)&&M(e))},T.onClick=function(e){r(t),kN.default.isFunction(M)&&M(e)},T.className=(0,wN.default)(T.className,"sortable"),n?(O=k?k(s,t):yN.default.createElement(SN.default,{order:s}),P=(0,wN.default)(P,kN.default.isFunction(_)?_(t,s,l,a):_),A=bN({},A,kN.default.isFunction(S)?S(t,s,l,a):S)):O=k?k(void 0,t):yN.default.createElement(_N.default,null)}P&&(T.className=(0,wN.default)(T.className,P)),kN.default.isEmptyObject(A)||(T.style=A),d===NN.default.FILTERS_POSITION_INLINE&&(x?D=x(c(t,p.props.type),t):p&&(D=yN.default.createElement(p.Filter,bN({},p.props,{filterState:i[t.dataField],onFilter:o,column:t}))));var L=v?v(t,a,{sortElement:O,filterElement:D}):m;return v?yN.default.createElement("th",T,L):yN.default.createElement("th",T,L,O,D)}}]),t}((0,CN(hN).default)(yN.default.Component));EN.propTypes={column:jN.default.shape({dataField:jN.default.string.isRequired,text:jN.default.string.isRequired,type:jN.default.oneOf([NN.default.TYPE_STRING,NN.default.TYPE_NUMBER,NN.default.TYPE_BOOLEAN,NN.default.TYPE_DATE]),isDummyField:jN.default.bool,hidden:jN.default.bool,headerFormatter:jN.default.func,formatter:jN.default.func,formatExtraData:jN.default.any,headerClasses:jN.default.oneOfType([jN.default.string,jN.default.func]),classes:jN.default.oneOfType([jN.default.string,jN.default.func]),headerStyle:jN.default.oneOfType([jN.default.object,jN.default.func]),style:jN.default.oneOfType([jN.default.object,jN.default.func]),headerTitle:jN.default.oneOfType([jN.default.bool,jN.default.func]),title:jN.default.oneOfType([jN.default.bool,jN.default.func]),headerEvents:jN.default.object,events:jN.default.object,headerAlign:jN.default.oneOfType([jN.default.string,jN.default.func]),align:jN.default.oneOfType([jN.default.string,jN.default.func]),headerAttrs:jN.default.oneOfType([jN.default.object,jN.default.func]),attrs:jN.default.oneOfType([jN.default.object,jN.default.func]),sort:jN.default.bool,sortFunc:jN.default.func,onSort:jN.default.func,editor:jN.default.object,editable:jN.default.oneOfType([jN.default.bool,jN.default.func]),editCellStyle:jN.default.oneOfType([jN.default.object,jN.default.func]),editCellClasses:jN.default.oneOfType([jN.default.string,jN.default.func]),editorStyle:jN.default.oneOfType([jN.default.object,jN.default.func]),editorClasses:jN.default.oneOfType([jN.default.string,jN.default.func]),editorRenderer:jN.default.func,validator:jN.default.func,filter:jN.default.object,filterRenderer:jN.default.func,filterValue:jN.default.func,searchable:jN.default.bool}).isRequired,index:jN.default.number.isRequired,onSort:jN.default.func,sorting:jN.default.bool,sortOrder:jN.default.oneOf([NN.default.SORT_ASC,NN.default.SORT_DESC]),sortCaret:jN.default.func,isLastSorting:jN.default.bool,onFilter:jN.default.func,filterPosition:jN.default.oneOf([NN.default.FILTERS_POSITION_INLINE,NN.default.FILTERS_POSITION_BOTTOM,NN.default.FILTERS_POSITION_TOP]),currFilters:jN.default.object,onExternalFilter:jN.default.func},qj.default=EN;var TN={};Object.defineProperty(TN,"__esModule",{value:!0}),TN.CheckBox=void 0;var ON=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},DN=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),AN=Q,PN=RN(AN),MN=RN(sb),LN=RN(Vj),IN=Kj,FN=RN(iN);function RN(e){return e&&e.__esModule?e:{default:e}}var $N=TN.CheckBox=function(e){var t=e.className,a=e.checked,r=e.indeterminate;return PN.default.createElement("input",{type:"checkbox",checked:a,className:t,ref:function(e){e&&(e.indeterminate=r)},onChange:function(){}})};$N.propTypes={checked:MN.default.bool.isRequired,indeterminate:MN.default.bool.isRequired,className:MN.default.string};var BN=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleCheckBoxClick=e.handleCheckBoxClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),DN(t,[{key:"shouldComponentUpdate",value:function(e){var t=LN.default.ROW_SELECT_SINGLE,a=this.props,r=a.mode,n=a.checkedStatus;return r!==t&&e.checkedStatus!==n}},{key:"handleCheckBoxClick",value:function(e){var t=this.props,a=t.onAllRowsSelect,r=t.checkedStatus;a(e,r===LN.default.CHECKBOX_STATUS_CHECKED||r===LN.default.CHECKBOX_STATUS_INDETERMINATE)}},{key:"render",value:function(){var e=this,t=LN.default.CHECKBOX_STATUS_CHECKED,a=LN.default.CHECKBOX_STATUS_INDETERMINATE,r=LN.default.ROW_SELECT_MULTIPLE,n=this.props,s=n.mode,l=n.checkedStatus,o=n.selectionHeaderRenderer,i=n.hideSelectAll,d=n.headerColumnStyle;if(i)return PN.default.createElement("th",{"data-row-selection":!0});var c=l===t,u=l===a,m={},h=void 0;return(o||s===r)&&(m.onClick=this.handleCheckBoxClick),m.style=FN.default.isFunction(d)?d(l):d,PN.default.createElement(IN.BootstrapContext.Consumer,null,(function(t){var a=t.bootstrap4;return o?h=o({mode:s,checked:c,indeterminate:u}):s===r&&(h=PN.default.createElement($N,ON({},e.props,{checked:c,className:a?"selection-input-4":"",indeterminate:u}))),PN.default.createElement("th",ON({className:"selection-cell-header","data-row-selection":!0},m),h)}))}}]),t}(AN.Component);BN.propTypes={mode:MN.default.string.isRequired,checkedStatus:MN.default.string,onAllRowsSelect:MN.default.func,hideSelectAll:MN.default.bool,selectionHeaderRenderer:MN.default.func,headerColumnStyle:MN.default.oneOfType([MN.default.object,MN.default.func])},TN.default=BN;var zN={};Object.defineProperty(zN,"__esModule",{value:!0});var UN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},HN=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),WN=Q,YN=VN(WN),qN=VN(sb);function VN(e){return e&&e.__esModule?e:{default:e}}var GN=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleCheckBoxClick=e.handleCheckBoxClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),HN(t,[{key:"handleCheckBoxClick",value:function(e){var t=this.props,a=t.isAnyExpands;(0,t.onAllRowExpand)(e,!a)}},{key:"render",value:function(){var e=this.props,t=e.isAnyExpands,a=e.expandHeaderColumnRenderer,r={onClick:this.handleCheckBoxClick};return YN.default.createElement("th",UN({className:"expand-cell-header","data-row-selection":!0},r),a?a({isAnyExpands:t}):t?"(-)":"(+)")}}]),t}(WN.Component);GN.propTypes={isAnyExpands:qN.default.bool.isRequired,onAllRowExpand:qN.default.func.isRequired,expandHeaderColumnRenderer:qN.default.func},zN.default=GN;var KN={},XN={},QN={},JN={};Object.defineProperty(JN,"__esModule",{value:!0}),JN.getRowByRowId=JN.matchRow=void 0;var ZN=function(e){return e&&e.__esModule?e:{default:e}}(iN),e_=JN.matchRow=function(e,t){return function(a){return ZN.default.get(a,e)===t}};JN.getRowByRowId=function(e,t,a){return e.find(e_(t,a))};var t_={};Object.defineProperty(t_,"__esModule",{value:!0}),t_.getSelectedRows=t_.unSelectableKeys=t_.selectableKeys=t_.getSelectionSummary=void 0;var a_=function(e){return e&&e.__esModule?e:{default:e}}(iN),r_=JN;t_.getSelectionSummary=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.length>0,n=!0,s=e.map((function(e){return a_.default.get(e,t)})),l=function(e){var t=s[e];void 0===a.find((function(e){return e===t}))?r=!1:n=!1},o=0;o<s.length;o+=1)l(o);return{allRowsSelected:r,allRowsNotSelected:n}},t_.selectableKeys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return 0===a.length?e.map((function(e){return a_.default.get(e,t)})):e.filter((function(e){return!a_.default.contains(a,a_.default.get(e,t))})).map((function(e){return a_.default.get(e,t)}))},t_.unSelectableKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===t.length?[]:e.filter((function(e){return a_.default.contains(t,e)}))},t_.getSelectedRows=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return arguments[2].map((function(a){return(0,r_.getRowByRowId)(e,t,a)})).filter((function(e){return!!e}))};var n_={};Object.defineProperty(n_,"__esModule",{value:!0}),n_.getExpandedRows=n_.expandableKeys=n_.isAnyExpands=void 0;var s_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l_=function(e){return e&&e.__esModule?e:{default:e}}(iN),o_=JN;n_.isAnyExpands=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=function(r){var n=l_.default.get(e[r],t);if(void 0!==a.find((function(e){return e===n})))return{v:!0}},n=0;n<e.length;n+=1){var s=r(n);if("object"===(void 0===s?"undefined":s_(s)))return s.v}return!1},n_.expandableKeys=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return 0===a.length?e.map((function(e){return l_.default.get(e,t)})):e.filter((function(e){return!l_.default.contains(a,l_.default.get(e,t))})).map((function(e){return l_.default.get(e,t)}))},n_.getExpandedRows=function(e,t,a){return a.map((function(a){return(0,o_.getRowByRowId)(e,t,a)}))};var i_={};Object.defineProperty(i_,"__esModule",{value:!0}),i_.editCell=void 0;var d_=function(e){return e&&e.__esModule?e:{default:e}}(iN),c_=JN;i_.editCell=function(e,t,a,r,n){var s=(0,c_.getRowByRowId)(e,t,a);s&&d_.default.set(s,r,n)};var u_={};Object.defineProperty(u_,"__esModule",{value:!0}),u_.nextOrder=u_.sort=void 0;var m_=f_(iN),h_=f_(Vj);function f_(e){return e&&e.__esModule?e:{default:e}}function p_(e,t){return"string"==typeof t?t.localeCompare(e):e>t?-1:e<t?1:0}u_.sort=function(e,t,a){var r=a.dataField,n=a.sortFunc,s=a.sortValue,l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(e));return l.sort((function(e,a){var l=m_.default.get(e,r),o=m_.default.get(a,r);return s?(l=s(l,e),o=s(o,a)):(l=m_.default.isDefined(l)?l:"",o=m_.default.isDefined(o)?o:""),n?n(l,o,t,r,e,a):t===h_.default.SORT_DESC?p_(l,o):p_(o,l)})),l},u_.nextOrder=function(e,t){var a=t.sortOrder,r=t.sortColumn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h_.default.SORT_DESC;return r&&e.dataField===r.dataField?a===h_.default.SORT_DESC?h_.default.SORT_ASC:h_.default.SORT_DESC:n};var x_={};Object.defineProperty(x_,"__esModule",{value:!0}),x_.typeConvert=void 0;var g_=function(e){return e&&e.__esModule?e:{default:e}}(Vj);x_.typeConvert=function(e,t){return e===g_.default.TYPE_STRING?String(t):e===g_.default.TYPE_NUMBER?Number(t):e===g_.default.TYPE_BOOLEAN?"boolean"==typeof t?t:"true"===t:e===g_.default.TYPE_DATE?new Date(t):t},Object.defineProperty(QN,"__esModule",{value:!0});var b_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},v_=S_(JN),y_=S_(t_),w_=S_(n_),j_=S_(i_),N_=S_(u_),__=S_(x_);function S_(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}QN.default=b_({},v_,y_,w_,j_,N_,__),Object.defineProperty(XN,"__esModule",{value:!0});var k_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},C_=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),E_=M_(Q),T_=M_(sb),O_=M_(Vj),D_=M_(iN),A_=M_(QN),P_=t_;function M_(e){return e&&e.__esModule?e:{default:e}}var L_=E_.default.createContext(),I_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleRowSelect=function(e,t,r,n){var s=a.props,l=s.data,o=s.keyField,i=s.selectRow,d=i.mode,c=i.onSelect,u=O_.default.ROW_SELECT_SINGLE,m=[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(a.selected)),h=!0;c&&(h=c(A_.default.getRowByRowId(l,o,e),t,r,n)),!0!==h&&void 0!==h||(d===u?m=[e]:t?m.push(e):m=m.filter((function(t){return t!==e}))),a.selected=m,a.forceUpdate()},a.handleAllRowsSelect=function(e,t){var r=a.props,n=r.data,s=r.keyField,l=r.selectRow,o=l.onSelectAll,i=l.nonSelectable,d=a.selected,c=void 0;c=t?d.filter((function(e){return void 0===n.find((function(t){return D_.default.get(t,s)===e}))})):d.concat(A_.default.selectableKeys(n,s,i));var u=void 0;o&&(u=o(!t,A_.default.getSelectedRows(n,s,t?d:c),e),Array.isArray(u)&&(c=u)),a.selected=c,a.forceUpdate()},a.selected=e.selectRow.selected||[],a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),C_(t,[{key:"getSelected",value:function(){return this.selected}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectRow&&(this.selected=e.selectRow.selected||this.selected)}},{key:"render",value:function(){var e=(0,P_.getSelectionSummary)(this.props.data,this.props.keyField,this.selected),t=e.allRowsSelected,a=e.allRowsNotSelected,r=void 0;return r=t?O_.default.CHECKBOX_STATUS_CHECKED:a?O_.default.CHECKBOX_STATUS_UNCHECKED:O_.default.CHECKBOX_STATUS_INDETERMINATE,E_.default.createElement(L_.Provider,{value:k_({},this.props.selectRow,{selected:this.selected,onRowSelect:this.handleRowSelect,onAllRowsSelect:this.handleAllRowsSelect,allRowsSelected:t,allRowsNotSelected:a,checkedStatus:r})},this.props.children)}}]),t}(E_.default.Component);I_.propTypes={children:T_.default.node.isRequired,data:T_.default.array.isRequired,keyField:T_.default.string.isRequired},XN.default={Provider:I_,Consumer:L_.Consumer},Object.defineProperty(KN,"__esModule",{value:!0});var F_=$_(Q),R_=$_(XN);function $_(e){return e&&e.__esModule?e:{default:e}}KN.default=function(e){return function(){return F_.default.createElement(R_.default.Consumer,null,(function(t){return F_.default.createElement(e,t)}))}};var B_={},z_={};Object.defineProperty(z_,"__esModule",{value:!0});var U_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},H_=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),W_=G_(Q),Y_=G_(sb),q_=G_(QN),V_=G_(iN);function G_(e){return e&&e.__esModule?e:{default:e}}function K_(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function X_(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Q_=W_.default.createContext(),J_=function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,s=Array(n),l=0;l<n;l++)s[l]=arguments[l];return a=r=X_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={expanded:r.props.expandRow.expanded||[],isClosing:r.props.expandRow.isClosing||[]},r.onClosed=function(e){r.setState({isClosing:r.state.isClosing.filter((function(t){return t!==e}))})},r.handleRowExpand=function(e,t,a,n){var s=r.props,l=s.data,o=s.keyField,i=s.expandRow,d=i.onExpand,c=i.onlyOneExpanding,u=i.nonExpandable;if(!u||!V_.default.contains(u,e)){var m=[].concat(K_(r.state.expanded)),h=[].concat(K_(r.state.isClosing));t?c?(h=h.concat(m),m=[e]):m.push(e):(h.push(e),m=m.filter((function(t){return t!==e}))),d&&d(q_.default.getRowByRowId(l,o,e),t,a,n),r.setState((function(){return{expanded:m,isClosing:h}}))}},r.handleAllRowExpand=function(e,t){var a=r.props,n=a.data,s=a.keyField,l=a.expandRow,o=l.onExpandAll,i=l.nonExpandable,d=r.state.expanded,c=void 0;c=t?d.concat(q_.default.expandableKeys(n,s,i)):d.filter((function(e){return void 0===n.find((function(t){return V_.default.get(t,s)===e}))})),o&&o(t,q_.default.getExpandedRows(n,s,c),e),r.setState((function(){return{expanded:c}}))},X_(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),H_(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.expandRow){var a=[].concat(K_(e.expandRow.expanded||this.state.expanded)),r=e.expandRow.nonExpandable,n=void 0===r?[]:r;a=a.filter((function(e){return!V_.default.contains(n,e)}));var s=this.state.expanded.reduce((function(e,t){return V_.default.contains(a,t)||e.push(t),e}),[]);this.setState((function(){return{expanded:a,isClosing:s}}))}else this.setState((function(){return{expanded:t.state.expanded}}))}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.keyField;return W_.default.createElement(Q_.Provider,{value:U_({},this.props.expandRow,{nonExpandable:this.props.expandRow.nonExpandable,expanded:this.state.expanded,isClosing:this.state.isClosing,onClosed:this.onClosed,isAnyExpands:q_.default.isAnyExpands(t,a,this.state.expanded),onRowExpand:this.handleRowExpand,onAllRowExpand:this.handleAllRowExpand})},this.props.children)}}]),t}(W_.default.Component);J_.propTypes={children:Y_.default.node.isRequired,data:Y_.default.array.isRequired,keyField:Y_.default.string.isRequired},z_.default={Provider:J_,Consumer:Q_.Consumer},Object.defineProperty(B_,"__esModule",{value:!0});var Z_=tS(Q),eS=tS(z_);function tS(e){return e&&e.__esModule?e:{default:e}}B_.default=function(e){return function(){return Z_.default.createElement(eS.default.Consumer,null,(function(t){return Z_.default.createElement(e,t)}))}},Object.defineProperty(Yj,"__esModule",{value:!0});var aS=cS(Q),rS=cS(sb),nS=cS(qj),sS=cS(TN),lS=cS(zN),oS=cS(KN),iS=cS(B_),dS=cS(Vj);function cS(e){return e&&e.__esModule?e:{default:e}}var uS=function(e){var t=e.className,a=e.columns,r=e.onSort,n=e.onFilter,s=e.sortField,l=e.sortOrder,o=e.selectRow,i=e.expandRow,d=e.currFilters,c=e.onExternalFilter,u=e.filterPosition,m=e.globalSortCaret,h=e.wrapperClasses,f=function(){return null},p=function(){return null};i.showExpandColumn&&(p=(0,iS.default)(lS.default)),o&&(f=(0,oS.default)(sS.default));var x=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:dS.default.INDICATOR_POSITION_LEFT)===dS.default.INDICATOR_POSITION_LEFT},g=[a.map((function(e,t){var a=e.dataField===s,o=e.dataField===s;return aS.default.createElement(nS.default,{index:t,key:e.dataField,column:e,onSort:r,sorting:a,sortOrder:l,globalSortCaret:m,isLastSorting:o,onFilter:n,currFilters:d,onExternalFilter:c,filterPosition:u})}))];return o.hideSelectColumn||(x(o.selectColumnPosition)?g.unshift(aS.default.createElement(f,{key:"selection"})):g.push(aS.default.createElement(f,{key:"selection"}))),i.showExpandColumn&&(x(i.expandColumnPosition)?g.unshift(aS.default.createElement(p,{key:"expansion"})):g.push(aS.default.createElement(p,{key:"expansion"}))),aS.default.createElement("thead",{className:h},aS.default.createElement("tr",{className:t},g))};uS.propTypes={columns:rS.default.array.isRequired,onSort:rS.default.func,onFilter:rS.default.func,sortField:rS.default.string,sortOrder:rS.default.string,selectRow:rS.default.object,currFilters:rS.default.object,onExternalFilter:rS.default.func,globalSortCaret:rS.default.func,className:rS.default.string,wrapperClasses:rS.default.string,expandRow:rS.default.object,filterPosition:rS.default.oneOf([dS.default.FILTERS_POSITION_TOP,dS.default.FILTERS_POSITION_INLINE,dS.default.FILTERS_POSITION_BOTTOM])},Yj.default=uS;var mS={},hS={};Object.defineProperty(hS,"__esModule",{value:!0});var fS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},pS=bS(Q),xS=bS(sb),gS=bS(iN);function bS(e){return e&&e.__esModule?e:{default:e}}var vS=function(e){var t=e.index,a=e.column,r=e.onExternalFilter,n=e.currFilters,s=e.onFilter,l=a.filterRenderer,o=a.filter,i=void 0,d={},c={};return d.style=c,a.headerAlign&&(c.textAlign=gS.default.isFunction(a.headerAlign)?a.headerAlign(a,t):a.headerAlign),a.filterRenderer?i=l(r(a,o.props.type),a):o&&(i=pS.default.createElement(o.Filter,fS({},o.props,{filterState:n[a.dataField],onFilter:s,column:a}))),pS.default.createElement("th",d,i)};vS.propTypes={index:xS.default.number.isRequired,column:xS.default.object.isRequired,currFilters:xS.default.object.isRequired,onFilter:xS.default.func,onExternalFilter:xS.default.func},vS.defaultProps={onFilter:function(){},onExternalFilter:function(){}},hS.default=vS;var yS={};Object.defineProperty(yS,"__esModule",{value:!0});var wS=_S(Q),jS=_S(sb),NS=_S(Vj);function _S(e){return e&&e.__esModule?e:{default:e}}var SS=function(e){var t=e.renderContent,a=e.selectRow,r=e.expandRow,n=e.cellEl,s=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["renderContent","selectRow","expandRow","cellEl"]),l=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:NS.default.INDICATOR_POSITION_LEFT)===NS.default.INDICATOR_POSITION_LEFT},o=t()||[];return a&&!0!==a.hideSelectColumn&&(l(a.selectColumnPosition)?o.unshift(wS.default.createElement(n,{key:"selection"})):o.push(wS.default.createElement(n,{key:"selection"}))),r.showExpandColumn&&(l(r.expandColumnPosition)?o.unshift(wS.default.createElement(n,{key:"expansion"})):o.push(wS.default.createElement(n,{key:"expansion"}))),wS.default.createElement("tr",s,o)};SS.propTypes={renderContent:jS.default.func.isRequired,cellEl:jS.default.string.isRequired,selectRow:jS.default.object,expandRow:jS.default.object},yS.default=SS,Object.defineProperty(mS,"__esModule",{value:!0});var kS=DS(Q),CS=DS(sb),ES=DS(hS),TS=DS(Vj),OS=DS(yS);function DS(e){return e&&e.__esModule?e:{default:e}}var AS=function(e){var t=e.columns,a=e.onFilter,r=e.currFilters,n=e.filterPosition,s=e.onExternalFilter,l=e.className,o=e.selectRow,i=e.expandRow;return kS.default.createElement("tbody",{className:l,style:{display:n===TS.default.FILTERS_POSITION_TOP?"table-header-group":"table-footer-group"}},kS.default.createElement(OS.default,{renderContent:function(){var e=[];return t.forEach((function(t,n){e.push(kS.default.createElement(ES.default,{index:n,key:t.dataField,column:t,currFilters:r,onExternalFilter:s,onFilter:a})),t.filterRenderer||t.filter})),e},selectRow:o,expandRow:i,cellEl:"td"}))};AS.propTypes={columns:CS.default.array.isRequired,onFilter:CS.default.func,filterPosition:CS.default.oneOf([TS.default.FILTERS_POSITION_TOP,TS.default.FILTERS_POSITION_INLINE,TS.default.FILTERS_POSITION_BOTTOM]),currFilters:CS.default.object,onExternalFilter:CS.default.func,className:CS.default.string,selectRow:CS.default.object,expandRow:CS.default.object},AS.defaultProps={position:TS.default.FILTERS_POSITION_TOP},mS.default=AS;var PS={};Object.defineProperty(PS,"__esModule",{value:!0});var MS=IS(Q),LS=IS(sb);function IS(e){return e&&e.__esModule?e:{default:e}}var FS=function(e){return e.children?e.bootstrap4?MS.default.createElement("caption",{style:{captionSide:"top"}},e.children):MS.default.createElement("caption",null,e.children):null};FS.propTypes={children:LS.default.oneOfType([LS.default.node,LS.default.string]),bootstrap4:LS.default.bool},PS.default=FS;var RS={},$S={},BS={},zS={};Object.defineProperty(zS,"__esModule",{value:!0});var US=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},HS=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),WS=Q,YS=KS(WS),qS=KS(sb),VS=KS(hN),GS=KS(iN);function KS(e){return e&&e.__esModule?e:{default:e}}var XS=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.createHandleEditingCell=function(e){return function(t){var r=a.props,n=r.onStart,s=r.rowIndex,l=r.columnIndex,o=r.clickToEdit,i=r.dbclickToEdit;(o||i)&&GS.default.isFunction(e)&&e(t),n&&n(s,l)}},a.createHandleEditingCell=a.createHandleEditingCell.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),HS(t,[{key:"shouldComponentUpdate",value:function(e){return(e.column.isDummyField?!GS.default.isEqual(this.props.row,e.row):GS.default.get(this.props.row,this.props.column.dataField)!==GS.default.get(e.row,e.column.dataField))||!((!e.column.formatter||GS.default.isEqual(this.props.row,e.row))&&this.props.column.hidden===e.column.hidden&&this.props.column.isDummyField===e.column.isDummyField&&this.props.rowIndex===e.rowIndex&&this.props.columnIndex===e.columnIndex&&this.props.className===e.className&&this.props.title===e.title&&this.props.editable===e.editable&&this.props.clickToEdit===e.clickToEdit&&this.props.dbclickToEdit===e.dbclickToEdit&&GS.default.isEqual(this.props.style,e.style)&&GS.default.isEqual(this.props.column.formatExtraData,e.column.formatExtraData)&&GS.default.isEqual(this.props.column.events,e.column.events)&&GS.default.isEqual(this.props.column.attrs,e.column.attrs)&&this.props.tabIndex===e.tabIndex)}},{key:"render",value:function(){var e=this.props,t=e.row,a=e.rowIndex,r=e.column;e.columnIndex,e.onStart;var n=e.editable,s=e.clickToEdit,l=e.dbclickToEdit,o=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["row","rowIndex","column","columnIndex","onStart","editable","clickToEdit","dbclickToEdit"]),i=r.dataField,d=r.formatter,c=r.formatExtraData,u=this.delegate(US({},o)),m=r.isDummyField?null:GS.default.get(t,i);return d&&(m=r.formatter(m,t,a,c)),s&&n?u.onClick=this.createHandleEditingCell(u.onClick):l&&n&&(u.onDoubleClick=this.createHandleEditingCell(u.onDoubleClick)),YS.default.createElement("td",u,"boolean"==typeof m?""+m:m)}}]),t}((0,VS.default)(WS.Component));XS.propTypes={row:qS.default.object.isRequired,rowIndex:qS.default.number.isRequired,column:qS.default.object.isRequired,columnIndex:qS.default.number.isRequired},zS.default=XS,Object.defineProperty(BS,"__esModule",{value:!0});var QS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},JS=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),ZS=ak(Q),ek=ak(iN),tk=ak(zS);function ak(e){return e&&e.__esModule?e:{default:e}}var rk=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),JS(t,[{key:"shouldComponentUpdate",value:function(e){return void 0===e.shouldUpdate||e.shouldUpdate}},{key:"render",value:function(){var e=this.props,t=e.row,a=e.keyField,r=e.columns,n=e.rowIndex,s=e.editable,l=e.editingRowIdx,o=e.editingColIdx,i=e.onStart,d=e.clickToEdit,c=e.dbclickToEdit,u=e.EditingCellComponent,m=e.tabIndexStart,h=m;return r.map((function(e,r){var f=e.dataField,p=ek.default.get(t,f);if(n===l&&r===o)return ZS.default.createElement(u,{key:p+"-"+r+"-editing",row:t,rowIndex:n,column:e,columnIndex:r});var x=void 0,g={},b=QS({},ek.default.isFunction(e.attrs)?e.attrs(p,t,n,r):e.attrs);if(e.events){var v=Object.assign({},e.events);Object.keys(Object.assign({},e.events)).forEach((function(e){var a=v[e];v[e]=function(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return a.apply(void 0,r.concat([t,n]))}})),b=QS({},b,v)}var y=ek.default.isFunction(e.classes)?e.classes(p,t,n,r):e.classes;e.style&&(g=ek.default.isFunction(e.style)?e.style(p,t,n,r):e.style,g=Object.assign({},g)||{}),e.title&&(x=ek.default.isFunction(e.title)?e.title(p,t,n,r):p,b.title=x),e.align&&(g.textAlign=ek.default.isFunction(e.align)?e.align(p,t,n,r):e.align),y&&(b.className=y),ek.default.isEmptyObject(g)||(b.style=g);var w=!ek.default.isDefined(e.editable)||e.editable;return e.dataField!==a&&s||(w=!1),ek.default.isFunction(e.editable)&&(w=e.editable(p,t,n,r)),-1!==m&&(b.tabIndex=h++),ZS.default.createElement(tk.default,QS({key:p+"-"+r,row:t,editable:w,rowIndex:n,columnIndex:r,column:e,onStart:i,clickToEdit:d,dbclickToEdit:c},b))}))}}]),t}(ZS.default.Component);BS.default=rk;var nk={};Object.defineProperty(nk,"__esModule",{value:!0});var sk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},lk=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),ok=dk(iN),ik=dk(Vj);function dk(e){return e&&e.__esModule?e:{default:e}}var ck=["onClick","onDoubleClick","onMouseEnter","onMouseLeave","onContextMenu","onAuxClick"];nk.default=function(e){return function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.clickNum=0,a.createDefaultEventHandler=a.createDefaultEventHandler.bind(a),a.createClickEventHandler=a.createClickEventHandler.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),lk(t,[{key:"createClickEventHandler",value:function(e){var t=this;return function(a){var r=t.props,n=r.row,s=r.selected,l=r.keyField,o=r.selectable,i=r.expandable,d=r.rowIndex,c=r.expanded,u=r.expandRow,m=r.selectRow,h=r.DELAY_FOR_DBCLICK,f=function(){e&&e(a,n,d);var t=ok.default.get(n,l);u&&i&&!u.expandByColumnOnly&&(m.mode!==ik.default.ROW_SELECT_DISABLED&&m.clickToExpand||m.mode===ik.default.ROW_SELECT_DISABLED)&&u.onRowExpand(t,!c,d,a),m.clickToSelect&&o&&m.onRowSelect(t,!s,d,a)};h?(t.clickNum+=1,ok.default.debounce((function(){1===t.clickNum&&f(),t.clickNum=0}),h)()):f()}}},{key:"createDefaultEventHandler",value:function(e){var t=this;return function(a){var r=t.props,n=r.row,s=r.rowIndex;e(a,n,s)}}},{key:"delegate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=sk({},t);return Object.keys(t).forEach((function(r){ok.default.contains(ck,r)&&(a[r]=e.createDefaultEventHandler(t[r]))})),a}}]),t}(e)};var uk={};Object.defineProperty(uk,"__esModule",{value:!0});var mk=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),hk=function(e){return e&&e.__esModule?e:{default:e}}(iN);uk.default=function(e){return function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),mk(t,[{key:"shouldUpdateByCellEditing",value:function(e){return!(!this.props.clickToEdit&&!this.props.dbclickToEdit)&&(e.editingRowIdx===e.rowIndex||this.props.editingRowIdx===e.rowIndex&&null===e.editingRowIdx||this.props.editingRowIdx===e.rowIndex)}},{key:"shouldUpdatedBySelfProps",value:function(e){return this.props.className!==e.className||!hk.default.isEqual(this.props.style,e.style)||!hk.default.isEqual(this.props.attrs,e.attrs)}},{key:"shouldUpdateByColumnsForSimpleCheck",value:function(e){if(this.props.columns.length!==e.columns.length)return!0;for(var t=0;t<this.props.columns.length;t+=1)if(!hk.default.isEqual(this.props.columns[t],e.columns[t]))return!0;return!1}},{key:"shouldUpdatedByNormalProps",value:function(e){return this.props.rowIndex!==e.rowIndex||this.props.editable!==e.editable||!hk.default.isEqual(this.props.row,e.row)||this.props.columns.length!==e.columns.length}},{key:"shouldUpdateChild",value:function(e){return this.shouldUpdateByCellEditing(e)||this.shouldUpdatedByNormalProps(e)}},{key:"shouldRowContentUpdate",value:function(e){return this.shouldUpdateChild(e)||this.shouldUpdateByColumnsForSimpleCheck(e)}}]),t}(e)},Object.defineProperty($S,"__esModule",{value:!0});var fk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},pk=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),xk=Q,gk=wk(xk),bk=wk(sb),vk=wk(BS),yk=wk(nk);function wk(e){return e&&e.__esModule?e:{default:e}}var jk=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.shouldUpdateRowContent=!1,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pk(t,[{key:"shouldComponentUpdate",value:function(e){return this.shouldUpdateRowContent=!1,this.shouldUpdateRowContent=this.shouldRowContentUpdate(e),!!this.shouldUpdateRowContent||this.shouldUpdatedBySelfProps(e)}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.style,r=e.attrs,n=e.visibleColumnSize,s=e.tabIndexCell,l=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["className","style","attrs","visibleColumnSize","tabIndexCell"]),o=this.delegate(r),i=this.props.rowIndex*n+1;return gk.default.createElement("tr",fk({style:a,className:t},o),gk.default.createElement(vk.default,fk({shouldUpdate:this.shouldUpdateRowContent,tabIndexStart:s?i:-1},l)))}}]),t}((0,wk(uk).default)((0,yk.default)(xk.Component)));jk.propTypes={row:bk.default.object.isRequired,rowIndex:bk.default.number.isRequired,columns:bk.default.array.isRequired,style:bk.default.object,className:bk.default.string,attrs:bk.default.object},jk.defaultProps={editable:!0,style:{},className:null,attrs:{}},$S.default=jk;var Nk={},_k={};Object.defineProperty(_k,"__esModule",{value:!0});var Sk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},kk=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),Ck=Q,Ek=Ok(Ck),Tk=Ok(sb);function Ok(e){return e&&e.__esModule?e:{default:e}}var Dk=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleClick=e.handleClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),kk(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.rowIndex!==e.rowIndex||this.props.expanded!==e.expanded||this.props.rowKey!==e.rowKey||this.props.tabIndex!==e.tabIndex}},{key:"handleClick",value:function(e){var t=this.props,a=t.rowKey,r=t.expanded,n=t.onRowExpand,s=t.rowIndex;e.stopPropagation(),n(a,!r,s,e)}},{key:"render",value:function(){var e=this.props,t=e.expanded,a=e.expandable,r=e.expandColumnRenderer,n=e.tabIndex,s=e.rowKey,l={};return-1!==n&&(l.tabIndex=n),Ek.default.createElement("td",Sk({className:"expand-cell",onClick:this.handleClick},l),r?r({expandable:a,expanded:t,rowKey:s}):a?t?"(-)":"(+)":"")}}]),t}(Ck.Component);Dk.propTypes={rowKey:Tk.default.any,expanded:Tk.default.bool.isRequired,expandable:Tk.default.bool.isRequired,onRowExpand:Tk.default.func.isRequired,expandColumnRenderer:Tk.default.func,rowIndex:Tk.default.number,tabIndex:Tk.default.number},_k.default=Dk;var Ak={};Object.defineProperty(Ak,"__esModule",{value:!0});var Pk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Mk=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),Lk=Q,Ik=zk(Lk),Fk=zk(sb),Rk=zk(Vj),$k=zk(iN),Bk=Kj;function zk(e){return e&&e.__esModule?e:{default:e}}var Uk=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleClick=e.handleClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Mk(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.rowIndex!==e.rowIndex||this.props.selected!==e.selected||this.props.disabled!==e.disabled||this.props.rowKey!==e.rowKey||this.props.tabIndex!==e.tabIndex||this.props.selectColumnStyle!==e.selectColumnStyle}},{key:"handleClick",value:function(e){var t=this.props,a=t.mode,r=t.rowKey,n=t.selected,s=t.onRowSelect,l=t.disabled,o=t.rowIndex;e.stopPropagation(),l||s(r,a===Rk.default.ROW_SELECT_SINGLE||!n,o,e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.rowKey,r=t.mode,n=t.selected,s=t.disabled,l=t.tabIndex,o=t.rowIndex,i=t.selectionRenderer,d=t.selectColumnStyle,c={};return-1!==l&&(c.tabIndex=l),c.style=$k.default.isFunction(d)?d({checked:n,disabled:s,rowIndex:o,rowKey:a}):d,Ik.default.createElement(Bk.BootstrapContext.Consumer,null,(function(t){var l=t.bootstrap4;return Ik.default.createElement("td",Pk({className:"selection-cell",onClick:e.handleClick},c),i?i({mode:r,checked:n,disabled:s,rowIndex:o,rowKey:a}):Ik.default.createElement("input",{type:r,checked:n,disabled:s,className:l?"selection-input-4":"",onChange:function(){}}))}))}}]),t}(Lk.Component);Uk.propTypes={mode:Fk.default.string.isRequired,rowKey:Fk.default.any,selected:Fk.default.bool,onRowSelect:Fk.default.func,disabled:Fk.default.bool,rowIndex:Fk.default.number,tabIndex:Fk.default.number,clickToSelect:Fk.default.bool,selectionRenderer:Fk.default.func,selectColumnStyle:Fk.default.oneOfType([Fk.default.object,Fk.default.func])},Ak.default=Uk,Object.defineProperty(Nk,"__esModule",{value:!0});var Hk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wk=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),Yk=eC(Q),qk=eC(sb),Vk=eC(iN),Gk=eC(_k),Kk=eC(Ak),Xk=eC(uk),Qk=eC(nk),Jk=eC(BS),Zk=eC(Vj);function eC(e){return e&&e.__esModule?e:{default:e}}var tC=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.clickNum=0,a.shouldUpdateRowContent=!1,a.createClickEventHandler=a.createClickEventHandler.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Wk(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.selected!==e.selected||this.props.expanded!==e.expanded||this.props.expandable!==e.expandable||this.props.selectable!==e.selectable||this.props.selectRow.hideSelectColumn!==e.selectRow.hideSelectColumn||this.shouldUpdatedBySelfProps(e)?(this.shouldUpdateRowContent=this.shouldRowContentUpdate(e),!0):(this.shouldUpdateRowContent=this.shouldRowContentUpdate(e),this.shouldUpdateRowContent)}},{key:"isRenderFunctionColumnInLeft",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zk.default.INDICATOR_POSITION_LEFT)===Zk.default.INDICATOR_POSITION_LEFT}},{key:"render",value:function(){var e=this.props,t=e.row,a=e.columns,r=e.keyField,n=e.rowIndex,s=e.style,l=e.className,o=e.attrs,i=e.selectRow,d=e.expandRow,c=e.expanded,u=e.expandable,m=e.selected,h=e.selectable,f=e.visibleColumnSize,p=e.tabIndexCell,x=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["row","columns","keyField","rowIndex","style","className","attrs","selectRow","expandRow","expanded","expandable","selected","selectable","visibleColumnSize","tabIndexCell"]),g=Vk.default.get(t,r),b=i.hideSelectColumn,v=i.selectColumnPosition,y=i.clickToSelect,w=d.showExpandColumn,j=d.expandColumnPosition,N=this.delegate(Hk({},o));(y||d.renderer)&&(N.onClick=this.createClickEventHandler(N.onClick));var _=n*f+1,S=[Yk.default.createElement(Jk.default,Hk({key:"row",row:t,columns:a,keyField:r,rowIndex:n,shouldUpdate:this.shouldUpdateRowContent,tabIndexStart:p?_:-1},x))];if(!b){var k=Yk.default.createElement(Kk.default,Hk({},i,{key:"selection-cell",rowKey:g,rowIndex:n,selected:m,disabled:!h,tabIndex:p?_++:-1}));this.isRenderFunctionColumnInLeft(v)?S.unshift(k):S.push(k)}if(w){var C=Yk.default.createElement(Gk.default,Hk({},d,{key:"expand-cell",rowKey:g,rowIndex:n,expanded:c,expandable:u,tabIndex:p?_++:-1}));this.isRenderFunctionColumnInLeft(j)?S.unshift(C):S.push(C)}return Yk.default.createElement("tr",Hk({style:s,className:l},N),S)}}]),t}((0,Xk.default)((0,Qk.default)(Yk.default.Component)));tC.propTypes={attrs:qk.default.object,style:qk.default.object},tC.defaultProps={attrs:{},style:{}},Nk.default=tC;var aC={};Object.defineProperty(aC,"__esModule",{value:!0});var rC=sC(Q),nC=sC(sb);function sC(e){return e&&e.__esModule?e:{default:e}}var lC=function(e){var t=e.content,a=e.colSpan;return rC.default.createElement("tr",null,rC.default.createElement("td",{"data-toggle":"collapse",colSpan:a,className:"react-bs-table-no-data"},t))};lC.propTypes={content:nC.default.any,colSpan:nC.default.number},lC.defaultProps={content:null,colSpan:1},aC.default=lC;var oC={};Object.defineProperty(oC,"__esModule",{value:!0});var iC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},dC=hC(Q),cC=hC(Rg),uC=hC(iN),mC=hC(XN);function hC(e){return e&&e.__esModule?e:{default:e}}oC.default=function(e){function t(t){return dC.default.createElement(mC.default.Consumer,null,(function(a){return function(t,a){var r=t.value,n=uC.default.contains(a.selected,r),s=!a.nonSelectable||!uC.default.contains(a.nonSelectable,r),l=uC.default.contains(a.nonSelectable,r),o=t.style,i=t.className;if(n){var d=uC.default.isFunction(a.style)?a.style(t.row,t.rowIndex):a.style,c=uC.default.isFunction(a.classes)?a.classes(t.row,t.rowIndex):a.classes;o=iC({},o,d),i=(0,cC.default)(i,c)||void 0,a.bgColor&&((o=o||{}).backgroundColor=uC.default.isFunction(a.bgColor)?a.bgColor(t.row,t.rowIndex):a.bgColor)}if(l){var u=uC.default.isFunction(a.nonSelectableStyle)?a.nonSelectableStyle(t.row,t.rowIndex):a.nonSelectableStyle,m=uC.default.isFunction(a.nonSelectableClasses)?a.nonSelectableClasses(t.row,t.rowIndex):a.nonSelectableClasses;o=iC({},o,u),i=(0,cC.default)(i,m)||void 0}return dC.default.createElement(e,iC({},t,{style:o,className:i,selectRow:a,selected:n,selectable:s}))}(t,a)}))}return t.displayName="WithSelectionRowConsumer",t};var fC={},pC={},xC=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return Ww(e,t)}))},gC=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,a){var r=t.resolveArguments(e,a),n=r[0],s=r[1];t.removeClasses(n,"exit"),t.addClass(n,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,a)},t.onEntering=function(e,a){var r=t.resolveArguments(e,a),n=r[0],s=r[1]?"appear":"enter";t.addClass(n,s,"active"),t.props.onEntering&&t.props.onEntering(e,a)},t.onEntered=function(e,a){var r=t.resolveArguments(e,a),n=r[0],s=r[1]?"appear":"enter";t.removeClasses(n,s),t.addClass(n,s,"done"),t.props.onEntered&&t.props.onEntered(e,a)},t.onExit=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"appear"),t.removeClasses(a,"enter"),t.addClass(a,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.resolveArguments(e)[0];t.addClass(a,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"exit"),t.addClass(a,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,a){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,a]},t.getClassNames=function(e){var a=t.props.classNames,r="string"==typeof a,n=r?(r&&a?a+"-":"")+e:a[e];return{baseClassName:n,activeClassName:r?n+"-active":a[e+"Active"],doneClassName:r?n+"-done":a[e+"Done"]}},t}qg(t,e);var a=t.prototype;return a.addClass=function(e,t,a){var r=this.getClassNames(t)[a+"ClassName"],n=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===a&&n&&(r+=" "+n),"active"===a&&e&&db(e),r&&(this.appliedClasses[t][a]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return Uw(e,t)}))}(e,r))},a.removeClasses=function(e,t){var a=this.appliedClasses[t],r=a.base,n=a.active,s=a.done;this.appliedClasses[t]={},r&&xC(e,r),n&&xC(e,n),s&&xC(e,s)},a.render=function(){var e=this.props;e.classNames;var t=zg(e,["classNames"]);return J.createElement(gb,Bg({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(J.Component);gC.defaultProps={classNames:""},gC.propTypes={};const bC=gC;function vC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yC(e,t){var a=Object.create(null);return e&&Q.Children.map(e,(function(e){return e})).forEach((function(e){a[e.key]=function(e){return t&&Q.isValidElement(e)?t(e):e}(e)})),a}function wC(e,t,a){return null!=a[t]?a[t]:e.props[t]}function jC(e,t,a){var r=yC(e.children),n=function(e,t){function a(a){return a in t?t[a]:e[a]}e=e||{},t=t||{};var r,n=Object.create(null),s=[];for(var l in e)l in t?s.length&&(n[l]=s,s=[]):s.push(l);var o={};for(var i in t){if(n[i])for(r=0;r<n[i].length;r++){var d=n[i][r];o[n[i][r]]=a(d)}o[i]=a(i)}for(r=0;r<s.length;r++)o[s[r]]=a(s[r]);return o}(t,r);return Object.keys(n).forEach((function(s){var l=n[s];if(Q.isValidElement(l)){var o=s in t,i=s in r,d=t[s],c=Q.isValidElement(d)&&!d.props.in;!i||o&&!c?i||!o||c?i&&o&&Q.isValidElement(d)&&(n[s]=Q.cloneElement(l,{onExited:a.bind(null,l),in:d.props.in,exit:wC(l,"exit",e),enter:wC(l,"enter",e)})):n[s]=Q.cloneElement(l,{in:!1}):n[s]=Q.cloneElement(l,{onExited:a.bind(null,l),in:!0,exit:wC(l,"exit",e),enter:wC(l,"enter",e)})}})),n}var NC=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},_C=function(e){function t(t,a){var r,n=(r=e.call(this,t,a)||this).handleExited.bind(vC(r));return r.state={contextValue:{isMounting:!0},handleExited:n,firstRender:!0},r}qg(t,e);var a=t.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var a,r,n=t.children,s=t.handleExited;return{children:t.firstRender?(a=e,r=s,yC(a.children,(function(e){return Q.cloneElement(e,{onExited:r.bind(null,e),in:!0,appear:wC(e,"appear",a),enter:wC(e,"enter",a),exit:wC(e,"exit",a)})}))):jC(e,n,s),firstRender:!1}},a.handleExited=function(e,t){var a=yC(this.props.children);e.key in a||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var a=Bg({},t.children);return delete a[e.key],{children:a}})))},a.render=function(){var e=this.props,t=e.component,a=e.childFactory,r=zg(e,["component","childFactory"]),n=this.state.contextValue,s=NC(this.state.children).map(a);return delete r.appear,delete r.enter,delete r.exit,null===t?J.createElement(ib.Provider,{value:n},s):J.createElement(ib.Provider,{value:n},J.createElement(t,r,s))},t}(J.Component);_C.propTypes={},_C.defaultProps={component:"div",childFactory:function(e){return e}};const SC=_C;var kC=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t.handleLifecycle("onEnter",0,a)},t.handleEntering=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t.handleLifecycle("onEntering",0,a)},t.handleEntered=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t.handleLifecycle("onEntered",0,a)},t.handleExit=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t.handleLifecycle("onExit",1,a)},t.handleExiting=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t.handleLifecycle("onExiting",1,a)},t.handleExited=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t.handleLifecycle("onExited",1,a)},t}qg(t,e);var a=t.prototype;return a.handleLifecycle=function(e,t,a){var r,n=this.props.children,s=J.Children.toArray(n)[t];if(s.props[e]&&(r=s.props)[e].apply(r,a),this.props[e]){var l=s.props.nodeRef?void 0:pu.findDOMNode(this);this.props[e](l)}},a.render=function(){var e=this.props,t=e.children,a=e.in,r=zg(e,["children","in"]),n=J.Children.toArray(t),s=n[0],l=n[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,J.createElement(SC,r,a?J.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):J.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(J.Component);kC.propTypes={};const CC=kC;var EC,TC,OC="out-in",DC="in-out",AC=function(e,t,a){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),a()}},PC=((EC={})[OC]=function(e){var t=e.current,a=e.changeState;return J.cloneElement(t,{in:!1,onExited:AC(t,"onExited",(function(){a(mb,null)}))})},EC[DC]=function(e){var t=e.current,a=e.changeState,r=e.children;return[t,J.cloneElement(r,{in:!0,onEntered:AC(r,"onEntered",(function(){a(mb)}))})]},EC),MC=((TC={})[OC]=function(e){var t=e.children,a=e.changeState;return J.cloneElement(t,{in:!0,onEntered:AC(t,"onEntered",(function(){a(hb,J.cloneElement(t,{in:!0}))}))})},TC[DC]=function(e){var t=e.current,a=e.children,r=e.changeState;return[J.cloneElement(t,{in:!1,onExited:AC(t,"onExited",(function(){r(hb,J.cloneElement(a,{in:!0}))}))}),J.cloneElement(a,{in:!0})]},TC),LC=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={status:hb,current:null},t.appeared=!1,t.changeState=function(e,a){void 0===a&&(a=t.state.current),t.setState({status:e,current:a})},t}qg(t,e);var a=t.prototype;return a.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===mb&&e.mode===DC?{status:mb}:!t.current||(a=t.current,r=e.children,a===r||J.isValidElement(a)&&J.isValidElement(r)&&null!=a.key&&a.key===r.key)?{current:J.cloneElement(e.children,{in:!0})}:{status:fb};var a,r},a.render=function(){var e,t=this.props,a=t.children,r=t.mode,n=this.state,s=n.status,l=n.current,o={children:a,current:l,changeState:this.changeState,status:s};switch(s){case mb:e=MC[r](o);break;case fb:e=PC[r](o);break;case hb:e=l}return J.createElement(ib.Provider,{value:{isMounting:!this.appeared}},e)},t}(J.Component);LC.propTypes={},LC.defaultProps={mode:OC};const IC=LC,FC=s(Object.freeze(Object.defineProperty({__proto__:null,CSSTransition:bC,ReplaceTransition:CC,SwitchTransition:IC,Transition:gb,TransitionGroup:SC,config:ob},Symbol.toStringTag,{value:"Module"})));Object.defineProperty(pC,"__esModule",{value:!0});var RC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$C=HC(Rg),BC=HC(Q),zC=HC(sb),UC=FC;function HC(e){return e&&e.__esModule?e:{default:e}}var WC=function(e){var t=e.children,a=e.expanded,r=e.onClosed,n=e.className,s=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["children","expanded","onClosed","className"]);return BC.default.createElement("tr",null,BC.default.createElement("td",RC({className:(0,$C.default)("reset-expansion-style",n)},s),BC.default.createElement(UC.CSSTransition,{appear:!0,in:a,timeout:400,classNames:"row-expand-slide",onExited:r},BC.default.createElement("div",null,BC.default.createElement("div",{className:"row-expansion-style"},t)))))};WC.propTypes={children:zC.default.node,expanded:zC.default.bool,onClosed:zC.default.func,className:zC.default.string},WC.defaultProps={children:null,expanded:!1,onClosed:null,className:""},pC.default=WC,Object.defineProperty(fC,"__esModule",{value:!0});var YC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},qC=QC(Q),VC=QC(Rg),GC=QC(pC),KC=QC(iN),XC=QC(z_);function QC(e){return e&&e.__esModule?e:{default:e}}fC.default=function(e){return function(t){return qC.default.createElement(XC.default.Consumer,null,(function(a){return function(t,a){var r="",n="",s=t.value,l=KC.default.contains(a.expanded,s),o=KC.default.contains(a.isClosing,s),i=!a.nonExpandable||!KC.default.contains(a.nonExpandable,s);return l&&(r=KC.default.isFunction(a.parentClassName)?a.parentClassName(l,t.row,t.rowIndex):a.parentClassName||"",n=KC.default.isFunction(a.className)?a.className(l,t.row,t.rowIndex):a.className||""),[qC.default.createElement(e,YC({},t,{key:s,expanded:l,expandable:i,expandRow:YC({},a),className:(0,VC.default)(t.className,r)})),l||o?qC.default.createElement(GC.default,{key:s+"-expanding",colSpan:t.visibleColumnSize,expanded:l,onClosed:function(){return a.onClosed(s)},className:n},a.renderer(t.row,t.rowIndex)):null]}(t,a)}))}},Object.defineProperty(RS,"__esModule",{value:!0});var JC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ZC=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),eE=dE(Q),tE=dE(sb),aE=dE(iN),rE=dE($S),nE=dE(Nk),sE=dE(aC),lE=dE(Vj),oE=dE(oC),iE=dE(fC);function dE(e){return e&&e.__esModule?e:{default:e}}var cE=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.keyField,n=e.cellEdit,s=e.selectRow,l=e.expandRow;n.createContext&&(a.EditingCell=n.createEditingCell(aE.default,n.options.onStartEdit));var o=rE.default,i=s.mode!==lE.default.ROW_SELECT_DISABLED,d=!!l.renderer;return d&&(o=(0,iE.default)(nE.default)),i&&(o=(0,oE.default)(d?o:nE.default)),n.createContext&&(o=n.withRowLevelCellEdit(o,i,r,aE.default)),a.RowComponent=o,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ZC(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.columns,r=t.data,n=t.tabIndexCell,s=t.keyField,l=t.isEmpty,o=t.noDataIndication,i=t.visibleColumnSize,d=t.cellEdit,c=t.selectRow,u=t.rowStyle,m=t.rowClasses,h=t.rowEvents,f=t.expandRow,p=t.className,x=void 0;if(l){var g=aE.default.isFunction(o)?o():o;if(!g)return null;x=eE.default.createElement(sE.default,{content:g,colSpan:i})}else{var b=c.mode!==lE.default.ROW_SELECT_DISABLED,v=!!f.renderer,y={};d.createContext&&(y.EditingCellComponent=this.EditingCell),(b||v)&&(y.expandRow=f,y.selectRow=c),x=r.map((function(t,r){var l=aE.default.get(t,s),o=JC({key:l,row:t,tabIndexCell:n,columns:a,keyField:s,cellEdit:d,value:l,rowIndex:r,visibleColumnSize:i,attrs:h||{}},y);return o.style=aE.default.isFunction(u)?u(t,r):u,o.className=aE.default.isFunction(m)?m(t,r):m,eE.default.createElement(e.RowComponent,o)}))}return eE.default.createElement("tbody",{className:p},x)}}]),t}(eE.default.Component);cE.propTypes={keyField:tE.default.string.isRequired,data:tE.default.array.isRequired,columns:tE.default.array.isRequired,selectRow:tE.default.object},RS.default=cE;var uE={},mE={};Object.defineProperty(mE,"__esModule",{value:!0});var hE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},fE=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),pE=vE(Q),xE=vE(Rg),gE=vE(sb),bE=vE(iN);function vE(e){return e&&e.__esModule?e:{default:e}}var yE=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),fE(t,[{key:"render",value:function(){var e=this.props,t=e.index,a=e.column,r=e.columnData,n=a.footer,s=a.footerTitle,l=a.footerAlign,o=a.footerFormatter,i=a.footerEvents,d=a.footerClasses,c=a.footerStyle,u=a.footerAttrs,m=this.delegate(i),h=hE({},bE.default.isFunction(u)?u(a,t):u,m),f="";bE.default.isString(n)?f=n:bE.default.isFunction(n)&&(f=n(r,a,t));var p={},x=bE.default.isFunction(d)?d(a,t):d;c&&(p=(p=bE.default.isFunction(c)?c(a,t):c)?hE({},p):p),s&&(h.title=bE.default.isFunction(s)?s(a,t):f),l&&(p.textAlign=bE.default.isFunction(l)?l(a,t):l),x&&(h.className=(0,xE.default)(h.className,x)),bE.default.isEmptyObject(p)||(h.style=p);var g=o?o(a,t,{text:f}):f;return pE.default.createElement("th",h,g)}}]),t}((0,vE(hN).default)(pE.default.Component));yE.propTypes={columnData:gE.default.array,index:gE.default.number,column:gE.default.object},mE.default=yE,Object.defineProperty(uE,"__esModule",{value:!0});var wE=kE(Q),jE=kE(sb),NE=kE(yS),_E=kE(mE),SE=kE(iN);function kE(e){return e&&e.__esModule?e:{default:e}}var CE=function(e){var t=e.data,a=e.className,r=e.columns,n=e.selectRow,s=e.expandRow;return wE.default.createElement("tfoot",null,wE.default.createElement(NE.default,{renderContent:function(){return r.map((function(e,a){if(void 0===e.footer||null===e.footer)return!1;var r=SE.default.pluck(t,e.dataField);return wE.default.createElement(_E.default,{index:a,key:e.dataField,column:e,columnData:r})}))},selectRow:n,expandRow:s,className:a,cellEl:"th"}))};CE.propTypes={data:jE.default.array,className:jE.default.string,columns:jE.default.array,selectRow:jE.default.object,expandRow:jE.default.object},uE.default=CE;var EE={},TE={};Object.defineProperty(TE,"__esModule",{value:!0});var OE=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}();TE.default=function(e){return function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),OE(t,[{key:"visibleColumnSize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=void 0;if(this.props.columnToggle&&this.props.columnToggle.toggles){var a=this.props.columnToggle.toggles;t=Object.keys(a).filter((function(e){return a[e]})).length}else t=this.props.columns.filter((function(e){return!e.hidden})).length;return e?(this.props.selectRow&&!this.props.selectRow.hideSelectColumn&&(t+=1),this.props.expandRow&&this.props.expandRow.showExpandColumn&&(t+=1),t):t}}]),t}(e)},Object.defineProperty(EE,"__esModule",{value:!0});var DE=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),AE=ME(iN),PE=ME(TE);function ME(e){return e&&e.__esModule?e:{default:e}}EE.default=function(e){return function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),DE(t,[{key:"validateProps",value:function(){if(!this.props.keyField)throw new Error("Please specify a field as key via keyField");if(this.visibleColumnSize(!1)<=0)throw new Error("No visible columns detected")}},{key:"isEmpty",value:function(){return 0===this.props.data.length}},{key:"visibleRows",value:function(){var e=this.props,t=e.data,a=e.hiddenRows,r=e.keyField;return a&&0!==a.length?t.filter((function(e){var t=AE.default.get(e,r);return!AE.default.contains(a,t)})):t}}]),t}((0,PE.default)(e))},Object.defineProperty(Wj,"__esModule",{value:!0});var LE=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),IE=Q,FE=GE(IE),RE=GE(sb),$E=GE(Rg),BE=GE(Yj),zE=GE(mS),UE=GE(PS),HE=GE(RS),WE=GE(uE),YE=GE(EE),qE=GE(Vj),VE=GE(iN);function GE(e){return e&&e.__esModule?e:{default:e}}var KE=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getData=function(){return a.visibleRows()},a.validateProps(),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),LE(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.onDataSizeChange&&!e.pagination&&e.data.length!==this.props.data.length&&e.onDataSizeChange({dataSize:e.data.length})}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.overlay;if(a){var r=a(t);return FE.default.createElement(r,null,this.renderTable())}return this.renderTable()}},{key:"renderTable",value:function(){var e=this.props,t=e.columns,a=e.keyField,r=e.tabIndexCell,n=e.id,s=e.classes,l=e.bootstrap4,o=e.striped,i=e.hover,d=e.bordered,c=e.condensed,u=e.noDataIndication,m=e.caption,h=e.rowStyle,f=e.rowClasses,p=e.wrapperClasses,x=e.rowEvents,g=e.selectRow,b=e.expandRow,v=e.cellEdit,y=e.filterPosition,w=(0,$E.default)("react-bootstrap-table",p),j=(0,$E.default)("table",function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({"table-striped":o,"table-hover":i,"table-bordered":d},l?"table-sm":"table-condensed",c),s),N=t.some((function(e){return e.filter||e.filterRenderer})),_=VE.default.filter(t,(function(e){return VE.default.has(e,"footer")})).length>0,S=m&&FE.default.createElement(UE.default,{bootstrap4:l},m);return FE.default.createElement("div",{className:w},FE.default.createElement("table",{id:n,className:j},S,FE.default.createElement(BE.default,{columns:t,className:this.props.headerClasses,wrapperClasses:this.props.headerWrapperClasses,sortField:this.props.sortField,sortOrder:this.props.sortOrder,onSort:this.props.onSort,globalSortCaret:this.props.sort&&this.props.sort.sortCaret,onFilter:this.props.onFilter,currFilters:this.props.currFilters,onExternalFilter:this.props.onExternalFilter,selectRow:g,expandRow:b,filterPosition:y}),N&&y!==qE.default.FILTERS_POSITION_INLINE&&FE.default.createElement(zE.default,{columns:t,className:this.props.filtersClasses,onSort:this.props.onSort,onFilter:this.props.onFilter,currFilters:this.props.currFilters,filterPosition:this.props.filterPosition,onExternalFilter:this.props.onExternalFilter,selectRow:g,expandRow:b}),FE.default.createElement(HE.default,{className:this.props.bodyClasses,data:this.getData(),keyField:a,tabIndexCell:r,columns:t,isEmpty:this.isEmpty(),visibleColumnSize:this.visibleColumnSize(),noDataIndication:u,cellEdit:v,selectRow:g,expandRow:b,rowStyle:h,rowClasses:f,rowEvents:x}),_&&FE.default.createElement(WE.default,{data:this.getData(),columns:t,selectRow:g,expandRow:b,className:this.props.footerClasses})))}}]),t}((0,YE.default)(IE.Component));KE.propTypes={keyField:RE.default.string.isRequired,data:RE.default.array.isRequired,columns:RE.default.array.isRequired,bootstrap4:RE.default.bool,remote:RE.default.oneOfType([RE.default.bool,RE.default.shape({pagination:RE.default.bool})]),noDataIndication:RE.default.oneOfType([RE.default.node,RE.default.func]),striped:RE.default.bool,bordered:RE.default.bool,hover:RE.default.bool,tabIndexCell:RE.default.bool,id:RE.default.string,classes:RE.default.string,headerClasses:RE.default.string,bodyClasses:RE.default.string,wrapperClasses:RE.default.string,headerWrapperClasses:RE.default.string,condensed:RE.default.bool,caption:RE.default.oneOfType([RE.default.node,RE.default.string]),pagination:RE.default.object,filter:RE.default.object,cellEdit:RE.default.object,selectRow:RE.default.shape({mode:RE.default.oneOf([qE.default.ROW_SELECT_SINGLE,qE.default.ROW_SELECT_MULTIPLE,qE.default.ROW_SELECT_DISABLED]).isRequired,clickToSelect:RE.default.bool,clickToExpand:RE.default.bool,clickToEdit:RE.default.bool,hideSelectAll:RE.default.bool,onSelect:RE.default.func,onSelectAll:RE.default.func,style:RE.default.oneOfType([RE.default.object,RE.default.func]),classes:RE.default.oneOfType([RE.default.string,RE.default.func]),nonSelectable:RE.default.array,nonSelectableStyle:RE.default.oneOfType([RE.default.string,RE.default.func]),nonSelectableClasses:RE.default.oneOfType([RE.default.string,RE.default.func]),bgColor:RE.default.oneOfType([RE.default.string,RE.default.func]),hideSelectColumn:RE.default.bool,selectionRenderer:RE.default.func,selectionHeaderRenderer:RE.default.func,headerColumnStyle:RE.default.oneOfType([RE.default.object,RE.default.func]),selectColumnStyle:RE.default.oneOfType([RE.default.object,RE.default.func]),selectColumnPosition:RE.default.oneOf([qE.default.INDICATOR_POSITION_LEFT,qE.default.INDICATOR_POSITION_RIGHT])}),expandRow:RE.default.shape({renderer:RE.default.func,expanded:RE.default.array,onExpand:RE.default.func,onExpandAll:RE.default.func,nonExpandable:RE.default.array,showExpandColumn:RE.default.bool,onlyOneExpanding:RE.default.bool,expandByColumnOnly:RE.default.bool,expandColumnRenderer:RE.default.func,expandHeaderColumnRenderer:RE.default.func,expandColumnPosition:RE.default.oneOf([qE.default.INDICATOR_POSITION_LEFT,qE.default.INDICATOR_POSITION_RIGHT]),className:RE.default.oneOfType([RE.default.string,RE.default.func]),parentClassName:RE.default.oneOfType([RE.default.string,RE.default.func])}),rowStyle:RE.default.oneOfType([RE.default.object,RE.default.func]),rowEvents:RE.default.object,rowClasses:RE.default.oneOfType([RE.default.string,RE.default.func]),filtersClasses:RE.default.string,filterPosition:RE.default.oneOf([qE.default.FILTERS_POSITION_TOP,qE.default.FILTERS_POSITION_INLINE,qE.default.FILTERS_POSITION_BOTTOM]),footerClasses:RE.default.string,defaultSorted:RE.default.arrayOf(RE.default.shape({dataField:RE.default.string.isRequired,order:RE.default.oneOf([qE.default.SORT_DESC,qE.default.SORT_ASC]).isRequired})),sort:RE.default.shape({dataField:RE.default.string,order:RE.default.oneOf([qE.default.SORT_DESC,qE.default.SORT_ASC]),sortFunc:RE.default.func,sortCaret:RE.default.func}),defaultSortDirection:RE.default.oneOf([qE.default.SORT_DESC,qE.default.SORT_ASC]),overlay:RE.default.func,onTableChange:RE.default.func,onSort:RE.default.func,onFilter:RE.default.func,onExternalFilter:RE.default.func,onDataSizeChange:RE.default.func,search:RE.default.shape({searchText:RE.default.string,searchContext:RE.default.func}),setDependencyModules:RE.default.func},KE.defaultProps={bootstrap4:!1,remote:!1,striped:!1,bordered:!0,hover:!1,condensed:!1,noDataIndication:null,selectRow:{mode:qE.default.ROW_SELECT_DISABLED,selected:[],hideSelectColumn:!0},expandRow:{renderer:void 0,expanded:[],nonExpandable:[]},cellEdit:{mode:null,nonEditableRows:[]},filterPosition:qE.default.FILTERS_POSITION_INLINE},Wj.default=KE;var XE,QE={},JE={exports:{}},ZE="object"==typeof Reflect?Reflect:null,eT=ZE&&"function"==typeof ZE.apply?ZE.apply:function(e,t,a){return Function.prototype.apply.call(e,t,a)};XE=ZE&&"function"==typeof ZE.ownKeys?ZE.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var tT=Number.isNaN||function(e){return e!=e};function aT(){aT.init.call(this)}JE.exports=aT,JE.exports.once=function(e,t){return new Promise((function(a,r){function n(a){e.removeListener(t,s),r(a)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",n),a([].slice.call(arguments))}mT(e,t,s,{once:!0}),"error"!==t&&function(e,t,a){"function"==typeof e.on&&mT(e,"error",t,a)}(e,n,{once:!0})}))},aT.EventEmitter=aT,aT.prototype._events=void 0,aT.prototype._eventsCount=0,aT.prototype._maxListeners=void 0;var rT=10;function nT(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function sT(e){return void 0===e._maxListeners?aT.defaultMaxListeners:e._maxListeners}function lT(e,t,a,r){var n,s,l,o;if(nT(a),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,a.listener?a.listener:a),s=e._events),l=s[t]),void 0===l)l=s[t]=a,++e._eventsCount;else if("function"==typeof l?l=s[t]=r?[a,l]:[l,a]:r?l.unshift(a):l.push(a),(n=sT(e))>0&&l.length>n&&!l.warned){l.warned=!0;var i=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");i.name="MaxListenersExceededWarning",i.emitter=e,i.type=t,i.count=l.length,o=i,console&&console.warn&&console.warn(o)}return e}function oT(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function iT(e,t,a){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:a},n=oT.bind(r);return n.listener=a,r.wrapFn=n,n}function dT(e,t,a){var r=e._events;if(void 0===r)return[];var n=r[t];return void 0===n?[]:"function"==typeof n?a?[n.listener||n]:[n]:a?function(e){for(var t=new Array(e.length),a=0;a<t.length;++a)t[a]=e[a].listener||e[a];return t}(n):uT(n,n.length)}function cT(e){var t=this._events;if(void 0!==t){var a=t[e];if("function"==typeof a)return 1;if(void 0!==a)return a.length}return 0}function uT(e,t){for(var a=new Array(t),r=0;r<t;++r)a[r]=e[r];return a}function mT(e,t,a,r){if("function"==typeof e.on)r.once?e.once(t,a):e.on(t,a);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(s){r.once&&e.removeEventListener(t,n),a(s)}))}}Object.defineProperty(aT,"defaultMaxListeners",{enumerable:!0,get:function(){return rT},set:function(e){if("number"!=typeof e||e<0||tT(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");rT=e}}),aT.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},aT.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||tT(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},aT.prototype.getMaxListeners=function(){return sT(this)},aT.prototype.emit=function(e){for(var t=[],a=1;a<arguments.length;a++)t.push(arguments[a]);var r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var l=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw l.context=s,l}var o=n[e];if(void 0===o)return!1;if("function"==typeof o)eT(o,this,t);else{var i=o.length,d=uT(o,i);for(a=0;a<i;++a)eT(d[a],this,t)}return!0},aT.prototype.addListener=function(e,t){return lT(this,e,t,!1)},aT.prototype.on=aT.prototype.addListener,aT.prototype.prependListener=function(e,t){return lT(this,e,t,!0)},aT.prototype.once=function(e,t){return nT(t),this.on(e,iT(this,e,t)),this},aT.prototype.prependOnceListener=function(e,t){return nT(t),this.prependListener(e,iT(this,e,t)),this},aT.prototype.removeListener=function(e,t){var a,r,n,s,l;if(nT(t),void 0===(r=this._events))return this;if(void 0===(a=r[e]))return this;if(a===t||a.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,a.listener||t));else if("function"!=typeof a){for(n=-1,s=a.length-1;s>=0;s--)if(a[s]===t||a[s].listener===t){l=a[s].listener,n=s;break}if(n<0)return this;0===n?a.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(a,n),1===a.length&&(r[e]=a[0]),void 0!==r.removeListener&&this.emit("removeListener",e,l||t)}return this},aT.prototype.off=aT.prototype.removeListener,aT.prototype.removeAllListeners=function(e){var t,a,r;if(void 0===(a=this._events))return this;if(void 0===a.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==a[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete a[e]),this;if(0===arguments.length){var n,s=Object.keys(a);for(r=0;r<s.length;++r)"removeListener"!==(n=s[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=a[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},aT.prototype.listeners=function(e){return dT(this,e,!0)},aT.prototype.rawListeners=function(e){return dT(this,e,!1)},aT.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):cT.call(e,t)},aT.prototype.listenerCount=cT,aT.prototype.eventNames=function(){return this._eventsCount>0?XE(this._events):[]};var hT=JE.exports,fT={};Object.defineProperty(fT,"__esModule",{value:!0});var pT=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),xT=Q,gT=vT(xT),bT=vT(sb);function vT(e){return e&&e.__esModule?e:{default:e}}function yT(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}fT.default=function(){var e=gT.default.createContext(),t=function(t){function a(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,s=Array(n),l=0;l<n;l++)s[l]=arguments[l];return t=r=yT(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(s))),r.state={data:r.props.data},r.getData=function(e,t,a,n){return n?n.data:a?a.data:t?t.data:e?e.data:r.props.data},yT(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,t),pT(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState((function(){return{data:e.data}}))}},{key:"render",value:function(){return gT.default.createElement(e.Provider,{value:{data:this.state.data,getData:this.getData}},this.props.children)}}]),a}(xT.Component);return t.propTypes={data:bT.default.array.isRequired,children:bT.default.node.isRequired},{Provider:t,Consumer:e.Consumer}};var wT={};Object.defineProperty(wT,"__esModule",{value:!0});var jT=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),NT=ST(Q),_T=ST(sb);function ST(e){return e&&e.__esModule?e:{default:e}}wT.default=function(){var e=NT.default.createContext(),t=function(t){function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,t),jT(a,[{key:"render",value:function(){var t=void 0,a=this.props,r=a.columns,n=a.toggles;return t=n?r.filter((function(e){return n[e.dataField]})):r.filter((function(e){return!e.hidden})),NT.default.createElement(e.Provider,{value:{columns:t}},this.props.children)}}]),a}(NT.default.Component);return t.propTypes={columns:_T.default.array.isRequired,toggles:_T.default.object},t.defaultProps={toggles:null},{Provider:t,Consumer:e.Consumer}};var kT={};Object.defineProperty(kT,"__esModule",{value:!0});var CT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ET=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),TT=AT(Q),OT=AT(sb),DT=AT(Vj);function AT(e){return e&&e.__esModule?e:{default:e}}kT.default=function(e,t,a){var r=TT.default.createContext(),n=function(n){function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));s.call(t);var a=void 0,r=void 0,n=e.defaultSorted,o=e.defaultSortDirection,i=e.sort;return n&&n.length>0?(a=n[0].order||o,r=t.initSort(n[0].dataField,a)):i&&i.dataField&&i.order&&(a=i.order,r=t.initSort(i.dataField,a)),t.state={sortOrder:a,sortColumn:r},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,n),ET(l,[{key:"componentDidMount",value:function(){var e=this.state,r=e.sortOrder,n=e.sortColumn;t()&&r&&n&&a(n.dataField,r)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.sort,a=e.columns;t&&t.dataField&&t.order&&this.setState({sortOrder:t.order,sortColumn:a.find((function(e){return e.dataField===t.dataField}))})}},{key:"initSort",value:function(e,t){var a=void 0,r=this.props.columns.filter((function(t){return t.dataField===e}));return r.length>0&&(a=r[0]).onSort&&a.onSort(e,t),a}},{key:"render",value:function(){var a=this.props.data,n=this.props.sort,s=this.state,l=s.sortOrder,o=s.sortColumn;if(!t()&&o){var i=o.sortFunc?o.sortFunc:n&&n.sortFunc;a=e.sort(a,l,CT({},o,{sortFunc:i}))}return TT.default.createElement(r.Provider,{value:{data:a,sortOrder:l,onSort:this.handleSort,sortField:o?o.dataField:null}},this.props.children)}}]),l}(TT.default.Component);n.propTypes={data:OT.default.array.isRequired,columns:OT.default.array.isRequired,children:OT.default.node.isRequired,defaultSorted:OT.default.arrayOf(OT.default.shape({dataField:OT.default.string.isRequired,order:OT.default.oneOf([DT.default.SORT_DESC,DT.default.SORT_ASC]).isRequired})),sort:OT.default.shape({dataField:OT.default.string,order:OT.default.oneOf([DT.default.SORT_DESC,DT.default.SORT_ASC]),sortFunc:OT.default.func}),defaultSortDirection:OT.default.oneOf([DT.default.SORT_DESC,DT.default.SORT_ASC])};var s=function(){var r=this;this.handleSort=function(n){var s=e.nextOrder(n,r.state,r.props.defaultSortDirection);n.onSort&&n.onSort(n.dataField,s),t()&&a(n.dataField,s),r.setState((function(){return{sortOrder:s,sortColumn:n}}))}};return{Provider:n,Consumer:r.Consumer}};var PT={};Object.defineProperty(PT,"__esModule",{value:!0});var MT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},LT=FT(hT),IT=FT(iN);function FT(e){return e&&e.__esModule?e:{default:e}}PT.default=function(e){return function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.getNewestState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0,r=void 0,n=void 0,s=void 0,l=void 0,o={};return a.sortContext&&(t=a.sortContext.state.sortOrder,r=a.sortContext.state.sortColumn?a.sortContext.state.sortColumn.dataField:null),a.filterContext&&(o=a.filterContext.currFilters),a.paginationContext&&(n=a.paginationContext.currPage,s=a.paginationContext.currSizePerPage),a.searchContext&&(l=a.props.search.searchText),MT({sortOrder:t,sortField:r,filters:o,page:n,sizePerPage:s,searchText:l},e,{data:a.props.data})},a.isRemoteSearch=function(){var e=a.props.remote;return!0===e||IT.default.isObject(e)&&e.search||a.isRemotePagination()},a.isRemotePagination=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.props.remote;return e.result=!0===t||IT.default.isObject(t)&&t.pagination,e.result},a.isRemoteFiltering=function(){var e=a.props.remote;return!0===e||IT.default.isObject(e)&&e.filter||a.isRemotePagination()},a.isRemoteSort=function(){var e=a.props.remote;return!0===e||IT.default.isObject(e)&&e.sort||a.isRemotePagination()},a.isRemoteCellEdit=function(){var e=a.props.remote;return!0===e||IT.default.isObject(e)&&e.cellEdit},a.handleRemotePageChange=function(e,t){a.props.onTableChange("pagination",a.getNewestState({page:e,sizePerPage:t}))},a.handleRemoteFilterChange=function(e){var t={filters:e};if(a.isRemotePagination()){var r=a.props.pagination.options||{};t.page=IT.default.isDefined(r.pageStartIndex)?r.pageStartIndex:1}a.props.onTableChange("filter",a.getNewestState(t))},a.handleRemoteSortChange=function(e,t){a.props.onTableChange("sort",a.getNewestState({sortField:e,sortOrder:t}))},a.handleRemoteCellChange=function(e,t,r){var n={rowId:e,dataField:t,newValue:r};a.props.onTableChange("cellEdit",a.getNewestState({cellEdit:n}))},a.handleRemoteSearchChange=function(e){a.props.onTableChange("search",a.getNewestState({searchText:e}))},a.remoteEmitter=new LT.default,a.remoteEmitter.on("paginationChange",a.handleRemotePageChange),a.remoteEmitter.on("isRemotePagination",a.isRemotePagination),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(e)},Object.defineProperty(QE,"__esModule",{value:!0});var RT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$T=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),BT=Q,zT=JT(BT),UT=JT(hT),HT=JT(iN),WT=JT(fT),YT=JT(wT),qT=JT(kT),VT=JT(XN),GT=JT(z_),KT=JT(PT),XT=Kj,QT=JT(QN);function JT(e){return e&&e.__esModule?e:{default:e}}QE.default=function(e){return function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));if(t.DataContext=(0,WT.default)(),e.registerExposedAPI){var r=new UT.default;r.on("get.table.data",(function(e){return e.result=t.table.getData()})),r.on("get.selected.rows",(function(e){return e.result=t.selectionContext.getSelected()})),r.on("get.filtered.rows",(function(e){t.searchContext?e.result=t.searchContext.getSearched():t.filterContext?e.result=t.filterContext.getFiltered():e.result=t.table.getData()})),e.registerExposedAPI(r)}return e.columns.filter((function(e){return e.sort})).length>0&&(t.SortContext=(0,qT.default)(QT.default,t.isRemoteSort,t.handleRemoteSortChange)),(e.columnToggle||e.columns.filter((function(e){return e.hidden})).length>0)&&(t.ColumnManagementContext=(0,YT.default)()),e.selectRow&&(t.SelectionContext=VT.default),e.expandRow&&(t.RowExpandContext=GT.default),e.cellEdit&&e.cellEdit.createContext&&(t.CellEditContext=e.cellEdit.createContext(HT.default,QT.default,t.isRemoteCellEdit,t.handleRemoteCellChange)),e.filter&&(t.FilterContext=e.filter.createContext(HT.default,t.isRemoteFiltering,t.handleRemoteFilterChange)),e.pagination&&(t.PaginationContext=e.pagination.createContext()),e.search&&e.search.searchContext&&(t.SearchContext=e.search.searchContext(HT.default,t.isRemoteSearch,t.handleRemoteSearchChange)),e.setDependencyModules&&e.setDependencyModules(HT.default),e.setPaginationRemoteEmitter&&e.setPaginationRemoteEmitter(t.remoteEmitter),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,t),$T(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.columns.filter((function(e){return e.sort})).length<=0?this.SortContext=null:this.SortContext||(this.SortContext=(0,qT.default)(QT.default,this.isRemoteSort,this.handleRemoteSortChange)),!e.pagination&&this.props.pagination&&(this.PaginationContext=null),e.pagination&&!this.props.pagination&&(this.PaginationContext=e.pagination.createContext(this.isRemotePagination,this.handleRemotePageChange)),!e.cellEdit&&this.props.cellEdit&&(this.CellEditContext=null),e.cellEdit&&!this.props.cellEdit&&(this.CellEditContext=e.cellEdit.createContext(HT.default,QT.default,this.isRemoteCellEdit,this.handleRemoteCellChange))}},{key:"renderBase",value:function(){var t=this;return function(a,r,n,s,l,o){return zT.default.createElement(e,RT({ref:function(e){return t.table=e}},t.props,s,r,n,l,o,{data:a.getData(r,n,s,l)}))}}},{key:"renderWithColumnManagementCtx",value:function(e,t){var a=this;return function(r,n,s,l,o){return zT.default.createElement(a.ColumnManagementContext.Provider,RT({},t,{toggles:a.props.columnToggle?a.props.columnToggle.toggles:null}),zT.default.createElement(a.ColumnManagementContext.Consumer,null,(function(t){return e(r,n,s,l,o,t)})))}}},{key:"renderWithSelectionCtx",value:function(e,t){var a=this;return function(r,n,s,l,o){return zT.default.createElement(a.SelectionContext.Provider,RT({},t,{ref:function(e){return a.selectionContext=e},selectRow:a.props.selectRow,data:r.getData(n,s,l,o)}),e(r,n,s,l,o))}}},{key:"renderWithRowExpandCtx",value:function(e,t){var a=this;return function(r,n,s,l,o){return zT.default.createElement(a.RowExpandContext.Provider,RT({},t,{ref:function(e){return a.rowExpandContext=e},expandRow:a.props.expandRow,data:r.getData(n,s,l,o)}),e(r,n,s,l,o))}}},{key:"renderWithPaginationCtx",value:function(e){var t=this;return function(a,r,n,s){return zT.default.createElement(t.PaginationContext.Provider,{ref:function(e){return t.paginationContext=e},pagination:t.props.pagination,data:a.getData(r,n,s),bootstrap4:t.props.bootstrap4,isRemotePagination:t.isRemotePagination,remoteEmitter:t.remoteEmitter,onDataSizeChange:t.props.onDataSizeChange,tableId:t.props.id},zT.default.createElement(t.PaginationContext.Consumer,null,(function(t){return e(a,r,n,s,t)})))}}},{key:"renderWithSortCtx",value:function(e,t){var a=this;return function(r,n,s){return zT.default.createElement(a.SortContext.Provider,RT({},t,{ref:function(e){return a.sortContext=e},defaultSorted:a.props.defaultSorted,defaultSortDirection:a.props.defaultSortDirection,sort:a.props.sort,data:r.getData(n,s)}),zT.default.createElement(a.SortContext.Consumer,null,(function(t){return e(r,n,s,t)})))}}},{key:"renderWithSearchCtx",value:function(e,t){var a=this;return function(r,n){return zT.default.createElement(a.SearchContext.Provider,RT({},t,{ref:function(e){return a.searchContext=e},data:r.getData(n),searchText:a.props.search.searchText,dataChangeListener:a.props.dataChangeListener}),zT.default.createElement(a.SearchContext.Consumer,null,(function(t){return e(r,n,t)})))}}},{key:"renderWithFilterCtx",value:function(e,t){var a=this;return function(r){return zT.default.createElement(a.FilterContext.Provider,RT({},t,{ref:function(e){return a.filterContext=e},data:r.getData(),filter:a.props.filter.options||{},dataChangeListener:a.props.dataChangeListener}),zT.default.createElement(a.FilterContext.Consumer,null,(function(t){return e(r,t)})))}}},{key:"renderWithCellEditCtx",value:function(e,t){var a=this;return function(r){return zT.default.createElement(a.CellEditContext.Provider,RT({},t,{ref:function(e){return a.cellEditContext=e},selectRow:a.props.selectRow,cellEdit:a.props.cellEdit,data:r.getData()}),e(r))}}},{key:"render",value:function(){var e=this.props,t=e.keyField,a=e.columns,r=e.bootstrap4,n={keyField:t,columns:a},s=this.renderBase();return this.ColumnManagementContext&&(s=this.renderWithColumnManagementCtx(s,n)),this.SelectionContext&&(s=this.renderWithSelectionCtx(s,n)),this.RowExpandContext&&(s=this.renderWithRowExpandCtx(s,n)),this.PaginationContext&&(s=this.renderWithPaginationCtx(s,n)),this.SortContext&&(s=this.renderWithSortCtx(s,n)),this.SearchContext&&(s=this.renderWithSearchCtx(s,n)),this.FilterContext&&(s=this.renderWithFilterCtx(s,n)),this.CellEditContext&&(s=this.renderWithCellEditCtx(s,n)),zT.default.createElement(XT.BootstrapContext.Provider,{value:{bootstrap4:r}},zT.default.createElement(this.DataContext.Provider,RT({},n,{data:this.props.data}),zT.default.createElement(this.DataContext.Consumer,null,s)))}}]),a}((0,KT.default)(BT.Component))},Object.defineProperty(Hj,"__esModule",{value:!0});var ZT=tO(Wj),eO=tO(QE);function tO(e){return e&&e.__esModule?e:{default:e}}var aO=Hj.default=(0,eO.default)(ZT.default),rO={},nO={},sO={};Object.defineProperty(sO,"__esModule",{value:!0});var lO=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),oO=arguments,iO=cO(Q),dO=cO(sb);function cO(e){return e&&e.__esModule?e:{default:e}}var uO=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeValue=function(e){a.setState({value:e.target.value})},a.onKeyup=function(){var e,t,r,n=a.props,s=n.delay,l=n.onSearch;(e=function(){l(a.input.value)},t=s,r=void 0,function(){clearTimeout(r),r=setTimeout((function(){r=null,e.apply(void 0,oO)}),t||0)})()},a.state={value:e.searchText},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),lO(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:e.searchText})}},{key:"render",value:function(){var e=this,a=this.props,r=a.className,n=a.style,s=a.placeholder,l=a.tableId,o=a.srText;return iO.default.createElement("label",{htmlFor:"search-bar-"+l,className:"search-label"},iO.default.createElement("span",{id:"search-bar-"+l+"-label",className:"sr-only"},o),iO.default.createElement("input",{ref:function(t){return e.input=t},id:"search-bar-"+l,type:"text",style:n,"aria-labelledby":"search-bar-"+l+"-label",onKeyUp:function(){return e.onKeyup()},onChange:this.onChangeValue,className:"form-control "+r,value:this.state.value,placeholder:s||t.defaultProps.placeholder}))}}]),t}(iO.default.Component);uO.propTypes={onSearch:dO.default.func.isRequired,className:dO.default.string,placeholder:dO.default.string,style:dO.default.object,delay:dO.default.number,searchText:dO.default.string,tableId:dO.default.string,srText:dO.default.string},uO.defaultProps={className:"",style:{},placeholder:"Search",delay:250,searchText:"",tableId:"0",srText:"Search this table"},sO.default=uO;var mO={};Object.defineProperty(mO,"__esModule",{value:!0});var hO=pO(Q),fO=pO(sb);function pO(e){return e&&e.__esModule?e:{default:e}}var xO=function(e){var t=e.onClear,a=e.text,r=e.className;return hO.default.createElement("button",{className:"btn btn-default "+r,onClick:t},a)};xO.propTypes={onClear:fO.default.func.isRequired,className:fO.default.string,text:fO.default.string},xO.defaultProps={text:"Clear",className:""},mO.default=xO,Object.defineProperty(nO,"__esModule",{value:!0});var gO=vO(sO),bO=vO(mO);function vO(e){return e&&e.__esModule?e:{default:e}}nO.default={SearchBar:gO.default,ClearSearchButton:bO.default};var yO={},wO={};Object.defineProperty(wO,"__esModule",{value:!0});var jO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},NO=SO(Q),_O=SO(sb);function SO(e){return e&&e.__esModule?e:{default:e}}var kO=function(e){var t=e.onExport,a=e.children,r=e.className,n=function(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(e,["onExport","children","className"]);return NO.default.createElement("button",jO({type:"button",className:"react-bs-table-csv-btn btn btn-default "+r,onClick:function(){return t()}},n),a)};kO.propTypes={children:_O.default.node.isRequired,onExport:_O.default.func.isRequired,className:_O.default.string,style:_O.default.object},kO.defaultProps={className:"",style:{}},wO.default=kO,Object.defineProperty(yO,"__esModule",{value:!0});var CO=function(e){return e&&e.__esModule?e:{default:e}}(wO);yO.default={ExportCSVButton:CO.default};var EO={},TO={};Object.defineProperty(TO,"__esModule",{value:!0});var OO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},DO=PO(Q),AO=PO(sb);function PO(e){return e&&e.__esModule?e:{default:e}}var MO=function(e){var t=e.columns,a=e.onColumnToggle,r=e.toggles,n=e.contextual,s=e.className,l=e.btnClassName;return DO.default.createElement("div",{className:"btn-group btn-group-toggle "+s,"data-toggle":"buttons"},t.map((function(e){return OO({},e,{toggle:r[e.dataField]})})).map((function(e){return DO.default.createElement("button",{type:"button",key:e.dataField,className:l+" btn btn-"+n+" "+(e.toggle?"active":""),"data-toggle":"button","aria-pressed":e.toggle?"true":"false",onClick:function(){return a(e.dataField)}},e.text)})))};MO.propTypes={columns:AO.default.array.isRequired,toggles:AO.default.object.isRequired,onColumnToggle:AO.default.func.isRequired,btnClassName:AO.default.string,className:AO.default.string,contextual:AO.default.string},MO.defaultProps={btnClassName:"",className:"",contextual:"primary"},TO.default=MO,Object.defineProperty(EO,"__esModule",{value:!0});var LO=function(e){return e&&e.__esModule?e:{default:e}}(TO);EO.default={ToggleList:LO.default};var IO={},FO={},RO={},$O={},BO={},zO={exports:{}};!function(e){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,a){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){o(r.response,t,a)},r.onerror=function(){console.error("could not download file")},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(a){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:void 0,o=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,r){var o=l.URL||l.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?s(i):n(i.href)?a(e,t,r):s(i,i.target="_blank")):(i.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(i.href)}),4e4),setTimeout((function(){s(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,l){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,l),r);else if(n(e))a(e,r,l);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){s(o)}))}}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,r);var s="application/octet-stream"===e.type,o=/constructor/i.test(l.HTMLElement)||l.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&o)&&"object"==typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},d.readAsDataURL(e)}else{var c=l.URL||l.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout((function(){c.revokeObjectURL(u)}),4e4)}});l.saveAs=o.saveAs=o,e.exports=o}()}(zO);var UO=zO.exports;Object.defineProperty(BO,"__esModule",{value:!0}),BO.save=BO.transform=BO.getMetaInfo=void 0;var HO=function(e){return e&&e.__esModule?e:{default:e}}(UO);BO.getMetaInfo=function(e){return e.map((function(e){return{field:e.dataField,type:e.csvType||String,formatter:e.csvFormatter,formatExtraData:e.formatExtraData,header:e.csvText||e.text,export:!1!==e.csvExport,row:Number(e.row)||0,rowSpan:Number(e.rowSpan)||1,colSpan:Number(e.colSpan)||1,footer:e.footer,footerFormatter:e.footerFormatter}})).filter((function(e){return e.export}))},BO.transform=function(e,t,a,r,n){var s=n.separator,l=n.ignoreHeader,o=n.ignoreFooter,i=t.filter((function(e){return e.export})),d="";return l||(d+=i.map((function(e){return'"'+e.header+'"'})).join(s),d+="\n"),0===e.length||(d+=e.map((function(e,t){return i.map((function(a){var n=r.get(e,a.field);return a.formatter&&(n=a.formatter(n,e,t,a.formatExtraData)),a.type===String?'"'+(""+n).replace(/"/g,'""')+'"':n})).join(s)})).join("\n"),o||(d+="\n",d+=i.map((function(t,n){if("function"==typeof t.footer){var s=r.pluck(e,a[n].dataField);return'"'+t.footer(s,a[n],n)+'"'}return t.footerFormatter?'"'+t.footerFormatter(a[n],n)+'"':'"'+t.footer+'"'})).join(s))),d},BO.save=function(e,t){var a=t.noAutoBOM,r=t.fileName,n=t.blobType;HO.default.saveAs(new Blob([e],{type:n}),r,a)},Object.defineProperty($O,"__esModule",{value:!0});var WO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},YO=BO;function qO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var VO={fileName:"spreadsheet.csv",separator:",",ignoreHeader:!1,ignoreFooter:!0,noAutoBOM:!0,blobType:"text/plain;charset=utf-8",exportAll:!0,onlyExportSelection:!1};$O.default=function(e){return function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,s=Array(n),l=0;l<n;l++)s[l]=arguments[l];return a=r=qO(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleExportCSV=function(e){var t=r.props,a=t.columns,n=t.exportCSV,s=t.keyField,l=(0,YO.getMetaInfo)(a),o=!0===n?VO:WO({},VO,n),i=void 0;if(void 0!==e)i=e;else if(o.exportAll)i=r.props.data;else if(o.onlyExportFiltered){var d={};r.tableExposedAPIEmitter.emit("get.filtered.rows",d),i=d.result}else{var c={};r.tableExposedAPIEmitter.emit("get.table.data",c),i=c.result}if(o.onlyExportSelection){var u={};r.tableExposedAPIEmitter.emit("get.selected.rows",u);var m=u.result;i=i.filter((function(e){return!!m.find((function(t){return e[s]===t}))}))}var h=(0,YO.transform)(i,l,a,r._,o);(0,YO.save)(h,o)},qO(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(e)},Object.defineProperty(RO,"__esModule",{value:!0});var GO=function(e){return e&&e.__esModule?e:{default:e}}($O);RO.default={csvOperation:GO.default},Object.defineProperty(FO,"__esModule",{value:!0});var KO=function(e){return e&&e.__esModule?e:{default:e}}(RO);function XO(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}FO.default=function(e){return function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,s=Array(n),l=0;l<n;l++)s[l]=arguments[l];return a=r=XO(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.registerExposedAPI=function(e){r.tableExposedAPIEmitter=e},XO(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(KO.default.csvOperation(e))};var QO={};Object.defineProperty(QO,"__esModule",{value:!0});var JO=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),ZO=tD(Q),eD=tD(sb);function tD(e){return e&&e.__esModule?e:{default:e}}QO.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchFormatted:!1,afterSearch:null,onColumnMatch:null};return function(t,a,r){var n=ZO.default.createContext(),s=function(s){function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e)),n=e.data;return a()&&""!==t.props.searchText?r(t.props.searchText):(n=t.search(e),t.triggerListener(n,!0)),t.state={data:n},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,s),JO(l,[{key:"getSearched",value:function(){return this.state.data}},{key:"triggerListener",value:function(t,a){e.afterSearch&&!a&&e.afterSearch(t),this.props.dataChangeListener&&this.props.dataChangeListener.emit("filterChanged",t.length)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.searchText!==this.props.searchText)if(a())r(e.searchText);else{var n=this.search(e);this.triggerListener(n),this.setState({data:n})}else if(a())this.setState({data:e.data});else if(!t.isEqual(e.data,this.props.data)){var s=this.search(e);this.triggerListener(s),this.setState({data:s})}}},{key:"search",value:function(a){var r=a.data,n=a.columns,s=a.searchText.toLowerCase();return r.filter((function(a,r){for(var l=0;l<n.length;l+=1){var o=n[l];if(!1!==o.searchable){var i=t.get(a,o.dataField);if(o.formatter&&e.searchFormatted?i=o.formatter(i,a,r,o.formatExtraData):o.filterValue&&(i=o.filterValue(i,a)),e.onColumnMatch){if(e.onColumnMatch({searchText:s,value:i,column:o,row:a}))return!0}else if(null!=i&&(i=i.toString().toLowerCase()).indexOf(s)>-1)return!0}}return!1}))}},{key:"render",value:function(){return ZO.default.createElement(n.Provider,{value:{data:this.state.data}},this.props.children)}}]),l}(ZO.default.Component);return s.propTypes={data:eD.default.array.isRequired,columns:eD.default.array.isRequired,searchText:eD.default.string,dataChangeListener:eD.default.object},{Provider:s,Consumer:n.Consumer}}},Object.defineProperty(IO,"__esModule",{value:!0});var aD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},rD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nD=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),sD=dD(Q),lD=dD(sb),oD=dD(FO),iD=dD(QO);function dD(e){return e&&e.__esModule?e:{default:e}}var cD=sD.default.createContext(),uD=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r={};return a._=null,a.onClear=a.onClear.bind(a),a.onSearch=a.onSearch.bind(a),a.onColumnToggle=a.onColumnToggle.bind(a),a.setDependencyModules=a.setDependencyModules.bind(a),e.columnToggle&&(r.columnToggle=e.columns.reduce((function(e,t){return e[t.dataField]=!t.hidden,e}),{})),r.searchText="object"===rD(e.search)&&e.search.defaultSearch||"",a.state=r,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),nD(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state.columnToggle;t=e.columnToggle?e.columns.reduce((function(e,t){return e[t.dataField]=!t.hidden,e}),{}):null,this.setState(aD({},this.state,{columnToggle:t}))}},{key:"onSearch",value:function(e){e!==this.state.searchText&&this.setState({searchText:e})}},{key:"onClear",value:function(){this.setState({searchText:""})}},{key:"onColumnToggle",value:function(e){var t=this.state.columnToggle;t[e]=!t[e],this.setState(aD({},this.state,{columnToggle:t}))}},{key:"setDependencyModules",value:function(e){this._=e}},{key:"render",value:function(){var e={keyField:this.props.keyField,columns:this.props.columns,data:this.props.data,bootstrap4:this.props.bootstrap4,setDependencyModules:this.setDependencyModules,registerExposedAPI:this.registerExposedAPI};return this.props.search&&(e.search={searchContext:(0,iD.default)(this.props.search),searchText:this.state.searchText}),this.props.columnToggle&&(e.columnToggle={toggles:this.state.columnToggle}),sD.default.createElement(cD.Provider,{value:{searchProps:{searchText:this.state.searchText,onSearch:this.onSearch,onClear:this.onClear},csvProps:{onExport:this.handleExportCSV},columnToggleProps:{columns:this.props.columns,toggles:this.state.columnToggle,onColumnToggle:this.onColumnToggle},baseProps:e}},this.props.children)}}]),t}((0,oD.default)(sD.default.Component));uD.propTypes={keyField:lD.default.string.isRequired,data:lD.default.array.isRequired,columns:lD.default.array.isRequired,children:lD.default.node.isRequired,bootstrap4:lD.default.bool,search:lD.default.oneOfType([lD.default.bool,lD.default.shape({defaultSearch:lD.default.string,searchFormatted:lD.default.bool})]),exportCSV:lD.default.oneOfType([lD.default.bool,lD.default.shape({fileName:lD.default.string,separator:lD.default.string,ignoreHeader:lD.default.bool,ignoreFooter:lD.default.bool,noAutoBOM:lD.default.bool,blobType:lD.default.string,exportAll:lD.default.bool,onlyExportFiltered:lD.default.bool,onlyExportSelection:lD.default.bool})])},uD.defaultProps={search:!1,exportCSV:!1,bootstrap4:!1},IO.default={Provider:uD,Consumer:cD.Consumer};var mD={};Object.defineProperty(mD,"__esModule",{value:!0});var hD=xD(Q),fD=xD(sb),pD=xD(IO);function xD(e){return e&&e.__esModule?e:{default:e}}var gD=function(e){return hD.default.createElement(pD.default.Provider,e,hD.default.createElement(pD.default.Consumer,null,(function(t){return e.children(t)})))};gD.propTypes={children:fD.default.func.isRequired},mD.default=gD,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnToggle=e.CSVExport=e.Search=e.ToolkitContext=void 0;var t=nO;Object.defineProperty(e,"Search",{enumerable:!0,get:function(){return l(t).default}});var a=yO;Object.defineProperty(e,"CSVExport",{enumerable:!0,get:function(){return l(a).default}});var r=EO;Object.defineProperty(e,"ColumnToggle",{enumerable:!0,get:function(){return l(r).default}});var n=l(IO),s=l(mD);function l(e){return e&&e.__esModule?e:{default:e}}e.default=s.default,e.ToolkitContext=n.default}(rO);const bD=n(rO);function vD(){const{SearchBar:e,ClearSearchButton:t}=rO.Search;return oe.jsx(bD,{keyField:"id",data:[{id:1,name:"Product 1",price:100},{id:2,name:"Product 2",price:200},{id:3,name:"Product 3",price:300}],columns:[{dataField:"id",text:"Product ID"},{dataField:"name",text:"Product Name"},{dataField:"price",text:"Product Price"}],search:!0,children:a=>oe.jsxs("div",{children:[oe.jsx("h3",{children:"Input something at below input field:"}),oe.jsx(e,u({},a.searchProps)),oe.jsx(t,u({text:"Clear"},a.searchProps))," ",oe.jsx("hr",{}),oe.jsx(aO,u({},a.baseProps))]})})}function yD(){let{id:e}=om();const t=sm(),a="https://sms.evolvu.in/public",[r,n]=Q.useState({first_name:"",middle_name:"",last_name:"",gender:"",house:"",nationality:"",birth_place:"",mother_tongue:"",emergency_name:"",date_of_birth:"",student_aadhaar_no:"",religion:"",caste:"",category:"",address:"",city:"",state:"",pincode:"",emergency_address:"",emergency_contact:"",transport_mode:"",vehicle_no:"",weight:"",blood_group:"",allergies:"",has_spectacles:!1,admitted_in_class:"",date_of_admission:"",grn_no:"",student_id_no:"",class:"",division:"",height:"",roll_no:""}),[s,l]=Q.useState(null);Q.useEffect((()=>{const r=localStorage.getItem("authToken");r?Uf.get(`${a}/api/students/${e}/edit`,{headers:{Authorization:`Bearer ${r}`}}).then((e=>{n(e.data)})).catch((e=>{e.response&&401===e.response.status?t("/login"):l("An error occurred while fetching student data.")})):t("/login")}),[e,t]);const o=e=>{const{name:t,value:a}=e.target;n(m(u({},r),{[t]:a}))};return oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"container-fluid mt-4",children:oe.jsx("div",{className:"row",children:oe.jsx("div",{className:"row justify-content-center",children:oe.jsx("div",{className:"col-md-11",children:oe.jsxs("div",{className:"card",children:[oe.jsxs("div",{className:"card-header",children:[oe.jsx("h4",{children:"Update Student Information"}),oe.jsx("p",{children:"In this page you can update student information"})]}),oe.jsx("div",{className:"card-body",children:oe.jsxs("form",{onSubmit:n=>{n.preventDefault();const s=localStorage.getItem("authToken");Uf.put(`${a}/api/students/${e}/update`,r,{headers:{Authorization:`Bearer ${s}`}}).then((e=>{t("/student-list")})).catch((e=>{e.response&&401===e.response.status?t("/login"):l("An error occurred while updating student data.")}))},children:[oe.jsx("h4",{children:"Personal Information"}),oe.jsxs("div",{className:"form-group row",children:[oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"first_name",children:"First Name"}),oe.jsx("input",{type:"text",id:"first_name",name:"first_name",placeholder:"eg. John",className:"form-control",required:!0,onChange:o,value:r.first_name})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"middle_name",children:"Middle Name"}),oe.jsx("input",{type:"text",id:"middle_name",name:"middle_name",placeholder:"eg. A.",className:"form-control",onChange:o,value:r.middle_name})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"last_name",children:"Last Name"}),oe.jsx("input",{type:"text",id:"last_name",name:"last_name",placeholder:"eg. Doe",className:"form-control",required:!0,onChange:o,value:r.last_name})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"gender",children:"Gender"}),oe.jsxs("select",{id:"gender",name:"gender",className:"form-control",required:!0,onChange:o,value:r.gender,children:[oe.jsx("option",{value:"Male",children:"Male"}),oe.jsx("option",{value:"Female",children:"Female"}),oe.jsx("option",{value:"Other",children:"Other"})]})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"house",children:"House"}),oe.jsx("input",{type:"text",id:"house",name:"house",placeholder:"eg. Green House",className:"form-control",onChange:o,value:r.house})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"nationality",children:"Nationality"}),oe.jsx("input",{type:"text",id:"nationality",name:"nationality",placeholder:"eg. Indian",className:"form-control",onChange:o,value:r.nationality})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"birth_place",children:"Birth Place"}),oe.jsx("input",{type:"text",id:"birth_place",name:"birth_place",placeholder:"eg. Mumbai",className:"form-control",onChange:o,value:r.birth_place})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"mother_tongue",children:"Mother Tongue"}),oe.jsxs("select",{id:"mother_tongue",name:"mother_tongue",className:"form-control",required:!0,onChange:o,value:r.mother_tongue,children:[oe.jsx("option",{value:"Assamese",children:"Assamese"}),oe.jsx("option",{value:"Bengali",children:"Bengali"}),oe.jsx("option",{value:"Gujarati",children:"Gujarati"}),oe.jsx("option",{value:"Hindi",children:"Hindi"}),oe.jsx("option",{value:"Kannada",children:"Kannada"}),oe.jsx("option",{value:"Kashmiri",children:"Kashmiri"}),oe.jsx("option",{value:"Konkani",children:"Konkani"}),oe.jsx("option",{value:"Malayalam",children:"Malayalam"}),oe.jsx("option",{value:"Manipuri",children:"Manipuri"}),oe.jsx("option",{value:"Marathi",children:"Marathi"}),oe.jsx("option",{value:"Nepali",children:"Nepali"}),oe.jsx("option",{value:"Odia",children:"Odia"}),oe.jsx("option",{value:"Punjabi",children:"Punjabi"}),oe.jsx("option",{value:"Sanskrit",children:"Sanskrit"}),oe.jsx("option",{value:"Sindhi",children:"Sindhi"}),oe.jsx("option",{value:"Tamil",children:"Tamil"}),oe.jsx("option",{value:"Telugu",children:"Telugu"}),oe.jsx("option",{value:"Urdu",children:"Urdu"})]})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"emergency_name",children:"Emergency Name"}),oe.jsx("input",{type:"text",id:"emergency_name",name:"emergency_name",placeholder:"eg. Jane Doe",className:"form-control",onChange:o,value:r.emergency_name})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"date_of_birth",children:"Date of Birth"}),oe.jsx("input",{type:"date",id:"date_of_birth",name:"date_of_birth",className:"form-control",required:!0,onChange:o,value:r.date_of_birth})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"student_aadhaar_no",children:"Student Aadhaar No"}),oe.jsx("input",{type:"text",id:"student_aadhaar_no",name:"student_aadhaar_no",placeholder:"eg. 9876-5432-1234",className:"form-control",onChange:o,value:r.student_aadhaar_no})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"religion",children:"Religion"}),oe.jsxs("select",{id:"religion",name:"religion",className:"form-control",required:!0,onChange:o,value:r.religion,children:[oe.jsx("option",{value:"Hinduism",children:"Hinduism"}),oe.jsx("option",{value:"Islam",children:"Islam"}),oe.jsx("option",{value:"Christianity",children:"Christianity"}),oe.jsx("option",{value:"Jain",children:"Jain"}),oe.jsx("option",{value:"Buddhist",children:"Buddhist"})]})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"caste",children:"Caste"}),oe.jsx("input",{type:"text",id:"caste",name:"caste",placeholder:"eg. Brahmin",className:"form-control",onChange:o,value:r.caste})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"category",children:"Category"}),oe.jsxs("select",{id:"category",name:"category",className:"form-control",required:!0,onChange:o,value:r.category,children:[oe.jsx("option",{value:"General",children:"General"}),oe.jsx("option",{value:"OBC",children:"OBC"}),oe.jsx("option",{value:"SC",children:"SC"}),oe.jsx("option",{value:"ST",children:"ST"}),oe.jsx("option",{value:"Other",children:"Other"})]})]})]}),oe.jsx("h4",{children:"Contact Information"}),oe.jsxs("div",{className:"form-group row",children:[oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"address",children:"Address"}),oe.jsx("input",{type:"text",id:"address",name:"address",placeholder:"eg. 123 Main St",className:"form-control",onChange:o,value:r.address})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"city",children:"City"}),oe.jsx("input",{type:"text",id:"city",name:"city",placeholder:"eg. Mumbai",className:"form-control",onChange:o,value:r.city})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"state",children:"State"}),oe.jsx("input",{type:"text",id:"state",name:"state",placeholder:"eg. Maharashtra",className:"form-control",onChange:o,value:r.state})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"pincode",children:"Pincode"}),oe.jsx("input",{type:"text",id:"pincode",name:"pincode",placeholder:"eg. 400001",className:"form-control",onChange:o,value:r.pincode})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"emergency_address",children:"Emergency Address"}),oe.jsx("input",{type:"text",id:"emergency_address",name:"emergency_address",placeholder:"eg. 456 Another St",className:"form-control",onChange:o,value:r.emergency_address})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"emergency_contact",children:"Emergency Contact"}),oe.jsx("input",{type:"text",id:"emergency_contact",name:"emergency_contact",placeholder:"eg. 9876543210",className:"form-control",onChange:o,value:r.emergency_contact})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"transport_mode",children:"Transport Mode"}),oe.jsxs("select",{id:"transport_mode",name:"transport_mode",className:"form-control",required:!0,onChange:o,value:r.transport_mode,children:[oe.jsx("option",{value:"Bus",children:"Bus"}),oe.jsx("option",{value:"Car",children:"Car"}),oe.jsx("option",{value:"Bike",children:"Bike"}),oe.jsx("option",{value:"Walk",children:"Walk"})]})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"vehicle_no",children:"Vehicle No"}),oe.jsx("input",{type:"text",id:"vehicle_no",name:"vehicle_no",placeholder:"eg. MH-12-3456",className:"form-control",onChange:o,value:r.vehicle_no})]})]}),oe.jsx("h4",{children:"Medical Information"}),oe.jsxs("div",{className:"form-group row",children:[oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"weight",children:"Weight"}),oe.jsx("input",{type:"text",id:"weight",name:"weight",placeholder:"eg. 60kg",className:"form-control",onChange:o,value:r.weight})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"blood_group",children:"Blood Group"}),oe.jsx("input",{type:"text",id:"blood_group",name:"blood_group",placeholder:"eg. O+",className:"form-control",onChange:o,value:r.blood_group})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"allergies",children:"Allergies"}),oe.jsx("input",{type:"text",id:"allergies",name:"allergies",placeholder:"eg. Peanuts",className:"form-control",onChange:o,value:r.allergies})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{children:"Has Spectacles"}),oe.jsxs("div",{children:[oe.jsx("input",{type:"radio",id:"has_spectacles_yes",name:"has_spectacles",value:"true",checked:r.has_spectacles,onChange:()=>n(m(u({},r),{has_spectacles:!0}))}),oe.jsx("label",{htmlFor:"has_spectacles_yes",className:"mr-2",children:"Yes"}),oe.jsx("input",{type:"radio",id:"has_spectacles_no",name:"has_spectacles",value:"false",checked:!r.has_spectacles,onChange:()=>n(m(u({},r),{has_spectacles:!1}))}),oe.jsx("label",{htmlFor:"has_spectacles_no",children:"No"})]})]})]}),oe.jsx("h4",{children:"Admission Information"}),oe.jsxs("div",{className:"form-group row",children:[oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"admitted_in_class",children:"Admitted In Class"}),oe.jsx("input",{type:"text",id:"admitted_in_class",name:"admitted_in_class",placeholder:"eg. 10",className:"form-control",onChange:o,value:r.admitted_in_class})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"date_of_admission",children:"Date of Admission"}),oe.jsx("input",{type:"date",id:"date_of_admission",name:"date_of_admission",className:"form-control",required:!0,onChange:o,value:r.date_of_admission})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"grn_no",children:"GRN No"}),oe.jsx("input",{type:"text",id:"grn_no",name:"grn_no",placeholder:"eg. 12345",className:"form-control",onChange:o,value:r.grn_no})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"student_id_no",children:"Student ID No"}),oe.jsx("input",{type:"text",id:"student_id_no",name:"student_id_no",placeholder:"eg. 67890",className:"form-control",onChange:o,value:r.student_id_no})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"class",children:"Class"}),oe.jsx("input",{type:"text",id:"class",name:"class",placeholder:"eg. 10",className:"form-control",onChange:o,value:r.class})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"division",children:"Division"}),oe.jsx("input",{type:"text",id:"division",name:"division",placeholder:"eg. A",className:"form-control",onChange:o,value:r.division})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"height",children:"Height"}),oe.jsx("input",{type:"text",id:"height",name:"height",placeholder:"eg. 170cm",className:"form-control",onChange:o,value:r.height})]}),oe.jsxs("div",{className:"col-md-3 mb-2",children:[oe.jsx("label",{htmlFor:"roll_no",children:"Roll No"}),oe.jsx("input",{type:"text",id:"roll_no",name:"roll_no",placeholder:"eg. 10",className:"form-control",onChange:o,value:r.roll_no})]})]}),oe.jsx("div",{className:"form-group row",children:oe.jsx("div",{className:"col-md-12 text-right",children:oe.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})})})]})}),oe.jsx("div",{className:"card-footer",children:oe.jsx(Tm,{to:"/student-list",className:"btn btn-secondary",children:"Back to Student List"})})]})})})})})})}function wD(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function jD(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wD(Object(a),!0).forEach((function(t){SD(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wD(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ND(e){return(ND="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _D(e,t,a){return t&&function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SD(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s=[],l=!0,o=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(s.push(r.value),!t||s.length!==t);l=!0);}catch(i){o=!0,n=i}finally{try{l||null==a.return||a.return()}finally{if(o)throw n}}return s}}(e,t)||ED(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CD(e){return function(e){if(Array.isArray(e))return TD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ED(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ED(e,t){if(e){if("string"==typeof e)return TD(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?TD(e,t):void 0}}function TD(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var OD=function(){},DD={},AD={},PD=null,MD={mark:OD,measure:OD};try{"undefined"!=typeof window&&(DD=window),"undefined"!=typeof document&&(AD=document),"undefined"!=typeof MutationObserver&&(PD=MutationObserver),"undefined"!=typeof performance&&(MD=performance)}catch(mMe){}var LD=(DD.navigator||{}).userAgent,ID=void 0===LD?"":LD,FD=DD,RD=AD,$D=PD,BD=MD;FD.document;var zD,UD,HD,WD,YD,qD=!!RD.documentElement&&!!RD.head&&"function"==typeof RD.addEventListener&&"function"==typeof RD.createElement,VD=~ID.indexOf("MSIE")||~ID.indexOf("Trident/"),GD="___FONT_AWESOME___",KD="svg-inline--fa",XD="data-fa-i2svg",QD="data-fa-pseudo-element",JD="data-prefix",ZD="data-icon",eA="fontawesome-i2svg",tA=["HTML","HEAD","STYLE","SCRIPT"],aA=function(){try{return!0}catch(mMe){return!1}}(),rA="classic",nA="sharp",sA=[rA,nA];function lA(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[rA]}})}var oA=lA((SD(zD={},rA,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),SD(zD,nA,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),zD)),iA=lA((SD(UD={},rA,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),SD(UD,nA,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),UD)),dA=lA((SD(HD={},rA,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),SD(HD,nA,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),HD)),cA=lA((SD(WD={},rA,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),SD(WD,nA,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),WD)),uA=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,mA="fa-layers-text",hA=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,fA=lA((SD(YD={},rA,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),SD(YD,nA,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),YD)),pA=[1,2,3,4,5,6,7,8,9,10],xA=pA.concat([11,12,13,14,15,16,17,18,19,20]),gA=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],bA="duotone-group",vA="swap-opacity",yA="primary",wA="secondary",jA=new Set;Object.keys(iA[rA]).map(jA.add.bind(jA)),Object.keys(iA[nA]).map(jA.add.bind(jA));var NA=[].concat(sA,CD(jA),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",bA,vA,yA,wA]).concat(pA.map((function(e){return"".concat(e,"x")}))).concat(xA.map((function(e){return"w-".concat(e)}))),_A=FD.FontAwesomeConfig||{};RD&&"function"==typeof RD.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=kD(e,2),a=t[0],r=t[1],n=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=RD.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(a));null!=n&&(_A[r]=n)}));var SA={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:KD,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};_A.familyPrefix&&(_A.cssPrefix=_A.familyPrefix);var kA=jD(jD({},SA),_A);kA.autoReplaceSvg||(kA.observeMutations=!1);var CA={};Object.keys(SA).forEach((function(e){Object.defineProperty(CA,e,{enumerable:!0,set:function(t){kA[e]=t,EA.forEach((function(e){return e(CA)}))},get:function(){return kA[e]}})})),Object.defineProperty(CA,"familyPrefix",{enumerable:!0,set:function(e){kA.cssPrefix=e,EA.forEach((function(e){return e(CA)}))},get:function(){return kA.cssPrefix}}),FD.FontAwesomeConfig=CA;var EA=[],TA=16,OA={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function DA(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function AA(e){for(var t=[],a=(e||[]).length>>>0;a--;)t[a]=e[a];return t}function PA(e){return e.classList?AA(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function MA(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function LA(e){return Object.keys(e||{}).reduce((function(t,a){return t+"".concat(a,": ").concat(e[a].trim(),";")}),"")}function IA(e){return e.size!==OA.size||e.x!==OA.x||e.y!==OA.y||e.rotate!==OA.rotate||e.flipX||e.flipY}function FA(){var e="fa",t=KD,a=CA.cssPrefix,r=CA.replacementClass,n=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, 0));\n          transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(a!==e||r!==t){var s=new RegExp("\\.".concat(e,"\\-"),"g"),l=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");n=n.replace(s,".".concat(a,"-")).replace(l,"--".concat(a,"-")).replace(o,".".concat(r))}return n}var RA=!1;function $A(){CA.autoAddCss&&!RA&&(function(e){if(e&&qD){var t=RD.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var a=RD.head.childNodes,r=null,n=a.length-1;n>-1;n--){var s=a[n],l=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=s)}RD.head.insertBefore(t,r)}}(FA()),RA=!0)}var BA={mixout:function(){return{dom:{css:FA,insertCss:$A}}},hooks:function(){return{beforeDOMElementCreation:function(){$A()},beforeI2svg:function(){$A()}}}},zA=FD||{};zA[GD]||(zA[GD]={}),zA[GD].styles||(zA[GD].styles={}),zA[GD].hooks||(zA[GD].hooks={}),zA[GD].shims||(zA[GD].shims=[]);var UA=zA[GD],HA=[],WA=!1;function YA(e){var t=e.tag,a=e.attributes,r=void 0===a?{}:a,n=e.children,s=void 0===n?[]:n;return"string"==typeof e?MA(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,a){return t+"".concat(a,'="').concat(MA(e[a]),'" ')}),"").trim()}(r),">").concat(s.map(YA).join(""),"</").concat(t,">")}function qA(e,t,a){if(e&&e[t]&&e[t][a])return{prefix:t,iconName:a,icon:e[t][a]}}qD&&((WA=(RD.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(RD.readyState))||RD.addEventListener("DOMContentLoaded",(function e(){RD.removeEventListener("DOMContentLoaded",e),WA=1,HA.map((function(e){return e()}))})));var VA,GA,KA,XA=function(e,t,a,r){var n,s,l,o=Object.keys(e),i=o.length,d=t;for(void 0===a?(n=1,l=e[o[0]]):(n=0,l=a);n<i;n++)l=d(l,e[s=o[n]],s,e);return l};function QA(e){var t=function(e){for(var t=[],a=0,r=e.length;a<r;){var n=e.charCodeAt(a++);if(n>=55296&&n<=56319&&a<r){var s=e.charCodeAt(a++);56320==(64512&s)?t.push(((1023&n)<<10)+(1023&s)+65536):(t.push(n),a--)}else t.push(n)}return t}(e);return 1===t.length?t[0].toString(16):null}function JA(e){return Object.keys(e).reduce((function(t,a){var r=e[a];return r.icon?t[r.iconName]=r.icon:t[a]=r,t}),{})}function ZA(e,t){var a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==a&&a,n=JA(t);"function"!=typeof UA.hooks.addPack||r?UA.styles[e]=jD(jD({},UA.styles[e]||{}),n):UA.hooks.addPack(e,JA(t)),"fas"===e&&ZA("fa",t)}var eP=UA.styles,tP=UA.shims,aP=(SD(VA={},rA,Object.values(dA[rA])),SD(VA,nA,Object.values(dA[nA])),VA),rP=null,nP={},sP={},lP={},oP={},iP={},dP=(SD(GA={},rA,Object.keys(oA[rA])),SD(GA,nA,Object.keys(oA[nA])),GA);function cP(e,t){var a,r=t.split("-"),n=r[0],s=r.slice(1).join("-");return n!==e||""===s||(a=s,~NA.indexOf(a))?null:s}var uP,mP=function(){var e=function(e){return XA(eP,(function(t,a,r){return t[r]=XA(a,e,{}),t}),{})};nP=e((function(e,t,a){if(t[3]&&(e[t[3]]=a),t[2]){var r=t[2].filter((function(e){return"number"==typeof e}));r.forEach((function(t){e[t.toString(16)]=a}))}return e})),sP=e((function(e,t,a){if(e[a]=a,t[2]){var r=t[2].filter((function(e){return"string"==typeof e}));r.forEach((function(t){e[t]=a}))}return e})),iP=e((function(e,t,a){var r=t[2];return e[a]=a,r.forEach((function(t){e[t]=a})),e}));var t="far"in eP||CA.autoFetchSvg,a=XA(tP,(function(e,a){var r=a[0],n=a[1],s=a[2];return"far"!==n||t||(n="fas"),"string"==typeof r&&(e.names[r]={prefix:n,iconName:s}),"number"==typeof r&&(e.unicodes[r.toString(16)]={prefix:n,iconName:s}),e}),{names:{},unicodes:{}});lP=a.names,oP=a.unicodes,rP=gP(CA.styleDefault,{family:CA.familyDefault})};function hP(e,t){return(nP[e]||{})[t]}function fP(e,t){return(iP[e]||{})[t]}function pP(e){return lP[e]||{prefix:null,iconName:null}}function xP(){return rP}function gP(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,a=void 0===t?rA:t,r=oA[a][e],n=iA[a][e]||iA[a][r],s=e in UA.styles?e:null;return n||s||null}uP=function(e){rP=gP(e.styleDefault,{family:CA.familyDefault})},EA.push(uP),mP();var bP=(SD(KA={},rA,Object.keys(dA[rA])),SD(KA,nA,Object.keys(dA[nA])),KA);function vP(e){var t,a=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==a&&a,n=(SD(t={},rA,"".concat(CA.cssPrefix,"-").concat(rA)),SD(t,nA,"".concat(CA.cssPrefix,"-").concat(nA)),t),s=null,l=rA;(e.includes(n[rA])||e.some((function(e){return bP[rA].includes(e)})))&&(l=rA),(e.includes(n[nA])||e.some((function(e){return bP[nA].includes(e)})))&&(l=nA);var o=e.reduce((function(e,t){var a=cP(CA.cssPrefix,t);if(eP[t]?(t=aP[l].includes(t)?cA[l][t]:t,s=t,e.prefix=t):dP[l].indexOf(t)>-1?(s=t,e.prefix=gP(t,{family:l})):a?e.iconName=a:t!==CA.replacementClass&&t!==n[rA]&&t!==n[nA]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var o="fa"===s?pP(e.iconName):{},i=fP(e.prefix,e.iconName);o.prefix&&(s=null),e.iconName=o.iconName||i||e.iconName,e.prefix=o.prefix||e.prefix,"far"!==e.prefix||eP.far||!eP.fas||CA.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return(e.includes("fa-brands")||e.includes("fab"))&&(o.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(o.prefix="fad"),o.prefix||l!==nA||!eP.fass&&!CA.autoFetchSvg||(o.prefix="fass",o.iconName=fP(o.prefix,o.iconName)||o.iconName),"fa"!==o.prefix&&"fa"!==s||(o.prefix=xP()||"fas"),o}var yP=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}return _D(e,[{key:"add",value:function(){for(var e=this,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var n=a.reduce(this._pullDefinitions,{});Object.keys(n).forEach((function(t){e.definitions[t]=jD(jD({},e.definitions[t]||{}),n[t]),ZA(t,n[t]);var a=dA[rA][t];a&&ZA(a,n[t]),mP()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var a=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(a).map((function(t){var r=a[t],n=r.prefix,s=r.iconName,l=r.icon,o=l[2];e[n]||(e[n]={}),o.length>0&&o.forEach((function(t){"string"==typeof t&&(e[n][t]=l)})),e[n][s]=l})),e}}]),e}(),wP=[],jP={},NP={},_P=Object.keys(NP);function SP(e,t){for(var a=arguments.length,r=new Array(a>2?a-2:0),n=2;n<a;n++)r[n-2]=arguments[n];return(jP[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function kP(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];(jP[e]||[]).forEach((function(e){e.apply(null,a)}))}function CP(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return NP[e]?NP[e].apply(null,t):void 0}function EP(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,a=e.prefix||xP();if(t)return t=fP(a,t)||t,qA(TP.definitions,a,t)||qA(UA.styles,a,t)}var TP=new yP,OP={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return qD?(kP("beforeI2svg",e),CP("pseudoElements2svg",e),CP("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.autoReplaceSvgRoot;!1===CA.autoReplaceSvg&&(CA.autoReplaceSvg=!0),CA.observeMutations=!0,e=function(){AP({autoReplaceSvgRoot:a}),kP("watch",t)},qD&&(WA?setTimeout(e,0):HA.push(e))}},DP={noAuto:function(){CA.autoReplaceSvg=!1,CA.observeMutations=!1,kP("noAuto")},config:CA,dom:OP,parse:{icon:function(e){if(null===e)return null;if("object"===ND(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:fP(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],a=gP(e[0]);return{prefix:a,iconName:fP(a,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(CA.cssPrefix,"-"))>-1||e.match(uA))){var r=vP(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||xP(),iconName:fP(r.prefix,r.iconName)||r.iconName}}if("string"==typeof e){var n=xP();return{prefix:n,iconName:fP(n,e)||e}}}},library:TP,findIconDefinition:EP,toHtml:YA},AP=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?RD:e;(Object.keys(UA.styles).length>0||CA.autoFetchSvg)&&qD&&CA.autoReplaceSvg&&DP.dom.i2svg({node:t})};function PP(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return YA(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(qD){var t=RD.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function MP(e){var t=e.icons,a=t.main,r=t.mask,n=e.prefix,s=e.iconName,l=e.transform,o=e.symbol,i=e.title,d=e.maskId,c=e.titleId,u=e.extra,m=e.watchable,h=void 0!==m&&m,f=r.found?r:a,p=f.width,x=f.height,g="fak"===n,b=[CA.replacementClass,s?"".concat(CA.cssPrefix,"-").concat(s):""].filter((function(e){return-1===u.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(u.classes).join(" "),v={children:[],attributes:jD(jD({},u.attributes),{},{"data-prefix":n,"data-icon":s,class:b,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(x)})},y=g&&!~u.classes.indexOf("fa-fw")?{width:"".concat(p/x*16*.0625,"em")}:{};h&&(v.attributes[XD]=""),i&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(c||DA())},children:[i]}),delete v.attributes.title);var w=jD(jD({},v),{},{prefix:n,iconName:s,main:a,mask:r,maskId:d,transform:l,symbol:o,styles:jD(jD({},y),u.styles)}),j=r.found&&a.found?CP("generateAbstractMask",w)||{children:[],attributes:{}}:CP("generateAbstractIcon",w)||{children:[],attributes:{}},N=j.children,_=j.attributes;return w.children=N,w.attributes=_,o?function(e){var t=e.prefix,a=e.iconName,r=e.children,n=e.attributes,s=e.symbol,l=!0===s?"".concat(t,"-").concat(CA.cssPrefix,"-").concat(a):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:jD(jD({},n),{},{id:l}),children:r}]}]}(w):function(e){var t=e.children,a=e.main,r=e.mask,n=e.attributes,s=e.styles,l=e.transform;if(IA(l)&&a.found&&!r.found){var o={x:a.width/a.height/2,y:.5};n.style=LA(jD(jD({},s),{},{"transform-origin":"".concat(o.x+l.x/16,"em ").concat(o.y+l.y/16,"em")}))}return[{tag:"svg",attributes:n,children:t}]}(w)}function LP(e){var t=e.content,a=e.width,r=e.height,n=e.transform,s=e.title,l=e.extra,o=e.watchable,i=void 0!==o&&o,d=jD(jD(jD({},l.attributes),s?{title:s}:{}),{},{class:l.classes.join(" ")});i&&(d[XD]="");var c=jD({},l.styles);IA(n)&&(c.transform=function(e){var t=e.transform,a=e.width,r=void 0===a?16:a,n=e.height,s=void 0===n?16:n,l=e.startCentered,o=void 0!==l&&l,i="";return i+=o&&VD?"translate(".concat(t.x/TA-r/2,"em, ").concat(t.y/TA-s/2,"em) "):o?"translate(calc(-50% + ".concat(t.x/TA,"em), calc(-50% + ").concat(t.y/TA,"em)) "):"translate(".concat(t.x/TA,"em, ").concat(t.y/TA,"em) "),(i+="scale(".concat(t.size/TA*(t.flipX?-1:1),", ").concat(t.size/TA*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:n,startCentered:!0,width:a,height:r}),c["-webkit-transform"]=c.transform);var u=LA(c);u.length>0&&(d.style=u);var m=[];return m.push({tag:"span",attributes:d,children:[t]}),s&&m.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),m}var IP=UA.styles;function FP(e){var t=e[0],a=e[1],r=kD(e.slice(4),1)[0];return{found:!0,width:t,height:a,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(CA.cssPrefix,"-").concat(bA)},children:[{tag:"path",attributes:{class:"".concat(CA.cssPrefix,"-").concat(wA),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(CA.cssPrefix,"-").concat(yA),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var RP={found:!1,width:512,height:512};function $P(e,t){var a=t;return"fa"===t&&null!==CA.styleDefault&&(t=xP()),new Promise((function(r,n){if(CP("missingIconAbstract"),"fa"===a){var s=pP(e)||{};e=s.iconName||e,t=s.prefix||t}if(e&&t&&IP[t]&&IP[t][e])return r(FP(IP[t][e]));!function(e,t){aA||CA.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(jD(jD({},RP),{},{icon:CA.showMissingIcons&&e&&CP("missingIconAbstract")||{}}))}))}var BP=function(){},zP=CA.measurePerformance&&BD&&BD.mark&&BD.measure?BD:{mark:BP,measure:BP},UP='FA "6.5.2"',HP=function(e){zP.mark("".concat(UP," ").concat(e," ends")),zP.measure("".concat(UP," ").concat(e),"".concat(UP," ").concat(e," begins"),"".concat(UP," ").concat(e," ends"))},WP=function(e){return zP.mark("".concat(UP," ").concat(e," begins")),function(){return HP(e)}},YP=function(){};function qP(e){return"string"==typeof(e.getAttribute?e.getAttribute(XD):null)}function VP(e){return RD.createElementNS("http://www.w3.org/2000/svg",e)}function GP(e){return RD.createElement(e)}function KP(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,a=void 0===t?"svg"===e.tag?VP:GP:t;if("string"==typeof e)return RD.createTextNode(e);var r=a(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(KP(e,{ceFn:a}))})),r}var XP={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(KP(e),t)})),null===t.getAttribute(XD)&&CA.keepOriginalSource){var a=RD.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(a,t)}else t.remove()},nest:function(e){var t=e[0],a=e[1];if(~PA(t).indexOf(CA.replacementClass))return XP.replace(e);var r=new RegExp("".concat(CA.cssPrefix,"-.*"));if(delete a[0].attributes.id,a[0].attributes.class){var n=a[0].attributes.class.split(" ").reduce((function(e,t){return t===CA.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});a[0].attributes.class=n.toSvg.join(" "),0===n.toNode.length?t.removeAttribute("class"):t.setAttribute("class",n.toNode.join(" "))}var s=a.map((function(e){return YA(e)})).join("\n");t.setAttribute(XD,""),t.innerHTML=s}};function QP(e){e()}function JP(e,t){var a="function"==typeof t?t:YP;if(0===e.length)a();else{var r=QP;"async"===CA.mutateApproach&&(r=FD.requestAnimationFrame||QP),r((function(){var t=!0===CA.autoReplaceSvg?XP.replace:XP[CA.autoReplaceSvg]||XP.replace,r=WP("mutate");e.map(t),r(),a()}))}}var ZP=!1;function eM(){ZP=!0}function tM(){ZP=!1}var aM=null;function rM(e){if($D&&CA.observeMutations){var t=e.treeCallback,a=void 0===t?YP:t,r=e.nodeCallback,n=void 0===r?YP:r,s=e.pseudoElementsCallback,l=void 0===s?YP:s,o=e.observeMutationsRoot,i=void 0===o?RD:o;aM=new $D((function(e){if(!ZP){var t=xP();AA(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!qP(e.addedNodes[0])&&(CA.searchPseudoElements&&l(e.target),a(e.target)),"attributes"===e.type&&e.target.parentNode&&CA.searchPseudoElements&&l(e.target.parentNode),"attributes"===e.type&&qP(e.target)&&~gA.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(JD):null,a=e.getAttribute?e.getAttribute(ZD):null;return t&&a}(e.target)){var r=vP(PA(e.target)),s=r.prefix,o=r.iconName;e.target.setAttribute(JD,s||t),o&&e.target.setAttribute(ZD,o)}else(i=e.target)&&i.classList&&i.classList.contains&&i.classList.contains(CA.replacementClass)&&n(e.target);var i}))}})),qD&&aM.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function nM(e){var t,a,r=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),s=void 0!==e.innerText?e.innerText.trim():"",l=vP(PA(e));return l.prefix||(l.prefix=xP()),r&&n&&(l.prefix=r,l.iconName=n),l.iconName&&l.prefix||(l.prefix&&s.length>0&&(l.iconName=(t=l.prefix,a=e.innerText,(sP[t]||{})[a]||hP(l.prefix,QA(e.innerText)))),!l.iconName&&CA.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(l.iconName=e.firstChild.data)),l}function sM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},a=nM(e),r=a.iconName,n=a.prefix,s=a.rest,l=function(e){var t=AA(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),a=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return CA.autoA11y&&(a?t["aria-labelledby"]="".concat(CA.replacementClass,"-title-").concat(r||DA()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),o=SP("parseNodeAttributes",{},e),i=t.styleParser?function(e){var t=e.getAttribute("style"),a=[];return t&&(a=t.split(";").reduce((function(e,t){var a=t.split(":"),r=a[0],n=a.slice(1);return r&&n.length>0&&(e[r]=n.join(":").trim()),e}),{})),a}(e):[];return jD({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:n,transform:OA,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:i,attributes:l}},o)}var lM=UA.styles;function oM(e){var t="nest"===CA.autoReplaceSvg?sM(e,{styleParser:!1}):sM(e);return~t.extra.classes.indexOf(mA)?CP("generateLayersText",e,t):CP("generateSvgReplacementMutation",e,t)}var iM=new Set;function dM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!qD)return Promise.resolve();var a=RD.documentElement.classList,r=function(e){return a.add("".concat(eA,"-").concat(e))},n=function(e){return a.remove("".concat(eA,"-").concat(e))},s=CA.autoFetchSvg?iM:sA.map((function(e){return"fa-".concat(e)})).concat(Object.keys(lM));s.includes("fa")||s.push("fa");var l=[".".concat(mA,":not([").concat(XD,"])")].concat(s.map((function(e){return".".concat(e,":not([").concat(XD,"])")}))).join(", ");if(0===l.length)return Promise.resolve();var o=[];try{o=AA(e.querySelectorAll(l))}catch(mMe){}if(!(o.length>0))return Promise.resolve();r("pending"),n("complete");var i=WP("onTree"),d=o.reduce((function(e,t){try{var a=oM(t);a&&e.push(a)}catch(mMe){aA||"MissingIcon"===mMe.name&&console.error(mMe)}return e}),[]);return new Promise((function(e,a){Promise.all(d).then((function(a){JP(a,(function(){r("active"),r("complete"),n("pending"),"function"==typeof t&&t(),i(),e()}))})).catch((function(e){i(),a(e)}))}))}function cM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;oM(e).then((function(e){e&&JP([e],t)}))}sA.map((function(e){iM.add("fa-".concat(e))})),Object.keys(oA[rA]).map(iM.add.bind(iM)),Object.keys(oA[nA]).map(iM.add.bind(iM)),iM=CD(iM);var uM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.transform,r=void 0===a?OA:a,n=t.symbol,s=void 0!==n&&n,l=t.mask,o=void 0===l?null:l,i=t.maskId,d=void 0===i?null:i,c=t.title,u=void 0===c?null:c,m=t.titleId,h=void 0===m?null:m,f=t.classes,p=void 0===f?[]:f,x=t.attributes,g=void 0===x?{}:x,b=t.styles,v=void 0===b?{}:b;if(e){var y=e.prefix,w=e.iconName,j=e.icon;return PP(jD({type:"icon"},e),(function(){return kP("beforeDOMElementCreation",{iconDefinition:e,params:t}),CA.autoA11y&&(u?g["aria-labelledby"]="".concat(CA.replacementClass,"-title-").concat(h||DA()):(g["aria-hidden"]="true",g.focusable="false")),MP({icons:{main:FP(j),mask:o?FP(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:y,iconName:w,transform:jD(jD({},OA),r),symbol:s,title:u,maskId:d,titleId:h,extra:{attributes:g,styles:v,classes:p}})}))}},mM={mixout:function(){return{icon:(e=uM,function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:EP(t||{}),n=a.mask;return n&&(n=(n||{}).icon?n:EP(n||{})),e(r,jD(jD({},a),{},{mask:n}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=dM,e.nodeCallback=cM,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,a=void 0===t?RD:t,r=e.callback;return dM(a,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var a=t.iconName,r=t.title,n=t.titleId,s=t.prefix,l=t.transform,o=t.symbol,i=t.mask,d=t.maskId,c=t.extra;return new Promise((function(t,u){Promise.all([$P(a,s),i.iconName?$P(i.iconName,i.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(i){var u=kD(i,2),m=u[0],h=u[1];t([e,MP({icons:{main:m,mask:h},prefix:s,iconName:a,transform:l,symbol:o,maskId:d,title:r,titleId:n,extra:c,watchable:!0})])})).catch(u)}))},e.generateAbstractIcon=function(e){var t,a=e.children,r=e.attributes,n=e.main,s=e.transform,l=LA(e.styles);return l.length>0&&(r.style=l),IA(s)&&(t=CP("generateAbstractTransformGrouping",{main:n,transform:s,containerWidth:n.width,iconWidth:n.width})),a.push(t||n.icon),{children:a,attributes:r}}}},hM={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.classes,r=void 0===a?[]:a;return PP({type:"layer"},(function(){kP("beforeDOMElementCreation",{assembler:e,params:t});var a=[];return e((function(e){Array.isArray(e)?e.map((function(e){a=a.concat(e.abstract)})):a=a.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(CA.cssPrefix,"-layers")].concat(CD(r)).join(" ")},children:a}]}))}}}},fM={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.title,r=void 0===a?null:a,n=t.classes,s=void 0===n?[]:n,l=t.attributes,o=void 0===l?{}:l,i=t.styles,d=void 0===i?{}:i;return PP({type:"counter",content:e},(function(){return kP("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,a=e.title,r=e.extra,n=jD(jD(jD({},r.attributes),a?{title:a}:{}),{},{class:r.classes.join(" ")}),s=LA(r.styles);s.length>0&&(n.style=s);var l=[];return l.push({tag:"span",attributes:n,children:[t]}),a&&l.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),l}({content:e.toString(),title:r,extra:{attributes:o,styles:d,classes:["".concat(CA.cssPrefix,"-layers-counter")].concat(CD(s))}})}))}}}},pM={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.transform,r=void 0===a?OA:a,n=t.title,s=void 0===n?null:n,l=t.classes,o=void 0===l?[]:l,i=t.attributes,d=void 0===i?{}:i,c=t.styles,u=void 0===c?{}:c;return PP({type:"text",content:e},(function(){return kP("beforeDOMElementCreation",{content:e,params:t}),LP({content:e,transform:jD(jD({},OA),r),title:s,extra:{attributes:d,styles:u,classes:["".concat(CA.cssPrefix,"-layers-text")].concat(CD(o))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var a=t.title,r=t.transform,n=t.extra,s=null,l=null;if(VD){var o=parseInt(getComputedStyle(e).fontSize,10),i=e.getBoundingClientRect();s=i.width/o,l=i.height/o}return CA.autoA11y&&!a&&(n.attributes["aria-hidden"]="true"),Promise.resolve([e,LP({content:e.innerHTML,width:s,height:l,transform:r,title:a,extra:n,watchable:!0})])}}},xM=new RegExp('"',"ug"),gM=[1105920,1112319];function bM(e,t){var a="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,n){if(null!==e.getAttribute(a))return r();var s,l,o,i=AA(e.children).filter((function(e){return e.getAttribute(QD)===t}))[0],d=FD.getComputedStyle(e,t),c=d.getPropertyValue("font-family").match(hA),u=d.getPropertyValue("font-weight"),m=d.getPropertyValue("content");if(i&&!c)return e.removeChild(i),r();if(c&&"none"!==m&&""!==m){var h=d.getPropertyValue("content"),f=~["Sharp"].indexOf(c[2])?nA:rA,p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?iA[f][c[2].toLowerCase()]:fA[f][u],x=function(e){var t,a,r,n,s,l=e.replace(xM,""),o=(a=0,n=(t=l).length,(s=t.charCodeAt(a))>=55296&&s<=56319&&n>a+1&&(r=t.charCodeAt(a+1))>=56320&&r<=57343?1024*(s-55296)+r-56320+65536:s),i=o>=gM[0]&&o<=gM[1],d=2===l.length&&l[0]===l[1];return{value:QA(d?l[0]:l),isSecondary:i||d}}(h),g=x.value,b=x.isSecondary,v=c[0].startsWith("FontAwesome"),y=hP(p,g),w=y;if(v){var j=(l=oP[s=g],o=hP("fas",s),l||(o?{prefix:"fas",iconName:o}:null)||{prefix:null,iconName:null});j.iconName&&j.prefix&&(y=j.iconName,p=j.prefix)}if(!y||b||i&&i.getAttribute(JD)===p&&i.getAttribute(ZD)===w)r();else{e.setAttribute(a,w),i&&e.removeChild(i);var N={iconName:null,title:null,titleId:null,prefix:null,transform:OA,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},_=N.extra;_.attributes[QD]=t,$P(y,p).then((function(n){var s=MP(jD(jD({},N),{},{icons:{main:n,mask:{prefix:null,iconName:null,rest:[]}},prefix:p,iconName:w,extra:_,watchable:!0})),l=RD.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===t?e.insertBefore(l,e.firstChild):e.appendChild(l),l.outerHTML=s.map((function(e){return YA(e)})).join("\n"),e.removeAttribute(a),r()})).catch(n)}}else r()}))}function vM(e){return Promise.all([bM(e,"::before"),bM(e,"::after")])}function yM(e){return!(e.parentNode===document.head||~tA.indexOf(e.tagName.toUpperCase())||e.getAttribute(QD)||e.parentNode&&"svg"===e.parentNode.tagName)}function wM(e){if(qD)return new Promise((function(t,a){var r=AA(e.querySelectorAll("*")).filter(yM).map(vM),n=WP("searchPseudoElements");eM(),Promise.all(r).then((function(){n(),tM(),t()})).catch((function(){n(),tM(),a()}))}))}var jM=!1,NM=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var a=t.toLowerCase().split("-"),r=a[0],n=a.slice(1).join("-");if(r&&"h"===n)return e.flipX=!0,e;if(r&&"v"===n)return e.flipY=!0,e;if(n=parseFloat(n),isNaN(n))return e;switch(r){case"grow":e.size=e.size+n;break;case"shrink":e.size=e.size-n;break;case"left":e.x=e.x-n;break;case"right":e.x=e.x+n;break;case"up":e.y=e.y-n;break;case"down":e.y=e.y+n;break;case"rotate":e.rotate=e.rotate+n}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},_M={x:0,y:0,width:"100%",height:"100%"};function SM(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}!function(e,t){var a=t.mixoutsTo;wP=e,jP={},Object.keys(NP).forEach((function(e){-1===_P.indexOf(e)&&delete NP[e]})),wP.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"==typeof t[e]&&(a[e]=t[e]),"object"===ND(t[e])&&Object.keys(t[e]).forEach((function(r){a[e]||(a[e]={}),a[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){jP[e]||(jP[e]=[]),jP[e].push(r[e])}))}e.provides&&e.provides(NP)}))}([BA,mM,hM,fM,pM,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=wM,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,a=void 0===t?RD:t;CA.searchPseudoElements&&wM(a)}}},{mixout:function(){return{dom:{unwatch:function(){eM(),jM=!0}}}},hooks:function(){return{bootstrap:function(){rM(SP("mutationObserverCallbacks",{}))},noAuto:function(){aM&&aM.disconnect()},watch:function(e){var t=e.observeMutationsRoot;jM?tM():rM(SP("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},{mixout:function(){return{parse:{transform:function(e){return NM(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var a=t.getAttribute("data-fa-transform");return a&&(e.transform=NM(a)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,a=e.transform,r=e.containerWidth,n=e.iconWidth,s={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(32*a.x,", ").concat(32*a.y,") "),o="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),i="rotate(".concat(a.rotate," 0 0)"),d={outer:s,inner:{transform:"".concat(l," ").concat(o," ").concat(i)},path:{transform:"translate(".concat(n/2*-1," -256)")}};return{tag:"g",attributes:jD({},d.outer),children:[{tag:"g",attributes:jD({},d.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:jD(jD({},t.icon.attributes),d.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(e,t){var a=t.getAttribute("data-fa-mask"),r=a?vP(a.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=xP()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,a=e.children,r=e.attributes,n=e.main,s=e.mask,l=e.maskId,o=e.transform,i=n.width,d=n.icon,c=s.width,u=s.icon,m=function(e){var t=e.transform,a=e.containerWidth,r=e.iconWidth,n={transform:"translate(".concat(a/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),l="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:n,inner:{transform:"".concat(s," ").concat(l," ").concat(o)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:o,containerWidth:c,iconWidth:i}),h={tag:"rect",attributes:jD(jD({},_M),{},{fill:"white"})},f=d.children?{children:d.children.map(SM)}:{},p={tag:"g",attributes:jD({},m.inner),children:[SM(jD({tag:d.tag,attributes:jD(jD({},d.attributes),m.path)},f))]},x={tag:"g",attributes:jD({},m.outer),children:[p]},g="mask-".concat(l||DA()),b="clip-".concat(l||DA()),v={tag:"mask",attributes:jD(jD({},_M),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,x]},y={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:(t=u,"g"===t.tag?t.children:[t])},v]};return a.push(y,{tag:"rect",attributes:jD({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(g,")")},_M)}),{children:a,attributes:r}}}},{provides:function(e){var t=!1;FD.matchMedia&&(t=FD.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],a={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:jD(jD({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var n=jD(jD({},r),{},{attributeName:"opacity"}),s={tag:"circle",attributes:jD(jD({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||s.children.push({tag:"animate",attributes:jD(jD({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:jD(jD({},n),{},{values:"1;0;1;1;0;1;"})}),e.push(s),e.push({tag:"path",attributes:jD(jD({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:jD(jD({},n),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:jD(jD({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:jD(jD({},n),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},{hooks:function(){return{parseNodeAttributes:function(e,t){var a=t.getAttribute("data-fa-symbol"),r=null!==a&&(""===a||a);return e.symbol=r,e}}}}],{mixoutsTo:DP});var kM=DP.parse,CM=DP.icon;function EM(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function TM(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?EM(Object(a),!0).forEach((function(t){DM(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):EM(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function OM(e){return(OM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DM(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function AM(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function PM(e){return function(e){if(Array.isArray(e))return MM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return MM(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?MM(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MM(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function LM(e){return function(e){return(e-=0)==e}(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1)}var IM=["style"],FM=!1;try{FM=!0}catch(mMe){}function RM(e){return e&&"object"===OM(e)&&e.prefix&&e.iconName&&e.icon?e:kM.icon?kM.icon(e):null===e?null:e&&"object"===OM(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function $M(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?DM({},e,t):{}}var BM={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},zM=J.forwardRef((function(e,t){var a=TM(TM({},BM),e),r=a.icon,n=a.mask,s=a.symbol,l=a.className,o=a.title,i=a.titleId,d=a.maskId,c=RM(r),u=$M("classes",[].concat(PM(function(e){var t,a=e.beat,r=e.fade,n=e.beatFade,s=e.bounce,l=e.shake,o=e.flash,i=e.spin,d=e.spinPulse,c=e.spinReverse,u=e.pulse,m=e.fixedWidth,h=e.inverse,f=e.border,p=e.listItem,x=e.flip,g=e.size,b=e.rotation,v=e.pull,y=(DM(t={"fa-beat":a,"fa-fade":r,"fa-beat-fade":n,"fa-bounce":s,"fa-shake":l,"fa-flash":o,"fa-spin":i,"fa-spin-reverse":c,"fa-spin-pulse":d,"fa-pulse":u,"fa-fw":m,"fa-inverse":h,"fa-border":f,"fa-li":p,"fa-flip":!0===x,"fa-flip-horizontal":"horizontal"===x||"both"===x,"fa-flip-vertical":"vertical"===x||"both"===x},"fa-".concat(g),null!=g),DM(t,"fa-rotate-".concat(b),null!=b&&0!==b),DM(t,"fa-pull-".concat(v),null!=v),DM(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(y).map((function(e){return y[e]?e:null})).filter((function(e){return e}))}(a)),PM((l||"").split(" ")))),m=$M("transform","string"==typeof a.transform?kM.transform(a.transform):a.transform),h=$M("mask",RM(n)),f=CM(c,TM(TM(TM(TM({},u),m),h),{},{symbol:s,title:o,titleId:i,maskId:d}));if(!f)return function(){var e;!FM&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var p=f.abstract,x={ref:t};return Object.keys(a).forEach((function(e){BM.hasOwnProperty(e)||(x[e]=a[e])})),UM(p[0],x)}));zM.displayName="FontAwesomeIcon",zM.propTypes={beat:lb.bool,border:lb.bool,beatFade:lb.bool,bounce:lb.bool,className:lb.string,fade:lb.bool,flash:lb.bool,mask:lb.oneOfType([lb.object,lb.array,lb.string]),maskId:lb.string,fixedWidth:lb.bool,inverse:lb.bool,flip:lb.oneOf([!0,!1,"horizontal","vertical","both"]),icon:lb.oneOfType([lb.object,lb.array,lb.string]),listItem:lb.bool,pull:lb.oneOf(["right","left"]),pulse:lb.bool,rotation:lb.oneOf([0,90,180,270]),shake:lb.bool,size:lb.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:lb.bool,spinPulse:lb.bool,spinReverse:lb.bool,symbol:lb.oneOfType([lb.bool,lb.string]),title:lb.string,titleId:lb.string,transform:lb.oneOfType([lb.string,lb.object]),swapOpacity:lb.bool};var UM=function e(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof a)return a;var n=(a.children||[]).map((function(a){return e(t,a)})),s=Object.keys(a.attributes||{}).reduce((function(e,t){var r=a.attributes[t];switch(t){case"class":e.attrs.className=r,delete a.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var a,r=t.indexOf(":"),n=LM(t.slice(0,r)),s=t.slice(r+1).trim();return n.startsWith("webkit")?e[(a=n,a.charAt(0).toUpperCase()+a.slice(1))]=s:e[n]=s,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[LM(t)]=r}return e}),{attrs:{}}),l=r.style,o=void 0===l?{}:l,i=AM(r,IM);return s.attrs.style=TM(TM({},s.attrs.style),o),t.apply(void 0,[a.tag,TM(TM({},s.attrs),i)].concat(PM(n)))}.bind(null,J.createElement),HM={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},WM={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},YM={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},qM={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},VM={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},GM={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},KM={prefix:"fas",iconName:"book-open-reader",icon:[512,512,["book-reader"],"f5da","M160 96a96 96 0 1 1 192 0A96 96 0 1 1 160 96zm80 152V512l-48.4-24.2c-20.9-10.4-43.5-17-66.8-19.3l-96-9.6C12.5 457.2 0 443.5 0 427V224c0-17.7 14.3-32 32-32H62.3c63.6 0 125.6 19.6 177.7 56zm32 264V248c52.1-36.4 114.1-56 177.7-56H480c17.7 0 32 14.3 32 32V427c0 16.4-12.5 30.2-28.8 31.8l-96 9.6c-23.2 2.3-45.9 8.9-66.8 19.3L272 512z"]},XM={prefix:"fas",iconName:"circle-user",icon:[512,512,[62142,"user-circle"],"f2bd","M399 384.2C376.9 345.8 335.4 320 288 320H224c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"]},QM={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},JM={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},ZM={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"]},eL={prefix:"fas",iconName:"print",icon:[512,512,[128424,128438,9113],"f02f","M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zM432 248a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]};const tL={loginForm:"_loginForm_rrx30_1",formGroup:"_formGroup_rrx30_59",inputWrapper:"_inputWrapper_rrx30_77",passwordWrapper:"_passwordWrapper_rrx30_79",eyeIcon:"_eyeIcon_rrx30_129",userIcon:"_userIcon_rrx30_141",error:"_error_rrx30_161",loginButton:"_loginButton_rrx30_183",formFooter:"_formFooter_rrx30_247",register:"_register_rrx30_259"},aL=()=>{const[t,a]=Q.useState(""),[r,n]=Q.useState(""),[s,l]=Q.useState({}),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[u,m]=Q.useState(!1),h=sm();return oe.jsxs("div",{className:tL.loginForm,children:[oe.jsx("h2",{children:"Log-In"}),oe.jsx("p",{children:"Enter your details to login to your account"}),oe.jsxs("form",{onSubmit:a=>p(e,null,(function*(){var e;a.preventDefault(),l({}),c(!0);try{const e=yield Uf.post("https://sms.evolvu.in/public/api/login",{user_id:t,password:r,rememberme:u});console.log("responseerror",e.data.success,"and ",e.data.status);const a={};if(!1===e.data.success&&403===e.data.status)return a.onlyAdminAllowError=e.data.message,l(a),console.log("userNotAllowed",a),void console.log("setErros",s.onlyAdminAllowError);if(console.log("the message of the response of the login",e),200!==e.status)return;{localStorage.setItem("authToken",e.data.token);const t={user:e.data.data,settings:e.data.settings};sessionStorage.setItem("sessionData",JSON.stringify(t)),h("/dashboard")}}catch(n){const t={};if(n.response){const a=n.response.status,r=null==(e=n.response.data)?void 0:e.message;404===a?t.email="Invalid username":401===a?t.password="Invalid password":"This password does not use the Bcrypt algorithm."===r?t.password="This password not using Bcrypt encryption.":t.api=r||"An unexpected error occurred. Please try again later."}else t.api="Network error or server is unreachable.";l(t)}finally{c(!1)}})),children:[oe.jsxs("div",{className:tL.formGroup,children:[oe.jsxs("div",{className:tL.inputWrapper,children:[oe.jsx(zM,{icon:YM,className:tL.userIcon}),oe.jsx("input",{type:"text",id:"email",name:"email",value:t,onChange:e=>a(e.target.value),placeholder:"Enter User Id",required:!0})]}),s.email&&oe.jsx("span",{className:tL.error,children:s.email})]}),oe.jsxs("div",{className:tL.formGroup,children:[oe.jsxs("div",{className:tL.passwordWrapper,children:[oe.jsx("input",{type:o?"text":"password",id:"password",name:"password",value:r,onChange:e=>n(e.target.value),placeholder:"Password",required:!0}),oe.jsx(zM,{icon:o?WM:qM,className:tL.eyeIcon,onClick:()=>i(!o)})]}),s.password&&oe.jsx("div",{className:`${tL.error} text-center w-[90%] mx-auto  text-nowrap text-xs`,children:s.password})]}),s.onlyAdminAllowError&&oe.jsx("div",{className:`${tL.error} text-center w-[90%] mx-auto relative -top-4 text-nowrap text-xs`,children:s.onlyAdminAllowError}),s.api&&oe.jsx("span",{className:`${tL.error} text-center relative -left-3  text-nowrap text-xs`,children:s.api}),oe.jsxs("div",{className:"flex items-center ml-3 mb-0.5 ",children:[oe.jsx("input",{type:"checkbox",id:"rememberMe",checked:u,onChange:e=>m(e.target.checked),className:"mr-1"}),oe.jsx("label",{htmlFor:"rememberMe",className:"text-sm font-medium text-gray-900  ",children:"Remember me"})]}),oe.jsx("button",{type:"submit",className:`${tL.loginButton} flex place-items-center justify-center`,disabled:d,children:d?oe.jsx(Mg,{}):"Login"}),oe.jsx("div",{className:`${tL.forgotPassword} w-full flex justify-center items-center mx-auto `,children:oe.jsx("a",{onClick:()=>h("/forgotPassword"),className:"text-blue-600 text-sm font-semibold cursor-pointer border-b-2 border-transparent hover:border-blue-800 hover:text-blue-800 transition duration-200 ease-in-out",children:"I forgot my password?"})}),oe.jsx("div",{className:tL.formFooter})]})]})};function rL(){const e="https://sms.evolvu.in/public",t=sm(),[a,r]=Q.useState(!1),[n,s]=Q.useState({employee_id:"",name:"",class_teacher_of:"",birthday:"",date_of_joining:"",sex:"",religion:"",blood_group:"",address:"",phone:"",email:"",designation:"",academic_qual:[],professional_qual:"",special_sub:"",trained:"",experience:"",aadhar_card_no:"",teacher_image_name:null,class_id:"",section_id:"",isDelete:"N",role_id:""}),[l,o]=Q.useState({}),[i,d]=Q.useState({}),[c,h]=Q.useState(null),f=(new Date).toISOString().split("T")[0],[x,g]=Q.useState(!1);Q.useEffect((()=>{(()=>{p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token is found");console.log("jfdshfoisafhaios");try{const r=null==(t=(yield Uf.get(`${e}/api/editprofile`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).data.user)?void 0:t.get_teacher;console.log("the userupdate profile",r),s({employee_id:r.employee_id||"",name:r.name||"",class_teacher_of:r.class_teacher_of||"",birthday:r.birthday||"",date_of_joining:r.date_of_joining||"",sex:r.sex||"",religion:r.religion||"",blood_group:r.blood_group||"",address:r.address||"",phone:r.phone||"",email:r.email||"",designation:r.designation||"",academic_qual:r.academic_qual?r.academic_qual.split(","):[],professional_qual:r.professional_qual||"",special_sub:r.special_sub||"",trained:r.trained||"",experience:r.experience||"",aadhar_card_no:r.aadhar_card_no||"",teacher_image_name:r.teacher_image_name||null,class_id:r.class_id||"",section_id:r.section_id||"",isDelete:r.isDelete||"N",role_id:r.role_id||""}),r.teacher_image_name&&h(`${r.teacher_image_name}`)}catch(r){hp.error(r.response.data.message),console.error("Error fetching profile data:",r)}}))})()}),[e]);const b=e=>e?/^\d{10}$/.test(e)?null:"Phone number must be 10 digits":"Phone number is required",v=e=>e?/^\d{12}$/.test(e.replace(/\s+/g,""))?null:"Aadhar card number must be 12 digits":"Aadhar card number is required",y=e=>e?/\S+@\S+\.\S+/.test(e)?null:"Email address is invalid":"Email is required",w=e=>e?/^\d+$/.test(e)?null:"Experience must be a whole number":"Experience is required",j=e=>{const{name:t,value:a,checked:r}=e.target;let n=a;"experience"===t?n=n.replace(/[^0-9]/g,""):"aadhar_card_no"===t&&(n=n.replace(/\s+/g,"")),"phone"!==t&&"aadhar_card_no"!==t||(n=n.replace(/[^\d]/g,"")),s("academic_qual"===t?e=>{const t=r?[...e.academic_qual,a]:e.academic_qual.filter((e=>e!==a));return m(u({},e),{academic_qual:t})}:e=>m(u({},e),{[t]:n}));let l={};"phone"===t?l.phone=b(n):"aadhar_card_no"===t?l.aadhar_card_no=v(n):"email"===t?l.email=y(n):"experience"===t&&(l.experience=w(n)),o((e=>u(u({},e),l)))};return oe.jsxs("div",{className:"container mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Staff information"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{t("/Dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"  md:absolute md:right-10  md:top-[10%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500",children:"*"}),"indicates mandatory information"]}),oe.jsx("form",{onSubmit:r=>p(this,null,(function*(){var s;if(r.preventDefault(),x)return;const l=(()=>{const e={};n.name?/^[^\d].*/.test(n.name)||(e.name="Name should not start with a number"):e.name="Name is required",n.birthday||(e.birthday="Date of Birth is required"),n.date_of_joining||(e.date_of_joining="Date of Joining is required"),n.sex||(e.sex="Gender is required"),n.address||(e.address="Address is required");const t=b(n.phone);t&&(e.phone=t);const a=y(n.email);a&&(e.email=a);const r=w(n.experience);r&&(e.experience=r);const s=v(n.aadhar_card_no);return s&&(e.aadhar_card_no=s),n.designation||(e.designation="Designation is required"),n.employee_id||(e.employee_id="Employee ID is required"),0===n.academic_qual.length&&(e.academic_qual="Please select at least one academic qualification"),o(e),e})()||{};if(Object.keys(l).length>0)return o(l),void Object.values(l).forEach((e=>{hp.error(e)}));const i=m(u({},n),{teacher_image_name:a?String(n.teacher_image_name):"",academic_qual:n.academic_qual,experience:String(n.experience)});console.log("the formated data",i);try{g(!0);const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token is found");200===(yield Uf.put(`${e}/api/update_profile`,i,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).status&&(hp.success("User updated successfully!"),setTimeout((()=>{t("/Dashboard")}),3e3))}catch(c){hp.error("An error occurred while updating the teacher."),console.error("Error:",(null==(s=c.response)?void 0:s.data)||c.message),c.response&&c.response.data&&c.response.data.errors?d(c.response.data.errors||{}):hp.error(c.message)}finally{g(!1)}})),className:"  md:mx-5 overflow-x-hidden shadow-md p-2 bg-gray-50",children:x?oe.jsxs("div",{className:" inset-0 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1",children:[oe.jsx("div",{className:" mx-auto      ",children:oe.jsx(Cg,{photoPreview:c,onImageCropped:e=>{r(!0),s((t=>m(u({},t),{teacher_image_name:e})))}})}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"academic_qual",className:"block font-bold  text-xs mb-2",children:["Academic Qualification"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:"flex flex-wrap ",children:["Hsc","DCE","B.A","B.Com","B.Sc","BCS","BCA","B.LIS","BPharm","BE","B.Music n Dance","M.A","MSE","M.Com","M.Sc","MCA","M.LIS","M.Phil","MBA","PGDBM"].map((e=>oe.jsxs("label",{className:"flex items-center mr-4 text-sm font-md",children:[oe.jsx("input",{type:"checkbox",name:"academic_qual",value:e,checked:n.academic_qual.includes(e),onChange:j,className:"mr-2",title:"please check atleast one box to move futher"}),e]},e)))}),l.academic_qual&&oe.jsx("span",{className:"text-red-500 text-xs",children:l.academic_qual})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"address",className:"block font-bold  text-xs mb-2",children:["Address ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:240,id:"address",name:"address",value:n.address,onChange:j,required:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),l.address&&oe.jsx("div",{className:"text-red-500 text-xs",children:l.address})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"name",className:"block font-bold  text-xs mb-2",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:60,id:"name",name:"name",pattern:"^[^\\d].*",title:"Name should not start with a number",required:!0,value:n.name,placeholder:"Name",onChange:j,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),l.name&&oe.jsx("div",{className:"text-red-500 text-xs",children:l.name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"trained",className:"block font-bold  text-xs mb-2",children:["Training Status ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"trained",name:"trained",value:n.trained,onChange:j,required:!0,title:"Please enter Training Status ",className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"})," ",oe.jsx("option",{value:"Trained-PGT",children:"Trained-PGT"}),oe.jsx("option",{value:"Trained-TGT",children:"Trained-TGT"})," ",oe.jsx("option",{value:"Trained-PRT",children:"Trained-PRT"}),oe.jsx("option",{value:"NTT",children:"NTT"}),oe.jsx("option",{value:"ECCE",children:"ECCE"}),oe.jsx("option",{value:"Untrained",children:"Untrained"}),oe.jsx("option",{value:"NA",children:"NA"})]})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"phone",className:"block font-bold  text-xs mb-2",children:["Phone ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex ",children:[oe.jsx("span",{className:" rounded-l-md pt-1 bg-gray-200 text-black font-bold px-2 pointer-events-none ml-1",children:"+91"}),oe.jsx("input",{type:"text",id:"phone",name:"phone",pattern:"\\d{10}",maxLength:"10",title:"Please enter only 10 digit number ",value:n.phone,onChange:j,className:"input-field block w-full border border-gray-300 outline-none  rounded-r-md py-1 px-3 bg-white shadow-inner ",required:!0})," "]}),i.phone&&oe.jsx("span",{className:"error",children:i.phone[0]}),l.phone&&oe.jsx("span",{className:"text-red-500 text-xs",children:l.phone})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"birthday",className:"block font-bold  text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"birthday",max:"2006-12-31",name:"birthday",value:n.birthday,onChange:j,required:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),l.birthday&&oe.jsx("div",{className:"text-red-500 text-xs",children:l.birthday})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"experience",className:"block font-bold  text-xs mb-2",children:["Experience ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",maxLength:2,id:"experience",name:"experience",value:n.experience,onChange:j,required:!0,placeholder:"in year",title:"Only enter digits in year like 1 or 5",className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold  text-xs mb-2",children:"Email"}),oe.jsx("input",{type:"email",maxLength:51,id:"email",name:"email",value:n.email,onChange:j,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),i.email&&oe.jsx("span",{className:"error text-red-500 text-xs",children:i.email[0]}),l.email&&oe.jsx("span",{className:"error text-red-500 text-xs",children:l.email})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Date of Joining ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",max:f,name:"date_of_joining",value:n.date_of_joining,onChange:j,required:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),l.date_of_joining&&oe.jsx("div",{className:"text-red-500 text-xs",children:l.date_of_joining})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"sex",className:"block font-bold  text-xs mb-2",children:["Gender ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"sex",name:"sex",value:n.sex,onChange:j,required:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select Gender"}),oe.jsx("option",{value:"male",children:"Male"}),oe.jsx("option",{value:"female",children:"Female"}),oe.jsx("option",{value:"other",children:"Other"})]}),l.sex&&oe.jsx("div",{className:"text-red-500 text-xs",children:l.sex})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsx("label",{htmlFor:"class_teacher_of",className:"block font-bold  text-xs mb-2",children:"Class teacher of"}),oe.jsx("input",{type:"text",id:"class_teacher_of",readOnly:!0,name:"class_teacher_of",value:n.class_teacher_of,onChange:j,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsx("label",{htmlFor:"designation",className:"block font-bold  text-xs mb-2",children:"Designation"}),oe.jsx("input",{type:"text",maxLength:30,id:"designation",name:"designation",value:n.designation,onChange:j,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),l.designation&&oe.jsx("div",{className:"text-red-500 text-xs",children:l.designation})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"blood_group",className:"block font-bold  text-xs mb-2",children:"Blood Group"}),oe.jsxs("select",{id:"blood_group",name:"blood_group",value:n.blood_group,onChange:j,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"})]})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"aadhar_card_no",className:"block font-bold  text-xs mb-2",children:["Aadhaar Card No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:12,id:"aadhar_card_no",name:"aadhar_card_no",value:n.aadhar_card_no,pattern:"\\d{12}",title:"Aadhaar Card Number must be exactly 12 digits number",onChange:j,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),i.aadhar_card_no&&oe.jsx("span",{className:"text-red-500 text-xs",children:i.aadhar_card_no[0]}),l.aadhar_card_no&&oe.jsx("span",{className:"text-red-500 text-xs",children:l.aadhar_card_no})]}),oe.jsx("div",{children:oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"professional_qual",className:"block font-bold  text-xs mb-2",children:"Professional Qualification"}),oe.jsxs("select",{id:"professional_qual",name:"professional_qual",value:n.professional_qual,onChange:j,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"D.Ed",children:"D.Ed"}),oe.jsx("option",{value:"B.Ed",children:"B.Ed"}),oe.jsx("option",{value:"B.P.Ed",children:"B.P.Ed"}),oe.jsx("option",{value:"M.P.Ed",children:"M.P.Ed"}),oe.jsx("option",{value:"M.Ed",children:"M.Ed"}),oe.jsx("option",{value:"NA",children:"NA"})]})]})}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold  text-xs mb-2",children:"Religion"}),oe.jsxs("select",{id:"religion",name:"religion",value:n.religion,onChange:j,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"})," ",oe.jsx("option",{value:"Hindu",children:"Hindu"}),oe.jsx("option",{value:"Christian",children:"Christian"})," ",oe.jsx("option",{value:"Muslim",children:"Muslim"}),oe.jsx("option",{value:"Sikh",children:"Sikh"}),oe.jsx("option",{value:"Jain",children:"Jain"}),oe.jsx("option",{value:"Buddhist",children:"Buddhist"}),oe.jsx("option",{value:"NA",children:"NA"})]})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"employee_id",className:"block font-bold  text-xs mb-2",children:["Employee ID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:5,id:"employee_id",name:"employee_id",value:n.employee_id,onChange:j,required:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),l.employee_id&&oe.jsx("div",{className:"text-red-500 text-xs",children:l.employee_id})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsx("label",{htmlFor:"special_sub",className:"block font-bold  text-xs mb-2",children:"Special Subject"}),oe.jsx("input",{type:"text",maxLength:30,id:"special_sub",name:"special_sub",value:n.special_sub,placeholder:"Special subject for D.Ed/B.Ed",onChange:j,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"})]})]}),oe.jsxs("div",{className:"col-span-3 space-x-2 md:mr-9 my-2 text-right",children:[oe.jsx("button",{type:"submit",style:{backgroundColor:"#2196F3"},className:" text-white font-bold py-1 border-1 border-blue-500 px-4 rounded",children:"Update"}),oe.jsx("button",{onClick:()=>{t("/Dashboard")},className:" text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})]})]})})]})]})}const nL={loginContainer:"_loginContainer_1pqo0_1",loginContainerChild:"_loginContainerChild_1pqo0_21",notificationButton:"_notificationButton_1pqo0_121"},sL="_notification_omg6o_1",lL="_notificationHeading_omg6o_49",oL="_list_omg6o_71";function iL(){return oe.jsxs("div",{className:`${sL} `,children:[oe.jsx("h6",{className:lL,children:"General Instructions:"}),oe.jsxs("ul",{className:` mb-4 font-medium ${oL}`,children:[oe.jsx("li",{children:'The application can be accessed from the school website by clicking on the "ACEVENTURA LOGIN" menu.'}),oe.jsx("li",{children:"Please login to the application and change your password."}),oe.jsx("li",{children:"If you havent received your user id. Please send an email to supportsacs@aceventura.in with the Name of the student, Class, Division and Roll no."}),oe.jsx("li",{children:'Once you login there are "Help" videos provided in the application to guide you with the use of application.'}),oe.jsx("li",{children:"The application is best viewed on Mozilla Firefox, Google Chrome browser and on any mobile device."}),oe.jsxs("li",{children:["For any change in Student name, Middle Name, Surname, Father name, Mother name, Date of birth, Date of admission, GRN No., Religion, Caste and Category, please send an email to",oe.jsx("br",{}),"nutan@arnoldcentralschool.org"]}),oe.jsxs("li",{children:["For any query related to the application, please send an email to",oe.jsx("br",{}),"supportsacs@aceventura.in"]})]})]})}function dL(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208 208-93.13 208-208S370.87 48 256 48zm97.67 281.1c-24.07-25.21-51.51-38.68-108.58-38.68v37.32a8.32 8.32 0 0 1-14.05 6L146.58 254a8.2 8.2 0 0 1 0-11.94L231 162.29a8.32 8.32 0 0 1 14.05 6v37.32c88.73 0 117.42 55.64 122.87 117.09.73 7.72-8.85 12.05-14.25 6.4z"},child:[]}]})(e)}function cL(e){return Hm({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m490.18 181.4-44.13-44.13a20 20 0 0 0-27-1 30.81 30.81 0 0 1-41.68-1.6 30.81 30.81 0 0 1-1.6-41.67 20 20 0 0 0-1-27L330.6 21.82a19.91 19.91 0 0 0-28.13 0l-70.35 70.34a39.87 39.87 0 0 0-9.57 15.5 7.71 7.71 0 0 1-4.83 4.83 39.78 39.78 0 0 0-15.5 9.58l-180.4 180.4a19.91 19.91 0 0 0 0 28.13L66 374.73a20 20 0 0 0 27 1 30.69 30.69 0 0 1 43.28 43.28 20 20 0 0 0 1 27l44.13 44.13a19.91 19.91 0 0 0 28.13 0l180.4-180.4a39.82 39.82 0 0 0 9.58-15.49 7.69 7.69 0 0 1 4.84-4.84 39.84 39.84 0 0 0 15.49-9.57l70.34-70.35a19.91 19.91 0 0 0-.01-28.09zm-228.37-29.65a16 16 0 0 1-22.63 0l-11.51-11.51a16 16 0 0 1 22.63-22.62l11.51 11.5a16 16 0 0 1 0 22.63zm44 44a16 16 0 0 1-22.62 0l-11-11a16 16 0 1 1 22.63-22.63l11 11a16 16 0 0 1 .01 22.66zm44 44a16 16 0 0 1-22.63 0l-11-11a16 16 0 0 1 22.63-22.62l11 11a16 16 0 0 1 .05 22.67zm44.43 44.54a16 16 0 0 1-22.63 0l-11.44-11.5a16 16 0 1 1 22.68-22.57l11.45 11.49a16 16 0 0 1-.01 22.63z"},child:[]}]})(e)}const uL=()=>{const[e,t]=Q.useState(window.innerWidth<=768),a=sm();return Q.useEffect((()=>{const e=()=>{t(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),oe.jsxs("div",{className:nL.loginContainer,children:[oe.jsxs("div",{className:`${nL.loginContainerChild} bg-none lg:h-5/6 lg:flex lg:justify-start`,children:[oe.jsx(aL,{}),e&&oe.jsxs("button",{className:`${nL.notificationButton}  flex justify-between`,onClick:()=>{a("/notification")},children:[oe.jsx("span",{children:oe.jsx(dL,{fontSize:"1.5em"})})," ","Gerneral Instruction"]})]}),!e&&oe.jsx("div",{className:`${nL.notificationContainer}  flex lg:justify-end lg:w-full lg:h-5/6`,children:oe.jsx(iL,{})})]})},mL={"card-title":"_card-title_19ikz_5","small-desc":"_small-desc_19ikz_21",go_corner:"_go_corner_19ikz_35",go_arrow:"_go_arrow_19ikz_63",card:"_card_19ikz_5",icon:"_icon_19ikz_187"},hL=({title:e,value:t,valuePendingFee:a,spanLabel:r,color:n,icon:s})=>{const l=""===t||null==t||Array.isArray(t)&&0===t.length;return oe.jsxs("div",{className:"w-full bg-white flex items-center justify-around shadow-card h-28 rounded-lg",children:[oe.jsxs("div",{className:"flex items-center justify-between flex-col "+("Fee"===e?"w-[35%] ":"w-1/2"),children:[s&&oe.jsx("div",{className:`${mL.icon} text-6xl text-blue-500`,children:s}),oe.jsx("div",{className:mL["card-title"],style:{fontSize:"12px",fontWeight:"400"},children:e})]}),oe.jsx("div",{className:"w-1 h-10 border-l "}),oe.jsx("div",{className:mL["small-desc"],style:{width:"50%",display:"flex",justifyContent:"Fee"===e?"flex-start":"center",fontWeight:"500"},children:oe.jsxs("div",{className:"flex justify-center items-center gap-x-1   w-full text-center",style:{textAlign:"center"},children:[r&&oe.jsx("div",{className:"text-red-600 text-xs",style:mL.label,children:r}),l?oe.jsx("div",{children:oe.jsx(eh,{className:"animate-spin text-blue-500"})}):"Fee"===e?oe.jsxs("div",{className:"mx-2   -space-y-2 text-[.7em]  ",children:[oe.jsxs("div",{className:"flex justify-between item-center gap-x-2",children:[oe.jsx("span",{className:"text-green-700 font-semibold",children:"Collected:"}),oe.jsx("span",{className:"text-green-600 font-semibold",children:new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)})]}),oe.jsxs("div",{className:"flex justify-between tem-center gap-x-2",children:[oe.jsx("span",{className:"text-red-700 font-semibold",children:"Pending:"}),oe.jsx("span",{className:"text-red-600 font-semibold",children:new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a)})]})]}):oe.jsxs("div",{children:[oe.jsx("div",{className:"Approve Lesson Plans"===e?"text-red-600":"",children:t}),oe.jsx("div",{children:a})]})]})})]})},fL={"scroll-bar":"_scroll-bar_onnyr_1",eventCardContainer:"_eventCardContainer_onnyr_33",header:"_header_onnyr_47",eventsList:"_eventsList_onnyr_63",eventCard:"_eventCard_onnyr_33",date:"_date_onnyr_113",details:"_details_onnyr_133",discription:"_discription_onnyr_193"};var pL=function(){return pL=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},pL.apply(this,arguments)};function xL(e,t,a){if(a||2===arguments.length)for(var r,n=0,s=t.length;n<s;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}function gL(e){var t=Object.create(null);return function(a){return void 0===t[a]&&(t[a]=e(a)),t[a]}}"function"==typeof SuppressedError&&SuppressedError;var bL="-ms-",vL="-moz-",yL="-webkit-",wL="comm",jL="rule",NL="decl",_L="@keyframes",SL=Math.abs,kL=String.fromCharCode,CL=Object.assign;function EL(e){return e.trim()}function TL(e,t){return(e=t.exec(e))?e[0]:e}function OL(e,t,a){return e.replace(t,a)}function DL(e,t,a){return e.indexOf(t,a)}function AL(e,t){return 0|e.charCodeAt(t)}function PL(e,t,a){return e.slice(t,a)}function ML(e){return e.length}function LL(e){return e.length}function IL(e,t){return t.push(e),e}function FL(e,t){return e.filter((function(e){return!TL(e,t)}))}var RL=1,$L=1,BL=0,zL=0,UL=0,HL="";function WL(e,t,a,r,n,s,l,o){return{value:e,root:t,parent:a,type:r,props:n,children:s,line:RL,column:$L,length:l,return:"",siblings:o}}function YL(e,t){return CL(WL("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function qL(e){for(;e.root;)e=YL(e.root,{children:[e]});IL(e,e.siblings)}function VL(){return UL=zL<BL?AL(HL,zL++):0,$L++,10===UL&&($L=1,RL++),UL}function GL(){return AL(HL,zL)}function KL(){return zL}function XL(e,t){return PL(HL,e,t)}function QL(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JL(e){return EL(XL(zL-1,tI(91===e?e+2:40===e?e+1:e)))}function ZL(e){for(;(UL=GL())&&UL<33;)VL();return QL(e)>2||QL(UL)>3?"":" "}function eI(e,t){for(;--t&&VL()&&!(UL<48||UL>102||UL>57&&UL<65||UL>70&&UL<97););return XL(e,KL()+(t<6&&32==GL()&&32==VL()))}function tI(e){for(;VL();)switch(UL){case e:return zL;case 34:case 39:34!==e&&39!==e&&tI(UL);break;case 40:41===e&&tI(e);break;case 92:VL()}return zL}function aI(e,t){for(;VL()&&e+UL!==57&&(e+UL!==84||47!==GL()););return"/*"+XL(t,zL-1)+"*"+kL(47===e?e:VL())}function rI(e){for(;!QL(GL());)VL();return XL(e,zL)}function nI(e){return function(e){return HL="",e}(sI("",null,null,null,[""],e=function(e){return RL=$L=1,BL=ML(HL=e),zL=0,[]}(e),0,[0],e))}function sI(e,t,a,r,n,s,l,o,i){for(var d=0,c=0,u=l,m=0,h=0,f=0,p=1,x=1,g=1,b=0,v="",y=n,w=s,j=r,N=v;x;)switch(f=b,b=VL()){case 40:if(108!=f&&58==AL(N,u-1)){-1!=DL(N+=OL(JL(b),"&","&\f"),"&\f",SL(d?o[d-1]:0))&&(g=-1);break}case 34:case 39:case 91:N+=JL(b);break;case 9:case 10:case 13:case 32:N+=ZL(f);break;case 92:N+=eI(KL()-1,7);continue;case 47:switch(GL()){case 42:case 47:IL(oI(aI(VL(),KL()),t,a,i),i);break;default:N+="/"}break;case 123*p:o[d++]=ML(N)*g;case 125*p:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+c:-1==g&&(N=OL(N,/\f/g,"")),h>0&&ML(N)-u&&IL(h>32?iI(N+";",r,a,u-1,i):iI(OL(N," ","")+";",r,a,u-2,i),i);break;case 59:N+=";";default:if(IL(j=lI(N,t,a,d,c,n,o,v,y=[],w=[],u,s),s),123===b)if(0===c)sI(N,t,j,j,y,s,u,o,w);else switch(99===m&&110===AL(N,3)?100:m){case 100:case 108:case 109:case 115:sI(e,j,j,r&&IL(lI(e,j,j,0,0,n,o,v,n,y=[],u,w),w),n,w,u,o,r?y:w);break;default:sI(N,j,j,j,[""],w,0,o,w)}}d=c=h=0,p=g=1,v=N="",u=l;break;case 58:u=1+ML(N),h=f;default:if(p<1)if(123==b)--p;else if(125==b&&0==p++&&125==(UL=zL>0?AL(HL,--zL):0,$L--,10===UL&&($L=1,RL--),UL))continue;switch(N+=kL(b),b*p){case 38:g=c>0?1:(N+="\f",-1);break;case 44:o[d++]=(ML(N)-1)*g,g=1;break;case 64:45===GL()&&(N+=JL(VL())),m=GL(),c=u=ML(v=N+=rI(KL())),b++;break;case 45:45===f&&2==ML(N)&&(p=0)}}return s}function lI(e,t,a,r,n,s,l,o,i,d,c,u){for(var m=n-1,h=0===n?s:[""],f=LL(h),p=0,x=0,g=0;p<r;++p)for(var b=0,v=PL(e,m+1,m=SL(x=l[p])),y=e;b<f;++b)(y=EL(x>0?h[b]+" "+v:OL(v,/&\f/g,h[b])))&&(i[g++]=y);return WL(e,t,a,0===n?jL:o,i,d,c,u)}function oI(e,t,a,r){return WL(e,t,a,wL,kL(UL),PL(e,2,-2),0,r)}function iI(e,t,a,r,n){return WL(e,t,a,NL,PL(e,0,r),PL(e,r+1,-1),r,n)}function dI(e,t,a){switch(function(e,t){return 45^AL(e,0)?(((t<<2^AL(e,0))<<2^AL(e,1))<<2^AL(e,2))<<2^AL(e,3):0}(e,t)){case 5103:return yL+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yL+e+e;case 4789:return vL+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return yL+e+vL+e+bL+e+e;case 5936:switch(AL(e,t+11)){case 114:return yL+e+bL+OL(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return yL+e+bL+OL(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return yL+e+bL+OL(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return yL+e+bL+e+e;case 6165:return yL+e+bL+"flex-"+e+e;case 5187:return yL+e+OL(e,/(\w+).+(:[^]+)/,yL+"box-$1$2"+bL+"flex-$1$2")+e;case 5443:return yL+e+bL+"flex-item-"+OL(e,/flex-|-self/g,"")+(TL(e,/flex-|baseline/)?"":bL+"grid-row-"+OL(e,/flex-|-self/g,""))+e;case 4675:return yL+e+bL+"flex-line-pack"+OL(e,/align-content|flex-|-self/g,"")+e;case 5548:return yL+e+bL+OL(e,"shrink","negative")+e;case 5292:return yL+e+bL+OL(e,"basis","preferred-size")+e;case 6060:return yL+"box-"+OL(e,"-grow","")+yL+e+bL+OL(e,"grow","positive")+e;case 4554:return yL+OL(e,/([^-])(transform)/g,"$1"+yL+"$2")+e;case 6187:return OL(OL(OL(e,/(zoom-|grab)/,yL+"$1"),/(image-set)/,yL+"$1"),e,"")+e;case 5495:case 3959:return OL(e,/(image-set\([^]*)/,yL+"$1$`$1");case 4968:return OL(OL(e,/(.+:)(flex-)?(.*)/,yL+"box-pack:$3"+bL+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yL+e+e;case 4200:if(!TL(e,/flex-|baseline/))return bL+"grid-column-align"+PL(e,t)+e;break;case 2592:case 3360:return bL+OL(e,"template-","")+e;case 4384:case 3616:return a&&a.some((function(e,a){return t=a,TL(e.props,/grid-\w+-end/)}))?~DL(e+(a=a[t].value),"span",0)?e:bL+OL(e,"-start","")+e+bL+"grid-row-span:"+(~DL(a,"span",0)?TL(a,/\d+/):+TL(a,/\d+/)-+TL(e,/\d+/))+";":bL+OL(e,"-start","")+e;case 4896:case 4128:return a&&a.some((function(e){return TL(e.props,/grid-\w+-start/)}))?e:bL+OL(OL(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return OL(e,/(.+)-inline(.+)/,yL+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ML(e)-1-t>6)switch(AL(e,t+1)){case 109:if(45!==AL(e,t+4))break;case 102:return OL(e,/(.+:)(.+)-([^]+)/,"$1"+yL+"$2-$3$1"+vL+(108==AL(e,t+3)?"$3":"$2-$3"))+e;case 115:return~DL(e,"stretch",0)?dI(OL(e,"stretch","fill-available"),t,a)+e:e}break;case 5152:case 5920:return OL(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,a,r,n,s,l,o){return bL+a+":"+r+o+(n?bL+a+"-span:"+(s?l:+l-+r)+o:"")+e}));case 4949:if(121===AL(e,t+6))return OL(e,":",":"+yL)+e;break;case 6444:switch(AL(e,45===AL(e,14)?18:11)){case 120:return OL(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+yL+(45===AL(e,14)?"inline-":"")+"box$3$1"+yL+"$2$3$1"+bL+"$2box$3")+e;case 100:return OL(e,":",":"+bL)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return OL(e,"scroll-","scroll-snap-")+e}return e}function cI(e,t){for(var a="",r=0;r<e.length;r++)a+=t(e[r],r,e,t)||"";return a}function uI(e,t,a,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case NL:return e.return=e.return||e.value;case wL:return"";case _L:return e.return=e.value+"{"+cI(e.children,r)+"}";case jL:if(!ML(e.value=e.props.join(",")))return""}return ML(a=cI(e.children,r))?e.return=e.value+"{"+a+"}":""}function mI(e,t,a,r){if(e.length>-1&&!e.return)switch(e.type){case NL:return void(e.return=dI(e.value,e.length,a));case _L:return cI([YL(e,{value:OL(e.value,"@","@"+yL)})],r);case jL:if(e.length)return function(e,t){return e.map(t).join("")}(a=e.props,(function(t){switch(TL(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":qL(YL(e,{props:[OL(t,/:(read-\w+)/,":-moz-$1")]})),qL(YL(e,{props:[t]})),CL(e,{props:FL(a,r)});break;case"::placeholder":qL(YL(e,{props:[OL(t,/:(plac\w+)/,":"+yL+"input-$1")]})),qL(YL(e,{props:[OL(t,/:(plac\w+)/,":-moz-$1")]})),qL(YL(e,{props:[OL(t,/:(plac\w+)/,bL+"input-$1")]})),qL(YL(e,{props:[t]})),CL(e,{props:FL(a,r)})}return""}))}}var hI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fI={},pI="undefined"!=typeof process&&void 0!==fI&&(fI.REACT_APP_SC_ATTR||fI.SC_ATTR)||"data-styled",xI="active",gI="data-styled-version",bI="6.1.12",vI="/*!sc*/\n",yI="undefined"!=typeof window&&"HTMLElement"in window,wI=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==fI&&void 0!==fI.REACT_APP_SC_DISABLE_SPEEDY&&""!==fI.REACT_APP_SC_DISABLE_SPEEDY?"false"!==fI.REACT_APP_SC_DISABLE_SPEEDY&&fI.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==fI&&void 0!==fI.SC_DISABLE_SPEEDY&&""!==fI.SC_DISABLE_SPEEDY&&"false"!==fI.SC_DISABLE_SPEEDY&&fI.SC_DISABLE_SPEEDY),jI=Object.freeze([]),NI=Object.freeze({}),_I=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),SI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kI=/(^-|-$)/g;function CI(e){return e.replace(SI,"-").replace(kI,"")}var EI=/(a)(d)/gi,TI=function(e){return String.fromCharCode(e+(e>25?39:97))};function OI(e){var t,a="";for(t=Math.abs(e);t>52;t=t/52|0)a=TI(t%52)+a;return(TI(t%52)+a).replace(EI,"$1-$2")}var DI,AI=function(e,t){for(var a=t.length;a;)e=33*e^t.charCodeAt(--a);return e},PI=function(e){return AI(5381,e)};function MI(e){return OI(PI(e)>>>0)}function LI(e){return"string"==typeof e&&!0}var II="function"==typeof Symbol&&Symbol.for,FI=II?Symbol.for("react.memo"):60115,RI=II?Symbol.for("react.forward_ref"):60112,$I={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},BI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},zI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},UI=((DI={})[RI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DI[FI]=zI,DI);function HI(e){return("type"in(t=e)&&t.type.$$typeof)===FI?zI:"$$typeof"in e?UI[e.$$typeof]:$I;var t}var WI=Object.defineProperty,YI=Object.getOwnPropertyNames,qI=Object.getOwnPropertySymbols,VI=Object.getOwnPropertyDescriptor,GI=Object.getPrototypeOf,KI=Object.prototype;function XI(e,t,a){if("string"!=typeof t){if(KI){var r=GI(t);r&&r!==KI&&XI(e,r,a)}var n=YI(t);qI&&(n=n.concat(qI(t)));for(var s=HI(e),l=HI(t),o=0;o<n.length;++o){var i=n[o];if(!(i in BI||a&&a[i]||l&&i in l||s&&i in s)){var d=VI(t,i);try{WI(e,i,d)}catch(mMe){}}}}return e}function QI(e){return"function"==typeof e}function JI(e){return"object"==typeof e&&"styledComponentId"in e}function ZI(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function eF(e,t){if(0===e.length)return"";for(var a=e[0],r=1;r<e.length;r++)a+=e[r];return a}function tF(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function aF(e,t,a){if(void 0===a&&(a=!1),!a&&!tF(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=aF(e[r],t[r]);else if(tF(t))for(var r in t)e[r]=aF(e[r],t[r]);return e}function rF(e,t){Object.defineProperty(e,"toString",{value:t})}function nF(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var sF=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,a=0;a<e;a++)t+=this.groupSizes[a];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var a=this.groupSizes,r=a.length,n=r;e>=n;)if((n<<=1)<0)throw nF(16,"".concat(e));this.groupSizes=new Uint32Array(n),this.groupSizes.set(a),this.length=n;for(var s=r;s<n;s++)this.groupSizes[s]=0}for(var l=this.indexOfGroup(e+1),o=(s=0,t.length);s<o;s++)this.tag.insertRule(l,t[s])&&(this.groupSizes[e]++,l++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],a=this.indexOfGroup(e),r=a+t;this.groupSizes[e]=0;for(var n=a;n<r;n++)this.tag.deleteRule(a)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var a=this.groupSizes[e],r=this.indexOfGroup(e),n=r+a,s=r;s<n;s++)t+="".concat(this.tag.getRule(s)).concat(vI);return t},e}(),lF=new Map,oF=new Map,iF=1,dF=function(e){if(lF.has(e))return lF.get(e);for(;oF.has(iF);)iF++;var t=iF++;return lF.set(e,t),oF.set(t,e),t},cF=function(e,t){iF=t+1,lF.set(e,t),oF.set(t,e)},uF="style[".concat(pI,"][").concat(gI,'="').concat(bI,'"]'),mF=new RegExp("^".concat(pI,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),hF=function(e,t,a){for(var r,n=a.split(","),s=0,l=n.length;s<l;s++)(r=n[s])&&e.registerName(t,r)},fF=function(e,t){for(var a,r=(null!==(a=t.textContent)&&void 0!==a?a:"").split(vI),n=[],s=0,l=r.length;s<l;s++){var o=r[s].trim();if(o){var i=o.match(mF);if(i){var d=0|parseInt(i[1],10),c=i[2];0!==d&&(cF(c,d),hF(e,c,i[3]),e.getTag().insertRules(d,n)),n.length=0}else n.push(o)}}},pF=function(e){for(var t=document.querySelectorAll(uF),a=0,r=t.length;a<r;a++){var n=t[a];n&&n.getAttribute(pI)!==xI&&(fF(e,n),n.parentNode&&n.parentNode.removeChild(n))}},xF=function(e){var t,a,r=document.head,n=e||r,s=document.createElement("style"),l=(t=n,(a=Array.from(t.querySelectorAll("style[".concat(pI,"]"))))[a.length-1]),o=void 0!==l?l.nextSibling:null;s.setAttribute(pI,xI),s.setAttribute(gI,bI);var i="undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null;return i&&s.setAttribute("nonce",i),n.insertBefore(s,o),s},gF=function(){function e(e){this.element=xF(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,a=0,r=t.length;a<r;a++){var n=t[a];if(n.ownerNode===e)return n}throw nF(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(a){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),bF=function(){function e(e){this.element=xF(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var a=document.createTextNode(t);return this.element.insertBefore(a,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),vF=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),yF=yI,wF={isServer:!yI,useCSSOMInjection:!wI},jF=function(){function e(e,t,a){void 0===e&&(e=NI),void 0===t&&(t={});var r=this;this.options=pL(pL({},wF),e),this.gs=t,this.names=new Map(a),this.server=!!e.isServer,!this.server&&yI&&yF&&(yF=!1,pF(this)),rF(this,(function(){return function(e){for(var t=e.getTag(),a=t.length,r="",n=function(a){var n,s=(n=a,oF.get(n));if(void 0===s)return"continue";var l=e.names.get(s),o=t.getGroup(a);if(void 0===l||!l.size||0===o.length)return"continue";var i="".concat(pI,".g").concat(a,'[id="').concat(s,'"]'),d="";void 0!==l&&l.forEach((function(e){e.length>0&&(d+="".concat(e,","))})),r+="".concat(o).concat(i,'{content:"').concat(d,'"}').concat(vI)},s=0;s<a;s++)n(s);return r}(r)}))}return e.registerId=function(e){return dF(e)},e.prototype.rehydrate=function(){!this.server&&yI&&pF(this)},e.prototype.reconstructWithOptions=function(t,a){return void 0===a&&(a=!0),new e(pL(pL({},this.options),t),this.gs,a&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=this.options,t=e.useCSSOMInjection,a=e.target,r=e.isServer?new vF(a):t?new gF(a):new bF(a),new sF(r)));var e,t,a,r},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(dF(e),this.names.has(e))this.names.get(e).add(t);else{var a=new Set;a.add(t),this.names.set(e,a)}},e.prototype.insertRules=function(e,t,a){this.registerName(e,t),this.getTag().insertRules(dF(e),a)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(dF(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),NF=/&/g,_F=/^\s*\/\/.*$/gm;function SF(e,t){return e.map((function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map((function(e){return"".concat(t," ").concat(e)}))),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=SF(e.children,t)),e}))}var kF=new jF,CF=function(){var e,t,a,r=NI,n=r.options,s=void 0===n?NI:n,l=r.plugins,o=void 0===l?jI:l,i=function(a,r,n){return n.startsWith(t)&&n.endsWith(t)&&n.replaceAll(t,"").length>0?".".concat(e):a},d=o.slice();d.push((function(e){e.type===jL&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(NF,t).replace(a,i))})),s.prefix&&d.push(mI),d.push(uI);var c=function(r,n,l,o){void 0===n&&(n=""),void 0===l&&(l=""),void 0===o&&(o="&"),e=o,t=n,a=new RegExp("\\".concat(t,"\\b"),"g");var i=r.replace(_F,""),c=nI(l||n?"".concat(l," ").concat(n," { ").concat(i," }"):i);s.namespace&&(c=SF(c,s.namespace));var u,m,h,f=[];return cI(c,(u=d.concat((h=function(e){return f.push(e)},function(e){e.root||(e=e.return)&&h(e)})),m=LL(u),function(e,t,a,r){for(var n="",s=0;s<m;s++)n+=u[s](e,t,a,r)||"";return n})),f};return c.hash=o.length?o.reduce((function(e,t){return t.name||nF(15),AI(e,t.name)}),5381).toString():"",c}(),EF=J.createContext({shouldForwardProp:void 0,styleSheet:kF,stylis:CF});function TF(){return Q.useContext(EF)}EF.Consumer,J.createContext(void 0);var OF=function(){function e(e,t){var a=this;this.inject=function(e,t){void 0===t&&(t=CF);var r=a.name+t.hash;e.hasNameForId(a.id,r)||e.insertRules(a.id,r,t(a.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,rF(this,(function(){throw nF(12,String(a.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=CF),this.name+e.hash},e}(),DF=function(e){return e>="A"&&e<="Z"};function AF(e){for(var t="",a=0;a<e.length;a++){var r=e[a];if(1===a&&"-"===r&&"-"===e[0])return e;DF(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var PF=function(e){return null==e||!1===e||""===e},MF=function(e){var t,a,r=[];for(var n in e){var s=e[n];e.hasOwnProperty(n)&&!PF(s)&&(Array.isArray(s)&&s.isCss||QI(s)?r.push("".concat(AF(n),":"),s,";"):tF(s)?r.push.apply(r,xL(xL(["".concat(n," {")],MF(s),!1),["}"],!1)):r.push("".concat(AF(n),": ").concat((t=n,null==(a=s)||"boolean"==typeof a||""===a?"":"number"!=typeof a||0===a||t in hI||t.startsWith("--")?String(a).trim():"".concat(a,"px")),";")))}return r};function LF(e,t,a,r){return PF(e)?[]:JI(e)?[".".concat(e.styledComponentId)]:QI(e)?!QI(n=e)||n.prototype&&n.prototype.isReactComponent||!t?[e]:LF(e(t),t,a,r):e instanceof OF?a?(e.inject(a,r),[e.getName(r)]):[e]:tF(e)?MF(e):Array.isArray(e)?Array.prototype.concat.apply(jI,e.map((function(e){return LF(e,t,a,r)}))):[e.toString()];var n}var IF=PI(bI),FF=function(){function e(e,t,a){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===a||a.isStatic)&&function(e){for(var t=0;t<e.length;t+=1){var a=e[t];if(QI(a)&&!JI(a))return!1}return!0}(e),this.componentId=t,this.baseHash=AI(IF,t),this.baseStyle=a,jF.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,a){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=ZI(r,this.staticRulesId);else{var n=eF(LF(this.rules,e,t,a)),s=OI(AI(this.baseHash,n)>>>0);if(!t.hasNameForId(this.componentId,s)){var l=a(n,".".concat(s),void 0,this.componentId);t.insertRules(this.componentId,s,l)}r=ZI(r,s),this.staticRulesId=s}else{for(var o=AI(this.baseHash,a.hash),i="",d=0;d<this.rules.length;d++){var c=this.rules[d];if("string"==typeof c)i+=c;else if(c){var u=eF(LF(c,e,t,a));o=AI(o,u+d),i+=u}}if(i){var m=OI(o>>>0);t.hasNameForId(this.componentId,m)||t.insertRules(this.componentId,m,a(i,".".concat(m),void 0,this.componentId)),r=ZI(r,m)}}return r},e}(),RF=J.createContext(void 0);RF.Consumer;var $F={};function BF(e,t,a){var r,n=JI(e),s=e,l=!LI(e),o=t.attrs,i=void 0===o?jI:o,d=t.componentId,c=void 0===d?function(e,t){var a="string"!=typeof e?"sc":CI(e);$F[a]=($F[a]||0)+1;var r="".concat(a,"-").concat(MI(bI+a+$F[a]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):d,u=t.displayName,m=void 0===u?LI(r=e)?"styled.".concat(r):"Styled(".concat(function(e){return e.displayName||e.name||"Component"}(r),")"):u,h=t.displayName&&t.componentId?"".concat(CI(t.displayName),"-").concat(t.componentId):t.componentId||c,f=n&&s.attrs?s.attrs.concat(i).filter(Boolean):i,p=t.shouldForwardProp;if(n&&s.shouldForwardProp){var x=s.shouldForwardProp;if(t.shouldForwardProp){var g=t.shouldForwardProp;p=function(e,t){return x(e,t)&&g(e,t)}}else p=x}var b=new FF(a,h,n?s.componentStyle:void 0);function v(e,t){return function(e,t,a){var r=e.attrs,n=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,o=e.styledComponentId,i=e.target,d=J.useContext(RF),c=TF(),u=e.shouldForwardProp||c.shouldForwardProp,m=function(e,t,a){return void 0===a&&(a=NI),e.theme!==a.theme&&e.theme||t||a.theme}(t,d,s)||NI,h=function(e,t,a){for(var r,n=pL(pL({},t),{className:void 0,theme:a}),s=0;s<e.length;s+=1){var l=QI(r=e[s])?r(n):r;for(var o in l)n[o]="className"===o?ZI(n[o],l[o]):"style"===o?pL(pL({},n[o]),l[o]):l[o]}return t.className&&(n.className=ZI(n.className,t.className)),n}(r,t,m),f=h.as||i,p={};for(var x in h)void 0===h[x]||"$"===x[0]||"as"===x||"theme"===x&&h.theme===m||("forwardedAs"===x?p.as=h.forwardedAs:u&&!u(x,f)||(p[x]=h[x]));var g,b,v,y=(g=n,b=h,v=TF(),g.generateAndInjectStyles(b,v.styleSheet,v.stylis)),w=ZI(l,o);return y&&(w+=" "+y),h.className&&(w+=" "+h.className),p[LI(f)&&!_I.has(f)?"class":"className"]=w,p.ref=a,Q.createElement(f,p)}(y,e,t)}v.displayName=m;var y=J.forwardRef(v);return y.attrs=f,y.componentStyle=b,y.displayName=m,y.shouldForwardProp=p,y.foldedComponentIds=n?ZI(s.foldedComponentIds,s.styledComponentId):"",y.styledComponentId=h,y.target=n?s.target:e,Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=n?function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];for(var r=0,n=t;r<n.length;r++)aF(e,n[r],!0);return e}({},s.defaultProps,e):e}}),rF(y,(function(){return".".concat(y.styledComponentId)})),l&&XI(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),y}function zF(e,t){for(var a=[e[0]],r=0,n=t.length;r<n;r+=1)a.push(t[r],e[r+1]);return a}var UF=function(e){return Object.assign(e,{isCss:!0})};function HF(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(QI(e)||tF(e))return UF(LF(zF(jI,xL([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?LF(r):UF(LF(zF(r,t)))}function WF(e,t,a){if(void 0===a&&(a=NI),!t)throw nF(1,t);var r=function(r){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];return e(t,a,HF.apply(void 0,xL([r],n,!1)))};return r.attrs=function(r){return WF(e,t,pL(pL({},a),{attrs:Array.prototype.concat(a.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return WF(e,t,pL(pL({},a),r))},r}var YF=function(e){return WF(BF,e)},qF=YF;function VF(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];var r=eF(HF.apply(void 0,xL([e],t,!1))),n=MI(r);return new OF(n,r)}_I.forEach((function(e){qF[e]=YF(e)}));const GF={"aria-busy":!0,role:"progressbar"},KF=qF.div`
  display: ${e=>e.$visible?"flex":"none"};
`,XF=242.776657104492,QF=VF`
12.5% {
  stroke-dasharray: ${33.98873199462888}px, ${XF}px;
  stroke-dashoffset: -${26.70543228149412}px;
}
43.75% {
  stroke-dasharray: ${84.97182998657219}px, ${XF}px;
  stroke-dashoffset: -${84.97182998657219}px;
}
100% {
  stroke-dasharray: ${2.42776657104492}px, ${XF}px;
  stroke-dashoffset: -${240.34889053344708}px;
}
`;qF.path`
  stroke-dasharray: ${2.42776657104492}px, ${XF};
  stroke-dashoffset: 0;
  animation: ${QF} ${1.6}s linear infinite;
`;const JF=VF`
to {
   transform: rotate(360deg);
 }
`;qF.svg`
  animation: ${JF} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`,qF.polyline`
  stroke-width: ${e=>e.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const ZF=({wrapperStyle:e={},visible:t=!0,wrapperClass:a="",height:r=100,width:n=100,color:s="#4fa94d",ariaLabel:l="three-circles-loading",outerCircleColor:o,innerCircleColor:i,middleCircleColor:d})=>oe.jsx(KF,m(u({style:e,$visible:t,className:a,"data-testid":"three-circles-wrapper","aria-label":l},GF),{children:oe.jsxs("svg",{version:"1.1",height:`${r}`,width:`${n}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",enableBackground:"new 0 0 100 100",xmlSpace:"preserve","data-testid":"three-circles-svg",children:[oe.jsx("path",{fill:o||s,d:"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3 c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z",children:oe.jsx("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})}),oe.jsx("path",{fill:d||s,d:"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7 c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z",children:oe.jsx("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"-360 50 50",repeatCount:"indefinite"})}),oe.jsx("path",{fill:i||s,d:"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5 L82,35.7z",children:oe.jsx("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})})]})})),eR=VF`
to {
   stroke-dashoffset: 136;
 }
`;qF.polygon`
  stroke-dasharray: 17;
  animation: ${eR} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`,qF.svg`
  transform-origin: 50% 65%;
`;const tR=()=>oe.jsx("div",{className:"flex justify-center items-center h-full",children:oe.jsx(ZF,{visible:!0,height:"50",width:"50",innerCircleColor:"#974F9D",outerCircleColor:"#C03078",middleCircleColor:"#2392EE",ariaLabel:"three-circles-loading",wrapperStyle:{},wrapperClass:""})}),aR=()=>{const[t,a]=Q.useState([]),[r,n]=Q.useState((new Date).getMonth()),s=(new Date).getFullYear(),[l,o]=Q.useState(null),[i,d]=Q.useState(!1),c=sm(),u=()=>p(e,null,(function*(){var e,t;d(!0);try{const e=localStorage.getItem("authToken");if(console.log("token is",e),!e)return void c("/");const t=yield Uf.get("https://sms.evolvu.in/public/api/events",{params:{month:r+1,year:s},headers:{Authorization:`Bearer ${e}`}});a(null==t?void 0:t.data),console.log("responseData of Events",null==t?void 0:t.data)}catch(n){if(o(n.message),"Token has expired"===(null==(t=null==(e=n.response)?void 0:e.data)?void 0:t.message))return localStorage.removeItem("authToken"),void c("/");console.error("Error fetching events:",n)}finally{d(!1)}}));Q.useEffect((()=>{u()}),[r]),Q.useEffect((()=>{u()}),[]);const m=t.filter((e=>new Date(e.start_date).getMonth()===r));return console.log("filteredEvents",m),oe.jsxs("div",{className:"  border-2 border-solid h-64 bg-slate-100",children:[oe.jsxs("div",{className:"  m-auto header p-1 flex justify-between items-center bg-gray-200 rounded-t-lg mb-3",children:[oe.jsx("span",{className:"lg:text-lg sm:text-xs sm:font-semibold text-gray-500 mb-1",children:"Events List"}),oe.jsx("select",{value:r,onChange:e=>{n(parseInt(e.target.value,10))},className:"   text-sm text-gray-700 font-semibold hover:cursor-pointer bg-gray-50 mb-1 border border-gray-400",children:[{value:0,label:"January"},{value:1,label:"February"},{value:2,label:"March"},{value:3,label:"April"},{value:4,label:"May"},{value:5,label:"June"},{value:6,label:"July"},{value:7,label:"August"},{value:8,label:"September"},{value:9,label:"October"},{value:10,label:"November"},{value:11,label:"December"}].map((e=>oe.jsxs("option",{value:e.value,children:[e.label," ",s]},e.value)))})]}),i?oe.jsx("p",{className:"text-center relative top-[16%]  w-10 mt-10 mx-auto  ",children:oe.jsx(tR,{})}):oe.jsx("div",{className:`${fL.eventsList} rounded-lg pb-20 sm:pb-20  bg-gray-100 px-2`,children:m.length?m.map(((e,t)=>oe.jsxs("div",{className:`${fL.eventCard}  rounded-lg `,children:[oe.jsx("div",{className:" h-full box-border  max-w-3/4 px-2  bg-gray-500   text-cyan-900 text-lg rounded-l-lg      ",style:{background:"#00FFFF",color:"#C3347D"},children:oe.jsxs("div",{className:" box-border w-full text-center  text-cyan-900 text-lg rounded-l-lg  flex flex-col items-center justify-between     ",children:[" ",oe.jsxs("span",{className:"    flex flex-col justify-start max-h-10px",children:[oe.jsx("p",{className:" relative top-4 text-2.5em w-8 mx-auto font-medium text-center h-8 bg-gray-600 text-white rounded-lg",children:e.start_date.split("-")[2]||""}),oe.jsx("p",{children:new Date(e.start_date).toLocaleString("default",{month:"long"})||" "}),oe.jsx("p",{children:oe.jsx("span",{style:{color:"#C3347D"},className:" relative bottom-4 text-[.8em]",children:(null==e?void 0:e.start_time)||" "})})]})]})}),oe.jsxs("div",{className:fL.details,children:[oe.jsxs("h5",{className:"sm:text-xs",style:{fontWeight:"550",color:"#00FFFF"},children:[e.title," ",oe.jsx("span",{style:{color:"#C334A2"},children:` (class-${null==e?void 0:e.class_name})`})]}),oe.jsxs("div",{className:"mb-3",children:[oe.jsx("div",{className:`${null==fL?void 0:fL.discription} box-border shadow-inner mb-0 p-2 text-sm sm:mb-1 mt-0 text-gray-800`,style:{maxHeight:"80px",overflowY:"auto",padding:"8px",backgroundColor:"#f9f9f9"},children:null==e?void 0:e.event_desc}),oe.jsx("p",{style:{fontSize:".9em",color:"gray",marginTop:"2px",marginLeft:"5px",marginBottom:"-10px"},children:`The event will conclude on ${new Date(e.end_date).getDate()} ${new Date(e.end_date).toLocaleString("default",{month:"long"})} at ${null==e?void 0:e.end_time}`})]})]})]},t))):oe.jsx("div",{className:"relative left-[1%] w-[100%] text-center flex justify-center items-center mt-10",children:oe.jsxs("div",{className:"flex flex-col items-center justify-center text-center ",children:[oe.jsxs("p",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-600 via-red-400 to-pink-500 drop-shadow-md mb-3",children:["Oops!"," "]}),oe.jsx("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:"No data available."})]})})})]})},rR=({title:e,TotalValue:t,presentValue:a,color:r,icon:n})=>{console.log("this is presentValue=",a),console.log("this is totalValue=",t);const s=!(a||t);return oe.jsxs("div",{className:"w-full rounded-lg bg-white flex items-center justify-around shadow-card h-28",children:[oe.jsxs("div",{className:"flex items-center justify-between flex-col w-1/2",children:[n&&oe.jsx("div",{className:`${mL.icon} text-6xl text-blue-500`,children:n}),oe.jsx("div",{className:mL["card-title"],style:{fontSize:"12px",fontWeight:"400"},children:e})]}),oe.jsx("div",{className:"w-1 h-10 border-l"}),oe.jsx("div",{className:mL["small-desc"],style:{width:"50%",display:"flex",justifyContent:"center",fontWeight:"500"},children:oe.jsxs("div",{className:"flex align-item-center justify-between text-sm gap-1 flex-col",style:{fontSize:".9em"},children:[oe.jsx("div",{style:{textAlign:"center"},children:s?oe.jsx(eh,{className:"animate-spin text-blue-500"}):a||0===a?a:null}),!s&&oe.jsx("div",{style:{border:"1px solid gray"}}),oe.jsx("div",{style:{textAlign:"center"},children:s||!t&&0!==t?null:oe.jsx("div",{children:t})})]})})]})};var nR=Array.isArray,sR="object"==typeof r&&r&&r.Object===Object&&r,lR=sR,oR="object"==typeof self&&self&&self.Object===Object&&self,iR=lR||oR||Function("return this")(),dR=iR.Symbol,cR=dR,uR=Object.prototype,mR=uR.hasOwnProperty,hR=uR.toString,fR=cR?cR.toStringTag:void 0,pR=function(e){var t=mR.call(e,fR),a=e[fR];try{e[fR]=void 0;var r=!0}catch(mMe){}var n=hR.call(e);return r&&(t?e[fR]=a:delete e[fR]),n},xR=Object.prototype.toString,gR=pR,bR=function(e){return xR.call(e)},vR=dR?dR.toStringTag:void 0,yR=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vR&&vR in Object(e)?gR(e):bR(e)},wR=function(e){return null!=e&&"object"==typeof e},jR=yR,NR=wR,_R=function(e){return"symbol"==typeof e||NR(e)&&"[object Symbol]"==jR(e)},SR=nR,kR=_R,CR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ER=/^\w*$/,TR=function(e,t){if(SR(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!kR(e))||ER.test(e)||!CR.test(e)||null!=t&&e in Object(t)},OR=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const DR=n(OR);var AR=yR,PR=OR,MR=function(e){if(!PR(e))return!1;var t=AR(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const LR=n(MR);var IR,FR=iR["__core-js_shared__"],RR=(IR=/[^.]+$/.exec(FR&&FR.keys&&FR.keys.IE_PROTO||""))?"Symbol(src)_1."+IR:"",$R=function(e){return!!RR&&RR in e},BR=Function.prototype.toString,zR=function(e){if(null!=e){try{return BR.call(e)}catch(mMe){}try{return e+""}catch(mMe){}}return""},UR=MR,HR=$R,WR=OR,YR=zR,qR=/^\[object .+?Constructor\]$/,VR=Function.prototype,GR=Object.prototype,KR=VR.toString,XR=GR.hasOwnProperty,QR=RegExp("^"+KR.call(XR).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),JR=function(e){return!(!WR(e)||HR(e))&&(UR(e)?QR:qR).test(YR(e))},ZR=function(e,t){return null==e?void 0:e[t]},e$=function(e,t){var a=ZR(e,t);return JR(a)?a:void 0},t$=e$(Object,"create"),a$=t$,r$=function(){this.__data__=a$?a$(null):{},this.size=0},n$=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},s$=t$,l$=Object.prototype.hasOwnProperty,o$=function(e){var t=this.__data__;if(s$){var a=t[e];return"__lodash_hash_undefined__"===a?void 0:a}return l$.call(t,e)?t[e]:void 0},i$=t$,d$=Object.prototype.hasOwnProperty,c$=t$,u$=r$,m$=n$,h$=o$,f$=function(e){var t=this.__data__;return i$?void 0!==t[e]:d$.call(t,e)},p$=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=c$&&void 0===t?"__lodash_hash_undefined__":t,this};function x$(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}x$.prototype.clear=u$,x$.prototype.delete=m$,x$.prototype.get=h$,x$.prototype.has=f$,x$.prototype.set=p$;var g$=x$,b$=function(){this.__data__=[],this.size=0},v$=function(e,t){return e===t||e!=e&&t!=t},y$=v$,w$=function(e,t){for(var a=e.length;a--;)if(y$(e[a][0],t))return a;return-1},j$=w$,N$=Array.prototype.splice,_$=w$,S$=w$,k$=w$,C$=b$,E$=function(e){var t=this.__data__,a=j$(t,e);return!(a<0||(a==t.length-1?t.pop():N$.call(t,a,1),--this.size,0))},T$=function(e){var t=this.__data__,a=_$(t,e);return a<0?void 0:t[a][1]},O$=function(e){return S$(this.__data__,e)>-1},D$=function(e,t){var a=this.__data__,r=k$(a,e);return r<0?(++this.size,a.push([e,t])):a[r][1]=t,this};function A$(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}A$.prototype.clear=C$,A$.prototype.delete=E$,A$.prototype.get=T$,A$.prototype.has=O$,A$.prototype.set=D$;var P$=A$,M$=e$(iR,"Map"),L$=g$,I$=P$,F$=M$,R$=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},$$=function(e,t){var a=e.__data__;return R$(t)?a["string"==typeof t?"string":"hash"]:a.map},B$=$$,z$=$$,U$=$$,H$=$$,W$=function(){this.size=0,this.__data__={hash:new L$,map:new(F$||I$),string:new L$}},Y$=function(e){var t=B$(this,e).delete(e);return this.size-=t?1:0,t},q$=function(e){return z$(this,e).get(e)},V$=function(e){return U$(this,e).has(e)},G$=function(e,t){var a=H$(this,e),r=a.size;return a.set(e,t),this.size+=a.size==r?0:1,this};function K$(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var r=e[t];this.set(r[0],r[1])}}K$.prototype.clear=W$,K$.prototype.delete=Y$,K$.prototype.get=q$,K$.prototype.has=V$,K$.prototype.set=G$;var X$=K$,Q$=X$;function J$(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var a=function(){var r=arguments,n=t?t.apply(this,r):r[0],s=a.cache;if(s.has(n))return s.get(n);var l=e.apply(this,r);return a.cache=s.set(n,l)||s,l};return a.cache=new(J$.Cache||Q$),a}J$.Cache=Q$;var Z$=J$;const eB=n(Z$);var tB,aB,rB,nB=Z$,sB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,lB=/\\(\\)?/g,oB=(tB=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(sB,(function(e,a,r,n){t.push(r?n.replace(lB,"$1"):a||e)})),t},aB=nB(tB,(function(e){return 500===rB.size&&rB.clear(),e})),rB=aB.cache,aB),iB=function(e,t){for(var a=-1,r=null==e?0:e.length,n=Array(r);++a<r;)n[a]=t(e[a],a,e);return n},dB=iB,cB=nR,uB=_R,mB=dR?dR.prototype:void 0,hB=mB?mB.toString:void 0,fB=function e(t){if("string"==typeof t)return t;if(cB(t))return dB(t,e)+"";if(uB(t))return hB?hB.call(t):"";var a=t+"";return"0"==a&&1/t==-1/0?"-0":a},pB=fB,xB=function(e){return null==e?"":pB(e)},gB=nR,bB=TR,vB=oB,yB=xB,wB=function(e,t){return gB(e)?e:bB(e,t)?[e]:vB(yB(e))},jB=_R,NB=function(e){if("string"==typeof e||jB(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},_B=wB,SB=NB,kB=function(e,t){for(var a=0,r=(t=_B(t,e)).length;null!=e&&a<r;)e=e[SB(t[a++])];return a&&a==r?e:void 0},CB=kB,EB=function(e,t,a){var r=null==e?void 0:CB(e,t);return void 0===r?a:r};const TB=n(EB),OB=n((function(e){return null==e}));var DB=yR,AB=nR,PB=wR;const MB=n((function(e){return"string"==typeof e||!AB(e)&&PB(e)&&"[object String]"==DB(e)}));var LB={exports:{}},IB={},FB="function"==typeof Symbol&&Symbol.for,RB=FB?Symbol.for("react.element"):60103,$B=FB?Symbol.for("react.portal"):60106,BB=FB?Symbol.for("react.fragment"):60107,zB=FB?Symbol.for("react.strict_mode"):60108,UB=FB?Symbol.for("react.profiler"):60114,HB=FB?Symbol.for("react.provider"):60109,WB=FB?Symbol.for("react.context"):60110,YB=FB?Symbol.for("react.async_mode"):60111,qB=FB?Symbol.for("react.concurrent_mode"):60111,VB=FB?Symbol.for("react.forward_ref"):60112,GB=FB?Symbol.for("react.suspense"):60113,KB=FB?Symbol.for("react.suspense_list"):60120,XB=FB?Symbol.for("react.memo"):60115,QB=FB?Symbol.for("react.lazy"):60116,JB=FB?Symbol.for("react.block"):60121,ZB=FB?Symbol.for("react.fundamental"):60117,ez=FB?Symbol.for("react.responder"):60118,tz=FB?Symbol.for("react.scope"):60119;function az(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case RB:switch(e=e.type){case YB:case qB:case BB:case UB:case zB:case GB:return e;default:switch(e=e&&e.$$typeof){case WB:case VB:case QB:case XB:case HB:return e;default:return t}}case $B:return t}}}function rz(e){return az(e)===qB}IB.AsyncMode=YB,IB.ConcurrentMode=qB,IB.ContextConsumer=WB,IB.ContextProvider=HB,IB.Element=RB,IB.ForwardRef=VB,IB.Fragment=BB,IB.Lazy=QB,IB.Memo=XB,IB.Portal=$B,IB.Profiler=UB,IB.StrictMode=zB,IB.Suspense=GB,IB.isAsyncMode=function(e){return rz(e)||az(e)===YB},IB.isConcurrentMode=rz,IB.isContextConsumer=function(e){return az(e)===WB},IB.isContextProvider=function(e){return az(e)===HB},IB.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===RB},IB.isForwardRef=function(e){return az(e)===VB},IB.isFragment=function(e){return az(e)===BB},IB.isLazy=function(e){return az(e)===QB},IB.isMemo=function(e){return az(e)===XB},IB.isPortal=function(e){return az(e)===$B},IB.isProfiler=function(e){return az(e)===UB},IB.isStrictMode=function(e){return az(e)===zB},IB.isSuspense=function(e){return az(e)===GB},IB.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===BB||e===qB||e===UB||e===zB||e===GB||e===KB||"object"==typeof e&&null!==e&&(e.$$typeof===QB||e.$$typeof===XB||e.$$typeof===HB||e.$$typeof===WB||e.$$typeof===VB||e.$$typeof===ZB||e.$$typeof===ez||e.$$typeof===tz||e.$$typeof===JB)},IB.typeOf=az,LB.exports=IB;var nz=LB.exports,sz=yR,lz=wR,oz=function(e){return"number"==typeof e||lz(e)&&"[object Number]"==sz(e)};const iz=n(oz);var dz=oz;const cz=n((function(e){return dz(e)&&e!=+e}));var uz=function(e){return 0===e?0:e>0?1:-1},mz=function(e){return MB(e)&&e.indexOf("%")===e.length-1},hz=function(e){return iz(e)&&!cz(e)},fz=function(e){return hz(e)||MB(e)},pz=0,xz=function(e){var t=++pz;return"".concat(e||"").concat(t)},gz=function(e,t){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!hz(e)&&!MB(e))return r;if(mz(e)){var s=e.indexOf("%");a=t*parseFloat(e.slice(0,s))/100}else a=+e;return cz(a)&&(a=r),n&&a>t&&(a=t),a},bz=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},vz=function(e,t){return hz(e)&&hz(t)?function(a){return e+a*(t-e)}:function(){return t}};function yz(e,t,a){return e&&e.length?e.find((function(e){return e&&("function"==typeof t?t(e):TB(e,t))===a})):null}function wz(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function jz(e){return(jz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Nz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_z=["points","pathLength"],Sz={svg:["viewBox","children"],polygon:_z,polyline:_z},kz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cz=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var a=e;if(Q.isValidElement(e)&&(a=e.props),!DR(a))return null;var r={};return Object.keys(a).forEach((function(e){kz.includes(e)&&(r[e]=t||function(t){return a[e](a,t)})})),r},Ez=function(e,t,a){if(!DR(e)||"object"!==jz(e))return null;var r=null;return Object.keys(e).forEach((function(n){var s=e[n];kz.includes(n)&&"function"==typeof s&&(r||(r={}),r[n]=function(e,t,a){return function(r){return e(t,a,r),null}}(s,t,a))})),r},Tz=["children"],Oz=["children"];function Dz(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Az={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Pz=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},Mz=null,Lz=null,Iz=function e(t){if(t===Mz&&Array.isArray(Lz))return Lz;var a=[];return Q.Children.forEach(t,(function(t){OB(t)||(nz.isFragment(t)?a=a.concat(e(t.props.children)):a.push(t))})),Lz=a,Mz=t,a};function Fz(e,t){var a=[],r=[];return r=Array.isArray(t)?t.map((function(e){return Pz(e)})):[Pz(t)],Iz(e).forEach((function(e){var t=TB(e,"type.displayName")||TB(e,"type.name");-1!==r.indexOf(t)&&a.push(e)})),a}function Rz(e,t){var a=Fz(e,t);return a&&a[0]}var $z=function(e){if(!e||!e.props)return!1;var t=e.props,a=t.width,r=t.height;return!(!hz(a)||a<=0||!hz(r)||r<=0)},Bz=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zz=function(e,t,a){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(Q.isValidElement(e)&&(r=e.props),!DR(r))return null;var n={};return Object.keys(r).forEach((function(e){var s;(function(e,t,a,r){var n,s=null!==(n=null==Sz?void 0:Sz[r])&&void 0!==n?n:[];return!LR(e)&&(r&&s.includes(t)||Nz.includes(t))||a&&kz.includes(t)})(null===(s=r)||void 0===s?void 0:s[e],e,t,a)&&(n[e]=r[e])})),n},Uz=function e(t,a){if(t===a)return!0;var r=Q.Children.count(t);if(r!==Q.Children.count(a))return!1;if(0===r)return!0;if(1===r)return Hz(Array.isArray(t)?t[0]:t,Array.isArray(a)?a[0]:a);for(var n=0;n<r;n++){var s=t[n],l=a[n];if(Array.isArray(s)||Array.isArray(l)){if(!e(s,l))return!1}else if(!Hz(s,l))return!1}return!0},Hz=function(e,t){if(OB(e)&&OB(t))return!0;if(!OB(e)&&!OB(t)){var a=e.props||{},r=a.children,n=Dz(a,Tz),s=t.props||{},l=s.children,o=Dz(s,Oz);return r&&l?wz(n,o)&&Uz(r,l):!r&&!l&&wz(n,o)}return!1},Wz=function(e,t){var a=[],r={};return Iz(e).forEach((function(e,n){if(function(e){return e&&e.type&&MB(e.type)&&Bz.indexOf(e.type)>=0}(e))a.push(e);else if(e){var s=Pz(e.type),l=t[s]||{},o=l.handler,i=l.once;if(o&&(!i||!r[s])){var d=o(e,s,n);a.push(d),r[s]=!0}}})),a},Yz=["children","width","height","viewBox","className","style","title","desc"];function qz(){return qz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},qz.apply(this,arguments)}function Vz(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Gz(e){var t=e.children,a=e.width,r=e.height,n=e.viewBox,s=e.className,l=e.style,o=e.title,i=e.desc,d=Vz(e,Yz),c=n||{width:a,height:r,x:0,y:0},u=Wf("recharts-surface",s);return J.createElement("svg",qz({},zz(d,!0,"svg"),{className:u,width:a,height:r,style:l,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),J.createElement("title",null,o),J.createElement("desc",null,i),t)}var Kz=["children","className"];function Xz(){return Xz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Xz.apply(this,arguments)}function Qz(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Jz=J.forwardRef((function(e,t){var a=e.children,r=e.className,n=Qz(e,Kz),s=Wf("recharts-layer",r);return J.createElement("g",Xz({className:s},zz(n,!0),{ref:t}),a)})),Zz=function(e,t){for(var a=arguments.length,r=new Array(a>2?a-2:0),n=2;n<a;n++)r[n-2]=arguments[n]},eU=function(e,t,a){var r=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(a=a>n?n:a)<0&&(a+=n),n=t>a?0:a-t>>>0,t>>>=0;for(var s=Array(n);++r<n;)s[r]=e[r+t];return s},tU=function(e,t,a){var r=e.length;return a=void 0===a?r:a,!t&&a>=r?e:eU(e,t,a)},aU=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),rU=function(e){return aU.test(e)},nU=function(e){return e.split("")},sU="\\ud800-\\udfff",lU="["+sU+"]",oU="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",iU="\\ud83c[\\udffb-\\udfff]",dU="[^"+sU+"]",cU="(?:\\ud83c[\\udde6-\\uddff]){2}",uU="[\\ud800-\\udbff][\\udc00-\\udfff]",mU="(?:"+oU+"|"+iU+")?",hU="[\\ufe0e\\ufe0f]?",fU=hU+mU+"(?:\\u200d(?:"+[dU,cU,uU].join("|")+")"+hU+mU+")*",pU="(?:"+[dU+oU+"?",oU,cU,uU,lU].join("|")+")",xU=RegExp(iU+"(?="+iU+")|"+pU+fU,"g"),gU=nU,bU=rU,vU=function(e){return e.match(xU)||[]},yU=tU,wU=rU,jU=function(e){return bU(e)?vU(e):gU(e)},NU=xB;const _U=n((SU="toUpperCase",function(e){e=NU(e);var t=wU(e)?jU(e):void 0,a=t?t[0]:e.charAt(0),r=t?yU(t,1).join(""):e.slice(1);return a[SU]()+r}));var SU;function kU(e){return function(){return e}}const CU=Math.cos,EU=Math.sin,TU=Math.sqrt,OU=Math.PI,DU=2*OU,AU=Math.PI,PU=2*AU,MU=1e-6,LU=PU-MU;function IU(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}class FU{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?IU:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IU;const a=d(10,t);return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*a)/a+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,a,r){this._append`Q${+e},${+t},${this._x1=+a},${this._y1=+r}`}bezierCurveTo(e,t,a,r,n,s){this._append`C${+e},${+t},${+a},${+r},${this._x1=+n},${this._y1=+s}`}arcTo(e,t,a,r,n){if(e=+e,t=+t,a=+a,r=+r,(n=+n)<0)throw new Error(`negative radius: ${n}`);let s=this._x1,l=this._y1,o=a-e,i=r-t,d=s-e,c=l-t,u=d*d+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>MU)if(Math.abs(c*o-i*d)>MU&&n){let m=a-s,h=r-l,f=o*o+i*i,p=m*m+h*h,x=Math.sqrt(f),g=Math.sqrt(u),b=n*Math.tan((AU-Math.acos((f+u-p)/(2*x*g)))/2),v=b/g,y=b/x;Math.abs(v-1)>MU&&this._append`L${e+v*d},${t+v*c}`,this._append`A${n},${n},0,0,${+(c*m>d*h)},${this._x1=e+y*o},${this._y1=t+y*i}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,a,r,n,s){if(e=+e,t=+t,s=!!s,(a=+a)<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(r),o=a*Math.sin(r),i=e+l,d=t+o,c=1^s,u=s?r-n:n-r;null===this._x1?this._append`M${i},${d}`:(Math.abs(this._x1-i)>MU||Math.abs(this._y1-d)>MU)&&this._append`L${i},${d}`,a&&(u<0&&(u=u%PU+PU),u>LU?this._append`A${a},${a},0,1,${c},${e-l},${t-o}A${a},${a},0,1,${c},${this._x1=i},${this._y1=d}`:u>MU&&this._append`A${a},${a},0,${+(u>=AU)},${c},${this._x1=e+a*Math.cos(n)},${this._y1=t+a*Math.sin(n)}`)}rect(e,t,a,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${a=+a}v${+r}h${-a}Z`}toString(){return this._}}function RU(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(null==a)t=null;else{const e=Math.floor(a);if(!(e>=0))throw new RangeError(`invalid digits: ${a}`);t=e}return e},()=>new FU(t)}function $U(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function BU(e){this._context=e}function zU(e){return new BU(e)}function UU(e){return e[0]}function HU(e){return e[1]}function WU(e,t){var a=kU(!0),r=null,n=zU,s=null,l=RU(o);function o(o){var i,d,c,u=(o=$U(o)).length,m=!1;for(null==r&&(s=n(c=l())),i=0;i<=u;++i)!(i<u&&a(d=o[i],i,o))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(d,i,o),+t(d,i,o));if(c)return s=null,c+""||null}return e="function"==typeof e?e:void 0===e?UU:kU(e),t="function"==typeof t?t:void 0===t?HU:kU(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:kU(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:kU(+e),o):t},o.defined=function(e){return arguments.length?(a="function"==typeof e?e:kU(!!e),o):a},o.curve=function(e){return arguments.length?(n=e,null!=r&&(s=n(r)),o):n},o.context=function(e){return arguments.length?(null==e?r=s=null:s=n(r=e),o):r},o}function YU(e,t,a){var r=null,n=kU(!0),s=null,l=zU,o=null,i=RU(d);function d(d){var c,u,m,h,f,p=(d=$U(d)).length,x=!1,g=new Array(p),b=new Array(p);for(null==s&&(o=l(f=i())),c=0;c<=p;++c){if(!(c<p&&n(h=d[c],c,d))===x)if(x=!x)u=c,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=c-1;m>=u;--m)o.point(g[m],b[m]);o.lineEnd(),o.areaEnd()}x&&(g[c]=+e(h,c,d),b[c]=+t(h,c,d),o.point(r?+r(h,c,d):g[c],a?+a(h,c,d):b[c]))}if(f)return o=null,f+""||null}function c(){return WU().defined(n).curve(l).context(s)}return e="function"==typeof e?e:void 0===e?UU:kU(+e),t="function"==typeof t?t:kU(void 0===t?0:+t),a="function"==typeof a?a:void 0===a?HU:kU(+a),d.x=function(t){return arguments.length?(e="function"==typeof t?t:kU(+t),r=null,d):e},d.x0=function(t){return arguments.length?(e="function"==typeof t?t:kU(+t),d):e},d.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:kU(+e),d):r},d.y=function(e){return arguments.length?(t="function"==typeof e?e:kU(+e),a=null,d):t},d.y0=function(e){return arguments.length?(t="function"==typeof e?e:kU(+e),d):t},d.y1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:kU(+e),d):a},d.lineX0=d.lineY0=function(){return c().x(e).y(t)},d.lineY1=function(){return c().x(e).y(a)},d.lineX1=function(){return c().x(r).y(t)},d.defined=function(e){return arguments.length?(n="function"==typeof e?e:kU(!!e),d):n},d.curve=function(e){return arguments.length?(l=e,null!=s&&(o=l(s)),d):l},d.context=function(e){return arguments.length?(null==e?s=o=null:o=l(s=e),d):s},d}BU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class qU{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const VU={draw(e,t){const a=TU(t/OU);e.moveTo(a,0),e.arc(0,0,a,0,DU)}},GU={draw(e,t){const a=TU(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},KU=TU(1/3),XU=2*KU,QU={draw(e,t){const a=TU(t/XU),r=a*KU;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},JU={draw(e,t){const a=TU(t),r=-a/2;e.rect(r,r,a,a)}},ZU=EU(OU/10)/EU(7*OU/10),eH=EU(DU/10)*ZU,tH=-CU(DU/10)*ZU,aH={draw(e,t){const a=TU(.8908130915292852*t),r=eH*a,n=tH*a;e.moveTo(0,-a),e.lineTo(r,n);for(let s=1;s<5;++s){const t=DU*s/5,l=CU(t),o=EU(t);e.lineTo(o*a,-l*a),e.lineTo(l*r-o*n,o*r+l*n)}e.closePath()}},rH=TU(3),nH={draw(e,t){const a=-TU(t/(3*rH));e.moveTo(0,2*a),e.lineTo(-rH*a,-a),e.lineTo(rH*a,-a),e.closePath()}},sH=-.5,lH=TU(3)/2,oH=1/TU(12),iH=3*(oH/2+1),dH={draw(e,t){const a=TU(t/iH),r=a/2,n=a*oH,s=r,l=a*oH+a,o=-s,i=l;e.moveTo(r,n),e.lineTo(s,l),e.lineTo(o,i),e.lineTo(sH*r-lH*n,lH*r+sH*n),e.lineTo(sH*s-lH*l,lH*s+sH*l),e.lineTo(sH*o-lH*i,lH*o+sH*i),e.lineTo(sH*r+lH*n,sH*n-lH*r),e.lineTo(sH*s+lH*l,sH*l-lH*s),e.lineTo(sH*o+lH*i,sH*i-lH*o),e.closePath()}};function cH(){}function uH(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function mH(e){this._context=e}function hH(e){this._context=e}function fH(e){this._context=e}function pH(e){this._context=e}function xH(e){return e<0?-1:1}function gH(e,t,a){var r=e._x1-e._x0,n=t-e._x1,s=(e._y1-e._y0)/(r||n<0&&-0),l=(a-e._y1)/(n||r<0&&-0),o=(s*n+l*r)/(r+n);return(xH(s)+xH(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(o))||0}function bH(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function vH(e,t,a){var r=e._x0,n=e._y0,s=e._x1,l=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,n+o*t,s-o,l-o*a,s,l)}function yH(e){this._context=e}function wH(e){this._context=new jH(e)}function jH(e){this._context=e}function NH(e){this._context=e}function _H(e){var t,a,r=e.length-1,n=new Array(r),s=new Array(r),l=new Array(r);for(n[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)n[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(n[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=n[t]/s[t-1],s[t]-=a,l[t]-=a*l[t-1];for(n[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)n[t]=(l[t]-n[t+1])/s[t];for(s[r-1]=(e[r]+n[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-n[t+1];return[n,s]}function SH(e,t){this._context=e,this._t=t}function kH(e,t){if((n=e.length)>1)for(var a,r,n,s=1,l=e[t[0]],o=l.length;s<n;++s)for(r=l,l=e[t[s]],a=0;a<o;++a)l[a][1]+=l[a][0]=isNaN(r[a][1])?r[a][0]:r[a][1]}function CH(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function EH(e,t){return e[t]}function TH(e){const t=[];return t.key=e,t}function OH(e){return(OH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}mH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uH(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uH(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},hH.prototype={areaStart:cH,areaEnd:cH,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:uH(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},fH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:uH(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pH.prototype={areaStart:cH,areaEnd:cH,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},yH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vH(this,this._t0,bH(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vH(this,bH(this,a=gH(this,e,t)),a);break;default:vH(this,this._t0,a=gH(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}},(wH.prototype=Object.create(yH.prototype)).point=function(e,t){yH.prototype.point.call(this,t,e)},jH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,n,s){this._context.bezierCurveTo(t,e,r,a,s,n)}},NH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===a)this._context.lineTo(e[1],t[1]);else for(var r=_H(e),n=_H(t),s=0,l=1;l<a;++s,++l)this._context.bezierCurveTo(r[0][s],n[0][s],r[1][s],n[1][s],e[l],t[l]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},SH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}}this._x=e,this._y=t}};var DH=["type","size","sizeType"];function AH(){return AH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},AH.apply(this,arguments)}function PH(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function MH(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?PH(Object(a),!0).forEach((function(t){LH(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):PH(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function LH(e,t,a){var r;return r=function(e,t){if("object"!=OH(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=OH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==OH(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function IH(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var FH={symbolCircle:VU,symbolCross:GU,symbolDiamond:QU,symbolSquare:JU,symbolStar:aH,symbolTriangle:nH,symbolWye:dH},RH=Math.PI/180,$H=function(e){var t,a,r=e.type,n=void 0===r?"circle":r,s=e.size,l=void 0===s?64:s,o=e.sizeType,i=void 0===o?"area":o,d=MH(MH({},IH(e,DH)),{},{type:n,size:l,sizeType:i}),c=d.className,u=d.cx,m=d.cy,h=zz(d,!0);return u===+u&&m===+m&&l===+l?J.createElement("path",AH({},h,{className:Wf("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(m,")"),d:(t=function(e){var t="symbol".concat(_U(e));return FH[t]||VU}(n),a=function(e,t){let a=null,r=RU(n);function n(){let n;if(a||(a=n=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),n)return a=null,n+""||null}return e="function"==typeof e?e:kU(e||VU),t="function"==typeof t?t:kU(void 0===t?64:+t),n.type=function(t){return arguments.length?(e="function"==typeof t?t:kU(t),n):e},n.size=function(e){return arguments.length?(t="function"==typeof e?e:kU(+e),n):t},n.context=function(e){return arguments.length?(a=null==e?null:e,n):a},n}().type(t).size(function(e,t,a){if("area"===t)return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*RH;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(l,i,n)),a())})):null};function BH(e){return(BH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zH(){return zH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},zH.apply(this,arguments)}function UH(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function HH(e,t,a){return t&&function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KH(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WH(e,t,a){return t=qH(t),function(e,t){if(t&&("object"===BH(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YH()?Reflect.construct(t,a||[],qH(e).constructor):t.apply(e,a))}function YH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(YH=function(){return!!e})()}function qH(e){return(qH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VH(e,t){return(VH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function GH(e,t,a){return(t=KH(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function KH(e){var t=function(e,t){if("object"!=BH(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=BH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BH(t)?t:String(t)}$H.registerSymbol=function(e,t){FH["symbol".concat(_U(e))]=t};var XH=32,QH=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),WH(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VH(e,t)}(t,e),HH(t,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,a=16,r=XH/6,n=XH/3,s=e.inactive?t:e.color;if("plainline"===e.type)return J.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:a,x2:XH,y2:a,className:"recharts-legend-icon"});if("line"===e.type)return J.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*n,",").concat(a,"\n            H").concat(XH,"M").concat(2*n,",").concat(a,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(n,",").concat(a),className:"recharts-legend-icon"});if("rect"===e.type)return J.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(XH,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(J.isValidElement(e.legendIcon)){var l=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?UH(Object(a),!0).forEach((function(t){GH(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UH(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return delete l.legendIcon,J.cloneElement(e.legendIcon,l)}return J.createElement($H,{fill:s,cx:a,cy:a,size:XH,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,a=t.payload,r=t.iconSize,n=t.layout,s=t.formatter,l=t.inactiveColor,o={x:0,y:0,width:XH,height:XH},i={display:"horizontal"===n?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map((function(t,a){var n=t.formatter||s,c=Wf(GH(GH({"recharts-legend-item":!0},"legend-item-".concat(a),!0),"inactive",t.inactive));if("none"===t.type)return null;var u=LR(t.value)?null:t.value;Zz(!LR(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var m=t.inactive?l:t.color;return J.createElement("li",zH({className:c,style:i,key:"legend-item-".concat(a)},Ez(e.props,t,a)),J.createElement(Gz,{width:r,height:r,viewBox:o,style:d},e.renderIcon(t)),J.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},n?n(u,t,a):u))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,a=e.layout,r=e.align;if(!t||!t.length)return null;var n={padding:0,margin:0,textAlign:"horizontal"===a?r:"left"};return J.createElement("ul",{className:"recharts-default-legend",style:n},this.renderItems())}}]),t}(Q.PureComponent);GH(QH,"displayName","Legend"),GH(QH,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var JH=P$,ZH=P$,eW=M$,tW=X$,aW=P$,rW=function(){this.__data__=new JH,this.size=0},nW=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},sW=function(e){return this.__data__.get(e)},lW=function(e){return this.__data__.has(e)},oW=function(e,t){var a=this.__data__;if(a instanceof ZH){var r=a.__data__;if(!eW||r.length<199)return r.push([e,t]),this.size=++a.size,this;a=this.__data__=new tW(r)}return a.set(e,t),this.size=a.size,this};function iW(e){var t=this.__data__=new aW(e);this.size=t.size}iW.prototype.clear=rW,iW.prototype.delete=nW,iW.prototype.get=sW,iW.prototype.has=lW,iW.prototype.set=oW;var dW=iW,cW=X$,uW=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},mW=function(e){return this.__data__.has(e)};function hW(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new cW;++t<a;)this.add(e[t])}hW.prototype.add=hW.prototype.push=uW,hW.prototype.has=mW;var fW=hW,pW=function(e,t){for(var a=-1,r=null==e?0:e.length;++a<r;)if(t(e[a],a,e))return!0;return!1},xW=function(e,t){return e.has(t)},gW=fW,bW=pW,vW=xW,yW=function(e,t,a,r,n,s){var l=1&a,o=e.length,i=t.length;if(o!=i&&!(l&&i>o))return!1;var d=s.get(e),c=s.get(t);if(d&&c)return d==t&&c==e;var u=-1,m=!0,h=2&a?new gW:void 0;for(s.set(e,t),s.set(t,e);++u<o;){var f=e[u],p=t[u];if(r)var x=l?r(p,f,u,t,e,s):r(f,p,u,e,t,s);if(void 0!==x){if(x)continue;m=!1;break}if(h){if(!bW(t,(function(e,t){if(!vW(h,t)&&(f===e||n(f,e,a,r,s)))return h.push(t)}))){m=!1;break}}else if(f!==p&&!n(f,p,a,r,s)){m=!1;break}}return s.delete(e),s.delete(t),m},wW=function(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a},jW=iR.Uint8Array,NW=v$,_W=yW,SW=function(e){var t=-1,a=Array(e.size);return e.forEach((function(e,r){a[++t]=[r,e]})),a},kW=wW,CW=dR?dR.prototype:void 0,EW=CW?CW.valueOf:void 0,TW=function(e,t,a,r,n,s,l){switch(a){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new jW(e),new jW(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return NW(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=SW;case"[object Set]":var i=1&r;if(o||(o=kW),e.size!=t.size&&!i)return!1;var d=l.get(e);if(d)return d==t;r|=2,l.set(e,t);var c=_W(o(e),o(t),r,n,s,l);return l.delete(e),c;case"[object Symbol]":if(EW)return EW.call(e)==EW.call(t)}return!1},OW=function(e,t){for(var a=-1,r=t.length,n=e.length;++a<r;)e[n+a]=t[a];return e},DW=OW,AW=nR,PW=function(e,t,a){var r=t(e);return AW(e)?r:DW(r,a(e))},MW=function(e,t){for(var a=-1,r=null==e?0:e.length,n=0,s=[];++a<r;){var l=e[a];t(l,a,e)&&(s[n++]=l)}return s},LW=function(){return[]},IW=Object.prototype.propertyIsEnumerable,FW=Object.getOwnPropertySymbols,RW=FW?function(e){return null==e?[]:(e=Object(e),MW(FW(e),(function(t){return IW.call(e,t)})))}:LW,$W=function(e,t){for(var a=-1,r=Array(e);++a<e;)r[a]=t(a);return r},BW=yR,zW=wR,UW=function(e){return zW(e)&&"[object Arguments]"==BW(e)},HW=wR,WW=Object.prototype,YW=WW.hasOwnProperty,qW=WW.propertyIsEnumerable,VW=UW(function(){return arguments}())?UW:function(e){return HW(e)&&YW.call(e,"callee")&&!qW.call(e,"callee")},GW=VW,KW={exports:{}},XW=function(){return!1};!function(e,t){var a=iR,r=XW,n=t&&!t.nodeType&&t,s=n&&e&&!e.nodeType&&e,l=s&&s.exports===n?a.Buffer:void 0,o=(l?l.isBuffer:void 0)||r;e.exports=o}(KW,KW.exports);var QW=KW.exports,JW=/^(?:0|[1-9]\d*)$/,ZW=function(e,t){var a=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&JW.test(e))&&e>-1&&e%1==0&&e<t},eY=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},tY=yR,aY=eY,rY=wR,nY={};nY["[object Float32Array]"]=nY["[object Float64Array]"]=nY["[object Int8Array]"]=nY["[object Int16Array]"]=nY["[object Int32Array]"]=nY["[object Uint8Array]"]=nY["[object Uint8ClampedArray]"]=nY["[object Uint16Array]"]=nY["[object Uint32Array]"]=!0,nY["[object Arguments]"]=nY["[object Array]"]=nY["[object ArrayBuffer]"]=nY["[object Boolean]"]=nY["[object DataView]"]=nY["[object Date]"]=nY["[object Error]"]=nY["[object Function]"]=nY["[object Map]"]=nY["[object Number]"]=nY["[object Object]"]=nY["[object RegExp]"]=nY["[object Set]"]=nY["[object String]"]=nY["[object WeakMap]"]=!1;var sY=function(e){return rY(e)&&aY(e.length)&&!!nY[tY(e)]},lY=function(e){return function(t){return e(t)}},oY={exports:{}};!function(e,t){var a=sR,r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,s=n&&n.exports===r&&a.process,l=function(){try{var e=n&&n.require&&n.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(mMe){}}();e.exports=l}(oY,oY.exports);var iY=oY.exports,dY=sY,cY=lY,uY=iY&&iY.isTypedArray,mY=uY?cY(uY):dY,hY=$W,fY=GW,pY=nR,xY=QW,gY=ZW,bY=mY,vY=Object.prototype.hasOwnProperty,yY=function(e,t){var a=pY(e),r=!a&&fY(e),n=!a&&!r&&xY(e),s=!a&&!r&&!n&&bY(e),l=a||r||n||s,o=l?hY(e.length,String):[],i=o.length;for(var d in e)!t&&!vY.call(e,d)||l&&("length"==d||n&&("offset"==d||"parent"==d)||s&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||gY(d,i))||o.push(d);return o},wY=Object.prototype,jY=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||wY)},NY=function(e,t){return function(a){return e(t(a))}},_Y=NY(Object.keys,Object),SY=jY,kY=_Y,CY=Object.prototype.hasOwnProperty,EY=MR,TY=eY,OY=function(e){return null!=e&&TY(e.length)&&!EY(e)},DY=yY,AY=function(e){if(!SY(e))return kY(e);var t=[];for(var a in Object(e))CY.call(e,a)&&"constructor"!=a&&t.push(a);return t},PY=OY,MY=function(e){return PY(e)?DY(e):AY(e)},LY=PW,IY=RW,FY=MY,RY=function(e){return LY(e,FY,IY)},$Y=Object.prototype.hasOwnProperty,BY=function(e,t,a,r,n,s){var l=1&a,o=RY(e),i=o.length;if(i!=RY(t).length&&!l)return!1;for(var d=i;d--;){var c=o[d];if(!(l?c in t:$Y.call(t,c)))return!1}var u=s.get(e),m=s.get(t);if(u&&m)return u==t&&m==e;var h=!0;s.set(e,t),s.set(t,e);for(var f=l;++d<i;){var p=e[c=o[d]],x=t[c];if(r)var g=l?r(x,p,c,t,e,s):r(p,x,c,e,t,s);if(!(void 0===g?p===x||n(p,x,a,r,s):g)){h=!1;break}f||(f="constructor"==c)}if(h&&!f){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(h=!1)}return s.delete(e),s.delete(t),h},zY=e$(iR,"DataView"),UY=e$(iR,"Promise"),HY=e$(iR,"Set"),WY=zY,YY=M$,qY=UY,VY=HY,GY=e$(iR,"WeakMap"),KY=yR,XY=zR,QY="[object Map]",JY="[object Promise]",ZY="[object Set]",eq="[object WeakMap]",tq="[object DataView]",aq=XY(WY),rq=XY(YY),nq=XY(qY),sq=XY(VY),lq=XY(GY),oq=KY;(WY&&oq(new WY(new ArrayBuffer(1)))!=tq||YY&&oq(new YY)!=QY||qY&&oq(qY.resolve())!=JY||VY&&oq(new VY)!=ZY||GY&&oq(new GY)!=eq)&&(oq=function(e){var t=KY(e),a="[object Object]"==t?e.constructor:void 0,r=a?XY(a):"";if(r)switch(r){case aq:return tq;case rq:return QY;case nq:return JY;case sq:return ZY;case lq:return eq}return t});var iq=dW,dq=yW,cq=TW,uq=BY,mq=oq,hq=nR,fq=QW,pq=mY,xq="[object Arguments]",gq="[object Array]",bq="[object Object]",vq=Object.prototype.hasOwnProperty,yq=function(e,t,a,r,n,s){var l=hq(e),o=hq(t),i=l?gq:mq(e),d=o?gq:mq(t),c=(i=i==xq?bq:i)==bq,u=(d=d==xq?bq:d)==bq,m=i==d;if(m&&fq(e)){if(!fq(t))return!1;l=!0,c=!1}if(m&&!c)return s||(s=new iq),l||pq(e)?dq(e,t,a,r,n,s):cq(e,t,i,a,r,n,s);if(!(1&a)){var h=c&&vq.call(e,"__wrapped__"),f=u&&vq.call(t,"__wrapped__");if(h||f){var p=h?e.value():e,x=f?t.value():t;return s||(s=new iq),n(p,x,a,r,s)}}return!!m&&(s||(s=new iq),uq(e,t,a,r,n,s))},wq=wR,jq=function e(t,a,r,n,s){return t===a||(null==t||null==a||!wq(t)&&!wq(a)?t!=t&&a!=a:yq(t,a,r,n,e,s))},Nq=dW,_q=jq,Sq=OR,kq=function(e){return e==e&&!Sq(e)},Cq=kq,Eq=MY,Tq=function(e,t){return function(a){return null!=a&&a[e]===t&&(void 0!==t||e in Object(a))}},Oq=function(e,t,a,r){var n=a.length,s=n,l=!r;if(null==e)return!s;for(e=Object(e);n--;){var o=a[n];if(l&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++n<s;){var i=(o=a[n])[0],d=e[i],c=o[1];if(l&&o[2]){if(void 0===d&&!(i in e))return!1}else{var u=new Nq;if(r)var m=r(d,c,i,e,t,u);if(!(void 0===m?_q(c,d,3,r,u):m))return!1}}return!0},Dq=function(e){for(var t=Eq(e),a=t.length;a--;){var r=t[a],n=e[r];t[a]=[r,n,Cq(n)]}return t},Aq=Tq,Pq=wB,Mq=GW,Lq=nR,Iq=ZW,Fq=eY,Rq=NB,$q=function(e,t){return null!=e&&t in Object(e)},Bq=function(e,t,a){for(var r=-1,n=(t=Pq(t,e)).length,s=!1;++r<n;){var l=Rq(t[r]);if(!(s=null!=e&&a(e,l)))break;e=e[l]}return s||++r!=n?s:!!(n=null==e?0:e.length)&&Fq(n)&&Iq(l,n)&&(Lq(e)||Mq(e))},zq=jq,Uq=EB,Hq=function(e,t){return null!=e&&Bq(e,t,$q)},Wq=TR,Yq=kq,qq=Tq,Vq=NB,Gq=function(e){return e},Kq=kB,Xq=function(e){return function(t){return null==t?void 0:t[e]}},Qq=function(e){return function(t){return Kq(t,e)}},Jq=TR,Zq=NB,eV=function(e){var t=Dq(e);return 1==t.length&&t[0][2]?Aq(t[0][0],t[0][1]):function(a){return a===e||Oq(a,e,t)}},tV=function(e,t){return Wq(e)&&Yq(t)?qq(Vq(e),t):function(a){var r=Uq(a,e);return void 0===r&&r===t?Hq(a,e):zq(t,r,3)}},aV=Gq,rV=nR,nV=function(e){return Jq(e)?Xq(Zq(e)):Qq(e)},sV=function(e){return"function"==typeof e?e:null==e?aV:"object"==typeof e?rV(e)?tV(e[0],e[1]):eV(e):nV(e)},lV=function(e,t,a,r){for(var n=e.length,s=a+(r?1:-1);r?s--:++s<n;)if(t(e[s],s,e))return s;return-1},oV=function(e){return e!=e},iV=function(e,t,a){for(var r=a-1,n=e.length;++r<n;)if(e[r]===t)return r;return-1},dV=function(e,t,a){return t==t?iV(e,t,a):lV(e,oV,a)},cV=function(e,t){return!(null==e||!e.length)&&dV(e,t,0)>-1},uV=function(e,t,a){for(var r=-1,n=null==e?0:e.length;++r<n;)if(a(t,e[r]))return!0;return!1},mV=HY,hV=function(){},fV=mV&&1/wW(new mV([,-0]))[1]==1/0?function(e){return new mV(e)}:hV,pV=fW,xV=cV,gV=uV,bV=xW,vV=fV,yV=wW,wV=sV,jV=function(e,t,a){var r=-1,n=xV,s=e.length,l=!0,o=[],i=o;if(a)l=!1,n=gV;else if(s>=200){var d=t?null:vV(e);if(d)return yV(d);l=!1,n=bV,i=new pV}else i=t?[]:o;e:for(;++r<s;){var c=e[r],u=t?t(c):c;if(c=a||0!==c?c:0,l&&u==u){for(var m=i.length;m--;)if(i[m]===u)continue e;t&&i.push(u),o.push(c)}else n(i,u,a)||(i!==o&&i.push(u),o.push(c))}return o};const NV=n((function(e,t){return e&&e.length?jV(e,wV(t)):[]}));function _V(e,t,a){return!0===t?NV(e,a):LR(t)?NV(e,t):e}function SV(e){return(SV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var kV=["ref"];function CV(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function EV(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?CV(Object(a),!0).forEach((function(t){LV(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):CV(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function TV(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IV(r.key),r)}}function OV(e,t,a){return t=AV(t),function(e,t){if(t&&("object"===SV(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return PV(e)}(e,DV()?Reflect.construct(t,a||[],AV(e).constructor):t.apply(e,a))}function DV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(DV=function(){return!!e})()}function AV(e){return(AV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PV(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MV(e,t){return(MV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function LV(e,t,a){return(t=IV(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function IV(e){var t=function(e,t){if("object"!=SV(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=SV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SV(t)?t:String(t)}function FV(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function RV(e){return e.value}var $V=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return LV(PV(e=OV(this,t,[].concat(r))),"lastBoundingBox",{width:-1,height:-1}),e}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MV(e,t)}(t,e),a=t,n=[{key:"getWithHeight",value:function(e,t){var a=e.props.layout;return"vertical"===a&&hz(e.props.height)?{height:e.props.height}:"horizontal"===a?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?EV({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,a,r=this.props,n=r.layout,s=r.align,l=r.verticalAlign,o=r.margin,i=r.chartWidth,d=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===n?{left:((i||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(a="middle"===l?{top:((d||0)-this.getBBoxSnapshot().height)/2}:"bottom"===l?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),EV(EV({},t),a)}},{key:"render",value:function(){var e=this,t=this.props,a=t.content,r=t.width,n=t.height,s=t.wrapperStyle,l=t.payloadUniqBy,o=t.payload,i=EV(EV({position:"absolute",width:r||"auto",height:n||"auto"},this.getDefaultPosition(s)),s);return J.createElement("div",{className:"recharts-legend-wrapper",style:i,ref:function(t){e.wrapperNode=t}},function(e,t){if(J.isValidElement(e))return J.cloneElement(e,t);if("function"==typeof e)return J.createElement(e,t);t.ref;var a=FV(t,kV);return J.createElement(QH,a)}(a,EV(EV({},this.props),{},{payload:_V(o,l,RV)})))}}])&&TV(a.prototype,r),n&&TV(a,n),Object.defineProperty(a,"prototype",{writable:!1}),t}(Q.PureComponent);LV($V,"displayName","Legend"),LV($V,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var BV,zV=GW,UV=nR,HV=dR?dR.isConcatSpreadable:void 0,WV=OW,YV=function(e){return UV(e)||zV(e)||!!(HV&&e&&e[HV])},qV=function e(t,a,r,n,s){var l=-1,o=t.length;for(r||(r=YV),s||(s=[]);++l<o;){var i=t[l];a>0&&r(i)?a>1?e(i,a-1,r,n,s):WV(s,i):n||(s[s.length]=i)}return s},VV=function(e,t,a){for(var r=-1,n=Object(e),s=a(e),l=s.length;l--;){var o=s[BV?l:++r];if(!1===t(n[o],o,n))break}return e},GV=MY,KV=function(e,t){return e&&VV(e,t,GV)},XV=OY,QV=function(e,t){return function(a,r){if(null==a)return a;if(!XV(a))return e(a,r);for(var n=a.length,s=t?n:-1,l=Object(a);(t?s--:++s<n)&&!1!==r(l[s],s,l););return a}}(KV),JV=QV,ZV=OY,eG=function(e,t){var a=-1,r=ZV(e)?Array(e.length):[];return JV(e,(function(e,n,s){r[++a]=t(e,n,s)})),r},tG=_R,aG=function(e,t){if(e!==t){var a=void 0!==e,r=null===e,n=e==e,s=tG(e),l=void 0!==t,o=null===t,i=t==t,d=tG(t);if(!o&&!d&&!s&&e>t||s&&l&&i&&!o&&!d||r&&l&&i||!a&&i||!n)return 1;if(!r&&!s&&!d&&e<t||d&&a&&n&&!r&&!s||o&&a&&n||!l&&n||!i)return-1}return 0},rG=iB,nG=kB,sG=sV,lG=eG,oG=function(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e},iG=lY,dG=function(e,t,a){for(var r=-1,n=e.criteria,s=t.criteria,l=n.length,o=a.length;++r<l;){var i=aG(n[r],s[r]);if(i)return r>=o?i:i*("desc"==a[r]?-1:1)}return e.index-t.index},cG=Gq,uG=nR,mG=function(e,t,a){t=t.length?rG(t,(function(e){return uG(e)?function(t){return nG(t,1===e.length?e[0]:e)}:e})):[cG];var r=-1;t=rG(t,iG(sG));var n=lG(e,(function(e,a,n){return{criteria:rG(t,(function(t){return t(e)})),index:++r,value:e}}));return oG(n,(function(e,t){return dG(e,t,a)}))},hG=function(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)},fG=hG,pG=Math.max,xG=function(e,t,a){return t=pG(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,s=pG(r.length-t,0),l=Array(s);++n<s;)l[n]=r[t+n];n=-1;for(var o=Array(t+1);++n<t;)o[n]=r[n];return o[t]=a(l),fG(e,this,o)}},gG=function(e){return function(){return e}},bG=e$,vG=function(){try{var e=bG(Object,"defineProperty");return e({},"",{}),e}catch(mMe){}}(),yG=gG,wG=vG,jG=wG?function(e,t){return wG(e,"toString",{configurable:!0,enumerable:!1,value:yG(t),writable:!0})}:Gq,NG=Date.now,_G=function(e){var t=0,a=0;return function(){var r=NG(),n=16-(r-a);if(a=r,n>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},SG=_G(jG),kG=Gq,CG=xG,EG=SG,TG=v$,OG=OY,DG=ZW,AG=OR,PG=function(e,t,a){if(!AG(a))return!1;var r=typeof t;return!!("number"==r?OG(a)&&DG(t,a.length):"string"==r&&t in a)&&TG(a[t],e)},MG=qV,LG=mG,IG=PG;const FG=n(function(e,t){return EG(CG(e,t,kG),e+"")}((function(e,t){if(null==e)return[];var a=t.length;return a>1&&IG(e,t[0],t[1])?t=[]:a>2&&IG(t[0],t[1],t[2])&&(t=[t[0]]),LG(e,MG(t,1),[])})));function RG(e){return(RG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $G(){return $G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},$G.apply(this,arguments)}function BG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t);else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zG(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?zG(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zG(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function UG(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function HG(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?UG(Object(a),!0).forEach((function(t){WG(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UG(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function WG(e,t,a){var r;return r=function(e,t){if("object"!=RG(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=RG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==RG(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function YG(e){return Array.isArray(e)&&fz(e[0])&&fz(e[1])?e.join(" ~ "):e}var qG=function(e){var t=e.separator,a=void 0===t?" : ":t,r=e.contentStyle,n=void 0===r?{}:r,s=e.itemStyle,l=void 0===s?{}:s,o=e.labelStyle,i=void 0===o?{}:o,d=e.payload,c=e.formatter,u=e.itemSorter,m=e.wrapperClassName,h=e.labelClassName,f=e.label,p=e.labelFormatter,x=e.accessibilityLayer,g=void 0!==x&&x,b=HG({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=HG({margin:0},i),y=!OB(f),w=y?f:"",j=Wf("recharts-default-tooltip",m),N=Wf("recharts-tooltip-label",h);y&&p&&null!=d&&(w=p(f,d));var _=g?{role:"status","aria-live":"assertive"}:{};return J.createElement("div",$G({className:j,style:b},_),J.createElement("p",{className:N,style:v},J.isValidElement(w)?w:"".concat(w)),function(){if(d&&d.length){var e=(u?FG(d,u):d).map((function(e,t){if("none"===e.type)return null;var r=HG({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},l),n=e.formatter||c||YG,s=e.value,o=e.name,i=s,u=o;if(n&&null!=i&&null!=u){var m=n(s,o,e,t,d);if(Array.isArray(m)){var h=BG(m,2);i=h[0],u=h[1]}else i=m}return J.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},fz(u)?J.createElement("span",{className:"recharts-tooltip-item-name"},u):null,fz(u)?J.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,J.createElement("span",{className:"recharts-tooltip-item-value"},i),J.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return J.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function VG(e){return(VG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function GG(e,t,a){var r;return r=function(e,t){if("object"!=VG(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=VG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==VG(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var KG="recharts-tooltip-wrapper",XG={visibility:"hidden"};function QG(e){var t=e.coordinate,a=e.translateX,r=e.translateY;return Wf(KG,GG(GG(GG(GG({},"".concat(KG,"-right"),hz(a)&&t&&hz(t.x)&&a>=t.x),"".concat(KG,"-left"),hz(a)&&t&&hz(t.x)&&a<t.x),"".concat(KG,"-bottom"),hz(r)&&t&&hz(t.y)&&r>=t.y),"".concat(KG,"-top"),hz(r)&&t&&hz(t.y)&&r<t.y))}function JG(e){var t=e.allowEscapeViewBox,a=e.coordinate,r=e.key,n=e.offsetTopLeft,s=e.position,l=e.reverseDirection,o=e.tooltipDimension,i=e.viewBox,d=e.viewBoxDimension;if(s&&hz(s[r]))return s[r];var c=a[r]-o-n,u=a[r]+n;return t[r]?l[r]?c:u:l[r]?c<i[r]?Math.max(u,i[r]):Math.max(c,i[r]):u+o>i[r]+d?Math.max(c,i[r]):Math.max(u,i[r])}function ZG(e){return(ZG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eK(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function tK(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eK(Object(a),!0).forEach((function(t){iK(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eK(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function aK(e,t,a){return t&&function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dK(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rK(e,t,a){return t=sK(t),function(e,t){if(t&&("object"===ZG(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lK(e)}(e,nK()?Reflect.construct(t,a||[],sK(e).constructor):t.apply(e,a))}function nK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nK=function(){return!!e})()}function sK(e){return(sK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lK(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oK(e,t){return(oK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iK(e,t,a){return(t=dK(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function dK(e){var t=function(e,t){if("object"!=ZG(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=ZG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZG(t)?t:String(t)}var cK=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return iK(lK(e=rK(this,t,[].concat(r))),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iK(lK(e),"handleKeyDown",(function(t){var a,r,n,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(a=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==a?a:0,y:null!==(n=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==n?n:0}})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oK(e,t)}(t,e),aK(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,a=t.active,r=t.allowEscapeViewBox,n=t.animationDuration,s=t.animationEasing,l=t.children,o=t.coordinate,i=t.hasPayload,d=t.isAnimationActive,c=t.offset,u=t.position,m=t.reverseDirection,h=t.useTranslate3d,f=t.viewBox,p=t.wrapperStyle,x=function(e){var t,a,r=e.allowEscapeViewBox,n=e.coordinate,s=e.offsetTopLeft,l=e.position,o=e.reverseDirection,i=e.tooltipBox,d=e.useTranslate3d,c=e.viewBox;return{cssProperties:i.height>0&&i.width>0&&n?function(e){var t=e.translateX,a=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}({translateX:t=JG({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:s,position:l,reverseDirection:o,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),translateY:a=JG({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:s,position:l,reverseDirection:o,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),useTranslate3d:d}):XG,cssClasses:QG({translateX:t,translateY:a,coordinate:n})}}({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:c,position:u,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:f}),g=x.cssClasses,b=x.cssProperties,v=tK(tK({transition:d&&a?"transform ".concat(n,"ms ").concat(s):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&i?"visible":"hidden",position:"absolute",top:0,left:0},p);return J.createElement("div",{tabIndex:-1,className:g,style:v,ref:function(t){e.wrapperNode=t}},l)}}]),t}(Q.PureComponent),uK={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return uK[e]},set:function(e,t){if("string"==typeof e)uK[e]=t;else{var a=Object.keys(e);a&&a.length&&a.forEach((function(t){uK[t]=e[t]}))}}};function mK(e){return(mK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hK(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function fK(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hK(Object(a),!0).forEach((function(t){yK(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hK(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pK(e,t,a){return t&&function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wK(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xK(e,t,a){return t=bK(t),function(e,t){if(t&&("object"===mK(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gK()?Reflect.construct(t,a||[],bK(e).constructor):t.apply(e,a))}function gK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gK=function(){return!!e})()}function bK(e){return(bK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vK(e,t){return(vK=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yK(e,t,a){return(t=wK(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wK(e){var t=function(e,t){if("object"!=mK(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=mK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mK(t)?t:String(t)}function jK(e){return e.dataKey}var NK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xK(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vK(e,t)}(t,e),pK(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.active,r=t.allowEscapeViewBox,n=t.animationDuration,s=t.animationEasing,l=t.content,o=t.coordinate,i=t.filterNull,d=t.isAnimationActive,c=t.offset,u=t.payload,m=t.payloadUniqBy,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,x=t.viewBox,g=t.wrapperStyle,b=null!=u?u:[];i&&b.length&&(b=_V(u.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),m,jK));var v=b.length>0;return J.createElement(cK,{allowEscapeViewBox:r,animationDuration:n,animationEasing:s,isAnimationActive:d,active:a,coordinate:o,hasPayload:v,offset:c,position:h,reverseDirection:f,useTranslate3d:p,viewBox:x,wrapperStyle:g},function(e,t){return J.isValidElement(e)?J.cloneElement(e,t):"function"==typeof e?J.createElement(e,t):J.createElement(qG,t)}(l,fK(fK({},this.props),{},{payload:b})))}}]),t}(Q.PureComponent);yK(NK,"displayName","Tooltip"),yK(NK,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!uK.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _K=iR,SK=/\s/,kK=function(e){for(var t=e.length;t--&&SK.test(e.charAt(t)););return t},CK=/^\s+/,EK=function(e){return e?e.slice(0,kK(e)+1).replace(CK,""):e},TK=OR,OK=_R,DK=/^[-+]0x[0-9a-f]+$/i,AK=/^0b[01]+$/i,PK=/^0o[0-7]+$/i,MK=parseInt,LK=function(e){if("number"==typeof e)return e;if(OK(e))return NaN;if(TK(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=TK(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=EK(e);var a=AK.test(e);return a||PK.test(e)?MK(e.slice(2),a?2:8):DK.test(e)?NaN:+e},IK=OR,FK=function(){return _K.Date.now()},RK=LK,$K=Math.max,BK=Math.min,zK=function(e,t,a){var r,n,s,l,o,i,d=0,c=!1,u=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var a=r,s=n;return r=n=void 0,d=t,l=e.apply(s,a)}function f(e){var a=e-i;return void 0===i||a>=t||a<0||u&&e-d>=s}function p(){var e=FK();if(f(e))return x(e);o=setTimeout(p,function(e){var a=t-(e-i);return u?BK(a,s-(e-d)):a}(e))}function x(e){return o=void 0,m&&r?h(e):(r=n=void 0,l)}function g(){var e=FK(),a=f(e);if(r=arguments,n=this,i=e,a){if(void 0===o)return function(e){return d=e,o=setTimeout(p,t),c?h(e):l}(i);if(u)return clearTimeout(o),o=setTimeout(p,t),h(i)}return void 0===o&&(o=setTimeout(p,t)),l}return t=RK(t)||0,IK(a)&&(c=!!a.leading,s=(u="maxWait"in a)?$K(RK(a.maxWait)||0,t):s,m="trailing"in a?!!a.trailing:m),g.cancel=function(){void 0!==o&&clearTimeout(o),d=0,r=i=n=o=void 0},g.flush=function(){return void 0===o?l:x(FK())},g},UK=zK,HK=OR;const WK=n((function(e,t,a){var r=!0,n=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return HK(a)&&(r="leading"in a?!!a.leading:r,n="trailing"in a?!!a.trailing:n),UK(e,t,{leading:r,maxWait:t,trailing:n})}));function YK(e){return(YK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qK(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function VK(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qK(Object(a),!0).forEach((function(t){GK(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qK(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function GK(e,t,a){var r;return r=function(e,t){if("object"!=YK(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=YK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==YK(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function KK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t);else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return XK(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?XK(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XK(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var QK=Q.forwardRef((function(e,t){var a=e.aspect,r=e.initialDimension,n=void 0===r?{width:-1,height:-1}:r,s=e.width,l=void 0===s?"100%":s,o=e.height,i=void 0===o?"100%":o,d=e.minWidth,c=void 0===d?0:d,u=e.minHeight,m=e.maxHeight,h=e.children,f=e.debounce,p=void 0===f?0:f,x=e.id,g=e.className,b=e.onResize,v=e.style,y=void 0===v?{}:v,w=Q.useRef(null),j=Q.useRef();j.current=b,Q.useImperativeHandle(t,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var N=KK(Q.useState({containerWidth:n.width,containerHeight:n.height}),2),_=N[0],S=N[1],k=Q.useCallback((function(e,t){S((function(a){var r=Math.round(e),n=Math.round(t);return a.containerWidth===r&&a.containerHeight===n?a:{containerWidth:r,containerHeight:n}}))}),[]);Q.useEffect((function(){var e=function(e){var t,a=e[0].contentRect,r=a.width,n=a.height;k(r,n),null===(t=j.current)||void 0===t||t.call(j,r,n)};p>0&&(e=WK(e,p,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),a=w.current.getBoundingClientRect(),r=a.width,n=a.height;return k(r,n),t.observe(w.current),function(){t.disconnect()}}),[k,p]);var C=Q.useMemo((function(){var e=_.containerWidth,t=_.containerHeight;if(e<0||t<0)return null;Zz(mz(l)||mz(i),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",l,i),Zz(!a||a>0,"The aspect(%s) must be greater than zero.",a);var r=mz(l)?e:l,n=mz(i)?t:i;a&&a>0&&(r?n=r/a:n&&(r=n*a),m&&n>m&&(n=m)),Zz(r>0||n>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,n,l,i,c,u,a);var s=!Array.isArray(h)&&nz.isElement(h)&&Pz(h.type).endsWith("Chart");return J.Children.map(h,(function(e){return nz.isElement(e)?Q.cloneElement(e,VK({width:r,height:n},s?{style:VK({height:"100%",width:"100%",maxHeight:n,maxWidth:r},e.props.style)}:{})):e}))}),[a,h,i,m,u,c,_,l]);return J.createElement("div",{id:x?"".concat(x):void 0,className:Wf("recharts-responsive-container",g),style:VK(VK({},y),{},{width:l,height:i,minWidth:c,minHeight:u,maxHeight:m}),ref:w},C)})),JK=function(e){return null};function ZK(e){return(ZK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eX(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function tX(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(a),!0).forEach((function(t){aX(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eX(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function aX(e,t,a){var r;return r=function(e,t){if("object"!=ZK(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=ZK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ZK(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}JK.displayName="Cell";var rX={widthCache:{},cacheCount:0},nX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sX="recharts_measurement_span",lX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||uK.isSsr)return{width:0,height:0};var a=function(e){var t=tX({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:a});if(rX.widthCache[r])return rX.widthCache[r];try{var n=document.getElementById(sX);n||((n=document.createElement("span")).setAttribute("id",sX),n.setAttribute("aria-hidden","true"),document.body.appendChild(n));var s=tX(tX({},nX),a);Object.assign(n.style,s),n.textContent="".concat(e);var l=n.getBoundingClientRect(),o={width:l.width,height:l.height};return rX.widthCache[r]=o,++rX.cacheCount>2e3&&(rX.cacheCount=0,rX.widthCache={}),o}catch(mMe){return{width:0,height:0}}};function oX(e){return(oX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dX(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?dX(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dX(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function cX(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uX(r.key),r)}}function uX(e){var t=function(e,t){if("object"!=oX(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=oX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==oX(t)?t:String(t)}var mX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},gX=Object.keys(xX),bX="NaN",vX=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=a,this.num=t,this.unit=a,Number.isNaN(t)&&(this.unit=""),""===a||fX.test(a)||(this.num=NaN,this.unit=""),gX.includes(a)&&(this.num=function(e,t){return e*xX[t]}(t,a),this.unit="px")}var t,a,r;return t=e,r=[{key:"parse",value:function(t){var a,r=iX(null!==(a=pX.exec(t))&&void 0!==a?a:[],3),n=r[1],s=r[2];return new e(parseFloat(n),null!=s?s:"")}}],(a=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&cX(t.prototype,a),r&&cX(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function yX(e){if(e.includes(bX))return bX;for(var t=e;t.includes("*")||t.includes("/");){var a,r=iX(null!==(a=mX.exec(t))&&void 0!==a?a:[],4),n=r[1],s=r[2],l=r[3],o=vX.parse(null!=n?n:""),i=vX.parse(null!=l?l:""),d="*"===s?o.multiply(i):o.divide(i);if(d.isNaN())return bX;t=t.replace(mX,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,u=iX(null!==(c=hX.exec(t))&&void 0!==c?c:[],4),m=u[1],h=u[2],f=u[3],p=vX.parse(null!=m?m:""),x=vX.parse(null!=f?f:""),g="+"===h?p.add(x):p.subtract(x);if(g.isNaN())return bX;t=t.replace(hX,g.toString())}return t}var wX=/\(([^()]*)\)/;function jX(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var a=iX(wX.exec(t),2)[1];t=t.replace(wX,yX(a))}return t}(t),t=yX(t)}function NX(e){var t=function(e){try{return jX(e)}catch(mMe){return bX}}(e.slice(5,-1));return t===bX?"":t}var _X=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],SX=["dx","dy","angle","className","breakAll"];function kX(){return kX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},kX.apply(this,arguments)}function CX(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function EX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return TX(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?TX(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TX(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var OX=/[ \f\n\r\t\v\u2028\u2029]+/,DX=function(e){var t=e.children,a=e.breakAll,r=e.style;try{var n=[];return OB(t)||(n=a?t.toString().split(""):t.toString().split(OX)),{wordsWithComputedWidth:n.map((function(e){return{word:e,width:lX(e,r).width}})),spaceWidth:a?0:lX("",r).width}}catch(mMe){return null}},AX=function(e){return[{words:OB(e)?[]:e.toString().split(OX)}]},PX=function(e){var t=e.width,a=e.scaleToFit,r=e.children,n=e.style,s=e.breakAll,l=e.maxLines;if((t||a)&&!uK.isSsr){var o=DX({breakAll:s,children:r,style:n});return o?function(e,t,a,r,n){var s=e.maxLines,l=e.children,o=e.style,i=e.breakAll,d=hz(s),c=l,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var s=t.word,l=t.width,o=e[e.length-1];if(o&&(null==r||n||o.width+l+a<Number(r)))o.words.push(s),o.width+=l+a;else{var i={words:[s],width:l};e.push(i)}return e}),[])},m=u(t);if(!d)return m;for(var h,f=function(e){var t=c.slice(0,e),a=DX({breakAll:i,style:o,children:t+""}).wordsWithComputedWidth,n=u(a),l=n.length>s||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(n).width>Number(r);return[l,n]},p=0,x=c.length-1,g=0;p<=x&&g<=c.length-1;){var b=Math.floor((p+x)/2),v=EX(f(b-1),2),y=v[0],w=v[1],j=EX(f(b),1)[0];if(y||j||(p=b+1),y&&j&&(x=b-1),!y&&j){h=w;break}g++}return h||m}({breakAll:s,children:r,maxLines:l,style:n},o.wordsWithComputedWidth,o.spaceWidth,t,a):AX(r)}return AX(r)},MX="#808080",LX=function(e){var t=e.x,a=void 0===t?0:t,r=e.y,n=void 0===r?0:r,s=e.lineHeight,l=void 0===s?"1em":s,o=e.capHeight,i=void 0===o?"0.71em":o,d=e.scaleToFit,c=void 0!==d&&d,u=e.textAnchor,m=void 0===u?"start":u,h=e.verticalAnchor,f=void 0===h?"end":h,p=e.fill,x=void 0===p?MX:p,g=CX(e,_X),b=Q.useMemo((function(){return PX({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:c,style:g.style,width:g.width})}),[g.breakAll,g.children,g.maxLines,c,g.style,g.width]),v=g.dx,y=g.dy,w=g.angle,j=g.className,N=g.breakAll,_=CX(g,SX);if(!fz(a)||!fz(n))return null;var S,k=a+(hz(v)?v:0),C=n+(hz(y)?y:0);switch(f){case"start":S=NX("calc(".concat(i,")"));break;case"middle":S=NX("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(i," / 2))"));break;default:S=NX("calc(".concat(b.length-1," * -").concat(l,")"))}var E=[];if(c){var T=b[0].width,O=g.width;E.push("scale(".concat((hz(O)?O/T:1)/T,")"))}return w&&E.push("rotate(".concat(w,", ").concat(k,", ").concat(C,")")),E.length&&(_.transform=E.join(" ")),J.createElement("text",kX({},zz(_,!0),{x:k,y:C,className:Wf("recharts-text",j),textAnchor:m,fill:x.includes("url")?MX:x}),b.map((function(e,t){var a=e.words.join(N?"":" ");return J.createElement("tspan",{x:k,dy:0===t?S:l,key:a},a)})))};function IX(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FX(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RX(e){let t,a,r;function n(e,r,n=0,s=e.length){if(n<s){if(0!==t(r,r))return s;do{const t=n+s>>>1;a(e[t],r)<0?n=t+1:s=t}while(n<s)}return n}return 2!==e.length?(t=IX,a=(t,a)=>IX(e(t),a),r=(t,a)=>e(t)-a):(t=e===IX||e===FX?e:$X,a=e,r=e),{left:n,center:function(e,t,a=0,s=e.length){const l=n(e,t,a,s-1);return l>a&&r(e[l-1],t)>-r(e[l],t)?l-1:l},right:function(e,r,n=0,s=e.length){if(n<s){if(0!==t(r,r))return s;do{const t=n+s>>>1;a(e[t],r)<=0?n=t+1:s=t}while(n<s)}return n}}}function $X(){return 0}function BX(e){return null===e?NaN:+e}const zX=RX(IX).right;RX(BX).center;class UX extends Map{constructor(e,t=WX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[a,r]of e)this.set(a,r)}get(e){return super.get(HX(this,e))}has(e){return super.has(HX(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}(this,e))}}function HX({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function WX(e){return null!==e&&"object"==typeof e?e.valueOf():e}function YX(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const qX=Math.sqrt(50),VX=Math.sqrt(10),GX=Math.sqrt(2);function KX(e,t,a){const r=(t-e)/Math.max(0,a),n=Math.floor(Math.log10(r)),s=r/Math.pow(10,n),l=s>=qX?10:s>=VX?5:s>=GX?2:1;let o,i,d;return n<0?(d=Math.pow(10,-n)/l,o=Math.round(e*d),i=Math.round(t*d),o/d<e&&++o,i/d>t&&--i,d=-d):(d=Math.pow(10,n)*l,o=Math.round(e/d),i=Math.round(t/d),o*d<e&&++o,i*d>t&&--i),i<o&&.5<=a&&a<2?KX(e,t,2*a):[o,i,d]}function XX(e,t,a){if(!((a=+a)>0))return[];if((e=+e)==(t=+t))return[e];const r=t<e,[n,s,l]=r?KX(t,e,a):KX(e,t,a);if(!(s>=n))return[];const o=s-n+1,i=new Array(o);if(r)if(l<0)for(let d=0;d<o;++d)i[d]=(s-d)/-l;else for(let d=0;d<o;++d)i[d]=(s-d)*l;else if(l<0)for(let d=0;d<o;++d)i[d]=(n+d)/-l;else for(let d=0;d<o;++d)i[d]=(n+d)*l;return i}function QX(e,t,a){return KX(e=+e,t=+t,a=+a)[2]}function JX(e,t,a){a=+a;const r=(t=+t)<(e=+e),n=r?QX(t,e,a):QX(e,t,a);return(r?-1:1)*(n<0?1/-n:n)}function ZX(e,t){let a;for(const r of e)null!=r&&(a<r||void 0===a&&r>=r)&&(a=r);return a}function eQ(e,t){let a;for(const r of e)null!=r&&(a>r||void 0===a&&r>=r)&&(a=r);return a}function tQ(e,t,a=0,r=1/0,n){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(n=void 0===n?YX:function(e=IX){if(e===IX)return YX;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||0===r?r:(0===e(a,a))-(0===e(t,t))}}(n);r>a;){if(r-a>600){const s=r-a+1,l=t-a+1,o=Math.log(s),i=.5*Math.exp(2*o/3),d=.5*Math.sqrt(o*i*(s-i)/s)*(l-s/2<0?-1:1);tQ(e,t,Math.max(a,Math.floor(t-l*i/s+d)),Math.min(r,Math.floor(t+(s-l)*i/s+d)),n)}const s=e[t];let l=a,o=r;for(aQ(e,a,t),n(e[r],s)>0&&aQ(e,a,r);l<o;){for(aQ(e,l,o),++l,--o;n(e[l],s)<0;)++l;for(;n(e[o],s)>0;)--o}0===n(e[a],s)?aQ(e,a,o):(++o,aQ(e,o,r)),o<=t&&(a=o+1),t<=o&&(r=o-1)}return e}function aQ(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function rQ(e,t,a=BX){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,n=(r-1)*t,s=Math.floor(n),l=+a(e[s],s,e);return l+(+a(e[s+1],s+1,e)-l)*(n-s)}}function nQ(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function sQ(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const lQ=Symbol("implicit");function oQ(){var e=new UX,t=[],a=[],r=lQ;function n(n){let s=e.get(n);if(void 0===s){if(r!==lQ)return r;e.set(n,s=t.push(n)-1)}return a[s%a.length]}return n.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new UX;for(const r of a)e.has(r)||e.set(r,t.push(r)-1);return n},n.range=function(e){return arguments.length?(a=Array.from(e),n):a.slice()},n.unknown=function(e){return arguments.length?(r=e,n):r},n.copy=function(){return oQ(t,a).unknown(r)},nQ.apply(n,arguments),n}function iQ(){var e,t,a=oQ().unknown(void 0),r=a.domain,n=a.range,s=0,l=1,o=!1,i=0,d=0,c=.5;function u(){var a=r().length,u=l<s,m=u?l:s,h=u?s:l;e=(h-m)/Math.max(1,a-i+2*d),o&&(e=Math.floor(e)),m+=(h-m-e*(a-i))*c,t=e*(1-i),o&&(m=Math.round(m),t=Math.round(t));var f=function(e,t,a){e=+e,t=+t,a=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+a;for(var r=-1,n=0|Math.max(0,Math.ceil((t-e)/a)),s=new Array(n);++r<n;)s[r]=e+r*a;return s}(a).map((function(t){return m+e*t}));return n(u?f.reverse():f)}return delete a.unknown,a.domain=function(e){return arguments.length?(r(e),u()):r()},a.range=function(e){return arguments.length?([s,l]=e,s=+s,l=+l,u()):[s,l]},a.rangeRound=function(e){return[s,l]=e,s=+s,l=+l,o=!0,u()},a.bandwidth=function(){return t},a.step=function(){return e},a.round=function(e){return arguments.length?(o=!!e,u()):o},a.padding=function(e){return arguments.length?(i=Math.min(1,d=+e),u()):i},a.paddingInner=function(e){return arguments.length?(i=Math.min(1,e),u()):i},a.paddingOuter=function(e){return arguments.length?(d=+e,u()):d},a.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),u()):c},a.copy=function(){return iQ(r(),[s,l]).round(o).paddingInner(i).paddingOuter(d).align(c)},nQ.apply(u(),arguments)}function dQ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dQ(t())},e}function cQ(){return dQ(iQ.apply(null,arguments).paddingInner(1))}function uQ(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function mQ(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function hQ(){}var fQ=.7,pQ=1/fQ,xQ="\\s*([+-]?\\d+)\\s*",gQ="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bQ="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vQ=/^#([0-9a-f]{3,8})$/,yQ=new RegExp(`^rgb\\(${xQ},${xQ},${xQ}\\)$`),wQ=new RegExp(`^rgb\\(${bQ},${bQ},${bQ}\\)$`),jQ=new RegExp(`^rgba\\(${xQ},${xQ},${xQ},${gQ}\\)$`),NQ=new RegExp(`^rgba\\(${bQ},${bQ},${bQ},${gQ}\\)$`),_Q=new RegExp(`^hsl\\(${gQ},${bQ},${bQ}\\)$`),SQ=new RegExp(`^hsla\\(${gQ},${bQ},${bQ},${gQ}\\)$`),kQ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function CQ(){return this.rgb().formatHex()}function EQ(){return this.rgb().formatRgb()}function TQ(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=vQ.exec(e))?(a=t[1].length,t=parseInt(t[1],16),6===a?OQ(t):3===a?new PQ(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===a?DQ(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===a?DQ(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=yQ.exec(e))?new PQ(t[1],t[2],t[3],1):(t=wQ.exec(e))?new PQ(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=jQ.exec(e))?DQ(t[1],t[2],t[3],t[4]):(t=NQ.exec(e))?DQ(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=_Q.exec(e))?$Q(t[1],t[2]/100,t[3]/100,1):(t=SQ.exec(e))?$Q(t[1],t[2]/100,t[3]/100,t[4]):kQ.hasOwnProperty(e)?OQ(kQ[e]):"transparent"===e?new PQ(NaN,NaN,NaN,0):null}function OQ(e){return new PQ(e>>16&255,e>>8&255,255&e,1)}function DQ(e,t,a,r){return r<=0&&(e=t=a=NaN),new PQ(e,t,a,r)}function AQ(e,t,a,r){return 1===arguments.length?((n=e)instanceof hQ||(n=TQ(n)),n?new PQ((n=n.rgb()).r,n.g,n.b,n.opacity):new PQ):new PQ(e,t,a,null==r?1:r);var n}function PQ(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}function MQ(){return`#${RQ(this.r)}${RQ(this.g)}${RQ(this.b)}`}function LQ(){const e=IQ(this.opacity);return`${1===e?"rgb(":"rgba("}${FQ(this.r)}, ${FQ(this.g)}, ${FQ(this.b)}${1===e?")":`, ${e})`}`}function IQ(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function FQ(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function RQ(e){return((e=FQ(e))<16?"0":"")+e.toString(16)}function $Q(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new zQ(e,t,a,r)}function BQ(e){if(e instanceof zQ)return new zQ(e.h,e.s,e.l,e.opacity);if(e instanceof hQ||(e=TQ(e)),!e)return new zQ;if(e instanceof zQ)return e;var t=(e=e.rgb()).r/255,a=e.g/255,r=e.b/255,n=Math.min(t,a,r),s=Math.max(t,a,r),l=NaN,o=s-n,i=(s+n)/2;return o?(l=t===s?(a-r)/o+6*(a<r):a===s?(r-t)/o+2:(t-a)/o+4,o/=i<.5?s+n:2-s-n,l*=60):o=i>0&&i<1?0:l,new zQ(l,o,i,e.opacity)}function zQ(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}function UQ(e){return(e=(e||0)%360)<0?e+360:e}function HQ(e){return Math.max(0,Math.min(1,e||0))}function WQ(e,t,a){return 255*(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)}uQ(hQ,TQ,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CQ,formatHex:CQ,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return BQ(this).formatHsl()},formatRgb:EQ,toString:EQ}),uQ(PQ,AQ,mQ(hQ,{brighter(e){return e=null==e?pQ:Math.pow(pQ,e),new PQ(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?fQ:Math.pow(fQ,e),new PQ(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new PQ(FQ(this.r),FQ(this.g),FQ(this.b),IQ(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MQ,formatHex:MQ,formatHex8:function(){return`#${RQ(this.r)}${RQ(this.g)}${RQ(this.b)}${RQ(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:LQ,toString:LQ})),uQ(zQ,(function(e,t,a,r){return 1===arguments.length?BQ(e):new zQ(e,t,a,null==r?1:r)}),mQ(hQ,{brighter(e){return e=null==e?pQ:Math.pow(pQ,e),new zQ(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?fQ:Math.pow(fQ,e),new zQ(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,n=2*a-r;return new PQ(WQ(e>=240?e-240:e+120,n,r),WQ(e,n,r),WQ(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new zQ(UQ(this.h),HQ(this.s),HQ(this.l),IQ(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=IQ(this.opacity);return`${1===e?"hsl(":"hsla("}${UQ(this.h)}, ${100*HQ(this.s)}%, ${100*HQ(this.l)}%${1===e?")":`, ${e})`}`}}));const YQ=e=>()=>e;function qQ(e){return 1==(e=+e)?VQ:function(t,a){return a-t?function(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}(t,a,e):YQ(isNaN(t)?a:t)}}function VQ(e,t){var a=t-e;return a?function(e,t){return function(a){return e+a*t}}(e,a):YQ(isNaN(e)?t:e)}const GQ=function e(t){var a=qQ(t);function r(e,t){var r=a((e=AQ(e)).r,(t=AQ(t)).r),n=a(e.g,t.g),s=a(e.b,t.b),l=VQ(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=n(t),e.b=s(t),e.opacity=l(t),e+""}}return r.gamma=e,r}(1);function KQ(e,t){t||(t=[]);var a,r=e?Math.min(t.length,e.length):0,n=t.slice();return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function XQ(e,t){var a,r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),l=new Array(r);for(a=0;a<n;++a)s[a]=rJ(e[a],t[a]);for(;a<r;++a)l[a]=t[a];return function(e){for(a=0;a<n;++a)l[a]=s[a](e);return l}}function QQ(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function JQ(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function ZQ(e,t){var a,r={},n={};for(a in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)a in e?r[a]=rJ(e[a],t[a]):n[a]=t[a];return function(e){for(a in r)n[a]=r[a](e);return n}}var eJ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tJ=new RegExp(eJ.source,"g");function aJ(e,t){var a,r,n,s=eJ.lastIndex=tJ.lastIndex=0,l=-1,o=[],i=[];for(e+="",t+="";(a=eJ.exec(e))&&(r=tJ.exec(t));)(n=r.index)>s&&(n=t.slice(s,n),o[l]?o[l]+=n:o[++l]=n),(a=a[0])===(r=r[0])?o[l]?o[l]+=r:o[++l]=r:(o[++l]=null,i.push({i:l,x:JQ(a,r)})),s=tJ.lastIndex;return s<t.length&&(n=t.slice(s),o[l]?o[l]+=n:o[++l]=n),o.length<2?i[0]?function(e){return function(t){return e(t)+""}}(i[0].x):function(e){return function(){return e}}(t):(t=i.length,function(e){for(var a,r=0;r<t;++r)o[(a=i[r]).i]=a.x(e);return o.join("")})}function rJ(e,t){var a,r,n=typeof t;return null==t||"boolean"===n?YQ(t):("number"===n?JQ:"string"===n?(a=TQ(t))?(t=a,GQ):aJ:t instanceof TQ?GQ:t instanceof Date?QQ:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?XQ:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ZQ:JQ:KQ))(e,t)}function nJ(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function sJ(e){return+e}var lJ=[0,1];function oJ(e){return e}function iJ(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:(a=isNaN(t)?NaN:.5,function(){return a});var a}function dJ(e,t,a){var r=e[0],n=e[1],s=t[0],l=t[1];return n<r?(r=iJ(n,r),s=a(l,s)):(r=iJ(r,n),s=a(s,l)),function(e){return s(r(e))}}function cJ(e,t,a){var r=Math.min(e.length,t.length)-1,n=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)n[l]=iJ(e[l],e[l+1]),s[l]=a(t[l],t[l+1]);return function(t){var a=zX(e,t,1,r)-1;return s[a](n[a](t))}}function uJ(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mJ(){var e,t,a,r,n,s,l=lJ,o=lJ,i=rJ,d=oJ;function c(){var e=Math.min(l.length,o.length);return d!==oJ&&(d=function(e,t){var a;return e>t&&(a=e,e=t,t=a),function(a){return Math.max(e,Math.min(t,a))}}(l[0],l[e-1])),r=e>2?cJ:dJ,n=s=null,u}function u(t){return null==t||isNaN(t=+t)?a:(n||(n=r(l.map(e),o,i)))(e(d(t)))}return u.invert=function(a){return d(t((s||(s=r(o,l.map(e),JQ)))(a)))},u.domain=function(e){return arguments.length?(l=Array.from(e,sJ),c()):l.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),c()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),i=nJ,c()},u.clamp=function(e){return arguments.length?(d=!!e||oJ,c()):d!==oJ},u.interpolate=function(e){return arguments.length?(i=e,c()):i},u.unknown=function(e){return arguments.length?(a=e,u):a},function(a,r){return e=a,t=r,c()}}function hJ(){return mJ()(oJ,oJ)}function fJ(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function pJ(e){return(e=fJ(Math.abs(e)))?e[1]:NaN}var xJ,gJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bJ(e){if(!(t=gJ.exec(e)))throw new Error("invalid format: "+e);var t;return new vJ({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function vJ(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function yJ(e,t){var a=fJ(e,t);if(!a)return e+"";var r=a[0],n=a[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}bJ.prototype=vJ.prototype,vJ.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const wJ={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yJ(100*e,t),r:yJ,s:function(e,t){var a=fJ(e,t);if(!a)return e+"";var r=a[0],n=a[1],s=n-(xJ=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+fJ(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jJ(e){return e}var NJ,_J,SJ,kJ=Array.prototype.map,CJ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EJ(e){var t,a,r=void 0===e.grouping||void 0===e.thousands?jJ:(t=kJ.call(e.grouping,Number),a=e.thousands+"",function(e,r){for(var n=e.length,s=[],l=0,o=t[0],i=0;n>0&&o>0&&(i+o+1>r&&(o=Math.max(1,r-i)),s.push(e.substring(n-=o,n+o)),!((i+=o+1)>r));)o=t[l=(l+1)%t.length];return s.reverse().join(a)}),n=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?jJ:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(kJ.call(e.numerals,String)),i=void 0===e.percent?"%":e.percent+"",d=void 0===e.minus?"":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=bJ(e)).fill,a=e.align,u=e.sign,m=e.symbol,h=e.zero,f=e.width,p=e.comma,x=e.precision,g=e.trim,b=e.type;"n"===b?(p=!0,b="g"):wJ[b]||(void 0===x&&(x=12),g=!0,b="g"),(h||"0"===t&&"="===a)&&(h=!0,t="0",a="=");var v="$"===m?n:"#"===m&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",y="$"===m?s:/[%p]/.test(b)?i:"",w=wJ[b],j=/[defgprs%]/.test(b);function N(e){var n,s,i,m=v,N=y;if("c"===b)N=w(e)+N,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),x),g&&(e=function(e){e:for(var t,a=e.length,r=1,n=-1;r<a;++r)switch(e[r]){case".":n=t=r;break;case"0":0===n&&(n=r),t=r;break;default:if(!+e[r])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(t+1):e}(e)),_&&0==+e&&"+"!==u&&(_=!1),m=(_?"("===u?u:d:"-"===u||"("===u?"":u)+m,N=("s"===b?CJ[8+xJ/3]:"")+N+(_&&"("===u?")":""),j)for(n=-1,s=e.length;++n<s;)if(48>(i=e.charCodeAt(n))||i>57){N=(46===i?l+e.slice(n+1):e.slice(n))+N,e=e.slice(0,n);break}}p&&!h&&(e=r(e,1/0));var S=m.length+e.length+N.length,k=S<f?new Array(f-S+1).join(t):"";switch(p&&h&&(e=r(k+e,k.length?f-N.length:1/0),k=""),a){case"<":e=m+e+N+k;break;case"=":e=m+k+e+N;break;case"^":e=k.slice(0,S=k.length>>1)+m+e+N+k.slice(S);break;default:e=k+m+e+N}return o(e)}return x=void 0===x?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var a=u(((e=bJ(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(pJ(t)/3))),n=Math.pow(10,-r),s=CJ[8+r/3];return function(e){return a(n*e)+s}}}}function TJ(e,t,a,r){var n,s=JX(e,t,a);switch((r=bJ(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(n=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pJ(t)/3)))-pJ(Math.abs(e)))}(s,l))||(r.precision=n),SJ(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(n=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pJ(t)-pJ(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=n-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(n=function(e){return Math.max(0,-pJ(Math.abs(e)))}(s))||(r.precision=n-2*("%"===r.type))}return _J(r)}function OJ(e){var t=e.domain;return e.ticks=function(e){var a=t();return XX(a[0],a[a.length-1],null==e?10:e)},e.tickFormat=function(e,a){var r=t();return TJ(r[0],r[r.length-1],null==e?10:e,a)},e.nice=function(a){null==a&&(a=10);var r,n,s=t(),l=0,o=s.length-1,i=s[l],d=s[o],c=10;for(d<i&&(n=i,i=d,d=n,n=l,l=o,o=n);c-- >0;){if((n=QX(i,d,a))===r)return s[l]=i,s[o]=d,t(s);if(n>0)i=Math.floor(i/n)*n,d=Math.ceil(d/n)*n;else{if(!(n<0))break;i=Math.ceil(i*n)/n,d=Math.floor(d*n)/n}r=n}return e},e}function DJ(){var e=hJ();return e.copy=function(){return uJ(e,DJ())},nQ.apply(e,arguments),OJ(e)}function AJ(e,t){var a,r=0,n=(e=e.slice()).length-1,s=e[r],l=e[n];return l<s&&(a=r,r=n,n=a,a=s,s=l,l=a),e[r]=t.floor(s),e[n]=t.ceil(l),e}function PJ(e){return Math.log(e)}function MJ(e){return Math.exp(e)}function LJ(e){return-Math.log(-e)}function IJ(e){return-Math.exp(-e)}function FJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function RJ(e){return(t,a)=>-e(-t,a)}function $J(e){const t=e(PJ,MJ),a=t.domain;let r,n,s=10;function l(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),n=function(e){return 10===e?FJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),a()[0]<0?(r=RJ(r),n=RJ(n),e(LJ,IJ)):e(PJ,MJ),t}return t.base=function(e){return arguments.length?(s=+e,l()):s},t.domain=function(e){return arguments.length?(a(e),l()):a()},t.ticks=e=>{const t=a();let l=t[0],o=t[t.length-1];const i=o<l;i&&([l,o]=[o,l]);let d,c,u=r(l),m=r(o);const h=null==e?10:+e;let f=[];if(!(s%1)&&m-u<h){if(u=Math.floor(u),m=Math.ceil(m),l>0){for(;u<=m;++u)for(d=1;d<s;++d)if(c=u<0?d/n(-u):d*n(u),!(c<l)){if(c>o)break;f.push(c)}}else for(;u<=m;++u)for(d=s-1;d>=1;--d)if(c=u>0?d/n(-u):d*n(u),!(c<l)){if(c>o)break;f.push(c)}2*f.length<h&&(f=XX(l,o,h))}else f=XX(u,m,Math.min(m-u,h)).map(n);return i?f.reverse():f},t.tickFormat=(e,a)=>{if(null==e&&(e=10),null==a&&(a=10===s?"s":","),"function"!=typeof a&&(s%1||null!=(a=bJ(a)).precision||(a.trim=!0),a=_J(a)),e===1/0)return a;const l=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/n(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=l?a(e):""}},t.nice=()=>a(AJ(a(),{floor:e=>n(Math.floor(r(e))),ceil:e=>n(Math.ceil(r(e)))})),t}function BJ(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function zJ(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UJ(e){var t=1,a=e(BJ(t),zJ(t));return a.constant=function(a){return arguments.length?e(BJ(t=+a),zJ(t)):t},OJ(a)}function HJ(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function YJ(e){return e<0?-e*e:e*e}function qJ(e){var t=e(oJ,oJ),a=1;return t.exponent=function(t){return arguments.length?1==(a=+t)?e(oJ,oJ):.5===a?e(WJ,YJ):e(HJ(a),HJ(1/a)):a},OJ(t)}function VJ(){var e=qJ(mJ());return e.copy=function(){return uJ(e,VJ()).exponent(e.exponent())},nQ.apply(e,arguments),e}function GJ(e){return Math.sign(e)*e*e}NJ=EJ({thousands:",",grouping:[3],currency:["$",""]}),_J=NJ.format,SJ=NJ.formatPrefix;const KJ=new Date,XJ=new Date;function QJ(e,t,a,r){function n(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return n.floor=t=>(e(t=new Date(+t)),t),n.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),n.round=e=>{const t=n(e),a=n.ceil(e);return e-t<a-e?t:a},n.offset=(e,a)=>(t(e=new Date(+e),null==a?1:Math.floor(a)),e),n.range=(a,r,s)=>{const l=[];if(a=n.ceil(a),s=null==s?1:Math.floor(s),!(a<r&&s>0))return l;let o;do{l.push(o=new Date(+a)),t(a,s),e(a)}while(o<a&&a<r);return l},n.filter=a=>QJ((t=>{if(t>=t)for(;e(t),!a(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!a(e););else for(;--r>=0;)for(;t(e,1),!a(e););})),a&&(n.count=(t,r)=>(KJ.setTime(+t),XJ.setTime(+r),e(KJ),e(XJ),Math.floor(a(KJ,XJ))),n.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?n.filter(r?t=>r(t)%e==0:t=>n.count(0,t)%e==0):n:null)),n}const JJ=QJ((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));JJ.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?QJ((t=>{t.setTime(Math.floor(t/e)*e)}),((t,a)=>{t.setTime(+t+a*e)}),((t,a)=>(a-t)/e)):JJ:null),JJ.range;const ZJ=1e3,eZ=6e4,tZ=36e5,aZ=864e5,rZ=6048e5,nZ=2592e6,sZ=31536e6,lZ=QJ((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*ZJ)}),((e,t)=>(t-e)/ZJ),(e=>e.getUTCSeconds()));lZ.range;const oZ=QJ((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ZJ)}),((e,t)=>{e.setTime(+e+t*eZ)}),((e,t)=>(t-e)/eZ),(e=>e.getMinutes()));oZ.range;const iZ=QJ((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*eZ)}),((e,t)=>(t-e)/eZ),(e=>e.getUTCMinutes()));iZ.range;const dZ=QJ((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ZJ-e.getMinutes()*eZ)}),((e,t)=>{e.setTime(+e+t*tZ)}),((e,t)=>(t-e)/tZ),(e=>e.getHours()));dZ.range;const cZ=QJ((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*tZ)}),((e,t)=>(t-e)/tZ),(e=>e.getUTCHours()));cZ.range;const uZ=QJ((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*eZ)/aZ),(e=>e.getDate()-1));uZ.range;const mZ=QJ((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/aZ),(e=>e.getUTCDate()-1));mZ.range;const hZ=QJ((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/aZ),(e=>Math.floor(e/aZ)));function fZ(e){return QJ((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*eZ)/rZ))}hZ.range;const pZ=fZ(0),xZ=fZ(1),gZ=fZ(2),bZ=fZ(3),vZ=fZ(4),yZ=fZ(5),wZ=fZ(6);function jZ(e){return QJ((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/rZ))}pZ.range,xZ.range,gZ.range,bZ.range,vZ.range,yZ.range,wZ.range;const NZ=jZ(0),_Z=jZ(1),SZ=jZ(2),kZ=jZ(3),CZ=jZ(4),EZ=jZ(5),TZ=jZ(6);NZ.range,_Z.range,SZ.range,kZ.range,CZ.range,EZ.range,TZ.range;const OZ=QJ((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()));OZ.range;const DZ=QJ((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));DZ.range;const AZ=QJ((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));AZ.every=e=>isFinite(e=Math.floor(e))&&e>0?QJ((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,a)=>{t.setFullYear(t.getFullYear()+a*e)})):null,AZ.range;const PZ=QJ((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function MZ(e,t,a,r,n,s){const l=[[lZ,1,ZJ],[lZ,5,5e3],[lZ,15,15e3],[lZ,30,3e4],[s,1,eZ],[s,5,3e5],[s,15,9e5],[s,30,18e5],[n,1,tZ],[n,3,108e5],[n,6,216e5],[n,12,432e5],[r,1,aZ],[r,2,1728e5],[a,1,rZ],[t,1,nZ],[t,3,7776e6],[e,1,sZ]];function o(t,a,r){const n=Math.abs(a-t)/r,s=RX((([,,e])=>e)).right(l,n);if(s===l.length)return e.every(JX(t/sZ,a/sZ,r));if(0===s)return JJ.every(Math.max(JX(t,a,r),1));const[o,i]=l[n/l[s-1][2]<l[s][2]/n?s-1:s];return o.every(i)}return[function(e,t,a){const r=t<e;r&&([e,t]=[t,e]);const n=a&&"function"==typeof a.range?a:o(e,t,a),s=n?n.range(e,+t+1):[];return r?s.reverse():s},o]}PZ.every=e=>isFinite(e=Math.floor(e))&&e>0?QJ((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)})):null,PZ.range;const[LZ,IZ]=MZ(PZ,DZ,NZ,hZ,cZ,iZ),[FZ,RZ]=MZ(AZ,OZ,pZ,uZ,dZ,oZ);function $Z(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function BZ(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zZ(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}var UZ,HZ,WZ,YZ={"-":"",_:" ",0:"0"},qZ=/^\s*\d+/,VZ=/^%/,GZ=/[\\^$*+?|[\]().{}]/g;function KZ(e,t,a){var r=e<0?"-":"",n=(r?-e:e)+"",s=n.length;return r+(s<a?new Array(a-s+1).join(t)+n:n)}function XZ(e){return e.replace(GZ,"\\$&")}function QZ(e){return new RegExp("^(?:"+e.map(XZ).join("|")+")","i")}function JZ(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function ZZ(e,t,a){var r=qZ.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function e0(e,t,a){var r=qZ.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function t0(e,t,a){var r=qZ.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function a0(e,t,a){var r=qZ.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function r0(e,t,a){var r=qZ.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function n0(e,t,a){var r=qZ.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function s0(e,t,a){var r=qZ.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function l0(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function o0(e,t,a){var r=qZ.exec(t.slice(a,a+1));return r?(e.q=3*r[0]-3,a+r[0].length):-1}function i0(e,t,a){var r=qZ.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function d0(e,t,a){var r=qZ.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function c0(e,t,a){var r=qZ.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function u0(e,t,a){var r=qZ.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function m0(e,t,a){var r=qZ.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function h0(e,t,a){var r=qZ.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function f0(e,t,a){var r=qZ.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function p0(e,t,a){var r=qZ.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function x0(e,t,a){var r=VZ.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function g0(e,t,a){var r=qZ.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function b0(e,t,a){var r=qZ.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function v0(e,t){return KZ(e.getDate(),t,2)}function y0(e,t){return KZ(e.getHours(),t,2)}function w0(e,t){return KZ(e.getHours()%12||12,t,2)}function j0(e,t){return KZ(1+uZ.count(AZ(e),e),t,3)}function N0(e,t){return KZ(e.getMilliseconds(),t,3)}function _0(e,t){return N0(e,t)+"000"}function S0(e,t){return KZ(e.getMonth()+1,t,2)}function k0(e,t){return KZ(e.getMinutes(),t,2)}function C0(e,t){return KZ(e.getSeconds(),t,2)}function E0(e){var t=e.getDay();return 0===t?7:t}function T0(e,t){return KZ(pZ.count(AZ(e)-1,e),t,2)}function O0(e){var t=e.getDay();return t>=4||0===t?vZ(e):vZ.ceil(e)}function D0(e,t){return e=O0(e),KZ(vZ.count(AZ(e),e)+(4===AZ(e).getDay()),t,2)}function A0(e){return e.getDay()}function P0(e,t){return KZ(xZ.count(AZ(e)-1,e),t,2)}function M0(e,t){return KZ(e.getFullYear()%100,t,2)}function L0(e,t){return KZ((e=O0(e)).getFullYear()%100,t,2)}function I0(e,t){return KZ(e.getFullYear()%1e4,t,4)}function F0(e,t){var a=e.getDay();return KZ((e=a>=4||0===a?vZ(e):vZ.ceil(e)).getFullYear()%1e4,t,4)}function R0(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+KZ(t/60|0,"0",2)+KZ(t%60,"0",2)}function $0(e,t){return KZ(e.getUTCDate(),t,2)}function B0(e,t){return KZ(e.getUTCHours(),t,2)}function z0(e,t){return KZ(e.getUTCHours()%12||12,t,2)}function U0(e,t){return KZ(1+mZ.count(PZ(e),e),t,3)}function H0(e,t){return KZ(e.getUTCMilliseconds(),t,3)}function W0(e,t){return H0(e,t)+"000"}function Y0(e,t){return KZ(e.getUTCMonth()+1,t,2)}function q0(e,t){return KZ(e.getUTCMinutes(),t,2)}function V0(e,t){return KZ(e.getUTCSeconds(),t,2)}function G0(e){var t=e.getUTCDay();return 0===t?7:t}function K0(e,t){return KZ(NZ.count(PZ(e)-1,e),t,2)}function X0(e){var t=e.getUTCDay();return t>=4||0===t?CZ(e):CZ.ceil(e)}function Q0(e,t){return e=X0(e),KZ(CZ.count(PZ(e),e)+(4===PZ(e).getUTCDay()),t,2)}function J0(e){return e.getUTCDay()}function Z0(e,t){return KZ(_Z.count(PZ(e)-1,e),t,2)}function e1(e,t){return KZ(e.getUTCFullYear()%100,t,2)}function t1(e,t){return KZ((e=X0(e)).getUTCFullYear()%100,t,2)}function a1(e,t){return KZ(e.getUTCFullYear()%1e4,t,4)}function r1(e,t){var a=e.getUTCDay();return KZ((e=a>=4||0===a?CZ(e):CZ.ceil(e)).getUTCFullYear()%1e4,t,4)}function n1(){return"+0000"}function s1(){return"%"}function l1(e){return+e}function o1(e){return Math.floor(+e/1e3)}function i1(e){return new Date(e)}function d1(e){return e instanceof Date?+e:+new Date(+e)}function c1(e,t,a,r,n,s,l,o,i,d){var c=hJ(),u=c.invert,m=c.domain,h=d(".%L"),f=d(":%S"),p=d("%I:%M"),x=d("%I %p"),g=d("%a %d"),b=d("%b %d"),v=d("%B"),y=d("%Y");function w(e){return(i(e)<e?h:o(e)<e?f:l(e)<e?p:s(e)<e?x:r(e)<e?n(e)<e?g:b:a(e)<e?v:y)(e)}return c.invert=function(e){return new Date(u(e))},c.domain=function(e){return arguments.length?m(Array.from(e,d1)):m().map(i1)},c.ticks=function(t){var a=m();return e(a[0],a[a.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?w:d(t)},c.nice=function(e){var a=m();return e&&"function"==typeof e.range||(e=t(a[0],a[a.length-1],null==e?10:e)),e?m(AJ(a,e)):c},c.copy=function(){return uJ(c,c1(e,t,a,r,n,s,l,o,i,d))},c}function u1(){var e,t,a,r,n,s=0,l=1,o=oJ,i=!1;function d(t){return null==t||isNaN(t=+t)?n:o(0===a?.5:(t=(r(t)-e)*a,i?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var a,r;return arguments.length?([a,r]=t,o=e(a,r),d):[o(0),o(1)]}}return d.domain=function(n){return arguments.length?([s,l]=n,e=r(s=+s),t=r(l=+l),a=e===t?0:1/(t-e),d):[s,l]},d.clamp=function(e){return arguments.length?(i=!!e,d):i},d.interpolator=function(e){return arguments.length?(o=e,d):o},d.range=c(rJ),d.rangeRound=c(nJ),d.unknown=function(e){return arguments.length?(n=e,d):n},function(n){return r=n,e=n(s),t=n(l),a=e===t?0:1/(t-e),d}}function m1(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function h1(){var e=qJ(u1());return e.copy=function(){return m1(e,h1()).exponent(e.exponent())},sQ.apply(e,arguments)}function f1(){var e,t,a,r,n,s,l,o=0,i=.5,d=1,c=1,u=oJ,m=!1;function h(e){return isNaN(e=+e)?l:(e=.5+((e=+s(e))-t)*(c*e<c*t?r:n),u(m?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var a,r,n;return arguments.length?([a,r,n]=t,u=function(e,t){void 0===t&&(t=e,e=rJ);for(var a=0,r=t.length-1,n=t[0],s=new Array(r<0?0:r);a<r;)s[a]=e(n,n=t[++a]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[a,r,n]),h):[u(0),u(.5),u(1)]}}return h.domain=function(l){return arguments.length?([o,i,d]=l,e=s(o=+o),t=s(i=+i),a=s(d=+d),r=e===t?0:.5/(t-e),n=t===a?0:.5/(a-t),c=t<e?-1:1,h):[o,i,d]},h.clamp=function(e){return arguments.length?(m=!!e,h):m},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=f(rJ),h.rangeRound=f(nJ),h.unknown=function(e){return arguments.length?(l=e,h):l},function(l){return s=l,e=l(o),t=l(i),a=l(d),r=e===t?0:.5/(t-e),n=t===a?0:.5/(a-t),c=t<e?-1:1,h}}function p1(){var e=qJ(f1());return e.copy=function(){return m1(e,p1()).exponent(e.exponent())},sQ.apply(e,arguments)}!function(e){UZ=function(e){var t=e.dateTime,a=e.date,r=e.time,n=e.periods,s=e.days,l=e.shortDays,o=e.months,i=e.shortMonths,d=QZ(n),c=JZ(n),u=QZ(s),m=JZ(s),h=QZ(l),f=JZ(l),p=QZ(o),x=JZ(o),g=QZ(i),b=JZ(i),v={a:function(e){return l[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return i[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:v0,e:v0,f:_0,g:L0,G:F0,H:y0,I:w0,j:j0,L:N0,m:S0,M:k0,p:function(e){return n[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:l1,s:o1,S:C0,u:E0,U:T0,V:D0,w:A0,W:P0,x:null,X:null,y:M0,Y:I0,Z:R0,"%":s1},y={a:function(e){return l[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return i[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:$0,e:$0,f:W0,g:t1,G:r1,H:B0,I:z0,j:U0,L:H0,m:Y0,M:q0,p:function(e){return n[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:l1,s:o1,S:V0,u:G0,U:K0,V:Q0,w:J0,W:Z0,x:null,X:null,y:e1,Y:a1,Z:n1,"%":s1},w={a:function(e,t,a){var r=h.exec(t.slice(a));return r?(e.w=f.get(r[0].toLowerCase()),a+r[0].length):-1},A:function(e,t,a){var r=u.exec(t.slice(a));return r?(e.w=m.get(r[0].toLowerCase()),a+r[0].length):-1},b:function(e,t,a){var r=g.exec(t.slice(a));return r?(e.m=b.get(r[0].toLowerCase()),a+r[0].length):-1},B:function(e,t,a){var r=p.exec(t.slice(a));return r?(e.m=x.get(r[0].toLowerCase()),a+r[0].length):-1},c:function(e,a,r){return _(e,t,a,r)},d:d0,e:d0,f:p0,g:s0,G:n0,H:u0,I:u0,j:c0,L:f0,m:i0,M:m0,p:function(e,t,a){var r=d.exec(t.slice(a));return r?(e.p=c.get(r[0].toLowerCase()),a+r[0].length):-1},q:o0,Q:g0,s:b0,S:h0,u:e0,U:t0,V:a0,w:ZZ,W:r0,x:function(e,t,r){return _(e,a,t,r)},X:function(e,t,a){return _(e,r,t,a)},y:s0,Y:n0,Z:l0,"%":x0};function j(e,t){return function(a){var r,n,s,l=[],o=-1,i=0,d=e.length;for(a instanceof Date||(a=new Date(+a));++o<d;)37===e.charCodeAt(o)&&(l.push(e.slice(i,o)),null!=(n=YZ[r=e.charAt(++o)])?r=e.charAt(++o):n="e"===r?" ":"0",(s=t[r])&&(r=s(a,n)),l.push(r),i=o+1);return l.push(e.slice(i,o)),l.join("")}}function N(e,t){return function(a){var r,n,s=zZ(1900,void 0,1);if(_(s,e,a+="",0)!=a.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(n=(r=BZ(zZ(s.y,0,1))).getUTCDay(),r=n>4||0===n?_Z.ceil(r):_Z(r),r=mZ.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(n=(r=$Z(zZ(s.y,0,1))).getDay(),r=n>4||0===n?xZ.ceil(r):xZ(r),r=uZ.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),n="Z"in s?BZ(zZ(s.y,0,1)).getUTCDay():$Z(zZ(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(n+5)%7:s.w+7*s.U-(n+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,BZ(s)):$Z(s)}}function _(e,t,a,r){for(var n,s,l=0,o=t.length,i=a.length;l<o;){if(r>=i)return-1;if(37===(n=t.charCodeAt(l++))){if(n=t.charAt(l++),!(s=w[n in YZ?t.charAt(l++):n])||(r=s(e,a,r))<0)return-1}else if(n!=a.charCodeAt(r++))return-1}return r}return v.x=j(a,v),v.X=j(r,v),v.c=j(t,v),y.x=j(a,y),y.X=j(r,y),y.c=j(t,y),{format:function(e){var t=j(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",y);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),HZ=UZ.format,UZ.parse,WZ=UZ.utcFormat,UZ.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const x1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:iQ,scaleDiverging:function e(){var t=OJ(f1()(oJ));return t.copy=function(){return m1(t,e())},sQ.apply(t,arguments)},scaleDivergingLog:function e(){var t=$J(f1()).domain([.1,1,10]);return t.copy=function(){return m1(t,e()).base(t.base())},sQ.apply(t,arguments)},scaleDivergingPow:p1,scaleDivergingSqrt:function(){return p1.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=UJ(f1());return t.copy=function(){return m1(t,e()).constant(t.constant())},sQ.apply(t,arguments)},scaleIdentity:function e(t){var a;function r(e){return null==e||isNaN(e=+e)?a:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,sJ),r):t.slice()},r.unknown=function(e){return arguments.length?(a=e,r):a},r.copy=function(){return e(t).unknown(a)},t=arguments.length?Array.from(t,sJ):[0,1],OJ(r)},scaleImplicit:lQ,scaleLinear:DJ,scaleLog:function e(){const t=$J(mJ()).domain([1,10]);return t.copy=()=>uJ(t,e()).base(t.base()),nQ.apply(t,arguments),t},scaleOrdinal:oQ,scalePoint:cQ,scalePow:VJ,scaleQuantile:function e(){var t,a=[],r=[],n=[];function s(){var e=0,t=Math.max(1,r.length);for(n=new Array(t-1);++e<t;)n[e-1]=rQ(a,e/t);return l}function l(e){return null==e||isNaN(e=+e)?t:r[zX(n,e)]}return l.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?n[t-1]:a[0],t<n.length?n[t]:a[a.length-1]]},l.domain=function(e){if(!arguments.length)return a.slice();a=[];for(let t of e)null==t||isNaN(t=+t)||a.push(t);return a.sort(IX),s()},l.range=function(e){return arguments.length?(r=Array.from(e),s()):r.slice()},l.unknown=function(e){return arguments.length?(t=e,l):t},l.quantiles=function(){return n.slice()},l.copy=function(){return e().domain(a).range(r).unknown(t)},nQ.apply(l,arguments)},scaleQuantize:function e(){var t,a=0,r=1,n=1,s=[.5],l=[0,1];function o(e){return null!=e&&e<=e?l[zX(s,e,0,n)]:t}function i(){var e=-1;for(s=new Array(n);++e<n;)s[e]=((e+1)*r-(e-n)*a)/(n+1);return o}return o.domain=function(e){return arguments.length?([a,r]=e,a=+a,r=+r,i()):[a,r]},o.range=function(e){return arguments.length?(n=(l=Array.from(e)).length-1,i()):l.slice()},o.invertExtent=function(e){var t=l.indexOf(e);return t<0?[NaN,NaN]:t<1?[a,s[0]]:t>=n?[s[n-1],r]:[s[t-1],s[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return s.slice()},o.copy=function(){return e().domain([a,r]).range(l).unknown(t)},nQ.apply(OJ(o),arguments)},scaleRadial:function e(){var t,a=hJ(),r=[0,1],n=!1;function s(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(a(e));return isNaN(r)?t:n?Math.round(r):r}return s.invert=function(e){return a.invert(GJ(e))},s.domain=function(e){return arguments.length?(a.domain(e),s):a.domain()},s.range=function(e){return arguments.length?(a.range((r=Array.from(e,sJ)).map(GJ)),s):r.slice()},s.rangeRound=function(e){return s.range(e).round(!0)},s.round=function(e){return arguments.length?(n=!!e,s):n},s.clamp=function(e){return arguments.length?(a.clamp(e),s):a.clamp()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e(a.domain(),r).round(n).clamp(a.clamp()).unknown(t)},nQ.apply(s,arguments),OJ(s)},scaleSequential:function e(){var t=OJ(u1()(oJ));return t.copy=function(){return m1(t,e())},sQ.apply(t,arguments)},scaleSequentialLog:function e(){var t=$J(u1()).domain([1,10]);return t.copy=function(){return m1(t,e()).base(t.base())},sQ.apply(t,arguments)},scaleSequentialPow:h1,scaleSequentialQuantile:function e(){var t=[],a=oJ;function r(e){if(null!=e&&!isNaN(e=+e))return a((zX(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let a of e)null==a||isNaN(a=+a)||t.push(a);return t.sort(IX),r},r.interpolator=function(e){return arguments.length?(a=e,r):a},r.range=function(){return t.map(((e,r)=>a(r/(t.length-1))))},r.quantiles=function(e){return Array.from({length:e+1},((a,r)=>function(e,t){if((a=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||a<2)return eQ(e);if(t>=1)return ZX(e);var a,r=(a-1)*t,n=Math.floor(r),s=ZX(tQ(e,n).subarray(0,n+1));return s+(eQ(e.subarray(n+1))-s)*(r-n)}}(t,r/e)))},r.copy=function(){return e(a).domain(t)},sQ.apply(r,arguments)},scaleSequentialSqrt:function(){return h1.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=UJ(u1());return t.copy=function(){return m1(t,e()).constant(t.constant())},sQ.apply(t,arguments)},scaleSqrt:function(){return VJ.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=UJ(mJ());return t.copy=function(){return uJ(t,e()).constant(t.constant())},nQ.apply(t,arguments)},scaleThreshold:function e(){var t,a=[.5],r=[0,1],n=1;function s(e){return null!=e&&e<=e?r[zX(a,e,0,n)]:t}return s.domain=function(e){return arguments.length?(a=Array.from(e),n=Math.min(a.length,r.length-1),s):a.slice()},s.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(a.length,r.length-1),s):r.slice()},s.invertExtent=function(e){var t=r.indexOf(e);return[a[t-1],a[t]]},s.unknown=function(e){return arguments.length?(t=e,s):t},s.copy=function(){return e().domain(a).range(r).unknown(t)},nQ.apply(s,arguments)},scaleTime:function(){return nQ.apply(c1(FZ,RZ,AZ,OZ,pZ,uZ,dZ,oZ,lZ,HZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return nQ.apply(c1(LZ,IZ,PZ,DZ,NZ,mZ,cZ,iZ,lZ,WZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:TJ},Symbol.toStringTag,{value:"Module"}));var g1=_R,b1=function(e,t,a){for(var r=-1,n=e.length;++r<n;){var s=e[r],l=t(s);if(null!=l&&(void 0===o?l==l&&!g1(l):a(l,o)))var o=l,i=s}return i},v1=function(e,t){return e>t},y1=b1,w1=v1,j1=Gq;const N1=n((function(e){return e&&e.length?y1(e,j1,w1):void 0}));var _1=function(e,t){return e<t},S1=b1,k1=_1,C1=Gq;const E1=n((function(e){return e&&e.length?S1(e,C1,k1):void 0}));var T1=iB,O1=sV,D1=eG,A1=nR,P1=qV,M1=function(e,t){return(A1(e)?T1:D1)(e,O1(t))};const L1=n((function(e,t){return P1(M1(e,t),1)}));var I1=jq;const F1=n((function(e,t){return I1(e,t)}));var R1,$1=1e9,B1=!0,z1="[DecimalError] ",U1=z1+"Invalid argument: ",H1=z1+"Exponent out of range: ",W1=Math.floor,Y1=Math.pow,q1=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,V1=1e7,G1=9007199254740991,K1=W1(1286742750677284.5),X1={};function Q1(e,t){var a,r,n,s,l,o,i,d,c=e.constructor,u=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),B1?o2(t,u):t;if(i=e.d,d=t.d,l=e.e,n=t.e,i=i.slice(),s=l-n){for(s<0?(r=i,s=-s,o=d.length):(r=d,n=l,o=i.length),s>(o=(l=Math.ceil(u/7))>o?l+1:o+1)&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((o=i.length)-(s=d.length)<0&&(s=o,r=d,d=i,i=r),a=0;s;)a=(i[--s]=i[s]+d[s]+a)/V1|0,i[s]%=V1;for(a&&(i.unshift(a),++n),o=i.length;0==i[--o];)i.pop();return t.d=i,t.e=n,B1?o2(t,u):t}function J1(e,t,a){if(e!==~~e||e<t||e>a)throw Error(U1+e)}function Z1(e){var t,a,r,n=e.length-1,s="",l=e[0];if(n>0){for(s+=l,t=1;t<n;t++)(a=7-(r=e[t]+"").length)&&(s+=n2(a)),s+=r;(a=7-(r=(l=e[t])+"").length)&&(s+=n2(a))}else if(0===l)return"0";for(;l%10==0;)l/=10;return s+l}X1.absoluteValue=X1.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},X1.comparedTo=X1.cmp=function(e){var t,a,r,n,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,a=(r=s.d.length)<(n=e.d.length)?r:n;t<a;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===n?0:r>n^s.s<0?1:-1},X1.decimalPlaces=X1.dp=function(){var e=this,t=e.d.length-1,a=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)a--;return a<0?0:a},X1.dividedBy=X1.div=function(e){return e2(this,new this.constructor(e))},X1.dividedToIntegerBy=X1.idiv=function(e){var t=this.constructor;return o2(e2(this,new t(e),0,1),t.precision)},X1.equals=X1.eq=function(e){return!this.cmp(e)},X1.exponent=function(){return a2(this)},X1.greaterThan=X1.gt=function(e){return this.cmp(e)>0},X1.greaterThanOrEqualTo=X1.gte=function(e){return this.cmp(e)>=0},X1.isInteger=X1.isint=function(){return this.e>this.d.length-2},X1.isNegative=X1.isneg=function(){return this.s<0},X1.isPositive=X1.ispos=function(){return this.s>0},X1.isZero=function(){return 0===this.s},X1.lessThan=X1.lt=function(e){return this.cmp(e)<0},X1.lessThanOrEqualTo=X1.lte=function(e){return this.cmp(e)<1},X1.logarithm=X1.log=function(e){var t,a=this,r=a.constructor,n=r.precision,s=n+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(R1))throw Error(z1+"NaN");if(a.s<1)throw Error(z1+(a.s?"NaN":"-Infinity"));return a.eq(R1)?new r(0):(B1=!1,t=e2(s2(a,s),s2(e,s),s),B1=!0,o2(t,n))},X1.minus=X1.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?i2(t,e):Q1(t,(e.s=-e.s,e))},X1.modulo=X1.mod=function(e){var t,a=this,r=a.constructor,n=r.precision;if(!(e=new r(e)).s)throw Error(z1+"NaN");return a.s?(B1=!1,t=e2(a,e,0,1).times(e),B1=!0,a.minus(t)):o2(new r(a),n)},X1.naturalExponential=X1.exp=function(){return t2(this)},X1.naturalLogarithm=X1.ln=function(){return s2(this)},X1.negated=X1.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},X1.plus=X1.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Q1(t,e):i2(t,(e.s=-e.s,e))},X1.precision=X1.sd=function(e){var t,a,r,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(U1+e);if(t=a2(n)+1,a=7*(r=n.d.length-1)+1,r=n.d[r]){for(;r%10==0;r/=10)a--;for(r=n.d[0];r>=10;r/=10)a++}return e&&t>a?t:a},X1.squareRoot=X1.sqrt=function(){var e,t,a,r,n,s,l,o=this,i=o.constructor;if(o.s<1){if(!o.s)return new i(0);throw Error(z1+"NaN")}for(e=a2(o),B1=!1,0==(n=Math.sqrt(+o))||n==1/0?(((t=Z1(o.d)).length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=W1((e+1)/2)-(e<0||e%2),r=new i(t=n==1/0?"5e"+e:(t=n.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new i(n.toString()),n=l=(a=i.precision)+3;;)if(r=(s=r).plus(e2(o,s,l+2)).times(.5),Z1(s.d).slice(0,l)===(t=Z1(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),n==l&&"4999"==t){if(o2(s,a+1,0),s.times(s).eq(o)){r=s;break}}else if("9999"!=t)break;l+=4}return B1=!0,o2(r,a)},X1.times=X1.mul=function(e){var t,a,r,n,s,l,o,i,d,c=this,u=c.constructor,m=c.d,h=(e=new u(e)).d;if(!c.s||!e.s)return new u(0);for(e.s*=c.s,a=c.e+e.e,(i=m.length)<(d=h.length)&&(s=m,m=h,h=s,l=i,i=d,d=l),s=[],r=l=i+d;r--;)s.push(0);for(r=d;--r>=0;){for(t=0,n=i+r;n>r;)o=s[n]+h[r]*m[n-r-1]+t,s[n--]=o%V1|0,t=o/V1|0;s[n]=(s[n]+t)%V1|0}for(;!s[--l];)s.pop();return t?++a:s.shift(),e.d=s,e.e=a,B1?o2(e,u.precision):e},X1.toDecimalPlaces=X1.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),void 0===e?a:(J1(e,0,$1),void 0===t?t=r.rounding:J1(t,0,8),o2(a,e+a2(a)+1,t))},X1.toExponential=function(e,t){var a,r=this,n=r.constructor;return void 0===e?a=d2(r,!0):(J1(e,0,$1),void 0===t?t=n.rounding:J1(t,0,8),a=d2(r=o2(new n(r),e+1,t),!0,e+1)),a},X1.toFixed=function(e,t){var a,r,n=this,s=n.constructor;return void 0===e?d2(n):(J1(e,0,$1),void 0===t?t=s.rounding:J1(t,0,8),a=d2((r=o2(new s(n),e+a2(n)+1,t)).abs(),!1,e+a2(r)+1),n.isneg()&&!n.isZero()?"-"+a:a)},X1.toInteger=X1.toint=function(){var e=this,t=e.constructor;return o2(new t(e),a2(e)+1,t.rounding)},X1.toNumber=function(){return+this},X1.toPower=X1.pow=function(e){var t,a,r,n,s,l,o=this,i=o.constructor,d=+(e=new i(e));if(!e.s)return new i(R1);if(!(o=new i(o)).s){if(e.s<1)throw Error(z1+"Infinity");return o}if(o.eq(R1))return o;if(r=i.precision,e.eq(R1))return o2(o,r);if(l=(t=e.e)>=(a=e.d.length-1),s=o.s,l){if((a=d<0?-d:d)<=G1){for(n=new i(R1),t=Math.ceil(r/7+4),B1=!1;a%2&&c2((n=n.times(o)).d,t),0!==(a=W1(a/2));)c2((o=o.times(o)).d,t);return B1=!0,e.s<0?new i(R1).div(n):o2(n,r)}}else if(s<0)throw Error(z1+"NaN");return s=s<0&&1&e.d[Math.max(t,a)]?-1:1,o.s=1,B1=!1,n=e.times(s2(o,r+12)),B1=!0,(n=t2(n)).s=s,n},X1.toPrecision=function(e,t){var a,r,n=this,s=n.constructor;return void 0===e?r=d2(n,(a=a2(n))<=s.toExpNeg||a>=s.toExpPos):(J1(e,1,$1),void 0===t?t=s.rounding:J1(t,0,8),r=d2(n=o2(new s(n),e,t),e<=(a=a2(n))||a<=s.toExpNeg,e)),r},X1.toSignificantDigits=X1.tosd=function(e,t){var a=this.constructor;return void 0===e?(e=a.precision,t=a.rounding):(J1(e,1,$1),void 0===t?t=a.rounding:J1(t,0,8)),o2(new a(this),e,t)},X1.toString=X1.valueOf=X1.val=X1.toJSON=X1[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=a2(e),a=e.constructor;return d2(e,t<=a.toExpNeg||t>=a.toExpPos)};var e2=function(){function e(e,t){var a,r=0,n=e.length;for(e=e.slice();n--;)a=e[n]*t+r,e[n]=a%V1|0,r=a/V1|0;return r&&e.unshift(r),e}function t(e,t,a,r){var n,s;if(a!=r)s=a>r?1:-1;else for(n=s=0;n<a;n++)if(e[n]!=t[n]){s=e[n]>t[n]?1:-1;break}return s}function a(e,t,a){for(var r=0;a--;)e[a]-=r,r=e[a]<t[a]?1:0,e[a]=r*V1+e[a]-t[a];for(;!e[0]&&e.length>1;)e.shift()}return function(r,n,s,l){var o,i,d,c,u,m,h,f,p,x,g,b,v,y,w,j,N,_,S=r.constructor,k=r.s==n.s?1:-1,C=r.d,E=n.d;if(!r.s)return new S(r);if(!n.s)throw Error(z1+"Division by zero");for(i=r.e-n.e,N=E.length,w=C.length,f=(h=new S(k)).d=[],d=0;E[d]==(C[d]||0);)++d;if(E[d]>(C[d]||0)&&--i,(b=null==s?s=S.precision:l?s+(a2(r)-a2(n))+1:s)<0)return new S(0);if(b=b/7+2|0,d=0,1==N)for(c=0,E=E[0],b++;(d<w||c)&&b--;d++)v=c*V1+(C[d]||0),f[d]=v/E|0,c=v%E|0;else{for((c=V1/(E[0]+1)|0)>1&&(E=e(E,c),C=e(C,c),N=E.length,w=C.length),y=N,x=(p=C.slice(0,N)).length;x<N;)p[x++]=0;(_=E.slice()).unshift(0),j=E[0],E[1]>=V1/2&&++j;do{c=0,(o=t(E,p,N,x))<0?(g=p[0],N!=x&&(g=g*V1+(p[1]||0)),(c=g/j|0)>1?(c>=V1&&(c=V1-1),1==(o=t(u=e(E,c),p,m=u.length,x=p.length))&&(c--,a(u,N<m?_:E,m))):(0==c&&(o=c=1),u=E.slice()),(m=u.length)<x&&u.unshift(0),a(p,u,x),-1==o&&(o=t(E,p,N,x=p.length))<1&&(c++,a(p,N<x?_:E,x)),x=p.length):0===o&&(c++,p=[0]),f[d++]=c,o&&p[0]?p[x++]=C[y]||0:(p=[C[y]],x=1)}while((y++<w||void 0!==p[0])&&b--)}return f[0]||f.shift(),h.e=i,o2(h,l?s+a2(h)+1:s)}}();function t2(e,t){var a,r,n,s,l,o=0,i=0,d=e.constructor,c=d.precision;if(a2(e)>16)throw Error(H1+a2(e));if(!e.s)return new d(R1);for(null==t?(B1=!1,l=c):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),i+=5;for(l+=Math.log(Y1(2,i))/Math.LN10*2+5|0,a=r=n=new d(R1),d.precision=l;;){if(r=o2(r.times(e),l),a=a.times(++o),Z1((s=n.plus(e2(r,a,l))).d).slice(0,l)===Z1(n.d).slice(0,l)){for(;i--;)n=o2(n.times(n),l);return d.precision=c,null==t?(B1=!0,o2(n,c)):n}n=s}}function a2(e){for(var t=7*e.e,a=e.d[0];a>=10;a/=10)t++;return t}function r2(e,t,a){if(t>e.LN10.sd())throw B1=!0,a&&(e.precision=a),Error(z1+"LN10 precision limit exceeded");return o2(new e(e.LN10),t)}function n2(e){for(var t="";e--;)t+="0";return t}function s2(e,t){var a,r,n,s,l,o,i,d,c,u=1,m=e,h=m.d,f=m.constructor,p=f.precision;if(m.s<1)throw Error(z1+(m.s?"NaN":"-Infinity"));if(m.eq(R1))return new f(0);if(null==t?(B1=!1,d=p):d=t,m.eq(10))return null==t&&(B1=!0),r2(f,d);if(d+=10,f.precision=d,r=(a=Z1(h)).charAt(0),s=a2(m),!(Math.abs(s)<15e14))return i=r2(f,d+2,p).times(s+""),m=s2(new f(r+"."+a.slice(1)),d-10).plus(i),f.precision=p,null==t?(B1=!0,o2(m,p)):m;for(;r<7&&1!=r||1==r&&a.charAt(1)>3;)r=(a=Z1((m=m.times(e)).d)).charAt(0),u++;for(s=a2(m),r>1?(m=new f("0."+a),s++):m=new f(r+"."+a.slice(1)),o=l=m=e2(m.minus(R1),m.plus(R1),d),c=o2(m.times(m),d),n=3;;){if(l=o2(l.times(c),d),Z1((i=o.plus(e2(l,new f(n),d))).d).slice(0,d)===Z1(o.d).slice(0,d))return o=o.times(2),0!==s&&(o=o.plus(r2(f,d+2,p).times(s+""))),o=e2(o,new f(u),d),f.precision=p,null==t?(B1=!0,o2(o,p)):o;o=i,n+=2}}function l2(e,t){var a,r,n;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;48===t.charCodeAt(r);)++r;for(n=t.length;48===t.charCodeAt(n-1);)--n;if(t=t.slice(r,n)){if(n-=r,a=a-r-1,e.e=W1(a/7),e.d=[],r=(a+1)%7,a<0&&(r+=7),r<n){for(r&&e.d.push(+t.slice(0,r)),n-=7;r<n;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=n;for(;r--;)t+="0";if(e.d.push(+t),B1&&(e.e>K1||e.e<-K1))throw Error(H1+a)}else e.s=0,e.e=0,e.d=[0];return e}function o2(e,t,a){var r,n,s,l,o,i,d,c,u=e.d;for(l=1,s=u[0];s>=10;s/=10)l++;if((r=t-l)<0)r+=7,n=t,d=u[c=0];else{if((c=Math.ceil((r+1)/7))>=(s=u.length))return e;for(d=s=u[c],l=1;s>=10;s/=10)l++;n=(r%=7)-7+l}if(void 0!==a&&(o=d/(s=Y1(10,l-n-1))%10|0,i=t<0||void 0!==u[c+1]||d%s,i=a<4?(o||i)&&(0==a||a==(e.s<0?3:2)):o>5||5==o&&(4==a||i||6==a&&(r>0?n>0?d/Y1(10,l-n):0:u[c-1])%10&1||a==(e.s<0?8:7))),t<1||!u[0])return i?(s=a2(e),u.length=1,t=t-s-1,u[0]=Y1(10,(7-t%7)%7),e.e=W1(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==r?(u.length=c,s=1,c--):(u.length=c+1,s=Y1(10,7-r),u[c]=n>0?(d/Y1(10,l-n)%Y1(10,n)|0)*s:0),i)for(;;){if(0==c){(u[0]+=s)==V1&&(u[0]=1,++e.e);break}if(u[c]+=s,u[c]!=V1)break;u[c--]=0,s=1}for(r=u.length;0===u[--r];)u.pop();if(B1&&(e.e>K1||e.e<-K1))throw Error(H1+a2(e));return e}function i2(e,t){var a,r,n,s,l,o,i,d,c,u,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),B1?o2(t,h):t;if(i=e.d,u=t.d,r=t.e,d=e.e,i=i.slice(),l=d-r){for((c=l<0)?(a=i,l=-l,o=u.length):(a=u,r=d,o=i.length),l>(n=Math.max(Math.ceil(h/7),o)+2)&&(l=n,a.length=1),a.reverse(),n=l;n--;)a.push(0);a.reverse()}else{for((c=(n=i.length)<(o=u.length))&&(o=n),n=0;n<o;n++)if(i[n]!=u[n]){c=i[n]<u[n];break}l=0}for(c&&(a=i,i=u,u=a,t.s=-t.s),o=i.length,n=u.length-o;n>0;--n)i[o++]=0;for(n=u.length;n>l;){if(i[--n]<u[n]){for(s=n;s&&0===i[--s];)i[s]=V1-1;--i[s],i[n]+=V1}i[n]-=u[n]}for(;0===i[--o];)i.pop();for(;0===i[0];i.shift())--r;return i[0]?(t.d=i,t.e=r,B1?o2(t,h):t):new m(0)}function d2(e,t,a){var r,n=a2(e),s=Z1(e.d),l=s.length;return t?(a&&(r=a-l)>0?s=s.charAt(0)+"."+s.slice(1)+n2(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n<0?"e":"e+")+n):n<0?(s="0."+n2(-n-1)+s,a&&(r=a-l)>0&&(s+=n2(r))):n>=l?(s+=n2(n+1-l),a&&(r=a-n-1)>0&&(s=s+"."+n2(r))):((r=n+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),a&&(r=a-l)>0&&(n+1===l&&(s+="."),s+=n2(r))),e.s<0?"-"+s:s}function c2(e,t){if(e.length>t)return e.length=t,!0}function u2(e){if(!e||"object"!=typeof e)throw Error(z1+"Object expected");var t,a,r,n=["precision",1,$1,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if(void 0!==(r=e[a=n[t]])){if(!(W1(r)===r&&r>=n[t+1]&&r<=n[t+2]))throw Error(U1+a+": "+r);this[a]=r}if(void 0!==(r=e[a="LN10"])){if(r!=Math.LN10)throw Error(U1+a+": "+r);this[a]=new this(r)}return this}var m2=function e(t){var a,r,n;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(U1+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):l2(t,e.toString())}if("string"!=typeof e)throw Error(U1+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!q1.test(e))throw Error(U1+e);l2(t,e)}if(s.prototype=X1,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=u2,void 0===t&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],a=0;a<n.length;)t.hasOwnProperty(r=n[a++])||(t[r]=this[r]);return s.config(t),s}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});R1=new m2(1);const h2=m2;function f2(e){return function(e){if(Array.isArray(e))return p2(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p2(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p2(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p2(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var x2=function(e){return e},g2={"@@functional/placeholder":!0},b2=function(e){return e===g2},v2=function(e){return function t(){return 0===arguments.length||1===arguments.length&&b2(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},y2=function e(t,a){return 1===t?a:v2((function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var l=n.filter((function(e){return e!==g2})).length;return l>=t?a.apply(void 0,n):e(t-l,v2((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=n.map((function(e){return b2(e)?t.shift():e}));return a.apply(void 0,f2(s).concat(t))})))}))},w2=function(e){return y2(e.length,e)},j2=function(e,t){for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},N2=w2((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),_2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},S2=function(e){var t=null,a=null;return function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t&&n.every((function(e,a){return e===t[a]}))?a:(t=n,a=e.apply(void 0,n))}},k2=w2((function(e,t,a){var r=+e;return r+a*(+t-r)})),C2=w2((function(e,t,a){var r=t-+e;return(a-e)/(r=r||1/0)})),E2=w2((function(e,t,a){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(a-e)/r))}));const T2={rangeStep:function(e,t,a){for(var r=new h2(e),n=0,s=[];r.lt(t)&&n<1e5;)s.push(r.toNumber()),r=r.add(a),n++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new h2(e).abs().log(10).toNumber())+1},interpolateNumber:k2,uninterpolateNumber:C2,uninterpolateTruncation:E2};function O2(e){return function(e){if(Array.isArray(e))return P2(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||A2(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,s=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done)&&(a.push(l.value),!t||a.length!==t);r=!0);}catch(i){n=!0,s=i}finally{try{r||null==o.return||o.return()}finally{if(n)throw s}}return a}}(e,t)||A2(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A2(e,t){if(e){if("string"==typeof e)return P2(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?P2(e,t):void 0}}function P2(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function M2(e){var t=D2(e,2),a=t[0],r=t[1],n=a,s=r;return a>r&&(n=r,s=a),[n,s]}function L2(e,t,a){if(e.lte(0))return new h2(0);var r=T2.getDigitCount(e.toNumber()),n=new h2(10).pow(r),s=e.div(n),l=1!==r?.05:.1,o=new h2(Math.ceil(s.div(l).toNumber())).add(a).mul(l).mul(n);return t?o:new h2(Math.ceil(o))}function I2(e,t,a){var r=1,n=new h2(e);if(!n.isint()&&a){var s=Math.abs(e);s<1?(r=new h2(10).pow(T2.getDigitCount(e)-1),n=new h2(Math.floor(n.div(r).toNumber())).mul(r)):s>1&&(n=new h2(Math.floor(e)))}else 0===e?n=new h2(Math.floor((t-1)/2)):a||(n=new h2(Math.floor(e)));var l=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(!t.length)return x2;var r=t.reverse(),n=r[0],s=r.slice(1);return function(){return s.reduce((function(e,t){return t(e)}),n.apply(void 0,arguments))}}(N2((function(e){return n.add(new h2(e-l).mul(r)).toNumber()})),j2);return o(0,t)}function F2(e,t,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(a-1)))return{step:new h2(0),tickMin:new h2(0),tickMax:new h2(0)};var s,l=L2(new h2(t).sub(e).div(a-1),r,n);s=e<=0&&t>=0?new h2(0):(s=new h2(e).add(t).div(2)).sub(new h2(s).mod(l));var o=Math.ceil(s.sub(e).div(l).toNumber()),i=Math.ceil(new h2(t).sub(s).div(l).toNumber()),d=o+i+1;return d>a?F2(e,t,a,r,n+1):(d<a&&(i=t>0?i+(a-d):i,o=t>0?o:o+(a-d)),{step:l,tickMin:s.sub(new h2(o).mul(l)),tickMax:s.add(new h2(i).mul(l))})}var R2=S2((function(e){var t=D2(e,2),a=t[0],r=t[1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=Math.max(n,2),o=D2(M2([a,r]),2),i=o[0],d=o[1];if(i===-1/0||d===1/0){var c=d===1/0?[i].concat(O2(j2(0,n-1).map((function(){return 1/0})))):[].concat(O2(j2(0,n-1).map((function(){return-1/0}))),[d]);return a>r?_2(c):c}if(i===d)return I2(i,n,s);var u=F2(i,d,l,s),m=u.step,h=u.tickMin,f=u.tickMax,p=T2.rangeStep(h,f.add(new h2(.1).mul(m)),m);return a>r?_2(p):p})),$2=S2((function(e,t){var a=D2(e,2),r=a[0],n=a[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=D2(M2([r,n]),2),o=l[0],i=l[1];if(o===-1/0||i===1/0)return[r,n];if(o===i)return[o];var d=Math.max(t,2),c=L2(new h2(i).sub(o).div(d-1),s,0),u=[].concat(O2(T2.rangeStep(new h2(o),new h2(i).sub(new h2(.99).mul(c)),c)),[i]);return r>n?_2(u):u}));function B2(e,t){throw new Error("Invariant failed")}var z2=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},U2.apply(this,arguments)}function H2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t);else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W2(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?W2(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W2(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Y2(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function q2(e){var t=e.offset,a=e.layout,r=e.width,n=e.dataKey,s=e.data,l=e.dataPointFormatter,o=e.xAxis,i=e.yAxis,d=Y2(e,z2),c=zz(d,!1);"x"===e.direction&&"number"!==o.type&&B2();var u=s.map((function(e){var s=l(e,n),d=s.x,u=s.y,m=s.value,h=s.errorVal;if(!h)return null;var f,p,x=[];if(Array.isArray(h)){var g=H2(h,2);f=g[0],p=g[1]}else f=p=h;if("vertical"===a){var b=o.scale,v=u+t,y=v+r,w=v-r,j=b(m-f),N=b(m+p);x.push({x1:N,y1:y,x2:N,y2:w}),x.push({x1:j,y1:v,x2:N,y2:v}),x.push({x1:j,y1:y,x2:j,y2:w})}else if("horizontal"===a){var _=i.scale,S=d+t,k=S-r,C=S+r,E=_(m-f),T=_(m+p);x.push({x1:k,y1:T,x2:C,y2:T}),x.push({x1:S,y1:E,x2:S,y2:T}),x.push({x1:k,y1:E,x2:C,y2:E})}return J.createElement(Jz,U2({className:"recharts-errorBar",key:"bar-".concat(x.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},c),x.map((function(e){return J.createElement("line",U2({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return J.createElement(Jz,{className:"recharts-errorBars"},u)}function V2(e){return(V2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G2(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function K2(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G2(Object(a),!0).forEach((function(t){X2(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G2(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function X2(e,t,a){var r;return r=function(e,t){if("object"!=V2(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=V2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==V2(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}q2.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},q2.displayName="ErrorBar";var Q2=function(e){var t,a=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,s=e.legendContent,l=Rz(a,$V);return l?(t=l.props&&l.props.payload?l.props&&l.props.payload:"children"===s?(r||[]).reduce((function(e,t){var a=t.item,r=t.props,n=r.sectors||r.data||[];return e.concat(n.map((function(e){return{type:l.props.iconType||a.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,a=t.props,r=a.dataKey,n=a.name,s=a.legendType;return{inactive:a.hide,dataKey:r,type:l.props.iconType||s||"square",color:l3(t),value:n||r,payload:t.props}})),K2(K2(K2({},l.props),$V.getWithHeight(l,n)),{},{payload:t,item:l})):null};function J2(e){return(J2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z2(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function e3(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z2(Object(a),!0).forEach((function(t){t3(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z2(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function t3(e,t,a){var r;return r=function(e,t){if("object"!=J2(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=J2(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==J2(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function a3(e){return function(e){if(Array.isArray(e))return r3(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r3(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r3(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r3(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function n3(e,t,a){return OB(e)||OB(t)?a:fz(t)?TB(e,t,a):LR(t)?t(e):a}function s3(e,t,a,r){var n=L1(e,(function(e){return n3(e,t)}));if("number"===a){var s=n.filter((function(e){return hz(e)||parseFloat(e)}));return s.length?[E1(s),N1(s)]:[1/0,-1/0]}return(r?n.filter((function(e){return!OB(e)})):n).map((function(e){return fz(e)||e instanceof Date?e:""}))}var l3=function(e){var t,a=e.type.displayName,r=e.props,n=r.stroke,s=r.fill;switch(a){case"Line":t=n;break;case"Area":case"Radar":t=n&&"none"!==n?n:s;break;default:t=s}return t},o3=function(e,t,a,r,n){var s=Fz(t.props.children,q2).filter((function(e){return function(e,t,a){return!!OB(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===a?"xAxis"===t:"y"!==a||"yAxis"===t)}(r,n,e.props.direction)}));if(s&&s.length){var l=s.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=n3(t,a);if(OB(r))return e;var n=Array.isArray(r)?[E1(r),N1(r)]:[r,r],s=l.reduce((function(e,a){var r=n3(t,a,0),s=n[0]-Math.abs(Array.isArray(r)?r[0]:r),l=n[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(s,e[0]),Math.max(l,e[1])]}),[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}),[1/0,-1/0])}return null},i3=function(e,t,a,r,n){var s=t.map((function(t){var s=t.props.dataKey;return"number"===a&&s&&o3(e,t,s,r)||s3(e,s,a,n)}));if("number"===a)return s.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var l={};return s.reduce((function(e,t){for(var a=0,r=t.length;a<r;a++)l[t[a]]||(l[t[a]]=!0,e.push(t[a]));return e}),[])},d3=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},c3=function(e,t,a){if(!e)return null;var r=e.scale,n=e.duplicateDomain,s=e.type,l=e.range,o="scaleBand"===e.realScaleType?r.bandwidth()/2:2,i=(t||a)&&"category"===s&&r.bandwidth?r.bandwidth()/o:0;return i="angleAxis"===e.axisType&&(null==l?void 0:l.length)>=2?2*uz(l[0]-l[1])*i:i,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=n?n.indexOf(e):e;return{coordinate:r(t)+i,value:e,offset:i}})).filter((function(e){return!cz(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+i,value:e,index:t,offset:i}})):r.ticks&&!a?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+i,value:e,offset:i}})):r.domain().map((function(e,t){return{coordinate:r(e)+i,value:n?n[e]:e,index:t,offset:i}}))},u3=new WeakMap,m3=function(e,t){if("function"!=typeof t)return e;u3.has(e)||u3.set(e,new WeakMap);var a=u3.get(e);if(a.has(t))return a.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return a.set(t,r),r},h3=function(e,t,a){var r=e.scale,n=e.type,s=e.layout,l=e.axisType;if("auto"===r)return"radial"===s&&"radiusAxis"===l?{scale:iQ(),realScaleType:"band"}:"radial"===s&&"angleAxis"===l?{scale:DJ(),realScaleType:"linear"}:"category"===n&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!a)?{scale:cQ(),realScaleType:"point"}:"category"===n?{scale:iQ(),realScaleType:"band"}:{scale:DJ(),realScaleType:"linear"};if(MB(r)){var o="scale".concat(_U(r));return{scale:(x1[o]||cQ)(),realScaleType:x1[o]?o:"point"}}return LR(r)?{scale:r}:{scale:cQ(),realScaleType:"point"}},f3=1e-4,p3=function(e){var t=e.domain();if(t&&!(t.length<=2)){var a=t.length,r=e.range(),n=Math.min(r[0],r[1])-f3,s=Math.max(r[0],r[1])+f3,l=e(t[0]),o=e(t[a-1]);(l<n||l>s||o<n||o>s)&&e.domain([t[0],t[a-1]])}},x3={sign:function(e){var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var n=0,s=0,l=0;l<t;++l){var o=cz(e[l][a][1])?e[l][a][0]:e[l][a][1];o>=0?(e[l][a][0]=n,e[l][a][1]=n+o,n=e[l][a][1]):(e[l][a][0]=s,e[l][a][1]=s+o,s=e[l][a][1])}},expand:function(e,t){if((r=e.length)>0){for(var a,r,n,s=0,l=e[0].length;s<l;++s){for(n=a=0;a<r;++a)n+=e[a][s][1]||0;if(n)for(a=0;a<r;++a)e[a][s][1]/=n}kH(e,t)}},none:kH,silhouette:function(e,t){if((a=e.length)>0){for(var a,r=0,n=e[t[0]],s=n.length;r<s;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}kH(e,t)}},wiggle:function(e,t){if((n=e.length)>0&&(r=(a=e[t[0]]).length)>0){for(var a,r,n,s=0,l=1;l<r;++l){for(var o=0,i=0,d=0;o<n;++o){for(var c=e[t[o]],u=c[l][1]||0,m=(u-(c[l-1][1]||0))/2,h=0;h<o;++h){var f=e[t[h]];m+=(f[l][1]||0)-(f[l-1][1]||0)}i+=u,d+=m*u}a[l-1][1]+=a[l-1][0]=s,i&&(s-=d/i)}a[l-1][1]+=a[l-1][0]=s,kH(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var n=0,s=0;s<t;++s){var l=cz(e[s][a][1])?e[s][a][0]:e[s][a][1];l>=0?(e[s][a][0]=n,e[s][a][1]=n+l,n=e[s][a][1]):(e[s][a][0]=0,e[s][a][1]=0)}}},g3=function(e,t,a){var r=t.map((function(e){return e.props.dataKey})),n=x3[a],s=function(){var e=kU([]),t=CH,a=kH,r=EH;function n(n){var s,l,o=Array.from(e.apply(this,arguments),TH),i=o.length,d=-1;for(const e of n)for(s=0,++d;s<i;++s)(o[s][d]=[0,+r(e,o[s].key,d,n)]).data=e;for(s=0,l=$U(t(o));s<i;++s)o[l[s]].index=s;return a(o,l),o}return n.keys=function(t){return arguments.length?(e="function"==typeof t?t:kU(Array.from(t)),n):e},n.value=function(e){return arguments.length?(r="function"==typeof e?e:kU(+e),n):r},n.order=function(e){return arguments.length?(t=null==e?CH:"function"==typeof e?e:kU(Array.from(e)),n):t},n.offset=function(e){return arguments.length?(a=null==e?kH:e,n):a},n}().keys(r).value((function(e,t){return+n3(e,t,0)})).order(CH).offset(n);return s(e)},b3=function(e,t){var a=t.realScaleType,r=t.type,n=t.tickCount,s=t.originalDomain,l=t.allowDecimals,o=a||t.scale;if("auto"!==o&&"linear"!==o)return null;if(n&&"number"===r&&s&&("auto"===s[0]||"auto"===s[1])){var i=e.domain();if(!i.length)return null;var d=R2(i,n,l);return e.domain([E1(d),N1(d)]),{niceTicks:d}}if(n&&"number"===r){var c=e.domain();return{niceTicks:$2(c,n,l)}}return null},v3=function(e){var t=e.axis,a=e.ticks,r=e.offset,n=e.bandSize,s=e.entry,l=e.index;if("category"===t.type)return a[l]?a[l].coordinate+r:null;var o=n3(s,t.dataKey,t.domain[l]);return OB(o)?null:t.scale(o)-n/2+r},y3=function(e,t,a){return Object.keys(e).reduce((function(r,n){var s=e[n].stackedData.reduce((function(e,r){var n=r.slice(t,a+1).reduce((function(e,t){return[E1(t.concat([e[0]]).filter(hz)),N1(t.concat([e[1]]).filter(hz))]}),[1/0,-1/0]);return[Math.min(e[0],n[0]),Math.max(e[1],n[1])]}),[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},w3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N3=function(e,t,a){if(LR(e))return e(t,a);if(!Array.isArray(e))return t;var r=[];if(hz(e[0]))r[0]=a?e[0]:Math.min(e[0],t[0]);else if(w3.test(e[0])){var n=+w3.exec(e[0])[1];r[0]=t[0]-n}else LR(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(hz(e[1]))r[1]=a?e[1]:Math.max(e[1],t[1]);else if(j3.test(e[1])){var s=+j3.exec(e[1])[1];r[1]=t[1]+s}else LR(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},_3=function(e,t,a){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&t&&t.length>=2){for(var n=FG(t,(function(e){return e.coordinate})),s=1/0,l=1,o=n.length;l<o;l++){var i=n[l],d=n[l-1];s=Math.min((i.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return a?void 0:0},S3=function(e,t,a){return e&&e.length?F1(e,TB(a,"type.defaultProps.domain"))?t:e:t},k3=function(e,t){var a=e.props,r=a.dataKey,n=a.name,s=a.unit,l=a.formatter,o=a.tooltipType,i=a.chartType,d=a.hide;return e3(e3({},zz(e,!1)),{},{dataKey:r,unit:s,formatter:l,name:n||r,color:l3(e),value:n3(t,r),type:o,payload:t,chartType:i,hide:d})};function C3(e){return(C3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T3(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E3(Object(a),!0).forEach((function(t){O3(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E3(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O3(e,t,a){var r;return r=function(e,t){if("object"!=C3(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=C3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==C3(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function D3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t);else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A3(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?A3(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A3(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var P3=Math.PI/180,M3=function(e){return 180*e/Math.PI},L3=function(e,t,a,r){return{x:e+Math.cos(-P3*r)*a,y:t+Math.sin(-P3*r)*a}},I3=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(a.left||0)-(a.right||0)),Math.abs(t-(a.top||0)-(a.bottom||0)))/2},F3=function(e,t){var a=e.x,r=e.y,n=t.cx,s=t.cy,l=function(e,t){var a=e.x,r=e.y,n=t.x,s=t.y;return Math.sqrt(Math.pow(a-n,2)+Math.pow(r-s,2))}({x:a,y:r},{x:n,y:s});if(l<=0)return{radius:l};var o=(a-n)/l,i=Math.acos(o);return r>s&&(i=2*Math.PI-i),{radius:l,angle:M3(i),angleInRadian:i}},R3=function(e,t){var a=t.startAngle,r=t.endAngle,n=Math.floor(a/360),s=Math.floor(r/360);return e+360*Math.min(n,s)},$3=function(e,t){var a=e.x,r=e.y,n=F3({x:a,y:r},t),s=n.radius,l=n.angle,o=t.innerRadius,i=t.outerRadius;if(s<o||s>i)return!1;if(0===s)return!0;var d,c=function(e){var t=e.startAngle,a=e.endAngle,r=Math.floor(t/360),n=Math.floor(a/360),s=Math.min(r,n);return{startAngle:t-360*s,endAngle:a-360*s}}(t),u=c.startAngle,m=c.endAngle,h=l;if(u<=m){for(;h>m;)h-=360;for(;h<u;)h+=360;d=h>=u&&h<=m}else{for(;h>u;)h-=360;for(;h<m;)h+=360;d=h>=m&&h<=u}return d?T3(T3({},t),{},{radius:s,angle:R3(h,t)}):null},B3=function(e){return Q.isValidElement(e)||LR(e)||"boolean"==typeof e?"":e.className};function z3(e){return(z3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var U3=["offset"];function H3(e){return function(e){if(Array.isArray(e))return W3(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return W3(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?W3(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W3(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Y3(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function q3(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function V3(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q3(Object(a),!0).forEach((function(t){G3(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q3(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function G3(e,t,a){var r;return r=function(e,t){if("object"!=z3(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=z3(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==z3(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function K3(){return K3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},K3.apply(this,arguments)}var X3=function(e,t,a){var r,n,s=e.position,l=e.viewBox,o=e.offset,i=e.className,d=l,c=d.cx,u=d.cy,m=d.innerRadius,h=d.outerRadius,f=d.startAngle,p=d.endAngle,x=d.clockWise,g=(m+h)/2,b=function(e,t){return uz(t-e)*Math.min(Math.abs(t-e),360)}(f,p),v=b>=0?1:-1;"insideStart"===s?(r=f+v*o,n=x):"insideEnd"===s?(r=p-v*o,n=!x):"end"===s&&(r=p+v*o,n=x),n=b<=0?n:!n;var y=L3(c,u,g,r),w=L3(c,u,g,r+359*(n?1:-1)),j="M".concat(y.x,",").concat(y.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(n?0:1,",\n    ").concat(w.x,",").concat(w.y),N=OB(e.id)?xz("recharts-radial-line-"):e.id;return J.createElement("text",K3({},a,{dominantBaseline:"central",className:Wf("recharts-radial-bar-label",i)}),J.createElement("defs",null,J.createElement("path",{id:N,d:j})),J.createElement("textPath",{xlinkHref:"#".concat(N)},t))};function Q3(e){var t,a=e.offset,r=V3({offset:void 0===a?5:a},Y3(e,U3)),n=r.viewBox,s=r.position,l=r.value,o=r.children,i=r.content,d=r.className,c=void 0===d?"":d,u=r.textBreakAll;if(!n||OB(l)&&OB(o)&&!Q.isValidElement(i)&&!LR(i))return null;if(Q.isValidElement(i))return Q.cloneElement(i,r);if(LR(i)){if(t=Q.createElement(i,r),Q.isValidElement(t))return t}else t=function(e){var t=e.value,a=e.formatter,r=OB(e.children)?t:e.children;return LR(a)?a(r):r}(r);var m=function(e){return"cx"in e&&hz(e.cx)}(n),h=zz(r,!0);if(m&&("insideStart"===s||"insideEnd"===s||"end"===s))return X3(r,t,h);var f=m?function(e){var t=e.viewBox,a=e.offset,r=e.position,n=t,s=n.cx,l=n.cy,o=n.innerRadius,i=n.outerRadius,d=(n.startAngle+n.endAngle)/2;if("outside"===r){var c=L3(s,l,i+a,d),u=c.x;return{x:u,y:c.y,textAnchor:u>=s?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var m=L3(s,l,(o+i)/2,d);return{x:m.x,y:m.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,a=e.parentViewBox,r=e.offset,n=e.position,s=t,l=s.x,o=s.y,i=s.width,d=s.height,c=d>=0?1:-1,u=c*r,m=c>0?"end":"start",h=c>0?"start":"end",f=i>=0?1:-1,p=f*r,x=f>0?"end":"start",g=f>0?"start":"end";if("top"===n)return V3(V3({},{x:l+i/2,y:o-c*r,textAnchor:"middle",verticalAnchor:m}),a?{height:Math.max(o-a.y,0),width:i}:{});if("bottom"===n)return V3(V3({},{x:l+i/2,y:o+d+u,textAnchor:"middle",verticalAnchor:h}),a?{height:Math.max(a.y+a.height-(o+d),0),width:i}:{});if("left"===n){var b={x:l-p,y:o+d/2,textAnchor:x,verticalAnchor:"middle"};return V3(V3({},b),a?{width:Math.max(b.x-a.x,0),height:d}:{})}if("right"===n){var v={x:l+i+p,y:o+d/2,textAnchor:g,verticalAnchor:"middle"};return V3(V3({},v),a?{width:Math.max(a.x+a.width-v.x,0),height:d}:{})}var y=a?{width:i,height:d}:{};return"insideLeft"===n?V3({x:l+p,y:o+d/2,textAnchor:g,verticalAnchor:"middle"},y):"insideRight"===n?V3({x:l+i-p,y:o+d/2,textAnchor:x,verticalAnchor:"middle"},y):"insideTop"===n?V3({x:l+i/2,y:o+u,textAnchor:"middle",verticalAnchor:h},y):"insideBottom"===n?V3({x:l+i/2,y:o+d-u,textAnchor:"middle",verticalAnchor:m},y):"insideTopLeft"===n?V3({x:l+p,y:o+u,textAnchor:g,verticalAnchor:h},y):"insideTopRight"===n?V3({x:l+i-p,y:o+u,textAnchor:x,verticalAnchor:h},y):"insideBottomLeft"===n?V3({x:l+p,y:o+d-u,textAnchor:g,verticalAnchor:m},y):"insideBottomRight"===n?V3({x:l+i-p,y:o+d-u,textAnchor:x,verticalAnchor:m},y):DR(n)&&(hz(n.x)||mz(n.x))&&(hz(n.y)||mz(n.y))?V3({x:l+gz(n.x,i),y:o+gz(n.y,d),textAnchor:"end",verticalAnchor:"end"},y):V3({x:l+i/2,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},y)}(r);return J.createElement(LX,K3({className:Wf("recharts-label",c)},h,f,{breakAll:u}),t)}Q3.displayName="Label";var J3=function(e){var t=e.cx,a=e.cy,r=e.angle,n=e.startAngle,s=e.endAngle,l=e.r,o=e.radius,i=e.innerRadius,d=e.outerRadius,c=e.x,u=e.y,m=e.top,h=e.left,f=e.width,p=e.height,x=e.clockWise,g=e.labelViewBox;if(g)return g;if(hz(f)&&hz(p)){if(hz(c)&&hz(u))return{x:c,y:u,width:f,height:p};if(hz(m)&&hz(h))return{x:m,y:h,width:f,height:p}}return hz(c)&&hz(u)?{x:c,y:u,width:0,height:0}:hz(t)&&hz(a)?{cx:t,cy:a,startAngle:n||r||0,endAngle:s||r||0,innerRadius:i||0,outerRadius:d||o||l||0,clockWise:x}:e.viewBox?e.viewBox:{}};Q3.parseViewBox=J3,Q3.renderCallByParent=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&a&&!e.label)return null;var r=e.children,n=J3(e),s=Fz(r,Q3).map((function(e,a){return Q.cloneElement(e,{viewBox:t||n,key:"label-".concat(a)})}));if(!a)return s;var l=function(e,t){return e?!0===e?J.createElement(Q3,{key:"label-implicit",viewBox:t}):fz(e)?J.createElement(Q3,{key:"label-implicit",viewBox:t,value:e}):Q.isValidElement(e)?e.type===Q3?Q.cloneElement(e,{key:"label-implicit",viewBox:t}):J.createElement(Q3,{key:"label-implicit",content:e,viewBox:t}):LR(e)?J.createElement(Q3,{key:"label-implicit",content:e,viewBox:t}):DR(e)?J.createElement(Q3,K3({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||n);return[l].concat(H3(s))};const Z3=n((function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function e5(e){return(e5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var t5=["valueAccessor"],a5=["data","dataKey","clockWise","id","textBreakAll"];function r5(e){return function(e){if(Array.isArray(e))return n5(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n5(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n5(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n5(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function s5(){return s5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},s5.apply(this,arguments)}function l5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o5(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l5(Object(a),!0).forEach((function(t){i5(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l5(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i5(e,t,a){var r;return r=function(e,t){if("object"!=e5(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=e5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==e5(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d5(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c5=function(e){return Array.isArray(e.value)?Z3(e.value):e.value};function u5(e){var t=e.valueAccessor,a=void 0===t?c5:t,r=d5(e,t5),n=r.data,s=r.dataKey,l=r.clockWise,o=r.id,i=r.textBreakAll,d=d5(r,a5);return n&&n.length?J.createElement(Jz,{className:"recharts-label-list"},n.map((function(e,t){var r=OB(s)?a(e,t):n3(e&&e.payload,s),n=OB(o)?{}:{id:"".concat(o,"-").concat(t)};return J.createElement(Q3,s5({},zz(e,!0),d,n,{parentViewBox:e.parentViewBox,value:r,textBreakAll:i,viewBox:Q3.parseViewBox(OB(l)?e:o5(o5({},e),{},{clockWise:l})),key:"label-".concat(t),index:t}))}))):null}function m5(e){return(m5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h5(){return h5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},h5.apply(this,arguments)}function f5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p5(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f5(Object(a),!0).forEach((function(t){x5(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f5(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x5(e,t,a){var r;return r=function(e,t){if("object"!=m5(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=m5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==m5(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}u5.displayName="LabelList",u5.renderCallByParent=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&a&&!e.label)return null;var r=Fz(e.children,u5).map((function(e,a){return Q.cloneElement(e,{data:t,key:"labelList-".concat(a)})}));return a?[function(e,t){return e?!0===e?J.createElement(u5,{key:"labelList-implicit",data:t}):J.isValidElement(e)||LR(e)?J.createElement(u5,{key:"labelList-implicit",data:t,content:e}):DR(e)?J.createElement(u5,s5({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(r5(r)):r};var g5=function(e){var t=e.cx,a=e.cy,r=e.radius,n=e.angle,s=e.sign,l=e.isExternal,o=e.cornerRadius,i=e.cornerIsExternal,d=o*(l?1:-1)+r,c=Math.asin(o/d)/P3,u=i?n:n+s*c,m=i?n-s*c:n;return{center:L3(t,a,d,u),circleTangency:L3(t,a,r,u),lineTangency:L3(t,a,d*Math.cos(c*P3),m),theta:c}},b5=function(e){var t=e.cx,a=e.cy,r=e.innerRadius,n=e.outerRadius,s=e.startAngle,l=function(e,t){return uz(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),o=s+l,i=L3(t,a,n,s),d=L3(t,a,n,o),c="M ".concat(i.x,",").concat(i.y,"\n    A ").concat(n,",").concat(n,",0,\n    ").concat(+(Math.abs(l)>180),",").concat(+(s>o),",\n    ").concat(d.x,",").concat(d.y,"\n  ");if(r>0){var u=L3(t,a,r,s),m=L3(t,a,r,o);c+="L ".concat(m.x,",").concat(m.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(l)>180),",").concat(+(s<=o),",\n            ").concat(u.x,",").concat(u.y," Z")}else c+="L ".concat(t,",").concat(a," Z");return c},v5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},y5=function(e){var t=p5(p5({},v5),e),a=t.cx,r=t.cy,n=t.innerRadius,s=t.outerRadius,l=t.cornerRadius,o=t.forceCornerRadius,i=t.cornerIsExternal,d=t.startAngle,c=t.endAngle,u=t.className;if(s<n||d===c)return null;var m,h=Wf("recharts-sector",u),f=s-n,p=gz(l,f,0,!0);return m=p>0&&Math.abs(d-c)<360?function(e){var t=e.cx,a=e.cy,r=e.innerRadius,n=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,o=e.cornerIsExternal,i=e.startAngle,d=e.endAngle,c=uz(d-i),u=g5({cx:t,cy:a,radius:n,angle:i,sign:c,cornerRadius:s,cornerIsExternal:o}),m=u.circleTangency,h=u.lineTangency,f=u.theta,p=g5({cx:t,cy:a,radius:n,angle:d,sign:-c,cornerRadius:s,cornerIsExternal:o}),x=p.circleTangency,g=p.lineTangency,b=p.theta,v=o?Math.abs(i-d):Math.abs(i-d)-f-b;if(v<0)return l?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):b5({cx:t,cy:a,innerRadius:r,outerRadius:n,startAngle:i,endAngle:d});var y="M ".concat(h.x,",").concat(h.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(n,",").concat(n,",0,").concat(+(v>180),",").concat(+(c<0),",").concat(x.x,",").concat(x.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var w=g5({cx:t,cy:a,radius:r,angle:i,sign:c,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),j=w.circleTangency,N=w.lineTangency,_=w.theta,S=g5({cx:t,cy:a,radius:r,angle:d,sign:-c,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=S.circleTangency,C=S.lineTangency,E=S.theta,T=o?Math.abs(i-d):Math.abs(i-d)-_-E;if(T<0&&0===s)return"".concat(y,"L").concat(t,",").concat(a,"Z");y+="L".concat(C.x,",").concat(C.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(k.x,",").concat(k.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(c>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(c<0),",").concat(N.x,",").concat(N.y,"Z")}else y+="L".concat(t,",").concat(a,"Z");return y}({cx:a,cy:r,innerRadius:n,outerRadius:s,cornerRadius:Math.min(p,f/2),forceCornerRadius:o,cornerIsExternal:i,startAngle:d,endAngle:c}):b5({cx:a,cy:r,innerRadius:n,outerRadius:s,startAngle:d,endAngle:c}),J.createElement("path",h5({},zz(t,!0),{className:h,d:m,role:"img"}))};function w5(e){return(w5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j5(){return j5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},j5.apply(this,arguments)}function N5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _5(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N5(Object(a),!0).forEach((function(t){S5(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N5(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S5(e,t,a){var r;return r=function(e,t){if("object"!=w5(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=w5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==w5(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var k5={curveBasisClosed:function(e){return new hH(e)},curveBasisOpen:function(e){return new fH(e)},curveBasis:function(e){return new mH(e)},curveBumpX:function(e){return new qU(e,!0)},curveBumpY:function(e){return new qU(e,!1)},curveLinearClosed:function(e){return new pH(e)},curveLinear:zU,curveMonotoneX:function(e){return new yH(e)},curveMonotoneY:function(e){return new wH(e)},curveNatural:function(e){return new NH(e)},curveStep:function(e){return new SH(e,.5)},curveStepAfter:function(e){return new SH(e,1)},curveStepBefore:function(e){return new SH(e,0)}},C5=function(e){return e.x===+e.x&&e.y===+e.y},E5=function(e){return e.x},T5=function(e){return e.y},O5=function(e){var t,a=e.type,r=void 0===a?"linear":a,n=e.points,s=void 0===n?[]:n,l=e.baseLine,o=e.layout,i=e.connectNulls,d=void 0!==i&&i,c=function(e,t){if(LR(e))return e;var a="curve".concat(_U(e));return"curveMonotone"!==a&&"curveBump"!==a||!t?k5[a]||zU:k5["".concat(a).concat("vertical"===t?"Y":"X")]}(r,o),u=d?s.filter((function(e){return C5(e)})):s;if(Array.isArray(l)){var m=d?l.filter((function(e){return C5(e)})):l,h=u.map((function(e,t){return _5(_5({},e),{},{base:m[t]})}));return(t="vertical"===o?YU().y(T5).x1(E5).x0((function(e){return e.base.x})):YU().x(E5).y1(T5).y0((function(e){return e.base.y}))).defined(C5).curve(c),t(h)}return(t="vertical"===o&&hz(l)?YU().y(T5).x1(E5).x0(l):hz(l)?YU().x(E5).y1(T5).y0(l):WU().x(E5).y(T5)).defined(C5).curve(c),t(u)},D5=function(e){var t=e.className,a=e.points,r=e.path,n=e.pathRef;if(!(a&&a.length||r))return null;var s=a&&a.length?O5(e):r;return J.createElement("path",j5({},zz(e,!1),Cz(e),{className:Wf("recharts-curve",t),d:s,ref:n}))},A5=Object.getOwnPropertyNames,P5=Object.getOwnPropertySymbols,M5=Object.prototype.hasOwnProperty;function L5(e,t){return function(a,r,n){return e(a,r,n)&&t(a,r,n)}}function I5(e){return function(t,a,r){if(!t||!a||"object"!=typeof t||"object"!=typeof a)return e(t,a,r);var n=r.cache,s=n.get(t),l=n.get(a);if(s&&l)return s===a&&l===t;n.set(t,a),n.set(a,t);var o=e(t,a,r);return n.delete(t),n.delete(a),o}}function F5(e){return A5(e).concat(P5(e))}var R5=Object.hasOwn||function(e,t){return M5.call(e,t)};function $5(e,t){return e||t?e===t:e===t||e!=e&&t!=t}var B5="_owner",z5=Object.getOwnPropertyDescriptor,U5=Object.keys;function H5(e,t,a){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!a.equals(e[r],t[r],r,r,e,t,a))return!1;return!0}function W5(e,t){return $5(e.getTime(),t.getTime())}function Y5(e,t,a){if(e.size!==t.size)return!1;for(var r,n,s={},l=e.entries(),o=0;(r=l.next())&&!r.done;){for(var i=t.entries(),d=!1,c=0;(n=i.next())&&!n.done;){var u=r.value,m=u[0],h=u[1],f=n.value,p=f[0],x=f[1];d||s[c]||!(d=a.equals(m,p,o,c,e,t,a)&&a.equals(h,x,m,p,e,t,a))||(s[c]=!0),c++}if(!d)return!1;o++}return!0}function q5(e,t,a){var r,n=U5(e),s=n.length;if(U5(t).length!==s)return!1;for(;s-- >0;){if((r=n[s])===B5&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!R5(t,r)||!a.equals(e[r],t[r],r,r,e,t,a))return!1}return!0}function V5(e,t,a){var r,n,s,l=F5(e),o=l.length;if(F5(t).length!==o)return!1;for(;o-- >0;){if((r=l[o])===B5&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof)return!1;if(!R5(t,r))return!1;if(!a.equals(e[r],t[r],r,r,e,t,a))return!1;if(n=z5(e,r),s=z5(t,r),(n||s)&&(!n||!s||n.configurable!==s.configurable||n.enumerable!==s.enumerable||n.writable!==s.writable))return!1}return!0}function G5(e,t){return $5(e.valueOf(),t.valueOf())}function K5(e,t){return e.source===t.source&&e.flags===t.flags}function X5(e,t,a){if(e.size!==t.size)return!1;for(var r,n,s={},l=e.values();(r=l.next())&&!r.done;){for(var o=t.values(),i=!1,d=0;(n=o.next())&&!n.done;)i||s[d]||!(i=a.equals(r.value,n.value,r.value,n.value,e,t,a))||(s[d]=!0),d++;if(!i)return!1}return!0}function Q5(e,t){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(e[a]!==t[a])return!1;return!0}var J5=Array.isArray,Z5="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,e4=Object.assign,t4=Object.prototype.toString.call.bind(Object.prototype.toString),a4=r4();function r4(e){void 0===e&&(e={});var t,a=e.circular,r=void 0!==a&&a,n=e.createInternalComparator,s=e.createState,l=e.strict,o=void 0!==l&&l,i=function(e){var t=e.circular,a=e.createCustomConfig,r=e.strict,n={areArraysEqual:r?V5:H5,areDatesEqual:W5,areMapsEqual:r?L5(Y5,V5):Y5,areObjectsEqual:r?V5:q5,arePrimitiveWrappersEqual:G5,areRegExpsEqual:K5,areSetsEqual:r?L5(X5,V5):X5,areTypedArraysEqual:r?V5:Q5};if(a&&(n=e4({},n,a(n))),t){var s=I5(n.areArraysEqual),l=I5(n.areMapsEqual),o=I5(n.areObjectsEqual),i=I5(n.areSetsEqual);n=e4({},n,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:o,areSetsEqual:i})}return n}(e),d=function(e){var t=e.areArraysEqual,a=e.areDatesEqual,r=e.areMapsEqual,n=e.areObjectsEqual,s=e.arePrimitiveWrappersEqual,l=e.areRegExpsEqual,o=e.areSetsEqual,i=e.areTypedArraysEqual;return function(e,d,c){if(e===d)return!0;if(null==e||null==d||"object"!=typeof e||"object"!=typeof d)return e!=e&&d!=d;var u=e.constructor;if(u!==d.constructor)return!1;if(u===Object)return n(e,d,c);if(J5(e))return t(e,d,c);if(null!=Z5&&Z5(e))return i(e,d,c);if(u===Date)return a(e,d,c);if(u===RegExp)return l(e,d,c);if(u===Map)return r(e,d,c);if(u===Set)return o(e,d,c);var m=t4(e);return"[object Date]"===m?a(e,d,c):"[object RegExp]"===m?l(e,d,c):"[object Map]"===m?r(e,d,c):"[object Set]"===m?o(e,d,c):"[object Object]"===m?"function"!=typeof e.then&&"function"!=typeof d.then&&n(e,d,c):"[object Arguments]"===m?n(e,d,c):("[object Boolean]"===m||"[object Number]"===m||"[object String]"===m)&&s(e,d,c)}}(i),c=n?n(d):(t=d,function(e,a,r,n,s,l,o){return t(e,a,o)});return function(e){var t=e.circular,a=e.comparator,r=e.createState,n=e.equals,s=e.strict;if(r)return function(e,l){var o=r(),i=o.cache,d=void 0===i?t?new WeakMap:void 0:i,c=o.meta;return a(e,l,{cache:d,equals:n,meta:c,strict:s})};if(t)return function(e,t){return a(e,t,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};var l={cache:void 0,equals:n,meta:void 0,strict:s};return function(e,t){return a(e,t,l)}}({circular:r,comparator:d,createState:s,equals:c,strict:o})}function n4(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=-1;requestAnimationFrame((function r(n){a<0&&(a=n),n-a>t?(e(n),a=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function s4(e){return(s4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l4(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o4(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o4(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o4(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function i4(){var e=function(){return null},t=!1,a=function a(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var n=l4(r),s=n[0],l=n.slice(1);return"number"==typeof s?void n4(a.bind(null,l),s):(a(s),void n4(a.bind(null,l)))}"object"===s4(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,a(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function d4(e){return(d4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u4(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c4(Object(a),!0).forEach((function(t){m4(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c4(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m4(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==d4(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==d4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d4(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}r4({strict:!0}),r4({circular:!0}),r4({circular:!0,strict:!0}),r4({createInternalComparator:function(){return $5}}),r4({strict:!0,createInternalComparator:function(){return $5}}),r4({circular:!0,createInternalComparator:function(){return $5}}),r4({circular:!0,createInternalComparator:function(){return $5},strict:!0});var h4=function(e){return e},f4=function(e,t){return Object.keys(t).reduce((function(a,r){return u4(u4({},a),{},m4({},r,e(r,t[r])))}),{})},p4=function(e,t,a){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(a);var r})).join(",")};function x4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t);else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||b4(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g4(e){return function(e){if(Array.isArray(e))return v4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b4(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b4(e,t){if(e){if("string"==typeof e)return v4(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?v4(e,t):void 0}}function v4(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var y4=1e-4,w4=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},j4=function(e,t){return e.map((function(e,a){return e*Math.pow(t,a)})).reduce((function(e,t){return e+t}))},N4=function(e,t){return function(a){var r=w4(e,t);return j4(r,a)}},_4=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=t[0],n=t[1],s=t[2],l=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,n=0,s=1,l=1;break;case"ease":r=.25,n=.1,s=.25,l=1;break;case"ease-in":r=.42,n=0,s=1,l=1;break;case"ease-out":r=.42,n=0,s=.58,l=1;break;case"ease-in-out":r=0,n=0,s=.58,l=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var i=x4(o[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=i[0],n=i[1],s=i[2],l=i[3]}}var d,c,u=N4(r,s),m=N4(n,l),h=(d=r,c=s,function(e){var t=w4(d,c),a=[].concat(g4(t.map((function(e,t){return e*t})).slice(1)),[0]);return j4(a,e)}),f=function(e){for(var t,a=e>1?1:e,r=a,n=0;n<8;++n){var s=u(r)-a,l=h(r);if(Math.abs(s-a)<y4||l<y4)return m(r);r=(t=r-s/l)>1?1:t<0?0:t}return m(r)};return f.isStepper=!1,f},S4=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _4(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,a=void 0===t?100:t,r=e.damping,n=void 0===r?8:r,s=e.dt,l=void 0===s?17:s,o=function(e,t,r){var s=r+(-(e-t)*a-r*n)*l/1e3,o=r*l/1e3+e;return Math.abs(o-t)<y4&&Math.abs(s)<y4?[t,0]:[o,s]};return o.isStepper=!0,o.dt=l,o}();default:if("cubic-bezier"===r.split("(")[0])return _4(r)}return"function"==typeof r?r:null};function k4(e){return(k4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C4(e){return function(e){if(Array.isArray(e))return P4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A4(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T4(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E4(Object(a),!0).forEach((function(t){O4(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E4(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O4(e,t,a){return(t=function(e){var t=function(e,t){if("object"!==k4(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==k4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k4(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function D4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t);else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||A4(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A4(e,t){if(e){if("string"==typeof e)return P4(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?P4(e,t):void 0}}function P4(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var M4=function(e,t,a){return e+(t-e)*a},L4=function(e){return e.from!==e.to},I4=function e(t,a,r){var n=f4((function(e,a){if(L4(a)){var r=D4(t(a.from,a.to,a.velocity),2),n=r[0],s=r[1];return T4(T4({},a),{},{from:n,velocity:s})}return a}),a);return r<1?f4((function(e,t){return L4(t)?T4(T4({},t),{},{velocity:M4(t.velocity,n[e].velocity,r),from:M4(t.from,n[e].from,r)}):t}),a):e(t,n,r-1)};const F4=function(e,t,a,r,n){var s,l,o,i,d=(s=e,l=t,[Object.keys(s),Object.keys(l)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),c=d.reduce((function(a,r){return T4(T4({},a),{},O4({},r,[e[r],t[r]]))}),{}),u=d.reduce((function(a,r){return T4(T4({},a),{},O4({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),m=-1,h=function(){return null};return h=a.isStepper?function(r){o||(o=r);var s=(r-o)/a.dt;u=I4(a,u,s),n(T4(T4(T4({},e),t),f4((function(e,t){return t.from}),u))),o=r,Object.values(u).filter(L4).length&&(m=requestAnimationFrame(h))}:function(s){i||(i=s);var l=(s-i)/r,o=f4((function(e,t){return M4.apply(void 0,C4(t).concat([a(l)]))}),c);if(n(T4(T4(T4({},e),t),o)),l<1)m=requestAnimationFrame(h);else{var d=f4((function(e,t){return M4.apply(void 0,C4(t).concat([a(1)]))}),c);n(T4(T4(T4({},e),t),d))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(m)}}};function R4(e){return(R4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $4=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function B4(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function z4(e){return function(e){if(Array.isArray(e))return U4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return U4(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?U4(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U4(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function H4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function W4(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H4(Object(a),!0).forEach((function(t){Y4(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H4(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Y4(e,t,a){return(t=V4(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function q4(e,t,a){return t&&function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V4(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V4(e){var t=function(e,t){if("object"!==R4(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!==R4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R4(t)?t:String(t)}function G4(e,t){return(G4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K4(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(mMe){return!1}}();return function(){var a,r=J4(e);if(t){var n=J4(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return X4(this,a)}}function X4(e,t){if(t&&("object"===R4(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Q4(e)}function Q4(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J4(e){return(J4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z4=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G4(e,t)}(a,e);var t=K4(a);function a(e,r){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var s=(n=t.call(this,e,r)).props,l=s.isActive,o=s.attributeName,i=s.from,d=s.to,c=s.steps,u=s.children,m=s.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Q4(n)),n.changeStyle=n.changeStyle.bind(Q4(n)),!l||m<=0)return n.state={style:{}},"function"==typeof u&&(n.state={style:d}),X4(n);if(c&&c.length)n.state={style:c[0].style};else if(i){if("function"==typeof u)return n.state={style:i},X4(n);n.state={style:o?Y4({},o,i):i}}else n.state={style:{}};return n}return q4(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,a=e.canBegin;this.mounted=!0,t&&a&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isActive,r=t.canBegin,n=t.attributeName,s=t.shouldReAnimate,l=t.to,o=t.from,i=this.state.style;if(r)if(a){if(!(a4(e.to,l)&&e.canBegin&&e.isActive)){var d=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=d||s?o:e.to;if(this.state&&i){var u={style:n?Y4({},n,c):c};(n&&i[n]!==c||!n&&i!==c)&&this.setState(u)}this.runAnimation(W4(W4({},this.props),{},{from:c,begin:0}))}}else{var m={style:n?Y4({},n,l):l};this.state&&i&&(n&&i[n]!==l||!n&&i!==l)&&this.setState(m)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,a=e.from,r=e.to,n=e.duration,s=e.easing,l=e.begin,o=e.onAnimationEnd,i=e.onAnimationStart,d=F4(a,r,S4(s),n,this.changeStyle);this.manager.start([i,l,function(){t.stopJSAnimation=d()},n,o])}},{key:"runStepAnimation",value:function(e){var t=this,a=e.steps,r=e.begin,n=e.onAnimationStart,s=a[0],l=s.style,o=s.duration,i=void 0===o?0:o;return this.manager.start([n].concat(z4(a.reduce((function(e,r,n){if(0===n)return e;var s=r.duration,l=r.easing,o=void 0===l?"ease":l,i=r.style,d=r.properties,c=r.onAnimationEnd,u=n>0?a[n-1]:r,m=d||Object.keys(i);if("function"==typeof o||"spring"===o)return[].concat(z4(e),[t.runJSAnimation.bind(t,{from:u.style,to:i,duration:s,easing:o}),s]);var h=p4(m,s,o),f=W4(W4(W4({},u.style),i),{},{transition:h});return[].concat(z4(e),[f,s,c]).filter(h4)}),[l,Math.max(i,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=i4());var t=e.begin,a=e.duration,r=e.attributeName,n=e.to,s=e.easing,l=e.onAnimationStart,o=e.onAnimationEnd,i=e.steps,d=e.children,c=this.manager;if(this.unSubscribe=c.subscribe(this.handleStyleChange),"function"!=typeof s&&"function"!=typeof d&&"spring"!==s)if(i.length>1)this.runStepAnimation(e);else{var u=r?Y4({},r,n):n,m=p4(Object.keys(u),a,s);c.start([l,t,W4(W4({},u),{},{transition:m}),a,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var a=e.duration;e.attributeName,e.easing;var r=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var n=B4(e,$4),s=Q.Children.count(t),l=this.state.style;if("function"==typeof t)return t(l);if(!r||0===s||a<=0)return t;var o=function(e){var t=e.props,a=t.style,r=void 0===a?{}:a,s=t.className;return Q.cloneElement(e,W4(W4({},n),{},{style:W4(W4({},r),l),className:s}))};return 1===s?o(Q.Children.only(t)):J.createElement("div",null,Q.Children.map(t,(function(e){return o(e)})))}}]),a}(Q.PureComponent);function e9(e){return(e9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t9(){return t9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},t9.apply(this,arguments)}function a9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t);else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r9(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r9(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r9(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function n9(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s9(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n9(Object(a),!0).forEach((function(t){l9(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n9(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l9(e,t,a){var r;return r=function(e,t){if("object"!=e9(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=e9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==e9(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Z4.displayName="Animate",Z4.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Z4.propTypes={from:lb.oneOfType([lb.object,lb.string]),to:lb.oneOfType([lb.object,lb.string]),attributeName:lb.string,duration:lb.number,begin:lb.number,easing:lb.oneOfType([lb.string,lb.func]),steps:lb.arrayOf(lb.shape({duration:lb.number.isRequired,style:lb.object.isRequired,easing:lb.oneOfType([lb.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lb.func]),properties:lb.arrayOf("string"),onAnimationEnd:lb.func})),children:lb.oneOfType([lb.node,lb.func]),isActive:lb.bool,canBegin:lb.bool,onAnimationEnd:lb.func,shouldReAnimate:lb.bool,onAnimationStart:lb.func,onAnimationReStart:lb.func},lb.object,lb.object,lb.object,lb.element,lb.object,lb.object,lb.object,lb.oneOfType([lb.array,lb.element]),lb.any;var o9=function(e,t,a,r,n){var s,l=Math.min(Math.abs(a)/2,Math.abs(r)/2),o=r>=0?1:-1,i=a>=0?1:-1,d=r>=0&&a>=0||r<0&&a<0?1:0;if(l>0&&n instanceof Array){for(var c=[0,0,0,0],u=0;u<4;u++)c[u]=n[u]>l?l:n[u];s="M".concat(e,",").concat(t+o*c[0]),c[0]>0&&(s+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(d,",").concat(e+i*c[0],",").concat(t)),s+="L ".concat(e+a-i*c[1],",").concat(t),c[1]>0&&(s+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(d,",\n        ").concat(e+a,",").concat(t+o*c[1])),s+="L ".concat(e+a,",").concat(t+r-o*c[2]),c[2]>0&&(s+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(d,",\n        ").concat(e+a-i*c[2],",").concat(t+r)),s+="L ".concat(e+i*c[3],",").concat(t+r),c[3]>0&&(s+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(d,",\n        ").concat(e,",").concat(t+r-o*c[3])),s+="Z"}else if(l>0&&n===+n&&n>0){var m=Math.min(l,n);s="M ".concat(e,",").concat(t+o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(d,",").concat(e+i*m,",").concat(t,"\n            L ").concat(e+a-i*m,",").concat(t,"\n            A ").concat(m,",").concat(m,",0,0,").concat(d,",").concat(e+a,",").concat(t+o*m,"\n            L ").concat(e+a,",").concat(t+r-o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(d,",").concat(e+a-i*m,",").concat(t+r,"\n            L ").concat(e+i*m,",").concat(t+r,"\n            A ").concat(m,",").concat(m,",0,0,").concat(d,",").concat(e,",").concat(t+r-o*m," Z")}else s="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return s},i9=function(e,t){if(!e||!t)return!1;var a=e.x,r=e.y,n=t.x,s=t.y,l=t.width,o=t.height;if(Math.abs(l)>0&&Math.abs(o)>0){var i=Math.min(n,n+l),d=Math.max(n,n+l),c=Math.min(s,s+o),u=Math.max(s,s+o);return a>=i&&a<=d&&r>=c&&r<=u}return!1},d9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c9=function(e){var t=s9(s9({},d9),e),a=Q.useRef(),r=a9(Q.useState(-1),2),n=r[0],s=r[1];Q.useEffect((function(){if(a.current&&a.current.getTotalLength)try{var e=a.current.getTotalLength();e&&s(e)}catch(t){}}),[]);var l=t.x,o=t.y,i=t.width,d=t.height,c=t.radius,u=t.className,m=t.animationEasing,h=t.animationDuration,f=t.animationBegin,p=t.isAnimationActive,x=t.isUpdateAnimationActive;if(l!==+l||o!==+o||i!==+i||d!==+d||0===i||0===d)return null;var g=Wf("recharts-rectangle",u);return x?J.createElement(Z4,{canBegin:n>0,from:{width:i,height:d,x:l,y:o},to:{width:i,height:d,x:l,y:o},duration:h,animationEasing:m,isActive:x},(function(e){var r=e.width,s=e.height,l=e.x,o=e.y;return J.createElement(Z4,{canBegin:n>0,from:"0px ".concat(-1===n?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:p,easing:m},J.createElement("path",t9({},zz(t,!0),{className:g,d:o9(l,o,r,s,c),ref:a})))})):J.createElement("path",t9({},zz(t,!0),{className:g,d:o9(l,o,i,d,c)}))},u9=["points","className","baseLinePoints","connectNulls"];function m9(){return m9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},m9.apply(this,arguments)}function h9(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function f9(e){return function(e){if(Array.isArray(e))return p9(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p9(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p9(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p9(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var x9=function(e){return e&&e.x===+e.x&&e.y===+e.y},g9=function(e,t){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){x9(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),x9(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(a=[a.reduce((function(e,t){return[].concat(f9(e),f9(t))}),[])]);var r=a.map((function(e){return e.reduce((function(e,t,a){return"".concat(e).concat(0===a?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===a.length?"".concat(r,"Z"):r},b9=function(e){var t=e.points,a=e.className,r=e.baseLinePoints,n=e.connectNulls,s=h9(e,u9);if(!t||!t.length)return null;var l=Wf("recharts-polygon",a);if(r&&r.length){var o=s.stroke&&"none"!==s.stroke,i=function(e,t,a){var r=g9(e,a);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(g9(t.reverse(),a).slice(1))}(t,r,n);return J.createElement("g",{className:l},J.createElement("path",m9({},zz(s,!0),{fill:"Z"===i.slice(-1)?s.fill:"none",stroke:"none",d:i})),o?J.createElement("path",m9({},zz(s,!0),{fill:"none",d:g9(t,n)})):null,o?J.createElement("path",m9({},zz(s,!0),{fill:"none",d:g9(r,n)})):null)}var d=g9(t,n);return J.createElement("path",m9({},zz(s,!0),{fill:"Z"===d.slice(-1)?s.fill:"none",className:l,d:d}))};function v9(){return v9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},v9.apply(this,arguments)}var y9=function(e){var t=e.cx,a=e.cy,r=e.r,n=Wf("recharts-dot",e.className);return t===+t&&a===+a&&r===+r?J.createElement("circle",v9({},zz(e,!1),Cz(e),{className:n,cx:t,cy:a,r:r})):null};function w9(e){return(w9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var j9=["x","y","top","left","width","height","className"];function N9(){return N9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},N9.apply(this,arguments)}function _9(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S9(e,t,a){var r;return r=function(e,t){if("object"!=w9(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=w9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==w9(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function k9(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var C9=function(e,t,a,r,n,s){return"M".concat(e,",").concat(n,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(a)},E9=function(e){var t=e.x,a=void 0===t?0:t,r=e.y,n=void 0===r?0:r,s=e.top,l=void 0===s?0:s,o=e.left,i=void 0===o?0:o,d=e.width,c=void 0===d?0:d,u=e.height,m=void 0===u?0:u,h=e.className,f=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_9(Object(a),!0).forEach((function(t){S9(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_9(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({x:a,y:n,top:l,left:i,width:c,height:m},k9(e,j9));return hz(a)&&hz(n)&&hz(c)&&hz(m)&&hz(l)&&hz(i)?J.createElement("path",N9({},zz(f,!0),{className:Wf("recharts-cross",h),d:C9(a,n,c,m,l,i)})):null},T9=b1,O9=v1,D9=sV;const A9=n((function(e,t){return e&&e.length?T9(e,D9(t),O9):void 0}));var P9=b1,M9=sV,L9=_1;const I9=n((function(e,t){return e&&e.length?P9(e,M9(t),L9):void 0}));var F9=["cx","cy","angle","ticks","axisLine"],R9=["ticks","tick","angle","tickFormatter","stroke"];function $9(e){return($9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B9(){return B9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},B9.apply(this,arguments)}function z9(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function U9(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z9(Object(a),!0).forEach((function(t){K9(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z9(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function H9(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function W9(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X9(r.key),r)}}function Y9(e,t,a){return t=V9(t),function(e,t){if(t&&("object"===$9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,q9()?Reflect.construct(t,a||[],V9(e).constructor):t.apply(e,a))}function q9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(q9=function(){return!!e})()}function V9(e){return(V9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G9(e,t){return(G9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function K9(e,t,a){return(t=X9(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function X9(e){var t=function(e,t){if("object"!=$9(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=$9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$9(t)?t:String(t)}var Q9=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Y9(this,t,arguments)}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G9(e,t)}(t,e),a=t,n=[{key:"renderTickItem",value:function(e,t,a){return J.isValidElement(e)?J.cloneElement(e,t):LR(e)?e(t):J.createElement(LX,B9({},t,{className:"recharts-polar-radius-axis-tick-value"}),a)}}],(r=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,a=this.props,r=a.angle,n=a.cx,s=a.cy;return L3(n,s,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,a=e.cy,r=e.angle,n=e.ticks,s=A9(n,(function(e){return e.coordinate||0}));return{cx:t,cy:a,startAngle:r,endAngle:r,innerRadius:I9(n,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:s.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,a=e.cy,r=e.angle,n=e.ticks,s=e.axisLine,l=H9(e,F9),o=n.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),i=L3(t,a,o[0],r),d=L3(t,a,o[1],r),c=U9(U9(U9({},zz(l,!1)),{},{fill:"none"},zz(s,!1)),{},{x1:i.x,y1:i.y,x2:d.x,y2:d.y});return J.createElement("line",B9({className:"recharts-polar-radius-axis-line"},c))}},{key:"renderTicks",value:function(){var e=this,a=this.props,r=a.ticks,n=a.tick,s=a.angle,l=a.tickFormatter,o=a.stroke,i=H9(a,R9),d=this.getTickTextAnchor(),c=zz(i,!1),u=zz(n,!1),m=r.map((function(a,r){var i=e.getTickValueCoord(a),m=U9(U9(U9(U9({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(i.x,", ").concat(i.y,")")},c),{},{stroke:"none",fill:o},u),{},{index:r},i),{},{payload:a});return J.createElement(Jz,B9({className:Wf("recharts-polar-radius-axis-tick",B3(n)),key:"tick-".concat(a.coordinate)},Ez(e.props,a,r)),t.renderTickItem(n,m,l?l(a.value,r):a.value))}));return J.createElement(Jz,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var e=this.props,t=e.ticks,a=e.axisLine,r=e.tick;return t&&t.length?J.createElement(Jz,{className:Wf("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),r&&this.renderTicks(),Q3.renderCallByParent(this.props,this.getViewBox())):null}}])&&W9(a.prototype,r),n&&W9(a,n),Object.defineProperty(a,"prototype",{writable:!1}),t}(Q.PureComponent);function J9(e){return(J9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z9(){return Z9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Z9.apply(this,arguments)}function e6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function t6(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?e6(Object(a),!0).forEach((function(t){o6(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e6(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function a6(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i6(r.key),r)}}function r6(e,t,a){return t=s6(t),function(e,t){if(t&&("object"===J9(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n6()?Reflect.construct(t,a||[],s6(e).constructor):t.apply(e,a))}function n6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(n6=function(){return!!e})()}function s6(e){return(s6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l6(e,t){return(l6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o6(e,t,a){return(t=i6(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i6(e){var t=function(e,t){if("object"!=J9(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=J9(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J9(t)?t:String(t)}K9(Q9,"displayName","PolarRadiusAxis"),K9(Q9,"axisType","radiusAxis"),K9(Q9,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var d6=Math.PI/180,c6=1e-5,u6=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r6(this,t,arguments)}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l6(e,t)}(t,e),a=t,n=[{key:"renderTickItem",value:function(e,t,a){return J.isValidElement(e)?J.cloneElement(e,t):LR(e)?e(t):J.createElement(LX,Z9({},t,{className:"recharts-polar-angle-axis-tick-value"}),a)}}],(r=[{key:"getTickLineCoord",value:function(e){var t=this.props,a=t.cx,r=t.cy,n=t.radius,s=t.orientation,l=t.tickSize||8,o=L3(a,r,n,e.coordinate),i=L3(a,r,n+("inner"===s?-1:1)*l,e.coordinate);return{x1:o.x,y1:o.y,x2:i.x,y2:i.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,a=Math.cos(-e.coordinate*d6);return a>c6?"outer"===t?"start":"end":a<-c6?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,a=e.cy,r=e.radius,n=e.axisLine,s=e.axisLineType,l=t6(t6({},zz(this.props,!1)),{},{fill:"none"},zz(n,!1));if("circle"===s)return J.createElement(y9,Z9({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:a,r:r}));var o=this.props.ticks.map((function(e){return L3(t,a,r,e.coordinate)}));return J.createElement(b9,Z9({className:"recharts-polar-angle-axis-line"},l,{points:o}))}},{key:"renderTicks",value:function(){var e=this,a=this.props,r=a.ticks,n=a.tick,s=a.tickLine,l=a.tickFormatter,o=a.stroke,i=zz(this.props,!1),d=zz(n,!1),c=t6(t6({},i),{},{fill:"none"},zz(s,!1)),u=r.map((function(a,r){var u=e.getTickLineCoord(a),m=t6(t6(t6({textAnchor:e.getTickTextAnchor(a)},i),{},{stroke:"none",fill:o},d),{},{index:r,payload:a,x:u.x2,y:u.y2});return J.createElement(Jz,Z9({className:Wf("recharts-polar-angle-axis-tick",B3(n)),key:"tick-".concat(a.coordinate)},Ez(e.props,a,r)),s&&J.createElement("line",Z9({className:"recharts-polar-angle-axis-tick-line"},c,u)),n&&t.renderTickItem(n,m,l?l(a.value,r):a.value))}));return J.createElement(Jz,{className:"recharts-polar-angle-axis-ticks"},u)}},{key:"render",value:function(){var e=this.props,t=e.ticks,a=e.radius,r=e.axisLine;return a<=0||!t||!t.length?null:J.createElement(Jz,{className:Wf("recharts-polar-angle-axis",this.props.className)},r&&this.renderAxisLine(),this.renderTicks())}}])&&a6(a.prototype,r),n&&a6(a,n),Object.defineProperty(a,"prototype",{writable:!1}),t}(Q.PureComponent);o6(u6,"displayName","PolarAngleAxis"),o6(u6,"axisType","angleAxis"),o6(u6,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var m6=NY(Object.getPrototypeOf,Object),h6=yR,f6=m6,p6=wR,x6=Function.prototype,g6=Object.prototype,b6=x6.toString,v6=g6.hasOwnProperty,y6=b6.call(Object);const w6=n((function(e){if(!p6(e)||"[object Object]"!=h6(e))return!1;var t=f6(e);if(null===t)return!0;var a=v6.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&b6.call(a)==y6}));var j6=yR,N6=wR;const _6=n((function(e){return!0===e||!1===e||N6(e)&&"[object Boolean]"==j6(e)}));function S6(e){return(S6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k6(){return k6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},k6.apply(this,arguments)}function C6(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t);else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E6(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?E6(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E6(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function T6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O6(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T6(Object(a),!0).forEach((function(t){D6(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T6(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D6(e,t,a){var r;return r=function(e,t){if("object"!=S6(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=S6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==S6(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var A6,P6=function(e,t,a,r,n){var s,l=a-r;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+a,",").concat(t),s+="L ".concat(e+a-l/2,",").concat(t+n),s+="L ".concat(e+a-l/2-r,",").concat(t+n),s+="L ".concat(e,",").concat(t," Z")},M6={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L6=function(e){var t=O6(O6({},M6),e),a=Q.useRef(),r=C6(Q.useState(-1),2),n=r[0],s=r[1];Q.useEffect((function(){if(a.current&&a.current.getTotalLength)try{var e=a.current.getTotalLength();e&&s(e)}catch(t){}}),[]);var l=t.x,o=t.y,i=t.upperWidth,d=t.lowerWidth,c=t.height,u=t.className,m=t.animationEasing,h=t.animationDuration,f=t.animationBegin,p=t.isUpdateAnimationActive;if(l!==+l||o!==+o||i!==+i||d!==+d||c!==+c||0===i&&0===d||0===c)return null;var x=Wf("recharts-trapezoid",u);return p?J.createElement(Z4,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:c,x:l,y:o},to:{upperWidth:i,lowerWidth:d,height:c,x:l,y:o},duration:h,animationEasing:m,isActive:p},(function(e){var r=e.upperWidth,s=e.lowerWidth,l=e.height,o=e.x,i=e.y;return J.createElement(Z4,{canBegin:n>0,from:"0px ".concat(-1===n?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,easing:m},J.createElement("path",k6({},zz(t,!0),{className:x,d:P6(o,i,r,s,l),ref:a})))})):J.createElement("g",null,J.createElement("path",k6({},zz(t,!0),{className:x,d:P6(l,o,i,d,c)})))},I6=["option","shapeType","propTransformer","activeClassName","isActive"];function F6(e){return(F6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R6(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function $6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B6(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$6(Object(a),!0).forEach((function(t){z6(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$6(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function z6(e,t,a){var r;return r=function(e,t){if("object"!=F6(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=F6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==F6(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function U6(e,t){return B6(B6({},t),e)}function H6(e){var t=e.shapeType,a=e.elementProps;switch(t){case"rectangle":return J.createElement(c9,a);case"trapezoid":return J.createElement(L6,a);case"sector":return J.createElement(y5,a);case"symbols":if(function(e){return"symbols"===e}(t))return J.createElement($H,a);break;default:return null}}function W6(e){var t,a=e.option,r=e.shapeType,n=e.propTransformer,s=void 0===n?U6:n,l=e.activeClassName,o=void 0===l?"recharts-active-shape":l,i=e.isActive,d=R6(e,I6);if(Q.isValidElement(a))t=Q.cloneElement(a,B6(B6({},d),function(e){return Q.isValidElement(e)?e.props:e}(a)));else if(LR(a))t=a(d);else if(w6(a)&&!_6(a)){var c=s(a,d);t=J.createElement(H6,{shapeType:r,elementProps:c})}else{var u=d;t=J.createElement(H6,{shapeType:r,elementProps:u})}return i?J.createElement(Jz,{className:o},t):t}function Y6(e,t){return null!=t&&"trapezoids"in e.props}function q6(e,t){return null!=t&&"sectors"in e.props}function V6(e,t){return null!=t&&"points"in e.props}function G6(e,t){var a,r,n=e.x===(null==t||null===(a=t.labelViewBox)||void 0===a?void 0:a.x)||e.x===t.x,s=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return n&&s}function K6(e,t){var a=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return a&&r}function X6(e,t){var a=e.x===t.x,r=e.y===t.y,n=e.z===t.z;return a&&r&&n}function Q6(e){var t=e.activeTooltipItem,a=e.graphicalItem,r=e.itemData,n=function(e,t){var a;return Y6(e,t)?a="trapezoids":q6(e,t)?a="sectors":V6(e,t)&&(a="points"),a}(a,t),s=function(e,t){var a,r;return Y6(e,t)?null===(a=t.tooltipPayload)||void 0===a||null===(a=a[0])||void 0===a||null===(a=a.payload)||void 0===a?void 0:a.payload:q6(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:V6(e,t)?t.payload:{}}(a,t),l=r.filter((function(e,r){var l=F1(s,e),o=a.props[n].filter((function(e){var r=function(e,t){var a;return Y6(e,t)?a=G6:q6(e,t)?a=K6:V6(e,t)&&(a=X6),a}(a,t);return r(e,t)})),i=a.props[n].indexOf(o[o.length-1]);return l&&r===i}));return r.indexOf(l[l.length-1])}function J6(e){return(J6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z6(){return Z6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Z6.apply(this,arguments)}function e8(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function t8(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?e8(Object(a),!0).forEach((function(t){i8(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e8(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function a8(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d8(r.key),r)}}function r8(e,t,a){return t=s8(t),function(e,t){if(t&&("object"===J6(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l8(e)}(e,n8()?Reflect.construct(t,a||[],s8(e).constructor):t.apply(e,a))}function n8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(n8=function(){return!!e})()}function s8(e){return(s8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l8(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o8(e,t){return(o8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function i8(e,t,a){return(t=d8(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d8(e){var t=function(e,t){if("object"!=J6(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=J6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J6(t)?t:String(t)}var c8=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i8(l8(a=r8(this,t,[e])),"pieRef",null),i8(l8(a),"sectorRefs",[]),i8(l8(a),"id",xz("recharts-pie-")),i8(l8(a),"handleAnimationEnd",(function(){var e=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),LR(e)&&e()})),i8(l8(a),"handleAnimationStart",(function(){var e=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),LR(e)&&e()})),a.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o8(e,t)}(t,e),a=t,r=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,r=a.label,n=a.labelLine,s=a.dataKey,l=a.valueKey,o=zz(this.props,!1),i=zz(r,!1),d=zz(n,!1),c=r&&r.offsetRadius||20,u=e.map((function(e,a){var u=(e.startAngle+e.endAngle)/2,m=L3(e.cx,e.cy,e.outerRadius+c,u),h=t8(t8(t8(t8({},o),e),{},{stroke:"none"},i),{},{index:a,textAnchor:t.getTextAnchor(m.x,e.cx)},m),f=t8(t8(t8(t8({},o),e),{},{fill:"none",stroke:e.fill},d),{},{index:a,points:[L3(e.cx,e.cy,e.outerRadius,u),m],key:"line"}),p=s;return OB(s)&&OB(l)?p="value":OB(s)&&(p=l),J.createElement(Jz,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(a)},n&&t.renderLabelLineItem(n,f),t.renderLabelItem(r,h,n3(e,p)))}));return J.createElement(Jz,{className:"recharts-pie-labels"},u)}},{key:"renderSectorsStatically",value:function(e){var t=this,a=this.props,r=a.activeShape,n=a.blendStroke,s=a.inactiveShape;return e.map((function(a,l){if(0===(null==a?void 0:a.startAngle)&&0===(null==a?void 0:a.endAngle)&&1!==e.length)return null;var o=t.isActiveIndex(l),i=s&&t.hasActiveIndex()?s:null,d=o?r:i,c=t8(t8({},a),{},{stroke:n?a.fill:a.stroke,tabIndex:-1});return J.createElement(Jz,Z6({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Ez(t.props,a,l),{key:"sector-".concat(null==a?void 0:a.startAngle,"-").concat(null==a?void 0:a.endAngle,"-").concat(a.midAngle,"-").concat(l)}),J.createElement(W6,Z6({option:d,isActive:o,shapeType:"sector"},c)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,a=t.sectors,r=t.isAnimationActive,n=t.animationBegin,s=t.animationDuration,l=t.animationEasing,o=t.animationId,i=this.state,d=i.prevSectors,c=i.prevIsAnimationActive;return J.createElement(Z4,{begin:n,duration:s,isActive:r,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(o,"-").concat(c),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var r=t.t,n=[],s=(a&&a[0]).startAngle;return a.forEach((function(e,t){var a=d&&d[t],l=t>0?TB(e,"paddingAngle",0):0;if(a){var o=vz(a.endAngle-a.startAngle,e.endAngle-e.startAngle),i=t8(t8({},e),{},{startAngle:s+l,endAngle:s+o(r)+l});n.push(i),s=i.endAngle}else{var c=e.endAngle,u=e.startAngle,m=vz(0,c-u)(r),h=t8(t8({},e),{},{startAngle:s+l,endAngle:s+m+l});n.push(h),s=h.endAngle}})),J.createElement(Jz,null,e.renderSectorsStatically(n))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var a=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[a].focus(),t.setState({sectorToFocus:a});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,a=e.isAnimationActive,r=this.state.prevSectors;return!(a&&t&&t.length)||r&&F1(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,a=t.hide,r=t.sectors,n=t.className,s=t.label,l=t.cx,o=t.cy,i=t.innerRadius,d=t.outerRadius,c=t.isAnimationActive,u=this.state.isAnimationFinished;if(a||!r||!r.length||!hz(l)||!hz(o)||!hz(i)||!hz(d))return null;var m=Wf("recharts-pie",n);return J.createElement(Jz,{tabIndex:this.props.rootTabIndex,className:m,ref:function(t){e.pieRef=t}},this.renderSectors(),s&&this.renderLabels(r),Q3.renderCallByParent(this.props,null,!1),(!c||u)&&u5.renderCallByParent(this.props,r,!1))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t){if(J.isValidElement(e))return J.cloneElement(e,t);if(LR(e))return e(t);var a=Wf("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return J.createElement(D5,Z6({},t,{type:"linear",className:a}))}},{key:"renderLabelItem",value:function(e,t,a){if(J.isValidElement(e))return J.cloneElement(e,t);var r=a;if(LR(e)&&(r=e(t),J.isValidElement(r)))return r;var n=Wf("recharts-pie-label-text","boolean"==typeof e||LR(e)?"":e.className);return J.createElement(LX,Z6({},t,{alignmentBaseline:"middle",className:n}),r)}}],r&&a8(a.prototype,r),n&&a8(a,n),Object.defineProperty(a,"prototype",{writable:!1}),t}(Q.PureComponent);A6=c8,i8(c8,"displayName","Pie"),i8(c8,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!uK.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),i8(c8,"parseDeltaAngle",(function(e,t){return uz(t-e)*Math.min(Math.abs(t-e),360)})),i8(c8,"getRealPieData",(function(e){var t=e.props,a=t.data,r=t.children,n=zz(e.props,!1),s=Fz(r,JK);return a&&a.length?a.map((function(e,t){return t8(t8(t8({payload:e},n),e),s&&s[t]&&s[t].props)})):s&&s.length?s.map((function(e){return t8(t8({},n),e.props)})):[]})),i8(c8,"parseCoordinateOfPie",(function(e,t){var a=t.top,r=t.left,n=t.width,s=t.height,l=I3(n,s);return{cx:r+gz(e.props.cx,n,n/2),cy:a+gz(e.props.cy,s,s/2),innerRadius:gz(e.props.innerRadius,l,0),outerRadius:gz(e.props.outerRadius,l,.8*l),maxRadius:e.props.maxRadius||Math.sqrt(n*n+s*s)/2}})),i8(c8,"getComposedData",(function(e){var t=e.item,a=e.offset,r=A6.getRealPieData(t);if(!r||!r.length)return null;var n=t.props,s=n.cornerRadius,l=n.startAngle,o=n.endAngle,i=n.paddingAngle,d=n.dataKey,c=n.nameKey,u=n.valueKey,m=n.tooltipType,h=Math.abs(t.props.minAngle),f=A6.parseCoordinateOfPie(t,a),p=A6.parseDeltaAngle(l,o),x=Math.abs(p),g=d;OB(d)&&OB(u)?(Zz(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):OB(d)&&(Zz(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=u);var b,v,y=r.filter((function(e){return 0!==n3(e,g,0)})).length,w=x-y*h-(x>=360?y:y-1)*i,j=r.reduce((function(e,t){var a=n3(t,g,0);return e+(hz(a)?a:0)}),0);return j>0&&(b=r.map((function(e,t){var a,r=n3(e,g,0),n=n3(e,c,t),o=(hz(r)?r:0)/j,d=(a=t?v.endAngle+uz(p)*i*(0!==r?1:0):l)+uz(p)*((0!==r?h:0)+o*w),u=(a+d)/2,x=(f.innerRadius+f.outerRadius)/2,b=[{name:n,value:r,payload:e,dataKey:g,type:m}],y=L3(f.cx,f.cy,x,u);return v=t8(t8(t8({percent:o,cornerRadius:s,name:n,tooltipPayload:b,midAngle:u,middleRadius:x,tooltipPosition:y},e),f),{},{value:n3(e,g),startAngle:a,endAngle:d,payload:e,paddingAngle:uz(p)*i})}))),t8(t8({},f),{},{sectors:b,data:r})}));var u8=Math.ceil,m8=Math.max,h8=LK,f8=1/0,p8=function(e,t,a,r){for(var n=-1,s=m8(u8((t-e)/(a||1)),0),l=Array(s);s--;)l[r?s:++n]=e,e+=a;return l},x8=PG,g8=function(e){return e?(e=h8(e))===f8||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};const b8=n(function(e){return function(t,a,r){return r&&"number"!=typeof r&&x8(t,a,r)&&(a=r=void 0),t=g8(t),void 0===a?(a=t,t=0):a=g8(a),r=void 0===r?t<a?1:-1:g8(r),p8(t,a,r,e)}}());function v8(e){return(v8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y8(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w8(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y8(Object(a),!0).forEach((function(t){j8(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y8(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j8(e,t,a){var r;return r=function(e,t){if("object"!=v8(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=v8(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v8(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var N8=["Webkit","Moz","O","ms"];function _8(e){return(_8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S8(){return S8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},S8.apply(this,arguments)}function k8(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C8(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k8(Object(a),!0).forEach((function(t){M8(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k8(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E8(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L8(r.key),r)}}function T8(e,t,a){return t=D8(t),function(e,t){if(t&&("object"===_8(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A8(e)}(e,O8()?Reflect.construct(t,a||[],D8(e).constructor):t.apply(e,a))}function O8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(O8=function(){return!!e})()}function D8(e){return(D8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A8(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P8(e,t){return(P8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function M8(e,t,a){return(t=L8(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L8(e){var t=function(e,t){if("object"!=_8(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=_8(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_8(t)?t:String(t)}var I8=function(e){return e.changedTouches&&!!e.changedTouches.length},F8=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),M8(A8(a=T8(this,t,[e])),"handleDrag",(function(e){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(e):a.state.isSlideMoving&&a.handleSlideDrag(e)})),M8(A8(a),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleDrag(e.changedTouches[0])})),M8(A8(a),"handleDragEnd",(function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=a.props,t=e.endIndex,r=e.onDragEnd,n=e.startIndex;null==r||r({endIndex:t,startIndex:n})})),a.detachDragEndListener()})),M8(A8(a),"handleLeaveWrapper",(function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))})),M8(A8(a),"handleEnterSlideOrTraveller",(function(){a.setState({isTextActive:!0})})),M8(A8(a),"handleLeaveSlideOrTraveller",(function(){a.setState({isTextActive:!1})})),M8(A8(a),"handleSlideDragStart",(function(e){var t=I8(e)?e.changedTouches[0]:e;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),a.attachDragEndListener()})),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(A8(a),"startX"),endX:a.handleTravellerDragStart.bind(A8(a),"endX")},a.state={},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P8(e,t)}(t,e),a=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var a=e.startX,r=e.endX,n=this.state.scaleValues,s=this.props,l=s.gap,o=s.data.length-1,i=Math.min(a,r),d=Math.max(a,r),c=t.getIndexInRange(n,i),u=t.getIndexInRange(n,d);return{startIndex:c-c%l,endIndex:u===o?o:u-u%l}}},{key:"getTextOfTick",value:function(e){var t=this.props,a=t.data,r=t.tickFormatter,n=t.dataKey,s=n3(a[e],n,e);return LR(r)?r(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,a=t.slideMoveStartX,r=t.startX,n=t.endX,s=this.props,l=s.x,o=s.width,i=s.travellerWidth,d=s.startIndex,c=s.endIndex,u=s.onChange,m=e.pageX-a;m>0?m=Math.min(m,l+o-i-n,l+o-i-r):m<0&&(m=Math.max(m,l-r,l-n));var h=this.getIndex({startX:r+m,endX:n+m});h.startIndex===d&&h.endIndex===c||!u||u(h),this.setState({startX:r+m,endX:n+m,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var a=I8(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,a=t.brushMoveStartX,r=t.movingTravellerId,n=t.endX,s=t.startX,l=this.state[r],o=this.props,i=o.x,d=o.width,c=o.travellerWidth,u=o.onChange,m=o.gap,h=o.data,f={startX:this.state.startX,endX:this.state.endX},p=e.pageX-a;p>0?p=Math.min(p,i+d-c-l):p<0&&(p=Math.max(p,i-l)),f[r]=l+p;var x=this.getIndex(f),g=x.startIndex,b=x.endIndex;this.setState(M8(M8({},r,l+p),"brushMoveStartX",e.pageX),(function(){var e;u&&(e=h.length-1,("startX"===r&&(n>s?g%m==0:b%m==0)||n<s&&b===e||"endX"===r&&(n>s?b%m==0:g%m==0)||n>s&&b===e)&&u(x))}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var a=this,r=this.state,n=r.scaleValues,s=r.startX,l=r.endX,o=this.state[t],i=n.indexOf(o);if(-1!==i){var d=i+e;if(!(-1===d||d>=n.length)){var c=n[d];"startX"===t&&c>=l||"endX"===t&&c<=s||this.setState(M8({},t,c),(function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,a=e.y,r=e.width,n=e.height,s=e.fill,l=e.stroke;return J.createElement("rect",{stroke:l,fill:s,x:t,y:a,width:r,height:n})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,a=e.y,r=e.width,n=e.height,s=e.data,l=e.children,o=e.padding,i=Q.Children.only(l);return i?J.cloneElement(i,{x:t,y:a,width:r,height:n,margin:o,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(e,a){var r,n,s=this,l=this.props,o=l.y,i=l.travellerWidth,d=l.height,c=l.traveller,u=l.ariaLabel,m=l.data,h=l.startIndex,f=l.endIndex,p=Math.max(e,this.props.x),x=C8(C8({},zz(this.props,!1)),{},{x:p,y:o,width:i,height:d}),g=u||"Min value: ".concat(null===(r=m[h])||void 0===r?void 0:r.name,", Max value: ").concat(null===(n=m[f])||void 0===n?void 0:n.name);return J.createElement(Jz,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),s.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,a))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(c,x))}},{key:"renderSlide",value:function(e,t){var a=this.props,r=a.y,n=a.height,s=a.stroke,l=a.travellerWidth,o=Math.min(e,t)+l,i=Math.max(Math.abs(t-e)-l,0);return J.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:o,y:r,width:i,height:n})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,a=e.endIndex,r=e.y,n=e.height,s=e.travellerWidth,l=e.stroke,o=this.state,i=o.startX,d=o.endX,c={pointerEvents:"none",fill:l};return J.createElement(Jz,{className:"recharts-brush-texts"},J.createElement(LX,S8({textAnchor:"end",verticalAnchor:"middle",x:Math.min(i,d)-5,y:r+n/2},c),this.getTextOfTick(t)),J.createElement(LX,S8({textAnchor:"start",verticalAnchor:"middle",x:Math.max(i,d)+s+5,y:r+n/2},c),this.getTextOfTick(a)))}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.className,r=e.children,n=e.x,s=e.y,l=e.width,o=e.height,i=e.alwaysShowText,d=this.state,c=d.startX,u=d.endX,m=d.isTextActive,h=d.isSlideMoving,f=d.isTravellerMoving,p=d.isTravellerFocused;if(!t||!t.length||!hz(n)||!hz(s)||!hz(l)||!hz(o)||l<=0||o<=0)return null;var x,g,b,v,y=Wf("recharts-brush",a),w=1===J.Children.count(r),j=(g="none",b=(x="userSelect").replace(/(\w)/,(function(e){return e.toUpperCase()})),(v=N8.reduce((function(e,t){return w8(w8({},e),{},j8({},t+b,g))}),{}))[x]=g,v);return J.createElement(Jz,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(c,u),this.renderTravellerLayer(c,"startX"),this.renderTravellerLayer(u,"endX"),(m||h||f||p||i)&&this.renderText())}}],n=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,a=e.y,r=e.width,n=e.height,s=e.stroke,l=Math.floor(a+n/2)-1;return J.createElement(J.Fragment,null,J.createElement("rect",{x:t,y:a,width:r,height:n,fill:s,stroke:"none"}),J.createElement("line",{x1:t+1,y1:l,x2:t+r-1,y2:l,fill:"none",stroke:"#fff"}),J.createElement("line",{x1:t+1,y1:l+2,x2:t+r-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,a){return J.isValidElement(e)?J.cloneElement(e,a):LR(e)?e(a):t.renderDefaultTraveller(a)}},{key:"getDerivedStateFromProps",value:function(e,t){var a=e.data,r=e.width,n=e.x,s=e.travellerWidth,l=e.updateId,o=e.startIndex,i=e.endIndex;if(a!==t.prevData||l!==t.prevUpdateId)return C8({prevData:a,prevTravellerWidth:s,prevUpdateId:l,prevX:n,prevWidth:r},a&&a.length?function(e){var t=e.data,a=e.startIndex,r=e.endIndex,n=e.x,s=e.width,l=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,i=cQ().domain(b8(0,o)).range([n,n+s-l]),d=i.domain().map((function(e){return i(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:i(a),endX:i(r),scale:i,scaleValues:d}}({data:a,width:r,x:n,travellerWidth:s,startIndex:o,endIndex:i}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||n!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([n,n+r-s]);var d=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:a,prevTravellerWidth:s,prevUpdateId:l,prevX:n,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(e,t){for(var a=0,r=e.length-1;r-a>1;){var n=Math.floor((a+r)/2);e[n]>t?r=n:a=n}return t>=e[r]?r:a}}],r&&E8(a.prototype,r),n&&E8(a,n),Object.defineProperty(a,"prototype",{writable:!1}),t}(Q.PureComponent);M8(F8,"displayName","Brush"),M8(F8,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var R8=QV,$8=pW,B8=sV,z8=function(e,t){var a;return R8(e,(function(e,r,n){return!(a=t(e,r,n))})),!!a},U8=nR,H8=PG;const W8=n((function(e,t,a){var r=U8(e)?$8:z8;return a&&H8(e,t,a)&&(t=void 0),r(e,B8(t))}));var Y8=function(e,t){var a=e.alwaysShow,r=e.ifOverflow;return a&&(r="extendDomain"),r===t},q8=vG,V8=function(e,t,a){"__proto__"==t&&q8?q8(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a},G8=KV,K8=sV;const X8=n((function(e,t){var a={};return t=K8(t),G8(e,(function(e,r,n){V8(a,r,t(e,r,n))})),a}));var Q8=QV,J8=function(e,t){for(var a=-1,r=null==e?0:e.length;++a<r;)if(!t(e[a],a,e))return!1;return!0},Z8=function(e,t){var a=!0;return Q8(e,(function(e,r,n){return a=!!t(e,r,n)})),a},e7=sV,t7=nR,a7=PG;const r7=n((function(e,t,a){var r=t7(e)?J8:Z8;return a&&a7(e,t,a)&&(t=void 0),r(e,e7(t))}));var n7=["x","y"];function s7(e){return(s7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l7(){return l7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l7.apply(this,arguments)}function o7(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i7(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o7(Object(a),!0).forEach((function(t){d7(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o7(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d7(e,t,a){var r;return r=function(e,t){if("object"!=s7(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=s7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==s7(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function c7(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function u7(e,t){var a=e.x,r=e.y,n=c7(e,n7),s="".concat(a),l=parseInt(s,10),o="".concat(r),i=parseInt(o,10),d="".concat(t.height||n.height),c=parseInt(d,10),u="".concat(t.width||n.width),m=parseInt(u,10);return i7(i7(i7(i7(i7({},t),n),l?{x:l}:{}),i?{y:i}:{}),{},{height:c,width:m,name:t.name,radius:t.radius})}function m7(e){return J.createElement(W6,l7({shapeType:"rectangle",propTransformer:u7,activeClassName:"recharts-active-bar"},e))}var h7,f7=["value","background"];function p7(e){return(p7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x7(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function g7(){return g7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},g7.apply(this,arguments)}function b7(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v7(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b7(Object(a),!0).forEach((function(t){k7(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b7(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y7(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C7(r.key),r)}}function w7(e,t,a){return t=N7(t),function(e,t){if(t&&("object"===p7(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _7(e)}(e,j7()?Reflect.construct(t,a||[],N7(e).constructor):t.apply(e,a))}function j7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(j7=function(){return!!e})()}function N7(e){return(N7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _7(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S7(e,t){return(S7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k7(e,t,a){return(t=C7(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function C7(e){var t=function(e,t){if("object"!=p7(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=p7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p7(t)?t:String(t)}var E7=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return k7(_7(e=w7(this,t,[].concat(r))),"state",{isAnimationFinished:!1}),k7(_7(e),"id",xz("recharts-bar-")),k7(_7(e),"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),k7(_7(e),"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S7(e,t)}(t,e),a=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,a=this.props,r=a.shape,n=a.dataKey,s=a.activeIndex,l=a.activeBar,o=zz(this.props,!1);return e&&e.map((function(e,a){var i=a===s,d=i?l:r,c=v7(v7(v7({},o),e),{},{isActive:i,option:d,index:a,dataKey:n,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return J.createElement(Jz,g7({className:"recharts-bar-rectangle"},Ez(t.props,e,a),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value)}),J.createElement(m7,c))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,a=t.data,r=t.layout,n=t.isAnimationActive,s=t.animationBegin,l=t.animationDuration,o=t.animationEasing,i=t.animationId,d=this.state.prevData;return J.createElement(Z4,{begin:s,duration:l,isActive:n,easing:o,from:{t:0},to:{t:1},key:"bar-".concat(i),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var n=t.t,s=a.map((function(e,t){var a=d&&d[t];if(a){var s=vz(a.x,e.x),l=vz(a.y,e.y),o=vz(a.width,e.width),i=vz(a.height,e.height);return v7(v7({},e),{},{x:s(n),y:l(n),width:o(n),height:i(n)})}if("horizontal"===r){var c=vz(0,e.height)(n);return v7(v7({},e),{},{y:e.y+e.height-c,height:c})}var u=vz(0,e.width)(n);return v7(v7({},e),{},{width:u})}));return J.createElement(Jz,null,e.renderRectanglesStatically(s))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,a=e.isAnimationActive,r=this.state.prevData;return!(a&&t&&t.length)||r&&F1(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,a=t.data,r=t.dataKey,n=t.activeIndex,s=zz(this.props.background,!1);return a.map((function(t,a){t.value;var l=t.background,o=x7(t,f7);if(!l)return null;var i=v7(v7(v7(v7(v7({},o),{},{fill:"#eee"},l),s),Ez(e.props,t,a)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:a,key:"background-bar-".concat(a),className:"recharts-bar-background-rectangle"});return J.createElement(m7,g7({option:e.props.background,isActive:a===n},i))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,r=a.data,n=a.xAxis,s=a.yAxis,l=a.layout,o=Fz(a.children,q2);if(!o)return null;var i="vertical"===l?r[0].height/2:r[0].width/2,d=function(e,t){var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:n3(e,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return J.createElement(Jz,c,o.map((function(e){return J.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:n,yAxis:s,layout:l,offset:i,dataPointFormatter:d})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,a=e.data,r=e.className,n=e.xAxis,s=e.yAxis,l=e.left,o=e.top,i=e.width,d=e.height,c=e.isAnimationActive,u=e.background,m=e.id;if(t||!a||!a.length)return null;var h=this.state.isAnimationFinished,f=Wf("recharts-bar",r),p=n&&n.allowDataOverflow,x=s&&s.allowDataOverflow,g=p||x,b=OB(m)?this.id:m;return J.createElement(Jz,{className:f},p||x?J.createElement("defs",null,J.createElement("clipPath",{id:"clipPath-".concat(b)},J.createElement("rect",{x:p?l:l-i/2,y:x?o:o-d/2,width:p?i:2*i,height:x?d:2*d}))):null,J.createElement(Jz,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(b,")"):null},u?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(g,b),(!c||h)&&u5.renderCallByParent(this.props,a))}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&y7(a.prototype,r),n&&y7(a,n),Object.defineProperty(a,"prototype",{writable:!1}),t}(Q.PureComponent);function T7(e){return(T7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O7(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M7(r.key),r)}}function D7(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function A7(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D7(Object(a),!0).forEach((function(t){P7(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D7(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P7(e,t,a){return(t=M7(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function M7(e){var t=function(e,t){if("object"!=T7(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=T7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T7(t)?t:String(t)}h7=E7,k7(E7,"displayName","Bar"),k7(E7,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!uK.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),k7(E7,"getComposedData",(function(e){var t=e.props,a=e.item,r=e.barPosition,n=e.bandSize,s=e.xAxis,l=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,d=e.stackedData,c=e.dataStartIndex,u=e.displayedData,m=e.offset,h=function(e,t){if(!e)return null;for(var a=0,r=e.length;a<r;a++)if(e[a].item===t)return e[a].position;return null}(r,a);if(!h)return null;var f=t.layout,p=a.props,x=p.dataKey,g=p.children,b=p.minPointSize,v="horizontal"===f?l:s,y=d?v.scale.domain():null,w=function(e){var t=e.numericAxis,a=t.scale.domain();if("number"===t.type){var r=Math.min(a[0],a[1]),n=Math.max(a[0],a[1]);return r<=0&&n>=0?0:n<0?n:r}return a[0]}({numericAxis:v}),j=Fz(g,JK),N=u.map((function(e,t){var r,u,m,p,g,v;d?r=function(e,t){if(!t||2!==t.length||!hz(t[0])||!hz(t[1]))return e;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),n=[e[0],e[1]];return(!hz(e[0])||e[0]<a)&&(n[0]=a),(!hz(e[1])||e[1]>r)&&(n[1]=r),n[0]>r&&(n[0]=r),n[1]<a&&(n[1]=a),n}(d[c+t],y):(r=n3(e,x),Array.isArray(r)||(r=[w,r]));var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(a,r){if("number"==typeof e)return e;var n="number"==typeof a;return n?e(a,r):(n||B2(),t)}}(b,h7.defaultProps.minPointSize)(r[1],t);if("horizontal"===f){var _,S=[l.scale(r[0]),l.scale(r[1])],k=S[0],C=S[1];u=v3({axis:s,ticks:o,bandSize:n,offset:h.offset,entry:e,index:t}),m=null!==(_=null!=C?C:k)&&void 0!==_?_:void 0,p=h.size;var E=k-C;if(g=Number.isNaN(E)?0:E,v={x:u,y:l.y,width:p,height:l.height},Math.abs(N)>0&&Math.abs(g)<Math.abs(N)){var T=uz(g||N)*(Math.abs(N)-Math.abs(g));m-=T,g+=T}}else{var O=[s.scale(r[0]),s.scale(r[1])],D=O[0],A=O[1];u=D,m=v3({axis:l,ticks:i,bandSize:n,offset:h.offset,entry:e,index:t}),p=A-D,g=h.size,v={x:s.x,y:m,width:s.width,height:g},Math.abs(N)>0&&Math.abs(p)<Math.abs(N)&&(p+=uz(p||N)*(Math.abs(N)-Math.abs(p)))}return v7(v7(v7({},e),{},{x:u,y:m,width:p,height:g,value:d?r:r[1],payload:e,background:v},j&&j[t]&&j[t].props),{},{tooltipPayload:[k3(a,e)],tooltipPosition:{x:u+p/2,y:m+g/2}})}));return v7({data:N,layout:f},m)}));var L7=function(e,t){var a=e.x,r=e.y,n=t.x,s=t.y;return{x:Math.min(a,n),y:Math.min(r,s),width:Math.abs(n-a),height:Math.abs(s-r)}},I7=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}var t,a,r;return t=e,a=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),a=t[0],r=t[t.length-1];return a<=r?e>=a&&e<=r:e>=r&&e<=a}}],r=[{key:"create",value:function(t){return new e(t)}}],a&&O7(t.prototype,a),r&&O7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();P7(I7,"EPS",1e-4);var F7=function(e){var t=Object.keys(e).reduce((function(t,a){return A7(A7({},t),{},P7({},a,I7.create(e[a])))}),{});return A7(A7({},t),{},{apply:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.bandAware,n=a.position;return X8(e,(function(e,a){return t[a].apply(e,{bandAware:r,position:n})}))},isInRange:function(e){return r7(e,(function(e,a){return t[a].isInRange(e)}))}})},R7=eB((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")})),$7=Q.createContext(void 0),B7=Q.createContext(void 0),z7=Q.createContext(void 0),U7=Q.createContext({}),H7=Q.createContext(void 0),W7=Q.createContext(0),Y7=Q.createContext(0),q7=function(e){var t=e.state,a=t.xAxisMap,r=t.yAxisMap,n=t.offset,s=e.clipPathId,l=e.children,o=e.width,i=e.height,d=R7(n);return J.createElement($7.Provider,{value:a},J.createElement(B7.Provider,{value:r},J.createElement(U7.Provider,{value:n},J.createElement(z7.Provider,{value:d},J.createElement(H7.Provider,{value:s},J.createElement(W7.Provider,{value:i},J.createElement(Y7.Provider,{value:o},l)))))))},V7=function(e){var t=Q.useContext($7);null==t&&B2();var a=t[e];return null==a&&B2(),a},G7=function(e){var t=Q.useContext(B7);null==t&&B2();var a=t[e];return null==a&&B2(),a},K7=function(){return Q.useContext(Y7)},X7=function(){return Q.useContext(W7)};function Q7(e){return(Q7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J7(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Z7(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J7(Object(a),!0).forEach((function(t){eee(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J7(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function eee(e,t,a){var r;return r=function(e,t){if("object"!=Q7(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=Q7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Q7(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t);else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aee(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?aee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aee(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function ree(){return ree=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ree.apply(this,arguments)}function nee(e){var t=e.x,a=e.y,r=e.segment,n=e.xAxisId,s=e.yAxisId,l=e.shape,o=e.className,i=e.alwaysShow,d=Q.useContext(H7),c=V7(n),u=G7(s),m=Q.useContext(z7);if(!d||!m)return null;Zz(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,a,r,n,s,l,o,i){var d=n.x,c=n.y,u=n.width,m=n.height;if(a){var h=i.y,f=e.y.apply(h,{position:s});if(Y8(i,"discard")&&!e.y.isInRange(f))return null;var p=[{x:d+u,y:f},{x:d,y:f}];return"left"===o?p.reverse():p}if(t){var x=i.x,g=e.x.apply(x,{position:s});if(Y8(i,"discard")&&!e.x.isInRange(g))return null;var b=[{x:g,y:c+m},{x:g,y:c}];return"top"===l?b.reverse():b}if(r){var v=i.segment.map((function(t){return e.apply(t,{position:s})}));return Y8(i,"discard")&&W8(v,(function(t){return!e.isInRange(t)}))?null:v}return null}(F7({x:c.scale,y:u.scale}),fz(t),fz(a),r&&2===r.length,m,e.position,c.orientation,u.orientation,e);if(!h)return null;var f=tee(h,2),p=f[0],x=p.x,g=p.y,b=f[1],v=b.x,y=b.y,w=Z7(Z7({clipPath:Y8(e,"hidden")?"url(#".concat(d,")"):void 0},zz(e,!0)),{},{x1:x,y1:g,x2:v,y2:y});return J.createElement(Jz,{className:Wf("recharts-reference-line",o)},function(e,t){return J.isValidElement(e)?J.cloneElement(e,t):LR(e)?e(t):J.createElement("line",ree({},t,{className:"recharts-reference-line-line"}))}(l,w),Q3.renderCallByParent(e,function(e){var t=e.x1,a=e.y1,r=e.x2,n=e.y2;return L7({x:t,y:a},{x:r,y:n})}({x1:x,y1:g,x2:v,y2:y})))}function see(e){return(see="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lee(){return lee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},lee.apply(this,arguments)}function oee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function iee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oee(Object(a),!0).forEach((function(t){dee(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function dee(e,t,a){var r;return r=function(e,t){if("object"!=see(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=see(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==see(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cee(e){var t=e.x,a=e.y,r=e.r,n=e.alwaysShow,s=e.clipPathId,l=fz(t),o=fz(a);if(Zz(void 0===n,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!o)return null;var i=function(e){var t=e.x,a=e.y,r=e.xAxis,n=e.yAxis,s=F7({x:r.scale,y:n.scale}),l=s.apply({x:t,y:a},{bandAware:!0});return Y8(e,"discard")&&!s.isInRange(l)?null:l}(e);if(!i)return null;var d=i.x,c=i.y,u=e.shape,m=e.className,h=iee(iee({clipPath:Y8(e,"hidden")?"url(#".concat(s,")"):void 0},zz(e,!0)),{},{cx:d,cy:c});return J.createElement(Jz,{className:Wf("recharts-reference-dot",m)},cee.renderDot(u,h),Q3.renderCallByParent(e,{x:d-r,y:c-r,width:2*r,height:2*r}))}function uee(e){return(uee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mee(){return mee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},mee.apply(this,arguments)}function hee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function fee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?hee(Object(a),!0).forEach((function(t){pee(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function pee(e,t,a){var r;return r=function(e,t){if("object"!=uee(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=uee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==uee(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xee(e){var t=e.x1,a=e.x2,r=e.y1,n=e.y2,s=e.className,l=e.alwaysShow,o=e.clipPathId;Zz(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var i=fz(t),d=fz(a),c=fz(r),u=fz(n),m=e.shape;if(!(i||d||c||u||m))return null;var h=function(e,t,a,r,n){var s=n.x1,l=n.x2,o=n.y1,i=n.y2,d=n.xAxis,c=n.yAxis;if(!d||!c)return null;var u=F7({x:d.scale,y:c.scale}),m={x:e?u.x.apply(s,{position:"start"}):u.x.rangeMin,y:a?u.y.apply(o,{position:"start"}):u.y.rangeMin},h={x:t?u.x.apply(l,{position:"end"}):u.x.rangeMax,y:r?u.y.apply(i,{position:"end"}):u.y.rangeMax};return!Y8(n,"discard")||u.isInRange(m)&&u.isInRange(h)?L7(m,h):null}(i,d,c,u,e);if(!h&&!m)return null;var f=Y8(e,"hidden")?"url(#".concat(o,")"):void 0;return J.createElement(Jz,{className:Wf("recharts-reference-area",s)},xee.renderRect(m,fee(fee({clipPath:f},zz(e,!0)),h)),Q3.renderCallByParent(e,h))}function gee(e,t,a){if(t<1)return[];if(1===t&&void 0===a)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function bee(e,t,a){return function(e){var t=e.width,a=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=r*Math.PI/180,s=Math.atan(a/t),l=n>s&&n<Math.PI-s?a/Math.sin(n):t/Math.cos(n);return Math.abs(l)}({width:e.width+t.width,height:e.height+t.height},a)}function vee(e,t,a,r,n){if(e*t<e*r||e*t>e*n)return!1;var s=a();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-n)<=0}function yee(e){return(yee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function jee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wee(Object(a),!0).forEach((function(t){Nee(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Nee(e,t,a){var r;return r=function(e,t){if("object"!=yee(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=yee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==yee(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _ee(e,t,a){var r=e.tick,n=e.ticks,s=e.viewBox,l=e.minTickGap,o=e.orientation,i=e.interval,d=e.tickFormatter,c=e.unit,u=e.angle;if(!n||!n.length||!r)return[];if(hz(i)||uK.isSsr)return function(e,t){return gee(e,t+1)}(n,"number"==typeof i&&hz(i)?i:0);var m=[],h="top"===o||"bottom"===o?"width":"height",f=c&&"width"===h?lX(c,{fontSize:t,letterSpacing:a}):{width:0,height:0},p=function(e,r){var n=LR(d)?d(e.value,r):e.value;return"width"===h?bee(lX(n,{fontSize:t,letterSpacing:a}),f,u):lX(n,{fontSize:t,letterSpacing:a})[h]},x=n.length>=2?uz(n[1].coordinate-n[0].coordinate):1,g=function(e,t,a){var r="width"===a,n=e.x,s=e.y,l=e.width,o=e.height;return 1===t?{start:r?n:s,end:r?n+l:s+o}:{start:r?n+l:s+o,end:r?n:s}}(s,x,h);return"equidistantPreserveStart"===i?function(e,t,a,r,n){for(var s,l=(r||[]).slice(),o=t.start,i=t.end,d=0,c=1,u=o,m=function(){var t=null==r?void 0:r[d];if(void 0===t)return{v:gee(r,c)};var s,l=d,m=function(){return void 0===s&&(s=a(t,l)),s},h=t.coordinate,f=0===d||vee(e,h,m,u,i);f||(d=0,u=o,c+=1),f&&(u=h+e*(m()/2+n),d+=c)};c<=l.length;)if(s=m())return s.v;return[]}(x,g,p,n,l):(m="preserveStart"===i||"preserveStartEnd"===i?function(e,t,a,r,n,s){var l=(r||[]).slice(),o=l.length,i=t.start,d=t.end;if(s){var c=r[o-1],u=a(c,o-1),m=e*(c.coordinate+e*u/2-d);l[o-1]=c=jee(jee({},c),{},{tickCoord:m>0?c.coordinate-m*e:c.coordinate}),vee(e,c.tickCoord,(function(){return u}),i,d)&&(d=c.tickCoord-e*(u/2+n),l[o-1]=jee(jee({},c),{},{isShow:!0}))}for(var h=s?o-1:o,f=function(t){var r,s=l[t],o=function(){return void 0===r&&(r=a(s,t)),r};if(0===t){var c=e*(s.coordinate-e*o()/2-i);l[t]=s=jee(jee({},s),{},{tickCoord:c<0?s.coordinate-c*e:s.coordinate})}else l[t]=s=jee(jee({},s),{},{tickCoord:s.coordinate});vee(e,s.tickCoord,o,i,d)&&(i=s.tickCoord+e*(o()/2+n),l[t]=jee(jee({},s),{},{isShow:!0}))},p=0;p<h;p++)f(p);return l}(x,g,p,n,l,"preserveStartEnd"===i):function(e,t,a,r,n){for(var s=(r||[]).slice(),l=s.length,o=t.start,i=t.end,d=function(t){var r,d=s[t],c=function(){return void 0===r&&(r=a(d,t)),r};if(t===l-1){var u=e*(d.coordinate+e*c()/2-i);s[t]=d=jee(jee({},d),{},{tickCoord:u>0?d.coordinate-u*e:d.coordinate})}else s[t]=d=jee(jee({},d),{},{tickCoord:d.coordinate});vee(e,d.tickCoord,c,o,i)&&(i=d.tickCoord-e*(c()/2+n),s[t]=jee(jee({},d),{},{isShow:!0}))},c=l-1;c>=0;c--)d(c);return s}(x,g,p,n,l),m.filter((function(e){return e.isShow})))}nee.displayName="ReferenceLine",nee.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"},cee.displayName="ReferenceDot",cee.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},cee.renderDot=function(e,t){return J.isValidElement(e)?J.cloneElement(e,t):LR(e)?e(t):J.createElement(y9,lee({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))},xee.displayName="ReferenceArea",xee.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},xee.renderRect=function(e,t){return J.isValidElement(e)?J.cloneElement(e,t):LR(e)?e(t):J.createElement(c9,mee({},t,{className:"recharts-reference-area-rect"}))};var See=["viewBox"],kee=["viewBox"],Cee=["ticks"];function Eee(e){return(Eee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tee(){return Tee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Tee.apply(this,arguments)}function Oee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Dee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oee(Object(a),!0).forEach((function(t){Ree(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Aee(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Pee(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$ee(r.key),r)}}function Mee(e,t,a){return t=Iee(t),function(e,t){if(t&&("object"===Eee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lee()?Reflect.construct(t,a||[],Iee(e).constructor):t.apply(e,a))}function Lee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lee=function(){return!!e})()}function Iee(e){return(Iee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fee(e,t){return(Fee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ree(e,t,a){return(t=$ee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $ee(e){var t=function(e,t){if("object"!=Eee(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=Eee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eee(t)?t:String(t)}var Bee=function(e){function t(e){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(a=Mee(this,t,[e])).state={fontSize:"",letterSpacing:""},a}var a,r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fee(e,t)}(t,e),a=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var a=e.viewBox,r=Aee(e,See),n=this.props,s=n.viewBox,l=Aee(n,kee);return!wz(a,s)||!wz(r,l)||!wz(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,a,r,n,s,l,o=this.props,i=o.x,d=o.y,c=o.width,u=o.height,m=o.orientation,h=o.tickSize,f=o.mirror,p=o.tickMargin,x=f?-1:1,g=e.tickSize||h,b=hz(e.tickCoord)?e.tickCoord:e.coordinate;switch(m){case"top":t=a=e.coordinate,l=(r=(n=d+ +!f*u)-x*g)-x*p,s=b;break;case"left":r=n=e.coordinate,s=(t=(a=i+ +!f*c)-x*g)-x*p,l=b;break;case"right":r=n=e.coordinate,s=(t=(a=i+ +f*c)+x*g)+x*p,l=b;break;default:t=a=e.coordinate,l=(r=(n=d+ +f*u)+x*g)+x*p,s=b}return{line:{x1:t,y1:r,x2:a,y2:n},tick:{x:s,y:l}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,a=t.orientation,r=t.mirror;switch(a){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,a=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=a?"start":"end";break;default:r=a?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,a=e.y,r=e.width,n=e.height,s=e.orientation,l=e.mirror,o=e.axisLine,i=Dee(Dee(Dee({},zz(this.props,!1)),zz(o,!1)),{},{fill:"none"});if("top"===s||"bottom"===s){var d=+("top"===s&&!l||"bottom"===s&&l);i=Dee(Dee({},i),{},{x1:t,y1:a+d*n,x2:t+r,y2:a+d*n})}else{var c=+("left"===s&&!l||"right"===s&&l);i=Dee(Dee({},i),{},{x1:t+c*r,y1:a,x2:t+c*r,y2:a+n})}return J.createElement("line",Tee({},i,{className:Wf("recharts-cartesian-axis-line",TB(o,"className"))}))}},{key:"renderTicks",value:function(e,a,r){var n=this,s=this.props,l=s.tickLine,o=s.stroke,i=s.tick,d=s.tickFormatter,c=s.unit,u=_ee(Dee(Dee({},this.props),{},{ticks:e}),a,r),m=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=zz(this.props,!1),p=zz(i,!1),x=Dee(Dee({},f),{},{fill:"none"},zz(l,!1)),g=u.map((function(e,a){var r=n.getTickLineCoord(e),s=r.line,g=r.tick,b=Dee(Dee(Dee(Dee({textAnchor:m,verticalAnchor:h},f),{},{stroke:"none",fill:o},p),g),{},{index:a,payload:e,visibleTicksCount:u.length,tickFormatter:d});return J.createElement(Jz,Tee({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},Ez(n.props,e,a)),l&&J.createElement("line",Tee({},x,s,{className:Wf("recharts-cartesian-axis-tick-line",TB(l,"className"))})),i&&t.renderTickItem(i,b,"".concat(LR(d)?d(e.value,a):e.value).concat(c||"")))}));return J.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var e=this,t=this.props,a=t.axisLine,r=t.width,n=t.height,s=t.ticksGenerator,l=t.className;if(t.hide)return null;var o=this.props,i=o.ticks,d=Aee(o,Cee),c=i;return LR(s)&&(c=i&&i.length>0?s(this.props):s(d)),r<=0||n<=0||!c||!c.length?null:J.createElement(Jz,{className:Wf("recharts-cartesian-axis",l),ref:function(t){e.layerReference=t}},a&&this.renderAxisLine(),this.renderTicks(c,this.state.fontSize,this.state.letterSpacing),Q3.renderCallByParent(this.props))}}],n=[{key:"renderTickItem",value:function(e,t,a){return J.isValidElement(e)?J.cloneElement(e,t):LR(e)?e(t):J.createElement(LX,Tee({},t,{className:"recharts-cartesian-axis-tick-value"}),a)}}],r&&Pee(a.prototype,r),n&&Pee(a,n),Object.defineProperty(a,"prototype",{writable:!1}),t}(Q.Component);function zee(){return zee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},zee.apply(this,arguments)}Ree(Bee,"displayName","CartesianAxis"),Ree(Bee,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Uee=function(e){var t=e.xAxisId,a=K7(),r=X7(),n=V7(t);return null==n?null:J.createElement(Bee,zee({},n,{className:Wf("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:a,height:r},ticksGenerator:function(e){return c3(e,!0)}}))};function Hee(){return Hee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Hee.apply(this,arguments)}Uee.displayName="XAxis",Uee.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var Wee=function(e){var t=e.yAxisId,a=K7(),r=X7(),n=G7(t);return null==n?null:J.createElement(Bee,Hee({},n,{className:Wf("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:a,height:r},ticksGenerator:function(e){return c3(e,!0)}}))};function Yee(e){return function(e){if(Array.isArray(e))return qee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qee(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?qee(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qee(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}Wee.displayName="YAxis",Wee.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var Vee=function(e,t,a,r,n){var s=Fz(e,nee),l=Fz(e,cee),o=[].concat(Yee(s),Yee(l)),i=Fz(e,xee),d="".concat(r,"Id"),c=r[0],u=t;if(o.length&&(u=o.reduce((function(e,t){if(t.props[d]===a&&Y8(t.props,"extendDomain")&&hz(t.props[c])){var r=t.props[c];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),u)),i.length){var m="".concat(c,"1"),h="".concat(c,"2");u=i.reduce((function(e,t){if(t.props[d]===a&&Y8(t.props,"extendDomain")&&hz(t.props[m])&&hz(t.props[h])){var r=t.props[m],n=t.props[h];return[Math.min(e[0],r,n),Math.max(e[1],r,n)]}return e}),u)}return n&&n.length&&(u=n.reduce((function(e,t){return hz(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),u)),u},Gee={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}function n(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function s(e,t,r,s,l){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new n(r,s||e,l),i=a?a+t:t;return e._events[i]?e._events[i].fn?e._events[i]=[e._events[i],o]:e._events[i].push(o):(e._events[i]=o,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(a=!1)),o.prototype.eventNames=function(){var e,r,n=[];if(0===this._eventsCount)return n;for(r in e=this._events)t.call(e,r)&&n.push(a?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,l=new Array(s);n<s;n++)l[n]=r[n].fn;return l},o.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,n,s,l){var o=a?a+e:e;if(!this._events[o])return!1;var i,d,c=this._events[o],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,s),!0;case 6:return c.fn.call(c.context,t,r,n,s,l),!0}for(d=1,i=new Array(u-1);d<u;d++)i[d-1]=arguments[d];c.fn.apply(c.context,i)}else{var m,h=c.length;for(d=0;d<h;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),u){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,t);break;case 3:c[d].fn.call(c[d].context,t,r);break;case 4:c[d].fn.call(c[d].context,t,r,n);break;default:if(!i)for(m=1,i=new Array(u-1);m<u;m++)i[m-1]=arguments[m];c[d].fn.apply(c[d].context,i)}}return!0},o.prototype.on=function(e,t,a){return s(this,e,t,a,!1)},o.prototype.once=function(e,t,a){return s(this,e,t,a,!0)},o.prototype.removeListener=function(e,t,r,n){var s=a?a+e:e;if(!this._events[s])return this;if(!t)return l(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,s);else{for(var i=0,d=[],c=o.length;i<c;i++)(o[i].fn!==t||n&&!o[i].once||r&&o[i].context!==r)&&d.push(o[i]);d.length?this._events[s]=1===d.length?d[0]:d:l(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&l(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=a,o.EventEmitter=o,e.exports=o}(Gee);var Kee=new(n(Gee.exports)),Xee="recharts.syncMouseEvents";function Qee(e){return(Qee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jee(e,t,a){return t&&function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ete(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zee(e,t,a){return(t=ete(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ete(e){var t=function(e,t){if("object"!=Qee(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=Qee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qee(t)?t:String(t)}var tte=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Zee(this,"activeIndex",0),Zee(this,"coordinateList",[]),Zee(this,"layout","horizontal")}return Jee(e,[{key:"setDetails",value:function(e){var t,a=e.coordinateList,r=void 0===a?null:a,n=e.container,s=void 0===n?null:n,l=e.layout,o=void 0===l?null:l,i=e.offset,d=void 0===i?null:i,c=e.mouseHandlerCallback,u=void 0===c?null:c;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=s?s:this.container,this.layout=null!=o?o:this.layout,this.offset=null!=d?d:this.offset,this.mouseHandlerCallback=null!=u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var a=this.container.getBoundingClientRect(),r=a.x,n=a.y,s=a.height,l=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,i=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,d=r+l+o,c=n+this.offset.top+s/2+i;this.mouseHandlerCallback({pageX:d,pageY:c})}}}]),e}();function ate(e){var t=e.cx,a=e.cy,r=e.radius,n=e.startAngle,s=e.endAngle;return{points:[L3(t,a,r,n),L3(t,a,r,s)],cx:t,cy:a,radius:r,startAngle:n,endAngle:s}}function rte(e,t,a){var r,n,s,l;if("horizontal"===e)s=r=t.x,n=a.top,l=a.top+a.height;else if("vertical"===e)l=n=t.y,r=a.left,s=a.left+a.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return ate(t);var o=t.cx,i=t.cy,d=t.innerRadius,c=t.outerRadius,u=t.angle,m=L3(o,i,d,u),h=L3(o,i,c,u);r=m.x,n=m.y,s=h.x,l=h.y}return[{x:r,y:n},{x:s,y:l}]}function nte(e){return(nte="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ste(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function lte(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ste(Object(a),!0).forEach((function(t){ote(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ste(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ote(e,t,a){var r;return r=function(e,t){if("object"!=nte(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=nte(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==nte(r)?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ite(e){var t,a=e.element,r=e.tooltipEventType,n=e.isActive,s=e.activeCoordinate,l=e.activePayload,o=e.offset,i=e.activeTooltipIndex,d=e.tooltipAxisBandSize,c=e.layout,u=e.chartName;if(!a||!a.props.cursor||!n||!s||"ScatterChart"!==u&&"axis"!==r)return null;var m=D5;if("ScatterChart"===u)t=s,m=E9;else if("BarChart"===u)t=function(e,t,a,r){var n=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-n:a.left+.5,y:"horizontal"===e?a.top+.5:t.y-n,width:"horizontal"===e?r:a.width-1,height:"horizontal"===e?a.height-1:r}}(c,s,o,d),m=c9;else if("radial"===c){var h=ate(s),f=h.cx,p=h.cy,x=h.radius;t={cx:f,cy:p,startAngle:h.startAngle,endAngle:h.endAngle,innerRadius:x,outerRadius:x},m=y5}else t={points:rte(c,s,o)},m=D5;var g=lte(lte(lte(lte({stroke:"#ccc",pointerEvents:"none"},o),t),zz(a.props.cursor,!1)),{},{payload:l,payloadIndex:i,className:Wf("recharts-tooltip-cursor",a.props.cursor.className)});return Q.isValidElement(a.props.cursor)?Q.cloneElement(a.props.cursor,g):Q.createElement(m,g)}var dte=["item"],cte=["children","className","width","height","style","compact","title","desc"];function ute(e){return(ute="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mte(){return mte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},mte.apply(this,arguments)}function hte(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t);else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||jte(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fte(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function pte(e,t,a){return t&&function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cte(r.key),r)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xte(e,t,a){return t=bte(t),function(e,t){if(t&&("object"===ute(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vte(e)}(e,gte()?Reflect.construct(t,a||[],bte(e).constructor):t.apply(e,a))}function gte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gte=function(){return!!e})()}function bte(e){return(bte=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vte(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yte(e,t){return(yte=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wte(e){return function(e){if(Array.isArray(e))return Nte(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jte(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jte(e,t){if(e){if("string"==typeof e)return Nte(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Nte(e,t):void 0}}function Nte(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function _te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ste(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_te(Object(a),!0).forEach((function(t){kte(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function kte(e,t,a){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Cte(e){var t=function(e,t){if("object"!=ute(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=ute(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ute(t)?t:String(t)}var Ete={xAxis:["bottom","top"],yAxis:["left","right"]},Tte={width:"100%",height:"100%"},Ote={x:0,y:0};function Dte(e){return e}var Ate=function(e,t){var a=t.graphicalItems,r=t.dataStartIndex,n=t.dataEndIndex,s=(null!=a?a:[]).reduce((function(e,t){var a=t.props.data;return a&&a.length?[].concat(wte(e),wte(a)):e}),[]);return s.length>0?s:e&&e.length&&hz(r)&&hz(n)?e.slice(r,n+1):[]};function Pte(e){return"number"===e?[0,"auto"]:void 0}var Mte=function(e,t,a,r){var n=e.graphicalItems,s=e.tooltipAxis,l=Ate(t,e);return a<0||!n||!n.length||a>=l.length?null:n.reduce((function(n,o){var i,d,c=null!==(i=o.props.data)&&void 0!==i?i:t;return c&&e.dataStartIndex+e.dataEndIndex!==0&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1)),(d=s.dataKey&&!s.allowDuplicatedCategory?yz(void 0===c?l:c,s.dataKey,r):c&&c[a]||l[a])?[].concat(wte(n),[k3(o,d)]):n}),[])},Lte=function(e,t,a,r){var n=r||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(n,a),l=e.orderedTooltipTicks,o=e.tooltipAxis,i=e.tooltipTicks,d=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=-1,l=null!==(t=null==a?void 0:a.length)&&void 0!==t?t:0;if(l<=1)return 0;if(n&&"angleAxis"===n.axisType&&Math.abs(Math.abs(n.range[1]-n.range[0])-360)<=1e-6)for(var o=n.range,i=0;i<l;i++){var d=i>0?r[i-1].coordinate:r[l-1].coordinate,c=r[i].coordinate,u=i>=l-1?r[0].coordinate:r[i+1].coordinate,m=void 0;if(uz(c-d)!==uz(u-c)){var h=[];if(uz(u-c)===uz(o[1]-o[0])){m=u;var f=c+o[1]-o[0];h[0]=Math.min(f,(f+d)/2),h[1]=Math.max(f,(f+d)/2)}else{m=d;var p=u+o[1]-o[0];h[0]=Math.min(c,(p+c)/2),h[1]=Math.max(c,(p+c)/2)}var x=[Math.min(c,(m+c)/2),Math.max(c,(m+c)/2)];if(e>x[0]&&e<=x[1]||e>=h[0]&&e<=h[1]){s=r[i].index;break}}else{var g=Math.min(d,u),b=Math.max(d,u);if(e>(g+c)/2&&e<=(b+c)/2){s=r[i].index;break}}}else for(var v=0;v<l;v++)if(0===v&&e<=(a[v].coordinate+a[v+1].coordinate)/2||v>0&&v<l-1&&e>(a[v].coordinate+a[v-1].coordinate)/2&&e<=(a[v].coordinate+a[v+1].coordinate)/2||v===l-1&&e>(a[v].coordinate+a[v-1].coordinate)/2){s=a[v].index;break}return s}(s,l,i,o);if(d>=0&&i){var c=i[d]&&i[d].value,u=Mte(e,t,d,c),m=function(e,t,a,r){var n=t.find((function(e){return e&&e.index===a}));if(n){if("horizontal"===e)return{x:n.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:n.coordinate};if("centric"===e){var s=n.coordinate,l=r.radius;return Ste(Ste(Ste({},r),L3(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var o=n.coordinate,i=r.angle;return Ste(Ste(Ste({},r),L3(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}return Ote}(a,l,d,n);return{activeTooltipIndex:d,activeLabel:c,activePayload:u,activeCoordinate:m}}return null},Ite=function(e,t){var a=t.axes,r=t.graphicalItems,n=t.axisType,s=t.axisIdKey,l=t.stackGroups,o=t.dataStartIndex,i=t.dataEndIndex,d=e.layout,c=e.children,u=e.stackOffset,m=d3(d,n);return a.reduce((function(t,a){var h,f=a.props,p=f.type,x=f.dataKey,g=f.allowDataOverflow,b=f.allowDuplicatedCategory,v=f.scale,y=f.ticks,w=f.includeHidden,j=a.props[s];if(t[j])return t;var N,_,S,k=Ate(e.data,{graphicalItems:r.filter((function(e){return e.props[s]===j})),dataStartIndex:o,dataEndIndex:i}),C=k.length;(function(e,t,a){if("number"===a&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],n=null==e?void 0:e[1];if(r&&n&&hz(r)&&hz(n))return!0}return!1})(a.props.domain,g,p)&&(N=N3(a.props.domain,null,g),!m||"number"!==p&&"auto"===v||(S=s3(k,x,"category")));var E=Pte(p);if(!N||0===N.length){var T,O=null!==(T=a.props.domain)&&void 0!==T?T:E;if(x){if(N=s3(k,x,p),"category"===p&&m){var D=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++){if(a[e[r]])return!0;a[e[r]]=!0}return!1}(N);b&&D?(_=N,N=b8(0,C)):b||(N=S3(O,N,a).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(wte(e),[t])}),[]))}else if("category"===p)N=b?N.filter((function(e){return""!==e&&!OB(e)})):S3(O,N,a).reduce((function(e,t){return e.indexOf(t)>=0||""===t||OB(t)?e:[].concat(wte(e),[t])}),[]);else if("number"===p){var A=function(e,t,a,r,n){var s=t.map((function(t){return o3(e,t,a,n,r)})).filter((function(e){return!OB(e)}));return s&&s.length?s.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(k,r.filter((function(e){return e.props[s]===j&&(w||!e.props.hide)})),x,n,d);A&&(N=A)}!m||"number"!==p&&"auto"===v||(S=s3(k,x,"category"))}else N=m?b8(0,C):l&&l[j]&&l[j].hasStack&&"number"===p?"expand"===u?[0,1]:y3(l[j].stackGroups,o,i):i3(k,r.filter((function(e){return e.props[s]===j&&(w||!e.props.hide)})),p,d,!0);if("number"===p)N=Vee(c,N,j,n,y),O&&(N=N3(O,N,g));else if("category"===p&&O){var P=O;N.every((function(e){return P.indexOf(e)>=0}))&&(N=P)}}return Ste(Ste({},t),{},kte({},j,Ste(Ste({},a.props),{},{axisType:n,domain:N,categoricalDomain:S,duplicateDomain:_,originalDomain:null!==(h=a.props.domain)&&void 0!==h?h:E,isCategorical:m,layout:d})))}),{})},Fte=function(e,t){var a=t.axisType,r=void 0===a?"xAxis":a,n=t.AxisComp,s=t.graphicalItems,l=t.stackGroups,o=t.dataStartIndex,i=t.dataEndIndex,d=e.children,c="".concat(r,"Id"),u=Fz(d,n),m={};return u&&u.length?m=Ite(e,{axes:u,graphicalItems:s,axisType:r,axisIdKey:c,stackGroups:l,dataStartIndex:o,dataEndIndex:i}):s&&s.length&&(m=function(e,t){var a=t.graphicalItems,r=t.Axis,n=t.axisType,s=t.axisIdKey,l=t.stackGroups,o=t.dataStartIndex,i=t.dataEndIndex,d=e.layout,c=e.children,u=Ate(e.data,{graphicalItems:a,dataStartIndex:o,dataEndIndex:i}),m=u.length,h=d3(d,n),f=-1;return a.reduce((function(e,t){var p,x=t.props[s],g=Pte("number");return e[x]?e:(f++,h?p=b8(0,m):l&&l[x]&&l[x].hasStack?(p=y3(l[x].stackGroups,o,i),p=Vee(c,p,x,n)):(p=N3(g,i3(u,a.filter((function(e){return e.props[s]===x&&!e.props.hide})),"number",d),r.defaultProps.allowDataOverflow),p=Vee(c,p,x,n)),Ste(Ste({},e),{},kte({},x,Ste(Ste({axisType:n},r.defaultProps),{},{hide:!0,orientation:TB(Ete,"".concat(n,".").concat(f%2),null),domain:p,originalDomain:g,isCategorical:h,layout:d}))))}),{})}(e,{Axis:n,graphicalItems:s,axisType:r,axisIdKey:c,stackGroups:l,dataStartIndex:o,dataEndIndex:i})),m},Rte=function(e){var t=e.children,a=e.defaultShowTooltip,r=Rz(t,F8),n=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(n=r.props.startIndex),r.props.endIndex>=0&&(s=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:n,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(a)}},$te=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Bte=function(e,t){var a=e.props,r=(e.graphicalItems,e.xAxisMap),n=void 0===r?{}:r,s=e.yAxisMap,l=void 0===s?{}:s,o=a.width,i=a.height,d=a.children,c=a.margin||{},u=Rz(d,F8),m=Rz(d,$V),h=Object.keys(l).reduce((function(e,t){var a=l[t],r=a.orientation;return a.mirror||a.hide?e:Ste(Ste({},e),{},kte({},r,e[r]+a.width))}),{left:c.left||0,right:c.right||0}),f=Object.keys(n).reduce((function(e,t){var a=n[t],r=a.orientation;return a.mirror||a.hide?e:Ste(Ste({},e),{},kte({},r,TB(e,"".concat(r))+a.height))}),{top:c.top||0,bottom:c.bottom||0}),p=Ste(Ste({},f),h),x=p.bottom;u&&(p.bottom+=u.props.height||F8.defaultProps.height),m&&t&&(p=function(e,t,a,r){var n=a.children,s=a.width,l=a.margin,o=s-(l.left||0)-(l.right||0),i=Q2({children:n,legendWidth:o});if(i){var d=r||{},c=d.width,u=d.height,m=i.align,h=i.verticalAlign,f=i.layout;if(("vertical"===f||"horizontal"===f&&"middle"===h)&&"center"!==m&&hz(e[m]))return e3(e3({},e),{},t3({},m,e[m]+(c||0)));if(("horizontal"===f||"vertical"===f&&"center"===m)&&"middle"!==h&&hz(e[h]))return e3(e3({},e),{},t3({},h,e[h]+(u||0)))}return e}(p,0,a,t));var g=o-p.left-p.right,b=i-p.top-p.bottom;return Ste(Ste({brushBottom:x},p),{},{width:Math.max(g,0),height:Math.max(b,0)})},zte=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},Ute=function(e){var t,a=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,s=void 0===n?"axis":n,l=e.validateTooltipEventTypes,o=void 0===l?["axis"]:l,i=e.axisComponents,d=e.legendContent,c=e.formatAxisMap,u=e.defaultProps,m=function(e,t){var a=t.graphicalItems,r=t.stackGroups,n=t.offset,s=t.updateId,l=t.dataStartIndex,o=t.dataEndIndex,d=e.barSize,c=e.layout,u=e.barGap,m=e.barCategoryGap,h=e.maxBarSize,f=$te(c),p=f.numericAxisName,x=f.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some((function(e){var t=Pz(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(a),b=[];return a.forEach((function(a,f){var v=Ate(e.data,{graphicalItems:[a],dataStartIndex:l,dataEndIndex:o}),y=a.props,w=y.dataKey,j=y.maxBarSize,N=a.props["".concat(p,"Id")],_=a.props["".concat(x,"Id")],S=i.reduce((function(e,r){var n=t["".concat(r.axisType,"Map")],s=a.props["".concat(r.axisType,"Id")];n&&n[s]||"zAxis"===r.axisType||B2();var l=n[s];return Ste(Ste({},e),{},kte(kte({},r.axisType,l),"".concat(r.axisType,"Ticks"),c3(l)))}),{}),k=S[x],C=S["".concat(x,"Ticks")],E=r&&r[N]&&r[N].hasStack&&function(e,t){var a=e.props.stackId;if(fz(a)){var r=t[a];if(r){var n=r.items.indexOf(e);return n>=0?r.stackedData[n]:null}}return null}(a,r[N].stackGroups),T=Pz(a.type).indexOf("Bar")>=0,O=_3(k,C),D=[],A=g&&function(e){var t=e.barSize,a=e.totalSize,r=e.stackGroups,n=void 0===r?{}:r;if(!n)return{};for(var s={},l=Object.keys(n),o=0,i=l.length;o<i;o++)for(var d=n[l[o]].stackGroups,c=Object.keys(d),u=0,m=c.length;u<m;u++){var h=d[c[u]],f=h.items,p=h.cateAxisId,x=f.filter((function(e){return Pz(e.type).indexOf("Bar")>=0}));if(x&&x.length){var g=x[0].props.barSize,b=x[0].props[p];s[b]||(s[b]=[]);var v=OB(g)?t:g;s[b].push({item:x[0],stackList:x.slice(1),barSize:OB(v)?void 0:gz(v,a,0)})}}return s}({barSize:d,stackGroups:r,totalSize:zte(S,x)});if(T){var P,M,L=OB(j)?h:j,I=null!==(P=null!==(M=_3(k,C,!0))&&void 0!==M?M:L)&&void 0!==P?P:0;D=function(e){var t=e.barGap,a=e.barCategoryGap,r=e.bandSize,n=e.sizeList,s=void 0===n?[]:n,l=e.maxBarSize,o=s.length;if(o<1)return null;var i,d=gz(t,r,0,!0),c=[];if(s[0].barSize===+s[0].barSize){var u=!1,m=r/o,h=s.reduce((function(e,t){return e+t.barSize||0}),0);(h+=(o-1)*d)>=r&&(h-=(o-1)*d,d=0),h>=r&&m>0&&(u=!0,h=o*(m*=.9));var f={offset:((r-h)/2|0)-d,size:0};i=s.reduce((function(e,t){var a={item:t.item,position:{offset:f.offset+f.size+d,size:u?m:t.barSize}},r=[].concat(a3(e),[a]);return f=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:f})})),r}),c)}else{var p=gz(a,r,0,!0);r-2*p-(o-1)*d<=0&&(d=0);var x=(r-2*p-(o-1)*d)/o;x>1&&(x>>=0);var g=l===+l?Math.min(x,l):x;i=s.reduce((function(e,t,a){var r=[].concat(a3(e),[{item:t.item,position:{offset:p+(x+d)*a+(x-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),c)}return i}({barGap:u,barCategoryGap:m,bandSize:I!==O?I:O,sizeList:A[_],maxBarSize:L}),I!==O&&(D=D.map((function(e){return Ste(Ste({},e),{},{position:Ste(Ste({},e.position),{},{offset:e.position.offset-I/2})})})))}var F,R,$=a&&a.type&&a.type.getComposedData;$&&b.push({props:Ste(Ste({},$(Ste(Ste({},S),{},{displayedData:v,props:e,dataKey:w,item:a,bandSize:O,barPosition:D,offset:n,stackedData:E,layout:c,dataStartIndex:l,dataEndIndex:o}))),{},kte(kte(kte({key:a.key||"item-".concat(f)},p,S[p]),x,S[x]),"animationId",s)),childIndex:(F=a,R=e.children,Iz(R).indexOf(F)),item:a})})),b},h=function(e,t){var n=e.props,s=e.dataStartIndex,l=e.dataEndIndex,o=e.updateId;if(!$z({props:n}))return null;var d=n.children,u=n.layout,h=n.stackOffset,f=n.data,p=n.reverseStackOrder,x=$te(u),g=x.numericAxisName,b=x.cateAxisName,v=Fz(d,r),y=function(e,t,a,r,n,s){if(!e)return null;var l=(s?t.reverse():t).reduce((function(e,t){var n=t.props,s=n.stackId;if(n.hide)return e;var l=t.props[a],o=e[l]||{hasStack:!1,stackGroups:{}};if(fz(s)){var i=o.stackGroups[s]||{numericAxisId:a,cateAxisId:r,items:[]};i.items.push(t),o.hasStack=!0,o.stackGroups[s]=i}else o.stackGroups[xz("_stackId_")]={numericAxisId:a,cateAxisId:r,items:[t]};return e3(e3({},e),{},t3({},l,o))}),{});return Object.keys(l).reduce((function(t,s){var o=l[s];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce((function(t,s){var l=o.stackGroups[s];return e3(e3({},t),{},t3({},s,{numericAxisId:a,cateAxisId:r,items:l.items,stackedData:g3(e,l.items,n)}))}),{})),e3(e3({},t),{},t3({},s,o))}),{})}(f,v,"".concat(g,"Id"),"".concat(b,"Id"),h,p),w=i.reduce((function(e,t){var a="".concat(t.axisType,"Map");return Ste(Ste({},e),{},kte({},a,Fte(n,Ste(Ste({},t),{},{graphicalItems:v,stackGroups:t.axisType===g&&y,dataStartIndex:s,dataEndIndex:l}))))}),{}),j=Bte(Ste(Ste({},w),{},{props:n,graphicalItems:v}),null==t?void 0:t.legendBBox);Object.keys(w).forEach((function(e){w[e]=c(n,w[e],j,e.replace("Map",""),a)}));var N,_,S=w["".concat(b,"Map")],k=(N=bz(S),{tooltipTicks:_=c3(N,!1,!0),orderedTooltipTicks:FG(_,(function(e){return e.coordinate})),tooltipAxis:N,tooltipAxisBandSize:_3(N,_)}),C=m(n,Ste(Ste({},w),{},{dataStartIndex:s,dataEndIndex:l,updateId:o,graphicalItems:v,stackGroups:y,offset:j}));return Ste(Ste({formattedGraphicalItems:C,graphicalItems:v,offset:j,stackGroups:y},k),w)};return t=function(e){function t(e){var r,n,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kte(vte(s=xte(this,t,[e])),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),kte(vte(s),"accessibilityManager",new tte),kte(vte(s),"handleLegendBBoxUpdate",(function(e){if(e){var t=s.state,a=t.dataStartIndex,r=t.dataEndIndex,n=t.updateId;s.setState(Ste({legendBBox:e},h({props:s.props,dataStartIndex:a,dataEndIndex:r,updateId:n},Ste(Ste({},s.state),{},{legendBBox:e}))))}})),kte(vte(s),"handleReceiveSyncEvent",(function(e,t,a){if(s.props.syncId===e){if(a===s.eventEmitterSymbol&&"function"!=typeof s.props.syncMethod)return;s.applySyncEvent(t)}})),kte(vte(s),"handleBrushChange",(function(e){var t=e.startIndex,a=e.endIndex;if(t!==s.state.dataStartIndex||a!==s.state.dataEndIndex){var r=s.state.updateId;s.setState((function(){return Ste({dataStartIndex:t,dataEndIndex:a},h({props:s.props,dataStartIndex:t,dataEndIndex:a,updateId:r},s.state))})),s.triggerSyncEvent({dataStartIndex:t,dataEndIndex:a})}})),kte(vte(s),"handleMouseEnter",(function(e){var t=s.getMouseInfo(e);if(t){var a=Ste(Ste({},t),{},{isTooltipActive:!0});s.setState(a),s.triggerSyncEvent(a);var r=s.props.onMouseEnter;LR(r)&&r(a,e)}})),kte(vte(s),"triggeredAfterMouseMove",(function(e){var t=s.getMouseInfo(e),a=t?Ste(Ste({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};s.setState(a),s.triggerSyncEvent(a);var r=s.props.onMouseMove;LR(r)&&r(a,e)})),kte(vte(s),"handleItemMouseEnter",(function(e){s.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),kte(vte(s),"handleItemMouseLeave",(function(){s.setState((function(){return{isTooltipActive:!1}}))})),kte(vte(s),"handleMouseMove",(function(e){e.persist(),s.throttleTriggeredAfterMouseMove(e)})),kte(vte(s),"handleMouseLeave",(function(e){s.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};s.setState(t),s.triggerSyncEvent(t);var a=s.props.onMouseLeave;LR(a)&&a(t,e)})),kte(vte(s),"handleOuterEvent",(function(e){var t,a=function(e){var t=e&&e.type;return t&&Az[t]?Az[t]:null}(e),r=TB(s.props,"".concat(a));a&&LR(r)&&r(null!==(t=/.*touch.*/i.test(a)?s.getMouseInfo(e.changedTouches[0]):s.getMouseInfo(e))&&void 0!==t?t:{},e)})),kte(vte(s),"handleClick",(function(e){var t=s.getMouseInfo(e);if(t){var a=Ste(Ste({},t),{},{isTooltipActive:!0});s.setState(a),s.triggerSyncEvent(a);var r=s.props.onClick;LR(r)&&r(a,e)}})),kte(vte(s),"handleMouseDown",(function(e){var t=s.props.onMouseDown;LR(t)&&t(s.getMouseInfo(e),e)})),kte(vte(s),"handleMouseUp",(function(e){var t=s.props.onMouseUp;LR(t)&&t(s.getMouseInfo(e),e)})),kte(vte(s),"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),kte(vte(s),"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseDown(e.changedTouches[0])})),kte(vte(s),"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&s.handleMouseUp(e.changedTouches[0])})),kte(vte(s),"triggerSyncEvent",(function(e){void 0!==s.props.syncId&&Kee.emit(Xee,s.props.syncId,e,s.eventEmitterSymbol)})),kte(vte(s),"applySyncEvent",(function(e){var t=s.props,a=t.layout,r=t.syncMethod,n=s.state.updateId,l=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)s.setState(Ste({dataStartIndex:l,dataEndIndex:o},h({props:s.props,dataStartIndex:l,dataEndIndex:o,updateId:n},s.state)));else if(void 0!==e.activeTooltipIndex){var i=e.chartX,d=e.chartY,c=e.activeTooltipIndex,u=s.state,m=u.offset,f=u.tooltipTicks;if(!m)return;if("function"==typeof r)c=r(f,e);else if("value"===r){c=-1;for(var p=0;p<f.length;p++)if(f[p].value===e.activeLabel){c=p;break}}var x=Ste(Ste({},m),{},{x:m.left,y:m.top}),g=Math.min(i,x.x+x.width),b=Math.min(d,x.y+x.height),v=f[c]&&f[c].value,y=Mte(s.state,s.props.data,c),w=f[c]?{x:"horizontal"===a?f[c].coordinate:g,y:"horizontal"===a?b:f[c].coordinate}:Ote;s.setState(Ste(Ste({},e),{},{activeLabel:v,activeCoordinate:w,activePayload:y,activeTooltipIndex:c}))}else s.setState(e)})),kte(vte(s),"renderCursor",(function(e){var t,r=s.state,n=r.isTooltipActive,l=r.activeCoordinate,o=r.activePayload,i=r.offset,d=r.activeTooltipIndex,c=r.tooltipAxisBandSize,u=s.getTooltipEventType(),m=null!==(t=e.props.active)&&void 0!==t?t:n,h=s.props.layout,f=e.key||"_recharts-cursor";return J.createElement(ite,{key:f,activeCoordinate:l,activePayload:o,activeTooltipIndex:d,chartName:a,element:e,isActive:m,layout:h,offset:i,tooltipAxisBandSize:c,tooltipEventType:u})})),kte(vte(s),"renderPolarAxis",(function(e,t,a){var r=TB(e,"type.axisType"),n=TB(s.state,"".concat(r,"Map")),l=n&&n[e.props["".concat(r,"Id")]];return Q.cloneElement(e,Ste(Ste({},l),{},{className:Wf(r,l.className),key:e.key||"".concat(t,"-").concat(a),ticks:c3(l,!0)}))})),kte(vte(s),"renderPolarGrid",(function(e){var t=e.props,a=t.radialLines,r=t.polarAngles,n=t.polarRadius,l=s.state,o=l.radiusAxisMap,i=l.angleAxisMap,d=bz(o),c=bz(i),u=c.cx,m=c.cy,h=c.innerRadius,f=c.outerRadius;return Q.cloneElement(e,{polarAngles:Array.isArray(r)?r:c3(c,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(n)?n:c3(d,!0).map((function(e){return e.coordinate})),cx:u,cy:m,innerRadius:h,outerRadius:f,key:e.key||"polar-grid",radialLines:a})})),kte(vte(s),"renderLegend",(function(){var e=s.state.formattedGraphicalItems,t=s.props,a=t.children,r=t.width,n=t.height,l=s.props.margin||{},o=r-(l.left||0)-(l.right||0),i=Q2({children:a,formattedGraphicalItems:e,legendWidth:o,legendContent:d});if(!i)return null;var c=i.item,u=fte(i,dte);return Q.cloneElement(c,Ste(Ste({},u),{},{chartWidth:r,chartHeight:n,margin:l,onBBoxUpdate:s.handleLegendBBoxUpdate}))})),kte(vte(s),"renderTooltip",(function(){var e,t=s.props,a=t.children,r=t.accessibilityLayer,n=Rz(a,NK);if(!n)return null;var l=s.state,o=l.isTooltipActive,i=l.activeCoordinate,d=l.activePayload,c=l.activeLabel,u=l.offset,m=null!==(e=n.props.active)&&void 0!==e?e:o;return Q.cloneElement(n,{viewBox:Ste(Ste({},u),{},{x:u.left,y:u.top}),active:m,label:c,payload:m?d:[],coordinate:i,accessibilityLayer:r})})),kte(vte(s),"renderBrush",(function(e){var t=s.props,a=t.margin,r=t.data,n=s.state,l=n.offset,o=n.dataStartIndex,i=n.dataEndIndex,d=n.updateId;return Q.cloneElement(e,{key:e.key||"_recharts-brush",onChange:m3(s.handleBrushChange,e.props.onChange),data:r,x:hz(e.props.x)?e.props.x:l.left,y:hz(e.props.y)?e.props.y:l.top+l.height+l.brushBottom-(a.bottom||0),width:hz(e.props.width)?e.props.width:l.width,startIndex:o,endIndex:i,updateId:"brush-".concat(d)})})),kte(vte(s),"renderReferenceElement",(function(e,t,a){if(!e)return null;var r=vte(s).clipPathId,n=s.state,l=n.xAxisMap,o=n.yAxisMap,i=n.offset,d=e.props,c=d.xAxisId,u=d.yAxisId;return Q.cloneElement(e,{key:e.key||"".concat(t,"-").concat(a),xAxis:l[c],yAxis:o[u],viewBox:{x:i.left,y:i.top,width:i.width,height:i.height},clipPathId:r})})),kte(vte(s),"renderActivePoints",(function(e){var a=e.item,r=e.activePoint,n=e.basePoint,s=e.childIndex,l=e.isRange,o=[],i=a.props.key,d=a.item.props,c=d.activeDot,u=Ste(Ste({index:s,dataKey:d.dataKey,cx:r.x,cy:r.y,r:4,fill:l3(a.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value,key:"".concat(i,"-activePoint-").concat(s)},zz(c,!1)),Cz(c));return o.push(t.renderActiveDot(c,u)),n?o.push(t.renderActiveDot(c,Ste(Ste({},u),{},{cx:n.x,cy:n.y,key:"".concat(i,"-basePoint-").concat(s)}))):l&&o.push(null),o})),kte(vte(s),"renderGraphicChild",(function(e,t,a){var r=s.filterFormatItem(e,t,a);if(!r)return null;var n=s.getTooltipEventType(),l=s.state,o=l.isTooltipActive,i=l.tooltipAxis,d=l.activeTooltipIndex,c=l.activeLabel,u=Rz(s.props.children,NK),m=r.props,h=m.points,f=m.isRange,p=m.baseLine,x=r.item.props,g=x.activeDot,b=x.hide,v=x.activeBar,y=x.activeShape,w=Boolean(!b&&o&&u&&(g||v||y)),j={};"axis"!==n&&u&&"click"===u.props.trigger?j={onClick:m3(s.handleItemMouseEnter,e.props.onClick)}:"axis"!==n&&(j={onMouseLeave:m3(s.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:m3(s.handleItemMouseEnter,e.props.onMouseEnter)});var N=Q.cloneElement(e,Ste(Ste({},r.props),j));if(w){if(!(d>=0)){var _,S=(null!==(_=s.getItemByXY(s.state.activeCoordinate))&&void 0!==_?_:{graphicalItem:N}).graphicalItem,k=S.item,C=void 0===k?e:k,E=S.childIndex,T=Ste(Ste(Ste({},r.props),j),{},{activeIndex:E});return[Q.cloneElement(C,T),null,null]}var O,D;if(i.dataKey&&!i.allowDuplicatedCategory){var A="function"==typeof i.dataKey?function(e){return"function"==typeof i.dataKey?i.dataKey(e.payload):null}:"payload.".concat(i.dataKey.toString());O=yz(h,A,c),D=f&&p&&yz(p,A,c)}else O=null==h?void 0:h[d],D=f&&p&&p[d];if(y||v){var P=void 0!==e.props.activeIndex?e.props.activeIndex:d;return[Q.cloneElement(e,Ste(Ste(Ste({},r.props),j),{},{activeIndex:P})),null,null]}if(!OB(O))return[N].concat(wte(s.renderActivePoints({item:r,activePoint:O,basePoint:D,childIndex:d,isRange:f})))}return f?[N,null,null]:[N,null]})),kte(vte(s),"renderCustomized",(function(e,t,a){return Q.cloneElement(e,Ste(Ste({key:"recharts-customized-".concat(a)},s.props),s.state))})),kte(vte(s),"renderMap",{CartesianGrid:{handler:Dte,once:!0},ReferenceArea:{handler:s.renderReferenceElement},ReferenceLine:{handler:Dte},ReferenceDot:{handler:s.renderReferenceElement},XAxis:{handler:Dte},YAxis:{handler:Dte},Brush:{handler:s.renderBrush,once:!0},Bar:{handler:s.renderGraphicChild},Line:{handler:s.renderGraphicChild},Area:{handler:s.renderGraphicChild},Radar:{handler:s.renderGraphicChild},RadialBar:{handler:s.renderGraphicChild},Scatter:{handler:s.renderGraphicChild},Pie:{handler:s.renderGraphicChild},Funnel:{handler:s.renderGraphicChild},Tooltip:{handler:s.renderCursor,once:!0},PolarGrid:{handler:s.renderPolarGrid,once:!0},PolarAngleAxis:{handler:s.renderPolarAxis},PolarRadiusAxis:{handler:s.renderPolarAxis},Customized:{handler:s.renderCustomized}}),s.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:xz("recharts"),"-clip"),s.throttleTriggeredAfterMouseMove=WK(s.triggeredAfterMouseMove,null!==(n=e.throttleDelay)&&void 0!==n?n:1e3/60),s.state={},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yte(e,t)}(t,e),pte(t,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,a=e.data,r=e.height,n=e.layout,s=Rz(t,NK);if(s){var l=s.props.defaultIndex;if(!("number"!=typeof l||l<0||l>this.state.tooltipTicks.length)){var o=this.state.tooltipTicks[l]&&this.state.tooltipTicks[l].value,i=Mte(this.state,a,l,o),d=this.state.tooltipTicks[l].coordinate,c=(this.state.offset.top+r)/2,u="horizontal"===n?{x:d,y:c}:{y:d,x:c},m=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));m&&(u=Ste(Ste({},u),m.props.points[l].tooltipPosition),i=m.props.points[l].tooltipPayload);var h={activeTooltipIndex:l,isTooltipActive:!0,activeLabel:o,activePayload:i,activeCoordinate:u};this.setState(h),this.renderCursor(s),this.accessibilityManager.setIndex(l)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(a=this.props.margin.left)&&void 0!==a?a:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var a,r}},{key:"componentDidUpdate",value:function(e){Uz([Rz(e.children,NK)],[Rz(this.props.children,NK)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Rz(this.props.children,NK);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,a=this.container,r=a.getBoundingClientRect(),n={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-n.left),chartY:Math.round(e.pageY-n.top)},l=r.width/a.offsetWidth||1,o=this.inRange(s.chartX,s.chartY,l);if(!o)return null;var i=this.state,d=i.xAxisMap,c=i.yAxisMap;if("axis"!==this.getTooltipEventType()&&d&&c){var u=bz(d).scale,m=bz(c).scale,h=u&&u.invert?u.invert(s.chartX):null,f=m&&m.invert?m.invert(s.chartY):null;return Ste(Ste({},s),{},{xValue:h,yValue:f})}var p=Lte(this.state,this.props.data,this.props.layout,o);return p?Ste(Ste({},s),p):null}},{key:"inRange",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,n=e/a,s=t/a;if("horizontal"===r||"vertical"===r){var l=this.state.offset;return n>=l.left&&n<=l.left+l.width&&s>=l.top&&s<=l.top+l.height?{x:n,y:s}:null}var o=this.state,i=o.angleAxisMap,d=o.radiusAxisMap;if(i&&d){var c=bz(i);return $3({x:n,y:s},c)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),a=Rz(e,NK),r={};return a&&"axis"===t&&(r="click"===a.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),Ste(Ste({},Cz(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){Kee.on(Xee,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Kee.removeListener(Xee,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,a){for(var r=this.state.formattedGraphicalItems,n=0,s=r.length;n<s;n++){var l=r[n];if(l.item===e||l.props.key===e.key||t===Pz(l.item.type)&&a===l.childIndex)return l}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,a=t.left,r=t.top,n=t.height,s=t.width;return J.createElement("defs",null,J.createElement("clipPath",{id:e},J.createElement("rect",{x:a,y:r,height:n,width:s})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var a=hte(t,2),r=a[0],n=a[1];return Ste(Ste({},e),{},kte({},r,n.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var a=hte(t,2),r=a[0],n=a[1];return Ste(Ste({},e),{},kte({},r,n.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,a=t.formattedGraphicalItems,r=t.activeItem;if(a&&a.length)for(var n=0,s=a.length;n<s;n++){var l=a[n],o=l.props,i=l.item,d=Pz(i.type);if("Bar"===d){var c=(o.data||[]).find((function(t){return i9(e,t)}));if(c)return{graphicalItem:l,payload:c}}else if("RadialBar"===d){var u=(o.data||[]).find((function(t){return $3(e,t)}));if(u)return{graphicalItem:l,payload:u}}else if(Y6(l,r)||q6(l,r)||V6(l,r)){var m=Q6({graphicalItem:l,activeTooltipItem:r,itemData:i.props.data}),h=void 0===i.props.activeIndex?m:i.props.activeIndex;return{graphicalItem:Ste(Ste({},l),{},{childIndex:h}),payload:V6(l,r)?i.props.data[m]:l.props.data[m]}}}return null}},{key:"render",value:function(){var e=this;if(!$z(this))return null;var t,a,r=this.props,n=r.children,s=r.className,l=r.width,o=r.height,i=r.style,d=r.compact,c=r.title,u=r.desc,m=fte(r,cte),h=zz(m,!1);if(d)return J.createElement(q7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement(Gz,mte({},h,{width:l,height:o,title:c,desc:u}),this.renderClipPath(),Wz(n,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(a=this.props.role)&&void 0!==a?a:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var f=this.parseEventsOfWrapper();return J.createElement(q7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},J.createElement("div",mte({className:Wf("recharts-wrapper",s),style:Ste({position:"relative",cursor:"default",width:l,height:o},i)},f,{ref:function(t){e.container=t}}),J.createElement(Gz,mte({},h,{width:l,height:o,title:c,desc:u,style:Tte}),this.renderClipPath(),Wz(n,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),t}(Q.Component),kte(t,"displayName",a),kte(t,"defaultProps",Ste({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),kte(t,"getDerivedStateFromProps",(function(e,t){var a=e.dataKey,r=e.data,n=e.children,s=e.width,l=e.height,o=e.layout,i=e.stackOffset,d=e.margin,c=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var m=Rte(e);return Ste(Ste(Ste({},m),{},{updateId:0},h(Ste(Ste({props:e},m),{},{updateId:0}),t)),{},{prevDataKey:a,prevData:r,prevWidth:s,prevHeight:l,prevLayout:o,prevStackOffset:i,prevMargin:d,prevChildren:n})}if(a!==t.prevDataKey||r!==t.prevData||s!==t.prevWidth||l!==t.prevHeight||o!==t.prevLayout||i!==t.prevStackOffset||!wz(d,t.prevMargin)){var f=Rte(e),p={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},x=Ste(Ste({},Lte(t,r,o)),{},{updateId:t.updateId+1}),g=Ste(Ste(Ste({},f),p),x);return Ste(Ste(Ste({},g),h(Ste({props:e},g),t)),{},{prevDataKey:a,prevData:r,prevWidth:s,prevHeight:l,prevLayout:o,prevStackOffset:i,prevMargin:d,prevChildren:n})}if(!Uz(n,t.prevChildren)){var b,v,y,w,j=Rz(n,F8),N=j&&null!==(b=null===(v=j.props)||void 0===v?void 0:v.startIndex)&&void 0!==b?b:c,_=j&&null!==(y=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==y?y:u,S=N!==c||_!==u,k=OB(r)||S?t.updateId+1:t.updateId;return Ste(Ste({updateId:k},h(Ste(Ste({props:e},t),{},{updateId:k,dataStartIndex:N,dataEndIndex:_}),t)),{},{prevChildren:n,dataStartIndex:N,dataEndIndex:_})}return null})),kte(t,"renderActiveDot",(function(e,t){var a;return a=Q.isValidElement(e)?Q.cloneElement(e,t):LR(e)?e(t):J.createElement(y9,t),J.createElement(Jz,{className:"recharts-active-dot",key:t.key},a)})),t},Hte=Ute({chartName:"BarChart",GraphicalChild:E7,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Uee},{axisType:"yAxis",AxisComp:Wee}],formatAxisMap:function(e,t,a,r,n){var s=e.width,l=e.height,o=e.layout,i=e.children,d=Object.keys(t),c={left:a.left,leftMirror:a.left,right:s-a.right,rightMirror:s-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},u=!!Rz(i,E7);return d.reduce((function(s,l){var i,d,m,h,f,p=t[l],x=p.orientation,g=p.domain,b=p.padding,v=void 0===b?{}:b,y=p.mirror,w=p.reversed,j="".concat(x).concat(y?"Mirror":"");if("number"===p.type&&("gap"===p.padding||"no-gap"===p.padding)){var N=g[1]-g[0],_=1/0,S=p.categoricalDomain.sort();if(S.forEach((function(e,t){t>0&&(_=Math.min((e||0)-(S[t-1]||0),_))})),Number.isFinite(_)){var k=_/N,C="vertical"===p.layout?a.height:a.width;if("gap"===p.padding&&(i=k*C/2),"no-gap"===p.padding){var E=gz(e.barCategoryGap,k*C),T=k*C/2;i=T-E-(T-E)/C*E}}}d="xAxis"===r?[a.left+(v.left||0)+(i||0),a.left+a.width-(v.right||0)-(i||0)]:"yAxis"===r?"horizontal"===o?[a.top+a.height-(v.bottom||0),a.top+(v.top||0)]:[a.top+(v.top||0)+(i||0),a.top+a.height-(v.bottom||0)-(i||0)]:p.range,w&&(d=[d[1],d[0]]);var O=h3(p,n,u),D=O.scale,A=O.realScaleType;D.domain(g).range(d),p3(D);var P=b3(D,A7(A7({},p),{},{realScaleType:A}));"xAxis"===r?(f="top"===x&&!y||"bottom"===x&&y,m=a.left,h=c[j]-f*p.height):"yAxis"===r&&(f="left"===x&&!y||"right"===x&&y,m=c[j]-f*p.width,h=a.top);var M=A7(A7(A7({},p),P),{},{realScaleType:A,x:m,y:h,scale:D,width:"xAxis"===r?a.width:p.width,height:"yAxis"===r?a.height:p.height});return M.bandSize=_3(M,P),p.hide||"xAxis"!==r?p.hide||(c[j]+=(f?-1:1)*M.width):c[j]+=(f?-1:1)*M.height,A7(A7({},s),{},P7({},l,M))}),{})}}),Wte=Ute({chartName:"PieChart",GraphicalChild:c8,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:u6},{axisType:"radiusAxis",AxisComp:Q9}],formatAxisMap:function(e,t,a,r,n){var s=e.width,l=e.height,o=e.startAngle,i=e.endAngle,d=gz(e.cx,s,s/2),c=gz(e.cy,l,l/2),u=I3(s,l,a),m=gz(e.innerRadius,u,0),h=gz(e.outerRadius,u,.8*u);return Object.keys(t).reduce((function(e,a){var s,l=t[a],u=l.domain,f=l.reversed;if(OB(l.range))"angleAxis"===r?s=[o,i]:"radiusAxis"===r&&(s=[m,h]),f&&(s=[s[1],s[0]]);else{var p=D3(s=l.range,2);o=p[0],i=p[1]}var x=h3(l,n),g=x.realScaleType,b=x.scale;b.domain(u).range(s),p3(b);var v=b3(b,T3(T3({},l),{},{realScaleType:g})),y=T3(T3(T3({},l),v),{},{range:s,radius:h,realScaleType:g,scale:b,cx:d,cy:c,innerRadius:m,outerRadius:h,startAngle:o,endAngle:i});return T3(T3({},e),{},O3({},a,y))}),{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Yte=()=>{const[t,a]=Q.useState([]),[r,n]=Q.useState("40%"),[s,l]=Q.useState(7),[o,i]=Q.useState(5),[d,c]=Q.useState(1),[h,f]=Q.useState("0.6em"),[x,g]=Q.useState(!1);Q.useEffect((()=>{const e=()=>{window.innerWidth>768?(n("20%"),l(14),i(10),c(7),f("0.8em")):(n("15%"),l(".4em"),i(1),c(8),f("0.4em"))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),Q.useEffect((()=>{g(!0),p(e,null,(function*(){var e;try{const t=localStorage.getItem("authToken"),r=localStorage.getItem("academicYear");if(!t)throw new Error("No authentication token found");const n=yield Uf.get("https://sms.evolvu.in/public/api/getClassDivisionTotalStudents",{headers:{Authorization:`Bearer ${t}`,"X-Academic-Year":r}});if(!(null==(e=null==n?void 0:n.data)?void 0:e.length))return console.warn("API returned no data."),void a([]);const s=n.data.reduce(((e,t)=>{const a=parseInt(t.total_students,10);if(!a||isNaN(a))return e;const r=e.find((e=>e.class===t.class_name));return r?r[`Division-${t.section_name}`]=a:e.push({class:t.class_name,[`Division-${t.section_name}`]:a}),e}),[]).filter((e=>Object.values(e).filter((e=>"number"==typeof e)).reduce(((e,t)=>e+t),0)>0)),l=["Nursery","LKG","UKG","1","2","3","4","5","6","7","8","9","10","11","12"],o=s.sort(((e,t)=>l.indexOf(e.class)-l.indexOf(t.class)));a(o)}catch(t){console.error("Error fetching data:",t)}finally{g(!1)}}))}),[]);const b={boxSizing:"border-box",backgroundColor:"#fff",fontWeight:"bold",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.33)",borderRadius:"5px",padding:"10px",paddingBottom:"0px",width:"100%",fontSize:".7em"},v={fontWeight:"bold",marginBottom:"5px"},y={margin:0},w={marginTop:"10px",fontWeight:"bold",fontSize:"1em"},j=[...new Set(t.flatMap((e=>Object.keys(e).filter((e=>e.startsWith("Division-"))))))];return oe.jsx(oe.Fragment,{children:x?oe.jsx("p",{className:"text-center relative top-[50%] w-10 m-auto",children:oe.jsx(tR,{})}):0===t.length?oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:"flex flex-row justify-between items-center bg-gray-200 p-1 rounded-t-lg",children:oe.jsx("span",{className:"lg:text-lg sm:text-xs sm:font-semibold text-gray-500",children:"Class-wise Student Distribution"})}),oe.jsx("div",{className:"relative top-10 left-[1%] w-[100%] text-center flex justify-center items-center mt-8 md:mt-14",children:oe.jsxs("div",{className:"flex flex-col items-center justify-center text-center ",children:[oe.jsx("p",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-600 via-red-400 to-pink-500 drop-shadow-md mb-3",children:"Oops!"}),oe.jsx("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:"No data available."})]})})]}):oe.jsxs(QK,{width:"100%",height:"93%",children:[oe.jsx("div",{className:"flex flex-row justify-between items-center bg-gray-200 p-1 rounded-t-lg",children:oe.jsx("span",{className:"lg:text-lg sm:text-xs sm:font-semibold text-gray-500",children:"Class-wise Student Distribution"})}),oe.jsxs(Hte,{data:t,margin:{top:20,right:20,left:20,bottom:20},barCategoryGap:r,children:[oe.jsx(Uee,{dataKey:"class",tick:{fontSize:s},interval:0,tickMargin:o,tickSize:d}),oe.jsx(Wee,{}),oe.jsx(NK,{content:({active:e,payload:t})=>{if(e&&t&&t.length){const e=t[0].payload,a=Object.keys(e).filter((e=>e.startsWith("Division-"))).reduce(((t,a)=>t+(e[a]||0)),0);return oe.jsxs("div",{className:"custom-tooltip",style:b,children:[oe.jsx("p",{style:v,children:`Class: ${e.class}`}),t.map(((e,t)=>oe.jsx("p",{style:m(u({},y),{color:e.color}),children:`${e.name}: ${e.value}`},`item-${t}`))),oe.jsx("p",{style:w,children:`Total Students: ${a}`})]})}return null}}),oe.jsx($V,{}),j.map(((e,t)=>oe.jsx(E7,{dataKey:e,stackId:"a",fill:qte[t%qte.length],children:oe.jsx(u5,{dataKey:e,fill:"white",style:{fontSize:h}})},e)))]})]})})},qte=["#00FFFF","#34d399","#a78bfa","#E77EE7","#FF5733","#C70039","#B58B00","#1C4592","#581845","#900C3F","#FF69B4","#40E0D0","#FFB6C1","#6495ED","#FF4500","#228B22","#8A2BE2","#FF00FF","#CD5C5C","#20B2AA"];function Vte(e){return Hm({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"},child:[]}]})(e)}const Gte="_tab_1uezh_23",Kte="_active_1uezh_71",Xte="_noticeBoard_1uezh_93",Qte="_notice_1uezh_93",Jte="_date_1uezh_119",Zte="_author_1uezh_133",eae="_time_1uezh_147",tae="_message_1uezh_159";function aae(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState("noticeForParents"),[r,n]=Q.useState([]),[s,l]=Q.useState([]),[o,i]=Q.useState(null),[d,c]=Q.useState(!0),u=sm();Q.useEffect((()=>{(()=>{p(this,null,(function*(){var t,a;try{const t=localStorage.getItem("authToken");if(!t)return void u("/");const a=yield Uf.get(`${e}/api/parent-notices`,{headers:{Authorization:`Bearer ${t}`}});n(a.data.parent_notices);const r=yield Uf.get(`${e}/api/staff-notices`,{headers:{Authorization:`Bearer ${t}`}});l(r.data.notices)}catch(r){if(i(r.message),"Token has expired"===(null==(a=null==(t=r.response)?void 0:t.data)?void 0:a.message))return localStorage.removeItem("authToken"),void u("/");console.error("Error fetching notices:",r)}finally{c(!1)}}))})()}),[]);const m=e=>{a(e)};return oe.jsxs("div",{className:"  px-2 rounded-lg ",children:[oe.jsxs("div",{className:" flex justify-between sm:mb-2  w-full  sm:flex flex-row mb-2",children:[oe.jsx("button",{className:`${Gte} w-full h-1/4 text-sm font-bold  ${"noticeForParents"===t?Kte:""} sm:mr-1 mx-0 sm:mb-0  p-2  text-sm sm:w-1/2`,onClick:()=>m("noticeForParents"),children:"Notice for Parents"}),oe.jsx("button",{className:`${Gte} w-full h-1/4 text-sm font-bold  ${"noticeForStaff"===t?Kte:""} sm:mr-1 mx-0 sm:mb-0  p-2 text-sm sm:w-1/2`,onClick:()=>m("noticeForStaff"),children:"Notice for Staff"})]}),oe.jsxs("div",{className:"overflow-y-auto max-h-64",children:["noticeForParents"===t&&d&&oe.jsxs("div",{className:"text-center mt-10",children:[oe.jsx("div",{className:"loader animate-spin h-8 w-8 border-4 border-white border-t-transparent rounded-full mx-auto"}),oe.jsx("p",{className:"text-center relative top-[16%]  w-10 mt-10 mx-auto  ",children:oe.jsx(tR,{})})," "]}),"noticeForParents"===t&&!d&&0===r.length&&oe.jsx("div",{className:"relative left-[1%] w-[95%] text-center flex justify-center items-center mt-8 md:mt-14",children:oe.jsxs("div",{className:"flex flex-col items-center justify-center text-center ",children:[oe.jsx("p",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-600 via-red-400 to-pink-500 drop-shadow-md mb-3",children:"Oops!"}),oe.jsx("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:"No data available."})]})}),"noticeForParents"===t&&r.length>0&&oe.jsx("div",{className:`${Xte} grid gap-2`,children:r.map(((e,t)=>oe.jsxs("div",{className:`${Qte} sm:border-1 border-gray sm:px-3 sm:py-1 sm:leading-3 mb-0 sm:h-fit bg-white box-border rounded shadow-md `,children:[oe.jsxs("div",{className:`${Jte} text-xs mb-2 sm:mb-1`,children:[e.notice_date,oe.jsx("span",{className:`${eae} float-right font-bold`,children:e.notice_type})]}),oe.jsxs("div",{className:`${Zte} text-sm mb-2 sm:mb-1`,children:[e.subject,oe.jsx("span",{className:`${eae} ml-2 text-xs sm:mb-1`,children:`( class-${e.class_name} )`})]}),oe.jsx("div",{className:`${tae} text-sm leading-4 sm:leading-3 sm:mt-0`,children:e.notice_desc})]},t)))}),"noticeForStaff"===t&&d&&oe.jsxs("div",{className:"text-center mt-10",children:[oe.jsx("div",{className:"loader animate-spin h-8 w-8 border-4 border-white border-t-transparent rounded-full mx-auto"}),oe.jsx("p",{className:"text-center relative top-[16%]  w-10 mt-10 mx-auto  ",children:oe.jsx(tR,{})})," "]}),"noticeForStaff"===t&&!d&&0===s.length&&oe.jsx("div",{className:"relative  left-[1%] w-[95%] text-center flex justify-center items-center mt-8 md:mt-14",children:oe.jsxs("div",{className:"flex flex-col items-center justify-center text-center ",children:[oe.jsx("p",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-600 via-red-400 to-pink-500 drop-shadow-md mb-3",children:"Oops!"}),oe.jsx("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:"No data available."})]})}),"noticeForStaff"===t&&s.length>0&&oe.jsx("div",{className:`${Xte} grid gap-2`,children:s.map(((e,t)=>oe.jsxs("div",{className:`${Qte} sm:p-4 rounded shadow-md`,children:[oe.jsxs("div",{className:`${Jte} text-xs mb-2`,children:[e.notice_date,oe.jsx("span",{className:`${eae} float-right font-bold`,children:e.notice_type})]}),oe.jsxs("div",{className:`${Zte} text-sm mb-2`,children:[e.subject,oe.jsx("span",{className:`${eae} ml-2 text-xs`,children:`( ${e.staff_name} )`})]}),oe.jsx("div",{className:"text-sm leading-4 max-h-[80px] overflow-y-auto break-words text-gray-700",style:{wordBreak:"break-word",maxWidth:"100%"},children:e.notice_desc})]},t)))})]})]})}const rae="_studenChart_u339y_45",nae="_customScrollbar_u339y_45",sae=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState("Nursery"),[n,s]=Q.useState({}),[l,o]=Q.useState([]),[i,d]=Q.useState(!1),[c,u]=Q.useState(""),[m,h]=Q.useState([]);Q.useEffect((()=>{p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_for_division`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?h(a.data):u("Unexpected data format")}catch(e){console.error("Error fetching class names:",e)}}))}),[]),Q.useEffect((()=>{p(e,null,(function*(){d(!0),u(""),s({}),o([]);try{const e=localStorage.getItem("authToken"),r=localStorage.getItem("academicYear");if(console.log("academic year",r),console.log("token is",e),!e)throw new Error("No authentication token found");const n=(yield Uf.get(`${t}/api/getHouseViseStudent`,{params:{class_name:a},headers:{Authorization:`Bearer ${e}`}})).data;if(!n||!n.length)return u("No data returned from API"),void console.warn("No data returned from API");const l=n.reduce(((e,t)=>(e[t.class_section]||(e[t.class_section]=[]),e[t.class_section].push({name:t.house_name||"No House",value:t.student_counts,color:t.color_code||"#CCCCCC"}),e)),{});s(l);const i=[...new Set(n.map((e=>e.house_name||"No House")))];o(i)}catch(e){u("Error fetching class data"),console.error("Error fetching class data:",e)}finally{d(!1)}}))}),[a]);const f=e=>{var t;return oe.jsx(Wte,{width:157,height:118,children:oe.jsx(c8,{dataKey:"value",startAngle:180,endAngle:0,data:n[e],cx:"48%",cy:"80%",outerRadius:50,fill:"#8884d8",label:!0,children:null==(t=n[e])?void 0:t.map(((e,t)=>oe.jsx(JK,{fill:e.color||"#CCCCCC"},`cell-${t}`)))})})};return oe.jsxs("div",{className:`${rae} flex flex-col w-full   lg:h-[18.2rem]`,children:[oe.jsxs("div",{className:"flex flex-row justify-between items-center bg-gray-200 p-1",children:[oe.jsx("span",{className:"lg:text-lg sm:text-xs sm:font-semibold text-gray-500",children:"House Chart"}),oe.jsxs("div",{className:"w-64 sm:w-1/2 flex flex-row justify-end items-center gap-x-2",children:[oe.jsx("label",{htmlFor:"class-select",className:"text-sm sm:text-xs font-semibold text-gray-500",children:"Select Class:"}),oe.jsxs("select",{id:"class-select",value:a,onChange:e=>{const{value:t}=e.target;r(t)},className:"block h-fit px-2 bg-gray-100 border border-gray-950 rounded-md shadow-sm hover:cursor-pointer focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm font-semibold",children:[oe.jsx("option",{value:"",children:"Select "}),0===m.length?oe.jsx("option",{value:"",children:"No classes available"}):m.map((e=>oe.jsx("option",{value:e.name,className:"max-h-20 overflow-y-scroll ",children:e.name},e.class_id)))]})]})]}),i?oe.jsx("p",{className:"text-center  w-10  m-auto  ",children:oe.jsx(tR,{})}):n&&Object.keys(n).length>0?oe.jsx("div",{className:`flex mt-2 rounded-lg ${nae} w-full `,children:Object.keys(n).map((e=>{var t;return oe.jsxs("div",{className:"flex   flex-col justify-center items-center gap-y-8 w-full px-4 box-border",style:{alignItems:"center"},children:[oe.jsx("p",{className:"text-gray-400 relative top-5 font-bold text-md mb-0 pb-0",children:`Section-${e}`}),f(e),oe.jsx("ul",{className:" list-disc grid grid-cols-2 gap-x-6 mr-6 text-xs font-bold text-center",children:null==(t=n[e])?void 0:t.map(((e,t)=>oe.jsx("li",{style:{color:e.color||"#CCCCCC"},children:e.name?`${e.name}`:"House-NO"},e.name||`house-no-${t}`)))})]},e)}))}):oe.jsx("div",{className:"relative left-[1%] w-[100%] text-center flex justify-center items-center mt-8 md:mt-14",children:oe.jsxs("div",{className:"flex flex-col items-center justify-center text-center ",children:[oe.jsxs("p",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-600 via-red-400 to-pink-500 drop-shadow-md mb-3",children:["Oops!"," "]}),oe.jsx("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:"No data available for the selected class."})]})})]})},lae=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(e);function oae(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(""),[s,l]=Q.useState({});Q.useEffect((()=>{o(),i()}),[]);const o=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("Missing token");const r=yield Uf.get(`${e}/api/get_bank_accountName`,{headers:{Authorization:`Bearer ${t}`}});if(!r.data||!Array.isArray(r.data.bankAccountName))throw new Error("Invalid account data format");a(r.data.bankAccountName)}catch(t){console.error("Error fetching accounts:",t)}})),i=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("Missing token");const a=yield Uf.get(`${e}/api/collected_fee_list`,{headers:{Authorization:`Bearer ${t}`}});if(!Array.isArray(a.data))throw new Error("Invalid installments data format");{const e=a.data.reduce(((e,t)=>(e[t.account]||(e[t.account]=[]),e[t.account].push({installment:t.installment,amount:t.amount}),e)),{});l(e)}}catch(t){console.error("Error fetching installments:",t)}})),d=r?s[r]||[]:Object.entries(s).flatMap((([e,t])=>t.map((t=>m(u({},t),{account:e}))))),c=e=>parseFloat(e.replace(/,/g,""))||0,h=d.reduce(((e,t)=>e+c(t.amount)),0),f=Object.values(s).flat().reduce(((e,t)=>e+c(t.amount)),0);return oe.jsxs("div",{className:"container m-0 p-2 lg:h-[18.2rem]",children:[oe.jsxs("div",{className:"header flex justify-between items-center bg-gray-200 rounded-t-lg mb-1 px-2 py-1",children:[oe.jsx("span",{className:"lg:text-lg sm:text-xs font-semibold text-gray-500",children:"Fee-Collection"}),oe.jsxs("select",{className:"px-2 py-1 text-sm text-gray-700 font-semibold bg-gray-50 border rounded-md",value:r,onChange:e=>n(e.target.value),children:[oe.jsx("option",{value:"",children:"Select Account"}),t.map((e=>oe.jsx("option",{value:e.account_name,children:e.account_name},e.id)))]})]}),oe.jsxs("div",{className:"table-container rounded-lg shadow-md overflow-hidden",children:[oe.jsxs("div",{className:"grid grid-cols-3 px-2 text-gray-500 bg-gray-200 border-b border-gray-200 font-bold ",children:[!r&&oe.jsx("div",{children:"Account"}),oe.jsx("div",{className:r?"col-start-1":"text-center",children:"Installment"}),oe.jsx("div",{className:"text-end",children:"Amount"})]}),oe.jsxs("div",{className:"relative",children:[oe.jsx("div",{style:{maxHeight:"10.5rem"},className:"  overflow-y-auto overflow-x-hidden",children:0===d.length?oe.jsx("div",{className:"w-full h-full flex justify-center items-center",children:oe.jsxs("div",{className:"flex flex-col items-center ",children:[oe.jsx("p",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-600 via-red-400 to-pink-500 mb-3",children:"Oops!"}),oe.jsx("p",{className:"text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-purple-500 to-blue-500",children:"No data available."})]})}):d.map(((e,t)=>oe.jsxs("div",{className:"grid grid-cols-3 px-2 py-2 border-b border-gray-200 "+(t%2==0?"bg-white":"bg-gray-100"),children:[!r&&oe.jsx("div",{className:"text-black/80",children:e.account}),oe.jsx("div",{className:"text-black/80 "+(r?"col-start-1":"text-center"),children:e.installment}),oe.jsx("div",{className:"text-end text-black/70",children:lae(c(e.amount))})]},`${e.account}-${e.installment}-${t}`)))}),d.length>0&&oe.jsxs("div",{className:" bg-yellow-100  grid grid-cols-3 px-2 py-2  border-t border-gray-300 font-semibold text-gray-800",children:[!r&&oe.jsx("div",{}),oe.jsx("div",{className:r?"col-start-1":"text-center",children:"Total Amount"}),oe.jsx("div",{className:"text-end text-blue-600 whitespace-no-wrap",children:lae(r?h:f)})]})]})]})]})}function iae(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2 4C1.44772 4 1 4.44772 1 5V19C1 19.5523 1.44772 20 2 20H22C22.5523 20 23 19.5523 23 19V5C23 4.44772 22.5523 4 22 4H2ZM9.00008 10C9.00008 9.44772 8.55236 9 8.00008 9C7.44779 9 7.00008 9.44772 7.00008 10C7.00008 10.5523 7.44779 11 8.00008 11C8.55236 11 9.00008 10.5523 9.00008 10ZM11.0001 10C11.0001 11.6569 9.65693 13 8.00008 13C6.34322 13 5.00008 11.6569 5.00008 10C5.00008 8.34315 6.34322 7 8.00008 7C9.65693 7 11.0001 8.34315 11.0001 10ZM5.52725 17.0251L4.11304 15.6109C5.10725 14.6167 6.48362 14 8.00212 14C9.52063 14 10.897 14.6167 11.8912 15.6109L10.477 17.0251C9.84253 16.3907 8.9689 16 8.00212 16C7.03535 16 6.16172 16.3907 5.52725 17.0251ZM20.2071 10.7071L16.2071 14.7071L15.5 15.4142L14.7929 14.7071L12.2929 12.2071L13.7071 10.7929L15.5 12.5858L18.7929 9.29289L20.2071 10.7071Z"},child:[]}]})(e)}function dae(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"},child:[]}]})(e)}const cae=()=>{const t="https://sms.evolvu.in/public",a=sm(),[r,n]=Q.useState({total:0,present:0}),[s,l]=Q.useState({teachingStaff:"",nonTeachingStaff:""}),[o,i]=Q.useState(""),[d,c]=Q.useState(""),[u,m]=Q.useState(""),[h,f]=Q.useState(""),[x,g]=Q.useState(""),[b,v]=Q.useState(""),[y,w]=Q.useState(null);Q.useState(!1);const[j,N]=Q.useState(null);Q.useEffect((()=>{_(),S()}),[]);const _=()=>p(e,null,(function*(){var e,r;const n=localStorage.getItem("authToken");if(!n)return hp.error("Authentication token not found Please login again"),void a("/");try{const a=yield Uf.get(`${t}/api/sessionData`,{headers:{Authorization:`Bearer ${n}`}}),s=null==(r=null==(e=null==a?void 0:a.data)?void 0:e.user)?void 0:r.role_id;s?N(s):console.warn("role_id not found in sessionData response")}catch(s){console.error("Failed to fetch session data:",s)}})),S=()=>p(e,null,(function*(){var e,r,s,o,d;try{const u=localStorage.getItem("authToken"),h=localStorage.getItem("roleId");if(console.log("**** role ID******",h),!u)return hp.error("Authentication token not found Please login again"),void a("/");const p=yield Uf.get(`${t}/api/studentss`,{headers:{Authorization:`Bearer ${u}`}});n({total:p.data.count,present:p.data.present});const x=yield Uf.get(`${t}/api/staff`,{headers:{Authorization:`Bearer ${u}`}});console.log("reponse of the staffAPI",x),l({teachingStaff:null==(e=null==x?void 0:x.data)?void 0:e.teachingStaff,attendanceteachingstaff:null==(r=null==x?void 0:x.data)?void 0:r.attendanceteachingstaff,nonTeachingStaff:null==(s=null==x?void 0:x.data)?void 0:s.non_teachingStaff,attendancenonteachingstaff:null==(o=null==x?void 0:x.data)?void 0:o.attendancenonteachingstaff});const b=yield Uf.get(`${t}/api/ticketcount`,{headers:{Authorization:`Bearer ${u}`,"Role-Id":h}});console.log("***the roleiD count*******",b.data.count),c(b.data.count);const y=yield Uf.get(`${t}/api/get_count_of_approveleave`,{headers:{Authorization:`Bearer ${u}`}});m(null==(d=null==y?void 0:y.data)?void 0:d.data);const w=yield Uf.get(`${t}/api/feecollection`,{headers:{Authorization:`Bearer ${u}`}});g(w.data["Collected Fees"]),f(w.data["Pending Fees"]),console.log("pendingFee count is here******",w.data);const j=yield Uf.get(`${t}/api/staffbirthdaycount`,{headers:{Authorization:`Bearer ${u}`}});console.log("the birthday count and it's value is=",j.data.count),i(j.data.count);const N=yield Uf.get(`${t}/api/get_count_non_approved_lesson_plan`,{headers:{Authorization:`Bearer ${u}`}});v(N.data.data),console.log("pendingFee count is here******",w.data.data)}catch(u){w(u.message),console.error("Error fetching data:",u)}}));return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"flex flex-col lg:flex-row items-start justify-between w-full gap-4 p-6 ",children:[oe.jsxs("div",{className:"w-full lg:w-2/3  grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[oe.jsx(Tm,{to:"/studentAbsent",className:"no-underline",children:oe.jsx(rR,{title:"Student",TotalValue:r.total,presentValue:r.present,color:"#4CAF50",icon:oe.jsx(Og,{style:{color:"violet",backgroundColor:"white",padding:"10px",borderRadius:"50%"}})})}),oe.jsx(Tm,{to:"/teacherList",className:"no-underline",children:oe.jsx(rR,{title:"Teachers",TotalValue:s.teachingStaff,presentValue:null==s?void 0:s.attendanceteachingstaff,color:"#2196F3",icon:oe.jsx(Eg,{style:{color:"#00FFFF",backgroundColor:"white",padding:"10px",borderRadius:"50%"}})})}),oe.jsx(Tm,{to:"/nonTeachingStaff",className:"no-underline",children:oe.jsx(rR,{title:"Non-Teaching Staff",TotalValue:s.nonTeachingStaff,presentValue:null==s?void 0:s.attendancenonteachingstaff,color:"#2196F3",icon:oe.jsx(Eg,{style:{color:"#A287F3",backgroundColor:"white",padding:"10px",borderRadius:"50%"}})})}),oe.jsx(Tm,{to:"/feependinglist",className:"no-underline",children:oe.jsx(hL,{title:"Fee",value:x,valuePendingFee:h,color:"#FF5733",icon:oe.jsx(Vte,{style:{color:"green",backgroundColor:"white",padding:"10px",borderRadius:"50%"}})})}),null===j?oe.jsxs("div",{className:"flex justify-between animate-pulse bg-white rounded shadow-md p-4 w-full h-[114px] border border-gray-200",children:[oe.jsx("div",{className:"relative -top-2 h-20 bg-gray-300 rounded w-1/2"}),oe.jsx("div",{className:"relative top-3 h-10 bg-gray-300 rounded w-1/3"})]}):"M"===j?oe.jsx(Tm,{to:"/approveLeavelist",className:"no-underline",children:oe.jsx(hL,{title:"Approve Leave",value:u,color:"#FFC107",icon:oe.jsx(iae,{style:{color:"#C03078",backgroundColor:"white",padding:"10px",borderRadius:"50%"}})})}):oe.jsx(Tm,{to:"/ticktinglist",className:"no-underline",children:oe.jsx(hL,{title:"Ticketing Module",value:d,color:"#FFC107",icon:oe.jsx(cL,{style:{color:"#30C790",backgroundColor:"white",padding:"10px",borderRadius:"50%"}})})}),null===j?oe.jsxs("div",{className:"flex justify-between animate-pulse bg-white rounded shadow-md p-4 w-full h-[114px] border border-gray-200",children:[oe.jsx("div",{className:" relative -top-2 h-20 bg-gray-300 rounded w-1/2 "}),oe.jsx("div",{className:" relative top-3 h-10 bg-gray-300 rounded w-1/3"})]}):"M"===j?oe.jsx(hL,{title:"Approve Lesson Plans",value:b,spanLabel:"Pending",color:"#4CAF50",icon:oe.jsx(Gm,{style:{color:"green",backgroundColor:"white",padding:"10px",borderRadius:"50%"}})}):oe.jsx(Tm,{to:"/staffbirthlist",className:"no-underline",children:oe.jsx(hL,{title:"Today's Birthdays",value:o,color:"#2196F3",icon:oe.jsx(Ym,{style:{color:"cyan",backgroundColor:"white",padding:"10px",borderRadius:"50%"}})})})]}),oe.jsx("div",{className:"w-full  lg:w-[33%] lg:h-full sm:h-3/4  bg-slate-100 overflow-y-hidden rounded-lg shadow-md ",children:oe.jsx(aR,{})})]}),oe.jsxs("div",{className:"flex flex-col-reverse lg:flex-row items-start justify-between w-full  gap-4  h-full lg:h-1/2  px-4 sm:flex-col-reverse ",children:[oe.jsx("div",{className:"w-full lg:w-[79%]  gap-y-3 gap-x-3 h-full bg-slate-50 rounded-lg lg:h-full sm:h-3/4",style:{boxShadow:"rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px"},children:oe.jsx(Yte,{})}),oe.jsx("div",{className:"w-full lg:w-[39%] border-2 border-solid   bg-slate-50 rounded-lg  h-3/4 lg:h-full  ",style:{boxShadow:"rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px"},children:oe.jsx(aae,{})})]}),oe.jsxs("div",{className:"flex flex-col-reverse lg:flex-row items-start justify-between w-full   gap-4 px-4 sm:flex-col-reverse mt-6",children:[oe.jsxs("div",{className:"w-full lg:w-[29%]    bg-slate-50 rounded-lg  h-3/4",style:{boxShadow:"rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px"},children:[" ",null===j?oe.jsxs("div",{className:"flex justify-between animate-pulse bg-white rounded shadow-md p-4 w-full h-[114px] border border-gray-200",children:[oe.jsx("div",{className:" relative -top-2 h-20 bg-gray-300 rounded w-1/2 "}),oe.jsx("div",{className:" relative top-3 h-10 bg-gray-300 rounded w-1/3"})]}):"M"===j?null:"M"!==j&&oe.jsx(oae,{})]}),null===j?oe.jsx("div",{className:" w-full lg:w-[69%] border-2 border-solid  bg-slate-50 rounded-lg lg:h-full sm:h-3/4 ",style:{boxShadow:"rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px"},children:oe.jsxs("div",{className:"flex justify-between animate-pulse bg-white rounded shadow-md p-4 w-full h-[114px] border border-gray-200",children:[oe.jsx("div",{className:" relative -top-2 h-20 bg-gray-300 rounded w-1/2 "}),oe.jsx("div",{className:" relative top-3 h-10 bg-gray-300 rounded w-1/3"})]})}):"M"===j?null:"M"!==j&&oe.jsx("div",{className:" w-full lg:w-[69%] border-2 border-solid  bg-slate-50 rounded-lg lg:h-full sm:h-3/4 ",style:{boxShadow:"rgba(0, 0, 0, 0.12) 0px 1px 3px, rgba(0, 0, 0, 0.24) 0px 1px 2px"},children:oe.jsx(sae,{})})]})]})},uae=()=>oe.jsx("div",{className:" w-screen overflow-x-hidden h-screen",style:{background:"   linear-gradient(to bottom, #E91E63, #2196F3)"},children:oe.jsx(cae,{})});var mae={exports:{}};!function(e){!function(t,a){e.exports=a(Q)}(0,(e=>(()=>{var t={703:(e,t,a)=>{var r=a(414);function n(){}function s(){}s.resetWarningCache=n,e.exports=function(){function e(e,t,a,n,s,l){if(l!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:n};return a.PropTypes=a,a}},697:(e,t,a)=>{e.exports=a(703)()},414:e=>{e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:t=>{t.exports=e}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{default:()=>y});var e=r(98),t=r.n(e),a=r(697),s=r.n(a);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},l.apply(this,arguments)}var o=function(e){var a=e.pageClassName,r=e.pageLinkClassName,n=e.page,s=e.selected,o=e.activeClassName,i=e.activeLinkClassName,d=e.getEventListener,c=e.pageSelectedHandler,u=e.href,m=e.extraAriaContext,h=e.pageLabelBuilder,f=e.rel,p=e.ariaLabel||"Page "+n+(m?" "+m:""),x=null;return s&&(x="page",p=e.ariaLabel||"Page "+n+" is your current page",a=void 0!==a?a+" "+o:o,void 0!==r?void 0!==i&&(r=r+" "+i):r=i),t().createElement("li",{className:a},t().createElement("a",l({rel:f,role:u?void 0:"button",className:r,href:u,tabIndex:s?"-1":"0","aria-label":p,"aria-current":x,onKeyPress:c},d(c)),h(n)))};o.propTypes={pageSelectedHandler:s().func.isRequired,selected:s().bool.isRequired,pageClassName:s().string,pageLinkClassName:s().string,activeClassName:s().string,activeLinkClassName:s().string,extraAriaContext:s().string,href:s().string,ariaLabel:s().string,page:s().number.isRequired,getEventListener:s().func.isRequired,pageLabelBuilder:s().func.isRequired,rel:s().string};const i=o;function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},d.apply(this,arguments)}var c=function(e){var a=e.breakLabel,r=e.breakAriaLabel,n=e.breakClassName,s=e.breakLinkClassName,l=e.breakHandler,o=e.getEventListener,i=n||"break";return t().createElement("li",{className:i},t().createElement("a",d({className:s,role:"button",tabIndex:"0","aria-label":r,onKeyPress:l},o(l)),a))};c.propTypes={breakLabel:s().oneOfType([s().string,s().node]),breakAriaLabel:s().string,breakClassName:s().string,breakLinkClassName:s().string,breakHandler:s().func.isRequired,getEventListener:s().func.isRequired};const u=c;function m(e){return null!=e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:""}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},f.apply(this,arguments)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(o,e);var a,r,n,s,l=(n=o,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=g(n);if(s){var a=g(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}(this,e)});function o(e){var a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),b(x(a=l.call(this,e)),"handlePreviousPage",(function(e){var t=a.state.selected;a.handleClick(e,null,t>0?t-1:void 0,{isPrevious:!0})})),b(x(a),"handleNextPage",(function(e){var t=a.state.selected,r=a.props.pageCount;a.handleClick(e,null,t<r-1?t+1:void 0,{isNext:!0})})),b(x(a),"handlePageSelected",(function(e,t){if(a.state.selected===e)return a.callActiveCallback(e),void a.handleClick(t,null,void 0,{isActive:!0});a.handleClick(t,null,e)})),b(x(a),"handlePageChange",(function(e){a.state.selected!==e&&(a.setState({selected:e}),a.callCallback(e))})),b(x(a),"getEventListener",(function(e){return b({},a.props.eventListener,e)})),b(x(a),"handleClick",(function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=n.isPrevious,l=void 0!==s&&s,o=n.isNext,i=void 0!==o&&o,d=n.isBreak,c=void 0!==d&&d,u=n.isActive,m=void 0!==u&&u;e.preventDefault?e.preventDefault():e.returnValue=!1;var h=a.state.selected,f=a.props.onClick,p=r;if(f){var x=f({index:t,selected:h,nextSelectedPage:r,event:e,isPrevious:l,isNext:i,isBreak:c,isActive:m});if(!1===x)return;Number.isInteger(x)&&(p=x)}void 0!==p&&a.handlePageChange(p)})),b(x(a),"handleBreakClick",(function(e,t){var r=a.state.selected;a.handleClick(t,e,r<e?a.getForwardJump():a.getBackwardJump(),{isBreak:!0})})),b(x(a),"callCallback",(function(e){void 0!==a.props.onPageChange&&"function"==typeof a.props.onPageChange&&a.props.onPageChange({selected:e})})),b(x(a),"callActiveCallback",(function(e){void 0!==a.props.onPageActive&&"function"==typeof a.props.onPageActive&&a.props.onPageActive({selected:e})})),b(x(a),"getElementPageRel",(function(e){var t=a.state.selected,r=a.props,n=r.nextPageRel,s=r.prevPageRel,l=r.selectedPageRel;return t-1===e?s:t===e?l:t+1===e?n:void 0})),b(x(a),"pagination",(function(){var e=[],r=a.props,n=r.pageRangeDisplayed,s=r.pageCount,l=r.marginPagesDisplayed,o=r.breakLabel,i=r.breakClassName,d=r.breakLinkClassName,c=r.breakAriaLabels,m=a.state.selected;if(s<=n)for(var h=0;h<s;h++)e.push(a.getPageElement(h));else{var f=n/2,p=n-f;m>s-n/2?f=n-(p=s-m):m<n/2&&(p=n-(f=m));var x,g,b=function(e){return a.getPageElement(e)},v=[];for(x=0;x<s;x++){var y=x+1;if(y<=l)v.push({type:"page",index:x,display:b(x)});else if(y>s-l)v.push({type:"page",index:x,display:b(x)});else if(x>=m-f&&x<=m+(0===m&&n>1?p-1:p))v.push({type:"page",index:x,display:b(x)});else if(o&&v.length>0&&v[v.length-1].display!==g&&(n>0||l>0)){var w=x<m?c.backward:c.forward;g=t().createElement(u,{key:x,breakAriaLabel:w,breakLabel:o,breakClassName:i,breakLinkClassName:d,breakHandler:a.handleBreakClick.bind(null,x),getEventListener:a.getEventListener}),v.push({type:"break",index:x,display:g})}}v.forEach((function(t,a){var r=t;"break"===t.type&&v[a-1]&&"page"===v[a-1].type&&v[a+1]&&"page"===v[a+1].type&&v[a+1].index-v[a-1].index<=2&&(r={type:"page",index:t.index,display:b(t.index)}),e.push(r.display)}))}return e})),void 0!==e.initialPage&&void 0!==e.forcePage&&console.warn("(react-paginate): Both initialPage (".concat(e.initialPage,") and forcePage (").concat(e.forcePage,") props are provided, which is discouraged.")+" Use exclusively forcePage prop for a controlled component.\nSee https://reactjs.org/docs/forms.html#controlled-components"),r=e.initialPage?e.initialPage:e.forcePage?e.forcePage:0,a.state={selected:r},a}return a=o,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,a=e.disableInitialCallback,r=e.extraAriaContext,n=e.pageCount,s=e.forcePage;void 0===t||a||this.callCallback(t),r&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(n)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(n,"). Did you forget a Math.ceil()?")),void 0!==t&&t>n-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(t," > ").concat(n-1,").")),void 0!==s&&s>n-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(s," > ").concat(n-1,")."))}},{key:"componentDidUpdate",value:function(e){void 0!==this.props.forcePage&&this.props.forcePage!==e.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(e.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var e=this.state.selected,t=this.props,a=t.pageCount,r=e+t.pageRangeDisplayed;return r>=a?a-1:r}},{key:"getBackwardJump",value:function(){var e=this.state.selected-this.props.pageRangeDisplayed;return e<0?0:e}},{key:"getElementHref",value:function(e){var t=this.props,a=t.hrefBuilder,r=t.pageCount,n=t.hrefAllControls;if(a)return n||e>=0&&e<r?a(e+1,r,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(e){var t=e===this.state.selected;if(this.props.ariaLabelBuilder&&e>=0&&e<this.props.pageCount){var a=this.props.ariaLabelBuilder(e+1,t);return this.props.extraAriaContext&&!t&&(a=a+" "+this.props.extraAriaContext),a}}},{key:"getPageElement",value:function(e){var a=this.state.selected,r=this.props,n=r.pageClassName,s=r.pageLinkClassName,l=r.activeClassName,o=r.activeLinkClassName,d=r.extraAriaContext,c=r.pageLabelBuilder;return t().createElement(i,{key:e,pageSelectedHandler:this.handlePageSelected.bind(null,e),selected:a===e,rel:this.getElementPageRel(e),pageClassName:n,pageLinkClassName:s,activeClassName:l,activeLinkClassName:o,extraAriaContext:d,href:this.getElementHref(e),ariaLabel:this.ariaLabelBuilder(e),page:e+1,pageLabelBuilder:c,getEventListener:this.getEventListener})}},{key:"render",value:function(){var e=this.props.renderOnZeroPageCount;if(0===this.props.pageCount&&void 0!==e)return e?e(this.props):e;var a=this.props,r=a.disabledClassName,n=a.disabledLinkClassName,s=a.pageCount,l=a.className,o=a.containerClassName,i=a.previousLabel,d=a.previousClassName,c=a.previousLinkClassName,u=a.previousAriaLabel,h=a.prevRel,p=a.nextLabel,x=a.nextClassName,g=a.nextLinkClassName,b=a.nextAriaLabel,v=a.nextRel,y=this.state.selected,w=0===y,j=y===s-1,N="".concat(m(d)).concat(w?" ".concat(m(r)):""),_="".concat(m(x)).concat(j?" ".concat(m(r)):""),S="".concat(m(c)).concat(w?" ".concat(m(n)):""),k="".concat(m(g)).concat(j?" ".concat(m(n)):""),C=w?"true":"false",E=j?"true":"false";return t().createElement("ul",{className:l||o,role:"navigation","aria-label":"Pagination"},t().createElement("li",{className:N},t().createElement("a",f({className:S,href:this.getElementHref(y-1),tabIndex:w?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":C,"aria-label":u,rel:h},this.getEventListener(this.handlePreviousPage)),i)),this.pagination(),t().createElement("li",{className:_},t().createElement("a",f({className:k,href:this.getElementHref(y+1),tabIndex:j?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":E,"aria-label":b,rel:v},this.getEventListener(this.handleNextPage)),p)))}}])&&function(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,r),Object.defineProperty(a,"prototype",{writable:!1}),o}(e.Component);b(v,"propTypes",{pageCount:s().number.isRequired,pageRangeDisplayed:s().number,marginPagesDisplayed:s().number,previousLabel:s().node,previousAriaLabel:s().string,prevPageRel:s().string,prevRel:s().string,nextLabel:s().node,nextAriaLabel:s().string,nextPageRel:s().string,nextRel:s().string,breakLabel:s().oneOfType([s().string,s().node]),breakAriaLabels:s().shape({forward:s().string,backward:s().string}),hrefBuilder:s().func,hrefAllControls:s().bool,onPageChange:s().func,onPageActive:s().func,onClick:s().func,initialPage:s().number,forcePage:s().number,disableInitialCallback:s().bool,containerClassName:s().string,className:s().string,pageClassName:s().string,pageLinkClassName:s().string,pageLabelBuilder:s().func,activeClassName:s().string,activeLinkClassName:s().string,previousClassName:s().string,nextClassName:s().string,previousLinkClassName:s().string,nextLinkClassName:s().string,disabledClassName:s().string,disabledLinkClassName:s().string,breakClassName:s().string,breakLinkClassName:s().string,extraAriaContext:s().string,ariaLabelBuilder:s().func,eventListener:s().string,renderOnZeroPageCount:s().func,selectedPageRel:s().string}),b(v,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(e){return e},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const y=v})(),n})()))}(mae);const hae=n(mae.exports);function fae(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState([]),[s,l]=Q.useState(!1),[o,i]=Q.useState(null),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),[b,v]=Q.useState(null),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(""),[k,C]=Q.useState(0),[E,T]=Q.useState(0),[O,D]=Q.useState(!1),A=10,[P,M]=Q.useState({}),L=Q.useRef(0),I=Q.useRef(""),[F,R]=Q.useState(!0),[$,B]=Q.useState(""),[z,U]=Q.useState({}),[H,W]=Q.useState({}),[Y,q]=Q.useState({}),[V,G]=Q.useState("");Q.useEffect((()=>{J(),K(),X()}),[]);const K=()=>p(this,null,(function*(){var t;l(!0);try{const r=localStorage.getItem("authToken"),n=localStorage.getItem("academicYear");if(!r)throw new Error("No authentication token found");const s=yield Uf.get(`${e}/api/classes`,{headers:{Authorization:`Bearer ${r}`,"X-Academic-Year":n},withCredentials:!0});a(s.data),T(Math.ceil((null==(t=null==s?void 0:s.data)?void 0:t.length)/A))}catch(r){i(r.message)}finally{l(!1)}})),X=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${e}/api/sections`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});n(a.data)}catch(t){i(t.message)}})),J=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});G(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",V)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")})),Z=(e,t)=>{const a={};return e&&""!==e.trim()?/^[A-Za-z0-9]+$/.test(e)?e.length>30&&(a.name="The name field must not exceed 30 character."):a.name="The name field only contain alphabets and numbers.":a.name="Please enter class name.",t||(a.department_id="Please Select section."),a},ee=()=>p(this,null,(function*(){var t;try{const a=localStorage.getItem("authToken");if(console.log("the response of the namechack api____"),!a)throw new Error("No authentication token found");const r=yield Uf.post(`${e}/api/check_class_name`,{name:y},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});if(console.log("the response of the namechack api",r.data),!0===(null==(t=r.data)?void 0:t.exists))return console.log("the EXI NAME IS  "),B("Name is already taken."),void R(!1);console.log("the EXI NAME IS NO  "),B(""),R(!0)}catch(a){console.error("Error checking class name:",a)}})),te=()=>{c(!1),f(!1),g(!1),w(""),N(""),v(null),M({}),B(""),U({}),q("")};Q.useEffect((()=>{const e=_.trim().toLowerCase();""!==e&&""===I.current&&(L.current=k,C(0)),""===e&&""!==I.current&&C(L.current),I.current=e}),[_]);const ae=_.trim().toLowerCase(),re=t.filter((e=>{var t,a;return e.name.toLowerCase().includes(ae)||(null==(t=null==e?void 0:e.students_count)?void 0:t.toString().includes(ae))||(null==(a=null==e?void 0:e.get_department)?void 0:a.name.toLowerCase().includes(ae))}));Q.useEffect((()=>{T(Math.ceil(re.length/A))}),[re,A]);const ne=re.slice(k*A,(k+1)*A),se=e=>{const{value:t}=e.target;B(""),console.log("sectionNameis",H,"value is",e.target.value),q(""),w(t),U((e=>m(u({},e),{name:Z(t,j).name})))},le=e=>{const{value:t}=e.target;console.log("sectionNameis",H,"reatValue",t,"value is",e.target.value),N(t),U((a=>m(u({},a),{department_id:Z(t,e.target.value).department_id})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Class"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>S(e.target.value)})}),"U"===V?s?oe.jsx("div",{className:"h-9 w-20 bg-gray-300 animate-pulse rounded-sm"}):oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{c(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]}):null]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden mx-auto "+("U"===V?"w-full md:w-[84%]":"w-full md:w-[75%]"),children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:V?s?oe.jsx("div",{className:"flex justify-center items-center w-full h-[50vh]",children:oe.jsx("div",{className:"text-xl text-blue-700 text-center",children:"Please wait while data is loading..."})}):oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center w-full md:w-[10%] lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center w-full md:w-[14%]  lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 w-full md:w-[19%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Total student"}),oe.jsx("th",{className:"px-2 w-full md:w-[25%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Section"}),"U"===V&&oe.jsxs(oe.Fragment,{children:[oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})]})}),oe.jsx("tbody",{children:ne.length?ne.map(((e,a)=>{var n;return oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:k*A+a+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.students_count})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==(n=r.find((t=>t.department_id===e.department_id)))?void 0:n.name})}),"U"===V&&oe.jsxs(oe.Fragment,{children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{var t;v(e),console.log("the edit ",e),W(null==(t=null==e?void 0:e.get_department)?void 0:t.name),w(e.name),N(e.department_id),f(!0)})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent",onClick:()=>(e=>{const a=t.find((t=>t.class_id===e));console.log("the classto didlete",a),v(a),g(!0)})(e.class_id),children:oe.jsx(zM,{icon:VM})})})]})]},e.class_id)})):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"U"===V?6:4,className:"text-center py-6 text-red-700 text-lg",children:"Oops! No data found.."})})})]}):oe.jsx("div",{className:"flex justify-center items-center w-full h-[50vh]",children:oe.jsx("div",{className:"text-xl text-blue-700 text-center",children:"Please wait while data is loading..."})})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:E,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{C(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),d&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Class"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:te})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"newClassName",className:"w-1/2 mt-2",children:["Class Name ",oe.jsx("span",{className:"text-red-500",children:"*"})," "]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"newClassName",value:y,onChange:se,onBlur:ee}),oe.jsxs("div",{className:"absolute  top-9 left-1/3",children:[!F&&oe.jsx("span",{className:" block text-danger text-xs",children:$}),z.name&&oe.jsx("span",{className:"text-danger text-xs",children:z.name})]})]}),oe.jsxs("div",{className:" relative -top-1 mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"newDepartmentId",className:"w-1/2 mt-2",children:["Section ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{className:"form-control",id:"newDepartmentId shadow-md",value:j,onChange:le,children:[oe.jsx("option",{value:"",children:"Select"}),r.map((e=>oe.jsx("option",{value:e.department_id,children:e.name},e.department_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:z.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:z.department_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",onClick:()=>p(this,null,(function*(){var t;if(O)return;D(!0);const a=Z(y,j);if(Object.keys(a).length>0)return U(a),void D(!1);try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");if(null==(t=(yield Uf.post(`${e}/api/check_class_name`,{name:y},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0})).data)?void 0:t.exists)return B("Name is already taken."),R(!1),void D(!1);B(""),R(!0),yield Uf.post(`${e}/api/classes`,{name:y,department_id:j},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0}),K(),te(),hp.success("Class added successfully!")}catch(r){r.response&&r.response.data?hp.error(`Error adding class: ${r.response.data.message}`):hp.error(`Error adding class: ${r.message}`),console.error("Error adding class:",r)}finally{D(!1)}})),disabled:O,children:O?"Saving...":"Add"})})]})})})}),h&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Class"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:te})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"newClassName",className:"w-1/2 mt-2",children:["Class Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"newClassName",value:y,onBlur:ee,onChange:se}),oe.jsxs("div",{className:"absolute top-9 left-1/3 ",children:[Y.name&&oe.jsx("span",{className:"text-danger text-xs",children:Y.name.join(", ")}),z.name&&oe.jsx("span",{className:"text-danger text-xs",children:z.name})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"newDepartmentId",className:"w-1/2 mt-2",children:["Section ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{className:"form-control",id:"newDepartmentId shadow-md",value:j,onChange:le,children:[oe.jsx("option",{value:"",children:"Select"}),r.map((e=>oe.jsx("option",{value:e.department_id,children:e.name},e.department_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:z.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:z.department_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary  px-3 mb-2",onClick:()=>p(this,null,(function*(){var t;if(O)return;D(!0);const a=Z(y,j);if(Object.keys(a).length>0)return U(a),void D(!1);try{const t=localStorage.getItem("authToken");if(!t||!b||!b.class_id)throw new Error("Class ID is missing");console.log("Existing Class:",b),console.log("New Class Name:",y),yield Uf.put(`${e}/api/classes/${b.class_id}`,{name:y,department_id:j},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),K(),te(),hp.success("Class updated successfully!"),q({})}catch(r){if(r.response&&r.response.data){const e=r.response.data.errors;e?(q(e),hp.error(`Error: ${null==(t=e.name)?void 0:t.join(", ")}`)):hp.error(`Error updating class: ${r.response.data.message}`)}else hp.error(`Error updating class: ${r.message}`);console.error("Error editing class:",r)}finally{D(!1)}})),disabled:O,children:O?"Updating...":"Update"})})]})})})}),x&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Delete Class"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:te})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[100%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete this class"," ",null==b?void 0:b.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!O){D(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found.");const a=yield Uf.delete(`${e}/api/classes/${b.class_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});if(a.data&&400===a.data.status){const e=a.data.message||"Delete failed.";hp.error(e)}else hp.success("Class deleted successfully!"),K();g(!1)}catch(t){if(console.error("Error deleting class:",t),t.response&&400===t.response.status){const e=t.response.data.message||"Delete failed.";hp.error(e)}else hp.error("Server error. Please try again later.")}finally{D(!1),g(!1)}}})),disabled:O,children:O?"Deleting...":"Delete"})})]})})})})]})}function pae(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(0),[_,S]=Q.useState(0),[k,C]=Q.useState({}),[E,T]=Q.useState(!0),[O,D]=Q.useState(""),[A,P]=Q.useState(""),[M,L]=Q.useState(!1),I=Q.useRef(0),F=Q.useRef(""),R=10,$=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/sections`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a(r.data),S(Math.ceil(r.data.length/R))}catch(t){l(t.message)}finally{n(!1)}}));Q.useEffect((()=>{$(),z()}),[]);const B=e=>{const t=/^[a-zA-Z]+$/;let a={};return e?e.length>255?a.name="The name field must not exceed 255 characters.":t.test(e)||(a.name="Please enter alphabets without spaces."):a.name="Please enter the section name.",a},z=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});P(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",A)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")})),U=()=>{i(!1),c(!1),f(!1),v(""),g(null),C({}),D("")},H=e=>{const{value:t}=e.target;D(""),v(t),C((e=>m(u({},e),{name:B(t).name})))};Q.useEffect((()=>{const e=y.trim();""!==e&&""===F.current&&(I.current=j,N(0)),""===e&&""!==F.current&&N(I.current),F.current=e}),[y]);const W=""!==y.trim()?t.filter((e=>e.name.toLowerCase().includes(y.toLowerCase()))):t;Q.useEffect((()=>{S(Math.ceil(W.length/R))}),[W,R]);const Y=W.slice(j*R,(j+1)*R);return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Section"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>w(e.target.value)})}),"U"===A?r?oe.jsx("div",{className:"h-9 w-20 bg-gray-300 animate-pulse rounded-sm"}):oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]}):null]})]})," ",oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsxs("div",{className:"h-96 lg:h-96 overflow-y-auto lg:overflow-x-hidden",children:[" ",oe.jsx("div",{className:"bg-white rounded-lg shadow-xs   mx-auto "+("U"===A?"w-full md:w-[80%]":"w-full md:w-[50%]"),children:A?r?oe.jsx("div",{className:"flex justify-center items-center w-full h-[50vh]",children:oe.jsx("div",{className:"text-xl text-blue-700 text-center",children:"Please wait while data is loading..."})}):oe.jsxs("table",{className:"min-w-full  leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center  lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Section name"}),"U"===A&&oe.jsxs(oe.Fragment,{children:[oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})]})}),oe.jsx("tbody",{children:r?oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center text-blue-700 text-xl py-10",children:"Please wait while data is loading..."})}):Y.length?Y.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:j*R+a+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.name})}),"U"===A&&oe.jsxs(oe.Fragment,{children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{g(e),v(e.name),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{const a=t.find((t=>t.department_id===e));g(a),f(!0)})(e.department_id),children:oe.jsx(zM,{icon:VM})})})]})]},null==e?void 0:e.department_id))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center text-red-700 text-xl py-10",children:"Oops! No data found."})})})]}):oe.jsx("div",{className:"flex justify-center items-center w-full h-[50vh]",children:oe.jsx("div",{className:"text-xl text-blue-700 text-center",children:"Please wait while data is loading..."})})})]}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:_,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{N(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Section"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:U})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Section Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"sectionName",value:b,onChange:H}),oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[!E&&oe.jsx("small",{className:" block text-danger text-xs ",children:O}),k.name&&oe.jsx("small",{className:"text-danger text-xs",children:k.name})]})]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){var t;if(M)return;L(!0);const a=B(b);if(Object.keys(a).length>0)return C(a),void L(!1);try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token or academic year found");if(!0===(null==(t=(yield Uf.post(`${e}/api/check_section_name`,{name:b},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0})).data)?void 0:t.exists))return D("Name is already taken."),T(!1),void L(!1);D(""),T(!0),yield Uf.post(`${e}/api/sections`,{name:b},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0}),$(),U(),hp.success("Section added successfully!")}catch(r){console.error("Error adding section:",r),hp.error("Server error. Please try again later.")}finally{L(!1)}})),disabled:M,children:M?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Section"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:U})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-1/2 mt-2",children:["Section Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"editSectionName",value:b,onChange:H}),oe.jsxs("div",{className:"absolute top-9 left-1/3 ",children:[O&&oe.jsx("small",{className:" block text-danger text-xs",children:O}),k.name&&oe.jsx("small",{className:"text-danger text-xs",children:k.name})]})]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(M)return;L(!0);const t=B(b);if(Object.keys(t).length>0)return C(t),void L(!1);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token or academic year found");yield Uf.put(`${e}/api/sections/${x.department_id}`,{name:b},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),$(),U(),hp.success("Section updated successfully!"),D("")}catch(a){if(console.error("Error editing section:",a),a.response&&422===a.response.status&&a.response.data.errors){const e=a.response.data.errors;e.name&&(console.log("eroor",e.name),D(e.name),e.name.forEach((e=>hp.error(e))))}else hp.error("Server error. Please try again later.")}finally{L(!1)}})),disabled:M,children:M?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:U})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete section: ",x.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!M){L(!0);try{const t=localStorage.getItem("authToken");if(!t||!x||!x.department_id)throw new Error("Section ID is missing");const a=yield Uf.delete(`${e}/api/sections/${x.department_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a.data.success?($(),f(!1),g(null),hp.success("Section deleted successfully!")):hp.error(a.data.message||"Failed to delete section")}catch(t){console.error("Error deleting section:",t),t.response&&t.response.data&&t.response.data.message?hp.error(t.response.data.message):hp.error("Server error. Please try again later.")}finally{L(!1),f(!1)}}})),disabled:M,children:M?"Deleting...":"Delete"})})]})})})]})}const xae=()=>{const e=sm();return oe.jsxs("div",{className:`${nL.notificationPage} flex bg-slate-50   `,children:[oe.jsx(iL,{}),oe.jsx("button",{className:`${nL.closeButton}  float-right fixed top-4 right-2 z-10  `,onClick:()=>{e("/")},children:oe.jsx(_g,{fontSize:"1.9em",fill:"white"})})]})};function gae(){const[e,t]=Q.useState([]),[a,r]=Q.useState([]),[n,s]=Q.useState(0),[l,o]=Q.useState(0),[i,d]=Q.useState(!0),[c,u]=Q.useState(null),m=sm(),[h,f]=Q.useState("Students Birthday");Q.useEffect((()=>{x()}),[]);const x=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get("https://sms.evolvu.in/public/api/staffbirthdaylist",{headers:{Authorization:`Bearer ${e}`}});console.log("Birthday list response:",a.data);const{staffBirthday:n,studentBirthday:l,studentcount:i,teachercount:d}=a.data;t(Array.isArray(n)?n:[]),r(Array.isArray(l)?l:[]),s(i||0),o(d||0)}catch(e){u(e.message||"Something went wrong")}finally{d(!1)}}));return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"md:mx-auto md:w-[70%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:"card-header flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Today's Birthday List"}),oe.jsx(sh,{className:"float-end relative  -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:"relative mb-8 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row  -top-4",children:["Students Birthday","Staff Birthday"].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(h===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{f(e)})(e),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsx("div",{className:"bg-white rounded-md -mt-5",children:i?oe.jsx("div",{className:"text-center text-xl py-10 text-blue-700",children:"Please wait while data is loading..."}):"Students Birthday"===h?oe.jsxs(oe.Fragment,{children:[oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:" px-0.5 w-full md:w-[8%] mx-auto text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"S.No"}),oe.jsx("th",{className:" px-0.5 w-full md:w-[30%] mx-auto text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Student's name"}),oe.jsx("th",{className:" px-0.5 text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Class"}),oe.jsx("th",{className:" px-0.5 text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Mobile"}),oe.jsx("th",{className:"px-2  py-2 border border-gray-950 text-sm font-semibold text-center text-gray-900",children:"Email"})]})}),oe.jsx("tbody",{children:a.length>0?a.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50  ",children:[oe.jsx("td",{className:" sm:px-0.5 text-center lg:px-1   border  border-gray-950   text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap text-center relative top-2 ",children:t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-2  border border-gray-950  text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:`${e.first_name||""} ${e.mid_name||""} ${e.last_name||""}`.trim()})}),oe.jsx("td",{className:"text-center px-2 lg:px-2  border border-gray-950  text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[" ",(null==e?void 0:e.classname)||" "," ",(null==e?void 0:e.sectionname)||" "]})}),oe.jsx("td",{className:"text-center px-2 lg:px-2  border border-gray-950  text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[" ",e.guardian_mobile||e.emergency_contact||" "]})}),oe.jsx("td",{className:"text-center px-2 lg:px-2  border border-gray-950  text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==e?void 0:e.email_id)||(null==e?void 0:e.m_emailid)||""})}),oe.jsx("td",{className:"text-start border border-gray-950 text-sm"})]},e.student_id))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"5",className:"text-center text-xl py-5 text-red-700",children:"Oops! No student birthdays today."})})})]})," ",a.length>0?oe.jsxs("div",{className:"text-blue-500 relative top-3 text-[1.1em] font-medium text-center w-full",children:["Total Students Birthday: ",n]}):" "]}):oe.jsxs(oe.Fragment,{children:[" ",oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-1 w-full md:w-[8%] mx-auto py-2 border border-gray-950 text-sm font-semibold text-center text-gray-900",children:"S.No"}),oe.jsx("th",{className:" px-0.5 w-full md:w-[30%] mx-auto text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Staff name"}),oe.jsx("th",{className:" px-0.5 text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Mobile"}),oe.jsx("th",{className:"px-2 py-2 border border-gray-950 text-sm font-semibold text-center text-gray-900",children:"Email"})]})}),oe.jsx("tbody",{children:e.length>0?e.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50  ",children:[oe.jsx("td",{className:" sm:px-0.5 text-center lg:px-1   border  border-gray-950   text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap text-center relative top-2 ",children:t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-2  border border-gray-950  text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==e?void 0:e.name)||" "})}),oe.jsx("td",{className:"text-center px-2 lg:px-2  border border-gray-950  text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==e?void 0:e.phone)||" "})}),oe.jsx("td",{className:"text-center px-2 lg:px-2  border border-gray-950  text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==e?void 0:e.email)||" "})})]},e.teacher_id))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"5",className:"text-center text-xl py-5 text-red-700",children:"Oops! No staff birthdays today."})})})]}),e.length>0?oe.jsxs("div",{className:"text-blue-500 relative top-3 text-[1.1em] font-medium text-center w-full",children:["Total Staff Birthday: ",l]}):""]})})]})})}const bae=()=>{const e=sm();return oe.jsx("div",{className:"h-screen flex items-center justify-center",children:oe.jsxs("div",{className:" relative -top-[7%]  bg-black/50 border border-white/40 rounded-3xl shadow-2xl p-10 w-full max-w-2xl text-center transform transition-all duration-500",children:[oe.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-300 via-purple-400 to-blue-500 opacity-20 blur-2xl -z-10"}),oe.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-200 via-purple-300 to-blue-300 opacity-30 blur-3xl -z-20"}),oe.jsx("h1",{className:"text-4xl font-extrabold mb-6 text-white animate-slideInUp drop-shadow-lg",children:" Something Exciting is Coming Soon! "}),oe.jsx("p",{className:"text-lg md:text-xl mb-6 text-white leading-relaxed animate-slideInUp drop-shadow-md",children:"Hang tight! We're preparing something amazing just for you. Stay tuned, you wont want to miss it! "}),oe.jsx("div",{className:"animate-pulse text-md md:text-lg text-white opacity-90 mt-4 drop-shadow-sm",children:" The magic is brewing...  Stay tuned! "}),oe.jsx("button",{onClick:()=>{e("/dashboard")},className:"mt-6 px-6 py-3 text-[1.1em] bg-blue-500 text-white rounded-lg hover:bg-blue-700 transition duration-300 relative z-10 pointer-events-auto",children:"Go to Dashboard"})]})})};function vae(){const[e,t]=Q.useState([]),[a,r]=Q.useState(!0),[n,s]=Q.useState(null);return sm(),Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=localStorage.getItem("academicYear"),r=localStorage.getItem("roleId");if(!e)throw new Error("No authentication token or academic year found");const n=yield Uf.get("https://sms.evolvu.in/public/api/ticketlist",{headers:{Authorization:`Bearer ${e}`,"X-Academic-Year":a,"Role-Id":r}});console.log("resposne of the birthday list is",n),t(n.data)}catch(e){s(e.message)}finally{r(!1)}}))})()}),[]),oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"container mt-4 ",children:oe.jsx(bae,{})})})}const yae=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(e);function wae(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(""),[s,l]=Q.useState({}),[o,i]=Q.useState(!1);Q.useEffect((()=>{d(),c()}),[]);const d=()=>p(this,null,(function*(){i(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("Missing token");const r=yield Uf.get(`${e}/api/get_bank_accountName`,{headers:{Authorization:`Bearer ${t}`}});if(!r.data||!Array.isArray(r.data.bankAccountName))throw new Error("Invalid account data format");a(r.data.bankAccountName)}catch(t){console.error("Error fetching accounts:",t)}finally{i(!1)}})),c=()=>p(this,null,(function*(){i(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("Missing token");const a=yield Uf.get(`${e}/api/collected_fee_list`,{headers:{Authorization:`Bearer ${t}`}});if(!Array.isArray(a.data))throw new Error("Invalid installments data format");{const e=a.data.reduce(((e,t)=>(e[t.account]||(e[t.account]=[]),e[t.account].push({installment:t.installment,amount:t.amount}),e)),{});l(e)}}catch(t){console.error("Error fetching installments:",t)}finally{i(!1)}})),h=r?s[r]||[]:Object.entries(s).flatMap((([e,t])=>t.map((t=>m(u({},t),{account:e}))))),f=e=>parseFloat(e.replace(/,/g,""))||0,x=h.reduce(((e,t)=>e+f(t.amount)),0),g=Object.values(s).flat().reduce(((e,t)=>e+f(t.amount)),0);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"container m-0 p-2",children:[oe.jsxs("div",{className:"flex justify-between items-center bg-gray-100 rounded-t-lg mb-1 px-3 py-2 border border-gray-300",children:[oe.jsx("span",{className:"lg:text-lg sm:text-xs font-semibold text-gray-500",children:"Fee-Collection"}),oe.jsxs("select",{className:"px-3 py-1 text-sm text-gray-700 font-semibold bg-white border border-gray-400 rounded-md shadow-sm",value:r,onChange:e=>n(e.target.value),children:[oe.jsx("option",{value:"",children:"Select Account"}),t.map((e=>oe.jsx("option",{value:e.account_name,children:e.account_name},e.id)))]})]}),oe.jsxs("div",{className:"border border-gray-300 rounded-b-lg shadow overflow-hidden",children:[oe.jsxs("div",{className:"grid grid-cols-4 bg-gray-100 text-sm font-semibold text-gray-900 border-b border-gray-400",children:[oe.jsx("div",{className:" w-full md:w-[50%] py-2 border-r border-gray-300 text-center",children:"Sr No."}),oe.jsx("div",{className:"py-2 border-r border-gray-300 text-start",children:"Account"}),oe.jsx("div",{className:"py-2 border-r border-gray-300 text-center",children:"Installment"}),oe.jsx("div",{className:"py-2 text-center",children:"Amount"})]}),oe.jsx("div",{className:"overflow-y-auto max-h-64",children:o?oe.jsx("div",{className:"w-full h-full flex justify-center items-center py-8",children:oe.jsx("div",{className:"text-center text-blue-600 text-lg font-semibold",children:"Please wait while data is loading..."})}):h.length?h.map(((e,t)=>oe.jsxs("div",{className:"grid grid-cols-4 text-sm border-b border-gray-200 "+(t%2==0?"bg-white":"bg-gray-50"),children:[oe.jsx("div",{className:"w-full md:w-[50%] px-2 py-2 border-r border-gray-100 text-center text-gray-700",children:t+1}),oe.jsx("div",{className:"px-2 py-2 border-r border-gray-100 text-start text-gray-800",children:r||e.account}),oe.jsx("div",{className:"px-2 py-2 border-r border-gray-100 text-center text-gray-800",children:e.installment}),oe.jsx("div",{className:"px-2 py-2 text-right text-gray-700",children:yae(f(e.amount))})]},`${e.account}-${e.installment}-${t}`))):oe.jsx("div",{className:"w-full h-full flex justify-center items-center py-8",children:oe.jsx("div",{className:"text-center text-red-600 text-lg font-semibold",children:"Oops! No data found..."})})}),h.length>0&&oe.jsxs("div",{className:"grid grid-cols-4 bg-yellow-100 border-t border-gray-300 text-sm font-semibold text-gray-800",children:[oe.jsx("div",{className:"px-2 py-2 border-r border-gray-300"}),oe.jsx("div",{className:"px-2 py-2 border-r border-gray-300"}),oe.jsx("div",{className:"px-2 py-2 border-r border-gray-300 text-center",children:"Total Amount"}),oe.jsx("div",{className:"px-2 py-2 text-right text-blue-600",children:yae(r?x:g)})]})]})]})})}function jae(){const[e,t]=Q.useState([]),[a,r]=Q.useState(!0),[n,s]=Q.useState(null),l=sm(),[o,i]=Q.useState(0),[d,c]=Q.useState("Pending Fee List");return Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token or academic year found");const a=yield Uf.get("https://sms.evolvu.in/public/api/fee_collection_list",{headers:{Authorization:`Bearer ${e}`}});if(console.log("Response of the birthday list is",a.data),!a.data||!Array.isArray(a.data))throw new Error("Unexpected response data format");{t(a.data);const e=a.data.reduce(((e,t)=>{const a=(t.pending_fee||"0").replace(/,/g,""),r=parseFloat(a);return e+(isNaN(r)?0:r)}),0);i(e)}}catch(e){s(e.message)}finally{r(!1)}}))})()}),[]),console.log("the staffbirthlis",e),oe.jsx("div",{className:"container mt-4 ",children:oe.jsxs("div",{className:"  card mx-auto lg:w-3/4  shadow-lg ",children:[oe.jsxs("div",{className:"card-header flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1  text-md lg:text-lg",children:"Fee Pending & Collection Summary"}),oe.jsx(sh,{className:"float-end relative  right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{l("/dashboard")}})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"  w-full md:w-[98%] mx-auto grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row  ",children:["Pending Fee List","Fee Collection"].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(d===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{c(e)})(e),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsx("div",{className:"card-body w-full md:w-[90%] mx-auto",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs  w-full md:w-[80%] mx-auto",children:oe.jsx("div",{className:"bg-white rounded-lg  shadow-xs ",children:"Pending Fee List"===d?oe.jsxs(oe.Fragment,{children:[" ",oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-0.5 text-center lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider "+(a?"w-full":" md:w-[10%]"),children:"S.No"}),oe.jsx("th",{className:" text-center px-2  lg:px-2 py-2   border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Account"}),oe.jsx("th",{className:"px-0.5 text-center lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider "+(a?"w-full":" md:w-[10%]"),children:"Installment"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Pending Fee"})]})}),oe.jsx("tbody",{children:a?oe.jsx("tr",{children:oe.jsx("td",{colSpan:4,children:oe.jsx("div",{className:"w-full text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:"text-center text-xl text-blue-700",children:"Please wait while data is loading..."})})})}):e.length?oe.jsxs(oe.Fragment,{children:[e.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"sm:px-0.5 text-center lg:px-1 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap text-center relative top-2",children:t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==e?void 0:e.Account)||" "})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==e?void 0:e.installment)||" "})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==e?void 0:e.pending_fee)||" "})})]},t))),oe.jsxs("tr",{className:"bg-yellow-100 font-semibold",children:[oe.jsx("td",{colSpan:3,className:" text-right px-4 py-2 border border-gray-950 text-sm",children:"Total Pending Fee"}),oe.jsx("td",{className:"px-2 text-center lg:px-3 border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-blue-600 font-medium whitespace-no-wrap relative top-2 right-2",children:[""," ",Number(o).toLocaleString("en-IN"),".00"]})})]})]}):oe.jsx("tr",{children:oe.jsx("td",{colSpan:4,children:oe.jsx("div",{className:"w-full text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:"text-center text-xl text-red-700",children:"Oops! No data found.."})})})})})]})]}):oe.jsx(wae,{})})})})]})})}function Nae(){const[e,t]=Q.useState(""),[a,r]=Q.useState(""),[n,s]=Q.useState(""),[l,o]=Q.useState(""),[i,d]=Q.useState(!1),[c,u]=Q.useState({}),m=sm();return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"sm:container lg:w-[45%] lg:h-auto box-border mx-auto p-4 pt-6 mt-10 lg:mt-2 mb-4 bg-white",children:[oe.jsxs("div",{className:"card-header flex justify-between items-center",children:[oe.jsx("h1",{className:"text-lg text-gray-500 font-bold mb-4",children:"Change Password"}),oe.jsx(dae,{className:"float-end relative -top-7 -right-4 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsxs("form",{onSubmit:i=>p(this,null,(function*(){var c;i.preventDefault(),d(!0);const m=(()=>{const t={};return e||(t.currentPassword="Current password is required"),a?/^(?=.*\d)(?=.*[!@#$%^&*])[a-zA-Z\d!@#$%^&*]{8,20}$/.test(a)||(t.newPassword="Password must be 8 to 20 characters long, contain a number and a special character (!, @, #, $, ^, &, *)"):t.newPassword="New password is required",n||(t.reEnterNewPassword="Re-enter new password is required"),l||(t.motherName="Mother's name is required"),a!==n&&(t.reEnterNewPassword="New passwords do not match"),t})();if(Object.keys(m).length>0)return u(m),void d(!1);try{const i=localStorage.getItem("authToken");if(!i)throw new Error("No authentication token found");const d=yield Uf.put("https://sms.evolvu.in/public/api/update_password",{answer_one:l,current_password:e,new_password:a,new_password_confirmation:n},{headers:{Authorization:`Bearer ${i}`}});d.data.success?(hp.success("Your password is updated successfully"),t(""),r(""),s(""),o(""),u({})):d.data.field?u({[d.data.field]:d.data.message}):hp.error(d.data.message||"Error updating password")}catch(h){hp.error((null==(c=h.response)?void 0:c.data.message)||"An error occurred")}finally{d(!1)}})),className:" ",children:[oe.jsxs("div",{className:"flex flex-col mb-2",children:[oe.jsx("label",{className:" text-sm mb-1",htmlFor:"mother-name",children:"What is your mother's name?"}),oe.jsx("input",{type:"text",id:"mother-name",value:l,onChange:e=>o(e.target.value),className:" hover:outline-none outline-offset-2 outline-1 border-none shadow-inner bg-gray-100 p-2 pl-10 text-sm mb-2 text-gray-700"}),c.motherName&&oe.jsx("p",{className:"text-red-500 text-xs -mb-2 -mt-2",children:c.motherName})]}),oe.jsxs("div",{className:"flex flex-col mb-2",children:[oe.jsx("label",{className:" text-sm mb-1",htmlFor:"current-password",children:"Current password"}),oe.jsx("input",{type:"password",id:"current-password",value:e,onChange:e=>t(e.target.value),className:" hover:outline-none outline-offset-2 outline-1 border-none shadow-inner bg-gray-100 p-2 pl-10 text-sm mb-2 text-gray-700"}),c.currentPassword&&oe.jsx("p",{className:"text-red-500 text-xs -mb-2 -mt-2",children:c.currentPassword})]}),oe.jsxs("div",{className:"flex flex-col mb-2",children:[oe.jsx("label",{className:" text-sm mb-1",htmlFor:"new-password",children:"New password"}),oe.jsx("input",{type:"password",id:"new-password",value:a,onChange:e=>r(e.target.value),className:" hover:outline-none outline-offset-2 outline-1 border-none shadow-inner bg-gray-100 p-2 pl-10 text-sm mb-2 text-gray-700"})]})," ",c.newPassword&&oe.jsx("p",{className:"text-red-500 text-xs -mb-1 -mt-4",children:c.newPassword}),oe.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Password must be 8 to 20 characters long, contain a number and a special character (!, @, #, $, ^, &, *)"}),oe.jsxs("div",{className:"flex flex-col mb-2",children:[oe.jsx("label",{className:" text-sm mb-1",htmlFor:"re-enter-new-password",children:"Re-enter new password"}),oe.jsx("input",{type:"password",id:"re-enter-new-password",value:n,onChange:e=>s(e.target.value),className:" hover:outline-none outline-offset-2 outline-1 border-none shadow-inner bg-gray-100 p-2 pl-10 text-sm mb-2 text-gray-700"}),c.reEnterNewPassword&&oe.jsx("p",{className:"text-red-500 text-xs -mb-2 -mt-2",children:c.reEnterNewPassword})]}),oe.jsx("button",{type:"submit",className:" flex justify-center items-center lg:w-28 relative left-[70%] lg:left-[80%] bg-blue-500 hover:bg-blue-700 text-white text-center font-bold py-2 px-4 rounded mb-2",children:i?oe.jsx(Mg,{}):"Update"})]}),oe.jsx(wp,{})]})})}const _ae=()=>{const[e,t]=Q.useState(!1);return oe.jsxs("footer",{children:[oe.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-white shadow-lg px-3",style:{backgroundColor:"#2196f3"},children:[oe.jsx("div",{className:"md:mb-0 text-sm md:text-base pt-3",children:oe.jsxs("p",{children:["Copyright  2016-2018"," ",oe.jsx("a",{href:"https://www.aceventura.in",target:"_blank",rel:"noopener noreferrer",className:"font-bold hover:underline",style:{color:"#C03078"},children:"Aceventura Services"}),". All rights reserved."]})}),oe.jsx("div",{className:"md:mb-0 text-sm md:text-base pt-3",children:oe.jsx("p",{children:oe.jsx("button",{onClick:()=>{t(!0)},className:"text-white hover:bg-transparent no-underline hover:underline",children:"Terms and conditions"})})}),oe.jsx("div",{className:"text-sm md:text-base",children:oe.jsx("p",{children:oe.jsxs("a",{href:"mailto:supportsacs@aceventura.in",className:"no-underline text-white flex items-center justify-center md:justify-start hover:underline pt-3",children:[oe.jsx(Ng,{className:"text-white text-lg mr-2"}),"Contact for app support"]})})})]}),e&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsxs("div",{className:"bg-white p-3 rounded-md w-11/12 md:w-[60%] max-h-[80%] overflow-y-auto shadow-lg",children:[oe.jsxs("div",{className:"flex justify-between ",children:[oe.jsx("h4",{className:"text-xl text-gray-700  ",children:"Online Fees Payments - TERMS & CONDITIONS"}),oe.jsx(sh,{className:"float-end relative  mt-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{t(!1)}})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[100%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"mb-4",children:["This online payment system is provided by"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ",oe.jsxs("span",{className:"font-semibold",children:[" ","(Through its authorized online payment enabler QwikFee)."," "]})," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","may update these terms from time to time and any changes will be effective immediately on being set out here. Please ensure you are aware of the current terms."]}),oe.jsx("h3",{className:"text-lg font-semibold mt-4 underline",children:"Terms & Conditions"}),oe.jsx("p",{className:"mb-4",children:"Please read these terms carefully before using the online payment facility. Using the online payment facility on this website indicates that you accept these terms. If you do not accept these terms, do not use this facility."}),oe.jsx("h6",{className:"  font-semibold ",children:"All payments are subject to the following conditions:-"}),oe.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-4",children:[oe.jsxs("li",{children:["If the Customer leaves"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","before they completely utilizing the service, there shall be no entitlement to a refund of Fees and related payments."]}),oe.jsxs("li",{children:["Refunds, if applicable, at the discretion of the Management, will only be made as per the sources of debit/credit card used for the original transaction. For the avoidance of doubt nothing in this Policy shall require"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"}),"to refund the Fees (or part thereof) unless such Fees (or part thereof) have previously been paid."]}),oe.jsxs("li",{children:["We cannot accept liability for a payment not reaching the correct"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","account due to you quoting incorrect details. Neither can we accept liability if payment is refused or declined by the credit/debit card supplier for any reason."]}),oe.jsxs("li",{children:["If the card supplier declines payment,"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","is under no obligation to bring this fact to your attention. You should check with your bank/credit/debit card supplier that payment has been deducted from your account."]}),oe.jsxs("li",{children:["In no event will"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","be liable for any damages whatsoever arising out of the use, inability to use, or the results of use of this site, any websites linked to this site, or the materials or information contained at any or all such sites, whether based on warranty, contract, tort, or any other legal theory and whether or not advised of the possibility of such damages."]})]}),oe.jsx("h3",{className:"text-lg font-semibold mt-4 underline",children:"Refund Policy"}),oe.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-4",children:[oe.jsxs("li",{children:["If the Customer leaves"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","before completely utilizing the service, there shall be no entitlement to a refund of Fees and related payments."]}),oe.jsxs("li",{children:["Refunds, if applicable, at the discretion of the Management, will only be made as per the sources of debit/credit card used for the original transaction. For the avoidance of doubt nothing in this Policy shall require"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"}),"to refund the Fees (or part thereof) unless such Fees (or part thereof) have previously been paid."]})]}),oe.jsx("h3",{className:"text-lg font-semibold mt-4 underline",children:"Privacy Policy"}),oe.jsxs("ul",{className:"list-disc list-inside space-y-2 mb-4",children:[oe.jsxs("li",{children:[oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","respects and protects the privacy of individuals accessing its services. Individually identifiable information about the user is not wilfully disclosed to any third party without the users permission, as covered in this privacy policy."]}),oe.jsxs("li",{children:["This Privacy Policy describes"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"}),"'s treatment of personally identifiable information. The website does not collect unique information (such as name, email address, age, gender, etc.) unless the user specifically and knowingly provides such information."]}),oe.jsxs("li",{children:[oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","may, from time to time, send emails or other communication to inform users about services, features, functionality, and content offered by the school or to seek voluntary information from the users."]}),oe.jsxs("li",{children:[oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","will release specific personal information about the user only if required in the following circumstances:",oe.jsxs("ul",{className:"list-disc list-inside pl-6 mt-2",children:[oe.jsx("li",{children:"To comply with any valid legal process such as a search warrant, statute, or court order."}),oe.jsxs("li",{children:["If the users actions on the website violate the Terms of Service or any of"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"}),"'s guidelines for specific services."]}),oe.jsx("li",{children:"To protect or defend the legal rights or property of the school, its website, or users."}),oe.jsxs("li",{children:["To investigate, prevent, or take action regarding illegal activities, suspected fraud, or potential threats to the security and integrity of"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","and its website/offerings."]})]})]})]}),oe.jsx("h4",{className:"text-lg underline font-semibold",children:"Changes to our Privacy Policy"}),oe.jsxs("p",{children:[oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","reserves the entire right to modify/amend/remove this privacy statement anytime and without any reason. Nothing contained herein creates or is intended to create a contract/agreement between"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","and any user visiting the website or providing identifying information of any kind."]}),oe.jsx("h3",{className:"text-lg font-semibold mt-4 underline ",children:"Cancellation Policy"}),oe.jsxs("p",{className:"mb-4",children:["Right to cancel any fees/charges to"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)"})," ","rests exclusively with"," ",oe.jsx("span",{className:"font-semibold",children:"ST. ARNOLD'S CENTRAL SCHOOL (SACS)."}),"In the case of cancellation the user would get the amount of fees paid, however in no circumstances the Convenience Fees and the Service Tax would be refunded."]})]})})]})};function Sae(){return oe.jsxs("div",{children:[oe.jsx(Bj,{}),oe.jsx("div",{className:" content w-screen overflow-x-hidden h-screen  pb-4 mt-[10%] pt-[16%] md:pt-1 md:mt-[7%] ",style:{background:"   linear-gradient(to bottom, #E91E63, #2196F3)"},children:oe.jsx(bm,{className:" "})})," ",oe.jsx("div",{className:"",children:oe.jsx(_ae,{})})]})}function kae(){const e=sm(),t=!!localStorage.getItem("authToken");return oe.jsx("div",{className:"h-screen flex justify-center items-center",children:oe.jsxs("div",{className:"text-center",children:[oe.jsx("h1",{className:"text-6xl font-bold mb-4",children:"404"}),oe.jsx("h2",{className:"text-2xl mb-8",children:"Page Not Found"}),oe.jsxs("p",{className:"text-lg",children:["Go to"," ",oe.jsx("span",{onClick:()=>{e(t?"/dashboard":"/login")},className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:"Main Page"})]})]})})}function Cae(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[u,m]=Q.useState(!1),[h,f]=Q.useState(null),[x,g]=Q.useState(null),[b,v]=Q.useState(!1),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(""),[k,C]=Q.useState(""),[E,T]=Q.useState(0),[O,D]=Q.useState(0),A=10,P=Q.useRef(0),M=Q.useRef(""),L=sm();Q.useEffect((()=>{I(),F()}),[]);const I=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});w(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",y)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")})),F=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/staff_list`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a(r.data),D(Math.ceil(r.data.length/A))}catch(t){l(t.message)}finally{n(!1)}}));console.log("the response of the stafflist",t);const R=()=>{i(!1),c(!1),m(!1),N(""),S(""),f(null)},$=e=>p(this,null,(function*(){console.log("handleview is running on"),L(`/staff/view/${e.teacher_id}`,{state:{staff:e}})}));Q.useEffect((()=>{const e=k.trim().toLowerCase();""!==e&&""===M.current&&(P.current=E,T(0)),""===e&&""!==M.current&&T(P.current),M.current=e}),[k]);const B=t.filter((e=>{var t,a,r,n,s;const l=k.toLowerCase();return(null==(t=e.employee_id)?void 0:t.toLowerCase().includes(l))||(null==(a=e.name)?void 0:a.toLowerCase().includes(l))||(null==(r=e.email)?void 0:r.toLowerCase().includes(l))||(null==(n=e.phone)?void 0:n.toLowerCase().includes(l))||(null==(s=e.designation)?void 0:s.toLowerCase().includes(l))}));Q.useEffect((()=>{D(Math.ceil(B.length/A))}),[B,A]);const z=B.slice(E*A,(E+1)*A);return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Staff List"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>C(e.target.value)})}),"M"!==y?r?oe.jsx("div",{className:"h-9 w-20 bg-gray-300 animate-pulse rounded-sm"}):oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>L("/CreateStaff"),children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]}):null]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full box-border",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Photo"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Employee Id"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Staff Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Email"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Phone no."}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Designation"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"View"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):z.length?z.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[console.log("this is inside the staflist component in the table",e),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:E*A+t+1})}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm py-1",children:[console.log("the teacher image--\x3e",`${null==e?void 0:e.teacher_image_name}`),oe.jsx("img",{src:(null==e?void 0:e.teacher_image_name)?`${null==e?void 0:e.teacher_image_name}`:"https://via.placeholder.com/50",alt:null==e?void 0:e.name,className:"rounded-full w-8 h-8 lg:w-10 lg:h-10 object-cover"})]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.employee_id})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[null==e?void 0:e.name," ","Y"==(null==e?void 0:e.isDelete)&&oe.jsx("span",{className:"text-red-500",children:"(Left school)"})]})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.email})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.phone})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.designation})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("this is the )))))))))",e.get_teacher),L(`/staff/edit/${e.teacher_id}`,{state:{staff:e}})})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>{return t=e,console.log("insise detelt"),console.log("this is staffUersid",t.teacher_id),f(t.teacher_id),g(t.name),void m(!0);var t},children:oe.jsx(zM,{icon:VM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>$(e),children:oe.jsx(kg,{className:"font-bold text-xl"})})})]},e.user_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:O,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{T(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),u&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title  ",children:"Delete Staff"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:R})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("p",{children:["Are you sure you want to delete: ",x,"?"]}),console.log("currestStaffDelete",h)]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!b){v(!0);try{const t=localStorage.getItem("authToken");if(!t||!h)throw new Error("Teacher ID is missing");200===(yield Uf.delete(`${e}/api/teachers/${h}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0})).status?(F(),R(),hp.success("Staff deleted successfully!")):hp.error("Failed to delete staff")}catch(t){console.error("Error deleting staff:",t),hp.error("Failed to delete staff")}finally{v(!1),m(!1)}}})),disabled:b,children:b?"Deleting...":"Delete"})})]})})})})]})}function Eae(){const[e,t]=Q.useState(!1),[a,r]=Q.useState({name:"",birthday:"",date_of_joining:"",designation:"",academic_qual:[],professional_qual:"",trained:"",experience:"",sex:"",blood_group:"",religion:"",address:"",phone:"",email:"",aadhar_card_no:"",role:"",employee_id:"",teacher_image_name:null,special_sub:""}),[n,s]=Q.useState({}),[l,o]=Q.useState(""),[i,d]=Q.useState({});Q.useState(null);const c=sm(),h=(new Date).toISOString().split("T")[0],f=e=>e?/^\d{10}$/.test(e)?null:"Phone number must be 10 digits":"Phone number is required",x=e=>e?/^\d{12}$/.test(e.replace(/\s+/g,""))?null:"Aadhar card number must be 12 digits":"Aadhar card number is required",g=e=>e?/\S+@\S+\.\S+/.test(e)?null:"Email address is invalid":"Email is required",b=e=>e?/^\d+$/.test(e)?null:"Experience must be a whole number":"Experience is required",v=e=>{const{name:t,value:a,checked:n}=e.target;let l=a;"employee_id"===t&&o(""),"experience"===t?l=l.replace(/[^0-9]/g,""):"aadhar_card_no"===t&&(l=l.replace(/\s+/g,"")),"phone"!==t&&"aadhar_card_no"!==t||(l=l.replace(/[^\d]/g,"")),r("academic_qual"===t?e=>{const t=n?[...e.academic_qual,a]:e.academic_qual.filter((e=>e!==a));return m(u({},e),{academic_qual:t})}:e=>m(u({},e),{[t]:l}));let i={};"phone"===t?i.phone=f(l):"aadhar_card_no"===t?i.aadhar_card_no=x(l):"email"===t?i.email=g(l):"experience"===t&&(i.experience=b(l)),s((e=>u(u({},e),i)))},y=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`};return oe.jsxs("div",{className:"container mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Create a New Staff"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{s({}),c("/StaffList")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"  md:absolute md:right-10  md:top-[10%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500",children:"*"}),"indicates mandatory information"]}),oe.jsxs("form",{onSubmit:e=>p(this,null,(function*(){e.preventDefault();const r=(()=>{const e={};a.name?/^[^\d].*/.test(a.name)||(e.name="Name should not start with a number"):e.name="Name is required",a.birthday||(e.birthday="Date of Birth is required"),a.date_of_joining||(e.date_of_joining="Date of Joining is required"),a.sex||(e.sex="Gender is required"),a.designation||(e.designation="Designation is required"),a.address||(e.address="Address is required");const t=f(a.phone);t&&(e.phone=t);const r=g(a.email);r&&(e.email=r);const n=b(a.experience);n&&(e.experience=n);const l=x(a.aadhar_card_no);return l&&(e.aadhar_card_no=l),a.academic_qual.length||(e.academic_qual="Please select at least one academic qualification"),s(e),e})()||{};if(Object.keys(r).length>0)return s(r),void Object.values(r).forEach((e=>{hp.error(e)}));const n=m(u({},a),{birthday:y(a.birthday),date_of_joining:y(a.date_of_joining),teacher_image_name:String(a.teacher_image_name)});try{t(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");const a=yield Uf.post("https://sms.evolvu.in/public/api/store_staff",n,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`}});if(console.log("response is ---\x3e",a,a.data.status,a.data.success),400===a.data.status&&!1===a.data.success)return void hp.error(" Userid is created using staff name, please use a different name to create user id");201===a.status&&(hp.success(a.data.message||"Teacher created successfully!"),setTimeout((()=>{c("/StaffList")}),1e3))}catch(l){if(l.response&&l.response.data){const{errors:e,message:t}=l.response.data;e?(Object.entries(e).forEach((([e,t])=>{t.forEach((t=>{console.log(`${e}: ${t}`)}))})),d(e||{}),console.log("setbackednErrors",i),console.log("employeeId backednerro",null==i?void 0:i.employee_id[0]),o(null==i?void 0:i.employee_id[0])):t&&hp.error(t)}else hp.error(l.message)}finally{t(!1)}})),className:"  md:mx-5 overflow-x-hidden shadow-md p-2 bg-gray-50",children:[" ",e?oe.jsxs("div",{className:" inset-0  h-52 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1",children:[oe.jsx("div",{className:" mx-auto      ",children:oe.jsx(Cg,{onImageCropped:e=>{r((t=>m(u({},t),{teacher_image_name:e})))}})}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"academic_qual",className:"block font-bold  text-xs mb-2",children:["Academic Qualification ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:"flex flex-wrap ",children:["Hsc","DCE","B.A","B.Com","B.Sc","BCS","BCA","B.LIS","BPharm","BE","B.Music n Dance","M.A","MSE","M.Com","M.Sc","MCA","M.LIS","M.Phil","MBA","PGDBM"].map((e=>oe.jsxs("label",{className:"flex items-center mr-4 text-sm font-md",children:[oe.jsx("input",{type:"checkbox",name:"academic_qual",value:e,checked:a.academic_qual.includes(e),onChange:v,className:"mr-1 "}),e]},e)))}),n.academic_qual&&oe.jsx("span",{className:"text-red-500 text-xs",children:n.academic_qual})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"address",className:"block font-bold  text-xs mb-2",children:["Address ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:200,id:"address",name:"address",value:a.address,onChange:v,className:"input-field resize block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",rows:"4",required:!0})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"staffName",name:"name",pattern:"^[^\\d].*",title:"Name should not start with a number",required:!0,value:a.name,onChange:v,placeholder:"Name",className:"block  border w-full border-gray-300 rounded-md py-1 px-3  bg-white shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"trained",className:"block font-bold  text-xs mb-2",children:["Training Status ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"trained",name:"trained",value:a.trained,onChange:v,required:!0,title:"Please enter Training Status ",className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"})," ",oe.jsx("option",{value:"Trained-PGT",children:"Trained-PGT"}),oe.jsx("option",{value:"Trained-TGT",children:"Trained-TGT"})," ",oe.jsx("option",{value:"Trained-PRT",children:"Trained-PRT"}),oe.jsx("option",{value:"NTT",children:"NTT"}),oe.jsx("option",{value:"ECCE",children:"ECCE"}),oe.jsx("option",{value:"Untrained",children:"Untrained"}),oe.jsx("option",{value:"NA",children:"NA"})]})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"phone",className:"block font-bold  text-xs mb-2",children:["Phone ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex ",children:[oe.jsx("span",{className:" rounded-l-md pt-1 bg-gray-200 text-black font-bold px-2 pointer-events-none ml-1",children:"+91"}),oe.jsx("input",{type:"text",id:"phone",name:"phone",pattern:"\\d{10}",maxLength:"10",title:"Please enter only 10 digit number ",value:a.phone,onChange:v,className:"input-field block w-full border border-gray-300 outline-none  rounded-r-md py-1 px-3 bg-white shadow-inner ",required:!0})]}),i.phone&&oe.jsx("span",{className:"error",children:i.phone[0]}),n.phone&&oe.jsx("span",{className:"text-red-500 text-xs",children:n.phone})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"birthday",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"birthday",max:"2006-12-31",name:"birthday",value:a.birthday,onChange:v,className:"block border w-full border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",required:!0}),n.birthday&&oe.jsx("div",{className:"text-red-500 text-xs mt-1",children:n.birthday})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"experience",className:"block font-bold  text-xs mb-2",children:["Experience ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:2,id:"experience",name:"experience",value:a.experience,placeholder:"In year",onChange:v,required:!0,title:"Only enter digits in year like 1 or 5",className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold  text-xs mb-2",children:["Email ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"email",maxLength:51,id:"email",name:"email",value:a.email,onChange:v,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",required:!0,placeholder:"example@email.com",title:"Please enter a valid email address that ends with @gmail.com"}),i.email&&oe.jsx("span",{className:"error text-red-500 text-xs",children:i.email[0]}),n.email&&oe.jsx("span",{className:"error text-red-500 text-xs",children:n.email})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Date Of Joining ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",max:h,name:"date_of_joining",value:a.date_of_joining,onChange:v,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",required:!0}),n.date_of_joining&&oe.jsx("span",{className:"text-red-500 text-xs",children:n.date_of_joining})]}),oe.jsxs("div",{className:"",children:[oe.jsxs("label",{htmlFor:"sex",className:"block font-bold  text-xs mb-2",children:["Gender ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"sex",name:"sex",value:a.sex,onChange:v,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",required:!0,children:[oe.jsx("option",{className:" bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"male",children:"Male"}),oe.jsx("option",{value:"female",children:"Female"}),oe.jsx("option",{value:"other",children:"Other"})]}),n.sex&&oe.jsx("span",{className:"text-red-500 text-xs",children:n.sex})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"aadhar_card_no",className:"block font-bold  text-xs mb-2",children:["Aadhaar Card No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:12,id:"aadhar_card_no",name:"aadhar_card_no",value:a.aadhar_card_no,pattern:"\\d{12}",title:"Aadhaar Card Number must be exactly 12 digits Number",onChange:v,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"})," ",i.aadhar_card_no&&oe.jsx("span",{className:"text-red-500 text-xs",children:i.aadhar_card_no[0]}),n.aadhar_card_no&&oe.jsx("span",{className:"text-red-500 text-xs",children:n.aadhar_card_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"designation",className:"block font-bold  text-xs mb-2",children:["Designation ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,id:"designation",name:"designation",value:a.designation,onChange:v,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),n.designation&&oe.jsx("span",{className:"text-red-500 text-xs",children:n.designation})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"blood_group",className:"block font-bold  text-xs mb-2",children:"Blood Group"}),oe.jsxs("select",{id:"blood_group",name:"blood_group",value:a.blood_group,onChange:v,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"})]})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"role",className:"block font-bold  text-xs mb-2",children:["Role ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"role",name:"role",value:a.role,onChange:v,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",required:!0,children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"A",children:"Admin"}),oe.jsx("option",{value:"B",children:"Bus"}),oe.jsx("option",{value:"E",children:"Data Entry"}),oe.jsx("option",{value:"F",children:"Finance"}),oe.jsx("option",{value:"L",children:"Librarian"}),oe.jsx("option",{value:"M",children:"Management"}),oe.jsx("option",{value:"N",children:"Printer"}),oe.jsx("option",{value:"O",children:"owner"}),oe.jsx("option",{value:"R",children:"Support"}),oe.jsx("option",{value:"T",children:"Teacher"}),oe.jsx("option",{value:"X",children:"Support Staff"}),oe.jsx("option",{value:"Y",children:"Security"})]}),n.role&&oe.jsx("span",{className:"text-red-500 text-xs",children:n.role})]}),oe.jsx("div",{children:oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"professional_qual",className:"block font-bold  text-xs mb-2",children:"Professional Qualification"}),oe.jsxs("select",{id:"professional_qual",name:"professional_qual",value:a.professional_qual,onChange:v,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"D.Ed",children:"D.Ed"}),oe.jsx("option",{value:"B.Ed",children:"B.Ed"}),oe.jsx("option",{value:"B.P.Ed",children:"B.P.Ed"}),oe.jsx("option",{value:"M.P.Ed",children:"M.P.Ed"}),oe.jsx("option",{value:"M.Ed",children:"M.Ed"}),oe.jsx("option",{value:"NA",children:"NA"})]})]})}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold  text-xs mb-2",children:"Religion"}),oe.jsxs("select",{id:"religion",name:"religion",value:a.religion,onChange:v,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"})," ",oe.jsx("option",{value:"Hindu",children:"Hindu"}),oe.jsx("option",{value:"Christian",children:"Christian"})," ",oe.jsx("option",{value:"Muslim",children:"Muslim"}),oe.jsx("option",{value:"Sikh",children:"Sikh"}),oe.jsx("option",{value:"Jain",children:"Jain"}),oe.jsx("option",{value:"Buddhist",children:"Buddhist"}),oe.jsx("option",{value:"NA",children:"NA"})]})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"employee_id",className:"block font-bold  text-xs mb-2",children:["Employee ID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:5,id:"employee_id",name:"employee_id",value:a.employee_id,onChange:v,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",required:!0}),n.employee_id&&oe.jsx("span",{className:"text-red-500 text-xs",children:n.employee_id}),oe.jsx("span",{className:"text-red-500 text-xs",children:l})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"special_sub",className:"block font-bold  text-xs mb-2",children:"Special Subject"}),oe.jsx("input",{type:"text",maxLength:30,id:"special_sub",name:"special_sub",value:a.special_sub,onChange:v,placeholder:"Special Subject for D.Ed/B.Ed",className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsx("div",{className:"col-span-3  text-right",children:oe.jsx("button",{type:"submit",style:{backgroundColor:"#2196F3"},className:" text-white font-bold py-1 border-1 border-blue-500 px-4 rounded",children:"Create Staff"})})]})]})]})]})}function Tae(){const e="https://sms.evolvu.in/public",t=sm(),a=rm(),[r,n]=Q.useState(!1),[s,l]=Q.useState(!1),{staff:o}=a.state||{};console.log("Staff is in edit form***",o);const[i,d]=Q.useState(""),[c,h]=Q.useState({employee_id:"",name:"",father_spouse_name:"",birthday:"",date_of_joining:"",sex:"",religion:"",blood_group:"",address:"",phone:"",email:"",designation:"",academic_qual:[],professional_qual:"",class_teacher_of:[],trained:"",experience:"",aadhar_card_no:"",teacher_image_name:null,class_id:"",section_id:"",isDelete:"N",role_id:""}),[f,x]=Q.useState({}),[g,b]=Q.useState(null),[v,y]=Q.useState({}),w=(new Date).toISOString().split("T")[0];console.log("employeeID",o),Q.useEffect((()=>{if(o){const e=o.classes&&o.classes.length>0?`${o.classes[0].classname}-${o.classes[0].sectionname}`:"Not applicable";h({employee_id:o.employee_id||"NA",name:o.name||"",father_spouse_name:o.father_spouse_name||"",birthday:o.birthday||"",date_of_joining:o.date_of_joining||"",sex:o.sex||"",religion:o.religion||"",blood_group:o.blood_group||"",address:o.address||"",phone:o.phone||"",email:o.email||"",designation:o.designation||"",academic_qual:o.academic_qual?o.academic_qual.split(","):[],class_teacher_of:e,professional_qual:o.professional_qual||"",special_sub:o.special_sub||"",trained:o.trained||"",experience:o.experience||"",aadhar_card_no:o.aadhar_card_no||"",teacher_image_name:o.teacher_image_name||null,class_id:o.class_id||"",section_id:o.section_id||"",isDelete:o.isDelete||"N",role_id:o.role_id||""}),(null==o?void 0:o.teacher_image_name)&&b(`${null==o?void 0:o.teacher_image_name}`)}}),[o,e]);const j=e=>e?/^\d{10}$/.test(e)?null:"Phone number must be 10 digits":"Phone number is required",N=e=>e?/^\d{12}$/.test(e.replace(/\s+/g,""))?null:"Aadhar card number must be 12 digits":"Aadhar card number is required",_=e=>e?/\S+@\S+\.\S+/.test(e)?null:"Email address is invalid":"Email is required",S=e=>e?/^\d+$/.test(e)?null:"Experience must be a whole number":"Experience is required",k=e=>{const{name:t,value:a,checked:r}=e.target;let n=a;"employee_id"===t&&d(""),"experience"===t?n=n.replace(/[^0-9]/g,""):"aadhar_card_no"===t&&(n=n.replace(/\s+/g,"")),"phone"!==t&&"aadhar_card_no"!==t||(n=n.replace(/[^\d]/g,"")),h("academic_qual"===t?e=>{const t=r?[...e.academic_qual,a]:e.academic_qual.filter((e=>e!==a));return m(u({},e),{academic_qual:t})}:e=>m(u({},e),{[t]:n}));let s={};"phone"===t?s.phone=j(n):"aadhar_card_no"===t?s.aadhar_card_no=N(n):"email"===t?s.email=_(n):"experience"===t&&(s.experience=S(n)),x((e=>u(u({},e),s)))};return oe.jsxs("div",{className:"container mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Staff information"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{t("/StaffList")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"  md:absolute md:right-10  md:top-[10%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500",children:"*"}),"indicates mandatory information"]}),oe.jsx("form",{onSubmit:a=>p(this,null,(function*(){var l,i;if(a.preventDefault(),r)return;const h=(()=>{const e={};c.name?/^[^\d].*/.test(c.name)||(e.name="Name should not start with a number"):e.name="Name is required",c.birthday||(e.birthday="Date of Birth is required"),c.date_of_joining||(e.date_of_joining="Date of Joining is required"),c.sex||(e.sex="Gender is required"),c.address||(e.address="Address is required");const t=j(c.phone);t&&(e.phone=t);const a=_(c.email);a&&(e.email=a);const r=S(c.experience);r&&(e.experience=r);const n=N(c.aadhar_card_no);return n&&(e.aadhar_card_no=n),c.designation||(e.designation="Designation is required"),c.employee_id||(e.employee_id="Employee ID is required"),0===c.academic_qual.length&&(e.academic_qual="Please select at least one academic qualification"),e})();if(h&&Object.keys(h).length>0)return x(h),void Object.values(h).forEach((e=>{hp.error(e)}));const f=m(u({},c),{teacher_image_name:s?String(c.teacher_image_name):"",academic_qual:c.academic_qual,experience:String(c.experience)});try{n(!0);const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");console.log("Submitting data:",f),200===(yield Uf.put(`${e}/api/teachers/${o.teacher_id}`,f,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}})).status&&(hp.success("Teacher updated successfully!"),setTimeout((()=>{t("/StaffList")}),500))}catch(p){if(console.error("Error updating teacher:",(null==(l=p.response)?void 0:l.data)||p.message),p.response&&p.response.data){const{errors:e,message:t}=p.response.data;e&&(Object.entries(e).forEach((([e,t])=>{t.forEach((t=>{console.log(`${e}: ${t}`)}))})),y(e),d((null==(i=null==e?void 0:e.employee_id)?void 0:i[0])||""))}else hp.error("An unexpected error occurred.")}finally{n(!1)}})),className:"  md:mx-5 overflow-x-hidden shadow-md p-2 bg-gray-50",children:r?oe.jsxs("div",{className:" inset-0  h-52 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1",children:[oe.jsx("div",{className:" mx-auto      ",children:oe.jsx(Cg,{photoPreview:g,onImageCropped:e=>{l(!0),h((t=>m(u({},t),{teacher_image_name:e})))}})}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"academic_qual",className:"block font-bold  text-xs mb-2",children:["Academic Qualification"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:"flex flex-wrap ",children:["Hsc","DCE","B.A","B.Com","B.Sc","BCS","BCA","B.LIS","BPharm","BE","B.Music n Dance","M.A","MSE","M.Com","M.Sc","MCA","M.LIS","M.Phil","MBA","PGDBM"].map((e=>oe.jsxs("label",{className:"flex items-center mr-4 text-sm font-md",children:[oe.jsx("input",{type:"checkbox",name:"academic_qual",value:e,checked:c.academic_qual.includes(e),onChange:k,className:"mr-2",title:"please check atleast one box to move futher"}),e]},e)))}),f.academic_qual&&oe.jsx("span",{className:"text-red-500 text-xs",children:f.academic_qual})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"address",className:"block font-bold  text-xs mb-2",children:["Address ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:240,id:"address",name:"address",value:c.address,onChange:k,required:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),f.address&&oe.jsx("span",{className:"text-red-500 text-xs",children:f.address})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"name",className:"block font-bold  text-xs mb-2",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:60,id:"name",name:"name",pattern:"^[^\\d].*",title:"Name should not start with a number",required:!0,value:c.name,placeholder:"Name",onChange:k,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),f.name&&oe.jsx("span",{className:"text-red-500 text-xs",children:f.name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"trained",className:"block font-bold  text-xs mb-2",children:["Training Status ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"trained",name:"trained",value:c.trained,onChange:k,required:!0,title:"Please enter Training Status ",className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"})," ",oe.jsx("option",{value:"Trained-PGT",children:"Trained-PGT"}),oe.jsx("option",{value:"Trained-TGT",children:"Trained-TGT"})," ",oe.jsx("option",{value:"Trained-PRT",children:"Trained-PRT"}),oe.jsx("option",{value:"NTT",children:"NTT"}),oe.jsx("option",{value:"ECCE",children:"ECCE"}),oe.jsx("option",{value:"Untrained",children:"Untrained"}),oe.jsx("option",{value:"NA",children:"NA"})]})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"phone",className:"block font-bold  text-xs mb-2",children:["Phone ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex ",children:[oe.jsx("span",{className:" rounded-l-md pt-1 bg-gray-200 text-black font-bold px-2 pointer-events-none ml-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",name:"phone",pattern:"\\d{10}",maxLength:"10",title:"Please enter only 10 digit number ",value:c.phone,onChange:k,className:"input-field block w-full border border-gray-300 outline-none  rounded-r-md py-1 px-3 bg-white shadow-inner ",required:!0})]}),v.phone&&oe.jsx("span",{className:"error",children:v.phone[0]}),f.phone&&oe.jsx("span",{className:"text-red-500 text-xs",children:f.phone})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"birthday",className:"block font-bold  text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"birthday",max:"2006-12-31",name:"birthday",value:c.birthday,onChange:k,required:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),f.birthday&&oe.jsx("span",{className:"text-red-500 text-xs",children:f.birthday})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"experience",className:"block font-bold  text-xs mb-2",children:["Experience ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",maxLength:2,id:"experience",name:"experience",value:c.experience,placeholder:"in year",onChange:k,required:!0,title:"Only enter digits in year like 1 or 5",className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold  text-xs mb-2",children:["Email ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"email",maxLength:51,id:"email",name:"email",value:c.email,onChange:k,required:!0,title:"Please enter a valid email address that ends with @gmail.com",className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),v.email&&oe.jsx("span",{className:"error text-red-500 text-xs",children:v.email[0]}),f.email&&oe.jsx("span",{className:"error text-red-500 text-xs",children:f.email})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Date of Joining ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",max:w,name:"date_of_joining",value:c.date_of_joining,onChange:k,required:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),f.date_of_joining&&oe.jsx("span",{className:"text-red-500 text-xs",children:f.date_of_joining})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"sex",className:"block font-bold  text-xs mb-2",children:["Gender ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"sex",name:"sex",value:c.sex,onChange:k,required:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select Gender"}),oe.jsx("option",{value:"male",children:"Male"}),oe.jsx("option",{value:"female",children:"Female"}),oe.jsx("option",{value:"other",children:"Other"})]}),f.sex&&oe.jsx("span",{className:"text-red-500 text-xs",children:f.sex})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsx("label",{htmlFor:"class_teacher_of",className:"block font-bold  text-xs mb-2",children:"Class teacher of"}),oe.jsx("input",{type:"text",id:"class_teacher_of",name:"class_teacher_of",readOnly:!0,value:c.class_teacher_of,onChange:k,className:"input-field bg-gray-200  no-underline block w-full border border-gray-300 rounded-md py-1 px-3 shadow-inner"})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"designation",className:"block font-bold  text-xs mb-2",children:["Designation ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,id:"designation",name:"designation",value:c.designation,onChange:k,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),f.designation&&oe.jsx("span",{className:"text-red-500 text-xs",children:f.designation})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"blood_group",className:"block font-bold  text-xs mb-2",children:"Blood Group"}),oe.jsxs("select",{id:"blood_group",name:"blood_group",value:c.blood_group,onChange:k,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"})]})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"aadhar_card_no",className:"block font-bold  text-xs mb-2",children:["Aadhaar Card No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:12,id:"aadhar_card_no",name:"aadhar_card_no",value:c.aadhar_card_no,pattern:"\\d{12}",title:"Aadhaar Card Number must be exactly 12 digits number ",onChange:k,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),v.aadhar_card_no&&oe.jsx("span",{className:"text-red-500 text-xs",children:v.aadhar_card_no[0]}),f.aadhar_card_no&&oe.jsx("span",{className:"text-red-500 text-xs",children:f.aadhar_card_no})]}),oe.jsx("div",{children:oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"professional_qual",className:"block font-bold  text-xs mb-2",children:"Professional Qualification"}),oe.jsxs("select",{id:"professional_qual",name:"professional_qual",value:c.professional_qual,onChange:k,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"D.Ed",children:"D.Ed"}),oe.jsx("option",{value:"B.Ed",children:"B.Ed"}),oe.jsx("option",{value:"B.P.Ed",children:"B.P.Ed"}),oe.jsx("option",{value:"M.P.Ed",children:"M.P.Ed"}),oe.jsx("option",{value:"M.Ed",children:"M.Ed"}),oe.jsx("option",{value:"NA",children:"NA"})]})]})}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold  text-xs mb-2",children:"Religion"}),oe.jsxs("select",{id:"religion",name:"religion",value:c.religion,onChange:k,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"})," ",oe.jsx("option",{value:"Hindu",children:"Hindu"}),oe.jsx("option",{value:"Christian",children:"Christian"})," ",oe.jsx("option",{value:"Muslim",children:"Muslim"}),oe.jsx("option",{value:"Sikh",children:"Sikh"}),oe.jsx("option",{value:"Jain",children:"Jain"}),oe.jsx("option",{value:"Buddhist",children:"Buddhist"}),oe.jsx("option",{value:"NA",children:"NA"})]})]}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"employee_id",className:"block font-bold  text-xs mb-2",children:["Employee ID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:5,id:"employee_id",name:"employee_id",value:c.employee_id,onChange:k,required:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),f.employee_id&&oe.jsx("span",{className:"text-red-500 text-xs",children:f.employee_id}),oe.jsx("span",{className:"text-red-500 text-xs",children:i})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"special_sub",className:"block font-bold  text-xs mb-2",children:"Special Subject"}),oe.jsx("input",{type:"text",maxLength:30,id:"special_sub",name:"special_sub",value:c.special_sub,onChange:k,placeholder:"Special Subject for D.Ed/B.Ed",className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"})]})]}),oe.jsxs("div",{className:"col-span-3 space-x-2 md:mr-9 my-2 text-right",children:[oe.jsx("button",{type:"submit",style:{backgroundColor:"#2196F3"},className:" text-white font-bold py-1 border-1 border-blue-500 px-4 rounded",children:"Update"}),oe.jsx("button",{onClick:()=>{t("/StaffList")},className:" text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})]})]})})]})]})}function Oae(){const e=sm(),t=rm(),{staff:a}=t.state||{},[r,n]=Q.useState({employee_id:"",name:"",father_spouse_name:"",birthday:"",date_of_joining:"",sex:"",religion:"",blood_group:"",address:"",phone:"",email:"",designation:"",academic_qual:[],professional_qual:"",special_sub:"",trained:"",experience:"",aadhar_card_no:"",teacher_image_name:null,user_id:""}),[s,l]=Q.useState(null);return Q.useEffect((()=>{const t=localStorage.getItem("authToken");t?Uf.get(`https://sms.evolvu.in/public/api/teachers/${null==a?void 0:a.teacher_id}`,{headers:{Authorization:`Bearer ${t}`}}).then((e=>{const t=e=>{if(!e)return"";const t=new Date(e);return new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t)},a=e.data.teacher||{},s=e.data.user||{},o=s&&s.role_id&&{A:"Admin",B:"Bus",E:"Data Entry",F:"Finance",L:"Librarian",M:"Management",N:"Printer",O:"Owner",R:"Support",T:"Teacher",X:"Support Staff",Y:"Security",P:"Principle"}[s.role_id.toUpperCase()]||"Unknown";n({employee_id:a.employee_id||"",name:a.name||"",father_spouse_name:a.father_spouse_name||"",birthday:t(a.birthday),date_of_joining:t(a.date_of_joining),sex:(null==a?void 0:a.sex)||"",religion:a.religion||"",blood_group:a.blood_group||"",address:a.address||"",phone:a.phone||"",email:a.email||"",designation:a.designation||"",academic_qual:a.academic_qual?a.academic_qual.split(","):[],professional_qual:a.professional_qual||"",special_sub:a.special_sub||"",trained:a.trained||"",experience:a.experience||0,aadhar_card_no:a.aadhar_card_no||"",teacher_image_name:a.teacher_image_name||null,role_id:s.role_id||null,user_id:null!==s.user_id?s.user_id:"",role_name:o}),console.log("role_name",r.role_name),a.teacher_image_name&&l(`${null==a?void 0:a.teacher_image_name}`)})).catch((e=>{e.response&&401===e.response.status?console.log("Unauthorized:",e.response):hp.error("An error occurred while fetching teacher data.")})):e("/login")}),[null==a?void 0:a.teacher_id,e]),console.log("staff",a),console.log("formData_teacher_image---\x3e",r.teacher_image),console.log("teacherImgfrom API:--\x3e",s),oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mx-auto p-4",children:oe.jsxs("div",{className:"card p-4 rounded-md",children:[oe.jsxs("div",{className:"card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"View Staff Details"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{e("/StaffList")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"md:mx-5 overflow-x-hidden shadow-md p-2 bg-gray-50",children:[oe.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-3 md:gap-x-14 md:mx-10 ",children:[oe.jsx("div",{className:"mx-auto",children:oe.jsxs("label",{htmlFor:"teacher_image_name",className:"block font-bold text-xs mb-2",children:["Photo",s?oe.jsx("img",{src:s,alt:"Photo Preview",className:"h-20 w-20 rounded-[50%] mx-auto border-1 border-black object-cover"}):oe.jsx(ah,{className:"mt-2 h-20 w-20 object-cover mx-auto text-gray-300"})]})}),oe.jsxs("div",{className:"col-span-1",children:[oe.jsx("label",{htmlFor:"academic_qual",className:"block font-bold text-xs mb-2",children:"Academic Qualification"}),oe.jsx("div",{className:"flex flex-wrap",children:r.academic_qual.map((e=>oe.jsx("span",{className:"mr-4 text-sm font-md",children:e},e)))})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"address",className:"block font-bold text-xs mb-2",children:"Address"}),oe.jsx("p",{className:"input-field resize h-[70%]  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:r.address})]})]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-4 ",children:[[{label:"Employee ID",name:"employee_id"},{label:"Name",name:"name"},{label:"Father/Spouse Name",name:"father_spouse_name"},{label:"Date of Birth",name:"birthday"},{label:"Date of Joining",name:"date_of_joining"},{label:"Gender",name:"sex"},{label:"Religion",name:"religion"},{label:"Blood Group",name:"blood_group"},{label:"Phone",name:"phone"},{label:"Email",name:"email"},{label:"Designation",name:"designation"},{label:"Professional Qualification",name:"professional_qual"},{label:"Special Subject",name:"special_sub"},{label:"Trained",name:"trained"},{label:"Experience",name:"experience"},{label:"Aadhar Card Number",name:"aadhar_card_no"},{label:"Role",name:"role_name"}].map((e=>oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:e.name,className:"block font-bold text-xs py-1",children:e.label}),r[e.name]?oe.jsx("p",{className:"input-field w-full border  border-gray-300 rounded-md py-1 px-3 bg-gray-300 ",children:e.value||r[e.name]}):oe.jsx("p",{className:"input-field w-full  border pointer-events-none cursor-none border-gray-300 rounded-md py-3 px-3 bg-gray-300 ",children:e.value||r[e.name]})]},e.name))),oe.jsxs("div",{className:"col-span-1",children:[oe.jsxs("label",{htmlFor:"experience",className:"block font-bold  text-xs mb-1 mt-1",children:["User ID"," "]}),oe.jsx("input",{type:"text",name:"User_id",value:r.user_id,readOnly:!0,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3  shadow-inner outline-none bg-gray-300"})]}),oe.jsx("div",{className:"  col-span-3   text-right space-x-4",children:oe.jsx("button",{onClick:()=>{e("/StaffList")},className:" text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})})]})]})]})})]})}function Dae(){const[e,t]=Q.useState([]),[a,r]=Q.useState(!0),[n,s]=Q.useState(null),[l,o]=Q.useState(""),[i,d]=Q.useState(0),[c,u]=Q.useState(0),m=10,h=sm(),f=rm();Q.useState(!1);const x=Q.useRef(0),g=Q.useRef("");Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get("https://sms.evolvu.in/public/api/show_roles",{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});t(a.data),u(Math.ceil(a.data.length/m))}catch(e){s(e.message)}finally{r(!1)}}))})()}),[]),Q.useEffect((()=>{const e=new URLSearchParams(f.search).get("message");e&&hp.success(e)}),[f.search]),Q.useEffect((()=>{const e=l.trim().toLowerCase();""!==e&&""===g.current&&(x.current=i,d(0)),""===e&&""!==g.current&&d(x.current),g.current=e}),[l]);const b=l.trim().toLowerCase(),v=e.filter((e=>[null==e?void 0:e.name,null==e?void 0:e.role_id,null==e?void 0:e.is_active].some((e=>null==e?void 0:e.toString().toLowerCase().includes(b)))));Q.useEffect((()=>{u(Math.ceil(v.length/m))}),[v,m]);const y=v.slice(i*m,(i+1)*m);return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"card-header flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Role Access"}),oe.jsx("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>o(e.target.value)})})})]}),oe.jsx("div",{className:" relative w-[97%]  -top-0.5 mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full md:w-[70%] mx-auto ",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:" w-full md:w-[13%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"S.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Role Name"}),oe.jsx("th",{className:" w-full md:w-[30%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Manage Role Access"})]})}),oe.jsx("tbody",{children:a?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):y.length?y.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:i*m+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:e.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{h(`/manageRoleAccess/${e.role_id}`)})(e),children:oe.jsx(zM,{icon:HM})})})]},e.id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:"flex justify-center mt-4",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:c,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:e=>{d(e.selected)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",previousClassName:"page-item",nextClassName:"page-item",pageClassName:"page-item",breakClassName:"page-item",previousLinkClassName:"page-link",nextLinkClassName:"page-link",pageLinkClassName:"page-link",breakLinkClassName:"page-link"})})]})]})})]})}function Aae(){var e,t,a,r,n,s,l;const o="https://sms.evolvu.in/public",[i,d]=Q.useState([]),[c,h]=Q.useState(!0),[f,x]=Q.useState(null),[g,b]=Q.useState(!1),[v,y]=Q.useState(!1),[w,j]=Q.useState(!1),[N,_]=Q.useState(null),[S,k]=Q.useState(""),[C,E]=Q.useState(""),[T,O]=Q.useState(""),[D,A]=Q.useState(0),[P,M]=Q.useState("A"),[L,I]=Q.useState(!1),[F,R]=Q.useState(0),[$,B]=Q.useState({}),z=Q.useRef(0),U=Q.useRef(""),H=10,[W,Y]=Q.useState(!1),[q,V]=Q.useState(null),G=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const t=yield Uf.get(`${o}/api/roles`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});d(t.data.data),R(Math.ceil(t.data.data.length/H))}catch(e){x(e.message)}finally{h(!1)}}));Q.useEffect((()=>{G()}),[]);const K=()=>{Y(!1),B({}),x(null),b(!1),y(!1),j(!1),k(""),E(""),M(""),_(null)},X=(e,t)=>{const a={};return t&&""!==t.trim()||(a.role_id="Role ID is required."),e&&""!==e.trim()?/^[A-Za-z0-9 ]+$/.test(e)?e.length>30&&(a.rolename="Role Name must not exceed 30 characters."):a.rolename="Role Name can only contain letters, numbers, and spaces.":a.rolename="Role Name is required.",a},J=e=>{const t=e.target.value;E(t),B((e=>m(u({},e),{role_id:X(S,t).role_id})))},Z=e=>{const t=e.target.value;k(t),B((e=>m(u({},e),{rolename:X(t,C).rolename})))};Q.useEffect((()=>{const e=T.trim().toLowerCase();""!==e&&""===U.current&&(z.current=D,A(0)),""===e&&""!==U.current&&A(z.current),U.current=e}),[T]);const ee=T.trim().toLowerCase(),te=i.filter((e=>[null==e?void 0:e.name,null==e?void 0:e.role_id,null==e?void 0:e.is_active].some((e=>null==e?void 0:e.toString().toLowerCase().includes(ee)))));Q.useEffect((()=>{R(Math.ceil(te.length/H))}),[te,H]);const ae=te.slice(D*H,(D+1)*H);return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"card-header flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Roles"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>O(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{b(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]  -top-0.5 mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"w-full md:w-[11%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Role Name"}),oe.jsx("th",{className:"w-full md:w-[11%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Role Id"}),oe.jsx("th",{className:"w-full md:w-[11%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Active"}),oe.jsx("th",{className:"w-full md:w-[11%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"w-full md:w-[11%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:c?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):ae.length?ae.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:D*H+t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.role_id})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm hover:bg-none",children:oe.jsx("button",{onClick:()=>(e=>{console.log("handleActiveAndInactive--\x3e",e.role_id);const t=i.find((t=>t.role_id===e.role_id));V({studentToActiveOrDeactive:t}),console.log("studentToActiveOrDeactive",t),Y(!0)})(e),className:"  font-bold hover:bg-none "+("Y"===(null==e?void 0:e.is_active)?"text-green-600 hover:text-green-800 hover:bg-transparent":"text-red-700 hover:text-red-900  hover:bg-transparent"),children:"Y"===(null==e?void 0:e.is_active)?oe.jsx(Vm,{className:"text-xl"}):oe.jsx(zM,{icon:JM,className:"text-xl"})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{_(e),k(e.name),E(null==e?void 0:e.role_id),M(null==e?void 0:e.is_active),y(!0)})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{console.log("fdh");const t=i.find((t=>t.role_id===e));_({roleToDelete:t}),j(!0)})(e.role_id),className:"text-red-600 hover:text-red-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:VM})})})]},e.id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:"flex justify-center mt-4",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:F,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{A(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),g&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between px-3 py-2",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Role"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:K})]}),oe.jsx("div",{className:" relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body w-full md:w-[90%] mx-auto  ",children:[oe.jsxs("div",{className:"  relative -top-1 flex justify-center  mx-2",children:[oe.jsxs("label",{htmlFor:"roleName",className:"w-1/2 mt-2",children:["Role Name",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-3 ",id:"roleName",value:S,onChange:Z}),oe.jsx("div",{className:"absolute  top-9 left-1/3",children:$.rolename&&oe.jsx("span",{className:"text-danger text-xs",children:$.rolename})})]}),oe.jsxs("div",{className:"  relative  flex justify-center  mx-2",children:[oe.jsxs("label",{htmlFor:"role_id",className:"w-1/2 mt-2",children:["Role ID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",className:"form-control shadow-md mb-3",id:"role_id",maxLength:2,value:C,onChange:J}),oe.jsx("div",{className:"absolute  top-9 left-1/3",children:$.role_id&&oe.jsx("span",{className:"text-danger text-xs",children:$.role_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",onClick:()=>p(this,null,(function*(){var e,t;if(L)return;I(!0);const a=X(S,C);if(Object.keys(a).length>0)return B(a),void I(!1);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");yield Uf.post(`${o}/api/roles`,{rolename:S,role_id:C},{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),G(),K(),hp.success("Role added successfully!")}catch(r){if(console.error("Error adding role:",r),null==(t=null==(e=r.response)?void 0:e.data)?void 0:t.errors){const e=r.response.data.errors,t={};e.role_id&&(t.role_id=e.role_id[0]),e.rolename&&(t.rolename=e.rolename[0]),B(t)}else hp.error("Error adding role.")}finally{I(!1)}})),disabled:L,children:L?"Adding...":"Add"})})]})})})}),v&&N&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between px-3 py-2",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Role"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:K})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body w-full md:w-[90%] mx-auto",children:[oe.jsxs("div",{className:"relative flex justify-center mx-2",children:[oe.jsxs("label",{htmlFor:"roleName",className:"w-1/2 mt-2",children:["Role Name",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-4",id:"roleName",value:S,onChange:Z}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:$.rolename&&oe.jsx("span",{className:"text-danger text-xs",children:$.rolename})})]}),oe.jsxs("div",{className:"relative flex justify-center mx-2",children:[oe.jsxs("label",{htmlFor:"role_id",className:"w-1/2 mt-2",children:["Role ID",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:2,className:"form-control shadow-md mb-3",id:"role_id",value:C,onChange:J}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:$.role_id&&oe.jsx("span",{className:"text-danger text-xs",children:$.role_id})})]})]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){var e,t,a;if(L)return;I(!0);const r=X(S,C);if(Object.keys(r).length>0)return B(r),void I(!1);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");yield Uf.put(`${o}/api/roles/${N.role_id}`,{rolename:S,role_id:C},{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),G(),K(),hp.success("Role updated successfully!")}catch(n){console.error("Error editing role:",n);const r=null==(e=n.response)?void 0:e.data;if((null==r?void 0:r.errors)||(null==r?void 0:r.message)){const e={};(null==(t=r.errors)?void 0:t.rolename)&&(e.rolename=r.errors.rolename[0]),(null==(a=r.errors)?void 0:a.role_id)&&(e.role_id=r.errors.role_id[0]),"Role cannot be deactivated as it is being used in another table."===r.message&&(e.is_active="Role can not be deactivated as it's being used."),B((t=>u(u({},t),e)))}else hp.error("Error updating role.")}finally{I(!1)}})),disabled:L,children:L?"Updating...":"Update"})})]})})})}),W&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Y"===(null==(e=null==q?void 0:q.studentToActiveOrDeactive)?void 0:e.is_active)?"Confirm Deactive":"Confirm Active"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:K}),console.log("the currecnt section inside activate or not of the managesubjhect",q)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:"Y"===(null==(t=null==q?void 0:q.studentToActiveOrDeactive)?void 0:t.is_active)?`Are you sure you want to deactive this role ${null==(a=null==q?void 0:q.studentToActiveOrDeactive)?void 0:a.name}?`:`Are you sure you want to active this role ${null==(r=null==q?void 0:q.studentToActiveOrDeactive)?void 0:r.name}?`}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){var e,t,a,r;if(!L){I(!0);try{const n=localStorage.getItem("authToken");if(console.log("the classes inside the delete",null==(e=null==q?void 0:q.studentToActiveOrDeactive)?void 0:e.role_id),!n||!q||!(null==(t=null==q?void 0:q.studentToActiveOrDeactive)?void 0:t.role_id))throw new Error("Role ID is missing");const s=yield Uf.put(`${o}/api/update_activeinactiverole/${null==(a=null==q?void 0:q.studentToActiveOrDeactive)?void 0:a.role_id}`,{},{headers:{Authorization:`Bearer ${n}`}});G(),Y(!1),hp.success(null==(r=null==s?void 0:s.data)?void 0:r.message)}catch(n){n.response&&n.response.data?hp.error(`Error: ${n.response.data.message}`):hp.error(`Error in active or deactive roles: ${n.message}`),console.error("Error in active or deactive roles:",n)}finally{I(!1),Y(!1)}}})),disabled:L,children:L?"Y"===(null==(n=null==q?void 0:q.studentToActiveOrDeactive)?void 0:n.is_active)?"Deactivating...":"Activating...":"Y"===(null==(s=null==q?void 0:q.studentToActiveOrDeactive)?void 0:s.is_active)?"Deactive":"Active"})})]})})})}),w&&N&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:K}),console.log("Delete--\x3e",N)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this role"," ",` ${null==(l=null==N?void 0:N.roleToDelete)?void 0:l.name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var e,t,a;if(!L){I(!0);try{const t=localStorage.getItem("authToken");if(!t||!(null==(e=null==N?void 0:N.roleToDelete)?void 0:e.role_id))throw new Error("Role ID is missing");yield Uf.delete(`${o}/api/roles/${N.roleToDelete.role_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),G(),j(!1),_(null),hp.success("Role deleted successfully!")}catch(r){console.error("Error deleting role:",r);const e=null==(a=null==(t=null==r?void 0:r.response)?void 0:t.data)?void 0:a.message;e?hp.error(e):hp.error("Error deleting role."),x(r.message)}finally{I(!1),j(!1)}}})),disabled:L,children:L?"Deleting...":"Delete"})})]})})})})]})}function Pae(){const{roleId:e}=om(),t="https://sms.evolvu.in/public",[a,r]=Q.useState({}),n=sm(),[s,l]=Q.useState([]),[o,i]=Q.useState(new Set),[d,c]=Q.useState(!0),[u,m]=Q.useState(null),[h,f]=Q.useState(""),[x,g]=Q.useState(0),[b,v]=Q.useState(0),y=Q.useRef(0),w=Q.useRef(""),[j,N]=Q.useState(!1);Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");const n=yield Uf.get(`${t}/api/show_access/${e}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});console.log("roleid in the access role",e),r(n.data.role),l(n.data.menuList),i(new Set(n.data.assignedMenuIds))}catch(a){m(a.message)}finally{c(!1)}}))})()}),[e]);const _=r=>p(this,null,(function*(){var s,l,i;if(r.preventDefault(),!j)if(0!==o.size){N(!0);try{const r=localStorage.getItem("authToken");if(!r)throw new Error("No authentication token found");yield Uf.post(`${t}/api/update_access/${e}`,{role_id:null!=(s=null==a?void 0:a.id)?s:e,menu_ids:Array.from(o)},{headers:{Authorization:`Bearer ${r}`},withCredentials:!0}),hp.success("Access updated successfully!"),n("/manageRoleAccess")}catch(d){if(console.error("Submission error:",d),null==(i=null==(l=d.response)?void 0:l.data)?void 0:i.errors){const e=d.response.data.errors;Object.values(e).flat().forEach((e=>{hp.error(e)}))}else hp.error(`Error: ${d.message}`)}finally{N(!1)}}else hp.error("Please select at least one menu.")}));Q.useEffect((()=>{v(Math.ceil(k.length/10))}),[s,h]);const S=h.trim().toLowerCase(),k=s.filter((e=>{var t;return(null==(t=e.name)?void 0:t.toLowerCase().includes(S))||String(e.menu_id).includes(S)})),C=k.slice(10*x,10*(x+1));return Q.useEffect((()=>{""!==S&&""===w.current&&(y.current=x,g(0)),""===S&&""!==w.current&&g(y.current),w.current=S}),[h]),oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"card-header flex justify-between items-center",children:[oe.jsxs("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:["Role-Based Access For"," ",oe.jsx("span",{className:"text-pink-500 font-semibold border-b-2 border-gray-50 hover:border-pink-500 hover:text-pink-600 cursor-pointer ",children:(null==a?void 0:a.name)||" "})," "," Menu Permissions"]}),oe.jsx(sh,{className:"text-xl  text-red-600 hover:cursor-pointer",onClick:()=>n("/manageRoleAccess")})]}),oe.jsx("div",{className:"w-[97%] h-1 mx-auto ",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full md:w-[85%] mx-auto",children:[oe.jsxs("div",{className:"flex flex-row w-full justify-end items-center gap-2 relative top-2",children:[oe.jsx("h5",{className:" w-[50%] text-center text-blue-500 ",children:"List of Accessible Menu Items"}),oe.jsx("div",{className:"mb-3",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",value:h,onChange:e=>f(e.target.value)})})]}),d?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsxs("form",{onSubmit:_,children:[oe.jsxs("div",{className:"h-[400px] overflow-y-scroll",children:[oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200 ",children:[oe.jsx("th",{className:"pb-4 w-full md:w-[15%] text-center px-3 border border-gray-950 text-sm font-bold ",children:"Menu ID"}),oe.jsx("th",{className:" pb-4 text-center px-3  border border-gray-950 text-sm font-bold",children:"Menu Name"}),oe.jsx("th",{className:" w-full md:w-[20%] text-center px-3 border border-gray-950 text-sm font-bold ",children:oe.jsxs("div",{className:"form-check flex space-y-2 relative   ",children:[oe.jsx("label",{htmlFor:"select_all",className:"form-check-label  relative right-3 ",children:"Select All"}),oe.jsxs("label",{className:"relative right-3  items-center cursor-pointer",children:[oe.jsx("input",{type:"checkbox",id:"select_all",className:"sr-only peer",onChange:e=>{e.target.checked?i(new Set(s.map((e=>e.menu_id)))):i(new Set)},checked:C.length>0&&C.every((e=>o.has(e.menu_id)))}),oe.jsx("div",{className:"w-9 h-5 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer-checked:bg-blue-600 transition-all duration-300"}),oe.jsx("span",{className:"absolute left-0.5 top-0.5 w-4 h-4 bg-white rounded-full transition-all duration-300 transform peer-checked:translate-x-full"})]})]})})]})}),oe.jsx("tbody",{children:C.map(((e,t)=>oe.jsxs("tr",{className:`  ${t%2==0?"bg-white":"bg-gray-100"} hover:bg-gray-50`,children:[oe.jsx("td",{className:"text-center px-3 py-2 border border-gray-950 text-sm",children:e.menu_id}),oe.jsx("td",{className:"text-center px-3 py-2 border border-gray-950 text-sm",style:{fontWeight:0===e.parent_id?"900":"normal",color:0===e.parent_id?"gray":"normal",paddingLeft:0!==e.parent_id?"30px":"12px"},children:e.name}),oe.jsx("td",{className:"text-center px-3 py-2 border border-gray-950 text-sm",children:oe.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[oe.jsx("input",{type:"checkbox",className:"sr-only peer",checked:o.has(e.menu_id),onChange:()=>{return t=e.menu_id,void i((e=>{const a=new Set(e);return a.has(t)?a.delete(t):a.add(t),a}));var t}}),oe.jsx("div",{className:"w-9 h-5 bg-gray-300 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer dark:bg-gray-700 peer-checked:bg-blue-600 transition-all duration-300"}),oe.jsx("span",{className:"absolute left-0.5 top-0.5 w-4 h-4 bg-white rounded-full transition-all duration-300 transform peer-checked:translate-x-full"})]})})]},e.menu_id)))})]})," "]}),oe.jsxs("div",{className:"flex justify-between items-center px-3 mt-4 flex-wrap",children:[oe.jsx("div",{className:"flex-grow flex justify-center order-1 md:order-none w-full md:w-auto mb-2 md:mb-0",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:b,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{g(e.selected)},containerClassName:"pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",previousLinkClassName:"page-link",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link"})}),oe.jsx("div",{className:"order-2 md:order-none relative -top-4",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3",onClick:_,disabled:j,children:j?"Updating...":"Update"})})]})]})]})]})})]})}function Mae(e){return(Mae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lae(e){var t=function(e,t){if("object"!=Mae(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=Mae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Mae(t)?t:t+""}function Iae(e,t,a){return(t=Lae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Fae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Rae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fae(Object(a),!0).forEach((function(t){Iae(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Bae(e,t){if(e){if("string"==typeof e)return $ae(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?$ae(e,t):void 0}}function zae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,s,l,o=[],i=!0,d=!1;try{if(s=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(r=s.call(a)).done)&&(o.push(r.value),o.length!==t);i=!0);}catch(c){d=!0,n=c}finally{try{if(!i&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}(e,t)||Bae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uae(e,t){if(null==e)return{};var a,r,n=zg(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var Hae=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Wae(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lae(r.key),r)}}function Yae(e){return(Yae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qae=function(){return!!e})()}function Vae(e){var t=qae();return function(){var a,r=Yae(e);if(t){var n=Yae(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){if(t&&("object"===Mae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vC(e)}(this,a)}}function Gae(e){return function(e){if(Array.isArray(e))return $ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bae(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Kae=function(){function e(e){var t=this;this._insertTag=function(e){var a;a=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,a),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{a.insertRule(e,a.cssRules.length)}catch(mMe){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Xae="-ms-",Qae="-moz-",Jae="-webkit-",Zae="comm",ere="rule",tre="decl",are="@keyframes",rre=Math.abs,nre=String.fromCharCode,sre=Object.assign;function lre(e){return e.trim()}function ore(e,t,a){return e.replace(t,a)}function ire(e,t){return e.indexOf(t)}function dre(e,t){return 0|e.charCodeAt(t)}function cre(e,t,a){return e.slice(t,a)}function ure(e){return e.length}function mre(e){return e.length}function hre(e,t){return t.push(e),e}var fre=1,pre=1,xre=0,gre=0,bre=0,vre="";function yre(e,t,a,r,n,s,l){return{value:e,root:t,parent:a,type:r,props:n,children:s,line:fre,column:pre,length:l,return:""}}function wre(e,t){return sre(yre("",null,null,"",null,null,0),e,{length:-e.length},t)}function jre(){return bre=gre<xre?dre(vre,gre++):0,pre++,10===bre&&(pre=1,fre++),bre}function Nre(){return dre(vre,gre)}function _re(){return gre}function Sre(e,t){return cre(vre,e,t)}function kre(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Cre(e){return fre=pre=1,xre=ure(vre=e),gre=0,[]}function Ere(e){return vre="",e}function Tre(e){return lre(Sre(gre-1,Are(91===e?e+2:40===e?e+1:e)))}function Ore(e){for(;(bre=Nre())&&bre<33;)jre();return kre(e)>2||kre(bre)>3?"":" "}function Dre(e,t){for(;--t&&jre()&&!(bre<48||bre>102||bre>57&&bre<65||bre>70&&bre<97););return Sre(e,_re()+(t<6&&32==Nre()&&32==jre()))}function Are(e){for(;jre();)switch(bre){case e:return gre;case 34:case 39:34!==e&&39!==e&&Are(bre);break;case 40:41===e&&Are(e);break;case 92:jre()}return gre}function Pre(e,t){for(;jre()&&e+bre!==57&&(e+bre!==84||47!==Nre()););return"/*"+Sre(t,gre-1)+"*"+nre(47===e?e:jre())}function Mre(e){for(;!kre(Nre());)jre();return Sre(e,gre)}function Lre(e){return Ere(Ire("",null,null,null,[""],e=Cre(e),0,[0],e))}function Ire(e,t,a,r,n,s,l,o,i){for(var d=0,c=0,u=l,m=0,h=0,f=0,p=1,x=1,g=1,b=0,v="",y=n,w=s,j=r,N=v;x;)switch(f=b,b=jre()){case 40:if(108!=f&&58==dre(N,u-1)){-1!=ire(N+=ore(Tre(b),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:N+=Tre(b);break;case 9:case 10:case 13:case 32:N+=Ore(f);break;case 92:N+=Dre(_re()-1,7);continue;case 47:switch(Nre()){case 42:case 47:hre(Rre(Pre(jre(),_re()),t,a),i);break;default:N+="/"}break;case 123*p:o[d++]=ure(N)*g;case 125*p:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+c:-1==g&&(N=ore(N,/\f/g,"")),h>0&&ure(N)-u&&hre(h>32?$re(N+";",r,a,u-1):$re(ore(N," ","")+";",r,a,u-2),i);break;case 59:N+=";";default:if(hre(j=Fre(N,t,a,d,c,n,o,v,y=[],w=[],u),s),123===b)if(0===c)Ire(N,t,j,j,y,s,u,o,w);else switch(99===m&&110===dre(N,3)?100:m){case 100:case 108:case 109:case 115:Ire(e,j,j,r&&hre(Fre(e,j,j,0,0,n,o,v,n,y=[],u),w),n,w,u,o,r?y:w);break;default:Ire(N,j,j,j,[""],w,0,o,w)}}d=c=h=0,p=g=1,v=N="",u=l;break;case 58:u=1+ure(N),h=f;default:if(p<1)if(123==b)--p;else if(125==b&&0==p++&&125==(bre=gre>0?dre(vre,--gre):0,pre--,10===bre&&(pre=1,fre--),bre))continue;switch(N+=nre(b),b*p){case 38:g=c>0?1:(N+="\f",-1);break;case 44:o[d++]=(ure(N)-1)*g,g=1;break;case 64:45===Nre()&&(N+=Tre(jre())),m=Nre(),c=u=ure(v=N+=Mre(_re())),b++;break;case 45:45===f&&2==ure(N)&&(p=0)}}return s}function Fre(e,t,a,r,n,s,l,o,i,d,c){for(var u=n-1,m=0===n?s:[""],h=mre(m),f=0,p=0,x=0;f<r;++f)for(var g=0,b=cre(e,u+1,u=rre(p=l[f])),v=e;g<h;++g)(v=lre(p>0?m[g]+" "+b:ore(b,/&\f/g,m[g])))&&(i[x++]=v);return yre(e,t,a,0===n?ere:o,i,d,c)}function Rre(e,t,a){return yre(e,t,a,Zae,nre(bre),cre(e,2,-2),0)}function $re(e,t,a,r){return yre(e,t,a,tre,cre(e,0,r),cre(e,r+1,-1),r)}function Bre(e,t){for(var a="",r=mre(e),n=0;n<r;n++)a+=t(e[n],n,e,t)||"";return a}function zre(e,t,a,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case tre:return e.return=e.return||e.value;case Zae:return"";case are:return e.return=e.value+"{"+Bre(e.children,r)+"}";case ere:e.value=e.props.join(",")}return ure(a=Bre(e.children,r))?e.return=e.value+"{"+a+"}":""}var Ure=function(e,t,a){for(var r=0,n=0;r=n,n=Nre(),38===r&&12===n&&(t[a]=1),!kre(n);)jre();return Sre(e,gre)},Hre=function(e,t){return Ere(function(e,t){var a=-1,r=44;do{switch(kre(r)){case 0:38===r&&12===Nre()&&(t[a]=1),e[a]+=Ure(gre-1,t,a);break;case 2:e[a]+=Tre(r);break;case 4:if(44===r){e[++a]=58===Nre()?"&\f":"",t[a]=e[a].length;break}default:e[a]+=nre(r)}}while(r=jre());return e}(Cre(e),t))},Wre=new WeakMap,Yre=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,a=e.parent,r=e.column===a.column&&e.line===a.line;"rule"!==a.type;)if(!(a=a.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Wre.get(a))&&!r){Wre.set(e,!0);for(var n=[],s=Hre(t,n),l=a.props,o=0,i=0;o<s.length;o++)for(var d=0;d<l.length;d++,i++)e.props[i]=n[o]?s[o].replace(/&\f/g,l[d]):l[d]+" "+s[o]}}},qre=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Vre(e,t){switch(function(e,t){return 45^dre(e,0)?(((t<<2^dre(e,0))<<2^dre(e,1))<<2^dre(e,2))<<2^dre(e,3):0}(e,t)){case 5103:return Jae+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jae+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Jae+e+Qae+e+Xae+e+e;case 6828:case 4268:return Jae+e+Xae+e+e;case 6165:return Jae+e+Xae+"flex-"+e+e;case 5187:return Jae+e+ore(e,/(\w+).+(:[^]+)/,Jae+"box-$1$2"+Xae+"flex-$1$2")+e;case 5443:return Jae+e+Xae+"flex-item-"+ore(e,/flex-|-self/,"")+e;case 4675:return Jae+e+Xae+"flex-line-pack"+ore(e,/align-content|flex-|-self/,"")+e;case 5548:return Jae+e+Xae+ore(e,"shrink","negative")+e;case 5292:return Jae+e+Xae+ore(e,"basis","preferred-size")+e;case 6060:return Jae+"box-"+ore(e,"-grow","")+Jae+e+Xae+ore(e,"grow","positive")+e;case 4554:return Jae+ore(e,/([^-])(transform)/g,"$1"+Jae+"$2")+e;case 6187:return ore(ore(ore(e,/(zoom-|grab)/,Jae+"$1"),/(image-set)/,Jae+"$1"),e,"")+e;case 5495:case 3959:return ore(e,/(image-set\([^]*)/,Jae+"$1$`$1");case 4968:return ore(ore(e,/(.+:)(flex-)?(.*)/,Jae+"box-pack:$3"+Xae+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jae+e+e;case 4095:case 3583:case 4068:case 2532:return ore(e,/(.+)-inline(.+)/,Jae+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ure(e)-1-t>6)switch(dre(e,t+1)){case 109:if(45!==dre(e,t+4))break;case 102:return ore(e,/(.+:)(.+)-([^]+)/,"$1"+Jae+"$2-$3$1"+Qae+(108==dre(e,t+3)?"$3":"$2-$3"))+e;case 115:return~ire(e,"stretch")?Vre(ore(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==dre(e,t+1))break;case 6444:switch(dre(e,ure(e)-3-(~ire(e,"!important")&&10))){case 107:return ore(e,":",":"+Jae)+e;case 101:return ore(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jae+(45===dre(e,14)?"inline-":"")+"box$3$1"+Jae+"$2$3$1"+Xae+"$2box$3")+e}break;case 5936:switch(dre(e,t+11)){case 114:return Jae+e+Xae+ore(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Jae+e+Xae+ore(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Jae+e+Xae+ore(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Jae+e+Xae+e+e}return e}var Gre=[function(e,t,a,r){if(e.length>-1&&!e.return)switch(e.type){case tre:e.return=Vre(e.value,e.length);break;case are:return Bre([wre(e,{value:ore(e.value,"@","@"+Jae)})],r);case ere:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Bre([wre(e,{props:[ore(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Bre([wre(e,{props:[ore(t,/:(plac\w+)/,":"+Jae+"input-$1")]}),wre(e,{props:[ore(t,/:(plac\w+)/,":-moz-$1")]}),wre(e,{props:[ore(t,/:(plac\w+)/,Xae+"input-$1")]})],r)}return""}))}}],Kre=function(e){var t=e.key;if("css"===t){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,n,s=e.stylisPlugins||Gre,l={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),a=1;a<t.length;a++)l[t[a]]=!0;o.push(e)}));var i,d,c,u,m=[zre,(u=function(e){i.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=(d=[Yre,qre].concat(s,m),c=mre(d),function(e,t,a,r){for(var n="",s=0;s<c;s++)n+=d[s](e,t,a,r)||"";return n});n=function(e,t,a,r){i=a,Bre(Lre(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new Kae({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:n};return f.sheet.hydrate(o),f},Xre=nz,Qre={};Qre[Xre.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qre[Xre.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var Jre=function(e,t,a){var r=e.key+"-"+t.name;!1===a&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Zre={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ene=/[A-Z]|^ms/g,tne=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ane=function(e){return 45===e.charCodeAt(1)},rne=function(e){return null!=e&&"boolean"!=typeof e},nne=gL((function(e){return ane(e)?e:e.replace(ene,"-$&").toLowerCase()})),sne=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(tne,(function(e,t,a){return one={name:t,styles:a,next:one},t}))}return 1===Zre[e]||ane(e)||"number"!=typeof t||0===t?t:t+"px"};function lne(e,t,a){if(null==a)return"";if(void 0!==a.__emotion_styles)return a;switch(typeof a){case"boolean":return"";case"object":if(1===a.anim)return one={name:a.name,styles:a.styles,next:one},a.name;if(void 0!==a.styles){var r=a.next;if(void 0!==r)for(;void 0!==r;)one={name:r.name,styles:r.styles,next:one},r=r.next;return a.styles+";"}return function(e,t,a){var r="";if(Array.isArray(a))for(var n=0;n<a.length;n++)r+=lne(e,t,a[n])+";";else for(var s in a){var l=a[s];if("object"!=typeof l)rne(l)&&(r+=nne(s)+":"+sne(s,l)+";");else if(Array.isArray(l)&&"string"==typeof l[0]&&null==t)for(var o=0;o<l.length;o++)rne(l[o])&&(r+=nne(s)+":"+sne(s,l[o])+";");else{var i=lne(e,t,l);switch(s){case"animation":case"animationName":r+=nne(s)+":"+i+";";break;default:r+=s+"{"+i+"}"}}}return r}(e,t,a);case"function":if(void 0!==e){var n=one,s=a(e);return one=n,lne(e,t,s)}}return a}var one,ine=/label:\s*([^\s;\n{]+)\s*(;|$)/g,dne=function(e,t,a){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,n="";one=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,n+=lne(a,t,s)):n+=s[0];for(var l=1;l<e.length;l++)n+=lne(a,t,e[l]),r&&(n+=s[l]);ine.lastIndex=0;for(var o,i="";null!==(o=ine.exec(n));)i+="-"+o[1];var d=function(e){for(var t,a=0,r=0,n=e.length;n>=4;++r,n-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),a=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&a)+(59797*(a>>>16)<<16);switch(n){case 3:a^=(255&e.charCodeAt(r+2))<<16;case 2:a^=(255&e.charCodeAt(r+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(r)))+(59797*(a>>>16)<<16)}return(((a=1540483477*(65535&(a^=a>>>13))+(59797*(a>>>16)<<16))^a>>>15)>>>0).toString(36)}(n)+i;return{name:d,styles:n,next:one}},cne=!!Z.useInsertionEffect&&Z.useInsertionEffect||function(e){return e()},une={}.hasOwnProperty,mne=Q.createContext("undefined"!=typeof HTMLElement?Kre({key:"css"}):null);mne.Provider;var hne=function(e){return Q.forwardRef((function(t,a){var r=Q.useContext(mne);return e(t,r,a)}))},fne=Q.createContext({}),pne="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",xne=function(e){var t=e.cache,a=e.serialized,r=e.isStringTag;return Jre(t,a,r),cne((function(){return function(e,t,a){Jre(e,t,a);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var n=t;do{e.insert(t===n?"."+r:"",n,e.sheet,!0),n=n.next}while(void 0!==n)}}(t,a,r)})),null},gne=hne((function(e,t,a){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var n=e[pne],s=[r],l="";"string"==typeof e.className?l=function(e,t,a){var r="";return a.split(" ").forEach((function(a){void 0!==e[a]?t.push(e[a]+";"):r+=a+" "})),r}(t.registered,s,e.className):null!=e.className&&(l=e.className+" ");var o=dne(s,void 0,Q.useContext(fne));l+=t.key+"-"+o.name;var i={};for(var d in e)une.call(e,d)&&"css"!==d&&d!==pne&&(i[d]=e[d]);return i.ref=a,i.className=l,Q.createElement(Q.Fragment,null,Q.createElement(xne,{cache:t,serialized:o,isStringTag:"string"==typeof n}),Q.createElement(n,i))})),bne=gne,vne=function(e,t){var a=arguments;if(null==t||!une.call(t,"css"))return Q.createElement.apply(void 0,a);var r=a.length,n=new Array(r);n[0]=bne,n[1]=function(e,t){var a={};for(var r in t)une.call(t,r)&&(a[r]=t[r]);return a[pne]=e,a}(e,t);for(var s=2;s<r;s++)n[s]=a[s];return Q.createElement.apply(null,n)};function yne(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return dne(t)}const wne=Math.min,jne=Math.max,Nne=Math.round,_ne=Math.floor,Sne=e=>({x:e,y:e}),kne={left:"right",right:"left",bottom:"top",top:"bottom"},Cne={start:"end",end:"start"};function Ene(e,t){return"function"==typeof e?e(t):e}function Tne(e){return e.split("-")[0]}function One(e){return e.split("-")[1]}function Dne(e){return"y"===e?"height":"width"}function Ane(e){return["top","bottom"].includes(Tne(e))?"y":"x"}function Pne(e){return"x"===Ane(e)?"y":"x"}function Mne(e){return e.replace(/start|end/g,(e=>Cne[e]))}function Lne(e){return e.replace(/left|right|bottom|top/g,(e=>kne[e]))}function Ine(e){return"number"!=typeof e?function(e){return u({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Fne(e){const{x:t,y:a,width:r,height:n}=e;return{width:r,height:n,top:a,left:t,right:t+r,bottom:a+n,x:t,y:a}}function Rne(e,t,a){let{reference:r,floating:n}=e;const s=Ane(t),l=Pne(t),o=Dne(l),i=Tne(t),d="y"===s,c=r.x+r.width/2-n.width/2,u=r.y+r.height/2-n.height/2,m=r[o]/2-n[o]/2;let h;switch(i){case"top":h={x:c,y:r.y-n.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-n.width,y:u};break;default:h={x:r.x,y:r.y}}switch(One(t)){case"start":h[l]-=m*(a&&d?-1:1);break;case"end":h[l]+=m*(a&&d?-1:1)}return h}function $ne(){return"undefined"!=typeof window}function Bne(e){return Hne(e)?(e.nodeName||"").toLowerCase():"#document"}function zne(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Une(e){var t;return null==(t=(Hne(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Hne(e){return!!$ne()&&(e instanceof Node||e instanceof zne(e).Node)}function Wne(e){return!!$ne()&&(e instanceof Element||e instanceof zne(e).Element)}function Yne(e){return!!$ne()&&(e instanceof HTMLElement||e instanceof zne(e).HTMLElement)}function qne(e){return!(!$ne()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof zne(e).ShadowRoot)}function Vne(e){const{overflow:t,overflowX:a,overflowY:r,display:n}=Zne(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+a)&&!["inline","contents"].includes(n)}function Gne(e){return["table","td","th"].includes(Bne(e))}function Kne(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(mMe){return!1}}))}function Xne(e){const t=Qne(),a=Wne(e)?Zne(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!a[e]&&"none"!==a[e]))||!!a.containerType&&"normal"!==a.containerType||!t&&!!a.backdropFilter&&"none"!==a.backdropFilter||!t&&!!a.filter&&"none"!==a.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(a.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(a.contain||"").includes(e)))}function Qne(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Jne(e){return["html","body","#document"].includes(Bne(e))}function Zne(e){return zne(e).getComputedStyle(e)}function ese(e){return Wne(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tse(e){if("html"===Bne(e))return e;const t=e.assignedSlot||e.parentNode||qne(e)&&e.host||Une(e);return qne(t)?t.host:t}function ase(e){const t=tse(e);return Jne(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yne(t)&&Vne(t)?t:ase(t)}function rse(e,t,a){var r;void 0===t&&(t=[]),void 0===a&&(a=!0);const n=ase(e),s=n===(null==(r=e.ownerDocument)?void 0:r.body),l=zne(n);if(s){const e=function(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}(l);return t.concat(l,l.visualViewport||[],Vne(n)?n:[],e&&a?rse(e):[])}return t.concat(n,rse(n,[],a))}function nse(e){const t=Zne(e);let a=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const n=Yne(e),s=n?e.offsetWidth:a,l=n?e.offsetHeight:r,o=Nne(a)!==s||Nne(r)!==l;return o&&(a=s,r=l),{width:a,height:r,$:o}}function sse(e){return Wne(e)?e:e.contextElement}function lse(e){const t=sse(e);if(!Yne(t))return Sne(1);const a=t.getBoundingClientRect(),{width:r,height:n,$:s}=nse(t);let l=(s?Nne(a.width):a.width)/r,o=(s?Nne(a.height):a.height)/n;return l&&Number.isFinite(l)||(l=1),o&&Number.isFinite(o)||(o=1),{x:l,y:o}}const ose=Sne(0);function ise(e){const t=zne(e);return Qne()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:ose}function dse(e,t,a,r){void 0===t&&(t=!1),void 0===a&&(a=!1);const n=e.getBoundingClientRect(),s=sse(e);let l=Sne(1);t&&(r?Wne(r)&&(l=lse(r)):l=lse(e));const o=function(e,t,a){return void 0===t&&(t=!1),!(!a||t&&a!==zne(e))&&t}(s,a,r)?ise(s):Sne(0);let i=(n.left+o.x)/l.x,d=(n.top+o.y)/l.y,c=n.width/l.x,u=n.height/l.y;if(s){const e=zne(s),t=r&&Wne(r)?zne(r):r;let a=e,n=a.frameElement;for(;n&&r&&t!==a;){const e=lse(n),t=n.getBoundingClientRect(),r=Zne(n),s=t.left+(n.clientLeft+parseFloat(r.paddingLeft))*e.x,l=t.top+(n.clientTop+parseFloat(r.paddingTop))*e.y;i*=e.x,d*=e.y,c*=e.x,u*=e.y,i+=s,d+=l,a=zne(n),n=a.frameElement}}return Fne({width:c,height:u,x:i,y:d})}const cse=[":popover-open",":modal"];function use(e){return cse.some((t=>{try{return e.matches(t)}catch(mMe){return!1}}))}function mse(e){return dse(Une(e)).left+ese(e).scrollLeft}function hse(e,t,a){let r;if("viewport"===t)r=function(e,t){const a=zne(e),r=Une(e),n=a.visualViewport;let s=r.clientWidth,l=r.clientHeight,o=0,i=0;if(n){s=n.width,l=n.height;const e=Qne();(!e||e&&"fixed"===t)&&(o=n.offsetLeft,i=n.offsetTop)}return{width:s,height:l,x:o,y:i}}(e,a);else if("document"===t)r=function(e){const t=Une(e),a=ese(e),r=e.ownerDocument.body,n=jne(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=jne(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-a.scrollLeft+mse(e);const o=-a.scrollTop;return"rtl"===Zne(r).direction&&(l+=jne(t.clientWidth,r.clientWidth)-n),{width:n,height:s,x:l,y:o}}(Une(e));else if(Wne(t))r=function(e,t){const a=dse(e,!0,"fixed"===t),r=a.top+e.clientTop,n=a.left+e.clientLeft,s=Yne(e)?lse(e):Sne(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:n*s.x,y:r*s.y}}(t,a);else{const a=ise(e);r=m(u({},t),{x:t.x-a.x,y:t.y-a.y})}return Fne(r)}function fse(e,t){const a=tse(e);return!(a===t||!Wne(a)||Jne(a))&&("fixed"===Zne(a).position||fse(a,t))}function pse(e,t,a){const r=Yne(t),n=Une(t),s="fixed"===a,l=dse(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const i=Sne(0);if(r||!r&&!s)if(("body"!==Bne(t)||Vne(n))&&(o=ese(t)),r){const e=dse(t,!0,s,t);i.x=e.x+t.clientLeft,i.y=e.y+t.clientTop}else n&&(i.x=mse(n));return{x:l.left+o.scrollLeft-i.x,y:l.top+o.scrollTop-i.y,width:l.width,height:l.height}}function xse(e){return"static"===Zne(e).position}function gse(e,t){return Yne(e)&&"fixed"!==Zne(e).position?t?t(e):e.offsetParent:null}function bse(e,t){const a=zne(e);if(use(e))return a;if(!Yne(e)){let t=tse(e);for(;t&&!Jne(t);){if(Wne(t)&&!xse(t))return t;t=tse(t)}return a}let r=gse(e,t);for(;r&&Gne(r)&&xse(r);)r=gse(r,t);return r&&Jne(r)&&xse(r)&&!Xne(r)?a:r||function(e){let t=tse(e);for(;Yne(t)&&!Jne(t);){if(Xne(t))return t;if(Kne(t))return null;t=tse(t)}return null}(e)||a}const vse={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:a,offsetParent:r,strategy:n}=e;const s="fixed"===n,l=Une(r),o=!!t&&use(t.floating);if(r===l||o&&s)return a;let i={scrollLeft:0,scrollTop:0},d=Sne(1);const c=Sne(0),u=Yne(r);if((u||!u&&!s)&&(("body"!==Bne(r)||Vne(l))&&(i=ese(r)),Yne(r))){const e=dse(r);d=lse(r),c.x=e.x+r.clientLeft,c.y=e.y+r.clientTop}return{width:a.width*d.x,height:a.height*d.y,x:a.x*d.x-i.scrollLeft*d.x+c.x,y:a.y*d.y-i.scrollTop*d.y+c.y}},getDocumentElement:Une,getClippingRect:function(e){let{element:t,boundary:a,rootBoundary:r,strategy:n}=e;const s=[..."clippingAncestors"===a?use(t)?[]:function(e,t){const a=t.get(e);if(a)return a;let r=rse(e,[],!1).filter((e=>Wne(e)&&"body"!==Bne(e))),n=null;const s="fixed"===Zne(e).position;let l=s?tse(e):e;for(;Wne(l)&&!Jne(l);){const t=Zne(l),a=Xne(l);a||"fixed"!==t.position||(n=null),(s?!a&&!n:!a&&"static"===t.position&&n&&["absolute","fixed"].includes(n.position)||Vne(l)&&!a&&fse(e,l))?r=r.filter((e=>e!==l)):n=t,l=tse(l)}return t.set(e,r),r}(t,this._c):[].concat(a),r],l=s[0],o=s.reduce(((e,a)=>{const r=hse(t,a,n);return e.top=jne(r.top,e.top),e.right=wne(r.right,e.right),e.bottom=wne(r.bottom,e.bottom),e.left=jne(r.left,e.left),e}),hse(t,l,n));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:bse,getElementRects:function(e){return p(this,null,(function*(){const t=this.getOffsetParent||bse,a=this.getDimensions,r=yield a(e.floating);return{reference:pse(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}}))},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:a}=nse(e);return{width:t,height:a}},getScale:lse,isElement:Wne,isRTL:function(e){return"rtl"===Zne(e).direction}};function yse(e,t,a,r){void 0===r&&(r={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:i=!1}=r,d=sse(e),c=n||s?[...d?rse(d):[],...rse(t)]:[];c.forEach((e=>{n&&e.addEventListener("scroll",a,{passive:!0}),s&&e.addEventListener("resize",a)}));const h=d&&o?function(e,t){let a,r=null;const n=Une(e);function s(){var e;clearTimeout(a),null==(e=r)||e.disconnect(),r=null}return function l(o,i){void 0===o&&(o=!1),void 0===i&&(i=1),s();const{left:d,top:c,width:h,height:f}=e.getBoundingClientRect();if(o||t(),!h||!f)return;const p={rootMargin:-_ne(c)+"px "+-_ne(n.clientWidth-(d+h))+"px "+-_ne(n.clientHeight-(c+f))+"px "+-_ne(d)+"px",threshold:jne(0,wne(1,i))||1};let x=!0;function g(e){const t=e[0].intersectionRatio;if(t!==i){if(!x)return l();t?l(!1,t):a=setTimeout((()=>{l(!1,1e-7)}),1e3)}x=!1}try{r=new IntersectionObserver(g,m(u({},p),{root:n.ownerDocument}))}catch(mMe){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),s}(d,a):null;let f,p=-1,x=null;l&&(x=new ResizeObserver((e=>{let[r]=e;r&&r.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=x)||e.observe(t)}))),a()})),d&&!i&&x.observe(d),x.observe(t));let g=i?dse(e):null;return i&&function t(){const r=dse(e);!g||r.x===g.x&&r.y===g.y&&r.width===g.width&&r.height===g.height||a(),g=r,f=requestAnimationFrame(t)}(),a(),()=>{var e;c.forEach((e=>{n&&e.removeEventListener("scroll",a),s&&e.removeEventListener("resize",a)})),null==h||h(),null==(e=x)||e.disconnect(),x=null,i&&cancelAnimationFrame(f)}}const wse=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn(t){return p(this,null,(function*(){var a,r;const{x:n,y:s,placement:l,middlewareData:o}=t,i=yield function(e,t){return p(this,null,(function*(){const{placement:a,platform:r,elements:n}=e,s=yield null==r.isRTL?void 0:r.isRTL(n.floating),l=Tne(a),o=One(a),i="y"===Ane(a),d=["left","top"].includes(l)?-1:1,c=s&&i?-1:1,m=Ene(t,e);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof m?{mainAxis:m,crossAxis:0,alignmentAxis:null}:u({mainAxis:0,crossAxis:0,alignmentAxis:null},m);return o&&"number"==typeof p&&(f="end"===o?-1*p:p),i?{x:f*c,y:h*d}:{x:h*d,y:f*c}}))}(t,e);return l===(null==(a=o.offset)?void 0:a.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:n+i.x,y:s+i.y,data:m(u({},i),{placement:l})}}))}}},jse=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn(t){return p(this,null,(function*(){var a,r;const{placement:n,middlewareData:s,rects:l,initialPlacement:o,platform:i,elements:d}=t,c=Ene(e,t),{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0}=c,v=h(c,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if(null!=(a=s.arrow)&&a.alignmentOffset)return{};const y=Tne(n),w=Tne(o)===o,j=yield null==i.isRTL?void 0:i.isRTL(d.floating),N=f||(w||!b?[Lne(o)]:function(e){const t=Lne(e);return[Mne(e),t,Mne(t)]}(o));f||"none"===g||N.push(...function(e,t,a,r){const n=One(e);let s=function(e,t,a){const r=["left","right"],n=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return a?t?n:r:t?r:n;case"left":case"right":return t?s:l;default:return[]}}(Tne(e),"start"===a,r);return n&&(s=s.map((e=>e+"-"+n)),t&&(s=s.concat(s.map(Mne)))),s}(o,b,g,j));const _=[o,...N],S=yield function(e,t){return p(this,null,(function*(){var a;void 0===t&&(t={});const{x:r,y:n,platform:s,rects:l,elements:o,strategy:i}=e,{boundary:d="clippingAncestors",rootBoundary:c="viewport",elementContext:u="floating",altBoundary:m=!1,padding:h=0}=Ene(t,e),f=Ine(h),p=o[m?"floating"===u?"reference":"floating":u],x=Fne(yield s.getClippingRect({element:null==(a=yield null==s.isElement?void 0:s.isElement(p))||a?p:p.contextElement||(yield null==s.getDocumentElement?void 0:s.getDocumentElement(o.floating)),boundary:d,rootBoundary:c,strategy:i})),g="floating"===u?{x:r,y:n,width:l.floating.width,height:l.floating.height}:l.reference,b=yield null==s.getOffsetParent?void 0:s.getOffsetParent(o.floating),v=(yield null==s.isElement?void 0:s.isElement(b))&&(yield null==s.getScale?void 0:s.getScale(b))||{x:1,y:1},y=Fne(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:b,strategy:i}):g);return{top:(x.top-y.top+f.top)/v.y,bottom:(y.bottom-x.bottom+f.bottom)/v.y,left:(x.left-y.left+f.left)/v.x,right:(y.right-x.right+f.right)/v.x}}))}(t,v),k=[];let C=(null==(r=s.flip)?void 0:r.overflows)||[];if(u&&k.push(S[y]),m){const e=function(e,t,a){void 0===a&&(a=!1);const r=One(e),n=Pne(e),s=Dne(n);let l="x"===n?r===(a?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=Lne(l)),[l,Lne(l)]}(n,l,j);k.push(S[e[0]],S[e[1]])}if(C=[...C,{placement:n,overflows:k}],!k.every((e=>e<=0))){var E,T;const e=((null==(E=s.flip)?void 0:E.index)||0)+1,t=_[e];if(t)return{data:{index:e,overflows:C},reset:{placement:t}};let a=null==(T=C.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!a)switch(x){case"bestFit":{var O;const e=null==(O=C.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:O[0];e&&(a=e);break}case"initialPlacement":a=o}if(n!==a)return{reset:{placement:a}}}return{}}))}}},Nse=e=>({name:"arrow",options:e,fn(t){return p(this,null,(function*(){const{x:a,y:r,placement:n,rects:s,platform:l,elements:o,middlewareData:i}=t,{element:d,padding:c=0}=Ene(e,t)||{};if(null==d)return{};const m=Ine(c),h={x:a,y:r},f=Pne(n),p=Dne(f),x=yield l.getDimensions(d),g="y"===f,b=g?"top":"left",v=g?"bottom":"right",y=g?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[f]-h[f]-s.floating[p],j=h[f]-s.reference[f],N=yield null==l.getOffsetParent?void 0:l.getOffsetParent(d);let _=N?N[y]:0;_&&(yield null==l.isElement?void 0:l.isElement(N))||(_=o.floating[y]||s.floating[p]);const S=w/2-j/2,k=_/2-x[p]/2-1,C=wne(m[b],k),E=wne(m[v],k),T=C,O=_-x[p]-E,D=_/2-x[p]/2+S,A=jne(T,wne(D,O)),P=!i.arrow&&null!=One(n)&&D!==A&&s.reference[p]/2-(D<T?C:E)-x[p]/2<0,M=P?D<T?D-T:D-O:0;return{[f]:h[f]+M,data:u({[f]:A,centerOffset:D-A-M},P&&{alignmentOffset:M}),reset:P}}))}}),_se=(t,a,r)=>{const n=new Map,s=u({platform:vse},r),l=m(u({},s.platform),{_c:n});return((t,a,r)=>p(e,null,(function*(){const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:l}=r,o=s.filter(Boolean),i=yield null==l.isRTL?void 0:l.isRTL(a);let d=yield l.getElementRects({reference:t,floating:a,strategy:n}),{x:c,y:h}=Rne(d,e,i),f=e,p={},x=0;for(let r=0;r<o.length;r++){const{name:s,fn:g}=o[r],{x:b,y:v,data:y,reset:w}=yield g({x:c,y:h,initialPlacement:e,placement:f,strategy:n,middlewareData:p,rects:d,platform:l,elements:{reference:t,floating:a}});c=null!=b?b:c,h=null!=v?v:h,p=m(u({},p),{[s]:u(u({},p[s]),y)}),w&&x<=50&&(x++,"object"==typeof w&&(w.placement&&(f=w.placement),w.rects&&(d=!0===w.rects?yield l.getElementRects({reference:t,floating:a,strategy:n}):w.rects),({x:c,y:h}=Rne(d,f,i))),r=-1)}return{x:c,y:h,placement:f,strategy:n,middlewareData:p}})))(t,a,m(u({},s),{platform:l}))};var Sse=Q.useLayoutEffect,kse=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Cse=function(){};function Ese(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Tse(e,t){for(var a=arguments.length,r=new Array(a>2?a-2:0),n=2;n<a;n++)r[n-2]=arguments[n];var s=[].concat(r);if(t&&e)for(var l in t)t.hasOwnProperty(l)&&t[l]&&s.push("".concat(Ese(e,l)));return s.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var Ose=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===Mae(e)&&null!==e?[e]:[];var t},Dse=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Rae({},Uae(e,kse))},Ase=function(e,t,a){var r=e.cx,n=e.getStyles,s=e.getClassNames,l=e.className;return{css:n(t,e),className:r(null!=a?a:{},s(t,e),l)}};function Pse(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Mse(e){return Pse(e)?window.pageYOffset:e.scrollTop}function Lse(e,t){Pse(e)?window.scrollTo(0,t):e.scrollTop=t}function Ise(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Cse,n=Mse(e),s=t-n,l=0;!function t(){var o,i=s*((o=(o=l+=10)/a-1)*o*o+1)+n;Lse(e,i),l<a?window.requestAnimationFrame(t):r(e)}()}function Fse(e,t){var a=e.getBoundingClientRect(),r=t.getBoundingClientRect(),n=t.offsetHeight/3;r.bottom+n>a.bottom?Lse(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+n,e.scrollHeight)):r.top-n<a.top&&Lse(e,Math.max(t.offsetTop-n,0))}function Rse(){try{return document.createEvent("TouchEvent"),!0}catch(mMe){return!1}}var $se=!1,Bse={get passive(){return $se=!0}},zse="undefined"!=typeof window?window:{};zse.addEventListener&&zse.removeEventListener&&(zse.addEventListener("p",Cse,Bse),zse.removeEventListener("p",Cse,!1));var Use=$se;function Hse(e){return null!=e}function Wse(e,t,a){return e?t:a}var Yse=["children","innerProps"],qse=["children","innerProps"];function Vse(e){var t=e.maxHeight,a=e.menuEl,r=e.minHeight,n=e.placement,s=e.shouldScroll,l=e.isFixedPosition,o=e.controlHeight,i=function(e){var t=getComputedStyle(e),a="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var n=e;n=n.parentElement;)if(t=getComputedStyle(n),(!a||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return n;return document.documentElement}(a),d={placement:"bottom",maxHeight:t};if(!a||!a.offsetParent)return d;var c,u=i.getBoundingClientRect().height,m=a.getBoundingClientRect(),h=m.bottom,f=m.height,p=m.top,x=a.offsetParent.getBoundingClientRect().top,g=l||Pse(c=i)?window.innerHeight:c.clientHeight,b=Mse(i),v=parseInt(getComputedStyle(a).marginBottom,10),y=parseInt(getComputedStyle(a).marginTop,10),w=x-y,j=g-p,N=w+b,_=u-b-p,S=h-g+b+v,k=b+p-y,C=160;switch(n){case"auto":case"bottom":if(j>=f)return{placement:"bottom",maxHeight:t};if(_>=f&&!l)return s&&Ise(i,S,C),{placement:"bottom",maxHeight:t};if(!l&&_>=r||l&&j>=r)return s&&Ise(i,S,C),{placement:"bottom",maxHeight:l?j-v:_-v};if("auto"===n||l){var E=t,T=l?w:N;return T>=r&&(E=Math.min(T-v-o,t)),{placement:"top",maxHeight:E}}if("bottom"===n)return s&&Lse(i,S),{placement:"bottom",maxHeight:t};break;case"top":if(w>=f)return{placement:"top",maxHeight:t};if(N>=f&&!l)return s&&Ise(i,k,C),{placement:"top",maxHeight:t};if(!l&&N>=r||l&&w>=r){var O=t;return(!l&&N>=r||l&&w>=r)&&(O=l?w-y:N-y),s&&Ise(i,k,C),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(n,'".'))}return d}var Gse,Kse,Xse,Qse=function(e){return"auto"===e?"bottom":e},Jse=Q.createContext(null),Zse=function(e){var t=e.children,a=e.minMenuHeight,r=e.maxMenuHeight,n=e.menuPlacement,s=e.menuPosition,l=e.menuShouldScrollIntoView,o=e.theme,i=(Q.useContext(Jse)||{}).setPortalPlacement,d=Q.useRef(null),c=zae(Q.useState(r),2),u=c[0],m=c[1],h=zae(Q.useState(null),2),f=h[0],p=h[1],x=o.spacing.controlHeight;return Sse((function(){var e=d.current;if(e){var t="fixed"===s,o=Vse({maxHeight:r,menuEl:e,minHeight:a,placement:n,shouldScroll:l&&!t,isFixedPosition:t,controlHeight:x});m(o.maxHeight),p(o.placement),null==i||i(o.placement)}}),[r,n,s,l,a,i,x]),t({ref:d,placerProps:Rae(Rae({},e),{},{placement:f||Qse(n),maxHeight:u})})},ele=function(e){var t=e.children,a=e.innerRef,r=e.innerProps;return vne("div",Bg({},Ase(e,"menu",{menu:!0}),{ref:a},r),t)},tle=function(e,t){var a=e.theme,r=a.spacing.baseUnit,n=a.colors;return Rae({textAlign:"center"},t?{}:{color:n.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},ale=tle,rle=tle,nle=["size"],sle=["innerProps","isRtl","size"],lle={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ole=function(e){var t=e.size,a=Uae(e,nle);return vne("svg",Bg({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:lle},a))},ile=function(e){return vne(ole,Bg({size:20},e),vne("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},dle=function(e){return vne(ole,Bg({size:20},e),vne("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},cle=function(e,t){var a=e.isFocused,r=e.theme,n=r.spacing.baseUnit,s=r.colors;return Rae({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:a?s.neutral60:s.neutral20,padding:2*n,":hover":{color:a?s.neutral80:s.neutral40}})},ule=cle,mle=cle,hle=function(){var e=yne.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Gse||(Kse=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Xse||(Xse=Kse.slice(0)),Gse=Object.freeze(Object.defineProperties(Kse,{raw:{value:Object.freeze(Xse)}})))),fle=function(e){var t=e.delay,a=e.offset;return vne("span",{css:yne({animation:"".concat(hle," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:a?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ple=function(e){var t=e.children,a=e.isDisabled,r=e.isFocused,n=e.innerRef,s=e.innerProps,l=e.menuIsOpen;return vne("div",Bg({ref:n},Ase(e,"control",{control:!0,"control--is-disabled":a,"control--is-focused":r,"control--menu-is-open":l}),s,{"aria-disabled":a||void 0}),t)},xle=["data"],gle=function(e){var t=e.children,a=e.cx,r=e.getStyles,n=e.getClassNames,s=e.Heading,l=e.headingProps,o=e.innerProps,i=e.label,d=e.theme,c=e.selectProps;return vne("div",Bg({},Ase(e,"group",{group:!0}),o),vne(s,Bg({},l,{selectProps:c,theme:d,getStyles:r,getClassNames:n,cx:a}),i),vne("div",null,t))},ble=["innerRef","isDisabled","isHidden","inputClassName"],vle={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},yle={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Rae({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},vle)},wle=function(e){return Rae({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},vle)},jle=function(e){var t=e.children,a=e.innerProps;return vne("div",a,t)},Nle={ClearIndicator:function(e){var t=e.children,a=e.innerProps;return vne("div",Bg({},Ase(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),a),t||vne(ile,null))},Control:ple,DropdownIndicator:function(e){var t=e.children,a=e.innerProps;return vne("div",Bg({},Ase(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),a),t||vne(dle,null))},DownChevron:dle,CrossIcon:ile,Group:gle,GroupHeading:function(e){var t=Dse(e);t.data;var a=Uae(t,xle);return vne("div",Bg({},Ase(e,"groupHeading",{"group-heading":!0}),a))},IndicatorsContainer:function(e){var t=e.children,a=e.innerProps;return vne("div",Bg({},Ase(e,"indicatorsContainer",{indicators:!0}),a),t)},IndicatorSeparator:function(e){var t=e.innerProps;return vne("span",Bg({},t,Ase(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,a=e.value,r=Dse(e),n=r.innerRef,s=r.isDisabled,l=r.isHidden,o=r.inputClassName,i=Uae(r,ble);return vne("div",Bg({},Ase(e,"input",{"input-container":!0}),{"data-value":a||""}),vne("input",Bg({className:t({input:!0},o),ref:n,style:wle(l),disabled:s},i)))},LoadingIndicator:function(e){var t=e.innerProps,a=e.isRtl,r=e.size,n=void 0===r?4:r,s=Uae(e,sle);return vne("div",Bg({},Ase(Rae(Rae({},s),{},{innerProps:t,isRtl:a,size:n}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),vne(fle,{delay:0,offset:a}),vne(fle,{delay:160,offset:!0}),vne(fle,{delay:320,offset:!a}))},Menu:ele,MenuList:function(e){var t=e.children,a=e.innerProps,r=e.innerRef,n=e.isMulti;return vne("div",Bg({},Ase(e,"menuList",{"menu-list":!0,"menu-list--is-multi":n}),{ref:r},a),t)},MenuPortal:function(e){var t=e.appendTo,a=e.children,r=e.controlElement,n=e.innerProps,s=e.menuPlacement,l=e.menuPosition,o=Q.useRef(null),i=Q.useRef(null),d=zae(Q.useState(Qse(s)),2),c=d[0],u=d[1],m=Q.useMemo((function(){return{setPortalPlacement:u}}),[]),h=zae(Q.useState(null),2),f=h[0],p=h[1],x=Q.useCallback((function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===l?0:window.pageYOffset,a=e[c]+t;a===(null==f?void 0:f.offset)&&e.left===(null==f?void 0:f.rect.left)&&e.width===(null==f?void 0:f.rect.width)||p({offset:a,rect:e})}}),[r,l,c,null==f?void 0:f.offset,null==f?void 0:f.rect.left,null==f?void 0:f.rect.width]);Sse((function(){x()}),[x]);var g=Q.useCallback((function(){"function"==typeof i.current&&(i.current(),i.current=null),r&&o.current&&(i.current=yse(r,o.current,x,{elementResize:"ResizeObserver"in window}))}),[r,x]);Sse((function(){g()}),[g]);var b=Q.useCallback((function(e){o.current=e,g()}),[g]);if(!t&&"fixed"!==l||!f)return null;var v=vne("div",Bg({ref:b},Ase(Rae(Rae({},e),{},{offset:f.offset,position:l,rect:f.rect}),"menuPortal",{"menu-portal":!0}),n),a);return vne(Jse.Provider,{value:m},t?fu.createPortal(v,t):v)},LoadingMessage:function(e){var t=e.children,a=void 0===t?"Loading...":t,r=e.innerProps,n=Uae(e,qse);return vne("div",Bg({},Ase(Rae(Rae({},n),{},{children:a,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),a)},NoOptionsMessage:function(e){var t=e.children,a=void 0===t?"No options":t,r=e.innerProps,n=Uae(e,Yse);return vne("div",Bg({},Ase(Rae(Rae({},n),{},{children:a,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),a)},MultiValue:function(e){var t=e.children,a=e.components,r=e.data,n=e.innerProps,s=e.isDisabled,l=e.removeProps,o=e.selectProps,i=a.Container,d=a.Label,c=a.Remove;return vne(i,{data:r,innerProps:Rae(Rae({},Ase(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),n),selectProps:o},vne(d,{data:r,innerProps:Rae({},Ase(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),vne(c,{data:r,innerProps:Rae(Rae({},Ase(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},l),selectProps:o}))},MultiValueContainer:jle,MultiValueLabel:jle,MultiValueRemove:function(e){var t=e.children,a=e.innerProps;return vne("div",Bg({role:"button"},a),t||vne(ile,{size:14}))},Option:function(e){var t=e.children,a=e.isDisabled,r=e.isFocused,n=e.isSelected,s=e.innerRef,l=e.innerProps;return vne("div",Bg({},Ase(e,"option",{option:!0,"option--is-disabled":a,"option--is-focused":r,"option--is-selected":n}),{ref:s,"aria-disabled":a},l),t)},Placeholder:function(e){var t=e.children,a=e.innerProps;return vne("div",Bg({},Ase(e,"placeholder",{placeholder:!0}),a),t)},SelectContainer:function(e){var t=e.children,a=e.innerProps,r=e.isDisabled,n=e.isRtl;return vne("div",Bg({},Ase(e,"container",{"--is-disabled":r,"--is-rtl":n}),a),t)},SingleValue:function(e){var t=e.children,a=e.isDisabled,r=e.innerProps;return vne("div",Bg({},Ase(e,"singleValue",{"single-value":!0,"single-value--is-disabled":a}),r),t)},ValueContainer:function(e){var t=e.children,a=e.innerProps,r=e.isMulti,n=e.hasValue;return vne("div",Bg({},Ase(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":n}),a),t)}},_le=function(e){return Rae(Rae({},Nle),e.components)},Sle=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function kle(e,t){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(r=e[a],n=t[a],!(r===n||Sle(r)&&Sle(n)))return!1;var r,n;return!0}function Cle(e,t){void 0===t&&(t=kle);var a=null;function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(a&&a.lastThis===this&&t(r,a.lastArgs))return a.lastResult;var s=e.apply(this,r);return a={lastResult:s,lastArgs:r,lastThis:this},s}return r.clear=function(){a=null},r}for(var Ele={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Tle=function(e){return vne("span",Bg({css:Ele},e))},Ole={guidance:function(e){var t=e.isSearchable,a=e.isMulti,r=e.tabSelectsValue,n=e.context,s=e.isInitialFocus;switch(n){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(a?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,a=e.label,r=void 0===a?"":a,n=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(n.length>1?"s":""," ").concat(n.join(","),", selected.");case"select-option":return"option ".concat(r,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,a=e.focused,r=e.options,n=e.label,s=void 0===n?"":n,l=e.selectValue,o=e.isDisabled,i=e.isSelected,d=e.isAppleDevice,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&l)return"value ".concat(s," focused, ").concat(c(l,a),".");if("menu"===t&&d){var u=o?" disabled":"",m="".concat(i?" selected":"").concat(u);return"".concat(s).concat(m,", ").concat(c(r,a),".")}return""},onFilter:function(e){var t=e.inputValue,a=e.resultsMessage;return"".concat(a).concat(t?" for search term "+t:"",".")}},Dle=function(e){var t=e.ariaSelection,a=e.focusedOption,r=e.focusedValue,n=e.focusableOptions,s=e.isFocused,l=e.selectValue,o=e.selectProps,i=e.id,d=e.isAppleDevice,c=o.ariaLiveMessages,u=o.getOptionLabel,m=o.inputValue,h=o.isMulti,f=o.isOptionDisabled,p=o.isSearchable,x=o.menuIsOpen,g=o.options,b=o.screenReaderStatus,v=o.tabSelectsValue,y=o.isLoading,w=o["aria-label"],j=o["aria-live"],N=Q.useMemo((function(){return Rae(Rae({},Ole),c||{})}),[c]),_=Q.useMemo((function(){var e,a="";if(t&&N.onChange){var r=t.option,n=t.options,s=t.removedValue,o=t.removedValues,i=t.value,d=s||r||(e=i,Array.isArray(e)?null:e),c=d?u(d):"",m=n||o||void 0,h=m?m.map(u):[],p=Rae({isDisabled:d&&f(d,l),label:c,labels:h},t);a=N.onChange(p)}return a}),[t,N,f,l,u]),S=Q.useMemo((function(){var e="",t=a||r,s=!!(a&&l&&l.includes(a));if(t&&N.onFocus){var o={focused:t,label:u(t),isDisabled:f(t,l),isSelected:s,options:n,context:t===a?"menu":"value",selectValue:l,isAppleDevice:d};e=N.onFocus(o)}return e}),[a,r,u,f,N,n,l,d]),k=Q.useMemo((function(){var e="";if(x&&g.length&&!y&&N.onFilter){var t=b({count:n.length});e=N.onFilter({inputValue:m,resultsMessage:t})}return e}),[n,m,x,N,g,b,y]),C="initial-input-focus"===(null==t?void 0:t.action),E=Q.useMemo((function(){var e="";if(N.guidance){var t=r?"value":x?"menu":"input";e=N.guidance({"aria-label":w,context:t,isDisabled:a&&f(a,l),isMulti:h,isSearchable:p,tabSelectsValue:v,isInitialFocus:C})}return e}),[w,a,r,h,f,p,x,N,l,v,C]),T=vne(Q.Fragment,null,vne("span",{id:"aria-selection"},_),vne("span",{id:"aria-focused"},S),vne("span",{id:"aria-results"},k),vne("span",{id:"aria-guidance"},E));return vne(Q.Fragment,null,vne(Tle,{id:i},C&&T),vne(Tle,{"aria-live":j,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!C&&T))},Ale=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Ple=new RegExp("["+Ale.map((function(e){return e.letters})).join("")+"]","g"),Mle={},Lle=0;Lle<Ale.length;Lle++)for(var Ile=Ale[Lle],Fle=0;Fle<Ile.letters.length;Fle++)Mle[Ile.letters[Fle]]=Ile.base;var Rle=function(e){return e.replace(Ple,(function(e){return Mle[e]}))},$le=Cle(Rle),Ble=function(e){return e.replace(/^\s+|\s+$/g,"")},zle=function(e){return"".concat(e.label," ").concat(e.value)},Ule=["innerRef"];function Hle(e){var t=e.innerRef,a=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return Object.entries(e).filter((function(e){var t=zae(e,1)[0];return!a.includes(t)})).reduce((function(e,t){var a=zae(t,2),r=a[0],n=a[1];return e[r]=n,e}),{})}(Uae(e,Ule),"onExited","in","enter","exit","appear");return vne("input",Bg({ref:t},a,{css:yne({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Wle=["boxSizing","height","overflow","paddingRight","position"],Yle={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function qle(e){e.preventDefault()}function Vle(e){e.stopPropagation()}function Gle(){var e=this.scrollTop,t=this.scrollHeight,a=e+this.offsetHeight;0===e?this.scrollTop=1:a===t&&(this.scrollTop=e-1)}function Kle(){return"ontouchstart"in window||navigator.maxTouchPoints}var Xle=!("undefined"==typeof window||!window.document||!window.document.createElement),Qle=0,Jle={capture:!1,passive:!1},Zle=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},eoe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function toe(e){var t=e.children,a=e.lockEnabled,r=e.captureEnabled,n=function(e){var t=e.isEnabled,a=e.onBottomArrive,r=e.onBottomLeave,n=e.onTopArrive,s=e.onTopLeave,l=Q.useRef(!1),o=Q.useRef(!1),i=Q.useRef(0),d=Q.useRef(null),c=Q.useCallback((function(e,t){if(null!==d.current){var i=d.current,c=i.scrollTop,u=i.scrollHeight,m=i.clientHeight,h=d.current,f=t>0,p=u-m-c,x=!1;p>t&&l.current&&(r&&r(e),l.current=!1),f&&o.current&&(s&&s(e),o.current=!1),f&&t>p?(a&&!l.current&&a(e),h.scrollTop=u,x=!0,l.current=!0):!f&&-t>c&&(n&&!o.current&&n(e),h.scrollTop=0,x=!0,o.current=!0),x&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}}),[a,r,n,s]),u=Q.useCallback((function(e){c(e,e.deltaY)}),[c]),m=Q.useCallback((function(e){i.current=e.changedTouches[0].clientY}),[]),h=Q.useCallback((function(e){var t=i.current-e.changedTouches[0].clientY;c(e,t)}),[c]),f=Q.useCallback((function(e){if(e){var t=!!Use&&{passive:!1};e.addEventListener("wheel",u,t),e.addEventListener("touchstart",m,t),e.addEventListener("touchmove",h,t)}}),[h,m,u]),p=Q.useCallback((function(e){e&&(e.removeEventListener("wheel",u,!1),e.removeEventListener("touchstart",m,!1),e.removeEventListener("touchmove",h,!1))}),[h,m,u]);return Q.useEffect((function(){if(t){var e=d.current;return f(e),function(){p(e)}}}),[t,f,p]),function(e){d.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),s=function(e){var t=e.isEnabled,a=e.accountForScrollbars,r=void 0===a||a,n=Q.useRef({}),s=Q.useRef(null),l=Q.useCallback((function(e){if(Xle){var t=document.body,a=t&&t.style;if(r&&Wle.forEach((function(e){var t=a&&a[e];n.current[e]=t})),r&&Qle<1){var s=parseInt(n.current.paddingRight,10)||0,l=document.body?document.body.clientWidth:0,o=window.innerWidth-l+s||0;Object.keys(Yle).forEach((function(e){var t=Yle[e];a&&(a[e]=t)})),a&&(a.paddingRight="".concat(o,"px"))}t&&Kle()&&(t.addEventListener("touchmove",qle,Jle),e&&(e.addEventListener("touchstart",Gle,Jle),e.addEventListener("touchmove",Vle,Jle))),Qle+=1}}),[r]),o=Q.useCallback((function(e){if(Xle){var t=document.body,a=t&&t.style;Qle=Math.max(Qle-1,0),r&&Qle<1&&Wle.forEach((function(e){var t=n.current[e];a&&(a[e]=t)})),t&&Kle()&&(t.removeEventListener("touchmove",qle,Jle),e&&(e.removeEventListener("touchstart",Gle,Jle),e.removeEventListener("touchmove",Vle,Jle)))}}),[r]);return Q.useEffect((function(){if(t){var e=s.current;return l(e),function(){o(e)}}}),[t,l,o]),function(e){s.current=e}}({isEnabled:a});return vne(Q.Fragment,null,a&&vne("div",{onClick:Zle,css:eoe}),t((function(e){n(e),s(e)})))}var aoe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},roe=function(e){var t=e.name,a=e.onFocus;return vne("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:a,css:aoe,value:"",onChange:function(){}})};function noe(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function soe(){return noe(/^Mac/i)}function loe(){return noe(/^iPhone/i)||noe(/^iPad/i)||soe()&&navigator.maxTouchPoints>1}var ooe,ioe={clearIndicator:mle,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var a=e.isDisabled,r=e.isFocused,n=e.theme,s=n.colors,l=n.borderRadius;return Rae({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:n.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:a?s.neutral5:s.neutral0,borderColor:a?s.neutral10:r?s.primary:s.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:r?s.primary:s.neutral30}})},dropdownIndicator:ule,group:function(e,t){var a=e.theme.spacing;return t?{}:{paddingBottom:2*a.baseUnit,paddingTop:2*a.baseUnit}},groupHeading:function(e,t){var a=e.theme,r=a.colors,n=a.spacing;return Rae({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*n.baseUnit,paddingRight:3*n.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var a=e.isDisabled,r=e.theme,n=r.spacing.baseUnit,s=r.colors;return Rae({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:a?s.neutral10:s.neutral20,marginBottom:2*n,marginTop:2*n})},input:function(e,t){var a=e.isDisabled,r=e.value,n=e.theme,s=n.spacing,l=n.colors;return Rae(Rae({visibility:a?"hidden":"visible",transform:r?"translateZ(0)":""},yle),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:l.neutral80})},loadingIndicator:function(e,t){var a=e.isFocused,r=e.size,n=e.theme,s=n.colors,l=n.spacing.baseUnit;return Rae({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:a?s.neutral60:s.neutral20,padding:2*l})},loadingMessage:rle,menu:function(e,t){var a,r=e.placement,n=e.theme,s=n.borderRadius,l=n.spacing,o=n.colors;return Rae((Iae(a={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),Iae(a,"position","absolute"),Iae(a,"width","100%"),Iae(a,"zIndex",1),a),t?{}:{backgroundColor:o.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},menuList:function(e,t){var a=e.maxHeight,r=e.theme.spacing.baseUnit;return Rae({maxHeight:a,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,a=e.offset,r=e.position;return{left:t.left,position:r,top:a,width:t.width,zIndex:1}},multiValue:function(e,t){var a=e.theme,r=a.spacing,n=a.borderRadius,s=a.colors;return Rae({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:n/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var a=e.theme,r=a.borderRadius,n=a.colors,s=e.cropWithEllipsis;return Rae({overflow:"hidden",textOverflow:s||void 0===s?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:n.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var a=e.theme,r=a.spacing,n=a.borderRadius,s=a.colors,l=e.isFocused;return Rae({alignItems:"center",display:"flex"},t?{}:{borderRadius:n/2,backgroundColor:l?s.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:ale,option:function(e,t){var a=e.isDisabled,r=e.isFocused,n=e.isSelected,s=e.theme,l=s.spacing,o=s.colors;return Rae({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:n?o.primary:r?o.primary25:"transparent",color:a?o.neutral20:n?o.neutral0:"inherit",padding:"".concat(2*l.baseUnit,"px ").concat(3*l.baseUnit,"px"),":active":{backgroundColor:a?void 0:n?o.primary:o.primary50}})},placeholder:function(e,t){var a=e.theme,r=a.spacing,n=a.colors;return Rae({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:n.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var a=e.isDisabled,r=e.theme,n=r.spacing,s=r.colors;return Rae({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:a?s.neutral40:s.neutral80,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},valueContainer:function(e,t){var a=e.theme.spacing,r=e.isMulti,n=e.hasValue,s=e.selectProps.controlShouldRenderValue;return Rae({alignItems:"center",display:r&&n&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(a.baseUnit/2,"px ").concat(2*a.baseUnit,"px")})}},doe={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},coe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Rse(),captureMenuScroll:!Rse(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var a=Rae({ignoreCase:!0,ignoreAccents:!0,stringify:zle,trim:!0,matchFrom:"any"},ooe),r=a.ignoreCase,n=a.ignoreAccents,s=a.stringify,l=a.trim,o=a.matchFrom,i=l?Ble(t):t,d=l?Ble(s(e)):s(e);return r&&(i=i.toLowerCase(),d=d.toLowerCase()),n&&(i=$le(i),d=Rle(d)),"start"===o?d.substr(0,i.length)===i:d.indexOf(i)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(mMe){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function uoe(e,t,a,r){return{type:"option",data:t,isDisabled:voe(e,t,a),isSelected:yoe(e,t,a),label:goe(e,t),value:boe(e,t),index:r}}function moe(e,t){return e.options.map((function(a,r){if("options"in a){var n=a.options.map((function(a,r){return uoe(e,a,t,r)})).filter((function(t){return poe(e,t)}));return n.length>0?{type:"group",data:a,options:n,index:r}:void 0}var s=uoe(e,a,t,r);return poe(e,s)?s:void 0})).filter(Hse)}function hoe(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Gae(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function foe(e,t){return e.reduce((function(e,a){return"group"===a.type?e.push.apply(e,Gae(a.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(a.index,"-").concat(e.index)}})))):e.push({data:a.data,id:"".concat(t,"-").concat(a.index)}),e}),[])}function poe(e,t){var a=e.inputValue,r=void 0===a?"":a,n=t.data,s=t.isSelected,l=t.label,o=t.value;return(!joe(e)||!s)&&woe(e,{label:l,value:o,data:n},r)}var xoe=function(e,t){var a;return(null===(a=e.find((function(e){return e.data===t})))||void 0===a?void 0:a.id)||null},goe=function(e,t){return e.getOptionLabel(t)},boe=function(e,t){return e.getOptionValue(t)};function voe(e,t,a){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,a)}function yoe(e,t,a){if(a.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,a);var r=boe(e,t);return a.some((function(t){return boe(e,t)===r}))}function woe(e,t,a){return!e.filterOption||e.filterOption(t,a)}var joe=function(e){var t=e.hideSelectedOptions,a=e.isMulti;return void 0===t?a:t},Noe=1,_oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}(s,e);var t,a,r,n=Vae(s);function s(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=soe()||loe(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,a){var r=t.props,n=r.onChange,s=r.name;a.name=s,t.ariaOnChange(e,a),n(e,a)},t.setValue=function(e,a,r){var n=t.props,s=n.closeMenuOnSelect,l=n.isMulti,o=n.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:o}),s&&(t.setState({inputIsHiddenAfterUpdate:!l}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:a,option:r})},t.selectOption=function(e){var a=t.props,r=a.blurInputOnSelect,n=a.isMulti,s=a.name,l=t.state.selectValue,o=n&&t.isOptionSelected(e,l),i=t.isOptionDisabled(e,l);if(o){var d=t.getOptionValue(e);t.setValue(l.filter((function(e){return t.getOptionValue(e)!==d})),"deselect-option",e)}else{if(i)return void t.ariaOnChange(e,{action:"select-option",option:e,name:s});n?t.setValue([].concat(Gae(l),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var a=t.props.isMulti,r=t.state.selectValue,n=t.getOptionValue(e),s=r.filter((function(e){return t.getOptionValue(e)!==n})),l=Wse(a,s,s[0]||null);t.onChange(l,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Wse(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,a=t.state.selectValue,r=a[a.length-1],n=a.slice(0,a.length-1),s=Wse(e,n,n[0]||null);t.onChange(s,{action:"pop-value",removedValue:r})},t.getFocusedOptionId=function(e){return xoe(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return foe(moe(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return Tse.apply(void 0,[t.props.classNamePrefix].concat(a))},t.getOptionLabel=function(e){return goe(t.props,e)},t.getOptionValue=function(e){return boe(t.props,e)},t.getStyles=function(e,a){var r=t.props.unstyled,n=ioe[e](a,r);n.boxSizing="border-box";var s=t.props.styles[e];return s?s(n,a):n},t.getClassNames=function(e,a){var r,n;return null===(r=(n=t.props.classNames)[e])||void 0===r?void 0:r.call(n,a)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return _le(t.props)},t.buildCategorizedOptions=function(){return moe(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return hoe(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,a){t.setState({ariaSelection:Rae({value:e},a)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var a=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():a&&t.openMenu("first"):(a&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||t.props.isDisabled)){var a=t.props,r=a.isMulti,n=a.menuIsOpen;t.focusInput(),n?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Pse(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var a=e.touches,r=a&&a.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var a=e.touches,r=a&&a.item(0);if(r){var n=Math.abs(r.clientX-t.initialTouchX),s=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=n>5||s>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var a=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:a}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var a=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:a}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var a=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:a>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return joe(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var a=t.props,r=a.isMulti,n=a.backspaceRemovesValue,s=a.escapeClearsValue,l=a.inputValue,o=a.isClearable,i=a.isDisabled,d=a.menuIsOpen,c=a.onKeyDown,u=a.tabSelectsValue,m=a.openMenuOnFocus,h=t.state,f=h.focusedOption,p=h.focusedValue,x=h.selectValue;if(!(i||"function"==typeof c&&(c(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||l)return;t.focusValue("previous");break;case"ArrowRight":if(!r||l)return;t.focusValue("next");break;case"Delete":case"Backspace":if(l)return;if(p)t.removeValue(p);else{if(!n)return;r?t.popValue():o&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!d||!u||!f||m&&t.isOptionSelected(f,x))return;t.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(d){if(!f)return;if(t.isComposing)return;t.selectOption(f);break}return;case"Escape":d?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:l}),t.onMenuClose()):o&&s&&t.clearValue();break;case" ":if(l)return;if(!d){t.openMenu("first");break}if(!f)return;t.selectOption(f);break;case"ArrowUp":d?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":d?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!d)return;t.focusOption("pageup");break;case"PageDown":if(!d)return;t.focusOption("pagedown");break;case"Home":if(!d)return;t.focusOption("first");break;case"End":if(!d)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++Noe),t.state.selectValue=Ose(e.value),e.menuIsOpen&&t.state.selectValue.length){var a=t.getFocusableOptionsWithIds(),r=t.buildFocusableOptions(),l=r.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=a,t.state.focusedOption=r[l],t.state.focusedOptionId=xoe(a,r[l])}return t}return t=s,a=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Fse(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isDisabled,r=t.menuIsOpen,n=this.state.isFocused;(n&&!a&&e.isDisabled||n&&r&&!e.menuIsOpen)&&this.focusInput(),n&&a&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):n||a||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Fse(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,a=this.state,r=a.selectValue,n=a.isFocused,s=this.buildFocusableOptions(),l="first"===e?0:s.length-1;if(!this.props.isMulti){var o=s.indexOf(r[0]);o>-1&&(l=o)}this.scrollToFocusedOptionOnUpdate=!(n&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:s[l],focusedOptionId:this.getFocusedOptionId(s[l])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,a=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var n=a.indexOf(r);r||(n=-1);var s=a.length-1,l=-1;if(a.length){switch(e){case"previous":l=0===n?0:-1===n?s:n-1;break;case"next":n>-1&&n<s&&(l=n+1)}this.setState({inputIsHidden:-1!==l,focusedValue:a[l]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,a=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var n=0,s=r.indexOf(a);a||(s=-1),"up"===e?n=s>0?s-1:r.length-1:"down"===e?n=(s+1)%r.length:"pageup"===e?(n=s-t)<0&&(n=0):"pagedown"===e?(n=s+t)>r.length-1&&(n=r.length-1):"last"===e&&(n=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[n],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[n])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(doe):Rae(Rae({},doe),this.props.theme):doe}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,a=this.getStyles,r=this.getClassNames,n=this.getValue,s=this.selectOption,l=this.setValue,o=this.props,i=o.isMulti,d=o.isRtl,c=o.options;return{clearValue:e,cx:t,getStyles:a,getClassNames:r,getValue:n,hasValue:this.hasValue(),isMulti:i,isRtl:d,options:c,selectOption:s,selectProps:o,setValue:l,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,a=e.isMulti;return void 0===t?a:t}},{key:"isOptionDisabled",value:function(e,t){return voe(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return yoe(this.props,e,t)}},{key:"filterOption",value:function(e,t){return woe(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var a=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:a,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,a=e.isSearchable,r=e.inputId,n=e.inputValue,s=e.tabIndex,l=e.form,o=e.menuIsOpen,i=e.required,d=this.getComponents().Input,c=this.state,u=c.inputIsHidden,m=c.ariaSelection,h=this.commonProps,f=r||this.getElementId("input"),p=Rae(Rae(Rae({"aria-autocomplete":"list","aria-expanded":o,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":i,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},o&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==m?void 0:m.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?Q.createElement(d,Bg({},h,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:f,innerRef:this.getInputRef,isDisabled:t,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:s,form:l,type:"text",value:n},p)):Q.createElement(Hle,Bg({id:f,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Cse,onFocus:this.onInputFocus,disabled:t,tabIndex:s,inputMode:"none",form:l,value:""},p))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),a=t.MultiValue,r=t.MultiValueContainer,n=t.MultiValueLabel,s=t.MultiValueRemove,l=t.SingleValue,o=t.Placeholder,i=this.commonProps,d=this.props,c=d.controlShouldRenderValue,u=d.isDisabled,m=d.isMulti,h=d.inputValue,f=d.placeholder,p=this.state,x=p.selectValue,g=p.focusedValue,b=p.isFocused;if(!this.hasValue()||!c)return h?null:Q.createElement(o,Bg({},i,{key:"placeholder",isDisabled:u,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),f);if(m)return x.map((function(t,l){var o=t===g,d="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return Q.createElement(a,Bg({},i,{components:{Container:r,Label:n,Remove:s},isFocused:o,isDisabled:u,key:d,index:l,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var v=x[0];return Q.createElement(l,Bg({},i,{data:v,isDisabled:u}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,a=this.props,r=a.isDisabled,n=a.isLoading,s=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||n)return null;var l={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Q.createElement(e,Bg({},t,{innerProps:l,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,a=this.props,r=a.isDisabled,n=a.isLoading,s=this.state.isFocused;return e&&n?Q.createElement(e,Bg({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:s})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,a=e.IndicatorSeparator;if(!t||!a)return null;var r=this.commonProps,n=this.props.isDisabled,s=this.state.isFocused;return Q.createElement(a,Bg({},r,{isDisabled:n,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,a=this.props.isDisabled,r=this.state.isFocused,n={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Q.createElement(e,Bg({},t,{innerProps:n,isDisabled:a,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),a=t.Group,r=t.GroupHeading,n=t.Menu,s=t.MenuList,l=t.MenuPortal,o=t.LoadingMessage,i=t.NoOptionsMessage,d=t.Option,c=this.commonProps,u=this.state.focusedOption,m=this.props,h=m.captureMenuScroll,f=m.inputValue,p=m.isLoading,x=m.loadingMessage,g=m.minMenuHeight,b=m.maxMenuHeight,v=m.menuIsOpen,y=m.menuPlacement,w=m.menuPosition,j=m.menuPortalTarget,N=m.menuShouldBlockScroll,_=m.menuShouldScrollIntoView,S=m.noOptionsMessage,k=m.onMenuScrollToTop,C=m.onMenuScrollToBottom;if(!v)return null;var E,T=function(t,a){var r=t.type,n=t.data,s=t.isDisabled,l=t.isSelected,o=t.label,i=t.value,m=u===n,h=s?void 0:function(){return e.onOptionHover(n)},f=s?void 0:function(){return e.selectOption(n)},p="".concat(e.getElementId("option"),"-").concat(a),x={id:p,onClick:f,onMouseMove:h,onMouseOver:h,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:l};return Q.createElement(d,Bg({},c,{innerProps:x,data:n,isDisabled:s,isSelected:l,key:p,label:o,type:r,value:i,isFocused:m,innerRef:m?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())E=this.getCategorizedOptions().map((function(t){if("group"===t.type){var n=t.data,s=t.options,l=t.index,o="".concat(e.getElementId("group"),"-").concat(l),i="".concat(o,"-heading");return Q.createElement(a,Bg({},c,{key:o,data:n,options:s,Heading:r,headingProps:{id:i,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return T(e,"".concat(l,"-").concat(e.index))})))}if("option"===t.type)return T(t,"".concat(t.index))}));else if(p){var O=x({inputValue:f});if(null===O)return null;E=Q.createElement(o,c,O)}else{var D=S({inputValue:f});if(null===D)return null;E=Q.createElement(i,c,D)}var A={minMenuHeight:g,maxMenuHeight:b,menuPlacement:y,menuPosition:w,menuShouldScrollIntoView:_},P=Q.createElement(Zse,Bg({},c,A),(function(t){var a=t.ref,r=t.placerProps,l=r.placement,o=r.maxHeight;return Q.createElement(n,Bg({},c,A,{innerRef:a,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:p,placement:l}),Q.createElement(toe,{captureEnabled:h,onTopArrive:k,onBottomArrive:C,lockEnabled:N},(function(t){return Q.createElement(s,Bg({},c,{innerRef:function(a){e.getMenuListRef(a),t(a)},innerProps:{role:"listbox","aria-multiselectable":c.isMulti,id:e.getElementId("listbox")},isLoading:p,maxHeight:o,focusedOption:u}),E)})))}));return j||"fixed"===w?Q.createElement(l,Bg({},c,{appendTo:j,controlElement:this.controlRef,menuPlacement:y,menuPosition:w}),P):P}},{key:"renderFormField",value:function(){var e=this,t=this.props,a=t.delimiter,r=t.isDisabled,n=t.isMulti,s=t.name,l=t.required,o=this.state.selectValue;if(l&&!this.hasValue()&&!r)return Q.createElement(roe,{name:s,onFocus:this.onValueInputFocus});if(s&&!r){if(n){if(a){var i=o.map((function(t){return e.getOptionValue(t)})).join(a);return Q.createElement("input",{name:s,type:"hidden",value:i})}var d=o.length>0?o.map((function(t,a){return Q.createElement("input",{key:"i-".concat(a),name:s,type:"hidden",value:e.getOptionValue(t)})})):Q.createElement("input",{name:s,type:"hidden",value:""});return Q.createElement("div",null,d)}var c=o[0]?this.getOptionValue(o[0]):"";return Q.createElement("input",{name:s,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,a=t.ariaSelection,r=t.focusedOption,n=t.focusedValue,s=t.isFocused,l=t.selectValue,o=this.getFocusableOptions();return Q.createElement(Dle,Bg({},e,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:r,focusedValue:n,isFocused:s,selectValue:l,focusableOptions:o,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,a=e.IndicatorsContainer,r=e.SelectContainer,n=e.ValueContainer,s=this.props,l=s.className,o=s.id,i=s.isDisabled,d=s.menuIsOpen,c=this.state.isFocused,u=this.commonProps=this.getCommonProps();return Q.createElement(r,Bg({},u,{className:l,innerProps:{id:o,onKeyDown:this.onKeyDown},isDisabled:i,isFocused:c}),this.renderLiveRegion(),Q.createElement(t,Bg({},u,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:i,isFocused:c,menuIsOpen:d}),Q.createElement(n,Bg({},u,{isDisabled:i}),this.renderPlaceholderOrValue(),this.renderInput()),Q.createElement(a,Bg({},u,{isDisabled:i}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.prevProps,r=t.clearFocusValueOnUpdate,n=t.inputIsHiddenAfterUpdate,s=t.ariaSelection,l=t.isFocused,o=t.prevWasFocused,i=t.instancePrefix,d=e.options,c=e.value,u=e.menuIsOpen,m=e.inputValue,h=e.isMulti,f=Ose(c),p={};if(a&&(c!==a.value||d!==a.options||u!==a.menuIsOpen||m!==a.inputValue)){var x=u?function(e,t){return hoe(moe(e,t))}(e,f):[],g=u?foe(moe(e,f),"".concat(i,"-option")):[],b=r?function(e,t){var a=e.focusedValue,r=e.selectValue.indexOf(a);if(r>-1){if(t.indexOf(a)>-1)return a;if(r<t.length)return t[r]}return null}(t,f):null,v=function(e,t){var a=e.focusedOption;return a&&t.indexOf(a)>-1?a:t[0]}(t,x);p={selectValue:f,focusedOption:v,focusedOptionId:xoe(g,v),focusableOptionsWithIds:g,focusedValue:b,clearFocusValueOnUpdate:!1}}var y=null!=n&&e!==a?{inputIsHidden:n,inputIsHiddenAfterUpdate:void 0}:{},w=s,j=l&&o;return l&&!j&&(w={value:Wse(h,f,f[0]||null),options:f,action:"initial-input-focus"},j=!o),"initial-input-focus"===(null==s?void 0:s.action)&&(w=null),Rae(Rae(Rae({},p),y),{},{prevProps:e,ariaSelection:w,prevWasFocused:j})}}],a&&Wae(t.prototype,a),r&&Wae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(Q.Component);_oe.defaultProps=coe;var Soe=Q.forwardRef((function(e,t){var a,r,n,s,l,o,i,d,c,u,m,h,f,p,x,g,b,v,y,w,j,N,_,S,k,C,E,T,O,D,A,P=(r=(a=e).defaultInputValue,n=void 0===r?"":r,s=a.defaultMenuIsOpen,l=void 0!==s&&s,o=a.defaultValue,i=void 0===o?null:o,d=a.inputValue,c=a.menuIsOpen,u=a.onChange,m=a.onInputChange,h=a.onMenuClose,f=a.onMenuOpen,p=a.value,x=Uae(a,Hae),g=zae(Q.useState(void 0!==d?d:n),2),b=g[0],v=g[1],y=zae(Q.useState(void 0!==c?c:l),2),w=y[0],j=y[1],N=zae(Q.useState(void 0!==p?p:i),2),_=N[0],S=N[1],k=Q.useCallback((function(e,t){"function"==typeof u&&u(e,t),S(e)}),[u]),C=Q.useCallback((function(e,t){var a;"function"==typeof m&&(a=m(e,t)),v(void 0!==a?a:e)}),[m]),E=Q.useCallback((function(){"function"==typeof f&&f(),j(!0)}),[f]),T=Q.useCallback((function(){"function"==typeof h&&h(),j(!1)}),[h]),O=void 0!==d?d:b,D=void 0!==c?c:w,A=void 0!==p?p:_,Rae(Rae({},x),{},{inputValue:O,menuIsOpen:D,onChange:k,onInputChange:C,onMenuClose:T,onMenuOpen:E,value:A}));return Q.createElement(_oe,Bg({ref:t},P))}));function koe(){var e;const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState([]),[l,o]=Q.useState(!0),[i,d]=Q.useState({}),[c,h]=Q.useState(!1),[f,x]=Q.useState(!1),[g,b]=Q.useState(!1),[v,y]=Q.useState(null),[w,j]=Q.useState({name:"",url:"",parent_id:0,sequence:""}),[N,_]=Q.useState(""),[S,k]=Q.useState(0),[C,E]=Q.useState(0),T=10,[O,D]=Q.useState(!1),A=Q.useRef(0),P=Q.useRef(""),[M,L]=Q.useState(0),[I,F]=Q.useState(!1),R=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const[a,n]=yield Promise.all([Uf.get(`${t}/api/menus`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),Uf.get(`${t}/api/menus`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0})]);s(a.data),r(n.data),E(Math.ceil(n.data.length/T))}catch(e){console.error("Error fetching menus:",e),d({fetch:e.message})}finally{o(!1)}})),$=e=>{const t=n.find((t=>t.menu_id===e));return t?t.name:"None"};Q.useEffect((()=>{R()}),[]);const B=()=>{h(!1),x(!1),b(!1),y(null),F(!1),L(0),d({})},z=[{value:0,label:"None"},...[...new Map(n.map((e=>[e.menu_id,e]))).values()].map((e=>({value:e.menu_id,label:e.name})))],U=e=>p(this,null,(function*(){var a,r;if(!e)return L(0),void F(!1);o(!0);try{const n=localStorage.getItem("authToken");n||hp.error("No authentication token found");const s=yield fetch(`${t}/api/get_maximumsequenceforparent?parent_id=${e}`,{headers:{Authorization:`Bearer ${n}`,Accept:"application/json"}});s.ok||hp.error("Failed to fetch sequence data");const l=yield s.json(),o=(null==(r=null==(a=null==l?void 0:l.data)?void 0:a[0])?void 0:r.max_sequence)||0;L(o),F(!0)}catch(n){console.error("Error fetching sequence:",n),d((e=>m(u({},e),{fetch:n.message})))}finally{o(!1)}}));Q.useEffect((()=>{const e=N.trim().toLowerCase();""!==e&&""===P.current&&(A.current=S,k(0)),""===e&&""!==P.current&&k(A.current),P.current=e}),[N]);const H=N.trim().toLowerCase(),W=a.filter((e=>{var t,a,r;return(null==(t=e.name)?void 0:t.toLowerCase().includes(H))||(null==(a=e.url)?void 0:a.toLowerCase().includes(H))||(null==(r=e.parent_name)?void 0:r.toLowerCase().includes(H))||String(e.sequence).includes(H)}));Q.useEffect((()=>{E(Math.ceil(W.length/T))}),[W,T]);const Y=W.slice(S*T,(S+1)*T);return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-[90%] shadow-lg",children:[oe.jsxs("div",{className:"card-header flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Menus"}),oe.jsxs("div",{className:"d-flex align-items-center",children:[oe.jsx("input",{type:"text",className:"form-control me-3",placeholder:"Search",value:N,onChange:e=>_(e.target.value)}),oe.jsxs("button",{className:"btn btn-primary btn-sm",style:{display:"flex",alignItems:"center",height:"36px"},onClick:()=>{j({name:"",url:"",parent_id:"",sequence:""}),h(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]  -top-0.5 mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"w-full md:w-[8%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"URL"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Parent"}),oe.jsx("th",{className:"w-full md:w-[10%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sequence"}),oe.jsx("th",{className:" w-full md:w-[10%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:" w-full md:w-[10%] px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:l?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):Y.length?Y.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[S*T+t+1," "]})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.url})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:$(e.parent_id)})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.sequence})})," ",oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{y(e),U(e.parent_id),j({name:e.name,url:e.url,parent_id:e.parent_id,sequence:e.sequence}),x(!0)})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{const t=a.find((t=>t.menu_id===e));y({menuToDelete:t}),b(!0)})(e.menu_id),className:"text-red-600 hover:text-red-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:VM})})})]},null==e?void 0:e.menu_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:"flex justify-center mt-4",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:C,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{k(e.selected)},containerClassName:"pagination",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",nextClassName:"page-item",previousLinkClassName:"page-link",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link"})})]})]})}),c&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between px-3 py-2",children:[oe.jsx("h5",{className:"modal-title",children:"Add New Menu"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:B})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body w-full md:w-[85%] mx-auto",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-2",children:[oe.jsxs("label",{htmlFor:"menuName",className:"w-1/2 mt-2",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:255,className:"form-control shadow-md mb-2",id:"menuName",value:null==w?void 0:w.name,onChange:e=>{j(m(u({},w),{name:e.target.value})),d((e=>m(u({},e),{name:""})))}}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:i.name&&oe.jsx("span",{className:"text-danger text-xs",children:i.name})})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-2",children:[oe.jsx("label",{htmlFor:"menuUrl",className:"w-1/2 mt-2",children:"URL"}),oe.jsx("input",{type:"text",maxLength:255,className:"form-control shadow-md mb-2",id:"menuUrl",value:w.url,onChange:e=>{j(m(u({},w),{url:e.target.value})),d((e=>m(u({},e),{url:""})))}})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-2",children:[oe.jsx("label",{htmlFor:"editParentId",className:"w-1/2 mt-2",children:"Parent"}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{inputId:"editParentId",className:"shadow-md mb-2",value:z.find((e=>e.value===w.parent_id)),onChange:e=>{const t=e?e.value:0;j((e=>m(u({},e),{parent_id:t}))),d((e=>m(u({},e),{parent_id:""}))),U(t)},styles:{control:e=>m(u({},e),{minHeight:"32px",fontSize:"0.85rem"}),option:e=>m(u({},e),{fontSize:"0.90rem"})},options:z,isClearable:!0}),oe.jsx("div",{className:"absolute top-14 left-1/3",children:i.parent_id&&oe.jsx("span",{className:"text-danger text-xs",children:i.parent_id})})]})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-2",children:[oe.jsxs("label",{htmlFor:"menuSequence",className:"w-1/2 mt-2",children:["Sequence ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",maxLength:11,className:"form-control shadow-md ",id:"menuSequence",value:w.sequence,onChange:e=>{j(m(u({},w),{sequence:e.target.value})),d((e=>m(u({},e),{sequence:""})))}}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:i.sequence&&oe.jsx("span",{className:"text-danger text-xs",children:i.sequence})})]})]}),oe.jsxs("div",{className:"flex justify-end p-3 ",children:[I&&oe.jsxs("div",{className:" relative left-[8%] text-md text-center  mx-auto text-gray-800 mt-1",children:["Last Sequence No:"," ",oe.jsx("span",{className:"font-semibold text-blue-500",children:M})]}),oe.jsx("button",{type:"button",className:"btn btn-primary  mb-2 ",onClick:()=>p(this,null,(function*(){var e,a,r,n;if(O)return;const s={};if((null==(e=w.name)?void 0:e.trim())||(s.name="This field is required"),(null==(a=w.sequence)?void 0:a.toString().trim())||(s.sequence="This field is required"),Object.keys(s).length>0)d(s);else{D(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");yield Uf.post(`${t}/api/menus`,w,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),R(),B(),hp.success("Menu added successfully!")}catch(l){(null==(n=null==(r=l.response)?void 0:r.data)?void 0:n.errors)?d(l.response.data.errors):(console.error("Error adding menu:",l),d({add:l.message}))}finally{D(!1)}}})),disabled:O,children:O?"Adding...":"Add"})]})]})})})}),f&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between px-3 py-2",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Menu"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:B})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body w-full md:w-[85%] mx-auto",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-2",children:[oe.jsxs("label",{htmlFor:"editMenuName",className:"w-1/2 mt-2",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:255,className:"form-control shadow-md mb-2",id:"editMenuName",value:w.name,onChange:e=>{j(m(u({},w),{name:e.target.value})),d((e=>m(u({},e),{name:""})))}}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:i.name&&oe.jsx("span",{className:"text-danger text-xs",children:i.name})})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-2",children:[oe.jsx("label",{htmlFor:"editMenuUrl",className:"w-1/2 mt-2",children:"URL"}),oe.jsx("input",{type:"text",maxLength:255,className:"form-control shadow-md mb-2",id:"editMenuUrl",value:w.url,onChange:e=>{j(m(u({},w),{url:e.target.value})),d((e=>m(u({},e),{url:""})))}})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-2",children:[oe.jsx("label",{htmlFor:"editParentId",className:"w-1/2 mt-2",children:"Parent"}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{inputId:"editParentId",className:"shadow-md mb-2",value:z.find((e=>e.value===w.parent_id)),onChange:e=>{const t=e?e.value:0;j((e=>m(u({},e),{parent_id:t}))),d((e=>m(u({},e),{parent_id:""}))),U(t)},styles:{control:e=>m(u({},e),{minHeight:"32px",fontSize:"0.85rem"}),option:e=>m(u({},e),{fontSize:"0.90rem"})},options:z,isClearable:!0}),oe.jsx("div",{className:"absolute top-14 left-1/3",children:i.parent_id&&oe.jsx("span",{className:"text-danger text-xs",children:i.parent_id})})]})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-2",children:[oe.jsxs("label",{htmlFor:"editMenuSequence",className:"w-1/2  mt-2",children:["Sequence ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",maxLength:11,className:"form-control shadow-md ",id:"editMenuSequence",value:w.sequence,onChange:e=>{j(m(u({},w),{sequence:e.target.value})),d((e=>m(u({},e),{sequence:""})))}}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:i.sequence&&oe.jsx("span",{className:"text-danger text-xs",children:i.sequence})})]})]}),oe.jsxs("div",{className:"flex justify-end p-3",children:[I&&oe.jsxs("div",{className:" relative left-[12%] text-md text-center  mx-auto text-gray-800 mt-1",children:["Last Sequence No:"," ",oe.jsx("span",{className:"font-semibold text-blue-500",children:M})]}),oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){var e,a,r,n;if(O)return;const s={};if((null==(e=w.name)?void 0:e.trim())||(s.name="This field is required"),(null==(a=w.sequence)?void 0:a.toString().trim())||(s.sequence="This field is required"),Object.keys(s).length>0)d(s);else{D(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");console.log("uupdate data:",w),yield Uf.put(`${t}/api/menus/${v.menu_id}`,w,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),R(),B(),hp.success("Menu updated successfully!")}catch(l){(null==(n=null==(r=l.response)?void 0:r.data)?void 0:n.message)?d(l.response.data.errors):(console.error("Error editing menu:",l),d({edit:l.message}))}finally{D(!1)}}})),disabled:O,children:O?"Updating...":"Update"})]})]})})})}),g&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:B}),console.log("Delete--\x3e",v)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this menu"," ",` ${null==(e=null==v?void 0:v.menuToDelete)?void 0:e.name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var e,a,r;if(!O){D(!0);try{const a=localStorage.getItem("authToken");if(!a||!(null==(e=null==v?void 0:v.menuToDelete)?void 0:e.menu_id))throw new Error("Menu ID is missing");yield Uf.delete(`${t}/api/menus/${v.menuToDelete.menu_id}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0}),R(),b(!1),y(null),hp.success("Menu deleted successfully!")}catch(n){console.error("Error deleting role:",n);const e=null==(r=null==(a=null==n?void 0:n.response)?void 0:a.data)?void 0:r.message;e?hp.error(e):hp.error("Error deleting role.")}finally{D(!1),b(!1)}}})),disabled:O,children:O?"Deleting...":"Delete"})})]})})})})]})}function Coe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(0),[k,C]=Q.useState(0),[E,T]=Q.useState(""),[O,D]=Q.useState({}),[A,P]=Q.useState(""),[M,L]=Q.useState(!0),[I,F]=Q.useState(""),[R,$]=Q.useState([]),[B,z]=Q.useState(!1),U=Q.useRef(0),H=Q.useRef("");Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/get_class_for_division`,{headers:{Authorization:`Bearer ${t}`}});Array.isArray(a.data)?$(a.data):l("Unexpected data format")}catch(t){console.error("Error fetching class names:",t)}}))})()}),[]);const W=10,Y=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/getDivision`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a(r.data),C(Math.ceil(r.data.length/W))}catch(t){l(t.message)}finally{n(!1)}})),q=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});F(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",I)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")}));Q.useEffect((()=>{Y(),q()}),[]),Q.useEffect((()=>{const e=y.trim().toLowerCase();""!==e&&""===H.current&&(U.current=_,S(0)),""===e&&""!==H.current&&S(U.current),H.current=e}),[y]);const V=y.trim().toLowerCase(),G=t.filter((e=>{var t,a,r;return(null==(a=null==(t=null==e?void 0:e.get_class)?void 0:t.name)?void 0:a.toLowerCase().includes(V))||(null==(r=null==e?void 0:e.name)?void 0:r.toLowerCase().includes(V))}));Q.useEffect((()=>{C(Math.ceil(G.length/W))}),[G,W]);const K=G.slice(_*W,(_+1)*W);console.log("displayed sections",K);const X=(e,t)=>{const a={};return e&&""!==e.trim()?e.length>30&&(a.name="The name field must not exceed 30 character."):a.name="Please enter division name.",t||(a.department_id="Please Select class."),a},J=()=>{i(!1),c(!1),f(!1),v(""),T(""),g(null),D({}),P("")},Z=e=>{const{value:t}=e.target;P(""),v(t),D((e=>m(u({},e),{name:X(t,E).name})))},ee=e=>{const{value:t}=e.target;N(t),T(t),D((t=>m(u({},t),{department_id:X(b,e.target.value).department_id})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container  mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-[70%] shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Division"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:y,onChange:e=>w(e.target.value)})}),"M"!==I?r?oe.jsx("div",{className:"h-9 w-20 bg-gray-300 animate-pulse rounded-sm"}):oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]}):null]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden mx-auto "+("M"===I?"w-full md:w-[55%]":"w-full md:w-[84%]"),children:oe.jsx("div",{className:"bg-white  rounded-lg shadow-xs ",children:I?r?oe.jsx("div",{className:"flex justify-center items-center w-full h-[50vh]",children:oe.jsx("div",{className:"text-xl text-blue-700 text-center",children:"Please wait while data is loading..."})}):oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[12%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:" -px-2  w-full md:w-[25%] text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Divisions"}),oe.jsx("th",{className:"px-2 text-center lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),"M"!==I&&oe.jsxs(oe.Fragment,{children:[oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})]})}),oe.jsx("tbody",{children:r?oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center text-blue-700 text-xl py-10",children:"Please wait while data is loading..."})}):K.length?K.map(((e,a)=>{var r;return oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:_*W+a+1})}),oe.jsx("td",{className:"text-center px-2  border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-5 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==(r=null==e?void 0:e.get_class)?void 0:r.name})}),"M"!==I&&oe.jsxs(oe.Fragment,{children:[oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{g(e),v(e.name),N(e.get_class.class_id),T(e.get_class.class_id),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})," "]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{const a=t.find((t=>t.section_id===e));g(a),f(!0)})(e.section_id),children:oe.jsx(zM,{icon:VM})})})]})]},e.section_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]}):oe.jsx("div",{className:"flex justify-center items-center w-full h-[50vh]",children:oe.jsx("div",{className:"text-xl text-blue-700 text-center",children:"Please wait while data is loading..."})})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:k,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{S(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Division"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:J})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Division Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"sectionName",value:b,onChange:Z}),oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[!M&&oe.jsx("span",{className:" block text-danger text-xs",children:A}),O.name&&oe.jsx("span",{className:"text-danger text-xs",children:O.name})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"departmentId",className:"form-control shadow-md",value:E,onChange:ee,children:[oe.jsx("option",{value:"",children:"Select "}),0===R.length?oe.jsx("option",{value:"",children:"No classes available"}):R.map((e=>oe.jsx("option",{value:e.class_id,className:"max-h-20 overflow-y-scroll ",children:e.name},e.class_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:O.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:O.department_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){var t;if(B)return;z(!0);const a=X(b,E);if(Object.keys(a).length>0)return D(a),void z(!1);try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");if(!0===(null==(t=(yield Uf.post(`${e}/api/check_division_name`,{name:b,class_id:E},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0})).data)?void 0:t.exists))return P("Name already taken."),L(!1),void z(!1);P(""),L(!0),yield Uf.post(`${e}/api/store_division`,{name:b,class_id:E},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0}),Y(),J(),hp.success("Division added successfully!")}catch(r){console.error("Error adding Division:",r),r.response&&r.response.data&&r.response.data.errors?Object.values(r.response.data.errors).forEach((e=>hp.error(e))):hp.error("Server error. Please try again later.")}finally{z(!1)}})),disabled:B,children:B?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Division"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:J})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-1/2 mt-2",children:["Division Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"editSectionName",value:b,onChange:Z}),oe.jsxs("div",{className:"absolute top-9 left-1/3 ",children:[!M&&oe.jsx("span",{className:" block text-red-500 text-xs",children:A}),O.name&&oe.jsx("span",{className:"text-danger text-xs",children:O.name})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editDepartmentId",className:"w-1/2 mt-2",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"editDepartmentId",className:"form-control shadow-md",value:j,onChange:ee,children:[oe.jsx("option",{value:"",children:"Select"}),console.log("the classes",R),0===R.length?oe.jsx("option",{value:"",children:"No classes available"}):R.map((e=>oe.jsx("option",{value:e.class_id,children:e.name},e.class_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:O.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:O.department_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){if(B)return;z(!0);const t=X(b,E);if(Object.keys(t).length>0)return D(t),void z(!1);try{const t=localStorage.getItem("authToken");if(!t||!x||!x.section_id)throw new Error("No authentication token or section ID found");yield Uf.put(`${e}/api/getDivision/${x.section_id}`,{name:b,class_id:E},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),Y(),J(),hp.success("Division updated successfully!")}catch(a){if(console.error("Error editing Division:",a),console.log("erroris",a.response),a.response&&422===a.response.data.status){const e=a.response.data.errors;console.log("error",e),e.name&&(D((t=>m(u({},t),{name:e.name}))),e.name.forEach((e=>hp.error(e))))}else hp.error("Server error. Please try again later.")}finally{z(!1)}})),disabled:B,children:B?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:J})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete Division:"," ",x.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!B){z(!0);try{const t=localStorage.getItem("authToken"),a=localStorage.getItem("academicYear");if(!t||!x||!x.section_id)throw new Error("Division ID is missing");const r=yield Uf.delete(`${e}/api/getDivision/${x.section_id}`,{headers:{Authorization:`Bearer ${t}`,"X-Academic-Year":a},withCredentials:!0});r.data.success?(Y(),f(!1),g(null),hp.success("Division deleted successfully!")):hp.error(r.data.message||"Failed to delete Division")}catch(t){console.error("Error deleting Division:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{z(!1),f(!1)}}})),disabled:B,children:B?"Deleting...":"Delete"})})]})})})]})]})}function Eoe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!0),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(0),[k,C]=Q.useState(0),[E,T]=Q.useState(""),[O,D]=Q.useState({}),[A,P]=Q.useState(""),[M,L]=Q.useState(!0),[I,F]=Q.useState(["Scholastic","Co-Scholastic","Social","Compulsory","Optional","Co-Scholastic_hsc"]),[R,$]=Q.useState(""),[B,z]=Q.useState(!1),U=Q.useRef(0),H=Q.useRef(""),W=10;Q.useEffect((()=>{Y(),q()}),[]);const Y=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});$(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",R)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")})),q=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/subject`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("the data of subject api inside the subjectlis component",r.data),a(r.data)}catch(t){l(t.message)}finally{n(!1)}}));Q.useEffect((()=>{const e=y.trim().toLowerCase();""!==e&&""===H.current&&(U.current=_,S(0)),""===e&&""!==H.current&&S(U.current),H.current=e}),[y]);const V=y.trim().toLowerCase(),G=t.filter((e=>{var t,a;return(null==(t=null==e?void 0:e.subject_type)?void 0:t.toLowerCase().includes(V))||(null==(a=null==e?void 0:e.name)?void 0:a.toLowerCase().includes(V))}));Q.useEffect((()=>{C(Math.ceil(G.length/W))}),[G,W]);const K=G.slice(_*W,(_+1)*W);Q.useEffect((()=>{C(Math.ceil(G.length/W))}),[G]);const X=(e,t)=>{const a={};return e&&""!==e.trim()?e.length>50&&(a.name="The name field must not exceed 50 characters."):a.name="Please enter subject name.",t||(a.department_id="Please select subject type."),a},J=()=>{i(!1),c(!1),f(!1),v(""),T(""),g(null),D({}),P("")},Z=e=>{const{value:t}=e.target;v(t),D((e=>m(u({},e),{name:X(t,E).name})))},ee=e=>{const{value:t}=e.target;N(t),T(t),D((e=>m(u({},e),{department_id:X(b,t).department_id})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Subject"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:y,onChange:e=>w(e.target.value)})}),"M"!==R?r?oe.jsx("div",{className:"h-9 w-20 bg-gray-300 animate-pulse rounded-sm"}):oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]}):null]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden mx-auto "+("M"===R?"w-full md:w-[65%]":"w-full md:w-[80%]"),children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:R?r?oe.jsx("div",{className:"flex justify-center items-center w-full h-[50vh]",children:oe.jsx("div",{className:"text-xl text-blue-700 text-center",children:"Please wait while data is loading..."})}):oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Type"}),"M"!==R&&oe.jsxs(oe.Fragment,{children:[oe.jsx("th",{className:"px-2 w-full md:w-[12%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[12%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):K.length?K.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:_*W+a+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.subject_type})}),"M"!==R&&oe.jsxs(oe.Fragment,{children:[oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{g(e),console.log("this is edit ",e.name),console.log("sectionsID for subject",e.sm_id),v(e.name),N(e.name),T(e.subject_type),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})," "]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("the deleted subject id",e);const a=t.find((t=>t.sm_id===e));g(a),f(!0)})(e.sm_id),children:oe.jsx(zM,{icon:VM})})})]})]},e.section_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]}):oe.jsx("div",{className:"flex justify-center items-center w-full h-[50vh]",children:oe.jsx("div",{className:"text-xl text-blue-700 text-center",children:"Please wait while data is loading..."})})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:k,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{S(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Subject"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:J})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Subject Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,className:"form-control shadow-md mb-2",id:"sectionName",value:b,onChange:Z})," ",oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[!M&&oe.jsx("span",{className:" block text-danger text-xs",children:A}),O.name&&oe.jsx("small",{className:"text-danger text-xs",children:O.name})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Subject Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"departmentId",className:"form-control shadow-md",value:E,onChange:ee,children:[oe.jsx("option",{value:"",children:"Select"}),I.map(((e,t)=>oe.jsx("option",{value:e,children:e},t)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:O.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:O.department_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){var t;if(B)return;z(!0);const a=X(b,E);if(Object.keys(a).length>0)return D(a),void z(!1);try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token or academic year found");if(!0===(null==(t=(yield Uf.post(`${e}/api/check_subject_name`,{name:b,subject_type:E},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0})).data)?void 0:t.exists))return P("Name and Subject Type is already taken."),L(!1),void z(!1);P(""),L(!0),console.log("This is post Form"),console.log("This is post data Name:",b),console.log("This is post data class_id:",E),yield Uf.post(`${e}/api/subject`,{name:b,subject_type:E},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0}),q(),J(),hp.success("subject added successfully!")}catch(r){console.error("Error adding subject:",r),r.response&&r.response.data&&r.response.data.errors?Object.values(r.response.data.errors).forEach((e=>hp.error(e))):hp.error("Server error. Please try again later.")}finally{z(!1)}})),disabled:B,children:B?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Subject"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:J})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-1/2 mt-2",children:["Subject Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,className:"form-control shadow-md mb-2",id:"editSectionName",value:b,onChange:Z}),oe.jsxs("div",{className:"absolute top-9 left-1/3 ",children:[!M&&oe.jsx("span",{className:" block text-danger text-xs",children:A}),O.name&&oe.jsx("span",{className:"text-danger text-xs",children:O.name})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editDepartmentId",className:"w-1/2 mt-2",children:["Subject Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"editDepartmentId",className:"form-control shadow-md",value:E,onChange:ee,children:[console.log("the vlause of the class",j),oe.jsx("option",{value:"",children:"Select"}),I.map(((e,t)=>oe.jsxs("option",{value:e,children:[" ",e]},t)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:O.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:O.department_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary  px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(B)return;z(!0);const t=X(b,E);if(Object.keys(t).length)return D(t),void z(!1);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token or academic year found");console.log("This is edit Form******"),console.log("This is Edit data ID:",x.sm_id),console.log("This is Edit data Name:",b),console.log("This is Edit data class_id:",E),yield Uf.put(`${e}/api/subject/${x.sm_id}`,{name:b,subject_type:E},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),q(),J(),hp.success("Subject updated successfully!")}catch(a){if(console.error("Error editing subject:",a),a.response&&422===a.response.data.status){const e=a.response.data.errors;console.log("error",e),e.name&&(D((t=>m(u({},t),{name:e.name}))),e.name.forEach((e=>hp.error(e))))}else hp.error("Server error. Please try again later.")}finally{z(!1)}})),disabled:B,children:B?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:J})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete Subject:"," ",null==x?void 0:x.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!B){z(!0);try{const t=localStorage.getItem("authToken");if(!t||!x||!x.sm_id)throw new Error("subject ID is missing");const a=yield Uf.delete(`${e}/api/subject/${x.sm_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("The response of the delete api in the division module",a.data),a.data.success?(q(),f(!1),g(null),hp.success("subject deleted successfully!")):hp.error(a.data.message||"Failed to delete Division")}catch(t){console.error("Error deleting Subject:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{z(!1),f(!1)}}})),disabled:B,children:B?"Deleting...":"Delete"})})]})})})]})]})}var Toe=["in","onExited","appear","enter","exit"],Ooe=function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var a=Uae(t,Toe);return Q.createElement(e,a)}},Doe=["component","duration","in","onExited"],Aoe=function(e){var t=e.component,a=e.duration,r=void 0===a?1:a,n=e.in;e.onExited;var s=Uae(e,Doe),l=Q.useRef(null),o={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(r,"ms")},exiting:{opacity:0},exited:{opacity:0}};return Q.createElement(gb,{mountOnEnter:!0,unmountOnExit:!0,in:n,timeout:r,nodeRef:l},(function(e){var a={style:Rae({},o[e]),ref:l};return Q.createElement(t,Bg({innerProps:a},s))}))},Poe=function(e){var t=e.children,a=e.in,r=e.onExited,n=Q.useRef(null),s=zae(Q.useState("auto"),2),l=s[0],o=s[1];Q.useEffect((function(){var e=n.current;if(e){var t=window.requestAnimationFrame((function(){return o(e.getBoundingClientRect().width)}));return function(){return window.cancelAnimationFrame(t)}}}),[]);var i=function(e){switch(e){default:return{width:l};case"exiting":return{width:0,transition:"width ".concat(260,"ms ease-out")};case"exited":return{width:0}}};return Q.createElement(gb,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:a,onExited:function(){var e=n.current;e&&(null==r||r(e))},timeout:260,nodeRef:n},(function(e){return Q.createElement("div",{ref:n,style:Rae({overflow:"hidden",whiteSpace:"nowrap"},i(e))},t)}))},Moe=["in","onExited"],Loe=function(e){return function(t){var a=t.in,r=t.onExited,n=Uae(t,Moe);return Q.createElement(Poe,{in:a,onExited:r},Q.createElement(e,Bg({cropWithEllipsis:a},n)))}},Ioe=function(e){return function(t){return Q.createElement(Aoe,Bg({component:e,duration:t.isMulti?260:1},t))}},Foe=function(e){return function(t){return Q.createElement(Aoe,Bg({component:e},t))}},Roe=["component"],$oe=["children"],Boe=function(e){var t=e.component,a=Uae(e,Roe),r=zoe(a);return Q.createElement(SC,Bg({component:t},r))},zoe=function(e){var t=e.children,a=Uae(e,$oe),r=a.isMulti,n=a.hasValue,s=a.innerProps,l=a.selectProps,o=l.components,i=l.controlShouldRenderValue,d=zae(Q.useState(r&&i&&n),2),c=d[0],u=d[1],m=zae(Q.useState(!1),2),h=m[0],f=m[1];Q.useEffect((function(){n&&!c&&u(!0)}),[n,c]),Q.useEffect((function(){h&&!n&&c&&u(!1),f(!1)}),[h,n,c]);var p=function(){return f(!0)},x=Rae(Rae({},s),{},{style:Rae(Rae({},null==s?void 0:s.style),{},{display:r&&n||c?"flex":"grid"})});return Rae(Rae({},a),{},{innerProps:x,children:Q.Children.toArray(t).map((function(e){if(r&&Q.isValidElement(e)){if(e.type===o.MultiValue)return Q.cloneElement(e,{onExited:p});if(e.type===o.Placeholder&&c)return null}return e}))})},Uoe=function(e){return function(t){return t.isMulti?Q.createElement(Boe,Bg({component:e},t)):Q.createElement(SC,Bg({component:e},t))}},Hoe=["Input","MultiValue","Placeholder","SingleValue","ValueContainer"],Woe=function(){var e=_le({components:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}),t=e.Input,a=e.MultiValue,r=e.Placeholder,n=e.SingleValue,s=e.ValueContainer,l=Uae(e,Hoe);return Rae({Input:Ooe(t),MultiValue:Loe(a),Placeholder:Ioe(r),SingleValue:Foe(n),ValueContainer:Uoe(s)},l)},Yoe=Woe();Yoe.Input,Yoe.MultiValue,Yoe.Placeholder,Yoe.SingleValue,Yoe.ValueContainer;const qoe=Cle(Woe)(),Voe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]);Q.useState("");const[n,s]=Q.useState(""),[l,o]=Q.useState(""),[i,d]=Q.useState(null),[c,u]=Q.useState([]),[m,h]=Q.useState(null),[f,x]=Q.useState([]),[g,b]=Q.useState(!1),[v,y]=Q.useState(!1);sm();const[w,j]=Q.useState(""),[N,_]=Q.useState(!1);Q.useEffect((()=>{k(),S()}),[]);const S=()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),r=a.data.map((e=>({value:e.reg_id,label:e.name})));x(r),console.log("Fetched teacher list:",a.data)}catch(e){h(e.message),hp.error("Error fetching teacher list")}})),k=()=>p(e,null,(function*(){b(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});if(Array.isArray(a.data)){const e=a.data.map((e=>{var t;return{value:e.section_id,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${null==e?void 0:e.name}`,classId:e.class_id,sectionId:e.section_id}}));r(e),console.log("Class and section data:",a.data)}else h("Unexpected data format")}catch(e){console.error("Error fetching class and section names:",e),h("Error fetching class and section names"),hp.error("Error fetching class and section names")}finally{b(!1)}}));return console.log("Updated subjects after teacher selection:",c),console.log("The setSubject if teacher id is unselected",c),oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-6 md:mt-10 w-full  md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{id:"classSection",components:qoe,options:a,value:i,onChange:e=>{j(null),console.log("selectedOption",e),d(e),o(e?e.classId:null),s(e?e.value:null),console.log("Selected class_id:",e.classId),console.log("Selected section_id:",e.value)},placeholder:"Select Class",className:" w-full md:w-[60%] item-center relative left-0 md:left-4",isClearable:!0}),w&&oe.jsx("div",{className:" relative left-4 top-0.5 ml-1 text-danger text-xs",children:w})," "]}),oe.jsx("button",{onClick:()=>p(e,null,(function*(){var e,a;if(!N){if(_(!0),console.log("hfdskjlhjf",l),!l)return j("Please select the class."),void _(!1);b(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/subject-allotment/section/${n}`,{headers:{Authorization:`Bearer ${e}`}});if(console.log("fdslkjfsdlrun"),"success"===a.data.status&&a.data.data){const e=Object.entries(a.data.data).map((([e,t])=>({sm_id:e,subject_name:t.subject_name,selectedTeachers:t.details.filter((e=>e.teacher_id)).map((e=>{var t;return{value:e.teacher_id,label:null==(t=e.teacher)?void 0:t.name}})),details:t.details.map((e=>({subject_id:e.subject_id,teacher_id:e.teacher_id||null})))})));u(e)}else h("Unexpected data format");console.log("Subjects data from GET API by classId:",c)}catch(r){console.log("eerror--\x3eallotTeachrersForsubject",r.response.data.error),console.error("Error fetching subjects:",r),h("Error fetching subjects"),hp.error((null==(a=null==(e=null==r?void 0:r.response)?void 0:e.data)?void 0:a.error)||"Error fetching subjects")}finally{b(!1),_(!1)}}})),type:"button",className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",disabled:N,children:N?"Browsing...":"Browse"})]})})}),c.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Allot Teachers for a class"})," ",oe.jsx(sh,{className:"float-end relative  right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{u([])}})]}),oe.jsx("div",{className:" relative -top-2 mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full md:w-[85%] mx-auto ",children:v?oe.jsx("tr",{children:oe.jsxs("div",{className:" absolute inset-0  flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]})}):oe.jsxs("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:[c.map(((e,t)=>oe.jsxs("div",{className:"border-b border-gray-200 grid grid-cols-3 mx-10 gap-x-8",children:[oe.jsx("div",{className:"relative mt-3 font-semibold text-gray-600",children:e.subject_name}),oe.jsx("div",{className:"relative mt-2 col-span-2 text-[.9em]",children:oe.jsx(Soe,{closeMenuOnSelect:!1,components:qoe,isMulti:!0,options:f,value:e.selectedTeachers,onChange:e=>((e,t)=>{const a=[...c];if(a[t].selectedTeachers=e,a[t].details&&a[t].details.length>0){const r=a[t].details[0].subject_id;a[t].details=e.map((e=>({subject_id:r,teacher_id:e.value||null})))}else console.warn("Details array is empty or undefined for the subject at index:",t),a[t].details=e.map((e=>({subject_id:null,teacher_id:e.value||null})));u(a)})(e,t)})})]},t))),oe.jsx("div",{className:"flex justify-end p-3 mr-5",children:oe.jsx("button",{onClick:()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a={subjects:c.reduce(((e,t)=>{new Set(t.details.map((e=>e.teacher_id)));const a=t.selectedTeachers.map((e=>({subject_id:t.sm_id,teacher_id:e.value})));return e[t.sm_id]={details:a},e}),{})};console.log("Final subject data for PUT request:",c),console.log("Formatted data for PUT request:",a),y(!0);const r=yield Uf.put(`${t}/api/subject-allotments/${l}/${n}`,a,{headers:{Authorization:`Bearer ${e}`}});console.log("Update response:",r.data),hp.success("Teacher allotment updated successfully!"),setTimeout((()=>{u([])}),500)}catch(e){console.error("Error updating teacher allotment:",e),h("Error updating teacher allotment"),hp.error("Error updating teacher allotment")}finally{y(!1),b(!1)}})),type:"button",className:"btn h-10 md:h-auto w-18 md:w-auto btn-primary",children:"Save"})})]})})]})})]})},Goe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState([]),[c,h]=Q.useState(null),[f,x]=Q.useState(null),[g,b]=Q.useState(null),[v,y]=Q.useState(null),[w,j]=Q.useState([]),[N,_]=Q.useState(""),[S,k]=Q.useState(""),[C,E]=Q.useState(""),[T,O]=Q.useState(""),[D,A]=Q.useState(!1),[P,M]=Q.useState(!1);Q.useEffect((()=>{I(),F()}),[]),Q.useEffect((()=>{v?R():j([])}),[v]);const L={control:e=>m(u({},e),{minHeight:"40px"}),valueContainer:e=>m(u({},e),{height:"40px",display:"flex",alignItems:"center"}),input:e=>m(u({},e),{height:"40px"}),dropdownIndicator:e=>m(u({},e),{height:"40px"})},I=()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});r(a.data)}catch(e){hp.error("Error fetching class names")}})),F=()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`}});d(a.data.map((e=>({value:e.reg_id,label:e.name}))))}catch(e){hp.error("Error fetching teachers")}})),R=()=>p(e,null,(function*(){if(v&&c&&g)try{const e=localStorage.getItem("authToken"),a=(yield Uf.get(`${t}/api/get_presign_subject_by_teacher/${c.value}/${g.value}/${v.value}`,{headers:{Authorization:`Bearer ${e}`}})).data.subjects.map((e=>({subject_id:e.subject_id,sm_id:e.sm_id,teacher_id:null==e?void 0:e.teacher_id})));j(a)}catch(e){hp.error("Error fetching pre-subjects")}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Allot Teachers"})}),oe.jsx("div",{className:" relative -top-2 mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full md:w-[85%] mx-auto",children:P?oe.jsx("tr",{children:oe.jsxs("div",{className:" absolute inset-0 py-8 h flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]})}):oe.jsxs("div",{className:"",children:[oe.jsxs("div",{className:" form-group flex justify-center gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{className:"w-1/4 pt-2 relative right-0 md:right-2.5 items-center text-center px-2 lg:px-3 py-2 font-semibold text-[1em] text-gray-700",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{options:a.map((e=>({value:e.class_id,label:e.name}))),value:c,onChange:a=>p(e,null,(function*(){console.log("handleClassChnage",a),x(a.value),h(a),b(null),y(null),E(""),O(""),s([]),o([]),j([]),_("");try{const e=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_divisions/${a.value}`,{headers:{Authorization:`Bearer ${e}`}});s(r.data.divisions)}catch(e){hp.error("Error fetching divisions")}})),placeholder:"Select",styles:L,className:"w-full md:w-[50%]"}),N&&oe.jsx("p",{className:" absolute text-red-500 text-xs",children:N})]})]}),oe.jsxs("div",{className:" form-group  gap-x-1 relative  left-0 md:-left-5 flex justify-start  mt-4",children:[oe.jsxs("label",{className:"w-1/4 pt-2  items-center text-center   py-2 font-semibold text-[1em] text-gray-700",children:["Select Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full  md:w-[39%]  ",children:[oe.jsxs("select",{className:"form-control ",value:g?g.value:"",onChange:a=>{var r,s;return s={value:a.target.value,label:null==(r=n.find((e=>e.section_id==a.target.value)))?void 0:r.name},p(e,null,(function*(){var e,a;console.log("handleDivisionChnage",s),b(s),o([]),j([]),k("");try{const r=localStorage.getItem("authToken"),n=new URLSearchParams;n.append("section_id[]",s.value);const l=yield Uf.get(`${t}/api/get_presubjects/${f}?${n.toString()}`,{headers:{Authorization:`Bearer ${r}`}});o(null==(e=l.data)?void 0:e.subjects),console.log("presubjects comes",null==(a=l.data)?void 0:a.subjects)}catch(r){hp.error("Error fetching subjects")}}))},disabled:!c,children:[oe.jsx("option",{value:"",children:"Select"}),n.map((e=>oe.jsx("option",{value:e.section_id,children:e.name},e.section_id)))]}),S&&oe.jsx("p",{className:"absolute text-red-500 text-xs",children:S})]})]}),oe.jsxs("div",{className:" form-group flex justify-center gap-x-1 md:gap-x-6 mt-4",children:[oe.jsxs("label",{className:"w-1/4 relative right-0 md:right-0.5 pt-2 items-center text-center px-2 lg:px-3 py-2 font-semibold text-[1em] text-gray-700",children:["Select Teacher ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{options:i,value:v,onChange:y,placeholder:"Select",styles:L,isDisabled:!g,isClearable:!0,className:"w-full md:w-[50%]"}),C&&oe.jsx("p",{className:"absolute text-red-500 text-xs",children:C})]})]}),oe.jsxs("div",{className:" form-group flex justify-center gap-x-1 md:gap-x-6 mt-4",children:[oe.jsxs("label",{className:"w-1/4  pt-2 items-center text-center px-2 lg:px-3 py-2 font-semibold text-[1em] text-gray-700 ",children:["Select Subjects ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx("div",{className:"relative gap-x-10 top-2   grid grid-cols-3  w-full",children:l.map((e=>{var t;return oe.jsxs("label",{children:[oe.jsx("input",{type:"checkbox",className:"mr-0.5 shadow-lg",checked:w.some((t=>t.sm_id===e.sm_id)),onChange:()=>{return t=e.sm_id,O(""),void(w.find((e=>e.sm_id===t))?j(w.filter((e=>e.sm_id!==t))):j([...w,{sm_id:t,subject_id:l.find((e=>e.sm_id===t)).subject_id,teacher_id:v?v.value:null}]));var t}}),oe.jsx("span",{className:"font-normal text-gray-600",children:null==(t=null==e?void 0:e.get_subject)?void 0:t.name})]},e.sm_id)}))}),T&&oe.jsx("p",{className:"relative top-3  text-red-500 text-xs ",children:T})]})]})," ",oe.jsx("div",{className:"form-group flex justify-end mt-4",children:oe.jsx("button",{type:"button",onClick:()=>p(e,null,(function*(){if(M(!0),D)return;A(!0);let e=!1;if(c||(_("Please select a class."),M(!1),e=!0),g||(k("Please select a division."),e=!0),v||(E("Please select a teacher."),e=!0),0===w.length&&(O("Please select at least one subject."),e=!0),e)return M(!1),void A(!1);try{const e=localStorage.getItem("authToken");yield Uf.post(`${t}/api/allot-teacher-for-subject/${c.value}/${g.value}`,{subjects:w},{headers:{Authorization:`Bearer ${e}`}}),hp.success("Teacher allotted successfully"),setTimeout((()=>{h(null),b(null),y(null),_(""),k(""),E(""),O(""),o([]),j([])}),500)}catch(a){hp.error("Error saving allotment")}finally{M(!1),A(!1)}})),className:"btn btn-primary",disabled:D,children:D?"Saving...":"Save"})})]})})]})})]})};function Koe(){var e;const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState(""),[l,o]=Q.useState("Manage"),[i,d]=Q.useState([]),[c,u]=Q.useState([]),[m,h]=Q.useState([]),[f,x]=Q.useState([]),[g,b]=Q.useState(!1),[v,y]=Q.useState(!1),[w,j]=Q.useState(null),[N,_]=Q.useState(""),[S,k]=Q.useState(""),[C,E]=Q.useState(""),[T,O]=Q.useState(""),[D,A]=Q.useState(),[P,M]=Q.useState(""),[L,I]=Q.useState(""),[F,R]=Q.useState(""),[$,B]=Q.useState(""),[z,U]=Q.useState(""),[H,W]=Q.useState(""),[Y,q]=Q.useState([]),[V,G]=Q.useState(""),[K,X]=Q.useState(0),[J,Z]=Q.useState(0);Q.useState("");const[ee,te]=Q.useState(!0),[ae,re]=Q.useState([]);Q.useState(!1);const ne=Q.useRef(null),[se,le]=Q.useState([]),[ie,de]=Q.useState([]),[ce,ue]=Q.useState(null),[me,he]=Q.useState(null),[fe,pe]=Q.useState([]),xe=Q.useRef(0),ge=Q.useRef(""),[be,ve]=Q.useState(""),[ye,we]=Q.useState(""),[je,Ne]=Q.useState(""),[_e,Se]=Q.useState(null),[ke,Ce]=Q.useState(null);console.log("setSelectedTeacher before",_e);const[Ee,Te]=Q.useState(!1),Oe=Y.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",Oe);const De=i.map((e=>{var t;return{value:e.section_id,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name}  ${e.name}`}})),Ae=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(d(a.data),console.log("the name and section",a.data)):ue("Unexpected data format")}catch(e){console.error("Error fetching class and section names:",e),ue("Error fetching class and section names")}})),Pe=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(u(a.data),console.log("this is the dropdown of the allot subject tab for class",a.data)):ue("Unexpected data format")}catch(e){console.error("Error fetching class names:",e),ue("Error fetching class names")}})),Me=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});q(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(e){ue(e.message)}}));Q.useEffect((()=>{Ae(),Me(),Pe()}),[]);const Le=()=>p(this,null,(function*(){if(!Ee){if(Te(!0),!$)return he("Please select the class."),void Te(!1);G("");try{console.log("for this section id in searching inside subject allotment",$);const e=localStorage.getItem("authToken");h([]);const a=yield Uf.get(`${t}/api/get_subject_Alloted`,{headers:{Authorization:`Bearer ${e}`},params:{section_id:$}});console.log("The response of the subject allotment is: ",a.data),a.data.length>0?(h(a.data),console.log("Updated subjects data",a.data),Z(Math.ceil(a.data.length/10))):(h([]),hp.error("No subjects found for the selected class and division."))}catch(e){console.error("Error fetching subjects:",e),ue("Error fetching subjects")}finally{Te(!1)}}})),Ie=()=>p(this,null,(function*(){if(F)try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_divisions_and_subjects/${F}`,{headers:{Authorization:`Bearer ${e}`}});if(a.data&&a.data.divisions&&a.data.subjects){pe(a.data.divisions),x(a.data.subjects),console.log("this is get for api get_divisions_and_subjects ",f);const e=a.data.divisions.map((e=>({section_id:e.section_id,name:e.name,subjects:a.data.subjects})));re(e),console.log("formatted Allotments",e)}else hp.error("Unexpected data format")}catch(e){hp.error("Failed to fetch data for Allot Subjected tab. Please try again.")}})),Fe=e=>p(this,null,(function*(){try{const a=localStorage.getItem("authToken"),r=new URLSearchParams;e.forEach((e=>r.append("section_id[]",e)));const n=yield Uf.get(`${t}/api/get_presubjects/${F}?${r.toString()}`,{headers:{Authorization:`Bearer ${a}`}});console.log("getSUbjects data from preselected1",n.data.subjects);const s=n.data.subjects.map((e=>e.sm_id));de(s),console.log("getSUbjects data from preselected2",ie)}catch(a){console.error("Error fetching subjects:",a)}}));Q.useEffect((()=>{Ie()}),[F]);const Re=()=>{Se(null),j(null),b(!1),y(!1)};Q.useEffect((()=>{const e=V.trim().toLowerCase();""!==e&&""===ge.current&&(xe.current=K,X(0)),""===e&&""!==ge.current&&X(xe.current),ge.current=e}),[V]);const $e=V.trim().toLowerCase(),Be=m.filter((e=>{var t,a,r,n;const s=(null==(a=null==(t=null==e?void 0:e.get_teacher)?void 0:t.name)?void 0:a.toLowerCase())||"",l=(null==(n=null==(r=null==e?void 0:e.get_subject)?void 0:r.name)?void 0:n.toLowerCase())||"";return s.toLowerCase().includes($e)||l.toLowerCase().includes($e)}));Q.useEffect((()=>{Z(Math.ceil(Be.length/10))}),[Be,10]);const ze=Be.slice(10*K,10*(K+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Subject Allotment"}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row  -top-4",children:["Manage","AllotSubject","AllotTeachersForClass","AllotTeachers"].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(l===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{o(e),"Manage"===e&&Le()})(e),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===l&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-6 md:mt-10 w-full md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:ke,onChange:e=>{he(""),Ce(e),B(e?e.value:null)},options:De,placeholder:"Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),me&&oe.jsx("div",{className:" relative top-0.5 left-3  ml-1 text-danger text-xs",children:me})," "]}),oe.jsx("button",{onClick:Le,type:"button",className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",disabled:Ee,children:Ee?"Searching...":"Search"})]})})}),m.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Subjects List"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>G(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Teacher"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:Ee?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):ze.length?ze.map(((e,t)=>{var a,r,n,s;return oe.jsxs("tr",{className:" text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*K+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:`${null==(a=null==e?void 0:e.get_class)?void 0:a.name} ${null==(r=null==e?void 0:e.get_division)?void 0:r.name}`}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(n=null==e?void 0:e.get_subject)?void 0:n.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(s=null==e?void 0:e.get_teacher)?void 0:s.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{var t,a,r,n,s,l,o,i,d;j(e),console.log("fdsfsdsd handleEdit",e),O(null==(t=null==e?void 0:e.get_class)?void 0:t.name),k(null==(a=null==e?void 0:e.get_division)?void 0:a.name),E(null==(r=null==e?void 0:e.get_subject)?void 0:r.name),M(null==(n=null==e?void 0:e.get_teacher)?void 0:n.name),A(null==(s=null==e?void 0:e.get_teacher)?void 0:s.teacher_id),console.log("teacerId and name is",D,P),console.log("sectionsis for teacher",e),(null==(l=null==e?void 0:e.get_teacher)?void 0:l.teacher_id)&&(null==(o=null==e?void 0:e.get_teacher)?void 0:o.name)?Se({value:null==(i=null==e?void 0:e.get_teacher)?void 0:i.teacher_id,label:null==(d=null==e?void 0:e.get_teacher)?void 0:d.name}):Se(null),console.log("setSelectedTeacher after is-----\x3e***",_e),b(!0)})(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{var t,a,r,n;console.log("inside delete of subjectallotmenbt____",e),console.log("inside delete of subjectallotmenbt",i);const s=m.find((t=>t.subject_id===e));j(s),console.log("the currecne t section",w),_(null==(a=null==(t=null==w?void 0:w.classToDelete)?void 0:t.get_subject)?void 0:a.name),console.log("cureendtsungjeg",null==(n=null==(r=null==w?void 0:w.classToDelete)?void 0:r.get_subject)?void 0:n.name),console.log("currestSubjectNameForDelete",N),y(!0)})(null==e?void 0:e.subject_id),className:"text-red-600 hover:text-red-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:VM})})})]},null==e?void 0:e.subject_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:J,onPageChange:e=>{X(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"AllotSubject"===l&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mb-4",children:[oe.jsx("div",{className:"card-header flex justify-between items-center"}),oe.jsxs("div",{className:"w-full mx-auto",children:[oe.jsxs("div",{className:"form-group  w-full  md:w-[80%] mt-2 flex justify-start gap-x-1 ml-0 md:ml-10 md:gap-x-4",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"classSection",className:"border md:w-[35%] h-10 md:h-auto rounded-md px-3 py-2 w-full mr-2",value:F,onChange:e=>{const t=e.target.value;console.log("dfsjfds",t),R(t),le([]),de([]),pe([])},children:[oe.jsx("option",{value:"",children:"Select "}),0===c.length?oe.jsx("option",{value:"",children:"No classes available"}):c.map((e=>oe.jsx("option",{value:e.class_id,children:` ${null==e?void 0:e.name}`},e.class_id)))]})]}),ae.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto relative left-1 lg:w-full shadow-lg ",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Allot Subjects"}),oe.jsx(sh,{className:"float-end relative  right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{re([])}})]}),oe.jsx("div",{className:" relative  -top-2 mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),a?oe.jsx("tr",{children:oe.jsxs("div",{className:" absolute inset-0 py-8 h flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]})}):oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:"card-body  w-full",children:oe.jsxs("div",{className:" relative lg:overflow-x-hidden",children:[oe.jsxs("div",{className:" relative mb-4 flex gap-x-4",children:[oe.jsxs("h5",{className:"px-2 mt-2 lg:px-3 py-2 text-[1em] text-gray-700",children:["Select divisions"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),fe.map((e=>oe.jsxs("div",{className:"pt-3",children:[oe.jsx("input",{type:"checkbox",className:"mr-0.5 shadow-lg ",checked:se.includes(e.section_id),onChange:()=>(e=>{let t;we(""),t=se.includes(e)?se.filter((t=>t!==e)):[...se,e],le(t),t.length>0?Fe(t):de([])})(e.section_id)}),oe.jsx("span",{className:"  font-semibold text-gray-600 ",children:e.name})]},e.section_id))),ye&&oe.jsx("p",{className:"  md:absolute md:top-9 md:left-[17%] text-red-500 text-xs",children:ye})]}),oe.jsxs("div",{className:"flex",children:[oe.jsxs("h5",{className:"px-2 relative -top-2 lg:px-3 py-2 text-[1em] text-gray-700",children:["Select subjects"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:" grid grid-cols-3 mx-4 w-[78%]",children:f.map((e=>oe.jsx("div",{children:oe.jsxs("label",{children:[oe.jsx("input",{type:"checkbox",className:"mr-0.5 shadow-lg",value:e.sm_id,checked:ie.includes(e.sm_id),onChange:()=>(e=>{const t=Number(e);Ne(""),console.log("the event=====",t),de((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]))})(e.sm_id),disabled:!se.length}),oe.jsx("span",{className:"font-semibold text-gray-600",children:e.name})]})},e.sm_id)))})]}),je&&oe.jsx("p",{className:"absolute  left-[18%]  text-red-500 text-xs ",children:je})]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",onClick:()=>p(this,null,(function*(){console.log("post start fdgh"),r(!0),console.log("ClassNameDropdown",F);let e=!1;if(F||(ve("Please select a class"),r(!1),e=!0),console.log("selectedDivisions",se),0===se.length&&(we("Please select at least one division"),console.log("division not select"),e=!0),console.log("selectedSubjects",ie),0===ie.length&&(Ne("Please select at least one subject"),console.log("subject not select"),e=!0),e)r(!1);else try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");console.log("This is the post formate of the data of allot subject ","Class_id",L,"Division_selected",se,"Selected_subjects",ie),console.log("fdhsh post api allot subject"),201===(yield Uf.post(`${t}/api/store_subject_allotment`,{class_id:F,section_ids:se,subject_ids:ie},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).status?(hp.success("Subject allotment details updated successfully"),setTimeout((()=>{s(""),I(""),R(""),le([]),de([]),pe([]),re([]),o("Manage")}),500)):hp.error("Unexpected response from the server")}catch(a){a.response&&a.response.data?hp.error(`Error storing subject allotment: ${a.response.data.message}`):hp.error(`Error storing subject allotment: ${a.message}`),console.error("Error storing subject allotment:",a)}finally{r(!1)}})),children:"Save"})})]})]})})]})]})]}),"AllotTeachersForClass"===l&&oe.jsx("div",{children:oe.jsx(Voe,{})}),"AllotTeachers"===l&&oe.jsx("div",{children:oe.jsx(Goe,{})})]})]}),g&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Allotment"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:Re})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4 gap-x-7",children:[oe.jsxs("label",{htmlFor:"newSectionName",className:"w-1/2 mt-2",children:["Class :"," "]}),oe.jsx("div",{className:"font-bold form-control  shadow-md  mb-2",children:T})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4 gap-x-7",children:[oe.jsxs("label",{htmlFor:"newSectionName",className:"w-1/2 mt-2",children:["Section:"," "]}),oe.jsx("span",{className:"font-semibold form-control shadow-md mb-2",children:S})]}),oe.jsxs("div",{className:" relative  flex justify-start  mx-4 gap-x-7",children:[oe.jsxs("label",{htmlFor:"newSectionName",className:"w-1/2 mt-2 ",children:["Subject:"," "]})," ",oe.jsx("span",{className:"font-semibold form-control shadow-md mb-2 ",children:C})]}),oe.jsx("div",{className:" modal-body",children:oe.jsxs("div",{ref:ne,className:" relative mb-3 flex justify-center mx-2 gap-4 ",children:[oe.jsxs("label",{htmlFor:"newDepartmentId",className:"w-1/2 mt-2 text-nowrap ",children:["Teacher assigned ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{className:"w-full text-sm shadow-md",value:_e,onChange:e=>{Se(e),U(e.value)},options:Oe,placeholder:"Select",isSearchable:!0,isClearable:!0})]})})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!Ee){Te(!0),console.log("inside the edit model of the subjectallotment",w.subject_id),console.log("inside the edit model of the subjectallotment",w);try{const e=localStorage.getItem("authToken");if(!e||!w||!w.subject_id)throw new Error("Subject ID is missing");if(!ee)return void Te(!1);console.log("the Subject ID***",w.subject_id),console.log("the teacher ID***",H),yield Uf.put(`${t}/api/update_subject_Alloted/${w.subject_id}`,{teacher_id:z},{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),hp.success("Subject Record updated successfully!"),Le(),Re()}catch(e){e.response&&e.response.data?hp.error(`Error updating subject Record: ${e.response.data.message}`):hp.error(`Error updating subject Record: ${e.message}`),console.error("Error editing subject Record:",e)}finally{Te(!1),b(!1)}}})),disabled:Ee,children:Ee?"Updating...":"Update"})})]})})})}),v&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:Re}),console.log("the currecnt section inside delete of the managesubjhect",w)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this subject"," ",null==(e=null==w?void 0:w.get_subject)?void 0:e.name,"?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var e;if(!Ee){Te(!0);try{const a=localStorage.getItem("authToken");if(console.log("the currecnt section inside the delte___",null==(e=null==w?void 0:w.classToDelete)?void 0:e.subject_id),console.log("the classes inside the delete",i),console.log("the current section insde the handlesbmitdelete",w),!a||!w||!(null==w?void 0:w.subject_id))throw new Error("Subject ID is missing");yield Uf.delete(`${t}/api/delete_subject_Alloted/${null==w?void 0:w.subject_id}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0}),Le(),y(!1),hp.success("subject deleted successfully!")}catch(a){a.response&&a.response.data&&a.response.data.error?hp.error(a.response.data.error):hp.error(`Error deleting subject: ${a.message}`),console.error("Error deleting subject:",a)}finally{Te(!1),y(!1)}}})),disabled:Ee,children:Ee?"Deleting...":"Delete"})})]})})})})]})}function Xoe(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 3v4a1 1 0 0 0 1 1h4"},child:[]},{tag:"path",attr:{d:"M5 8v-3a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5"},child:[]},{tag:"path",attr:{d:"M6 14m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"},child:[]},{tag:"path",attr:{d:"M4.5 17l-1.5 5l3 -1.5l3 1.5l-1.5 -5"},child:[]}]})(e)}function Qoe(){var e,t,a,r,n,s,l,o,i,d,c,u,m,h;const f="https://sms.evolvu.in/public",[x,g]=Q.useState(!1),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState([]),[_,S]=Q.useState([]),[k,C]=Q.useState(""),[E,T]=Q.useState(!1),[O,D]=Q.useState(!1),[A,P]=Q.useState(!1),[M,L]=Q.useState(null),[I,F]=Q.useState(null),[R,$]=Q.useState(""),[B,z]=Q.useState(""),[U,H]=Q.useState(""),[W,Y]=Q.useState(0),[q,V]=Q.useState(0),[G,K]=Q.useState(""),[X,J]=Q.useState(null),Z=10,[ee,te]=Q.useState(null),[ae,re]=Q.useState(null),[ne,se]=Q.useState(null),[le,ie]=Q.useState(""),de=sm(),ce=Q.useRef(0),ue=Q.useRef("");Q.useState("");const[me,he]=Q.useState("");Q.useState(""),Q.useState("");const[fe,pe]=Q.useState(!1),[xe,ge]=Q.useState(!1),be=rm(),ve=(null==(e=be.state)?void 0:e.section_id)||null;console.log("manage section id",ve),Q.useEffect((()=>{ve&&je(ve)}),[ve]);const ye=Q.useMemo((()=>y.map((e=>{var t;return{value:e.section_id,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name} (${e.students_count})`}}))),[y]);Q.useEffect((()=>{var e;if(null==(e=be.state)?void 0:e.section_id){const e=ye.find((e=>e.value===be.state.section_id));e&&(Ne(e),Se(e.value)),window.history.replaceState({},document.title)}}),[be.state,ye]);const we=Q.useMemo((()=>j.map((e=>({value:e.student_id,label:[null==e?void 0:e.first_name,null==e?void 0:e.mid_name,null==e?void 0:e.last_name].filter((e=>e)).join(" ")}))).filter((e=>e.label))),[j]),je=(e=null)=>p(this,null,(function*(){var t;try{ge(!0);const a=e?{section_id:e}:{},r=localStorage.getItem("authToken"),n=yield Uf.get(`${f}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${r}`},params:a});N((null==(t=null==n?void 0:n.data)?void 0:t.data)||[])}catch(a){hp.error("Error fetching students.")}finally{ge(!1)}})),Ne=e=>{J(""),te(e),re(null),se(null);const t=e?e.value:null;z(t),C(t),je(t)};Q.useEffect((()=>{_e(),ke()}),[]);const _e=()=>p(this,null,(function*(){var e;try{pe(!0),ge(!0);const t=localStorage.getItem("authToken"),[a,r]=yield Promise.all([Uf.get(`${f}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${t}`}}),Uf.get(`${f}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${t}`}})]);w(a.data||[]),N((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(t){hp.error("Error fetching data.")}finally{pe(!1),ge(!1)}})),Se=(e=null)=>p(this,null,(function*(){var t,a,r,n,s,l,o;if(b)return;v(!0),S([]);const i=B||e||(null==(t=null==be?void 0:be.state)?void 0:t.section_id)||null;if(!ne&&!i&&!G)return J("Please select at least one of them."),hp.error("Please select at least one of them!"),void v(!1);g(!0),H("");try{const e=localStorage.getItem("authToken"),t={};ne&&(t.student_id=ne),i&&(t.section_id="object"==typeof i?i.id||i.value||"":i),G&&(t.reg_no=G);const n=yield Uf.get(`${f}/api/get_students`,{headers:{Authorization:`Bearer ${e}`},params:t}),s=(null==(a=null==n?void 0:n.data)?void 0:a.students)||(null==(r=null==n?void 0:n.data)?void 0:r.student)||[];S(s),V(Math.ceil(s.length/Z))}catch(d){console.log("error",null==(s=null==(n=null==d?void 0:d.response)?void 0:n.data)?void 0:s.message),J("Please select at least one of them."),hp.error((null==(o=null==(l=null==d?void 0:d.response)?void 0:l.data)?void 0:o.message)||"Student not found!")}finally{g(!1),v(!1)}})),ke=()=>p(this,null,(function*(){const e=localStorage.getItem("authToken");if(e)try{const t=yield Uf.get(`${f}/api/sessionData`,{headers:{Authorization:`Bearer ${e}`}});ie(t.data.user.role_id),console.log("roleIDis:",le)}catch(t){console.error("Error fetching data:",t)}else console.error("No authentication token found")})),[Ce,Ee]=Q.useState(""),Te=()=>{Ee(""),T(!1),D(!1),P(!1)};Q.useEffect((()=>{const e=U.trim().toLowerCase();""!==e&&""===ue.current&&(ce.current=W,Y(0)),""===e&&""!==ue.current&&Y(ce.current),ue.current=e}),[U]);const Oe=_.filter((e=>{var t,a,r,n,s,l;const o=U.toLowerCase(),i=(null==(t=`${null==e?void 0:e.first_name} ${null==e?void 0:e.mid_name} ${null==e?void 0:e.last_name}`)?void 0:t.toLowerCase())||"",d=(null==(r=null==(a=null==e?void 0:e.get_class)?void 0:a.name)?void 0:r.toLowerCase())||"",c=(null==(s=null==(n=null==e?void 0:e.user_master)?void 0:n.user_id)?void 0:s.toLowerCase())||"";return((null==(l=null==e?void 0:e.roll_no)?void 0:l.toString().toLowerCase())||"").includes(o)||i.includes(o)||d.includes(o)||c.includes(o)}));Q.useEffect((()=>{V(Math.ceil(Oe.length/Z))}),[Oe,Z]);const De=Oe.slice(W*Z,(W+1)*Z);return console.log("displayedSections",De),oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-[95%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Student"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{de("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white w-full md:w-[95%] mx-auto rounded-md ",children:oe.jsxs("div",{className:"w-full  mx-auto",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4  ",children:oe.jsx("div",{className:"  w-[90%]  mx-auto ",children:oe.jsxs("div",{className:" w-full flex justify-center flex-col md:flex-row gap-x-1 md:gap-x-8",children:[oe.jsxs("div",{className:"w-full  gap-x-3 md:justify-start justify-between  my-1 md:my-4 flex  md:flex-row  ",children:[oe.jsx("label",{htmlFor:"classSection",className:" mr-2 pt-2 items-center text-center",children:"Class"}),oe.jsx("div",{className:"w-[60%] md:w-[50%] ",children:oe.jsx(Soe,{value:ee,onChange:Ne,options:ye,isSearchable:!0,isClearable:!0,placeholder:fe?"Loading classes...":"Select",isDisabled:fe,className:"text-sm"})})]}),oe.jsxs("div",{className:"w-full  relative left-0 md:-left-[7%] justify-between  md:w-[90%] my-1 md:my-4 flex  md:flex-row  ",children:[oe.jsx("label",{htmlFor:"classSection",className:"relative left-0 md:-left-3  md:text-nowrap pt-2 items-center text-center",children:"Student Name"}),oe.jsxs("div",{className:"w-[60%] md:w-[85%] ",children:[oe.jsx(Soe,{value:ae,onChange:e=>{J(""),re(e),se(null==e?void 0:e.value)},options:we,isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:xe,placeholder:xe?"Loading students...":"Select"}),X&&oe.jsx("div",{className:" relative top-0.5 md:top-[50%] ml-1 text-danger text-md",children:X})," "]})]}),oe.jsxs("div",{className:" relative w-full  justify-between  md:w-[45%] my-1 md:my-4 flex  md:flex-row  ",children:[oe.jsxs("label",{htmlFor:"GRnumber",className:" mt-2 ml-0 md:ml-4 text-nowrap",children:[" ","GR No."]}),oe.jsx("input",{type:"text",maxLength:10,className:"h-10 text-gray-600 p-1 border-1 border-gray-300 outline-blue-400 rounded-md w-[60%] md:w-[50%] ",id:"GRnumber",value:G,onChange:e=>{J("");const t=e.target.value.replace(/[^0-9]/g,"");K(t)}})]}),oe.jsx("button",{onClick:Se,type:"button",disabled:b,className:" my-1 md:my-4 btn h-10  w-18 md:w-auto btn-primary ",children:b?"Searching...":"Search"})]})})}),_.length>0&&oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Student List"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>H(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Roll No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Photo"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"UserId"}),("A"===le||"M"===le)&&oe.jsxs(oe.Fragment,{children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Inactive"})]}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"View"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"RC & Certificates"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Reset Password"})]})}),oe.jsx("tbody",{children:De.length?De.map(((e,t)=>{var a,r,n,s,l;return oe.jsxs("tr",{className:"text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:W*Z+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.roll_no}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm py-1",children:[console.log("the teacher image",`${null==e?void 0:e.image_url}`),oe.jsx("img",{src:(null==e?void 0:e.image_name)?`${null==e?void 0:e.image_name}`:"https://via.placeholder.com/50",alt:null==e?void 0:e.name,className:"rounded-full w-8 h-8 lg:w-10 lg:h-10 object-cover"})]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:`${null!=(a=null==e?void 0:e.first_name)?a:""} ${(null==e?void 0:e.mid_name)?e.mid_name+" ":""}${null!=(r=null==e?void 0:e.last_name)?r:""}`.trim()}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm text-nowrap",children:`${null==(n=null==e?void 0:e.get_class)?void 0:n.name} ${null==(s=null==e?void 0:e.get_division)?void 0:s.name}`}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(l=null==e?void 0:e.user_master)?void 0:l.user_id}),("A"===le||"M"===le)&&oe.jsxs(oe.Fragment,{children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>{return F(t=e),void de(`/student/edit/${t.student_id}`,{state:{student:t,section_id:t.section_id}});var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:HM})})}),"Y"!==e.isPromoted?oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{var t,a;console.log("inside delete of subjectallotmenbt____",e),console.log("inside delete of subjectallotmenbt",e.student_id);const r=e.student_id,n=_.find((e=>e.student_id===r));F({classToDelete:n}),console.log("the currecne t section",I),$(null==(t=null==I?void 0:I.CurrentSection)?void 0:t.student_name),console.log("cureendtsungjeg",null==(a=null==I?void 0:I.CurrentSection)?void 0:a.student_name),console.log("currestSubjectNameForDelete",R),D(!0)})(e),className:"text-red-600 hover:text-red-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:VM})})}):oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-green-500-600 hover:text-green-800 hover:bg-transparent "})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm hover:bg-none",children:oe.jsx("button",{onClick:()=>(e=>{console.log("handleActiveAndInactive--\x3e",e.student_id);const t=_.find((t=>t.student_id===e.student_id));L({studentToActiveOrDeactive:t}),console.log("studentToActiveOrDeactive",t),P(!0)})(e),className:"  font-bold hover:bg-none "+("Y"===e.isActive?"text-green-600 hover:text-green-800 hover:bg-transparent":"text-red-700 hover:text-red-900  hover:bg-transparent"),children:"Y"===e.isActive?oe.jsx(Vm,{className:"text-xl"}):oe.jsx(zM,{icon:JM,className:"text-xl"})})})]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>{return t=e,console.log("HandleView --\x3e",t),F(t),void de(`/student/view/${t.student_id}`,{state:{student:t,section_id:ve||B}});var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(kg,{className:"font-bold text-xl"})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>{return t=e,de("/comingSoon"),void console.log("handleCertificateView--\x3e",t);var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(Xoe,{className:"font-bold text-xl"})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{var t;he(null==(t=null==e?void 0:e.user_master)?void 0:t.user_id),console.log("handleResetPassword",e),console.log("userId",me),T(!0)})(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(jg,{className:"font-bold text-xl"})})})]},e.student_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:q,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{Y(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})})]})})]}),O&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:Te}),console.log("the currecnt section inside delete of the managesubjhect",I)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this student"," ",`${[null==(t=null==I?void 0:I.classToDelete)?void 0:t.first_name,null==(a=null==I?void 0:I.classToDelete)?void 0:a.mid_name,null==(r=null==I?void 0:I.classToDelete)?void 0:r.last_name].filter(Boolean).join(" ")}`,"?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var e,t,a;if(!b){v(!0);try{const r=localStorage.getItem("authToken");if(console.log("the currecnt section inside the delte___",null==(e=null==I?void 0:I.classToDelete)?void 0:e.student_id),console.log("the classes inside the delete",y),console.log("the current section insde the handlesbmitdelete",I.classToDelete),!r||!I||!(null==(t=null==I?void 0:I.classToDelete)?void 0:t.student_id))throw new Error("Student ID is missing");yield Uf.delete(`${f}/api/students/${null==(a=null==I?void 0:I.classToDelete)?void 0:a.student_id}`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0}),Se(),D(!1),hp.success("Student deleted successfully!")}catch(r){r.response&&r.response.data?hp.error(`Error deleting Student: ${r.response.data.message}`):hp.error(`Error deleting Student: ${r.message}`),console.error("Error deleting Student:",r)}finally{v(!1),D(!1)}}})),disabled:b,children:b?"Deleting...":"Delete"})})]})})})}),E&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Reset Password"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:Te})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"userId",className:"w-1/2 mt-2",children:["User ID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"userId",value:me,onChange:e=>{Ee(""),he(e.target.value)}}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:Ce&&oe.jsx("span",{className:"text-danger text-xs",children:Ce})})]})}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){var e,t,a,r,n,s,l,o;if(!b){v(!0);try{const t=localStorage.getItem("authToken");if(!t)return hp.error("Authentication token missing"),void Ee("Authentication token missing");const a=yield Uf.put(`${f}/api/resetPasssword/${me}`,{},{headers:{Authorization:`Bearer ${t}`}});if(404===(null==(e=null==a?void 0:a.data)?void 0:e.Status))return console.log("Response is fail"),void Ee("Invalid user ID");hp.success(`Password for user id "${me}" is reset to arnolds successfully!`),T(!1),Ee("")}catch(i){console.error("Error resetting password:",i),i.response&&(null==(t=null==i?void 0:i.response)?void 0:t.data)&&(null==(r=null==(a=null==i?void 0:i.response)?void 0:a.data)?void 0:r.Message)?(Ee(null==(s=null==(n=null==i?void 0:i.response)?void 0:n.data)?void 0:s.Message),hp.error(null==(o=null==(l=null==i?void 0:i.response)?void 0:l.data)?void 0:o.Message)):(Ee("Failed to update password. Please try again."),hp.error("Failed to update password. Please try again."))}finally{v(!1)}}})),disabled:b,children:b?"Reseting...":"Reset"})})]})})})}),A&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Y"===(null==(n=null==M?void 0:M.studentToActiveOrDeactive)?void 0:n.isActive)?"Confirm Deactivate":"Confirm Activate"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:Te}),console.log("the currecnt section inside activate or not of the managesubjhect",M)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:"Y"===(null==(s=null==M?void 0:M.studentToActiveOrDeactive)?void 0:s.isActive)?`Are you sure you want to deactivate this student ${[null==(l=null==M?void 0:M.studentToActiveOrDeactive)?void 0:l.first_name,null==(o=null==M?void 0:M.studentToActiveOrDeactive)?void 0:o.mid_name,null==(i=null==M?void 0:M.studentToActiveOrDeactive)?void 0:i.last_name].filter(Boolean).join(" ")}?`:`Are you sure you want to activate this student ${[null==(d=null==M?void 0:M.studentToActiveOrDeactive)?void 0:d.first_name,null==(c=null==M?void 0:M.studentToActiveOrDeactive)?void 0:c.mid_name,null==(u=null==M?void 0:M.studentToActiveOrDeactive)?void 0:u.last_name].filter(Boolean).join(" ")}?`}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){var e,t,a,r;if(!b){v(!0);try{const n=localStorage.getItem("authToken");if(console.log("the classes inside the delete",null==(e=null==M?void 0:M.studentToActiveOrDeactive)?void 0:e.student_id),!n||!M||!(null==(t=null==M?void 0:M.studentToActiveOrDeactive)?void 0:t.student_id))throw new Error("Student ID is missing");const s=yield Uf.patch(`${f}/api/students/${null==(a=null==M?void 0:M.studentToActiveOrDeactive)?void 0:a.student_id}/deactivate`,{},{headers:{Authorization:`Bearer ${n}`}});Se(),P(!1),hp.success(null==(r=null==s?void 0:s.data)?void 0:r.message)}catch(n){n.response&&n.response.data?hp.error(`Error: ${n.response.data.message}`):hp.error(`Error activate or deactivate Student: ${n.message}`),console.error("Error activate or deactivate Student:",n)}finally{v(!1),P(!1)}}})),disabled:b,children:b?"Y"===(null==(m=null==M?void 0:M.studentToActiveOrDeactive)?void 0:m.isActive)?"Deactivating...":"Activating...":"Y"===(null==(h=null==M?void 0:M.studentToActiveOrDeactive)?void 0:h.isActive)?"Deactivate":"Activate"})})]})})})})]})}function Joe(){var e;const t="https://sms.evolvu.in/public",a=sm(),r=rm(),{student:n}=r.state||{},[s,l]=Q.useState([]);Q.useState([]);const[o,i]=Q.useState(null);Q.useState(null),console.log("student data for view",n);const d=(null==(e=r.state)?void 0:e.section_id)||null;console.log("view student for back navigation:",d),Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});l(a.data)}catch(e){hp.error("Error fetching class names")}}))})()}),[t]);const[c,h]=Q.useState({first_name:"",mid_name:"",last_name:"",house:"",student_name:"",dob:"",admission_date:"",stud_id_no:"",stu_aadhaar_no:"",gender:"",category:" ",blood_group:" ",mother_tongue:"",permant_add:" ",birth_place:"",admission_class:"",city:"",state:"",roll_no:"",class_id:"",section_id:"",religion:"",caste:"",subcaste:"",vehicle_no:"",emergency_name:"",emergency_contact:"",emergency_add:"",transport_mode:" ",height:"",weight:"",allergies:"",nationality:"",pincode:"",image_name:null,student_id:"",reg_no:" ",father_name:"",father_occupation:"",f_office_add:"",f_office_tel:"",f_mobile:"",f_email:"",f_dob:" ",m_dob:" ",parent_adhar_no:"",mother_name:"",mother_occupation:"",m_office_add:"",m_office_tel:"",m_mobile:"",m_emailid:"",m_adhar_no:"",m_blood_group:"",f_blood_group:"",has_specs:"",udise_pen_no:"",user_id:"",SetToReceiveSMS:"",SetEmailIDAsUsername:""}),[f,x]=Q.useState(null);return Q.useEffect((()=>{var e,t,a,r,s,l,o,i,d,c,u,m,f,p,g,b,v,y,w,j,N;n&&(h({first_name:n.first_name||" ",mid_name:n.mid_name||"",last_name:n.last_name||"",house:n.house||"",student_name:n.student_name||"",dob:n.dob||"",admission_date:n.admission_date||"",stud_id_no:n.stud_id_no||"",stu_aadhaar_no:n.stu_aadhaar_no||"",gender:n.gender||"",permant_add:n.permant_add||" ",mother_tongue:n.mother_tongue||"",birth_place:n.birth_place||"",admission_class:n.admission_class||" ",city:n.city||" ",state:n.state||"",roll_no:n.roll_no||"",student_id:n.student_id||" ",reg_no:n.reg_no||" ",blood_group:n.blood_group||" ",category:n.category||" ",class_id:(null==(e=null==n?void 0:n.get_class)?void 0:e.name)||"",section_id:(null==(t=null==n?void 0:n.get_division)?void 0:t.name)||"",religion:n.religion||"",caste:n.caste||"",subcaste:n.subcaste||"",transport_mode:n.transport_mode||" ",vehicle_no:n.vehicle_no||"",emergency_name:n.emergency_name||" ",emergency_contact:n.emergency_contact||"",emergency_add:n.emergency_add||"",height:n.height||"",weight:n.weight||"",allergies:n.allergies||"",nationality:n.nationality||"",pincode:n.pincode||"",image_name:n.image_name||null,father_name:(null==(a=null==n?void 0:n.parents)?void 0:a.father_name)||" ",father_occupation:(null==(r=null==n?void 0:n.parents)?void 0:r.father_occupation)||"",f_office_add:(null==(s=null==n?void 0:n.parents)?void 0:s.f_office_add)||"  ",f_blood_group:(null==(l=null==n?void 0:n.parents)?void 0:l.f_blood_group)||"",f_office_tel:(null==(o=null==n?void 0:n.parents)?void 0:o.f_office_tel)||"",f_mobile:(null==(i=null==n?void 0:n.parents)?void 0:i.f_mobile)||"",f_email:(null==(d=null==n?void 0:n.parents)?void 0:d.f_email)||"",f_dob:(null==(c=null==n?void 0:n.parents)?void 0:c.f_dob)||" ",m_dob:(null==(u=null==n?void 0:n.parents)?void 0:u.m_dob)||" ",m_blood_group:(null==(m=null==n?void 0:n.parents)?void 0:m.m_blood_group)||"",has_specs:n.has_specs||" ",parent_adhar_no:(null==(f=null==n?void 0:n.parents)?void 0:f.parent_adhar_no)||"",mother_name:(null==(p=null==n?void 0:n.parents)?void 0:p.mother_name)||" ",mother_occupation:(null==(g=null==n?void 0:n.parents)?void 0:g.mother_occupation)||"",m_office_add:(null==(b=null==n?void 0:n.parents)?void 0:b.m_office_add)||" ",m_office_tel:(null==(v=null==n?void 0:n.parents)?void 0:v.m_office_tel)||"",m_mobile:(null==(y=null==n?void 0:n.parents)?void 0:y.m_mobile)||"",m_emailid:(null==(w=null==n?void 0:n.parents)?void 0:w.m_emailid)||"",m_adhar_no:(null==(j=null==n?void 0:n.parents)?void 0:j.m_adhar_no)||"",udise_pen_no:n.udise_pen_no||" ",user_id:(null==(N=null==n?void 0:n.user_master)?void 0:N.user_id)||" ",SetToReceiveSMS:n.SetToReceiveSMS||"",SetEmailIDAsUsername:n.SetEmailIDAsUsername||""}),(null==n?void 0:n.image_name)&&x(`${null==n?void 0:n.image_name}`))}),[n]),console.log("setPhotoPreview",f),oe.jsxs("div",{className:" w-[95%] mx-auto p-4",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-3  rounded-md",children:[oe.jsxs("div",{className:"card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"View Student Information"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>a("/manageStudent",{state:{section_id:d}})})]}),oe.jsx("div",{className:"relative w-full -top-6 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("form",{className:"md:mx-2 overflow-x-hidden shadow-md py-1 bg-gray-50",children:[oe.jsxs("div",{className:"flex flex-col gap-y-3 p-2 md:grid md:grid-cols-4 md:gap-x-14 md:mx-10 ",children:[oe.jsxs("h5",{className:"col-span-4 text-blue-400  relative top-2",children:[" ","Personal Information"]}),oe.jsx("div",{className:"row-span-2",children:oe.jsxs("label",{htmlFor:"teacher_image_name",className:"block font-bold text-xs mb-2",children:["Photo",f?oe.jsx("img",{src:f,alt:"Photo Preview",className:"h-20 w-20 rounded-[50%] mx-auto border-1 border-black object-cover"}):oe.jsx(ah,{className:"mt-2 h-20 w-20 object-cover mx-auto text-gray-300"})]})}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"first_name",className:"block font-bold text-xs mb-0.5",children:"First Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.first_name,className:"  block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"mid_name",className:"block font-bold text-xs mb-0.5",children:"Middle Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.mid_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"lastName",className:"block font-bold text-xs mb-0.5",children:"Last Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.last_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dateOfBirth",className:"block font-bold text-xs mb-0.5",children:"Date of Birth"}),oe.jsx("input",{type:"date",disabled:!0,value:c.dob,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"gender",className:"block font-bold text-xs mb-0.5",children:"Gender"}),oe.jsx("input",{type:"text",disabled:!0,value:"F"===c.gender?"Female":"M"===c.gender?"Male":"",className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsx("input",{type:"text",disabled:!0,value:c.blood_group,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold text-xs mb-0.5",children:"Religion"}),oe.jsx("input",{type:"text",disabled:!0,value:c.religion,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"caste",className:"block font-bold text-xs mb-0.5",children:"Caste"}),oe.jsx("input",{type:"text",disabled:!0,value:c.caste,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"category",className:"block font-bold text-xs mb-0.5",children:"Category"}),oe.jsx("input",{type:"text",disabled:!0,value:c.category,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"birthPlace",className:"block font-bold text-xs mb-0.5",children:"Birth Place"}),oe.jsx("input",{type:"text",disabled:!0,value:c.birth_place,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"nationality",className:"block font-bold text-xs mb-0.5",children:"Nationality"}),oe.jsx("input",{type:"text",disabled:!0,value:c.nationality,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"motherTongue",className:"block font-bold text-xs mb-0.5",children:"Mother Tongue"}),oe.jsx("input",{type:"text",disabled:!0,value:c.mother_tongue,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Student Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentName",className:"block font-bold text-xs mb-0.5",children:"Student Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.student_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentClass",className:"block font-bold text-xs mb-0.5",children:"Class"}),oe.jsx("input",{type:"text",disabled:!0,value:c.class_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"division",className:"block font-bold text-xs mb-0.5",children:"Division"}),oe.jsx("input",{type:"text",disabled:!0,value:c.section_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"rollNumber",className:"block font-bold text-xs mb-0.5",children:"Roll No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.roll_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"grnNumber",className:"block font-bold text-xs mb-0.5",children:"GRN No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.reg_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]})," ",oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"house",className:"block font-bold text-xs mb-0.5",children:"House"}),oe.jsx("input",{type:"text",disabled:!0,value:"D"===c.house?"Diamond":"E"===c.house?"Emerald":"R"===c.house?"Ruby":"S"===c.house?"Sapphire":"",className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"admittedInClass",className:"block font-bold text-xs mb-0.5",children:"Admitted In Class"}),oe.jsx("input",{type:"text",disabled:!0,value:c.admission_class,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Date of Admission"}),oe.jsx("input",{type:"date",disabled:!0,value:c.admission_date,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentIdNumber",className:"block font-bold text-xs mb-0.5",children:"Student ID No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.stud_id_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:"Student Aadhar No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.stu_aadhaar_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]})," ",o>99&&oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:"Udise Pen No."}),oe.jsx("input",{type:"text",disabled:!0,maxLength:14,value:c.udise_pen_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Address Information"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"address",className:"block font-bold text-xs mb-0.5",children:"Address"}),oe.jsx("textarea",{id:"address",disabled:!0,rows:2,value:c.permant_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"city",className:"block font-bold text-xs mb-0.5",children:"City"}),oe.jsx("input",{type:"text",disabled:!0,maxLength:100,value:c.city,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"state",className:"block font-bold text-xs mb-0.5",children:"State"}),oe.jsx("input",{type:"text",disabled:!0,value:c.state,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"pincode",className:"block font-bold text-xs mb-0.5",children:"Pincode"}),oe.jsx("input",{type:"text",disabled:!0,value:c.pincode,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Emergency Contact"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"emergencyName",className:"block font-bold text-xs mb-0.5",children:"Emergency Name"}),oe.jsx("input",{type:"text",id:"emergencyName",disabled:!0,value:c.emergency_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"emergencyAddress",className:" font-bold text-xs mb-0.5",children:"Emergency Address"}),oe.jsx("textarea",{id:"emergencyAddress",disabled:!0,value:c.emergency_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "}),oe.jsxs("div",{className:"flex flex-row items-center gap-2 -mt-1 w-full",children:[oe.jsx("input",{type:"checkbox",disabled:!0,className:"border h-[26px] border-[#ccc] px-3 py-[6px] text-[14px] leading-4 outline-none",onChange:e=>{e.target.checked?h((e=>m(u({},e),{emergency_add:e.permant_add}))):h((e=>m(u({},e),{emergency_add:""})))}}),oe.jsx("label",{htmlFor:"sameAs",className:"text-xs",children:"Same as permanent address"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"emergencyContact",className:"block font-bold text-xs mb-0.5",children:["Emergency Contact"," "]}),oe.jsxs("div",{className:"w-full flex flex-row items-center",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"text",inputMode:"numeric",id:"emergencyContact",disabled:!0,maxLength:10,value:c.emergency_contact,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"transportMode",className:"block font-bold text-xs mb-0.5",children:"Transport Mode"}),oe.jsx("input",{type:"text",disabled:!0,value:c.transport_mode,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "}),oe.jsx("input",{type:"text",id:"vehicleNumber",disabled:!0,maxLength:13,placeholder:"Vehicle No.",value:c.vehicle_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Health Information"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"allergies",className:"block font-bold text-xs mb-0.5",children:"Allergies(if any)"}),oe.jsx("input",{type:"text",disabled:!0,maxLength:200,value:c.allergies,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"height",className:"block font-bold text-xs mb-0.5",children:"Height"}),oe.jsx("input",{type:"text",id:"height",maxLength:4.1,disabled:!0,value:c.height,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"weight",className:"block font-bold text-xs mb-0.5",children:"Weight"}),oe.jsx("input",{type:"text",id:"weight",disabled:!0,maxLength:4.1,value:c.weight,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"  flex gap-4 pt-[7px]",children:[oe.jsx("div",{htmlFor:"weight",className:"block font-bold text-[.9em] mt-4 ",children:"Has Spectacles"}),oe.jsxs("div",{className:"flex items-center gap-6 mt-3",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"radio",id:"yes",checked:"Y"==c.has_specs,value:"Y"}),oe.jsx("label",{htmlFor:"yes",className:"ml-1",children:"Yes"})]}),oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"radio",id:"no",checked:"N"==c.has_specs,value:"N"}),oe.jsx("label",{htmlFor:"no",className:"ml-1",children:"No"})]})]})]}),oe.jsx("div",{className:"w-full col-span-4 relative top-4",children:oe.jsx("div",{className:"w-full mx-auto",children:oe.jsxs("h3",{className:"text-blue-500 w-full mx-auto text-center  md:text-[1.2em] text-nowrap font-bold",children:[" ",oe.jsx(Eg,{className:"text-[1.4em] text-blue-700 inline"})," ","Parent's Information :"," "]})})}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Father Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Name"}),oe.jsx("input",{type:"text",id:"email",disabled:!0,maxLength:100,value:c.father_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Occupation"}),oe.jsx("input",{type:"text",id:"email",maxLength:100,disabled:!0,value:c.father_occupation,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsx("input",{type:"text",disabled:!0,value:c.f_blood_group,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Father Aadhaar Card No."}),oe.jsx("input",{type:"text",id:"email",disabled:!0,maxLength:12,value:c.parent_adhar_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Office Address"}),oe.jsx("textarea",{id:"email",rows:2,maxLength:200,disabled:!0,value:c.f_office_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"telephone",className:"block font-bold text-xs mb-0.5",children:"Telephone"}),oe.jsx("input",{type:"text",maxLength:11,id:"telephone",disabled:!0,value:c.f_office_tel,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"phone",className:"block font-bold text-xs mb-0.5",children:"Mobile Number"}),oe.jsxs("div",{className:"flex",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",disabled:!0,pattern:"\\d{10}",maxLength:"10",value:c.f_mobile,className:" block w-full  outline-none rounded-r-md py-1 px-3 bg-gray-300 ",required:!0})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Email Id"}),oe.jsx("input",{type:"text",disabled:!0,value:c.f_email,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Father Date Of Birth"}),oe.jsx("input",{type:"date",id:"dataOfAdmission",disabled:!0,value:c.f_dob,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"UserID",className:"block font-bold text-xs mb-0.5",children:"User Id"}),oe.jsx("input",{type:"text",disabled:!0,value:c.user_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Mother Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.mother_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Occupation"}),oe.jsx("input",{type:"text",id:"email",maxLength:100,disabled:!0,value:c.mother_occupation,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsx("input",{type:"text",disabled:!0,value:c.m_blood_group,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Mother Aadhaar Card No."}),oe.jsx("input",{type:"text",id:"email",disabled:!0,maxLength:12,value:c.m_adhar_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Office Address"}),oe.jsx("textarea",{id:"email",disabled:!0,rows:2,value:c.m_office_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"m_office_tel",className:"block font-bold text-xs mb-0.5",children:"Telephone"}),oe.jsx("input",{type:"text",maxLength:11,id:"m_office_tel",disabled:!0,value:c.m_office_tel,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"phone",className:"block font-bold text-xs mb-0.5",children:"Mobile Number"}),oe.jsxs("div",{className:"flex",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",disabled:!0,value:c.m_mobile,className:" block w-full  outline-none rounded-r-md py-1 px-3 bg-gray-300 ",required:!0})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Email Id"}),oe.jsx("input",{type:"email",id:"email",disabled:!0,maxLength:50,value:c.m_emailid,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Mother Date Of Birth"}),oe.jsx("input",{type:"date",id:"dataOfAdmission",disabled:!0,value:c.f_dob,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]})]}),oe.jsx("div",{className:"col-span-3 md:mr-9 my-2 text-right",children:oe.jsx("button",{onClick:()=>{a("/manageStudent",{state:{section_id:d}})},className:"text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})})]})]})]})}const Zoe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState(null),[l,o]=Q.useState(""),[i,d]=Q.useState(null),[c,u]=Q.useState([]),[m,h]=Q.useState([]),[f,x]=Q.useState(!1),[g,b]=Q.useState([]),[v,y]=Q.useState(!1),[w,j]=Q.useState(""),[N,_]=Q.useState("");Q.useEffect((()=>{S()}),[]),Q.useEffect((()=>{k()}),[]);const S=()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});r(a.data)}catch(e){hp.error("Error fetching class names")}})),k=()=>p(e,null,(function*(){var e;try{const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/subject_for_reportcard`,{headers:{Authorization:`Bearer ${a}`}}),n=null==(e=null==r?void 0:r.data)?void 0:e.subjects;u(n),h(n),console.log("setSubjectsIs",n),console.log("setInitialSubjectsIs",n)}catch(a){hp.error("Error fetching subjects")}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Allot Subject For Report Card"})}),oe.jsx("div",{className:" relative -top-2 mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full md:w-[85%] mx-auto",children:v?oe.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"form-group flex justify-center gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{className:"w-1/4 pt-2 items-center text-center px-2 lg:px-3 py-2 font-semibold text-[1em] text-gray-700",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full relative",children:[oe.jsx(Soe,{value:n,onChange:e=>{s(e),j(""),o(""),b([])},placeholder:"Select",className:"w-full md:w-[50%] mb-3",isClearable:!0,options:a.map((e=>({value:e.class_id,label:e.name})))}),w&&oe.jsx("p",{className:"relative -top-4 -mb-3 text-red-500 text-sm",children:w})]})]}),oe.jsxs("div",{className:"form-group flex justify-center gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{className:"w-1/4 pt-2 text-center px-2 lg:px-3 py-2 font-semibold text-[1em] text-gray-700",children:["Subject Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:l,onChange:a=>{var r,s;o(a),i&&d(""),n&&a&&(r=n.value,s=a,p(e,null,(function*(){var e,a,n,l,o;if(r&&s){console.log("classId:",r,"subjectType:",s.value);try{const l=localStorage.getItem("authToken"),o=yield Uf.get(`${t}/api/get_sub_report_allotted/${r}/${s.value}`,{headers:{Authorization:`Bearer ${l}`}});console.log("without maching preselected subject come form api",null==(e=null==o?void 0:o.data)?void 0:e.subjectAllotments);const i=null==(a=null==o?void 0:o.data)?void 0:a.subjectAllotments.map((e=>e.get_subjects_for_report_card.sub_rc_master_id));b(i),console.log("setPreCheckedSubjects",null==(n=null==o?void 0:o.data)?void 0:n.subjectAllotments)}catch(i){hp.error(null==(o=null==(l=null==i?void 0:i.response)?void 0:l.data)?void 0:o.error),console.log("error",i)}}})))},placeholder:"Select",className:"w-full md:w-[50%]",isClearable:!0,isSearchable:!0,options:[{value:"Scholastic",label:"Scholastic"},{value:"Co-Scholastic",label:"Co-Scholastic"}]}),i&&oe.jsx("p",{className:"absolute text-red-500 text-sm",children:i})]})]}),oe.jsxs("div",{className:"form-group flex justify-center gap-x-1 md:gap-x-6 mt-4",children:[oe.jsxs("label",{className:"w-1/4 pt-2 items-center text-center px-2 lg:px-3 py-2 font-semibold text-[1em] text-gray-700 ",children:["Select Subjects ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx("div",{className:"relative gap-x-10 top-2 grid grid-cols-3 w-full",children:c.length>0?c.map((e=>oe.jsx("div",{className:"flex items-center gap-x-2",children:oe.jsxs("label",{children:[oe.jsx("input",{type:"checkbox",checked:g.includes(e.sub_rc_master_id),onChange:()=>{return t=e.sub_rc_master_id,_(""),void(g.includes(t)?b(g.filter((e=>e!==t))):b([...g,t]));var t},className:"mr-2"}),e.name]})},e.sub_rc_master_id))):oe.jsx("p",{className:"w-[180%] text-blue-700 ",children:"Please wait while subjects are loading..."})}),N&&oe.jsx("p",{className:"absolute text-red-500 text-sm",children:N})]})]}),oe.jsx("div",{className:"form-group flex justify-end mt-4",children:oe.jsx("button",{type:"button",onClick:()=>p(e,null,(function*(){var e,a,r,i;if(f)return;x(!0),y(!0);let c=!1;if(n||(j("Please select a class."),c=!0),l||(d("Please select a subject type."),c=!0),0===g.length&&(_("Please select at least one subject."),c=!0),c)return y(!1),void x(!1);try{const e=localStorage.getItem("authToken");console.log("subjects",g,"subject_type",l.value);const a=yield Uf.post(`${t}/api/subject-allotments-reportcard/${n.value}`,{subject_ids:g,subject_type:l.value},{headers:{Authorization:`Bearer ${e}`}});200===a.status?(hp.success("Subjects allotted successfully"),y(!1),console.log("API Response:",a.data),s(null),o(""),b([])):(hp.error("Unexpected response status from the server."),console.error("Response status:",a.status))}catch(u){u.response?(console.error("Error response from server:",null==(a=null==(e=null==u?void 0:u.response)?void 0:e.data)?void 0:a.message),hp.error(null==(i=null==(r=null==u?void 0:u.response)?void 0:r.data)?void 0:i.message)):(console.error("Error with request:",u.message),hp.error("Error saving allotment"))}finally{y(!1),x(!1)}})),className:"btn btn-primary",disabled:f,children:f?"Saving...":"Save"})})]})})]})})]})};function eie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState("Manage"),[r,n]=Q.useState([]);Q.useState([]);const[s,l]=Q.useState([]),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[u,m]=Q.useState(null),[h,f]=Q.useState(""),[x,g]=Q.useState(""),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState("");Q.useState("");const[_,S]=Q.useState([]),[k,C]=Q.useState(""),[E,T]=Q.useState(0),[O,D]=Q.useState(0),[A,P]=Q.useState(!1),[M,L]=Q.useState(!1),I=Q.useRef(null),F=Q.useRef(0),R=Q.useRef(""),[$,B]=Q.useState(null),[z,U]=Q.useState(null);Q.useState(null);const[H,W]=Q.useState(null),Y=_.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",Y);const q=r.map((e=>({value:e.class_id,label:`${null==e?void 0:e.name}  `}))),V=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/getClassList`,{headers:{Authorization:`Bearer ${t}`}});Array.isArray(a.data)?(n(a.data),console.log("the name and section",a.data)):B("Unexpected data format")}catch(t){console.error("Error fetching class and section names:",t),B("Error fetching class and section names")}})),G=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${e}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});S(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(t){B(t.message)}}));Q.useEffect((()=>{V(),G()}),[]);const K=()=>p(this,null,(function*(){var t,a,r,n;if(!M){if(L(!0),!j)return L(!1),void U("Please select the class.");C("");try{console.log("for this sectiong id in seaching inside subjectallotment",j);const s=localStorage.getItem("authToken"),o=yield Uf.get(`${e}/api/get_subject_Alloted_for_report_card/${j}`,{headers:{Authorization:`Bearer ${s}`}});console.log("the response of the subjectallotment is *******",null==(t=o.data)?void 0:t.subjectAllotments),(null==(a=null==o?void 0:o.data)?void 0:a.subjectAllotments.length)>0?(l(null==(r=o.data)?void 0:r.subjectAllotments),D(Math.ceil((null==(n=null==o?void 0:o.data)?void 0:n.subjectAllotments.length)/10))):(l([]),hp.error("No subjects found for the selected class."))}catch(s){console.error("Error fetching subjects:",s),B("Error fetching subjects")}finally{L(!1)}}})),X=()=>{i(!1),c(!1)};Q.useEffect((()=>{const e=k.trim().toLowerCase();""!==e&&""===R.current&&(F.current=E,T(0)),""===e&&""!==R.current&&T(F.current),R.current=e}),[k]);const J=k.trim().toLowerCase(),Z=s.filter((e=>{var t,a,r,n,s;const l=(null==(a=null==(t=null==e?void 0:e.get_clases)?void 0:t.name)?void 0:a.toLowerCase())||"",o=(null==(n=null==(r=null==e?void 0:e.get_subjects_for_report_card)?void 0:r.name)?void 0:n.toLowerCase())||"",i=(null==(s=null==e?void 0:e.subject_type)?void 0:s.toLowerCase())||"";return l.toLowerCase().includes(J)||o.toLowerCase().includes(J)||i.toLowerCase().includes(J)}));Q.useEffect((()=>{D(Math.ceil(Z.length/10))}),[Z,10]);const ee=Z.slice(10*E,10*(E+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Subject Allotment For Report Card"}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row relative -top-4",children:["Manage","AllotSubject"].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(t===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{a(e),"Manage"===e&&K()})(e),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===t&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-4 w-full md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:H,onChange:e=>{U(""),W(e),N(e?e.value:null)},options:q,placeholder:"Select Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),z&&oe.jsx("div",{className:" relative top-0.5 left-3 ml-1 text-danger text-xs",children:z})," "]}),oe.jsx("button",{onClick:K,type:"button",className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",disabled:M,children:M?"Searching...":"Search"})]})})}),s.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Subjects Allotment List"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>C(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject Type"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:ee.length?ee.map(((e,t)=>{var a,r;return oe.jsxs("tr",{className:" text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*E+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(a=null==e?void 0:e.get_clases)?void 0:a.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(r=null==e?void 0:e.get_subjects_for_report_card)?void 0:r.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.subject_type}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{var t,a;m(e),console.log("curentedit",e),v(null==(t=null==e?void 0:e.get_clases)?void 0:t.name),g(null==(a=null==e?void 0:e.get_subjects_for_report_card)?void 0:a.name),w((null==e?void 0:e.subject_type)||""),i(!0)})(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{var t;const a=s.find((t=>t.sub_reportcard_id===e));a?(m(a),f(null==(t=a.get_subjects_for_report_card)?void 0:t.name),c(!0)):console.error("Section not found for deletion")})(null==e?void 0:e.sub_reportcard_id),className:"text-red-600 hover:text-red-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:VM})})})]},e.sub_rc_master_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:O,onPageChange:e=>{T(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"AllotSubject"===t&&oe.jsx("div",{children:oe.jsx(Zoe,{})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Allotment"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:X})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"newClassName",className:"w-1/2 mt-2",children:"Class:"}),oe.jsx("input",{type:"text",maxLength:2,readOnly:!0,className:"bg-gray-200 w-full p-2 rounded-md outline-none shadow-md mb-3",id:"class",value:b})," "]}),oe.jsxs("div",{className:"relative flex justify-start mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"newSubjectName",className:"w-1/2 mt-2",children:"Subject:"}),oe.jsx("input",{type:"text",maxLength:2,readOnly:!0,className:"bg-gray-200 w-full p-2 rounded-md outline-none shadow-md ",id:"class",value:x})," "]}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("div",{ref:I,className:"relative mb-3 flex justify-center mx-2 gap-4",children:[oe.jsxs("label",{htmlFor:"subjectType",className:"w-1/2 mt-2 text-nowrap",children:["Subject Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{className:" rounded-md border-1  text-black w-full text-[1em] shadow-md p-2 ",value:y,onChange:e=>w(e.target.value),children:[oe.jsx("option",{value:"",disabled:!0,children:"Select"}),oe.jsx("option",{value:"Scholastic",children:"Scholastic"}),oe.jsx("option",{value:"Co-Scholastic",children:"Co-Scholastic"})]})]})})]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!A){P(!0);try{const t=localStorage.getItem("authToken");if(!t||!u||!u.sub_reportcard_id)throw new Error("Subject ID is missing");if(!y)return hp.error("Please select a subject type."),void P(!1);yield Uf.put(`${e}/api/get_sub_report_allotted/${u.sub_reportcard_id}`,{subject_type:y},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),K(),X(),hp.success("Subject record updated successfully!")}catch(t){t.response&&t.response.data?hp.error(`Error updating subject record: ${t.response.data.error}`):hp.error(`Error updating subject record: ${t.message}`),console.error("Error editing subject record:",t)}finally{P(!1),i(!1)}}})),disabled:A,children:A?"Updating...":"Update"})})]})})})}),d&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:X}),console.log("the currecnt section inside delete of the managesubjhect",u)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this subject"," ",` ${h} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!A){P(!0);try{const t=localStorage.getItem("authToken"),a=null==u?void 0:u.sub_reportcard_id;if(!t||!a)throw new Error("Subject Allotment ID is missing");const r=yield Uf.delete(`${e}/api/get_sub_report_allotted/${a}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});if(console.log("responsedata",r.data),r.data&&400==r.data.status){const e=r.data.message||"Delete failed.";console.log("inside the delete",r.data),hp.error(e)}else hp.success("Subject deleted successfully!"),K();c(!1),c(!1)}catch(t){t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error(`Error deleting subject: ${t.message}`),console.error("Error deleting subject:",t)}finally{P(!1),c(!1)}}})),disabled:A,children:A?"Deleting...":"Delete"})})]})})})})]})}function tie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState("");Q.useState("");const[j,N]=Q.useState(""),[_,S]=Q.useState(0),[k,C]=Q.useState(0),[E,T]=Q.useState({}),[O,D]=Q.useState(!0),[A,P]=Q.useState(""),M=10,[L,I]=Q.useState({}),[F,R]=Q.useState(!1),[$,B]=Q.useState(""),z=Q.useRef(0),U=Q.useRef(""),H=()=>p(this,null,(function*(){var t,r,s;n(!0);try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No authentication token found");const l=yield Uf.get(`${e}/api/subject_for_reportcard`,{headers:{Authorization:`Bearer ${n}`},withCredentials:!0});a(null==(t=null==l?void 0:l.data)?void 0:t.subjects),console.log("subject_for_reportcard",null==(r=l.data)?void 0:r.subjects),C(Math.ceil((null==(s=null==l?void 0:l.data)?void 0:s.subjects.length)/M))}catch(o){l(o.message)}finally{n(!1)}}));Q.useEffect((()=>{H()}),[]);const W=(e,t)=>{const a={};return e&&""!==e.trim()||(a.name="Subject name is required."),t?/^\d+$/.test(t)||(a.sequenceNumber="Please enter a valid whole number."):a.sequenceNumber="Sequence number is required.",a},Y=()=>{i(!1),c(!1),f(!1),v(""),I(""),g(null),T({}),P("")},q=e=>{const{value:t}=e.target;I(""),P(""),w(t),T((e=>m(u({},e),{sequenceNumber:/^\d+$/.test(t)?"":"Please enter a valid whole number for the sequence."})))},V=e=>{const{value:t}=e.target;v(t),B(""),T((e=>m(u({},e),{name:t?"":"Subject name is required."})))};Q.useEffect((()=>{const e=j.trim().toLowerCase();""!==e&&""===U.current&&(z.current=_,S(0)),""===e&&""!==U.current&&S(z.current),U.current=e}),[j]);const G=t.filter((e=>{const t=j.trim().toLowerCase();return e.name.toLowerCase().includes(t)||e.sequence.toString().toLowerCase().includes(t)}));Q.useEffect((()=>{C(Math.ceil(G.length/M))}),[G,M]);const K=G.slice(_*M,(_+1)*M);return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Subject for report card"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>N(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{v(""),w(""),T({}),P(""),i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]})," ",oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 w-full md:w-[83%] mx-auto overflow-y-scroll lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 w-full md:w-[20%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sequence No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject for report card"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):K.length?K.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:_*M+a+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.sequence})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{g(e),v(e.name),w(e.sequence),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{const a=t.find((t=>t.sub_rc_master_id===e));console.log("sectionToDelete",a,"subjectId",e),g(a),f(!0)})(e.sub_rc_master_id),children:oe.jsx(zM,{icon:VM})})})]},e.department_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:k,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{S(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create Subject for report card"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:Y})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[99%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Subject Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"sectionName",value:b,onChange:V}),oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[E.name&&oe.jsx("small",{className:"text-danger text-xs",children:E.name}),oe.jsx("small",{className:" block text-danger text-xs ",children:$})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sequenceNumber",className:"w-1/2 mt-2",children:["Sequence No ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:2,className:"form-control shadow-md mb-2",id:"sequenceNumber",value:y,onChange:q}),oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[!O&&oe.jsx("small",{className:" block text-danger text-xs ",children:A}),E.sequenceNumber&&oe.jsx("small",{className:"text-danger text-xs",children:E.sequenceNumber})]})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary  px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){var t,a,r,n,s;if(F)return;R(!0);const l=W(b,y);if(Object.keys(l).length>0)return T(l),void R(!1);try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");if(console.log("Name is:",b),!0===(null==(t=(yield Uf.post(`${e}/api/check_subject_name_for_report_card`,{sequence:y},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0})).data)?void 0:t.exists))return P("The sequence has already been taken."),D(!1),void R(!1);P(""),D(!0),yield Uf.post(`${e}/api/subject_for_reportcard`,{name:b,sequence:y},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0}),H(),Y(),hp.success("Subject added successfully!")}catch(o){if(console.error("Error adding subject:",o),422===(null==(a=o.response)?void 0:a.status)&&(null==(n=null==(r=o.response)?void 0:r.data)?void 0:n.errors)){const e=o.response.data.errors;console.log("errors",e),(null==e?void 0:e.name)&&(null==(s=null==e?void 0:e.name)?void 0:s.length)>0&&B(e.name[0])}else hp.error("Server error. Please try again later.")}finally{R(!1)}})),disabled:F,children:F?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Subject for report card"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:Y})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-1/2 mt-2",children:["Subject Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"editSectionName",value:b,onChange:V}),oe.jsxs("div",{className:"absolute top-9 left-1/3 ",children:[E.name&&oe.jsx("small",{className:"text-danger text-xs",children:E.name}),oe.jsx("small",{className:" block text-danger text-xs ",children:$})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sequenceNumber",className:"w-1/2 mt-2",children:["Sequence No ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:2,className:"form-control shadow-md mb-2",id:"sequenceNumber",value:y,onChange:q}),oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[L.sequence&&oe.jsx("span",{className:"block text-danger text-xs",children:L.sequence[0]}),E.sequenceNumber&&oe.jsx("small",{className:"text-danger text-xs",children:E.sequenceNumber})]})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){var t,a,r,n;if(F)return;R(!0);const s=W(b,y);if(Object.keys(s).length>0)return T(s),void R(!1);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token or academic year found");yield Uf.put(`${e}/api/subject_for_reportcard/${x.sub_rc_master_id}`,{name:b,sequence:y},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),H(),Y(),hp.success("Subject Updated successfully!")}catch(l){if(console.error("Error editing Subject:",l),422===(null==(t=l.response)?void 0:t.status)&&(null==(r=null==(a=l.response)?void 0:a.data)?void 0:r.errors)){const e=l.response.data.errors;console.log("errors",e),(null==e?void 0:e.name)&&(null==(n=null==e?void 0:e.name)?void 0:n.length)>0&&B(e.name[0])}l.response&&l.response.data&&l.response.data.errors?I(l.response.data.errors):hp.error("Server error. Please try again later.")}finally{R(!1)}})),disabled:F,children:F?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:Y})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete Subject:"," ",null==x?void 0:x.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!F){R(!0);try{const t=localStorage.getItem("authToken");if(!t||!x||!x.sub_rc_master_id)throw new Error("Subject_rc_master_id  is missing");const a=yield Uf.delete(`${e}/api/subject_for_reportcard/${x.sub_rc_master_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a.data.success?(H(),f(!1),g(null),hp.success("Subject deleted successfully!")):hp.error(a.data.message||"Failed to delete subject")}catch(t){console.error("Error deleting subject:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{R(!1),f(!1)}}})),disabled:F,children:F?"Deleting...":"Delete"})})]})})})]})}function aie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState([]),[s,l]=Q.useState(""),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[u,m]=Q.useState(!1),[h,f]=Q.useState(null),[x,g]=Q.useState(""),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(0),[k,C]=Q.useState(0),[E,T]=Q.useState(null),[O,D]=Q.useState(!1),A=10,P=Q.useRef(0),M=Q.useRef(""),[L,I]=Q.useState(null),F=sm(),[R,$]=Q.useState(""),[B,z]=Q.useState(""),[U,H]=Q.useState(""),[W,Y]=Q.useState(null),[q,V]=Q.useState(""),[G,K]=Q.useState(""),[X,J]=Q.useState(""),[Z,ee]=Q.useState(!1),[te,ae]=Q.useState(!1);Q.useState(!1);const[re,ne]=Q.useState(!1),se=Q.useMemo((()=>t.map((e=>({value:e.section_id,label:`${null==e?void 0:e.classname} ${e.sectionname} `})))),[t]),le=()=>p(this,null,(function*(){ee(!0);try{const t=localStorage.getItem("authToken"),r=yield Uf.get(`${e}/api/get_classesfornewstudentlist`,{headers:{Authorization:`Bearer ${t}`}});a(r.data||[])}catch(t){hp.error("Error fetching initial data.")}finally{ee(!1)}})),ie=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");ee(!0);const a=yield Uf.get(`${e}/api/get_all_newstudentlist`,{headers:{Authorization:`Bearer ${t}`}}),r=(null==a?void 0:a.data)||[];n(r),C(Math.ceil(r.length/A)),ae(!1)}catch(t){hp.error("Error fetching the student list.")}finally{ee(!1)}}));Q.useEffect((()=>{le(),ie(),re&&(ie(),ne(!1))}),[re]);const de=()=>{i(!1),c(!1),m(!1)},ce=(e,t)=>{const a=window.URL.createObjectURL(new Blob([e])),r=document.createElement("a");r.href=a,r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r)},ue=t=>p(this,null,(function*(){try{const a=localStorage.getItem("authToken");if(console.log("the response of the namechack api____"),!a)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/download_csv_rejected/${t}`,{headers:{Authorization:`Bearer ${a}`}},{responseType:"blob"});ce(r.data,`${y}_rejected_template.csv`)}catch(a){console.error("Error downloading template:",a)}}));Q.useEffect((()=>{const e=j.trim().toLowerCase();""!==e&&""===M.current&&(P.current=_,S(0)),""===e&&""!==M.current&&S(P.current),M.current=e}),[j]);const me=r.filter((e=>{var t,a,r;const n=j.toLowerCase(),s=(null==(t=`${null==e?void 0:e.first_name} ${null==e?void 0:e.mid_name} ${null==e?void 0:e.last_name}`)?void 0:t.toLowerCase())||"",l=(null==(r=null==(a=null==e?void 0:e.get_class)?void 0:a.name)?void 0:r.toLowerCase())||"";return s.includes(n)||l.includes(n)}));Q.useEffect((()=>{C(Math.ceil(me.length/A))}),[me,A]);const he=me.slice(_*A,(_+1)*A);return console.log("displayedSections",he),oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-[85%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"New Students List"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{F("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white w-full md:w-[95%] mx-auto rounded-md ",children:oe.jsxs("div",{className:"w-full  mx-auto",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4  ",children:oe.jsx("div",{className:"  w-[100%]  mx-auto ",children:te?oe.jsxs("div",{className:"max-w-full bg-white shadow-md rounded-lg border border-gray-300 mx-auto mt-10 p-6",children:[oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{ae(!1),v(null),I(null),ie(),Y(null),K(""),V(""),J("")}}),oe.jsx("h2",{className:"text-center text-2xl font-semibold mb-8 text-blue-600",children:"Upload Student Data from Excel Sheet"}),oe.jsxs("h5",{className:"  text-center mx-auto font-semibold mb-3 text-gray-500 ",children:["Class: ",y]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[oe.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-100 rounded-md",children:[oe.jsx("h5",{className:"font-semibold mb-3 text-gray-800",children:"Download Template"}),oe.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["# Please download the template by clicking below.",oe.jsx("br",{}),"# Enter student details in the downloaded file.",oe.jsx("br",{}),"# Do not add new students."]}),oe.jsxs("button",{onClick:()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(console.log("the response of the namechack api____"),!t)throw new Error("No authentication token found");const a=yield Uf.get(`${e}/api/students/download-template/${b}`,{headers:{Authorization:`Bearer ${t}`}},{responseType:"blob"});ce(a.data,`${y}_template.csv`)}catch(t){console.error("Error downloading template:",t)}})),className:"bg-blue-600 text-white text-xs rounded-full px-6 py-3 hover:bg-blue-700 transition duration-200",children:[oe.jsx("i",{className:"fas fa-download text-lg"})," Download Template"]})]}),oe.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-100 rounded-md",children:[oe.jsx("h5",{className:"font-semibold mb-3 text-gray-800",children:"Select a file to upload"}),oe.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["# Do not change the file name or contents of the first 4 columns.",oe.jsx("br",{}),"# Do not change the name of the file. Do not change the contents of first 4 columns in the downloaded excelsheet."]}),oe.jsxs("label",{className:"bg-blue-600 md:w-[45%] overflow-hidden text-white rounded-full text-xs  px-6 py-3 hover:bg-blue-700 cursor-pointer transition duration-200 whitespace-nowrap",children:[oe.jsx("i",{className:"fas fa-upload text-lg "})," ",W?W.name.length>20?`${W.name.substring(0,10)}...`:W.name:"Choose File",oe.jsx("input",{type:"file",accept:".csv",onChange:e=>{const t=e.target.files[0];Y(t),K(""),V(""),J("")},className:"hidden"})]})]}),oe.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-100 rounded-md",children:[oe.jsx("h5",{className:"font-semibold mb-3 text-gray-800",children:"Register New Students"}),oe.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["# Click upload to register students.",oe.jsx("br",{}),"# Students will be registered in the application. Their userid and password will be sent as email at the email id's provided."]}),oe.jsxs("div",{className:"text-xs flex flex-col justify-around",children:[oe.jsx("span",{children:G&&oe.jsx("p",{style:{color:"red"},children:G})}),oe.jsx("span",{className:"mb-2",children:X&&oe.jsx("a",{href:"#",style:{color:"red"},className:"text-xs",onClick:e=>{e.preventDefault(),ue(X)},children:oe.jsx("span",{className:"underline text-blue-500 hover:text-blue-800 mr-2",children:"Download CSV to see errors."})})})]}),oe.jsxs("button",{onClick:()=>p(this,null,(function*(){var t,a,r,n,s,l;if(!W)return void K("Please select a file first.");const o=W.name.split("_")[0].trim(),i=y.trim();if(console.log("fileNameWithoutExtension",o,"classNameForBulkUploadForCheck",i),o!==i)return void hp.warning("Invalid file! Please select a valid file without renaming it or modifying the first four columns.");ee(!0);const d=new FormData;d.append("file",W);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");console.log("file is csv",d),console.log("this is post of the csv",L.value);const a=yield Uf.post(`${e}/api/update-students-csv/${L.value}`,d,{headers:{Authorization:`Bearer ${t}`}});console.log("the response of post bulk upload",a),200===a.status&&(hp.success("Data posted successfully!"),ne(!0),Y(null))}catch(c){ee(!1);const e=null==(a=null==(t=null==c?void 0:c.response)?void 0:t.data)?void 0:a.message,o=null==(n=null==(r=null==c?void 0:c.response)?void 0:r.data)?void 0:n.invalid_rows;console.log("showErrorForUploadingURL",e),K(e?`Error-Message: ${e}.`:"Failed to upload file. Please try again..."),J(`${o}`),console.log("showerrormessage Full url",X),hp.error(e?null==(l=null==(s=null==c?void 0:c.response)?void 0:s.data)?void 0:l.message:"Error uploading file."),console.error("Error uploading file:",e)}})),className:"bg-blue-600 text-white text-xs rounded-full px-6 py-3 hover:bg-blue-700 transition duration-200",disabled:Z,children:[" ",oe.jsx("i",{className:"fas fa-cloud-upload-alt text-lg"})," ",Z?"Uploading...":"Upload"]}),q&&oe.jsx("p",{style:{color:"green"},children:q})]})]})]}):oe.jsxs("div",{className:"max-w-full bg-white shadow-md rounded-lg border border-gray-300 mx-auto mt-10 p-6",children:[oe.jsx("h2",{className:"text-center text-2xl font-semibold mb-8 text-blue-600",children:"Upload Student Data from Excel Sheet"}),oe.jsxs("div",{className:" w-full md:w-[49%]  mx-auto flex justify-center flex-col md:flex-row gap-x-1 md:gap-x-4 ",children:[oe.jsxs("div",{className:"w-full  gap-x-3 md:justify-center justify-around  my-1 md:my-4 flex  md:flex-row  ",children:[oe.jsxs("label",{htmlFor:"classSection",className:" mr-2 pt-2 items-center text-center",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-[65%] md:w-[55%] ",children:[oe.jsx(Soe,{value:L,onChange:e=>{T(""),I(e),v(e?e.value:null),w(e.label),console.log("selected class name",e),l(e.value)},options:se,placeholder:"Select ",isSearchable:!0,isClearable:!0,className:"text-sm"}),E&&oe.jsx("div",{className:" relative top-0.5 ml-1 text-danger text-xs",children:E})]})]}),oe.jsx("button",{onClick:()=>p(this,null,(function*(){if(!O){if(D(!0),!b)return T("Please select Class."),void D(!1);ee(!0),N("");try{const t=localStorage.getItem("authToken");let a;L&&(a=yield Uf.get(`${e}/api/get_newstudent_by_sectionId/${L.value}`,{headers:{Authorization:`Bearer ${t}`}}));const r=(null==a?void 0:a.data)||[];n(r),C(Math.ceil(r.length/A)),ae(!0)}catch(t){hp.error("Error fetching student details.")}finally{ee(!1),D(!1)}}})),type:"button",disabled:O,className:"mr-0 md:mr-4 my-1 md:my-4 btn h-10  w-18 md:w-auto btn-primary ",children:O?"Searching...":"Search"})]})]})})}),r.length>0&&oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Student List"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>N(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full  md:w-[80%] mx-auto",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:he.length?he.map(((e,t)=>{var a,n,s,l,o;return oe.jsxs("tr",{className:" text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:_*A+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:`${null!=(a=null==e?void 0:e.first_name)?a:""} ${(null==e?void 0:e.mid_name)?e.mid_name+" ":""}${null!=(n=null==e?void 0:e.last_name)?n:""}`.trim()}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm text-nowrap",children:`${null!=(l=null==(s=null==e?void 0:e.get_class)?void 0:s.name)?l:""}${(null==(o=null==e?void 0:e.get_division)?void 0:o.name)?" "+e.get_division.name:""}`.trim()}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>{return f(t=e),void F(`/newStudetEdit/edit/${t.student_id}`,{state:{student:t}});var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{console.log("inside delete of subjectallotmenbt____The ClassToDelete",e),console.log("inside delete of subjectallotmenbt the Id is",e.student_id);const t=r.find((t=>t.student_id===e.student_id));g(e.student_name),f({classToDelete:t}),c(!0)})(e),className:"text-red-600 hover:text-red-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:VM})})})]},e.student_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:k,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{S(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})})]})})]}),d&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:de}),console.log("the currecnt section inside delete of the managesubjhect",h)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this student"," ",` ${x} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var a,r,n;if(!O){D(!0);try{const s=localStorage.getItem("authToken");if(console.log("the currecnt section inside the delte___",null==(a=null==h?void 0:h.classToDelete)?void 0:a.student_id),console.log("the classes inside the delete",t),console.log("the current section insde the handlesbmitdelete",h.classToDelete),!s||!h||!(null==(r=null==h?void 0:h.classToDelete)?void 0:r.student_id))throw new Error("Student ID is missing");yield Uf.delete(`${e}/api/deleteNewstudent/${null==(n=null==h?void 0:h.classToDelete)?void 0:n.student_id}`,{headers:{Authorization:`Bearer ${s}`},withCredentials:!0}),ie(),c(!1),hp.success("Student deleted successfully!")}catch(s){s.response&&s.response.data?hp.error(`Error deleting Student: ${s.response.data.message}`):hp.error(`Error deleting Student: ${s.message}`),console.error("Error deleting Student:",s)}finally{D(!1),c(!1)}}})),disabled:O,children:O?"Deleting...":"Delete"})})]})})})}),o&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Reset Password"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:de})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"userId",className:"w-1/2 mt-2",children:["User ID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"userId",value:R,onChange:e=>{$(e.target.value)}}),U&&oe.jsx("span",{className:"text-danger text-xs",children:U})]})}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(console.log("toekn",t),!t)return void hp.error("Authentication token missing");yield Uf.put(`${e}/api/students/${R}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),hp.success("Password updated successfully!"),i(!1)}catch(t){if(console.error("Error resetting password:",t),z(""),H(""),t.response&&t.response.data&&t.response.data.errors){const e=t.response.data.errors;e.user_id&&H(e.user_id.join(", "))}else hp.error("Server error. Please try again later.")}})),disabled:O,children:O?"Updating...":"Update"})})]})})})})]})}function rie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState(!1);Q.useState("");const[r,n]=Q.useState(null),[s,l]=Q.useState([]),o=sm(),i=rm(),{student:d}=i.state||{},[c,h]=Q.useState(null),[f,x]=Q.useState([]),[g,b]=Q.useState([]),[v,y]=Q.useState(null),[w,j]=Q.useState(null);Q.useState(""),Q.useState("");const[N,_]=Q.useState({fatherMobile:"",motherMobile:"",fatherEmail:"",motherEmail:""}),[S,k]=Q.useState(""),[C,E]=Q.useState(null);Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/getClassList`,{headers:{Authorization:`Bearer ${t}`}});x(a.data),console.log("claases are",f)}catch(t){hp.error("Error fetching class names")}}))})()}),[e]),console.log("the data of student",d);const[T,O]=Q.useState({first_name:"",mid_name:"",last_name:"",house:"",student_name:"",dob:"",admission_date:"",stud_id_no:"",stu_aadhaar_no:"",gender:"",category:"",blood_group:" ",mother_tongue:"",permant_add:" ",birth_place:"",admission_class:"",city:"",state:"",roll_no:"",class_id:"",section_id:"",religion:"",caste:"",subcaste:"",vehicle_no:"",emergency_name:"",emergency_contact:"",emergency_add:"",transport_mode:" ",height:"",weight:"",allergies:"",nationality:"",pincode:"",image_name:"",reg_no:" ",parent_id:"",father_name:"",father_occupation:"",f_office_add:"",f_office_tel:"",f_mobile:"",f_email:"",f_dob:" ",m_dob:" ",parent_adhar_no:"",mother_name:"",mother_occupation:"",m_office_add:"",m_office_tel:"",m_mobile:"",m_emailid:"",m_adhar_no:"",udise_pen_no:"",SetToReceiveSMS:"",SetEmailIDAsUsername:""}),[D,A]=Q.useState({}),[P,M]=Q.useState(null),[L,I]=Q.useState({}),[F,R]=Q.useState({setUsername:!1,receiveSms:!1}),[$,B]=Q.useState({setUsername:!1,receiveSms:!1}),[z,U]=Q.useState({setUsername:!1}),[H,W]=Q.useState({setUsername:!1});console.log("student",d),Q.useEffect((()=>{var e,t,a,r,n,s,l,o,i,c,u,m,h,f,p,x;d&&(O({first_name:d.first_name||" ",mid_name:d.mid_name||"",last_name:d.last_name||"",house:d.house||"",student_name:d.student_name||"",dob:d.dob||"",admission_date:d.admission_date||"",stud_id_no:d.stud_id_no||"",stu_aadhaar_no:d.stu_aadhaar_no||"",gender:d.gender||"",permant_add:d.permant_add||" ",mother_tongue:d.mother_tongue||"",birth_place:d.birth_place||"",admission_class:d.admission_class||"",city:d.city||" ",state:d.state||"",roll_no:d.roll_no||"",reg_no:d.reg_no||" ",blood_group:d.blood_group||" ",category:d.category||"",class_id:d.class_id||"",section_id:d.section_id||"",religion:d.religion||"",caste:d.caste||"",subcaste:d.subcaste||"",transport_mode:d.transport_mode||" ",vehicle_no:d.vehicle_no||"",emergency_name:d.emergency_name||" ",emergency_contact:d.emergency_contact||"",emergency_add:d.emergency_add||"",height:d.height||"",weight:d.weight||"",allergies:d.allergies||"",nationality:d.nationality||"",pincode:d.pincode||"",image_name:d.image_name||"",f_dob:(null==(e=null==d?void 0:d.parents)?void 0:e.f_dob)||" ",m_dob:(null==(t=null==d?void 0:d.parents)?void 0:t.m_dob)||" ",father_name:(null==(a=null==d?void 0:d.parents)?void 0:a.father_name)||" ",father_occupation:(null==(r=null==d?void 0:d.parents)?void 0:r.father_occupation)||"",f_office_add:(null==(n=null==d?void 0:d.parents)?void 0:n.f_office_add)||"  ",f_office_tel:(null==(s=null==d?void 0:d.parents)?void 0:s.f_office_tel)||"",f_mobile:(null==(l=null==d?void 0:d.parents)?void 0:l.f_mobile)||"",f_email:(null==(o=null==d?void 0:d.parents)?void 0:o.f_email)||"",parent_adhar_no:(null==(i=null==d?void 0:d.parents)?void 0:i.parent_adhar_no)||"",mother_name:(null==(c=null==d?void 0:d.parents)?void 0:c.mother_name)||" ",mother_occupation:(null==(u=null==d?void 0:d.parents)?void 0:u.mother_occupation)||"",m_office_add:(null==(m=null==d?void 0:d.parents)?void 0:m.m_office_add)||" ",m_office_tel:(null==(h=null==d?void 0:d.parents)?void 0:h.m_office_tel)||"",m_mobile:(null==(f=null==d?void 0:d.parents)?void 0:f.m_mobile)||"",m_emailid:(null==(p=null==d?void 0:d.parents)?void 0:p.m_emailid)||"",m_adhar_no:(null==(x=null==d?void 0:d.parents)?void 0:x.m_adhar_no)||"",udise_pen_no:d.udise_pen_no||" ",SetToReceiveSMS:"",SetEmailIDAsUsername:""}),y(d.class_id||""),j(d.section_id||""),(null==d?void 0:d.image_name)&&M(`${d.image_name}`))}),[d,e]),console.log("setPhotoPreview",P);const[Y,q]=Q.useState([]),[V,G]=Q.useState([]),[K,X]=Q.useState(null),[J,Z]=Q.useState(null),[ee,te]=Q.useState(!1),[ae,re]=Q.useState(!1),[ne,se]=Q.useState("no"),le=e=>{const t=e.target.value;se(t),"no"===t&&(O((e=>m(u({},e),{father_name:"",father_occupation:"",f_office_add:"",f_office_tel:"",f_mobile:"",f_email:"",parent_adhar_no:"",mother_name:"",mother_occupation:"",m_office_add:"",m_office_tel:"",m_mobile:"",m_emailid:"",m_adhar_no:"",f_dob:"",m_dob:"",f_blood_group:"",m_blood_group:"",SetToReceiveSMS:"",SetEmailIDAsUsername:""}))),y(null),X(null),Z(null),n(null),console.log("setClassIdForSearch_______!",K),he(null))},ie="no"===ne,de="yes"===ne,ce=Q.useMemo((()=>Y.map((e=>{var t;return{value:e.section_id,label:`${(null==(t=null==e?void 0:e.get_class)?void 0:t.name)||" "} ${e.name||" "}`,key:`${e.class_id}-${e.section_id}`}}))),[Y]),ue=Q.useMemo((()=>V.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||" "} ${(null==e?void 0:e.mid_name)||" "} ${e.last_name||" "}`})))),[V]);Q.useEffect((()=>{if(s){O((e=>m(u({},e),{parent_id:s.parent_id||" ",father_name:s.father_name||"",father_occupation:s.father_occupation||"",f_office_add:s.f_office_add||"",f_office_tel:s.f_office_tel||"",f_mobile:s.f_mobile||"",f_email:s.f_email||"",parent_adhar_no:s.parent_adhar_no||"",mother_name:s.mother_name||"",mother_occupation:s.mother_occupation||"",m_office_add:s.m_office_add||"",m_office_tel:s.m_office_tel||"",m_mobile:s.m_mobile||"",m_emailid:s.m_emailid||"",m_adhar_no:s.m_adhar_no||"",f_dob:s.f_dob||"",m_dob:s.m_dob||"",f_blood_group:s.f_blood_group||"",m_blood_group:s.m_blood_group||"",SetToReceiveSMS:s.SetToReceiveSMS||"",SetEmailIDAsUsername:s.SetEmailIDAsUsername||""}))),R({setUsername:"FatherMob"===s.SetEmailIDAsUsername,receiveSms:"FatherMob"===s.SetToReceiveSMS}),B({setUsername:"MotherMob"===s.SetEmailIDAsUsername,receiveSms:"MotherMob"===s.SetToReceiveSMS}),U({setUsername:"Father"===s.SetEmailIDAsUsername}),W({setUsername:"Mother"===s.SetEmailIDAsUsername});const e=null==s?void 0:s.SetEmailIDAsUsername;console.log("userId",e),R({setUsername:"FatherMob"===s.SetEmailIDAsUsername||e===s.f_mobile,receiveSms:"FatherMob"===s.SetToReceiveSMS||e===s.f_mobile}),B({setUsername:"MotherMob"===s.SetEmailIDAsUsername||e===s.m_mobile,receiveSms:"MotherMob"===s.SetToReceiveSMS||e===s.m_mobile}),U({setUsername:"Father"===s.SetEmailIDAsUsername||e===s.f_email}),W({setUsername:"Mother"===s.SetEmailIDAsUsername||e===s.m_emailid})}}),[s]),Q.useEffect((()=>{if(s){O((e=>m(u({},e),{f_mobile:(null==s?void 0:s.f_mobile)||"",f_email:(null==s?void 0:s.f_email)||"",m_mobile:(null==s?void 0:s.m_mobile)||"",m_emailid:(null==s?void 0:s.m_emailid)||"",SetEmailIDAsUsername:(null==s?void 0:s.SetEmailIDAsUsername)||""})));const e=(null==s?void 0:s.SetEmailIDAsUsername)?null==s?void 0:s.SetEmailIDAsUsername:null;if(console.log("master user_id",e),null===e)return E(""),void console.log("User ID is undefined, skipping conditions");e===(null==s?void 0:s.f_mobile)?E("FatherMob"):e===(null==s?void 0:s.m_mobile)?E("MotherMob"):e===(null==s?void 0:s.f_email)?E("Father"):e===(null==s?void 0:s.m_emailid)?E("Mother"):(E(""),console.log("User ID does not match any condition")),s.SetToReceiveSMS===(null==s?void 0:s.f_mobile)?O((e=>m(u({},e),{SetToReceiveSMS:"Father"}))):s.SetToReceiveSMS===(null==s?void 0:s.m_mobile)?O((e=>m(u({},e),{SetToReceiveSMS:"Mother"}))):O((e=>m(u({},e),{SetToReceiveSMS:""})))}}),[s]);const me=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${t}`}});q(a.data||[])}catch(t){hp.error("Error fetching initial data.")}})),he=(t=null)=>p(this,null,(function*(){var a;try{const r=t?{section_id:t}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${e}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});G((null==(a=null==s?void 0:s.data)?void 0:a.data)||[])}catch(r){hp.error("Error fetching students.")}}));Q.useEffect((()=>{me(),he()}),[]),Q.useEffect((()=>{v&&(()=>{p(this,null,(function*(){var t;try{const a=localStorage.getItem("authToken"),r=yield Uf.get(`${e}/api/get_divisions/${v}`,{headers:{Authorization:`Bearer ${a}`}});b(null==(t=null==r?void 0:r.data)?void 0:t.divisions)}catch(a){hp.error("Error fetching divisions")}}))})()}),[v,e]);const fe=(t,r)=>p(this,null,(function*(){var n;a(!0);try{const a=localStorage.getItem("authToken"),s=yield Uf.get(`${e}/api/check-user-id/${t}/${r}`,{headers:{Authorization:`Bearer ${a}`}});return null==(n=null==s?void 0:s.data)?void 0:n.exists}catch(s){return console.error("Error checking username uniqueness:",s),!1}finally{a(!1)}})),pe=(e,t,a)=>p(this,null,(function*(){const r=yield fe(d.student_id,t);_(""),r?_((e=>m(u({},e),{[a]:"Username is already taken."}))):(_((e=>m(u({},e),{[a]:""}))),O((t=>m(u({},t),{SetEmailIDAsUsername:e})))),E(e)})),xe=e=>{A((e=>m(u({},e),{SetToReceiveSMS:""}))),O((t=>m(u({},t),{SetToReceiveSMS:e})))},ge=e=>e?/^\d{10}$/.test(e)?null:"Phone number must be 10 digits":"Phone number is required",be=e=>e?/^\d{12}$/.test(e.replace(/\s+/g,""))?null:"Aadhar card number must be 12 digits":"Aadhar card number is required",ve=e=>e?/\S+@\S+\.\S+/.test(e)?null:"Email address is invalid":"Email is required",ye=e=>{const{name:t,value:a,checked:r,type:n}=e.target;let s=a;"checkbox"===n&&(s=r),O((e=>m(u({},e),{[t]:s}))),"stud_id_no"!==t&&"stu_aadhaar_no"!==t&&"udise_pen_no"!==t&&"reg_no"!==t||I((e=>m(u({},e),{[t]:void 0})));let l={};"f_mobile"===t?l.f_mobile=ge(s):"m_mobile"===t?l.m_mobile=ge(s):"parent_adhar_no"===t?l.parent_adhar_no=be(s):"stu_aadhaar_no"===t?l.stu_aadhaar_no=be(s):"f_email"!==t&&"m_emailid"!==t||(l[t]=ve(s)),A((e=>u(u({},e),l)))};return oe.jsxs("div",{className:" w-[95%] mx-auto p-4",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-3  rounded-md",children:[oe.jsxs("div",{className:"card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Student Information"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>o("/newStudentList")})]}),oe.jsx("div",{className:"relative w-full -top-6 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" md:absolute md:right-8 md:top-[5%] text-gray-500",children:[oe.jsx("span",{className:"text-red-500",children:"*"})," indicates mandatory information"]}),oe.jsx("form",{onSubmit:t=>p(this,null,(function*(){var a,r,n;console.log("Submit triggered"),t.preventDefault(),A({}),_({});const s=(()=>{var e,t,a,r,n,s,l,o,i,c,u,m;const h={},f=[T.f_mobile,T.f_email,T.m_mobile,T.m_emailid],p=null==(e=d.user_master)?void 0:e.user_id;C||(null==T?void 0:T.SetEmailIDAsUsername)&&null!=T.SetEmailIDAsUsername&&""!=T.SetEmailIDAsUsername&&(!p||f.includes(T.SetEmailIDAsUsername))?delete h.SetEmailIDAsUsername:h.SetEmailIDAsUsername="User name is required",(null==T?void 0:T.SetToReceiveSMS)&&null!=T.SetToReceiveSMS&&""!=T.SetToReceiveSMS||(h.SetToReceiveSMS="Receive SMS name is required"),(null==(t=T.first_name)?void 0:t.trim())&&null!=T.first_name&&""!=T.first_name||(h.first_name="First name is required"),T.dob&&null!=T.dob&&""!=T.dob&&"0000-00-00"!=T.dob||(h.dob="Date of Birth is required"),T.nationality&&null!=T.nationality&&""!=T.nationality||(h.nationality="Nationality is required"),T.mother_tongue&&null!=T.mother_tongue&&""!=T.mother_tongue||(h.mother_tongue="Mother Tongue is required"),(null==(a=T.student_name)?void 0:a.trim())&&null!=T.student_name&&""!=T.student_name||(h.student_name="Student name is required"),(null==(r=T.reg_no)?void 0:r.trim())&&null!=T.reg_no&&""!=T.reg_no||(h.reg_no="GR number is required"),T.admission_date&&null!=T.admission_date&&""!=T.admission_date&&"0000-00-00"!=T.admission_date||(h.admission_date="Date of admission is required"),(null==(n=T.permant_add)?void 0:n.trim())&&null!=T.permant_add&&""!=T.permant_add||(h.permant_add="Permanent address is required"),(null==(s=T.city)?void 0:s.trim())&&null!=T.city&&""!=T.city||(h.city="City is required"),(null==(l=T.state)?void 0:l.trim())&&null!=T.state&&""!=T.state||(h.state="State is required"),T.category&&"Select"!=T.category&&null!=T.category&&""!=T.category||(h.category="Category selection is required"),T.gender&&"Select"!=T.gender&&null!=T.gender&&""!=T.gender||(h.gender="Gender selection is required"),T.religion&&"Select"!=T.religion&&null!=T.religion&&""!=T.religion||(h.religion="Religion selection is required"),T.admission_class&&"Select"!=T.admission_class&&"null"!=T.admission_class&&""!=T.admission_class||(h.admission_class="Admission class selection is required"),T.class_id&&"Select"!=T.class_id&&null!=T.class_id&&""!=T.class_id||(h.class_id="Class selection is required"),T.section_id&&"Select"!=T.section_id&&null!=T.section_id&&""!=T.section_id||(h.section_id="Division selection is required");const x=ge(T.f_mobile);x&&(h.f_mobile=x);const g=ge(T.m_mobile);g&&(h.m_mobile=g);const b=be(T.stu_aadhaar_no);b&&(h.stu_aadhaar_no=b);const v=be(T.m_adhar_no);v&&(h.m_adhar_no=v);const y=be(T.parent_adhar_no);y&&(h.parent_adhar_no=y);const w=ve(T.f_email);w&&(h.f_email=w);const j=ve(T.m_emailid);return j&&(h.m_emailid=j),(null==(o=T.father_name)?void 0:o.trim())&&null!=T.father_name&&""!=T.father_name||(h.father_name="Father Name is required"),(null==(i=T.mother_name)?void 0:i.trim())&&null!=T.mother_name&&""!=T.mother_name||(h.mother_name="Mother Name is required"),(null==(c=T.m_adhar_no)?void 0:c.trim())&&null!=T.m_adhar_no&&""!=T.m_adhar_no||(h.m_adhar_no="Mother Aadhaar Card No. is required"),(null==(u=T.stu_aadhaar_no)?void 0:u.trim())&&null!=T.stu_aadhaar_no&&""!=T.stu_aadhaar_no||(h.stu_aadhaar_no="Student Aadhaar Card No. is required"),(null==(m=T.parent_adhar_no)?void 0:m.trim())&&null!=T.parent_adhar_no&&""!=T.parent_adhar_no||(h.parent_adhar_no="Father Aadhaar Card No. is required"),h})();if(Object.keys(s).length>0)return A(s),void console.log("Validation Errors:",s);if("no"===ne){const{value:e,key:t}=((e,t)=>{switch(t){case"FatherMob":return{value:e.f_mobile,key:"fatherMobile"};case"MotherMob":return{value:e.m_mobile,key:"motherMobile"};case"Father":return{value:e.f_email,key:"fatherEmail"};case"Mother":return{value:e.m_emailid,key:"motherEmail"};default:return{value:"",key:"general"}}})(T,C);if(!e)return _((e=>m(u({},e),{[t]:"Username is empty or invalid."}))),void hp.error("Please provide a valid username.");if(yield fe(d.student_id,e))return _((e=>m(u({},e),{[t]:"Username is already taken."}))),void hp.error("Username is already taken. Please choose another.");T.parent_id=0,console.log("No existing parent, parent_id set to 0")}else console.log("Parent exists, skipping username check.");try{I({}),te(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=m(u({},T),{SetEmailIDAsUsername:C||""});200===(yield Uf.put(`${e}/api/updateNewStudent/${d.student_id}/${null==T?void 0:T.parent_id}`,a,{headers:{Authorization:`Bearer ${t}`}})).status&&(hp.success("Student updated successfully!"),setTimeout((()=>{o("/newStudentList")}),3e3))}catch(l){console.error("Error:",(null==(a=l.response)?void 0:a.data)||l.message),(null==(n=null==(r=l.response)?void 0:r.data)?void 0:n.errors)?(I(l.response.data.errors),hp.error("Some fields contain duplicate data. Please ensure all values are unique.")):hp.error(l.message||"Backend error occurred while updating data.")}finally{te(!1)}})),className:"md:mx-2 overflow-x-hidden shadow-md py-1 bg-gray-50",children:ee?oe.jsxs("div",{className:" inset-0  h-52 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):oe.jsxs("div",{className:"flex flex-col gap-y-3 p-2 md:grid md:grid-cols-4 md:gap-x-14 md:mx-10 ",children:[oe.jsxs("h5",{className:"col-span-4 text-blue-400  relative top-2",children:[" ","Personal Information"]}),oe.jsx("div",{className:" row-span-2  ",children:oe.jsx(Cg,{photoPreview:P,onImageCropped:e=>{O((t=>m(u({},t),{image_name:e})))}})}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"first_name",className:"block font-bold text-xs mb-0.5",children:["First Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"first_name",name:"first_name",maxLength:100,value:T.first_name,onChange:ye,className:" input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner"}),D.first_name&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.first_name})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"mid_name",className:"block font-bold text-xs mb-0.5",children:"Middle Name"}),oe.jsx("input",{type:"text",id:"mid_name",name:"mid_name",maxLength:100,value:T.mid_name,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"lastName",className:"block font-bold text-xs mb-0.5",children:"Last Name"}),oe.jsx("input",{type:"text",id:"lastName",name:"last_name",maxLength:100,value:T.last_name,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"dateOfBirth",className:"block font-bold text-xs mb-0.5",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dateOfBirth",name:"dob",value:T.dob,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),D.dob&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.dob})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"gender",className:"block font-bold text-xs mb-0.5",children:["Gender ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"gender",name:"gender",value:T.gender,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"M",children:"Male"}),oe.jsx("option",{value:"F",children:"Female"}),oe.jsx("option",{value:"O",children:"Other"})]}),D.gender&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.gender})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsxs("select",{id:"bloodGroup",name:"blood_group",value:T.blood_group,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"religion",className:"block font-bold text-xs mb-0.5",children:["Religion ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"religion",name:"religion",value:T.religion,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"Hindu",children:"Hindu"}),oe.jsx("option",{value:"Christian",children:"Christian"}),oe.jsx("option",{value:"Muslim",children:"Muslim"}),oe.jsx("option",{value:"Sikh",children:"Sikh"}),oe.jsx("option",{value:"Jain",children:"Jain"}),oe.jsx("option",{value:"Buddhist",children:"Buddhist"})]}),D.religion&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.religion})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"caste",className:"block font-bold text-xs mb-0.5",children:"Caste"}),oe.jsx("input",{type:"text",id:"caste",maxLength:100,name:"caste",value:T.caste,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"category",className:"block font-bold text-xs mb-0.5",children:["Category ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"category",name:"category",value:T.category,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"General",children:"General"}),oe.jsx("option",{value:"SC",children:"SC"}),oe.jsx("option",{value:"ST",children:"ST"}),oe.jsx("option",{value:"OBC",children:"OBC"}),oe.jsx("option",{value:"SBC",children:"SBC"}),oe.jsx("option",{value:"NT",children:"NT"}),oe.jsx("option",{value:"VJNT",children:"VJNT"}),oe.jsx("option",{value:"Minority",children:"Minority"})]}),D.category&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.category})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"birthPlace",className:"block font-bold text-xs mb-0.5",children:"Birth Place"}),oe.jsx("input",{type:"text",id:"birthPlace",name:"birth_place",maxLength:50,value:T.birth_place,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"nationality",className:"block font-bold text-xs mb-0.5",children:["Nationality ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"nationality",maxLength:100,name:"nationality",value:T.nationality,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),D.nationality&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.nationality})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"motherTongue",className:"block font-bold text-xs mb-0.5",children:["Mother Tongue ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"motherTongue",name:"mother_tongue",maxLength:20,value:T.mother_tongue,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),D.mother_tongue&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.mother_tongue})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Student Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"studentName",className:"block font-bold text-xs mb-0.5",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"studentName",maxLength:100,name:"student_name",value:T.student_name,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),D.student_name&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.student_name})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"studentClass",className:"block font-bold text-xs mb-0.5",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"studentClass",name:"class_id",value:v,onChange:t=>p(this,null,(function*(){const a=t.target.value;y(a),O((e=>m(u({},e),{class_id:a,section_id:""}))),j("");try{const t=localStorage.getItem("authToken"),r=yield Uf.get(`${e}/api/get_divisions/${a}`,{headers:{Authorization:`Bearer ${t}`}});b(r.data.divisions)}catch(r){hp.error("Error fetching divisions")}})),className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),f.map((e=>oe.jsx("option",{value:e.class_id,children:e.name},e.class_id)))]}),D.class_id&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.class_id})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"division",className:"block font-bold text-xs mb-0.5",children:["Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"division",name:"section_id",value:w,onChange:e=>{const t=e.target.value;j(t),O((e=>m(u({},e),{section_id:t})))},className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",disabled:!v,children:[oe.jsx("option",{value:"",children:"Select"}),g.map((e=>oe.jsx("option",{value:e.section_id,children:e.name},e.section_id)))]}),D.section_id&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.section_id})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"rollNumber",className:"block font-bold text-xs mb-0.5",children:"Roll No."}),oe.jsx("input",{type:"text",id:"rollNumber",maxLength:11,name:"roll_no",value:T.roll_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"grnNumber",className:"block font-bold text-xs mb-0.5",children:["GRN No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"grnNumber",name:"reg_no",maxLength:10,value:T.reg_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),L.reg_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:L.reg_no}),D.reg_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.reg_no})]})," ",oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"house",className:"block font-bold text-xs mb-0.5",children:"House"}),oe.jsxs("select",{id:"house",name:"house",value:T.house,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"D",children:"Diamond"}),oe.jsx("option",{value:"E",children:"Emerald"}),oe.jsx("option",{value:"R",children:"Ruby"}),oe.jsx("option",{value:"S",children:"Sapphire"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"admittedInClass",className:"block font-bold text-xs mb-0.5",children:["Admitted In Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"admittedInClass",name:"admission_class",value:T.admission_class,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"Nursery",children:"Nursery"}),oe.jsx("option",{value:"LKG",children:"LKG"}),oe.jsx("option",{value:"UKG",children:"UKG"}),oe.jsx("option",{value:"1",children:"1"}),oe.jsx("option",{value:"2",children:"2"}),oe.jsx("option",{value:"3",children:"3"}),oe.jsx("option",{value:"4",children:"4"}),oe.jsx("option",{value:"5",children:"5"}),oe.jsx("option",{value:"6",children:"6"}),oe.jsx("option",{value:"7",children:"7"}),oe.jsx("option",{value:"8",children:"8"}),oe.jsx("option",{value:"9",children:"9"}),oe.jsx("option",{value:"10",children:"10"}),oe.jsx("option",{value:"11",children:"11"}),oe.jsx("option",{value:"12",children:"12"})]}),D.admission_class&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.admission_class})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:["Date of Admission ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dataOfAdmission",name:"admission_date",value:T.admission_date,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),D.admission_date&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.admission_date})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentIdNumber",className:"block font-bold text-xs mb-0.5",children:"Student ID No."}),oe.jsx("input",{type:"text",id:"studentIdNumber",name:"stud_id_no",maxLength:25,value:T.stud_id_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),L.stud_id_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:L.stud_id_no})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:["Student Aadhar No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"studentAadharNumber",name:"stu_aadhaar_no",maxLength:12,value:T.stu_aadhaar_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),L.stu_aadhaar_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:L.stu_aadhaar_no}),D.stu_aadhaar_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.stu_aadhaar_no})]})," ",v>99&&oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:"Udise Pen No."}),oe.jsx("input",{type:"text",id:"Udise_no",name:"udise_pen_no",maxLength:11,value:T.udise_pen_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),L.udise_pen_no&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:L.udise_pen_no})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Address Information"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"address",className:"block font-bold text-xs mb-0.5",children:["Address ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{id:"address",name:"permant_add",maxLength:200,rows:2,value:T.permant_add,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),D.permant_add&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.permant_add})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"city",className:"block font-bold text-xs mb-0.5",children:["City ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"city",name:"city",maxLength:100,value:T.city,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),D.city&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.city})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"state",className:"block font-bold text-xs mb-0.5",children:["State ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"state",maxLength:100,name:"state",value:T.state,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),D.state&&oe.jsx("p",{className:"text-[12px] text-red-500 mb-1",children:D.state})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"pincode",className:"block font-bold text-xs mb-0.5",children:"Pincode"}),oe.jsx("input",{type:"text",id:"pincode",maxLength:6,name:"pincode",value:T.pincode,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Emergency Contact"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"emergencyName",className:"block font-bold text-xs mb-0.5",children:"Emergency Name"}),oe.jsx("input",{type:"text",id:"emergencyName",maxLength:100,name:"emergency_name",value:T.emergency_name,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"emergencyAddress",className:"block font-bold text-xs mb-0.5",children:"Emergency Address"}),oe.jsx("textarea",{id:"emergencyAddress",name:"emergency_add",rows:2,maxLength:200,value:T.emergency_add,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye}),oe.jsxs("div",{className:"flex flex-row items-center gap-2 -mt-1 w-full",children:[oe.jsx("input",{type:"checkbox",id:"sameAs",name:"sameAs",className:"border h-[26px] border-[#ccc] px-3 py-[6px] text-[14px] leading-4 outline-none",onChange:e=>{e.target.checked?O((e=>m(u({},e),{emergency_add:e.permant_add}))):O((e=>m(u({},e),{emergency_add:""})))}}),oe.jsx("label",{htmlFor:"sameAs",className:"text-xs",children:"Same as permanent address"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"emergencyContact",className:" font-bold text-xs mb-0.5",children:["Emergency Contact"," "]}),oe.jsxs("div",{className:"w-full flex flex-row items-center",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"text",inputMode:"numeric",id:"emergencyContact",name:"emergency_contact",maxLength:10,value:T.emergency_contact,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:e=>{const t=e.target.value.replace(/\D/g,"");t.length<=10&&O(m(u({},T),{emergency_contact:t}))}})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"transportMode",className:"block font-bold text-xs mb-0.5",children:"Transport Mode"}),oe.jsxs("select",{id:"transportMode",name:"transport_mode",value:T.transport_mode,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"School Bus",children:"School Bus"}),oe.jsx("option",{value:"Private Van",children:"Private Van"}),oe.jsx("option",{value:"Self",children:"Self"})]}),oe.jsx("input",{type:"text",id:"vehicleNumber",name:"vehicle_no",maxLength:13,placeholder:"Vehicle No.",value:T.vehicle_no,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Health Information"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"allergies",className:"block font-bold text-xs mb-0.5",children:"Allergies(if any)"}),oe.jsx("input",{type:"text",id:"allergies",name:"allergies",maxLength:200,value:T.allergies,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:ye})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"height",className:"block font-bold text-xs mb-0.5",children:"Height"}),oe.jsx("input",{type:"text",id:"height",maxLength:4.1,name:"height",value:T.height,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:e=>{const t=e.target.value;/^\d*\.?\d*$/.test(t)&&ye(e)}})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"weight",className:"block font-bold text-xs mb-0.5",children:"Weight"}),oe.jsx("input",{type:"text",id:"weight",name:"weight",maxLength:4.1,value:T.weight,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 bg-white shadow-inner",onChange:e=>{const t=e.target.value;/^\d*\.?\d*$/.test(t)&&ye(e)}})]}),oe.jsxs("div",{className:"  flex gap-4 pt-[7px]",children:[oe.jsx("div",{htmlFor:"weight",className:"block font-bold text-[.9em] mt-4 ",children:"Has Spectacles"}),oe.jsxs("div",{className:"flex items-center gap-6 mt-3",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"radio",id:"yes",name:"has_specs",checked:"Y"===T.has_specs,value:"Y",onChange:ye}),oe.jsx("label",{htmlFor:"yes",className:"ml-1",children:"Yes"})]}),oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"radio",id:"no",name:"has_specs",checked:"N"===T.has_specs,value:"N",onChange:ye}),oe.jsx("label",{htmlFor:"no",className:"ml-1",children:"No"})]})]})]}),oe.jsx("div",{className:"w-full col-span-4 relative top-6",children:oe.jsx("div",{className:"w-full mx-auto",children:oe.jsxs("h3",{className:"text-blue-500 w-full mx-auto text-center  md:text-[1.2em] text-nowrap font-bold",children:[" ",oe.jsx(Eg,{className:"text-[1.4em] text-blue-700 inline"})," ","Parent's Information :"," "]})})}),oe.jsxs("div",{className:" w-full col-span-4   flex justify-center flex-col md:flex-row gap-x-1 md:gap-x-8  bg-white  rounded-lg border border-gray-300 mx-auto mt-10 p-6",children:[oe.jsxs("div",{className:" w-full md:w-[40%]  flex md:flex-row justify-between items-center",children:[oe.jsxs("label",{htmlFor:"siblingmap",className:"block md:text-nowrap  md:mb-0 font-bold text-[.9em] mb-0.5",children:["If Parent Already Exist:"," "]}),oe.jsxs("label",{className:"block md:text-nowrap font-semibold text-[.9em] mb-0.5",children:[oe.jsx("input",{type:"radio",value:"yes",name:"parentExist",checked:"yes"===ne,onChange:le})," ","Yes"]}),oe.jsxs("label",{className:"block md:text-nowrap font-semibold text-[.9em] mb-0.5",children:[oe.jsx("input",{type:"radio",value:"no",checked:"no"===ne,name:"parentExist",onChange:le})," ","No"]})]}),oe.jsxs("div",{className:"w-full md:w[80%]  flex flex-col gap-y-2 md:gap-y-0 md:flex-row ml-0 md:ml-10",children:[oe.jsxs("div",{className:"w-full   gap-x-3 md:justify-start justify-between  my-1 md:my-4 flex  md:flex-row  ",children:[oe.jsx("label",{htmlFor:"classSection",className:"block relative left-0 md:-left-3   pt-2 items-center text-center md:text-nowrap font-bold text-[.9em] mb-0.5",children:"Sibling in"}),oe.jsx("div",{className:"w-[60%] md:w-[50%] ",children:oe.jsx(Soe,{isDisabled:ie,value:c,onChange:e=>{k(""),h(e),Z(null),n(null),X(e.value),console.log("classIdForSearch__________",K),he(e.value)},options:ce,placeholder:"Class",isSearchable:!0,isClearable:!0,className:"text-sm"})})]}),oe.jsxs("div",{className:"w-full  relative left-0 md:-left-[7%] justify-between  md:w-[90%] my-1 md:my-4 flex  md:flex-row  ",children:[oe.jsx("label",{htmlFor:"classSection",className:"relative left-0 md:-left-3  md:text-nowrap pt-2 items-center text-center"}),oe.jsxs("div",{className:"w-full md:w-[85%] ",children:[oe.jsx(Soe,{isDisabled:ie,value:J,onChange:e=>{k(""),Z(e),n(e.value)},options:ue,placeholder:"Student Name",isSearchable:!0,isClearable:!0,className:"text-sm"}),S&&oe.jsx("span",{className:" relative top-0.5 md:absolute md:top-[95%]   ml-1 text-danger text-xs",children:S})," "]})]}),oe.jsx("button",{type:"button",onClick:()=>p(this,null,(function*(){var t;if(_({}),!r)return k("Please select a student."),void hp.error("Please select a student!");re(!0),A({});try{const a=localStorage.getItem("authToken");let n;r&&(n=yield Uf.get(`${e}/api/getParentInfoOfStudent/${r}`,{headers:{Authorization:`Bearer ${a}`}})),console.log("Response:",n.data);const s=(null==(t=null==n?void 0:n.data)?void 0:t.parent)||[];s.length>0?(se("yes"),l(s[0])):l(null),console.log("Parent info:",s)}catch(a){hp.error("Error fetching student details.")}finally{re(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(ae?"opacity-50 cursor-not-allowed":""),disabled:ae,children:ae?"Searching...":"Search"})]})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Father Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"email",name:"father_name",maxLength:100,value:T.father_name,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")}),D.father_name&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.father_name})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Occupation"}),oe.jsx("input",{type:"text",id:"email",maxLength:100,name:"father_occupation",value:T.father_occupation,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsxs("select",{id:"bloodGroup",name:"f_blood_group",value:T.f_blood_group,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white"),onChange:ye,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Father Aadhaar Card No."," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"email",name:"parent_adhar_no",maxLength:12,value:T.parent_adhar_no,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")}),D.parent_adhar_no&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.parent_adhar_no})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Office Address"}),oe.jsx("textarea",{id:"email",rows:2,maxLength:200,name:"f_office_add",value:T.f_office_add,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"telephone",className:"block font-bold text-xs mb-0.5",children:"Telephone"}),oe.jsx("input",{type:"text",maxLength:11,id:"telephone",name:"f_office_tel",value:T.f_office_tel,onChange:e=>{const t=e.target.value.replace(/\D/g,"");t.length<=11&&O(m(u({},T),{f_office_tel:t}))},disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"phone",className:"block font-bold text-xs mb-0.5",children:["Mobile Number ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",name:"f_mobile",pattern:"\\d{10}",maxLength:"10",value:T.f_mobile,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")})]}),L.phone&&oe.jsx("span",{className:"error",children:L.phone[0]}),D.f_mobile&&oe.jsx("span",{className:" text-red-500 text-xs",children:D.f_mobile})," ",N.fatherMobile&&oe.jsx("span",{className:"block text-red-500 text-xs",children:N.fatherMobile}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",id:"setusernameFatherMob",name:"setUsername",onChange:()=>p(this,null,(function*(){_(""),A((e=>m(u({},e),{SetEmailIDAsUsername:""}))),yield pe("FatherMob",T.f_mobile,"fatherMobile")})),checked:"FatherMob"===C,disabled:t}),t?oe.jsx("span",{children:"Loading..."}):oe.jsx("label",{htmlFor:"setusernameFatherMob",children:"Set this as username"})]}),oe.jsx("div",{className:D.SetEmailIDAsUsername?"h-2":"",children:D.SetEmailIDAsUsername&&oe.jsx("span",{className:"text-red-500 text-xs relative left-5 -top-2",children:D.SetEmailIDAsUsername})}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",name:"receiveSms",value:"Father",id:"receiveSmsmob",checked:"Father"===T.SetToReceiveSMS,onChange:()=>xe("Father")}),oe.jsx("label",{htmlFor:"receiveSmsmob",children:"Set to receive SMS at this no."})]}),D.SetToReceiveSMS&&oe.jsx("span",{className:"text-red-500 text-xs relative left-5 -top-2",children:D.SetToReceiveSMS})," "]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Email Id ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"email",id:"email",name:"f_email",maxLength:50,value:T.f_email,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")}),D.f_email&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.f_email}),N.fatherEmail&&oe.jsx("span",{className:"block text-red-500 text-xs",children:N.fatherEmail}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",id:"setUserNameFather",name:"setUsername",onChange:()=>p(this,null,(function*(){_(""),A((e=>m(u({},e),{SetEmailIDAsUsername:""}))),yield pe("Father",T.f_email,"fatherEmail")})),checked:"Father"===C,disabled:t}),t?oe.jsx("span",{children:"Loading..."}):oe.jsx("label",{htmlFor:"setUserNameFather",children:"Set this as username"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Father Date Of Birth"}),oe.jsx("input",{type:"date",id:"dataOfAdmission",name:"f_dob",value:T.f_dob,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white"),onChange:ye})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Mother Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"email",maxLength:100,name:"mother_name",value:T.mother_name,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")}),D.mother_name&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.mother_name})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Occupation"}),oe.jsx("input",{type:"text",id:"email",maxLength:100,name:"mother_occupation",value:T.mother_occupation,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsxs("select",{id:"bloodGroup",name:"m_blood",value:T.m_blood,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white"),onChange:ye,children:[oe.jsx("option",{children:"Select"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Mother Aadhaar Card No."," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"email",name:"m_adhar_no",maxLength:12,value:T.m_adhar_no,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")}),D.m_adhar_no&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.m_adhar_no})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"m_office_tel",className:"block font-bold text-xs mb-0.5",children:"Telephone"}),oe.jsx("input",{type:"text",maxLength:11,id:"m_office_tel",name:"m_office_tel",value:T.m_office_tel,onChange:e=>{const t=e.target.value.replace(/\D/g,"");t.length<=11&&O(m(u({},T),{m_office_tel:t}))},disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")})]})," ",oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Office Address"}),oe.jsx("textarea",{id:"email",rows:2,maxLength:200,name:"m_office_add",value:T.m_office_add,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"phone",className:"block font-bold text-xs mb-0.5",children:["Mobile Number ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",name:"m_mobile",pattern:"\\d{10}",maxLength:"10",value:T.m_mobile,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")})]}),L.phone&&oe.jsx("span",{className:"error",children:L.phone[0]}),D.m_mobile&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.m_mobile})," ",N.motherMobile&&oe.jsx("span",{className:"block text-red-500 text-xs",children:N.motherMobile}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",id:"setusernameMotherMob",name:"setUsername",onChange:()=>p(this,null,(function*(){_(""),A((e=>m(u({},e),{SetEmailIDAsUsername:""}))),yield pe("MotherMob",T.m_mobile,"motherMobile")})),checked:"MotherMob"===C,disabled:t}),t?oe.jsx("span",{children:"Loading..."}):oe.jsx("label",{htmlFor:"setusernameMotherMob",children:"Set this as username"})]}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",name:"receiveSms",value:"Mother",id:"receiveSmsmobMother",checked:"Mother"===T.SetToReceiveSMS,onChange:()=>xe("Mother")}),oe.jsx("label",{htmlFor:"receiveSmsmobMother",children:"Set to receive SMS at this no."})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:["Email Id ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"email",id:"email",name:"m_emailid",maxLength:50,value:T.m_emailid,onChange:ye,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white")}),D.m_emailid&&oe.jsx("span",{className:"text-red-500 text-xs",children:D.m_emailid})," ",N.motherEmail&&oe.jsx("span",{className:"block text-red-500 text-xs",children:N.motherEmail}),oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"radio",id:"emailuser",name:"setUsername",onChange:()=>p(this,null,(function*(){_(""),A((e=>m(u({},e),{SetEmailIDAsUsername:""}))),yield pe("Mother",T.m_emailid,"motherEmail")})),checked:"Mother"===C,disabled:t}),t?oe.jsx("span",{children:"Loading..."}):oe.jsx("label",{htmlFor:"emailuser",children:"Set this as username"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Mother Date Of Birth"}),oe.jsx("input",{type:"date",id:"dataOfAdmission",name:"m_dob",value:T.m_dob,disabled:de,className:"input-field block w-full border-1 border-gray-400 rounded-md py-1 px-3 shadow-inner "+(de?"bg-gray-200  text-gray-500":"bg-white"),onChange:ye})]}),oe.jsxs("div",{className:"  col-span-3  mt-4 text-right space-x-2",children:[oe.jsx("button",{style:{backgroundColor:"#2196F3"},className:" text-white font-bold py-1 border-1 border-blue-500 px-4 rounded",children:"Update"}),oe.jsx("button",{onClick:()=>{o("/newStudentList")},className:" text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})]})]})})]})]})}function nie(){var e;const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState(!1),[l,o]=Q.useState(null),[i,d]=Q.useState(!1),[c,h]=Q.useState(!1),[f,x]=Q.useState(!1),[g,b]=Q.useState(null),[v,y]=Q.useState(""),[w,j]=Q.useState(""),[N,_]=Q.useState(""),[S,k]=Q.useState(0),[C,E]=Q.useState(0),[T,O]=Q.useState(""),[D,A]=Q.useState({}),[P,M]=Q.useState(""),[L,I]=Q.useState([]),[F,R]=Q.useState([]),[$,B]=Q.useState(""),[z,U]=Q.useState(""),[H,W]=Q.useState(""),[Y,q]=Q.useState(null),V=Q.useRef(0),G=Q.useRef("");Q.useEffect((()=>{Z(),J(),X(),K()}),[]);const K=()=>p(this,null,(function*(){var e,a,r;const n=localStorage.getItem("authToken");if(n)try{const s=yield Uf.get(`${t}/api/sessionData`,{headers:{Authorization:`Bearer ${n}`}});U(null==(e=null==s?void 0:s.data)?void 0:e.user.role_id),W(null==(r=null==(a=null==s?void 0:s.data)?void 0:a.custom_claims)?void 0:r.academic_yr),console.log("roleIDis:",s.data)}catch(s){console.error("Error fetching data:",s)}else console.error("No authentication token found")})),X=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});console.log("the classes are ",a.data),I(a.data.map((e=>{var t;return{value:{class_id:null==e?void 0:e.class_id,section_id:null==e?void 0:e.section_id},label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${null==e?void 0:e.name}`}})))}catch(e){hp.error("Error fetching class names")}})),J=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`}});R(a.data.map((e=>({value:e.reg_id,label:e.name}))))}catch(e){hp.error("Error fetching teachers")}})),Z=()=>p(this,null,(function*(){s(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_Classteacherslist`,{headers:{Authorization:`Bearer ${e}`}});console.log("Allot Teacher tab",a.data),r(a.data)}catch(e){o(e.message)}finally{s(!1)}})),ee=(e,t)=>{const a={};return e||(a.department_id="Please select a class."),t||(a.teacher_id="Please select a teacher."),a},te=()=>{d(!1),h(!1),x(!1),y(""),O(""),b(null),A({}),B(""),M("")};Q.useEffect((()=>{const e=w.trim().toLowerCase();""!==e&&""===G.current&&(V.current=S,k(0)),""===e&&""!==G.current&&k(V.current),G.current=e}),[w]);const ae=w.trim().toLowerCase(),re=a.filter((e=>{var t;return null==(t=null==e?void 0:e.get_teacher)?void 0:t.name.toLowerCase().includes(ae)}));Q.useEffect((()=>{E(Math.ceil(re.length/10))}),[re.length]);const ne=re.slice(10*S,10*(S+1)),se=e=>{q(e?{value:e.value,label:e.label}:null),B(e?e.value:""),A((e=>m(u({},e),{teacher_id:""})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container  mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Class Teacher"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:w,onChange:e=>j(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{d(!0),A({}),y(""),O("")},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden ",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs ",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:" -px-2  text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Teacher"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:n?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):ne.length?ne.map(((e,t)=>{var r,n,s;return oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:10*S+t+1})}),oe.jsx("td",{className:"text-center px-2  border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[null==(r=null==e?void 0:e.get_class)?void 0:r.name," ",null==(n=null==e?void 0:e.get_division)?void 0:n.name]})}),oe.jsx("td",{className:"text-center px-2 lg:px-5 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==(s=null==e?void 0:e.get_teacher)?void 0:s.name})}),"M"===z?oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-pink-600 hover:text-pink-800 hover:bg-transparent "})," "]}):oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{var t,a,r,n,s,l,o,i;b(e),y(null==e?void 0:e.section_id),_(`${null==(t=null==e?void 0:e.get_class)?void 0:t.name}  ${null==(a=null==e?void 0:e.get_division)?void 0:a.name}`),O(null==(r=null==e?void 0:e.get_class)?void 0:r.class_id),B(null==(n=null==e?void 0:e.get_teacher)?void 0:n.teacher_id),console.log("the handleEdit ",e),(null==(s=null==e?void 0:e.get_teacher)?void 0:s.teacher_id)&&(null==(l=null==e?void 0:e.get_teacher)?void 0:l.name)?q({value:null==(o=null==e?void 0:e.get_teacher)?void 0:o.teacher_id,label:null==(i=null==e?void 0:e.get_teacher)?void 0:i.name}):q(null),h(!0),A({})})(e),children:oe.jsx(zM,{icon:HM})})," "]}),"M"===z?oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-green-600 hover:text-green-800 hover:bg-transparent "})}):oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("Deleting teacher with ID:",e),console.log("Available sections:",a);const t=a.find((t=>t.teacher_id===e));t?(b(t),x(!0),console.log("Section to be deleted:",t)):console.log("No section found for the given teacher_id")})(e.teacher_id),children:oe.jsx(zM,{icon:VM})})})]},e.section_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:C,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{k(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),i&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create Class Teacher Allotment"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:te})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Class Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{className:"w-full text-sm",options:L,isClearable:!0,value:L.find((e=>e.value===T)),onChange:e=>{O(e?e.value:""),A((e=>m(u({},e),{department_id:""})))}}),oe.jsx("div",{className:"absolute top-8 left-1/3",children:D.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:D.department_id})})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 mt-2",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Teacher ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{className:"w-full text-sm",options:F,isClearable:!0,onChange:se}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:D.teacher_id&&oe.jsx("span",{className:"text-danger text-xs",children:D.teacher_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){var e,a,r,n;const s=ee(T,$);if(Object.keys(s).length>0)A(s);else{console.log("Edit Form","name:",v,"class_id:",null==T?void 0:T.class_id,"section_id:",null==T?void 0:T.section_id,"teacher_id:",$,"academicYear:",H);try{const e=localStorage.getItem("authToken");yield Uf.post(`${t}/api/save_ClassTeacher`,{name:v,class_id:null==T?void 0:T.class_id,section_id:null==T?void 0:T.section_id,teacher_id:$,academic_yr:H},{headers:{Authorization:`Bearer ${e}`}}),Z(),te(),hp.success(" Class Teacher added successfully!")}catch(l){console.log("error:",null==(a=null==(e=null==l?void 0:l.response)?void 0:e.data)?void 0:a.message),hp.error((null==(n=null==(r=null==l?void 0:l.response)?void 0:r.data)?void 0:n.message)||(null==l?void 0:l.message))}}})),children:"Add"})})]})})})}),c&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Class Teacher Allotment"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:te})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-1/2 mt-2",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",className:" w-full shadow-md border-1 border-gray-300 outline-none rounded-md pl-3 bg-gray-200",value:N,readOnly:!0})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 mt-2",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Teacher ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),console.log("selectedTeachers",Y),oe.jsx(Soe,{className:"w-full text-sm",options:F,value:Y,isClearable:!0,onChange:se}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:D.teacher_id&&oe.jsx("span",{className:"text-danger text-xs",children:D.teacher_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){const e=ee(T,$);if(Object.keys(e).length>0)A(e);else{if(console.log("Edit Form","name:",v,"class_id:",T,"teacher_id:",$),console.log("new start checking the teacheID"),!$)return console.log("check teacherId is here"),void A({teacher_id:"Please select a teacher."});try{const e=localStorage.getItem("authToken");console.log("currentSectionissss",g),yield Uf.put(`${t}/api/update_ClassTeacher/${g.class_id}/${g.section_id}`,{section_id:v,class_id:T,teacher_id:$},{headers:{Authorization:`Bearer ${e}`}}),Z(),B(""),te(),hp.success("Allot class teacher updated successfully!")}catch(a){hp.error("Error updating Class teacher. Please try again.")}}})),children:"Update"})})]})})}),f&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:te})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete Class Teacher:"," ",null==(e=null==g?void 0:g.get_teacher)?void 0:e.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=localStorage.getItem("academicYear");if(!e||!g||!g.section_id)throw new Error("Class Teacher ID is missing");const r=yield Uf.delete(`${t}/api/delete_ClassTeacher/${g.class_id}/${g.section_id}`,{headers:{Authorization:`Bearer ${e}`,"X-Academic-Year":a},withCredentials:!0});r.data.success?(Z(),x(!1),b(null),hp.success("Allot Class Teacher deleted successfully!")):hp.error(r.data.message||"Failed to delete Division")}catch(e){console.error("Error deleting Allot Class Teacher:",e),e.response&&e.response.data&&e.response.data.message?hp.error(e.response.data.message):hp.error("Server error. Please try again later.")}})),children:"Delete"})})]})})})]})]})}function sie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(0),[k,C]=Q.useState(0),[E,T]=Q.useState(""),[O,D]=Q.useState({}),[A,P]=Q.useState(""),[M,L]=Q.useState(!0),[I,F]=Q.useState(""),[R,$]=Q.useState([]),[B,z]=Q.useState(""),[U,H]=Q.useState(""),[W,Y]=Q.useState(""),[q,V]=Q.useState(""),[G,K]=Q.useState(!1),X=Q.useRef(0),J=Q.useRef(""),Z=10;Q.useEffect((()=>{te(),ae(),ee()}),[]);const ee=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/get_Term`,{headers:{Authorization:`Bearer ${t}`}});console.log(a.data),Array.isArray(a.data)?$(a.data):l("Unexpected data format")}catch(t){console.error("Error fetching term names:",t)}})),te=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/get_Examslist`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a(r.data)}catch(t){l(t.message)}finally{n(!1)}})),ae=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});F(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",I)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")}));Q.useEffect((()=>{const e=y.trim().toLowerCase();""!==e&&""===J.current&&(X.current=_,S(0)),""===e&&""!==J.current&&S(X.current),J.current=e}),[y]);const re=t.filter((e=>{var t,a;return(null==(t=null==e?void 0:e.name)?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null==(a=null==e?void 0:e.comment)?void 0:a.toLowerCase().includes(y.toLowerCase()))}));Q.useEffect((()=>{C(Math.ceil(re.length/Z))}),[re,Z]);const ne=re.slice(_*Z,(_+1)*Z);Q.useEffect((()=>{C(Math.ceil(re.length/Z))}),[re]);const se=(e,t,a,r,n)=>{const s={};return e&&""!==e.trim()?e.length>50&&(s.name="The name field must not exceed 50 characters"):s.name="Please enter exam name",t||(s.department_id="Please select a terms"),a||(s.startDate="Start date is required"),r?a&&new Date(r)<new Date(a)&&(s.endDate="End date should not be before the start date"):s.endDate="End date is required",n?a&&new Date(n)<new Date(a)&&(s.openDay="Open day should not be before the start date"):s.openDay="Open day is required",s},le=()=>{i(!1),c(!1),f(!1),v(""),T(""),g(null),P(""),z(""),H(""),Y(""),V(""),D({})},ie=(e,t)=>{switch(e){case"startDate":z(t);break;case"endDate":H(t);break;case"openDay":Y(t);break;case"comment":V(t)}D((t=>m(u({},t),{[e]:""})))},de=e=>{const{value:t}=e.target;v(t),D((e=>m(u({},e),{name:se(t,E).name})))},ce=e=>{const{value:t}=e.target;N(t),T(t),D((t=>m(u({},t),{department_id:se(b,e.target.value).department_id})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container  mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Exams"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:y,onChange:e=>w(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{v(" "),i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs ",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:" -px-2  text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Exams List"}),oe.jsx("th",{className:"px-2 text-center lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Comment"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):ne.length?ne.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:_*Z+a+1})}),oe.jsx("td",{className:"text-center px-2  border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap   md:text-nowrap  relative top-2",children:null==e?void 0:e.name})}),oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[90px] whitespace-pre-wrap break-all",children:oe.jsx("p",{className:"px-1 relative top-1 text-gray-900",children:null==e?void 0:e.comment})})}),"M"===I?oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-pink-600 hover:text-pink-800 hover:bg-transparent "})," "]}):oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("edit",e),g(e),v(null==e?void 0:e.name),z(null==e?void 0:e.start_date),H(null==e?void 0:e.end_date),Y(null==e?void 0:e.open_day),V(null==e?void 0:e.comment),T(null==e?void 0:e.term_id),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})," "]}),"M"===I?oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-green-600 hover:text-green-800 hover:bg-transparent "})}):oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{const a=t.find((t=>t.exam_id===e));g(a),f(!0)})(null==e?void 0:e.exam_id),children:oe.jsx(zM,{icon:VM})})})]},e.section_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:k,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{S(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:" Create New Exam"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Exam Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,className:"form-control shadow-md mb-2",id:"sectionName",value:b,onChange:de}),oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[!M&&oe.jsx("span",{className:" block text-danger text-xs",children:A}),O.name&&oe.jsx("span",{className:"text-danger text-xs",children:O.name})]})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Term ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"departmentId",className:"form-control shadow-md",value:E,onChange:ce,children:[oe.jsx("option",{value:"",children:"Select Term"}),0===R.length?oe.jsx("option",{value:"",children:"No Terms available"}):R.map((e=>oe.jsx("option",{value:e.term_id,className:"max-h-20 overflow-y-scroll",children:e.name},e.term_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:O.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:O.department_id})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"startDate",className:"w-1/2 mt-2",children:["Start Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"startDate",className:"form-control shadow-md",value:B,onChange:e=>ie("startDate",e.target.value)}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:O.startDate&&oe.jsx("span",{className:"text-danger text-xs",children:O.startDate})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"endDate",className:"w-1/2 mt-2",children:["End Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"endDate",className:"form-control shadow-md",value:U,onChange:e=>ie("endDate",e.target.value)}),oe.jsx("div",{className:"absolute top-9 left-1/3 ",children:O.endDate&&oe.jsx("span",{className:" block text-red-500 text-xs",children:O.endDate})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"openDay",className:"w-1/2 mt-2",children:["Open Day ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"openDay",className:"form-control shadow-md mb-2",value:W,onChange:e=>ie("openDay",e.target.value)}),oe.jsx("div",{className:"absolute top-9 left-1/3 ",children:O.openDay&&oe.jsx("span",{className:" block text-red-500 text-xs",children:O.openDay})})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"comment",className:"w-1/2 mt-2",children:"Comment"}),oe.jsx("textarea",{className:"form-control shadow-md mb-2",id:"comment",maxLength:500,value:q,onChange:e=>ie("comment",e.target.value)})," "]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){if(G)return;K(!0);const t=se(b,E,B,U,W);if(Object.keys(t).length>0)return D(t),void K(!1);console.log("terId for add",E);try{const t=localStorage.getItem("authToken");yield Uf.post(`${e}/api/save_Exams`,{name:b,term_id:E,start_date:B,end_date:U,open_day:W,comment:q},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),te(),le(),hp.success("Exam added successfully!")}catch(a){console.error("Error adding Exam:",a),hp.error("Server error. Please try again later.")}finally{K(!1)}})),disabled:G,children:G?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Exams"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-1/2 mt-2",children:["Exam Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,className:"form-control shadow-md mb-2",id:"editSectionName",value:b,onChange:de}),oe.jsxs("div",{className:"absolute top-9 left-1/3 ",children:[!M&&oe.jsx("span",{className:" block text-red-500 text-xs",children:A}),O.name&&oe.jsx("span",{className:"text-danger text-xs",children:O.name})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editDepartmentId",className:"w-1/2 mt-2",children:["Term ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"editDepartmentId",className:"form-control shadow-md",value:E,onChange:ce,children:[oe.jsx("option",{value:"",children:"Select"}),console.log("the termsName",R),0===R.length?oe.jsx("option",{value:"",children:"No Terms available"}):R.map((e=>oe.jsx("option",{value:e.term_id,children:e.name},e.term_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:O.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:O.department_id})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"startDate",className:"w-1/2 mt-2",children:["Start Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"startDate",className:"form-control shadow-md",value:B,onChange:e=>ie("startDate",e.target.value)}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:O.startDate&&oe.jsx("span",{className:"text-danger text-xs",children:O.startDate})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"endDate",className:"w-1/2 mt-2",children:["End Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"endDate",className:"form-control shadow-md",value:U,onChange:e=>ie("endDate",e.target.value)}),oe.jsx("div",{className:"absolute top-9 left-1/3 ",children:O.endDate&&oe.jsx("span",{className:" block text-red-500 text-xs",children:O.endDate})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"openDay",className:"w-1/2 mt-2",children:["Open Day ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"openDay",className:"form-control shadow-md mb-2",value:W,onChange:e=>ie("openDay",e.target.value)}),oe.jsx("div",{className:"absolute top-9 left-1/3 ",children:O.openDay&&oe.jsx("span",{className:" block text-red-500 text-xs",children:O.openDay})})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"comment",className:"w-1/2 mt-2",children:"Comment"}),oe.jsx("textarea",{className:"form-control shadow-md mb-2",id:"comment",maxLength:500,value:q,onChange:e=>ie("comment",e.target.value)})," "]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){if(G)return;K(!0);const t=se(b,E,B,U,W);if(Object.keys(t).length>0)return D(t),void K(!1);console.log("terId for edit",E);try{const t=localStorage.getItem("authToken");yield Uf.put(`${e}/api/update_Exams/${null==x?void 0:x.exam_id}`,{name:b,term_id:E,start_date:B,end_date:U,open_day:W,comment:q},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),te(),le(),hp.success("Exam updated successfully!")}catch(a){console.error("Error editing Exam:",a),hp.error("Server error. Please try again later.")}finally{K(!1)}})),disabled:G,children:G?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete Exam: ",x.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!G){K(!0);try{const t=localStorage.getItem("authToken");if(!t||!x||!x.exam_id)throw new Error("Exam ID is missing");const a=yield Uf.delete(`${e}/api/delete_Exams/${x.exam_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a.data.success?(te(),f(!1),g(null),hp.success("Exam deleted successfully!")):hp.error(a.data.message||"Failed to delete Exam")}catch(t){console.error("Error deleting Exam:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{K(!1),f(!1)}}})),disabled:G,children:G?"Deleting...":"Delete"})})]})})})]})]})}function lie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(0),[k,C]=Q.useState(0),[E,T]=Q.useState(""),[O,D]=Q.useState({}),[A,P]=Q.useState(""),[M,L]=Q.useState(!0),[I,F]=Q.useState(""),[R,$]=Q.useState(["Scholastic","Co-Scholastic"]),[B,z]=Q.useState(""),[U,H]=Q.useState(""),[W,Y]=Q.useState(""),[q,V]=Q.useState(""),[G,K]=Q.useState(""),[X,J]=Q.useState([]),[Z,ee]=Q.useState([]),[te,ae]=Q.useState(""),[re,ne]=Q.useState(""),[se,le]=Q.useState(""),[ie,de]=Q.useState(!1),ce=Q.useRef(0),ue=Q.useRef("");Q.useEffect((()=>{pe(),fe(),xe()}),[]);const[me,he]=Q.useState(""),fe=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/get_class_for_division`,{headers:{Authorization:`Bearer ${t}`}});Array.isArray(a.data)?J(a.data):l("Unexpected data format")}catch(t){console.error("Error fetching class names:",t)}})),pe=()=>p(this,null,(function*(){n(!0);try{const r=localStorage.getItem("authToken");if(!r)throw new Error("No authentication token found");const n=yield Uf.get(`${e}/api/get_Gradeslist`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0});console.log("the Grades data",t),a(n.data)}catch(r){l(r.message)}finally{n(!1)}})),xe=()=>p(this,null,(function*(){var t,a,r;const n=localStorage.getItem("authToken");if(n)try{const s=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${n}`}});F(null==(t=null==s?void 0:s.data)?void 0:t.user.role_id),ne(null==(r=null==(a=null==s?void 0:s.data)?void 0:a.custom_claims)?void 0:r.academic_yr),console.log("roleIDis:",I)}catch(s){console.error("Error fetching data:",s)}else console.error("No authentication token found")}));Q.useEffect((()=>{const e=y.trim().toLowerCase();""!==e&&""===ue.current&&(ce.current=_,S(0)),""===e&&""!==ue.current&&S(ce.current),ue.current=e}),[y]);const ge=t.filter((e=>{var t,a,r,n,s,l,o;const i=(null==(t=null==e?void 0:e.name)?void 0:t.toLowerCase())||"",d=(null==(r=null==(a=null==e?void 0:e.class)?void 0:a.name)?void 0:r.toLowerCase())||"",c=(null==(n=null==e?void 0:e.subject_type)?void 0:n.toLowerCase())||"",u=(null==(s=null==e?void 0:e.mark_from)?void 0:s.toString())||"",m=(null==(l=null==e?void 0:e.mark_upto)?void 0:l.toString())||"",h=(null==(o=null==e?void 0:e.comment)?void 0:o.toLowerCase())||"";return i.includes(y.toLowerCase())||d.includes(y.toLowerCase())||c.includes(y.toLowerCase())||u.includes(y)||m.includes(y)||h.includes(y.toLowerCase())}));Q.useEffect((()=>{C(Math.ceil(ge.length/10))}),[ge]);const be=ge.slice(10*_,10*(_+1)),ve=(e,t,a,r,n)=>{const s={};return e&&""!==e.trim()?e.length>3?s.name="The name field must not exceed 3 characters":/^[A-Z0-9\+\-]+$/.test(e)||(s.name="The name field must contain only capital letters, digits, '+' or '-'."):s.name="Please enter Grade name",t||(s.department_id="Please select a Subject Type"),a?parseFloat(a)>100&&(s.startDate="Marks from cannot be greater than 100"):s.startDate="Marks from is required",r?parseFloat(r)>100&&(s.endDate="Marks upto cannot be greater than 100"):s.endDate="Marks upto is required",a&&r&&parseFloat(a)>parseFloat(r)&&(s.startDate="Marks from cannot be greater than Marks upto"),n&&0!==n.length||(s.selectedClasses="Please select at least one class"),s},ye=()=>{i(!1),c(!1),f(!1),v(""),T(""),g(null),P(""),z(""),H(""),Y(""),V(""),ee(""),D({}),ae("")};console.log("selectedClasses",Z);const we=(e,t)=>{switch(e){case"startDate":z(t);break;case"endDate":H(t);break;case"openDay":Y(t);break;case"comment":V(t)}D((t=>m(u({},t),{[e]:""})))},je=e=>{const{value:t}=e.target;K(""),v(t),D((e=>m(u({},e),{name:ve(t,E).name})))},Ne=e=>{const{value:t}=e.target;N(t),T(t),D((t=>m(u({},t),{department_id:ve(b,e.target.value).department_id})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container  mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Grades"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:y,onChange:e=>w(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Grade Name"}),oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject Type"}),oe.jsx("th",{className:"px-2 text-center lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Marks From"}),oe.jsx("th",{className:"px-2 text-center lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Marks Upto"}),oe.jsx("th",{className:"px-2 text-center lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Comment"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):be.length?be.map(((e,a)=>{var r;return oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:10*_+a+1})}),oe.jsx("td",{className:"text-center px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.name})}),oe.jsx("td",{className:"text-center px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:`${(null==(r=null==e?void 0:e.class)?void 0:r.name)||""} `})}),oe.jsx("td",{className:"text-center px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.subject_type})}),oe.jsx("td",{className:"text-center px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.mark_from})}),oe.jsx("td",{className:"text-center px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.mark_upto})}),oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[90px] whitespace-pre-wrap break-all",children:oe.jsx("p",{className:"px-1 relative top-1 text-gray-900",children:null==e?void 0:e.comment})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{var t,a;g(e),v(e.name),he(null==(t=null==e?void 0:e.class)?void 0:t.name),le(null==(a=null==e?void 0:e.class)?void 0:a.class_id),T(null==e?void 0:e.subject_type),z(null==e?void 0:e.mark_from),H(null==e?void 0:e.mark_upto),V(null==e?void 0:e.comment),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent",onClick:()=>(e=>{const a=t.find((t=>t.grade_id===e));g(a),f(!0)})(null==e?void 0:e.grade_id),children:oe.jsx(zM,{icon:VM})})})]},null==e?void 0:e.grade_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:k,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{S(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:" Create New Grade"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ye})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative  flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Grade Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:2,className:"form-control shadow-md mb-2",id:"sectionName",value:b,onChange:je})," "]}),oe.jsxs("div",{className:" w-[60%] relative h-4 -top-2 left-[35%] ",children:[!M&&oe.jsx("span",{className:" block text-danger text-xs",children:A}),oe.jsx("span",{className:" block text-danger text-xs",children:G}),O.name&&oe.jsx("span",{className:"text-danger text-xs",children:O.name})]}),oe.jsxs("div",{className:" relative  flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Subject Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"departmentId",className:"form-control shadow-md",value:E,onChange:Ne,children:[oe.jsx("option",{value:"",children:"Select "}),0===R.length?oe.jsx("option",{value:"",children:"No Subject Type available"}):R.map(((e,t)=>oe.jsx("option",{value:e,className:"max-h-20 overflow-y-scroll ",children:e},t)))]})," "]}),oe.jsx("div",{className:" w-[60%] relative h-4 -top-2 left-[35%] ",children:O.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:O.department_id})}),oe.jsxs("div",{className:"relative flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"marksFrom",className:"w-1/2 mt-2",children:["Marks from ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"marksFrom",className:"form-control shadow-md",maxLength:3,value:B||"",onChange:e=>{const t=e.target.value;/^\d{0,3}$/.test(t)&&we("startDate",t)}})," "]}),oe.jsx("div",{className:"w-[60%] relative -top-2 h-4 left-[35%]",children:O.startDate&&oe.jsx("span",{className:"text-danger text-xs",children:O.startDate})}),oe.jsxs("div",{className:"relative flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"marksUpto",className:"w-1/2 mt-2",children:["Marks upto ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"marksUpto",maxLength:3,className:"form-control shadow-md",value:U||"",onChange:e=>{const t=e.target.value;/^\d{0,3}$/.test(t)&&we("endDate",t)}})," "]}),oe.jsx("div",{className:"w-[60%] relative h-4 left-[35%]",children:O.endDate&&oe.jsx("span",{className:"block text-red-500 text-xs",children:O.endDate})}),oe.jsxs("div",{className:" relative  flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"classCheckboxes",className:"w-1/2 mt-2",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:"flex flex-wrap gap-x-4 md:gap-x-2 w-full mt-2 md:mt-0 md:w-[150%]   ",children:0===X.length?oe.jsx("span",{children:"No Classes Available"}):X.map((e=>oe.jsx("div",{className:"relative left-0 md:left-8 mb-2",children:oe.jsxs("label",{children:[" ",oe.jsx("input",{type:"checkbox",id:`class-${e.class_id}`,checked:Z.includes(e.class_id),onChange:()=>{return t=e.class_id,void ee((e=>{const a=e.includes(t)?e.filter((e=>e!==t)):[...e,t];return D((e=>m(u({},e),{selectedClasses:a.length>0?"":e.selectedClasses}))),a}));var t}}),oe.jsx("span",{className:" text-gray-800 ml-1 ",children:e.name})]})},e.class_id)))})]}),oe.jsxs("div",{className:" w-[60%] relative h-4 -top-2 left-[35%] ",children:[O.selectedClasses&&oe.jsx("span",{className:" block text-red-500 text-xs",children:O.selectedClasses}),te&&oe.jsx("span",{className:" block text-red-500 text-xs",children:te})]}),oe.jsxs("div",{className:" relative  flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"comment",className:"w-1/2 mt-2",children:"Comment"}),oe.jsx("textarea",{className:"form-control shadow-md mb-2",id:"comment",maxLength:500,value:q,onChange:e=>we("comment",e.target.value)})," "]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){var t,a,r,n,s,l,o,i,d;if(ie)return;de(!0);const c=ve(b,E,B,U,Z);if(Object.keys(c).length>0)return D(c),void de(!1);if(0===Z.length)return ae("Please select at least one class."),void de(!1);ae(""),console.log("Form submitted with selected classes:",Z);try{const s=localStorage.getItem("authToken"),l=yield Uf.post(`${e}/api/save_Grades`,{name:b,subject_type:E,mark_from:B,mark_upto:U,comment:q,class_id:Z,academic_yr:re},{headers:{Authorization:`Bearer ${s}`}});if(pe(),console.log("this is response",l),console.log("this is response",null==(t=null==l?void 0:l.data)?void 0:t.status),400===(null==(a=null==l?void 0:l.data)?void 0:a.status)&&(null==(r=null==l?void 0:l.data)?void 0:r.message)){const e=null==(n=null==l?void 0:l.data)?void 0:n.message;console.log("error",e),K(e),hp.error(l.data.message)}else ye(),hp.success("Grade added successfully!")}catch(u){if(console.error("Error adding Grade:",u),400===(null==(s=u.response)?void 0:s.status)&&(null==(o=null==(l=u.response)?void 0:l.data)?void 0:o.message)){console.log("nameErrorForGrade",G);const e=null==(d=null==(i=null==e?void 0:e.response)?void 0:i.data)?void 0:d.message;console.log("error is that",e),console.log("nameErrorForGrade",G),hp.error(e)}else hp.error("Server error. Please try again later.")}finally{de(!1)}})),disabled:ie,children:ie?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Grade"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ye})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body ",children:[oe.jsxs("div",{className:" relative  flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"class",className:"w-1/2 mt-2",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:2,readOnly:!0,className:"bg-gray-200 w-full p-2 rounded-md outline-none shadow-md mb-3",id:"class",value:me,onChange:je})," "]}),oe.jsxs("div",{className:" relative  flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Grade Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:2,className:"form-control shadow-md mb-2",id:"sectionName",value:b,onChange:je})," "]}),oe.jsxs("div",{className:" w-[60%] relative h-4 -top-2 left-[35%] ",children:[!M&&oe.jsx("span",{className:" block text-danger text-xs",children:A}),O.name&&oe.jsx("span",{className:"text-danger text-xs",children:O.name})]}),oe.jsxs("div",{className:" relative  flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Subject Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"departmentId",className:"form-control shadow-md",value:E,onChange:Ne,children:[oe.jsx("option",{value:"",children:"Select "}),0===R.length?oe.jsx("option",{value:"",children:"No Subject Type available"}):R.map(((e,t)=>oe.jsx("option",{value:e,className:"max-h-20 overflow-y-scroll ",children:e},t)))]})," "]}),oe.jsx("div",{className:" w-[60%] relative h-4 -top-2 left-[35%] ",children:O.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:O.department_id})}),oe.jsxs("div",{className:"relative flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"marksFrom",className:"w-1/2 mt-2",children:["Marks from ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"marksFrom",className:"form-control shadow-md",maxLength:3,value:B,onChange:e=>{const t=e.target.value;we("startDate",t),/^\d*$/.test(t)?D((e=>m(u({},e),{startDate:""}))):D((e=>m(u({},e),{startDate:"Only numbers are allowed."})))}})]}),oe.jsx("div",{className:"w-[60%] relative -top-1 h-4 left-[35%]",children:O.startDate&&oe.jsx("span",{className:"text-red-500 text-xs",children:O.startDate})}),oe.jsxs("div",{className:"relative top-1 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"marksUpto",className:"w-1/2 mt-2",children:["Marks upto ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"marksUpto",maxLength:3,className:"form-control shadow-md",value:U,onChange:e=>{const t=e.target.value;we("endDate",t),/^\d*$/.test(t)?D((e=>m(u({},e),{endDate:""}))):D((e=>m(u({},e),{endDate:"Only numbers are allowed."})))}})]}),oe.jsx("div",{className:"w-[60%] relative  h-4 left-[35%]",children:O.endDate&&oe.jsx("span",{className:"text-red-500 text-xs",children:O.endDate})}),oe.jsxs("div",{className:" relative top-2  flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"comment",className:"w-1/2 mt-2",children:"Comment"}),oe.jsx("textarea",{className:"form-control shadow-md mb-2",id:"comment",maxLength:500,value:q,onChange:e=>we("comment",e.target.value)})," "]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){if(ie)return;de(!0);const t=ve(b,E,B,U,se);if(Object.keys(t).length>0)return D(t),void de(!1);if(!le)return de(!1),void ae("Please select at least one class.");ae(""),console.log("Form submitted with selected classes:",se);try{const t=localStorage.getItem("authToken");yield Uf.put(`${e}/api/update_Grades/${x.grade_id}`,{name:b,subject_type:E,mark_from:B,mark_upto:U,comment:q,class_id:se,academic_yr:re},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),pe(),ye(),hp.success("Grade updated successfully!")}catch(a){console.error("Error editing Grade:",a),hp.error("Server error. Please try again later.")}finally{de(!1)}})),disabled:ie,children:ie?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ye})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete Grade: ",x.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!ie){de(!0);try{const t=localStorage.getItem("authToken");if(!t||!x||!x.grade_id)throw new Error("Grade ID is missing");const a=yield Uf.delete(`${e}/api/delete_Grades/${x.grade_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a.data.success?(pe(),f(!1),g(null),hp.success("Grade deleted successfully!")):hp.error(a.data.message||"Failed to delete Division")}catch(t){console.error("Error deleting Grade:",t),t.response&&t.response.data&&t.response.data.message?hp.error(t.response.data.message):hp.error("Server error. Please try again later.")}finally{de(!1),f(!1)}}})),disabled:ie,children:ie?"Deleting...":"Delete"})})]})})})]})]})}function oie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(0),[k,C]=Q.useState(0),[E,T]=Q.useState(""),[O,D]=Q.useState({}),[A,P]=Q.useState("");Q.useState(!0);const[M,L]=Q.useState("");Q.useState([]);const[I,F]=Q.useState([]),[R,$]=Q.useState(!1),[B,z]=Q.useState(""),U=Q.useRef(0),H=Q.useRef("");Q.useEffect((()=>{W(),Y()}),[]);const W=()=>p(this,null,(function*(){n(!0);try{const r=localStorage.getItem("authToken");if(!r)throw new Error("No authentication token found");const n=yield Uf.get(`${e}/api/get_Markheadingslist`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0});a(n.data),C(Math.ceil(n.data.length/10)),console.log("this is the markheading get",t)}catch(r){l(r.message)}finally{n(!1)}})),Y=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});L(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",M)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")}));Q.useEffect((()=>{const e=y.trim().toLowerCase();""!==e&&""===H.current&&(U.current=_,S(0)),""===e&&""!==H.current&&S(U.current),H.current=e}),[y]);const q=y.trim().toLowerCase(),V=t.filter((e=>{var t,a,r,n;const s=(null==(t=null==e?void 0:e.name)?void 0:t.toLowerCase())||"",l=(null==(a=null==e?void 0:e.marks_headings_id)?void 0:a.toString())||"",o=(null==(r=null==e?void 0:e.sequence)?void 0:r.toString())||"",i=(null==(n=null==e?void 0:e.written_exam)?void 0:n.toLowerCase())||"";return s.toLowerCase().includes(q)||l.toLowerCase().includes(q)||o.toLowerCase().includes(q)||i.toLowerCase().includes(q)}));Q.useEffect((()=>{C(Math.ceil(V.length/10))}),[V]);const G=V.slice(10*_,10*(_+1)),K=(e,t,a)=>{const r={};return e&&""!==e.trim()?e.length>50&&(r.name="The name field must not exceed 50 characters."):r.name="Please enter marks heading name.",t||(r.written_exam="Please select whether it's a written exam."),a?/^[0-9]{1,2}$/.test(a)||(r.sequence="Sequence must be a number with a maximum of 2 digits."):r.sequence="Please enter sequence number.",r},X=()=>{i(!1),c(!1),f(!1),v(""),T(""),g(null),D({}),P(""),z("")},J=e=>{const{value:t}=e.target;z(""),v(t),D((e=>m(u({},e),{name:K(t,E).name})))},Z=e=>{const{value:t}=e.target;N(t),T(t),D((e=>{const a=u({},e);return t&&delete a.written_exam,a}))},ee=e=>{const{value:t}=e.target;P(""),/^[0-9]{0,2}$/.test(t)&&(F(t),D((e=>m(u({},e),{sequence:t?"":"Please enter a sequence."}))))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container  mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Marks Headings"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:y,onChange:e=>w(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{F(""),i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full md:w-[94%] mx-auto ",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs ",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:" -px-2  text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Marks Heading"}),oe.jsx("th",{className:" -px-2  text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sequence"}),oe.jsx("th",{className:"px-2 w-full md:w-[15%] text-center lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Written Exam"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):G.length?G.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:10*_+a+1})}),oe.jsx("td",{className:"text-center px-2  border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.name})}),oe.jsx("td",{className:"text-center px-2  border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.sequence})}),oe.jsx("td",{className:"text-center px-2 lg:px-5 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.written_exam})}),"M"===M?oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-pink-600 hover:text-pink-800 hover:bg-transparent "})," "]}):oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{g(e),v(null==e?void 0:e.name),N(null==e?void 0:e.marks_headings_id),F(null==e?void 0:e.sequence),T(null==e?void 0:e.written_exam),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})," "]}),"M"===M?oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-green-600 hover:text-green-800 hover:bg-transparent "})}):oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{const a=t.find((t=>t.marks_headings_id===e));g(a),f(!0)})(e.marks_headings_id),children:oe.jsx(zM,{icon:VM})})})]},e.section_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:k,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{S(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create Marks Heading"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:X})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Marks Heading ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,className:"form-control shadow-md mb-2",id:"sectionName",value:b,onChange:J}),oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[oe.jsx("span",{className:" block text-danger text-xs",children:B}),O.name&&oe.jsx("span",{className:"text-danger text-xs",children:O.name})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sequence",className:"w-1/2 mt-2",children:["Sequence ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",value:I,id:"sequence",className:"form-control shadow-md mb-2 ",onChange:ee})]}),oe.jsxs("div",{className:" w-[60%] relative h-4 -top-6 left-[35%] ",children:[oe.jsx("span",{className:" block text-danger text-xs",children:A}),O.sequence&&oe.jsx("span",{className:"block text-danger text-xs",children:O.sequence})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Written Exam ",oe.jsx("span",{className:"text-red-500",children:"*"})]})," ",oe.jsxs("div",{className:"w-full  pt-2",children:[oe.jsxs("label",{children:[oe.jsx("input",{type:"radio",name:"written_exam",value:"Y",checked:"Y"===E,onChange:Z})," ","Yes"]}),oe.jsxs("label",{className:"ml-3",children:[oe.jsx("input",{type:"radio",name:"written_exam",value:"N",checked:"N"===E,onChange:Z})," ","No"]})]})," "]}),oe.jsx("div",{className:" w-[60%] relative h-4 -top-4 left-[35%] ",children:O.written_exam&&oe.jsx("span",{className:"block text-danger text-xs",children:O.written_exam})})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){var t,a,r,n,s,l,o;if(R)return;$(!0);const i=K(b,E,I);if(Object.keys(i).length>0)return D(i),void $(!1);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");console.log("name:",b,"written_exam:",E,"sequence:",I),yield Uf.post(`${e}/api/save_Markheadings`,{name:b,written_exam:E,sequence:I},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),W(),X(),hp.success("Marks headings added successfully!")}catch(d){if(console.error("Error adding Marks headings:",d),422===(null==(t=d.response)?void 0:t.status)&&(null==(r=null==(a=d.response)?void 0:a.data)?void 0:r.errors)){const e=d.response.data.errors;console.log("errors",e),(null==e?void 0:e.sequence)&&(null==(n=null==e?void 0:e.sequence)?void 0:n.length)>0&&(console.log("errors",e.sequence),P(e.sequence[0]))}else 404===(null==(s=d.response)?void 0:s.status)&&"Marksheading already exists."===(null==(o=null==(l=d.response)?void 0:l.data)?void 0:o.message)?z("Marksheading already exists."):hp.error("Server error. Please try again later.")}finally{$(!1)}})),disabled:R,children:R?"Saving...":"Save"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Marks Heading"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:X})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-1/2 mt-2",children:["Marks Heading ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,className:"form-control shadow-md mb-2",id:"editSectionName",value:b,onChange:J}),oe.jsxs("div",{className:"absolute top-9 left-1/3 ",children:[oe.jsx("span",{className:" block text-danger text-xs",children:B}),O.name&&oe.jsx("span",{className:"text-danger text-xs",children:O.name})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sequence",className:"w-1/2 mt-2",children:["Sequence ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",value:I,id:"sequence",className:"form-control shadow-md mb-2 ",onChange:ee})]}),oe.jsxs("div",{className:" w-[60%] relative h-4 -top-6 left-[35%] ",children:[oe.jsx("span",{className:" block text-danger text-xs",children:A})," ",O.sequence&&oe.jsx("span",{className:"block text-danger text-xs",children:O.sequence})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Written Exam ",oe.jsx("span",{className:"text-red-500",children:"*"})]})," ",oe.jsxs("div",{className:"w-full  pt-2",children:[oe.jsxs("label",{children:[oe.jsx("input",{type:"radio",name:"written_exam",value:"Y",checked:"Y"===E,onChange:Z})," ","Yes"]}),oe.jsxs("label",{className:"ml-3",children:[oe.jsx("input",{type:"radio",name:"written_exam",value:"N",checked:"N"===E,onChange:Z})," ","No"]})]})," "]}),oe.jsx("div",{className:" w-[60%] relative h-4 -top-4 left-[35%] ",children:O.written_exam&&oe.jsx("span",{className:"block text-danger text-xs",children:O.written_exam})})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){var t,a,r,n,s;if(R)return;$(!0);const l=K(b,E,I);if(Object.keys(l).length>0)return D(l),void $(!1);try{const t=localStorage.getItem("authToken");if(!t||!x||!(null==x?void 0:x.marks_headings_id))throw new Error("No authentication token or section ID found");console.log("name:",b,"written_exam:",E,"sequence:",I),yield Uf.put(`${e}/api/update_Markheadings/${null==x?void 0:x.marks_headings_id}`,{name:b,written_exam:E,sequence:I},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),W(),X(),hp.success("Marks headings updated successfully!")}catch(o){if(console.error("Error editing Marks headings:",o),422===(null==(t=o.response)?void 0:t.status)&&(null==(r=null==(a=o.response)?void 0:a.data)?void 0:r.errors)){const e=o.response.data.errors;console.log("errors",e),(null==e?void 0:e.sequence)&&(null==(n=null==e?void 0:e.sequence)?void 0:n.length)>0?(console.log("errors",e.sequence),P(e.sequence[0])):(null==e?void 0:e.name)&&(null==(s=null==e?void 0:e.name)?void 0:s.length)>0&&(console.log("errors",e.name),z(e.name[0]))}else hp.error("Server error. Please try again later.")}finally{$(!1)}})),disabled:R,children:R?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:X})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete Marks Heading:"," ",null==x?void 0:x.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!R){$(!0);try{const t=localStorage.getItem("authToken");if(!t||!x||!(null==x?void 0:x.marks_headings_id))throw new Error("Marks headings ID is missing");const a=yield Uf.delete(`${e}/api/delete_Markheadings/${x.marks_headings_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a.data.success?(W(),f(!1),g(null),hp.success("Marks headings deleted successfully!")):hp.error(a.data.message||"Failed to delete Marks headings")}catch(t){console.error("Error deleting Marks headings:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{$(!1),f(!1)}}})),disabled:R,children:R?"Deleting...":"Delete"})})]})})})]})]})}function iie(e){return Hm({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}const die=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(null),[c,h]=Q.useState(null),[f,x]=Q.useState(null),[g,b]=Q.useState([]),[v,y]=Q.useState(""),[w,j]=Q.useState(""),[N,_]=Q.useState(""),[S,k]=Q.useState(""),[C,E]=Q.useState([]),[T,O]=Q.useState(!1),[D,A]=Q.useState(!1);sm(),Q.useEffect((()=>{P(),M(),L()}),[]);const P=()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});r(a.data)}catch(e){hp.error("Error fetching class names")}})),M=()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_Examslist`,{headers:{Authorization:`Bearer ${e}`}});s(null==a?void 0:a.data)}catch(e){hp.error("Error fetching exams")}})),L=()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=(yield Uf.get(`${t}/api/get_Markheadingslist`,{headers:{Authorization:`Bearer ${e}`}})).data.map((e=>({marks_headings_id:e.marks_headings_id,name:e.name,highest_marks:"",selected:!1})));b(a)}catch(e){hp.error("Error fetching marks headings")}})),I=(a,r,n)=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),s=(yield Uf.get(`${t}/api/get_markheadingsForClassSubExam/${a}/${r}/${n}`,{headers:{Authorization:`Bearer ${e}`}})).data;console.log("highestMarksAllocation",s);const l=g.map((e=>{const t=s.find((t=>t.marks_headings_id===e.marks_headings_id));return m(u({},e),{highest_marks:t?t.highest_marks:"",selected:!!t})}));b(l),g&&k("")}catch(e){hp.error("Error fetching highest marks")}})),F=e=>{const t=[...g];t[e].selected=!t[e].selected,t[e].selected||(t[e].highest_marks=""),b(t),k("")};return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Allot Mark Headings"})}),oe.jsx("div",{className:"relative -top-2 mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full md:w-[85%] mx-auto",children:T?oe.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"pr-0 md:pr-6 ",children:[oe.jsxs("div",{className:"form-group flex justify-center gap-x-1 md:gap-x-8",children:[oe.jsxs("label",{className:"w-1/4 pt-2 text-center font-semibold text-gray-700",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full relative",children:[oe.jsx(Soe,{value:i,onChange:a=>{var r;d(a),y(""),x(null),r=a.value,p(e,null,(function*(){var e;try{const a=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_subject_Alloted_for_report_card/${r}`,{headers:{Authorization:`Bearer ${a}`}});o(null==(e=null==n?void 0:n.data)?void 0:e.subjectAllotments)}catch(a){hp.error("Error fetching subjects")}}))},placeholder:"Select",className:"w-full md:w-[50%]  ",isClearable:!0,options:a.map((e=>({value:e.class_id,label:e.name})))}),v&&oe.jsx("p",{className:"relative  -mb-3 text-red-500 text-sm",children:v})]})]}),oe.jsxs("div",{className:"form-group pl-1.5 flex justify-center gap-x-1 md:gap-x-6 mt-4",children:[oe.jsxs("label",{className:"w-1/4  pt-2 text-center font-semibold text-gray-700",children:["Select Subject ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full relative",children:[oe.jsx(Soe,{value:f,onChange:e=>{x(e),_(""),i&&c&&e&&I(i.value,c.value,e.value)},placeholder:"Select",className:"w-full md:w-[50%] ",isClearable:!0,options:l.map((e=>{var t;return{value:null==e?void 0:e.sub_rc_master_id,label:null==(t=null==e?void 0:e.get_subjects_for_report_card)?void 0:t.name}}))}),N&&oe.jsx("p",{className:"relative  -mb-3 text-red-500 text-sm",children:N})]})]}),oe.jsxs("div",{className:"form-group flex justify-center gap-x-1 md:gap-x-8 mt-4",children:[oe.jsxs("label",{className:"w-1/4 pt-2 text-center font-semibold text-gray-700",children:["Select Exam ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full relative",children:[oe.jsx(Soe,{value:c,onChange:e=>{h(e),j(""),i&&f&&e&&I(i.value,f.value,e.value)},placeholder:"Select",className:"w-full md:w-[50%] ",isClearable:!0,options:n.map((e=>({value:e.exam_id,label:e.name})))}),w&&oe.jsx("p",{className:"relative  -mb-3 text-red-500 text-sm",children:w})]})]})]}),oe.jsx("div",{className:"mt-4 shadow-md  w-full md:w-[60%] ml-0 md:ml-4",children:oe.jsxs("div",{className:"w-full overflow-x-auto",children:[oe.jsx("div",{className:"w-full sticky top-0 bg-white  ",children:oe.jsxs("div",{className:"grid grid-cols-2 text-start ",children:[oe.jsxs("h6",{className:"text-gray-700 font-semibold py-2  pl-2",children:["Marks Headings ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("h6",{className:"text-gray-700 font-semibold py-2 text-center pr-4",children:["Highest Marks ",oe.jsx("span",{className:"text-red-500",children:"*"})]})]})}),g.length>0?oe.jsx("div",{className:"max-h-64 overflow-y-auto",children:g.map(((e,t)=>oe.jsxs("div",{className:"grid grid-cols-2 w-full text-center py-2",children:[oe.jsxs("div",{className:"flex items-center justify-start px-2",children:[oe.jsx("input",{type:"checkbox",checked:e.selected,onChange:()=>F(t),className:"mr-2"}),oe.jsx("label",{onClick:()=>F(t),className:"cursor-pointer",children:e.name})]}),oe.jsxs("div",{children:[oe.jsx("input",{type:"text",maxLength:3,value:e.highest_marks,onChange:a=>{const r=a.target.value;/^\d*$/.test(r)&&((e,t,a)=>{const r=[...g];r[e].highest_marks=t,b(r);const n=u({},C);n[a]="",E(n)})(t,r,e.marks_headings_id)},disabled:!e.selected,placeholder:"Highest marks",className:"border p-1 bg-gray-100 shadow-md rounded w-full md:w-1/2 text-start "+(C[e.marks_headings_id]?"border-red-500":"")}),C[e.marks_headings_id]&&oe.jsx("p",{className:"h-1 text-red-500 text-xs",children:C[e.marks_headings_id]})]})]},e.marks_headings_id)))}):oe.jsxs("p",{className:"text-center text-blue-600",children:[oe.jsxs("div",{className:"  bg-gray-100 text-black py-8 inset-0 flex items-center justify-center  z-10",children:[oe.jsx(Mg,{})," "]})," "]}),S&&oe.jsx("p",{className:" text-center text-red-500 text-xs",children:S})]})}),oe.jsxs("div",{className:" flex float-end gap-x-2 mt-6 ",children:[oe.jsx("button",{onClick:()=>p(e,null,(function*(){var e;if(D)return;A(!0),j(""),y(""),_(""),k(""),E([]);let a=!1;if(i||(y("Please select a class."),a=!0),c||(j("Please select an exam."),a=!0),f||(_("Please select a subject."),a=!0),a)A(!1);else try{const a=localStorage.getItem("authToken"),r=yield Uf.delete(`${t}/api/delete_AllotMarkheadingss/${i.value}/${f.value}/${c.value}`,{headers:{Authorization:`Bearer ${a}`}});hp.success((null==(e=null==r?void 0:r.data)?void 0:e.message)||"Allot Marks headings Deleted successfully"),d(null),h(null),x(null),b(g.map((e=>m(u({},e),{selected:!1,highest_marks:""}))))}catch(r){hp.error("Error Deleting Allot Marks headings")}finally{A(!1)}})),disabled:D,className:"bg-red-500 text-white px-3 py-2 rounded-lg hover:bg-red-600",children:D?"Deleting...":"Delete"}),oe.jsx("button",{onClick:()=>p(e,null,(function*(){if(T)return;O(!0),j(""),y(""),_(""),k(""),E([]);let e=!1;i||(y("Please select a class."),e=!0),c||(j("Please select an exam."),e=!0),f||(_("Please select a subject."),e=!0);const a=g.filter((e=>e.selected));0===a.length&&(k("Please select at least one marks heading."),e=!0);const r=u({},C);if(a.forEach((t=>{t.highest_marks?r[t.marks_headings_id]="":(r[t.marks_headings_id]="Highest marks is required.",e=!0)})),E(r),e)return void O(!1);const n=a.map((e=>({marks_heading_id:e.marks_headings_id,highest_marks:e.highest_marks})));try{const e=localStorage.getItem("authToken");yield Uf.post(`${t}/api/save_AllotMarkheadings`,{class_id:i.value,exam_id:c.value,subject_id:f.value,highest_marks_allocation:n},{headers:{Authorization:`Bearer ${e}`}}),hp.success("Allot Marks headings saved successfully"),d(null),h(null),x(null),b(g.map((e=>m(u({},e),{selected:!1,highest_marks:""}))))}catch(s){hp.error("Error saving Allot Marks headings")}finally{O(!1)}})),disabled:T,className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600",children:T?"Saving...":"Save"})]})]})})]})})]})};function cie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState("Manage"),[r,n]=Q.useState([]),[s,l]=Q.useState([]),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[u,m]=Q.useState(null),[h,f]=Q.useState(""),[x,g]=Q.useState(""),[b,v]=Q.useState([]),[y,w]=Q.useState(""),[j,N]=Q.useState(0),[_,S]=Q.useState(0),[k,C]=Q.useState(null),[E,T]=Q.useState(null),[O,D]=Q.useState(null),[A,P]=Q.useState(""),[M,L]=Q.useState(""),[I,F]=Q.useState(""),[R,$]=Q.useState(""),[B,z]=Q.useState(""),[U,H]=Q.useState(""),[W,Y]=Q.useState(!1),q=Q.useRef(0),V=Q.useRef("");Q.useEffect((()=>{X(),J()}),[]);const G=b.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",G);const K=r.map((e=>({value:e.class_id,label:`${null==e?void 0:e.name}  `}))),X=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/getClassList`,{headers:{Authorization:`Bearer ${t}`}});Array.isArray(a.data)?(n(a.data),console.log("the name and section",a.data)):C("Unexpected data format")}catch(t){console.error("Error fetching class and section names:",t),C("Error fetching class and section names")}})),J=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${e}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});v(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(t){C(t.message)}})),Z=()=>p(this,null,(function*(){if(!W){if(Y(!0),!x)return T("Please select the class."),void Y(!1);w("");try{console.log("for this sectiong id in seaching inside AllotMarksHeadingTab",x);const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/get_AllotMarkheadingslist/${x}`,{headers:{Authorization:`Bearer ${t}`}});console.log("the response of the AllotMarksHeadingTab is *******",a.data),(null==a?void 0:a.data.length)>0?(l(a.data),S(Math.ceil((null==a?void 0:a.data.length)/10))):(l([]),hp.error("No Allot Markheadings are found for the selected class."))}catch(t){console.error("Error fetching Allot Markheadings:",t),C("Error fetching Allot Markheadings")}finally{Y(!1)}}})),ee=()=>{i(!1),c(!1)};Q.useEffect((()=>{const e=y.trim().toLowerCase();""!==e&&""===V.current&&(q.current=j,N(0)),""===e&&""!==V.current&&N(q.current),V.current=e}),[y]);const te=y.trim().toLowerCase(),ae=s.filter((e=>{var t,a,r,n,s,l,o,i,d;const c=(null==(a=null==(t=null==e?void 0:e.get_class)?void 0:t.name)?void 0:a.toLowerCase())||"",u=(null==(n=null==(r=null==e?void 0:e.get_subject)?void 0:r.name)?void 0:n.toLowerCase())||"",m=(null==(l=null==(s=null==e?void 0:e.get_exam)?void 0:s.name)?void 0:l.toLowerCase())||"",h=(null==(i=null==(o=null==e?void 0:e.get_marksheading)?void 0:o.name)?void 0:i.toLowerCase())||"",f=(null==(d=null==e?void 0:e.highest_marks)?void 0:d.toString())||"";return c.toLowerCase().includes(te)||u.toLowerCase().includes(te)||m.toLowerCase().includes(te)||h.toLowerCase().includes(te)||f.toLowerCase().includes(te)}));Q.useEffect((()=>{S(Math.ceil(ae.length/10))}),[ae,10]);const re=ae.slice(10*j,10*(j+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Allot Marks Headings"}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row relative -top-4",children:["Manage","AllotMarksHeadings"].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(t===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{a(e),"Manage"===e&&Z()})(e),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===t&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-4 w-full md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:O,onChange:e=>{T(""),D(e),g(e?e.value:null)},options:K,placeholder:"Select Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),E&&oe.jsx("div",{className:" relative top-0.5 left-3 ml-1 text-danger text-xs",children:E})," "]}),oe.jsx("button",{onClick:Z,type:"button",disabled:W,className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",children:W?"Searching...":"Search"})]})})}),s.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Marks Heading Allotment"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>w(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Exam"}),oe.jsx("th",{className:"px-2 w-full md:w-[25%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Marks Heading"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Highest Marks"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"})]})}),oe.jsx("tbody",{children:re.length?re.map(((e,t)=>{var a,r,n,s;return oe.jsxs("tr",{className:"text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*j+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(a=null==e?void 0:e.get_class)?void 0:a.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(r=null==e?void 0:e.get_subject)?void 0:r.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(n=null==e?void 0:e.get_exam)?void 0:n.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(s=null==e?void 0:e.get_marksheading)?void 0:s.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.highest_marks}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{var t,a,r,n;m(e),console.log("currentedit",e),P(null==(t=null==e?void 0:e.get_class)?void 0:t.name),L(null==(a=null==e?void 0:e.get_subject)?void 0:a.name),F(null==(r=null==e?void 0:e.get_exam)?void 0:r.name),$((null==(n=null==e?void 0:e.get_marksheading)?void 0:n.name)||""),z((null==e?void 0:e.highest_marks)||""),H(""),i(!0)})(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:HM})})})]},e.allot_markheadings_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:_,onPageChange:e=>{N(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"AllotMarksHeadings"===t&&oe.jsx("div",{children:oe.jsx(die,{})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Allotment"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"newClassName",className:"w-1/2 mt-2",children:"Class:"}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 rounded-md shadow-md ",children:A})]}),oe.jsxs("div",{className:"relative flex justify-start mx-4 gap-x-7 mb-2",children:[oe.jsx("label",{htmlFor:"newSubjectName",className:"w-1/2 mt-2",children:"Subject:"}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 rounded-md shadow-md mb-2",children:M})]}),oe.jsxs("div",{className:"relative flex justify-start mx-4 gap-x-7 mb-2",children:[oe.jsx("label",{htmlFor:"newExamName",className:"w-1/2 mt-2",children:"Exam:"}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 rounded-md shadow-md mb-2",children:I})]}),oe.jsxs("div",{className:"relative flex justify-start mx-4 gap-x-7 mb-2",children:[oe.jsx("label",{htmlFor:"newMarksHeading",className:"w-1/2 mt-2",children:"Marks Heading Assigned:"}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 rounded-md shadow-md mb-2",children:R})]}),oe.jsxs("div",{className:"relative flex justify-start mx-4 gap-x-7",children:[oe.jsxs("label",{htmlFor:"highestMarks",className:"w-1/2 mt-2",children:["Highest Marks ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:3,className:"rounded-md border-1 text-black w-full text-[1em] shadow-md p-2",value:B,onChange:e=>{const t=e.target.value;""===t?(H("Highest Marks is required."),z("")):/^\d*$/.test(t)&&(z(t),H(""))},placeholder:"Enter highest marks"})]}),oe.jsx("div",{className:"w-[60%] relative h-4 left-[40%]",children:U&&oe.jsx("span",{className:"text-red-500 text-xs",children:U})})]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!W){Y(!0);try{const t=localStorage.getItem("authToken");if(!t||!u||!u.allot_markheadings_id)throw new Error("Allot Markheadings ID is missing");if(H(""),console.log("class_name:",A,"subject_name:",M,"exam_name:",I,"marks_heading:",R,"highest_marks:",B),!B)return H("Highest Marks is required."),void Y(!1);if(U)return void Y(!1);yield Uf.put(`${e}/api/update_AllotMarkheadings/${u.allot_markheadings_id}`,{class_name:A,subject_name:M,exam_name:I,marks_heading:R,highest_marks:B},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),Z(),hp.success("Allot Markheadings record updated successfully!"),ee()}catch(t){t.response&&t.response.data?hp.error(`Error updating Allot Markheadings record: ${t.response.data.error}`):hp.error(`Error updating Allot Markheadings record: ${t.message}`),console.error("Error editing Allot Markheadings record:",t)}finally{Y(!1)}}})),disabled:W,children:W?"Updating...":"Update"})})]})})})}),d&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee}),console.log("the currecnt section inside delete of the managesubjhect",u)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this alloted Marks heading"," ",` ${h} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!W){Y(!0);try{const t=localStorage.getItem("authToken"),a=null==u?void 0:u.allot_markheadings_id;if(!t||!a)throw new Error("Allot Markheadings  ID is missing");yield Uf.delete(`${e}/api/delete_AllotMarkheadings/${a}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),Z(),c(!1),hp.success("Allot Markheadings deleted successfully!")}catch(t){t.response&&t.response.data?hp.error(`Error deleting Allot Markheadings: ${t.response.data.message}`):hp.error(`Error deleting Allot Markheadings: ${t.message}`),console.error("Error deleting Allot Markheadings:",t)}finally{Y(!1),c(!1)}}})),disabled:W,children:W?"Deleting...":"Delete"})})]})})})})]})}function uie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!0),[s,l]=Q.useState(!1),[o,i]=Q.useState(""),d=Q.useRef(0),c=Q.useRef(""),[u,m]=Q.useState(null),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),[b,v]=Q.useState(!1),[y,w]=Q.useState(null),[j,N]=Q.useState(null),[_,S]=Q.useState(""),[k,C]=Q.useState(""),[E,T]=Q.useState(""),[O,D]=Q.useState(0),[A,P]=Q.useState(0),M=10,L=sm();Q.useEffect((()=>{I(),F()}),[]);const I=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});i(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",o)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")})),F=()=>p(this,null,(function*(){var t,r;try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No authentication token found");const s=yield Uf.get(`${e}/api/get_caretaker`,{headers:{Authorization:`Bearer ${n}`},withCredentials:!0});a(null==(t=null==s?void 0:s.data)?void 0:t.data),P(Math.ceil((null==(r=s.data)?void 0:r.data.length)/M))}catch(s){m(s.message)}finally{n(!1)}}));console.log("the response of the stafflist",t);const R=()=>{f(!1),g(!1),v(!1),S(""),C(""),w(null)},$=e=>p(this,null,(function*(){console.log("handleview is running on"),L(`/CareTacker/view/${e.teacher_id}`,{state:{staff:e}})}));Q.useEffect((()=>{const e=E.trim().toLowerCase();""!==e&&""===c.current&&(d.current=O,D(0)),""===e&&""!==c.current&&D(d.current),c.current=e}),[E]);const B=t.filter((e=>{var t,a,r;const n=E.toLowerCase();return(null==(t=e.name)?void 0:t.toLowerCase().includes(n))||(null==(a=e.phone)?void 0:a.toLowerCase().includes(n))||(null==(r=e.designation)?void 0:r.toLowerCase().includes(n))}));Q.useEffect((()=>{P(Math.ceil(B.length/M))}),[B,M]);const z=B.slice(O*M,(O+1)*M);return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"w-full md:w-[77%] mx-auto  md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsxs("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:["Caretaker List"," "]}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>T(e.target.value)})}),"M"!==o?r?oe.jsx("div",{className:"h-9 w-20 bg-gray-300 animate-pulse rounded-sm"}):oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>L("/CreateCareTacker"),children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]}):null]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body  w-full box-border",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll  lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Staff Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Phone no."}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Designation"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"View"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):z.length?z.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[console.log("this is inside the staflist component in the table",e),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:O*M+t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[null==e?void 0:e.name," ","Y"==(null==e?void 0:e.isDelete)&&oe.jsx("span",{className:"text-red-500",children:"(Left school)"})]})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.phone})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.designation})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("this is the )))))))))",e.get_teacher),L(`/CareTacker/edit/${e.teacher_id}`,{state:{staff:e}})})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>{return t=e,console.log("insise detelt"),console.log("this is staffUersid",t.teacher_id),w(t.teacher_id),N(t.name),void v(!0);var t},children:oe.jsx(zM,{icon:VM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>$(e),children:oe.jsx(kg,{className:"font-bold text-xl"})})})]},e.user_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:A,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{D(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),b&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title  ",children:"Delete Staff"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:R})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("p",{children:["Are you sure you want to delete: ",j,"?"]}),console.log("currestStaffDelete",y)]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!s){l(!0);try{const t=localStorage.getItem("authToken");if(!t||!y)throw new Error("Caretacker ID is missing");200===(yield Uf.delete(`${e}/api/delete_caretaker/${y}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0})).status?(F(),R(),hp.success("CareTacker deleted successfully!")):hp.error("Failed to delete CareTacker")}catch(t){console.error("Error deleting CareTacker:",t),hp.error("Failed to delete CareTacker")}finally{l(!1),v(!1)}}})),disabled:s,children:s?"Deleting...":"Delete"})})]})})})})]})}function mie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState({name:"",birthday:"",date_of_joining:"",designation:"Caretaker",academic_qual:"",professional_qual:"",trained:"",experience:"",sex:"",blood_group:"",religion:"",address:"",phone:"",email:"",aadhar_card_no:"",teacher_id:"",employee_id:"",teacher_image_name:null,special_sub:""}),[r,n]=Q.useState({}),[s,l]=Q.useState({}),o=sm(),i=(new Date).toISOString().split("T")[0],[d,c]=Q.useState([]),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),b=()=>p(this,null,(function*(){var t;try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/get_teachercategory`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});c(null==(t=null==r?void 0:r.data)?void 0:t.data)}catch(a){hp.error(a.message)}}));Q.useEffect((()=>{b()}),[]);const v=e=>e?/^\d{10}$/.test(e)?null:"Phone number must be 10 digits":"Phone number is required",y=e=>/^\d{12}$/.test(e.replace(/\s+/g,""))?null:"Aadhar card number must be 12 digits",w=e=>{const{name:t,value:r}=e.target;let s=r;"employee_id"===t&&g(""),"experience"===t?s=s.replace(/[^0-9]/g,""):"aadhar_card_no"===t&&(s=s.replace(/\s+/g,"")),"phone"!==t&&"aadhar_card_no"!==t||(s=s.replace(/[^\d]/g,"")),a((e=>m(u({},e),{[t]:s})));let l={};"name"===t&&(s?/^\d/.test(s)&&(l.name="Name should not start with a number"):l.name="Name is required"),"academic_qual"===t&&(s||(l.academic_qual="Academic qualification is required")),"birthday"===t&&(s||(l.birthday="Date of Birth is required")),"teacher_id"===t&&(s||(l.teacher_id="Teacher Category is required")),"date_of_joining"===t&&(s||(l.date_of_joining="Date of Joining is required")),"sex"===t&&(s||(l.sex="Gender is required")),"employee_id"===t&&(s||(l.employee_id="Employee ID is required")),"address"===t&&(s||(l.address="Address is required")),"phone"===t&&(l.phone=v(s)),"aadhar_card_no"===t&&(l.aadhar_card_no=y(s)),n((e=>m(u({},e),{[t]:l[t]})))},j=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`};return oe.jsxs("div",{className:"container mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Create Caretaker"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{n({}),o("/careTacker")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"  md:absolute md:right-10  md:top-[15%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500",children:"*"}),"indicates mandatory information"]}),oe.jsxs("form",{onSubmit:a=>p(this,null,(function*(){var r;a.preventDefault();const s=(()=>{const e={};t.name?/^[^\d].*/.test(t.name)||(e.name="Name should not start with a number"):e.name="Name is required",t.academic_qual||(e.academic_qual="Academic qualification is required"),t.birthday||(e.birthday="Date of Birth is required"),t.teacher_id||(e.teacher_id="Teacher Category is required"),t.date_of_joining||(e.date_of_joining="Date of Joining is required"),t.sex||(e.sex="Gender is required"),t.employee_id||(e.employee_id="Employee Id is required"),t.address||(e.address="Address is required");const a=v(t.phone);a&&(e.phone=a);const r=y(t.aadhar_card_no);return r&&(e.aadhar_card_no=r),n(e),e})()||{};if(Object.keys(s).length>0)return void n(s);const i=m(u({},t),{birthday:j(t.birthday),date_of_joining:j(t.date_of_joining)});try{f(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token is found");201===(yield Uf.post(`${e}/api/save_caretaker`,i,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t}`}})).status&&(hp.success("Care tacker created successfully!"),setTimeout((()=>{o("/careTacker")}),500))}catch(d){if(console.error("Error:",d.message),d.response&&d.response.data){const{errors:e,message:t}=d.response.data;e&&(Object.entries(e).forEach((([e,t])=>{t.forEach((t=>{console.log(`${e}: ${t}`)}))})),l(e),g((null==(r=null==e?void 0:e.employee_id)?void 0:r[0])||""))}else hp.error(d.message)}finally{f(!1)}})),className:"  md:mx-5 overflow-x-hidden shadow-md p-2 bg-gray-50 ",children:[" ",h?oe.jsxs("div",{className:" inset-0 flex  h-52 items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"staffName",name:"name",pattern:"^[^\\d].*",title:"Name should not start with a number",value:t.name,onChange:w,placeholder:"Name",className:"block  border w-full border-gray-300 rounded-md py-1 px-3  bg-white shadow-inner"}),r.name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:r.name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"birthday",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"birthday",max:"2006-12-31",name:"birthday",value:t.birthday,onChange:w,className:"block border w-full border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),r.birthday&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:r.birthday})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Date Of Joining ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",max:i,name:"date_of_joining",value:t.date_of_joining,onChange:w,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),r.date_of_joining&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:r.date_of_joining})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"designation",className:"block font-bold  text-xs mb-2",children:"Designation"}),oe.jsx("input",{type:"text",maxLength:30,id:"designation",readOnly:!0,name:"designation",value:t.designation,onChange:w,className:"input-field bg-gray-200 block w-full border border-gray-300 rounded-md py-1 px-3  outline-none shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"academic_qual",className:"block font-bold  text-xs mb-2",children:["Academic Qualification ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:12,id:"academic_qual",name:"academic_qual",value:t.academic_qual,onChange:w,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),r.academic_qual&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:r.academic_qual})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"aadhar_card_no",className:"block font-bold  text-xs mb-2",children:"Aadhaar Card No."}),oe.jsx("input",{type:"tel",maxLength:12,id:"aadhar_card_no",name:"aadhar_card_no",value:t.aadhar_card_no,pattern:"\\d{12}",title:"Aadhaar Card Number must be exactly 12 digits Number",onChange:w,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"})," ",s.aadhar_card_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:s.aadhar_card_no}),r.aadhar_card_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:r.aadhar_card_no})]}),oe.jsxs("div",{className:"",children:[oe.jsxs("label",{htmlFor:"sex",className:"block font-bold  text-xs mb-2",children:["Gender ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"sex",name:"sex",value:t.sex,onChange:w,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:" bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"male",children:"Male"}),oe.jsx("option",{value:"female",children:"Female"}),oe.jsx("option",{value:"other",children:"Other"})]}),r.sex&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:r.sex})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"blood_group",className:"block font-bold  text-xs mb-2",children:"Blood Group"}),oe.jsxs("select",{id:"blood_group",name:"blood_group",value:t.blood_group,onChange:w,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"})]})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold  text-xs mb-2",children:"Religion"}),oe.jsxs("select",{id:"religion",name:"religion",value:t.religion,onChange:w,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"})," ",oe.jsx("option",{value:"Hindu",children:"Hindu"}),oe.jsx("option",{value:"Christian",children:"Christian"})," ",oe.jsx("option",{value:"Muslim",children:"Muslim"}),oe.jsx("option",{value:"Sikh",children:"Sikh"}),oe.jsx("option",{value:"Jain",children:"Jain"}),oe.jsx("option",{value:"Buddhist",children:"Buddhist"}),oe.jsx("option",{value:"NA",children:"NA"})]})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"address",className:"block font-bold  text-xs mb-2",children:["Address ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:200,id:"address",name:"address",value:t.address,onChange:w,className:"input-field resize block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",rows:"2"}),r.address&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:r.address})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"phone",className:"block font-bold  text-xs mb-2",children:["Phone ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex ",children:[oe.jsx("span",{className:" rounded-l-md pt-1 bg-gray-200 text-black font-bold px-2 pointer-events-none ml-1",children:"+91"}),oe.jsx("input",{type:"text",id:"phone",name:"phone",pattern:"\\d{10}",maxLength:"10",title:"Please enter only 10 digit number ",value:t.phone,onChange:w,className:"input-field block w-full border border-gray-300 outline-none  rounded-r-md py-1 px-3 bg-white shadow-inner "})]}),s.phone&&oe.jsx("span",{className:"error ml-2",children:s.phone}),r.phone&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:r.phone})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"employee_id",className:"block font-bold  text-xs mb-2",children:["Employee ID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:5,id:"employee_id",name:"employee_id",value:t.employee_id,onChange:w,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),oe.jsx("span",{className:"text-red-500 text-xs",children:x}),r.employee_id&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:r.employee_id})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"teacher_id",className:"block font-bold text-xs mb-2",children:["Teacher Category ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"teacher_id",name:"teacher_id",value:t.teacher_id,onChange:w,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),d.map((e=>oe.jsx("option",{value:e.tc_id,children:e.name},e.tc_id)))]}),r.teacher_id&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:r.teacher_id})]}),oe.jsx("div",{className:"col-span-3  text-right",children:oe.jsx("button",{type:"submit",style:{backgroundColor:"#2196F3"},className:" text-white font-bold py-1 border-1 border-blue-500 px-4 rounded",children:"Create"})})]})]})]})]})}function hie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState(""),[r,n]=Q.useState({name:"",birthday:"",date_of_joining:"",designation:"Caretaker",academic_qual:"",professional_qual:"",trained:"",experience:"",sex:"",blood_group:"",religion:"",address:"",phone:"",email:"",aadhar_card_no:"",teacher_id:"",employee_id:"",teacher_image_name:null,special_sub:""}),[s,l]=Q.useState({}),[o,i]=Q.useState({}),d=sm(),c=rm(),{staff:h}=c.state||{},f=(new Date).toISOString().split("T")[0],[x,g]=Q.useState(!1);Q.useEffect((()=>{h&&n({employee_id:h.employee_id||" ",name:h.name||"",birthday:h.birthday||"",date_of_joining:h.date_of_joining||"",sex:h.sex||"",religion:h.religion||"",blood_group:h.blood_group||"",address:h.address||"",phone:h.phone||"",designation:h.designation||"",academic_qual:h.academic_qual||"",teacher_id:h.tc_id||"",aadhar_card_no:h.aadhar_card_no||"",isDelete:h.isDelete||"N"})}),[h,e]);const[b,v]=Q.useState([]),y=()=>p(this,null,(function*(){var t;try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/get_teachercategory`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});v(null==(t=null==r?void 0:r.data)?void 0:t.data)}catch(a){hp.error(a.message)}}));Q.useEffect((()=>{y()}),[]);const w=e=>e?/^\d{10}$/.test(e)?null:"Phone number must be 10 digits":"Phone number is required",j=e=>/^\d{12}$/.test(e.replace(/\s+/g,""))?null:"Aadhar card number must be 12 digits",N=e=>{const{name:t,value:r}=e.target;let s=r;"employee_id"===t&&a(""),"experience"===t?s=s.replace(/[^0-9]/g,""):"aadhar_card_no"===t&&(s=s.replace(/\s+/g,"")),"phone"!==t&&"aadhar_card_no"!==t||(s=s.replace(/[^\d]/g,"")),n((e=>m(u({},e),{[t]:s})));let o={};"name"===t&&(s?/^\d/.test(s)&&(o.name="Name should not start with a number"):o.name="Name is required"),"academic_qual"===t&&(s||(o.academic_qual="Academic qualification is required")),"birthday"===t&&(s||(o.birthday="Date of Birth is required")),"teacher_id"===t&&(s||(o.teacher_id="Teacher Category is required")),"date_of_joining"===t&&(s||(o.date_of_joining="Date of Joining is required")),"sex"===t&&(s||(o.sex="Gender is required")),"employee_id"===t&&(s||(o.employee_id="Employee ID is required")),"address"===t&&(s||(o.address="Address is required")),"phone"===t&&(o.phone=w(s)),"aadhar_card_no"===t&&(o.aadhar_card_no=j(s)),l((e=>m(u({},e),{[t]:o[t]})))},_=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`};return oe.jsxs("div",{className:"container mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Caretaker"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{l({}),d("/careTacker")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"  md:absolute md:right-10  md:top-[15%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500",children:"*"}),"indicates mandatory information"]}),oe.jsxs("form",{onSubmit:t=>p(this,null,(function*(){var n;t.preventDefault();const s=(()=>{const e={};r.name?/^[^\d].*/.test(r.name)||(e.name="Name should not start with a number"):e.name="Name is required",r.academic_qual||(e.academic_qual="Academic qualification is required"),r.birthday||(e.birthday="Date of Birth is required"),r.teacher_id||(e.teacher_id="Teacher Category is required"),r.date_of_joining||(e.date_of_joining="Date of Joining is required"),r.sex||(e.sex="Gender is required"),r.employee_id||(e.employee_id="Employee Id is required"),r.address||(e.address="Address is required");const t=w(r.phone);t&&(e.phone=t);const a=j(r.aadhar_card_no);return a&&(e.aadhar_card_no=a),l(e),e})()||{};if(Object.keys(s).length>0)return void l(s);const o=m(u({},r),{birthday:_(r.birthday),date_of_joining:_(r.date_of_joining)});try{g(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token is found");201===(yield Uf.put(`${e}/api/update_caretaker/${h.teacher_id}`,o,{headers:{Authorization:`Bearer ${t}`}})).status&&(hp.success("Care tacker updated successfully!"),setTimeout((()=>{d("/careTacker")}),500))}catch(c){if(console.error("Error:",c.message),c.response&&c.response.data){const{errors:e,message:t}=c.response.data;e&&(Object.entries(e).forEach((([e,t])=>{t.forEach((t=>{console.log(`${e}: ${t}`)}))})),i(e),a((null==(n=null==e?void 0:e.employee_id)?void 0:n[0])||""))}else hp.error("An unexpected error occurred.")}finally{g(!1)}})),className:"  md:mx-5 overflow-x-hidden shadow-md p-2 bg-gray-50",children:[" ",x?oe.jsxs("div",{className:" inset-0  h-52 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"staffName",name:"name",pattern:"^[^\\d].*",title:"Name should not start with a number",value:r.name,onChange:N,placeholder:"Name",className:"block  border w-full border-gray-300 rounded-md py-1 px-3  bg-white shadow-inner"}),s.name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:s.name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"birthday",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"birthday",max:"2006-12-31",name:"birthday",value:r.birthday,onChange:N,className:"block border w-full border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),s.birthday&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:s.birthday})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Date Of Joining ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",max:f,name:"date_of_joining",value:r.date_of_joining,onChange:N,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),s.date_of_joining&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:s.date_of_joining})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"designation",className:"block font-bold  text-xs mb-2",children:"Designation"}),oe.jsx("input",{type:"text",maxLength:30,id:"designation",readOnly:!0,name:"designation",value:r.designation,onChange:N,className:"input-field bg-gray-200 block w-full border border-gray-300 rounded-md py-1 px-3  outline-none shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"academic_qual",className:"block font-bold  text-xs mb-2",children:["Academic Qualification ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:12,id:"academic_qual",name:"academic_qual",value:r.academic_qual,onChange:N,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),s.academic_qual&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:s.academic_qual})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"aadhar_card_no",className:"block font-bold  text-xs mb-2",children:"Aadhaar Card No."}),oe.jsx("input",{type:"tel",maxLength:12,id:"aadhar_card_no",name:"aadhar_card_no",value:r.aadhar_card_no,pattern:"\\d{12}",title:"Aadhaar Card Number must be exactly 12 digits Number",onChange:N,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"})," ",o.aadhar_card_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:o.aadhar_card_no[0]}),s.aadhar_card_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:s.aadhar_card_no})]}),oe.jsxs("div",{className:"",children:[oe.jsxs("label",{htmlFor:"sex",className:"block font-bold  text-xs mb-2",children:["Gender ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"sex",name:"sex",value:r.sex,onChange:N,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:" bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"male",children:"Male"}),oe.jsx("option",{value:"female",children:"Female"}),oe.jsx("option",{value:"other",children:"Other"})]}),s.sex&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:s.sex})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"blood_group",className:"block font-bold  text-xs mb-2",children:"Blood Group"}),oe.jsxs("select",{id:"blood_group",name:"blood_group",value:r.blood_group,onChange:N,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"})]})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold  text-xs mb-2",children:"Religion"}),oe.jsxs("select",{id:"religion",name:"religion",value:r.religion,onChange:N,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"})," ",oe.jsx("option",{value:"Hindu",children:"Hindu"}),oe.jsx("option",{value:"Christian",children:"Christian"})," ",oe.jsx("option",{value:"Muslim",children:"Muslim"}),oe.jsx("option",{value:"Sikh",children:"Sikh"}),oe.jsx("option",{value:"Jain",children:"Jain"}),oe.jsx("option",{value:"Buddhist",children:"Buddhist"}),oe.jsx("option",{value:"NA",children:"NA"})]})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"address",className:"block font-bold  text-xs mb-2",children:["Address ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:200,id:"address",name:"address",value:r.address,onChange:N,className:"input-field resize block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",rows:"2"}),s.address&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:s.address})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"phone",className:"block font-bold  text-xs mb-2",children:["Phone ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex ",children:[oe.jsx("span",{className:" rounded-l-md pt-1 bg-gray-200 text-black font-bold px-2 pointer-events-none ml-1",children:"+91"}),oe.jsx("input",{type:"text",id:"phone",name:"phone",pattern:"\\d{10}",maxLength:"10",title:"Please enter only 10 digit number ",value:r.phone,onChange:N,className:"input-field block w-full border border-gray-300 outline-none  rounded-r-md py-1 px-3 bg-white shadow-inner "})]}),o.phone&&oe.jsx("span",{className:"error ml-2",children:o.phone[0]}),s.phone&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:s.phone})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"employeeId",className:"block font-bold  text-xs mb-2",children:["Employee ID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:5,id:"employeeId",name:"employee_id",value:r.employee_id,onChange:N,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner"}),s.employee_id&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:s.employee_id}),oe.jsx("span",{className:"text-red-500 text-xs",children:t})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"teacher_id",className:"block font-bold text-xs mb-2",children:["Teacher Category ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"teacher_id",name:"teacher_id",value:r.teacher_id,onChange:N,className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select"}),b.map((e=>oe.jsx("option",{value:e.tc_id,children:e.name},e.tc_id)))]}),s.teacher_id&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:s.teacher_id})]}),oe.jsxs("div",{className:"col-span-3 space-x-2 text-right",children:[oe.jsx("button",{type:"submit",style:{backgroundColor:"#2196F3"},className:" text-white font-bold py-1 border-1 border-blue-500 px-4 rounded",children:"Update"}),oe.jsx("button",{onClick:()=>{d("/careTacker")},className:" text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})]})]})]})]})]})}function fie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState({name:"",birthday:"",date_of_joining:"",designation:"",academic_qual:"",sex:"",blood_group:"",religion:"",address:"",phone:"",email:"",aadhar_card_no:"",teacher_id:"",employee_id:""}),[r,n]=Q.useState({}),s=sm(),l=rm(),{staff:o}=l.state||{};Q.useEffect((()=>{o&&a({employee_id:o.employee_id||" ",name:o.name||"",birthday:o.birthday||"",date_of_joining:o.date_of_joining||"",sex:o.sex||"",religion:o.religion||"",blood_group:o.blood_group||"",address:o.address||"",phone:o.phone||"",designation:o.designation||"",academic_qual:o.academic_qual||"",aadhar_card_no:o.aadhar_card_no||"",teacher_id:o.tc_id||"",isDelete:o.isDelete||"N"})}),[o,e]);const[i,d]=Q.useState([]),c=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${e}/api/get_teachercategory`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});d(a.data.data)}catch(t){hp.error(t.message)}}));return Q.useEffect((()=>{c()}),[]),oe.jsxs("div",{className:"container mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"View Caretaker"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{n({}),s("/careTacker")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("p",{className:"  md:absolute md:right-10  md:top-[15%]   text-gray-500 "}),oe.jsx("form",{className:"  md:mx-5 overflow-x-hidden shadow-md p-2 bg-gray-50",children:oe.jsxs("div",{className:" flex flex-col  md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1",children:[oe.jsxs("div",{className:" ",children:[oe.jsx("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:"Name"}),oe.jsx("p",{className:"input-field h-9  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:t.name})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"birthday",className:"block font-bold text-xs mb-2",children:"Date of Birth"}),oe.jsx("p",{className:"input-field h-9  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:t.birthday})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:"Date Of Joining"}),oe.jsx("p",{className:"input-field h-9  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:t.date_of_joining})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"designation",className:"block font-bold  text-xs mb-2",children:"Designation"}),oe.jsx("p",{className:"input-field h-9  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:t.designation})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"academic_qual",className:"block font-bold  text-xs mb-2",children:"Academic Qualification"}),oe.jsx("p",{className:"input-field h-9  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:t.academic_qual})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"aadhar_card_no",className:"block font-bold  text-xs mb-2",children:"Aadhaar Card No."}),oe.jsx("p",{className:"input-field h-9  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:t.aadhar_card_no})]}),oe.jsxs("div",{className:"",children:[oe.jsx("label",{htmlFor:"sex",className:"block font-bold  text-xs mb-2",children:"Gender"}),oe.jsx("p",{className:"input-field h-9  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:t.sex})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"blood_group",className:"block font-bold  text-xs mb-2",children:"Blood Group"}),oe.jsx("p",{className:"input-field h-9  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:t.blood_group})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold  text-xs mb-2",children:"Religion"}),oe.jsx("p",{className:"input-field h-9  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:t.religion})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"address",className:"block font-bold  text-xs mb-2",children:"Address"}),oe.jsx("textarea",{type:"text",maxLength:200,id:"address",name:"address",readOnly:!0,value:t.address,className:"input-field outline-none resize block w-full border border-gray-300 rounded-md py-1 px-3 bg-gray-300 shadow-inner",rows:"2"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"phone",className:"block font-bold  text-xs mb-2",children:"Phone"}),oe.jsxs("div",{className:"flex ",children:[oe.jsx("span",{className:" rounded-l-md pt-1 bg-gray-200 text-black font-bold px-2 pointer-events-none ml-1",children:"+91"}),oe.jsx("input",{type:"text",id:"phone",name:"phone",maxLength:"10",readOnly:!0,value:t.phone,className:"input-field block w-full border border-gray-300 outline-none  rounded-r-md py-1 px-3 bg-gray-300 shadow-inner "})]})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"employee_id",className:"block font-bold  text-xs mb-2",children:"Employee ID"}),oe.jsx("input",{type:"tel",maxLength:5,id:"employee_id",readOnly:!0,name:"employee_id",value:t.employee_id,className:"input-field outline-none block w-full border border-gray-300 rounded-md py-1 px-3 bg-gray-300 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"teacher_category",className:"block font-bold  text-xs mb-2",children:"Teacher Category"}),oe.jsxs("p",{className:"input-field h-9  block w-full  border border-gray-300 rounded-md py-1 px-3 bg-gray-300",children:[(e=>{const t=i.find((t=>t.tc_id===e));return t?t.name:"Unknown Category"})(t.teacher_id)," "]})]}),oe.jsx("div",{className:"  col-span-3  text-right space-x-4",children:oe.jsx("button",{onClick:()=>{s("/careTacker")},className:" text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})})]})})]})]})}function pie(e){return Hm({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 9l4-4h-3v-4h-2v4h-3zM11.636 7.364l-1.121 1.121 4.064 1.515-6.579 2.453-6.579-2.453 4.064-1.515-1.121-1.121-4.364 1.636v4l8 3 8-3v-4z"},child:[]}]})(e)}function xie(e){return Hm({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 0h-12c-1.1 0-2 0.9-2 2v12c0 1.1 0.9 2 2 2h12c1.1 0 2-0.9 2-2v-12c0-1.1-0.9-2-2-2zM7 12.414l-3.707-3.707 1.414-1.414 2.293 2.293 4.793-4.793 1.414 1.414-6.207 6.207z"},child:[]}]})(e)}const gie=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(null),[c,h]=Q.useState(null),[f,x]=Q.useState(""),[g,b]=Q.useState(""),[v,y]=Q.useState(null),[w,j]=Q.useState(null),[N,_]=Q.useState(!1),[S,k]=Q.useState(!1);sm();const[C,E]=Q.useState({sr_no:"",stud_name:"",dob:"",date:"",father_name:"",class_division:"",professional_qual:"",trained:"",experience:"",sex:"",blood_group:"",religion:"",dob_words:"",nationality:"",phone:"",email:"",aadhar_card_no:"",stud_id:"",purpose:" ",teacher_image_name:null}),T=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[O,D]=Q.useState({}),[A,P]=Q.useState({}),M=(new Date).toISOString().split("T")[0],[L,I]=Q.useState(!1),[F,R]=Q.useState(!1);Q.useEffect((()=>{$()}),[]);const $=()=>p(e,null,(function*(){var e;try{I(!0),R(!0);const a=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${a}`}}),Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${a}`}})]);s(r.data||[]),o((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching data.")}finally{I(!1),R(!1)}})),B=Q.useMemo((()=>n.map((e=>{var t;return{value:e.section_id,label:`${(null==(t=null==e?void 0:e.get_class)?void 0:t.name)||""} ${e.name||""} (${e.students_count||""})`,key:`${e.class_id}-${e.section_id}`}}))),[n]),z=Q.useMemo((()=>l.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`})))),[l]),U=e=>{const{name:t,value:a}=e.target;let r=a;E("dob"===t?e=>m(u({},e),{dob:a,dob_words:T(a)}):e=>m(u({},e),{[t]:a})),E((e=>m(u({},e),{[t]:r})));let n={};"stud_name"===t&&(r?/^\d/.test(r)&&(n.stud_name="Name should not start with a number"):n.stud_name="Name is required"),"father_name"===t&&(r?/^\d/.test(r)&&(n.father_name="Name should not start with a number"):n.father_name="Name is required"),"class_division"===t&&(r||(n.class_division="Class and Division is required")),"dob"===t&&(r||(n.dob="Date of Birth is required")),"sr_no"===t&&(r||(n.sr_no="Serial number is required")),"father_name"===t&&(r||(n.father_name="Father Name is required")),"date"===t&&(r||(n.date=" Date is required")),"purpose"===t&&(r||(n.purpose="Purpose  is required")),"dob_words"===t&&(r||(n.dob_words="  Birth date in words is required")),"nationality"===t&&(r||(n.nationality="Nationality is required")),D((e=>m(u({},e),{[t]:n[t]})))},H=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},W=a=>p(e,null,(function*(){a.preventDefault();const e=(()=>{const e={};return C.stud_name?/^[^\d].*/.test(C.stud_name)||(e.stud_name="Name should not start with a number"):e.stud_name="This field is required",C.father_name?/^[^\d].*/.test(C.father_name)||(e.father_name="Name should not start with a number"):e.father_name="This field is required",C.class_division||(e.class_division="This field is required"),C.sr_no||(e.sr_no="This field is required"),C.dob||(e.dob="This field is required"),C.father_name||(e.father_name="This field is required"),C.date||(e.date="This field is required"),C.purpose||(e.purpose="This field is required"),C.dob_words||(e.dob_words="This field is required"),C.nationality||(e.nationality="This field is required"),D(e),e})()||{};if(Object.keys(e).length>0)return void D(e);const n=m(u({},C),{dob:H(C.dob),date:H(C.date)});try{_(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");const a=yield Uf.post(`${t}/api/save_pdfbonafide`,n,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===a.status){hp.success("Bonafide Certificate Created successfully!");const e=a.headers["content-disposition"];let t="DownloadedFile.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const n=new Blob([a.data],{type:"application/pdf"}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),E({sr_no:"",stud_name:"",father_name:"",dob:"",dob_words:"",date:"",class_division:"",purpose:"",nationality:""}),y(null),r(null),D({}),P({}),setTimeout((()=>{j(null)}),3e3)}}catch(s){console.error("Error:",s.response.data,s.response.sr_no),hp.error("An error occurred while Creating the Bonafide Certificate."),s.response&&s.response?P(s.response||{}):hp.error(s.response.sr_no)}finally{_(!1)}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"     w-full md:container mt-4",children:[oe.jsx("div",{className:" w-[95%] border-3  flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg border border-gray-400 shadow-md mx-auto mt-10 p-6 ",children:oe.jsx("div",{className:"w-[99%] flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:"Class"}),oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx(Soe,{id:"classSelect",value:v,onChange:a=>{y(a),r(null),h(null),d(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e;try{R(!0);const r=a?{section_id:a}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});o((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(r){hp.error("Error fetching students.")}finally{R(!1)}}))})(null==a?void 0:a.value)},options:B,placeholder:L?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:L})})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[98%] my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[50%] text-md mt-1.5",htmlFor:"studentSelect",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:a,onChange:e=>{x(""),r(e),h(null==e?void 0:e.value)},options:z,placeholder:F?"Loading students...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:F}),f&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:f})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,r,n,s,l,o;if(x(""),b(""),D({}),!a)return x("Please select Student Name."),void hp.error("Please select Student Name.!");E({sr_no:"",stud_name:"",father_name:"",dob:"",dob_words:"",date:"",class_division:"",purpose:"",nationality:""});try{k(!0);const a=localStorage.getItem("authToken"),i=yield Uf.get(`${t}/api/get_srnobonafide/${c}`,{headers:{Authorization:`Bearer ${a}`}});if(null==(e=null==i?void 0:i.data)?void 0:e.data){const e=null==(r=null==i?void 0:i.data)?void 0:r.data;j(null==(n=null==i?void 0:i.data)?void 0:n.data),E({sr_no:e.sr_no||"",stud_name:`${(null==(s=null==e?void 0:e.studentinformation)?void 0:s.first_name)||""} ${(null==(l=null==e?void 0:e.studentinformation)?void 0:l.mid_name)||""} ${(null==(o=null==e?void 0:e.studentinformation)?void 0:o.last_name)||""}`,dob:e.studentinformation.dob||"",dob_words:e.dobinwords||" ",date:M||"",father_name:e.parentinformation.father_name||"",class_division:`${e.classname.name}-${e.sectionname.name}`||"",professional_qual:e.professional_qual||"",trained:e.trained||"",experience:e.experience||"",sex:e.sex||"",blood_group:e.blood_group||"",religion:e.religion||"",nationality:e.studentinformation.nationality||"",phone:e.phone||"",email:e.email||"",aadhar_card_no:e.aadhar_card_no||"",stud_id:e.studentinformation.student_id||"",teacher_image_name:e.teacher_image_name||null,special_sub:e.special_sub||""})}else console.log("reponse",i.data.status),i.data&&403===i.data.status?hp.error("Bonafide Certificate Already Generated. Please go to manage to download the Bonafide Certificate."):hp.error("No data found for the selected student.")}catch(i){console.log("error is",i),console.log("error is",i.response)}finally{k(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(S?"opacity-50 cursor-not-allowed":""),disabled:S,children:S?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Search"})]})})}),w&&oe.jsx("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:oe.jsxs("div",{className:"card  px-3 rounded-md ",children:[oe.jsx("div",{className:" card-header mb-4 flex justify-between items-center ",children:oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Information"})}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-5  md:top-[14%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),oe.jsx("form",{onSubmit:W,className:"  border-1 overflow-x-hidden shadow-md p-2 bg-gray-100 mb-4",children:oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1 pt-4 pb-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold  text-xs mb-2",children:["Sr No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"sr_no",name:"sr_no",readOnly:!0,value:C.sr_no,onChange:U,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),A.sr_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:A.sr_no}),O.sr_no&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.sr_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",name:"date",value:C.date,onChange:U,className:"input-field block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:O.date})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"stud_name",value:C.stud_name,onChange:U,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.stud_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.stud_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"father_name",className:"block font-bold  text-xs mb-2",children:["Father's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,id:"father_name",name:"father_name",value:C.father_name,onChange:U,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.father_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.father_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",readOnly:!0,value:C.dob,onChange:U,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",readOnly:!0,value:C.dob_words,onChange:U,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"class_division",className:"block font-bold  text-xs mb-2",children:["Class/Divsion ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_division",readOnly:!0,name:"class_division",value:C.class_division,onChange:U,className:"input-field block w-full outline-none border border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.class_division&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:O.class_division})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"employeeId",className:"block font-bold  text-xs mb-2",children:["Purpose ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:50,id:"employeeId",name:"purpose",value:C.purpose,onChange:U,className:"input-field block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.purpose&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:O.purpose})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"Nationality",className:"block font-bold  text-xs mb-2",children:["Nationality ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:20,id:"Nationality",name:"nationality",value:C.nationality,onChange:U,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.nationality&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:O.nationality})]}),oe.jsx("div",{className:"col-span-3 text-right",children:oe.jsx("button",{type:"submit",onClick:W,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(N?"opacity-50 cursor-not-allowed":""),disabled:N,children:N?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Generate PDF"})})]})})]})})]})]})};function bie(){var e;const t="https://sms.evolvu.in/public",[a,r]=Q.useState("Manage"),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(!1),[c,u]=Q.useState(!1),[m,h]=Q.useState(!1),[f,x]=Q.useState(null),[g,b]=Q.useState(""),[v,y]=Q.useState(""),[w,j]=Q.useState([]),[N,_]=Q.useState(""),[S,k]=Q.useState(0),[C,E]=Q.useState(0),[T,O]=Q.useState(null),[D,A]=Q.useState(null),[P,M]=Q.useState(null),[L,I]=Q.useState(""),[F,R]=Q.useState(""),[$,B]=Q.useState(""),[z,U]=Q.useState(""),[H,W]=Q.useState(""),[Y,q]=Q.useState(""),[V,G]=Q.useState(!1),K=Q.useRef(0),X=Q.useRef(""),J=rm(),Z=(null==(e=J.state)?void 0:e.section_id)||null;console.log("bobafiled section id",Z);const ee=sm();Q.useEffect((()=>{re(),ne()}),[]),Q.useEffect((()=>{var e;(null==(e=J.state)?void 0:e.section_id)&&(y(J.state.section_id),se(J.state.section_id),window.history.replaceState({},document.title))}),[J.state]);const te=w.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",te);const ae=n.map((e=>{var t,a;return{value:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name}-${e.name}`,label:`${null==(a=null==e?void 0:e.get_class)?void 0:a.name} ${e.name}`}})),re=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(s(a.data),console.log("the name and section",a.data)):O("Unexpected data format")}catch(e){console.error("Error fetching class and section names:",e),O("Error fetching class and section names")}})),ne=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});j(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(e){O(e.message)}})),se=()=>p(this,null,(function*(){var e,a,r;if(V)return;G(!0),A(""),_("");const n=v||(null==(e=J.state)?void 0:e.section_id);if(!n)return A("Please select the class."),void G(!1);try{console.log("Searching with section ID:",n);const e=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/get_bonafidecertificatelist`,{headers:{Authorization:`Bearer ${e}`},params:{q:n}});console.log("Bonafide Certificate List Response:",s.data),(null==(r=null==(a=null==s?void 0:s.data)?void 0:a.data)?void 0:r.length)>0?(o(s.data.data),E(Math.ceil(s.data.data.length/10))):(o([]),hp.error("No Bonafide certificates found for the selected class."))}catch(s){console.error("Error fetching Bonafide certificates:",s),O("Error fetching Bonafide certificates")}finally{G(!1)}})),le=()=>{d(!1),u(!1),h(!1)};Q.useEffect((()=>{const e=N.trim().toLowerCase();""!==e&&""===X.current&&(K.current=S,k(0)),""===e&&""!==X.current&&k(K.current),X.current=e}),[N]);const ie=N.trim().toLowerCase(),de=l.filter((e=>((null==e?void 0:e.stud_name.toLowerCase())||"").toLowerCase().includes(ie))).slice(10*S,10*(S+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Bonafide Certificate"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{ee("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row relative -top-4",children:["Manage","CreateBonafide"].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(a===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{r(e),"Manage"===e&&se()})(e),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===a&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-4 w-full md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:P,onChange:e=>{A(""),M(e),y(e?e.value:null)},options:ae,placeholder:"Select Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),D&&oe.jsx("div",{className:" relative top-0.5 left-3 ml-1 text-danger text-xs",children:D})," "]}),oe.jsx("button",{onClick:se,type:"button",disabled:V,className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",children:V?"Searching...":"Search"})]})})}),l.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Bonafide Certificate"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>_(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class/Division"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Status"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Download"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Issue"})]})}),oe.jsx("tbody",{children:de.length?de.map(((e,t)=>{let a="",r=!1,n=!1,s=!1,o=!1;return"Y"===e.IsDeleted?a="Deleted":"Y"===e.IsIssued?(a="Issued",s=!0,o=!0):"Y"===e.IsGenerated&&(a="Generated",r=!0,n=!0,s=!0,o=!0),oe.jsxs("tr",{className:"text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*S+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.stud_name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.class_division}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:a}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:o&&oe.jsx("button",{onClick:()=>{return x(t=e),console.log("currentedit",t),void d(!0);var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(pie,{})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:s&&oe.jsx("button",{onClick:()=>(e=>{console.log("Full section object for edit:",e);const t=e.class_division;console.log("Navigating with section_id:",t),ee(`/bonafied/edit/${null==e?void 0:e.sr_no}`,{state:{student:e,section_id:t}})})(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:n&&oe.jsx("button",{onClick:()=>(e=>{const t=l.find((t=>t.sr_no===e));console.log("classsToDelete",t),t?(x(t),b(null==t?void 0:t.stud_name),h(!0)):console.error("Bonafied certificate not found for deletion")})(null==e?void 0:e.sr_no),className:"text-red-600 hover:text-red-800 hover:bg-transparent",children:oe.jsx(zM,{icon:VM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:r&&oe.jsx("button",{onClick:()=>{return x(t=e),console.log("currentedit",t),void u(!0);var t},className:"text-green-600 hover:text-green-800 hover:bg-transparent",children:oe.jsx(xie,{})})})]},e.sr_no)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:C,onPageChange:e=>{k(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"CreateBonafide"===a&&oe.jsx("div",{children:oe.jsx(gie,{})})]})]}),c&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Issue"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to issue certificate of"," ",` ${null==f?void 0:f.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!V){G(!0);try{const e=localStorage.getItem("authToken");if(!e||!f||!f.sr_no)throw new Error("Token or Serial Number is missing");q(""),console.log("class_name:",L,"subject_name:",F,"exam_name:",$,"marks_heading:",z,"highest_marks:",H),yield Uf.put(`${t}/api/update_isIssued/${f.sr_no}`,{},{headers:{Authorization:`Bearer ${e}`}}),se(),hp.success("Bonafied issue status updated successfully!"),le()}catch(e){e.response&&e.response.data?hp.error(`Error updating Bonafied issue status: ${e.response.data.error}`):hp.error(`Error updating Bonafied issue status: ${e.message}`),console.error("Error Bonafied issue status:",e)}finally{G(!1)}}})),disabled:V,children:V?"Issuing...":"Issue"})})]})})})}),i&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Download"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to Download certificate of"," ",` ${null==f?void 0:f.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!V){G(!0);try{const e=localStorage.getItem("authToken");if(console.log("the sr for download",f.sr_no),!e||!f||!f.sr_no)throw new Error("Token or Serial Number is missing");const a=yield Uf.get(`${t}/api/get_bonafidecertificatedownload/${f.sr_no}`,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200!==a.status)throw new Error("Failed to download the file");{hp.success("Bonafied certificate downloaded successfully!");const e=a.headers["content-disposition"];let t="DownloadedCertificate.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const r=new Blob([a.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),se(),le()}}catch(e){e.response&&e.response.data?hp.error(`Error in Downloading Bonafied Certificate: ${e.response.data.error}`):hp.error(`Error in Downloading Bonafied Certificate: ${e.message}`),console.error("Error in Downloading Bonafied Certificate:",e)}finally{G(!1)}}})),disabled:V,children:V?"Downloading...":"Download"})})]})})})}),m&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete certificate of"," ",` ${g} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!V){G(!0);try{const e=localStorage.getItem("authToken"),a=null==f?void 0:f.sr_no;if(!e||!a)throw new Error("Token or Serial Number is missing");yield Uf.delete(`${t}/api/delete_isDeleted/${a}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),se(),h(!1),hp.success("Bonafied deleted successfully!")}catch(e){e.response&&e.response.data?hp.error(`Error deleting Bonafied: ${e.response.data.message}`):hp.error(`Error deleting Bonafied: ${e.message}`),console.error("Error deleting Bonafied:",e)}finally{G(!1),h(!1)}}})),disabled:V,children:V?"Deleting...":"Delete"})})]})})})})]})}const vie=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(null),[c,h]=Q.useState(null),[f,x]=Q.useState(""),[g,b]=Q.useState(""),[v,y]=Q.useState(null),[w,j]=Q.useState(null),[N,_]=Q.useState(!1),[S,k]=Q.useState(!1);sm();const[C,E]=Q.useState({sr_no:"",stud_name:"",dob:"",date:"",father_name:"",class_division:"",professional_qual:"",trained:"",experience:"",religion:"",dob_words:"",stud_id:"",teacher_image_name:null}),T=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[O,D]=Q.useState({}),[A,P]=Q.useState({}),M=(new Date).toISOString().split("T")[0],[L,I]=Q.useState(!1),[F,R]=Q.useState(!1);Q.useEffect((()=>{$()}),[]);const $=()=>p(e,null,(function*(){var e;try{I(!0),R(!0);const a=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${a}`}}),Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${a}`}})]);s(r.data||[]),o((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching data.")}finally{I(!1),R(!1)}})),B=Q.useMemo((()=>n.map((e=>{var t;return{value:e.section_id,label:`${(null==(t=null==e?void 0:e.get_class)?void 0:t.name)||""} ${e.name||""} (${e.students_count||""})`,key:`${e.class_id}-${e.section_id}`}}))),[n]),z=Q.useMemo((()=>l.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`})))),[l]),U=e=>{const{name:t,value:a}=e.target;let r=a;E("dob"===t?e=>m(u({},e),{dob:a,dob_words:T(a)}):e=>m(u({},e),{[t]:a})),E((e=>m(u({},e),{[t]:r})));let n={};"stud_name"===t&&(r?/^\d/.test(r)&&(n.stud_name="Name should not start with a number"):n.stud_name="Thid field is required"),"father_name"===t&&(r?/^\d/.test(r)&&(n.father_name="Name should not start with a number"):n.father_name="Thid field is required"),"class_division"===t&&(r||(n.class_division="Thid field is required")),"dob"===t&&(r||(n.dob="Thid field is required")),"sr_no"===t&&(r||(n.sr_no="Thid field is required")),"father_name"===t&&(r||(n.father_name="Thid field is required")),"date"===t&&(r||(n.date="Thid field is required")),"dob_words"===t&&(r||(n.dob_words="Thid field is required")),D((e=>m(u({},e),{[t]:n[t]})))},H=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},W=a=>p(e,null,(function*(){a.preventDefault();const e=(()=>{const e={};return C.stud_name?/^[^\d].*/.test(C.stud_name)||(e.stud_name="Name should not start with a number"):e.stud_name="Thid field is required",C.father_name?/^[^\d].*/.test(C.father_name)||(e.father_name="Name should not start with a number"):e.father_name="Thid field is required",C.class_division||(e.class_division="Thid field is required"),C.sr_no||(e.sr_no="Thid field is required"),C.dob||(e.dob="Thid field is required"),C.father_name||(e.father_name="Thid field is required"),C.date||(e.date="Thid field is required"),C.dob_words||(e.dob_words="Thid field is required"),D(e),e})()||{};if(Object.keys(e).length>0)return void D(e);const n=m(u({},C),{dob:H(C.dob),date:H(C.date)});try{_(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");const a=yield Uf.post(`${t}/api/save_pdfsimplebonafide`,n,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===a.status){hp.success("Simple Bonafide Certificate Created successfully!");const e=a.headers["content-disposition"];let t="DownloadedFile.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const n=new Blob([a.data],{type:"application/pdf"}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),E({sr_no:"",stud_name:"",father_name:"",dob:"",dob_words:"",date:"",class_division:""}),y(null),r(null),D({}),P({}),setTimeout((()=>{j(null)}),3e3)}}catch(s){console.error("Error:",s.response.data,s.response.sr_no),hp.error("An error occurred while Creating the Simple Bonafide Certificate."),s.response&&s.response?P(s.response||{}):hp.error(s.response.sr_no)}finally{_(!1)}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"     w-full md:container mt-4",children:[oe.jsx("div",{className:" w-[95%] border-3  flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg border border-gray-400 shadow-md mx-auto mt-10 p-6 ",children:oe.jsx("div",{className:"w-[99%] flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:"Class"}),oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx(Soe,{id:"classSelect",value:v,onChange:a=>{y(a),r(null),h(null),d(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e;try{R(!0);const r=a?{section_id:a}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});o((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(r){hp.error("Error fetching students.")}finally{R(!1)}}))})(null==a?void 0:a.value)},options:B,placeholder:L?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:L})})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[98%] my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[50%] text-md mt-1.5",htmlFor:"studentSelect",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:a,onChange:e=>{x(""),r(e),h(null==e?void 0:e.value)},options:z,placeholder:F?"Loading students...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:F}),f&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:f})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,r,n,s;if(x(""),b(""),D({}),!a)return x("Please select Student Name."),void hp.error("Please select Student Name.!");E({sr_no:"",stud_name:"",father_name:"",dob:"",dob_words:"",date:"",class_division:""});try{k(!0);const a=localStorage.getItem("authToken"),l=yield Uf.get(`${t}/api/get_srnosimplebonafide/${c}`,{headers:{Authorization:`Bearer ${a}`}});if(console.log("outsie "),null==(e=null==l?void 0:l.data)?void 0:e.data){const e=l.data.data;j(e),console.log("this is isnse"),E({sr_no:e.sr_no||"",stud_name:`${(null==(r=null==e?void 0:e.studentinformation)?void 0:r.first_name)||""} ${(null==(n=null==e?void 0:e.studentinformation)?void 0:n.mid_name)||""} ${(null==(s=null==e?void 0:e.studentinformation)?void 0:s.last_name)||""}`,dob:e.studentinformation.dob||"",dob_words:e.dobinwords||" ",date:M||"",father_name:e.studentinformation.father_name||"",class_division:`${e.studentinformation.classname}-${e.studentinformation.sectionname}`||"",professional_qual:e.studentinformation.professional_qual||"",religion:e.religion||"",stud_id:e.studentinformation.student_id||"",teacher_image_name:e.studentinformation.teacher_image_name||null})}else l.data&&403===l.data.status?hp.error("Simple Bonafide Certificate Already Generated. Please go to manage to download the Simple Bonafide Certificate."):hp.error("No data found for the selected student.")}catch(l){console.log("error",l),hp.error("Error fetching data for the selected student.")}finally{k(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(S?"opacity-50 cursor-not-allowed":""),disabled:S,children:S?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Search"})]})})}),w&&oe.jsx("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:oe.jsxs("div",{className:"card  px-3 rounded-md ",children:[oe.jsx("div",{className:" card-header   mb-4 flex justify-between items-center ",children:oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Information"})}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-6  md:top-[15%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),oe.jsx("form",{onSubmit:W,className:"  md:mx-5 overflow-x-hidden shadow-md p-2 bg-gray-50 mb-4",children:oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1 pt-4 pb-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold  text-xs mb-2",children:["Sr No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"sr_no",name:"sr_no",readOnly:!0,value:C.sr_no,onChange:U,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),A.sr_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:A.sr_no}),O.sr_no&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.sr_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",name:"date",value:C.date,onChange:U,className:"input-field block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:O.date})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"stud_name",value:C.stud_name,onChange:U,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.stud_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.stud_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"father_name",className:"block font-bold  text-xs mb-2",children:["Father's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,id:"father_name",name:"father_name",value:C.father_name,onChange:U,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.father_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.father_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",value:C.dob,onChange:U,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",value:C.dob_words,onChange:U,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"class_division",className:"block font-bold  text-xs mb-2",children:["Class/Divsion ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_division",readOnly:!0,name:"class_division",value:C.class_division,onChange:U,className:"input-field block w-full outline-none border border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.class_division&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:O.class_division})]}),oe.jsx("div",{className:"col-span-3 text-right",children:oe.jsx("button",{type:"submit",onClick:W,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(N?"opacity-50 cursor-not-allowed":""),disabled:N,children:N?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Generate PDF"})})]})})]})})]})]})};function yie(){var e;const t="https://sms.evolvu.in/public",[a,r]=Q.useState("Manage"),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(!1),[c,u]=Q.useState(!1),[m,h]=Q.useState(!1),[f,x]=Q.useState(null),[g,b]=Q.useState(""),v=Q.useRef(0),y=Q.useRef(""),[w,j]=Q.useState(""),[N,_]=Q.useState([]),[S,k]=Q.useState(""),[C,E]=Q.useState(0),[T,O]=Q.useState(0),[D,A]=Q.useState(null),[P,M]=Q.useState(null),[L,I]=Q.useState(null),F=sm(),[R,$]=Q.useState(!1),B=rm(),z=(null==(e=B.state)?void 0:e.section_id)||null;console.log("cast section id",z),Q.useEffect((()=>{W(),Y()}),[]),Q.useEffect((()=>{var e;(null==(e=B.state)?void 0:e.section_id)&&(j(B.state.section_id),q(B.state.section_id),window.history.replaceState({},document.title))}),[B.state]);const U=N.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",U);const H=n.map((e=>{var t,a;return{value:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name}-${e.name}`,label:`${null==(a=null==e?void 0:e.get_class)?void 0:a.name} ${e.name}`}})),W=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(s(a.data),console.log("the name and section",a.data)):A("Unexpected data format")}catch(e){console.error("Error fetching class and section names:",e),A("Error fetching class and section names")}})),Y=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});_(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(e){A(e.message)}})),q=()=>p(this,null,(function*(){var e,a,r;if(R)return;$(!0),M(""),k("");const n=w||(null==(e=B.state)?void 0:e.section_id);if(!n)return M("Please select the class."),void $(!1);try{console.log("Searching with section ID:",n);const e=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/get_simplebonafidecertificatelist`,{headers:{Authorization:`Bearer ${e}`},params:{q:n}});console.log("Simple Bonafied Certificate List Response:",s.data),(null==(r=null==(a=null==s?void 0:s.data)?void 0:a.data)?void 0:r.length)>0?(o(s.data.data),O(Math.ceil(s.data.data.length/10))):(o([]),hp.error("No Simple Bonafied certificates found for the selected class."))}catch(s){console.error("Error fetching Simple Bonafied certificates:",s),A("Error fetching Simple Bonafied certificates")}finally{$(!1)}})),V=()=>{d(!1),u(!1),h(!1)};Q.useEffect((()=>{const e=S.trim().toLowerCase();""!==e&&""===y.current&&(v.current=C,E(0)),""===e&&""!==y.current&&E(v.current),y.current=e}),[S]);const G=S.trim().toLowerCase(),K=l.filter((e=>((null==e?void 0:e.stud_name.toLowerCase())||"").toLowerCase().includes(G)));Q.useEffect((()=>{O(Math.ceil(K.length/10))}),[K,10]);const X=K.slice(10*C,10*(C+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Simple Bonafide Certificate"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{F("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row relative -top-4",children:["Manage","CreateBonafide"].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(a===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{r(e),"Manage"===e&&q()})(e),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===a&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-4 w-full md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:L,onChange:e=>{M(""),I(e),j(e?e.value:null)},options:H,placeholder:"Select Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),P&&oe.jsx("div",{className:" relative top-0.5 left-3 ml-1 text-danger text-xs",children:P})," "]}),oe.jsx("button",{onClick:q,type:"button",className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",disabled:R,children:R?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})]})})}),l.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Simple Bonafide Certificate"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>k(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class/Division"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Status"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Download"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Issue"})]})}),oe.jsx("tbody",{children:X.length?X.map(((e,t)=>{let a="",r=!1,n=!1,s=!1,o=!1;return"Y"===e.IsDeleted?a="Deleted":"Y"===e.IsIssued?(a="Issued",s=!0,o=!0):"Y"===e.IsGenerated&&(a="Generated",r=!0,n=!0,s=!0,o=!0),oe.jsxs("tr",{className:"text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*C+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.stud_name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.class_division}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:a}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:o&&oe.jsx("button",{onClick:()=>{return x(t=e),console.log("currentedit",t),void d(!0);var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(pie,{})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:s&&oe.jsx("button",{onClick:()=>(e=>{x(e);const t=e.class_division;console.log("Navigating to edit with section_id:",t),F(`/sm_Bonafied/edit/${null==e?void 0:e.sr_no}`,{state:{student:e,section_id:t}})})(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:n&&oe.jsx("button",{onClick:()=>(e=>{const t=l.find((t=>t.sr_no===e));console.log("classsToDelete",t),t?(x(t),b(null==t?void 0:t.stud_name),h(!0)):console.error("Bonafied certificate not found for deletion")})(null==e?void 0:e.sr_no),className:"text-red-600 hover:text-red-800 hover:bg-transparent",children:oe.jsx(zM,{icon:VM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:r&&oe.jsx("button",{onClick:()=>{return x(t=e),console.log("currentedit",t),void u(!0);var t},className:"text-green-600 hover:text-green-800 hover:bg-transparent",children:oe.jsx(xie,{})})})]},e.sr_no)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:T,onPageChange:e=>{E(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"CreateBonafide"===a&&oe.jsx("div",{children:oe.jsx(vie,{})})]})]}),c&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Issue"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:V}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to issue this certificate"," ",` ${null==f?void 0:f.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!R){$(!0);try{const e=localStorage.getItem("authToken");if(!e||!f||!f.sr_no)throw new Error("Token or Serial Number is missing");yield Uf.put(`${t}/api/update_simpleisIssued/${f.sr_no}`,{},{headers:{Authorization:`Bearer ${e}`}}),q(),hp.success("Simple Bonafied issue status updated successfully!"),V()}catch(e){e.response&&e.response.data?hp.error(`Error updating Simple Bonafied issue status: ${e.response.data.error}`):hp.error(`Error updating Simple Bonafied issue status: ${e.message}`),console.error("Error Simple Bonafied issue status:",e)}finally{$(!1)}}})),disabled:R,children:R?"Issuing...":"Issue"})})]})})})}),i&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Download"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:V}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to Download this certificate"," ",` ${null==f?void 0:f.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!R){$(!0);try{const e=localStorage.getItem("authToken");if(console.log("the sr for download",f.sr_no),!e||!f||!f.sr_no)throw new Error("Token or Serial Number is missing");const a=yield Uf.get(`${t}/api/get_simpleisDownload/${f.sr_no}`,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200!==a.status)throw new Error("Failed to download the file");{hp.success("Simple Bonafied certificate downloaded successfully!");const e=a.headers["content-disposition"];let t="DownloadedCertificate.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const r=new Blob([a.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),q(),V()}}catch(e){e.response&&e.response.data?hp.error(`Error in Downloading Simple Bonafied Certificate: ${e.response.data.error}`):hp.error(`Error in Downloading Simple Bonafied Certificate: ${e.message}`),console.error("Error in Downloading Simple Bonafied Certificate:",e)}finally{$(!1)}}})),disabled:R,children:R?"Downloading...":"Download"})})]})})})}),m&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:V}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this certificate of"," ",` ${g} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!R){$(!0);try{const e=localStorage.getItem("authToken"),a=null==f?void 0:f.sr_no;if(!e||!a)throw new Error("Token or Serial Number is missing");yield Uf.delete(`${t}/api/delete_simpleisDeleted/${a}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),q(),h(!1),hp.success("Simple Bonafied deleted successfully!")}catch(e){e.response&&e.response.data?hp.error(`Error deleting Simple Bonafied: ${e.response.data.message}`):hp.error(`Error deleting Simple Bonafied: ${e.message}`),console.error("Error deleting Simple Bonafied:",e)}finally{$(!1),h(!1)}}})),disabled:R,children:R?"Deleting...":"Delete"})})]})})})})]})}const wie=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(null),[c,h]=Q.useState(null),[f,x]=Q.useState(""),[g,b]=Q.useState(""),[v,y]=Q.useState(null),[w,j]=Q.useState(null),[N,_]=Q.useState(!1),[S,k]=Q.useState(!1);sm();const[C,E]=Q.useState({sr_no:"",reg_no:"",date:"",stud_name:"",stud_id_no:"",stud_id:"",father_name:"",mother_name:"",class_division:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",admission_date:"",class_when_learning:"",progress:"",behaviour:"",leaving_reason:"",lc_date_n_no:"",stu_aadhaar_no:"",teacher_image_name:null}),T=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[O,D]=Q.useState({}),[A,P]=Q.useState({}),M=(new Date).toISOString().split("T")[0],[L,I]=Q.useState(!1),[F,R]=Q.useState(!1);Q.useEffect((()=>{$()}),[]);const $=()=>p(e,null,(function*(){var e;try{I(!0),R(!0);const a=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${a}`}}),Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${a}`}})]);s(r.data||[]),o((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching data.")}finally{I(!1),R(!1)}})),B=Q.useMemo((()=>n.map((e=>{var t;return{value:e.section_id,label:`${(null==(t=null==e?void 0:e.get_class)?void 0:t.name)||""} ${e.name||""} (${e.students_count||""})`,key:`${e.class_id}-${e.section_id}`}}))),[n]),z=Q.useMemo((()=>l.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`})))),[l]),U=e=>{const{name:t,value:a}=e.target;E((e=>u(m(u({},e),{[t]:a}),"dob"===t&&{dob_words:T(a)})));let r={};"stud_name"===t&&/^\d/.test(a)&&(r.stud_name="Student Name should not start with a number"),"father_name"===t&&/^\d/.test(a)&&(r.father_name="Father's Name should not start with a number"),"mother_name"===t&&/^\d/.test(a)&&(r.mother_name="Mother's Name should not start with a number"),D((e=>m(u({},e),{[t]:r[t]})))},H=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},W=a=>p(e,null,(function*(){var e;if(a.preventDefault(),console.log("Submit process started"),D({}),P({}),!(()=>{const e={};return["reg_no","date","stud_name","stud_id_no","father_name","mother_name","class_division","birth_place","state","mother_tongue","dob","dob_words","nationality","prev_school_class","admission_date","class_when_learning","progress","behaviour","leaving_reason","lc_date_n_no","stu_aadhaar_no"].forEach((t=>{C[t]||(e[t]="This field is required")})),C.stud_name&&/^\d/.test(C.stud_name)&&(e.stud_name="Student Name should not start with a number"),C.father_name&&/^\d/.test(C.father_name)&&(e.father_name="Father's Name should not start with a number"),C.mother_name&&/^\d/.test(C.mother_name)&&(e.mother_name="Mother's Name should not start with a number"),D(e),0===Object.keys(e).length})())return void console.log("Validation failed, stopping submission");console.log("Validation passed, proceeding with submission");const n=m(u({},C),{dob:H(C.dob),date:H(C.date)});try{_(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.post(`${t}/api/save_pdfcastebonafide`,n,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===a.status){hp.success("Cast Certificate Created successfully!");const e=a.headers["content-disposition"];let t="DownloadedFile.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const n=new Blob([a.data],{type:"application/pdf"}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),E({sr_no:"",reg_no:"",date:"",stud_name:"",stud_id_no:"",stud_id:"",father_name:"",mother_name:"",class_division:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",admission_date:"",class_when_learning:"",progress:"",behaviour:"",leaving_reason:"",lc_date_n_no:"",stu_aadhaar_no:""}),y(null),r(null),setTimeout((()=>j(null)),3e3)}}catch(s){console.error("Error:",(null==(e=s.response)?void 0:e.data)||s.message),hp.error("An error occurred while Creating the Cast Certificate."),s.response&&s.response.data?P(s.response.data):hp.error("Unknown error occurred.")}finally{_(!1)}}));return oe.jsxs("div",{className:"",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"     w-full md:container mt-4",children:[oe.jsx("div",{className:"w-[95%] flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg border border-gray-400 shadow-md mx-auto mt-10 p-6",children:oe.jsx("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:"Class"}),oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx(Soe,{id:"classSelect",value:v,onChange:a=>{y(a),r(null),h(null),d(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e;try{R(!0);const r=a?{section_id:a}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});o((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(r){hp.error("Error fetching students.")}finally{R(!1)}}))})(null==a?void 0:a.value)},options:B,placeholder:L?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:L})})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[98%] my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[50%] text-md mt-1.5",htmlFor:"studentSelect",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:a,onChange:e=>{x(""),r(e),h(null==e?void 0:e.value)},options:z,placeholder:F?"Loading students...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:F}),f&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:f})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,r,n,s;if(x(""),b(""),D({}),!a)return x("Please select Student Name."),void hp.error("Please select Student Name.!");E({sr_no:"",reg_no:"",date:"",stud_name:"",stud_id_no:"",stud_id:" ",stu_aadhaar_no:"",father_name:"",mother_name:"",class_division:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",admission_date:"",class_when_learning:"",progress:"",behaviour:"",leaving_reason:"",lc_date_n_no:"",teacher_image_name:null});try{k(!0);const a=localStorage.getItem("authToken"),l=yield Uf.get(`${t}/api/get_srnocastebonafide/${c}`,{headers:{Authorization:`Bearer ${a}`}});if(null==(e=null==l?void 0:l.data)?void 0:e.data){const e=l.data.data;j(e),E({sr_no:e.sr_no||"",reg_no:e.studentinformation.reg_no||"",date:M||"",stud_name:`${(null==(r=e.studentinformation)?void 0:r.first_name)||""} ${(null==(n=e.studentinformation)?void 0:n.mid_name)||""} ${(null==(s=e.studentinformation)?void 0:s.last_name)||""}`,stud_id_no:e.studentinformation.stud_id_no||"",stud_id:e.studentinformation.student_id||" ",father_name:e.studentinformation.father_name||"",mother_name:e.studentinformation.mother_name||"",class_division:`${e.studentinformation.classname}-${e.studentinformation.sectionname}`||"",admission_date:e.studentinformation.admission_date||"",religion:e.studentinformation.religion||"",caste:e.studentinformation.caste||"",subcaste:e.studentinformation.subcaste||"",birth_place:e.studentinformation.birth_place||"",state:e.studentinformation.state||"",mother_tongue:e.studentinformation.mother_tongue||"",dob:e.studentinformation.dob||"",dob_words:e.dobinwords||"",nationality:e.studentinformation.nationality||"",stu_aadhaar_no:e.studentinformation.stu_aadhaar_no||"",teacher_image_name:e.studentinformation.father_image_name||null,purpose:e.purpose||" "})}else l.data&&403===l.data.status?hp.error("Cast Certificate Already Generated. Please go to manage to download the Cast Certificate."):hp.error("No data found for the selected student.")}catch(l){console.log("error is",l),hp.error("Error fetching data for the selected student.")}finally{k(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(S?"opacity-50 cursor-not-allowed":""),disabled:S,children:S?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Search"})]})})}),w&&oe.jsx("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:oe.jsxs("div",{className:"    card  px-3 rounded-md ",children:[oe.jsx("div",{className:" card-header mb-4 flex justify-between items-center  ",children:oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Information"})}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-8  md:top-[5%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),oe.jsxs("form",{onSubmit:W,className:" w-full gap-x-1 md:gap-x-14  gap-y-1   overflow-x-hidden shadow-md p-4  bg-gray-50 mb-4",children:[oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 pb-2",children:"Document Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold text-xs mb-2",children:["Sr No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"sr_no",name:"sr_no",value:C.sr_no,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"reg_no",className:"block font-bold text-xs mb-2",children:["General Register No."," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"reg_no",name:"reg_no",maxLength:10,readOnly:!0,value:C.reg_no,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.reg_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.reg_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date",className:"block font-bold text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date",name:"date",value:C.date,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.date})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Student Identity"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"stud_name",readOnly:!0,value:C.stud_name,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.stud_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2 ",children:O.stud_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"stud_id_no",className:"block font-bold text-xs mb-2",children:["Student ID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"stud_id_no",name:"stud_id_no",maxLength:25,readOnly:!0,value:C.stud_id_no,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.stud_id_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.stud_id_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"stu_aadhaar_no",className:"block font-bold text-xs mb-2",children:["Student UID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"stu_aadhaar_no",name:"stu_aadhaar_no",maxLength:12,readOnly:!0,value:C.stu_aadhaar_no,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.stu_aadhaar_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.stu_aadhaar_no})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Parent Details"}),oe.jsxs("div",{className:"w-full md:w-[80%]  grid grid-cols-1 md:grid-cols-2   gap-x-6 gap-4",children:[oe.jsxs("div",{className:"",children:[oe.jsxs("label",{htmlFor:"father_name",className:"block font-bold  text-xs mb-2",children:["Father's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,id:"father_name",name:"father_name",readOnly:!0,value:C.father_name,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.father_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2 ",children:O.father_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"mother_name",className:"block font-bold text-xs mb-2",children:["Mother's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"mother_name",name:"mother_name",maxLength:50,readOnly:!0,value:C.mother_name,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.mother_name&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.mother_name})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Academic Details"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"class_division",className:"block font-bold text-xs mb-2",children:["Class/Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_division",name:"class_division",readOnly:!0,value:C.class_division,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.class_division&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.class_division})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold text-xs mb-2",children:"Religion"}),oe.jsx("input",{type:"text",id:"religion",name:"religion",maxLength:20,readOnly:!0,value:C.religion,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"caste",className:"block font-bold text-xs mb-2",children:"Caste"}),oe.jsx("input",{type:"text",id:"caste",name:"caste",maxLength:20,readOnly:!0,value:C.caste,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"subcaste",className:"block font-bold text-xs mb-2",children:"Sub-Caste"}),oe.jsx("input",{type:"text",id:"subcaste",name:"subcaste",maxLength:100,value:C.subcaste,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Personal Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"birthPlace",className:"block font-bold text-xs mb-2",children:["Birth Place ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"birthPlace",maxLength:20,name:"birth_place",value:C.birth_place,onChange:U,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.birth_place&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.birth_place})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"state",className:"block font-bold text-xs mb-2",children:["State ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"state",name:"state",maxLength:50,value:C.state,onChange:U,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.state&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.state})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"mother_tongue",className:"block font-bold text-xs mb-2",children:["Mother Tongue ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"mother_tongue",name:"mother_tongue",maxLength:50,value:C.mother_tongue,onChange:U,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.mother_tongue&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.mother_tongue})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",value:C.dob,onChange:U,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-2 ",children:O.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",value:C.dob_words,onChange:U,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-2 ",children:O.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"nationality",className:"block font-bold text-xs mb-2",children:["Nationality ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"nationality",name:"nationality",maxLength:100,value:C.nationality,onChange:U,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.nationality&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.nationality})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Admission Details"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"prev_school_class",className:"block font-bold text-xs mb-2",children:["Previous School and Class"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"prev_school_class",maxLength:100,name:"prev_school_class",value:C.prev_school_class,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.prev_school_class&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.prev_school_class})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"admission_date",className:"block font-bold text-xs mb-2",children:["Date of Admission"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"admission_date",name:"admission_date",value:C.admission_date,onChange:U,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.admission_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.admission_date})]}),oe.jsxs("div",{className:" relative -top-4",children:[oe.jsxs("label",{htmlFor:"class_when_learning",className:"block font-bold text-xs mb-2 ",children:["In which class and when was he/she was learning from"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_when_learning",maxLength:100,name:"class_when_learning",value:C.class_when_learning,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.class_when_learning&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.class_when_learning})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"progress",className:"block font-bold text-xs mb-2",children:["Progress Report ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"progress",name:"progress",maxLength:200,value:C.progress,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.progress&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.progress})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"behaviour",className:"block font-bold text-xs mb-2",children:["Behavior ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"behaviour",name:"behaviour",maxLength:200,value:C.behaviour,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.behaviour&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.behaviour})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"leaving_reason",className:"block font-bold text-xs mb-2",children:["Reason for Leaving"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"leaving_reason",name:"leaving_reason",maxLength:100,value:C.leaving_reason,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.leaving_reason&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.leaving_reason})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"lc_date_n_no",className:"block font-bold text-xs mb-2",children:["Date of Leaving Certificate"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"lc_date_n_no",name:"lc_date_n_no",value:C.lc_date_n_no,onChange:U,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.lc_date_n_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.lc_date_n_no})]})]})]}),oe.jsx("div",{className:"col-span-3 text-right",children:oe.jsx("button",{type:"submit",onClick:W,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(N?"opacity-50 cursor-not-allowed":""),disabled:N,children:N?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Generate PDF"})})]})]})})]})]})};function jie(){var e;const t="https://sms.evolvu.in/public",[a,r]=Q.useState("Manage"),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(!1),[c,u]=Q.useState(!1),[m,h]=Q.useState(!1),[f,x]=Q.useState(null),[g,b]=Q.useState(""),v=Q.useRef(0),y=Q.useRef(""),[w,j]=Q.useState(""),[N,_]=Q.useState([]),[S,k]=Q.useState(""),[C,E]=Q.useState(0),[T,O]=Q.useState(0),[D,A]=Q.useState(null),[P,M]=Q.useState(null),[L,I]=Q.useState(null),[F,R]=Q.useState(""),[$,B]=Q.useState(""),[z,U]=Q.useState(""),[H,W]=Q.useState(""),[Y,q]=Q.useState(""),[V,G]=Q.useState(""),[K,X]=Q.useState(!1),J=rm(),Z=(null==(e=J.state)?void 0:e.section_id)||null;console.log("cast section id",Z);const ee=sm();Q.useEffect((()=>{re(),ne()}),[]),Q.useEffect((()=>{var e;(null==(e=J.state)?void 0:e.section_id)&&(j(J.state.section_id),se(J.state.section_id),window.history.replaceState({},document.title))}),[J.state]);const te=N.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",te);const ae=n.map((e=>{var t,a;return{value:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name}-${e.name}`,label:`${null==(a=null==e?void 0:e.get_class)?void 0:a.name} ${e.name}`}})),re=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(s(a.data),console.log("the name and section",a.data)):A("Unexpected data format")}catch(e){console.error("Error fetching class and section names:",e),A("Error fetching class and section names")}})),ne=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});_(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(e){A(e.message)}})),se=()=>p(this,null,(function*(){var e,a,r;if(K)return;X(!0),M(""),k("");const n=w||(null==(e=J.state)?void 0:e.section_id);if(!n)return M("Please select the class."),void X(!1);try{console.log("Searching with section ID:",n);const e=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/get_castebonafidecertificatelist`,{headers:{Authorization:`Bearer ${e}`},params:{q:n}});console.log("Cast Certificate List Response:",s.data),(null==(r=null==(a=null==s?void 0:s.data)?void 0:a.data)?void 0:r.length)>0?(o(s.data.data),O(Math.ceil(s.data.data.length/10))):(o([]),hp.error("No Cast certificates found for the selected class."))}catch(s){console.error("Error fetching Cast certificates:",s),A("Error fetching Cast certificates")}finally{X(!1)}})),le=()=>{d(!1),u(!1),h(!1)};Q.useEffect((()=>{const e=S.trim().toLowerCase();""!==e&&""===y.current&&(v.current=C,E(0)),""===e&&""!==y.current&&E(v.current),y.current=e}),[S]);const ie=S.trim().toLowerCase(),de=l.filter((e=>((null==e?void 0:e.stud_name.toLowerCase())||"").toLowerCase().includes(ie)));Q.useEffect((()=>{O(Math.ceil(de.length/10))}),[de,10]);const ce=de.slice(10*C,10*(C+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Caste Certificate"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{ee("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row relative -top-4",children:["Manage","CreateCasteCertificate"].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(a===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{r(e),"Manage"===e&&se()})(e),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===a&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-4 w-full md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:L,onChange:e=>{M(""),I(e),j(e?e.value:null)},options:ae,placeholder:"Select Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),P&&oe.jsx("div",{className:" relative top-0.5 left-3 ml-1 text-danger text-xs",children:P})," "]}),oe.jsx("button",{onClick:se,type:"button",className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",disabled:K,children:K?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})]})})}),l.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Caste Certificate"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>k(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class/Division"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Status"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Download"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Issue"})]})}),oe.jsx("tbody",{children:ce.length?ce.map(((e,t)=>{let a="",r=!1,n=!1,s=!1,o=!1;return"Y"===e.IsDeleted?a="Deleted":"Y"===e.IsIssued?(a="Issued",s=!0,o=!0):"Y"===e.IsGenerated&&(a="Generated",r=!0,n=!0,s=!0,o=!0),oe.jsxs("tr",{className:" text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*C+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.stud_name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.class_division}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:a}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:o&&oe.jsx("button",{onClick:()=>{return x(t=e),console.log("currentedit",t),void d(!0);var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(pie,{})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:s&&oe.jsx("button",{onClick:()=>(e=>{x(e);const t=e.class_division;console.log("Navigating to edit with section_id:",t),ee(`/studentCast/edit/${null==e?void 0:e.sr_no}`,{state:{student:e,section_id:t}})})(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:n&&oe.jsx("button",{onClick:()=>(e=>{const t=l.find((t=>t.sr_no===e));console.log("classsToDelete",t),t?(x(t),b(null==t?void 0:t.stud_name),h(!0)):console.error("Cast certificate not found for deletion")})(null==e?void 0:e.sr_no),className:"text-red-600 hover:text-red-800 hover:bg-transparent",children:oe.jsx(zM,{icon:VM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:r&&oe.jsx("button",{onClick:()=>{return x(t=e),console.log("currentedit",t),void u(!0);var t},className:"text-green-600 hover:text-green-800 hover:bg-transparent",children:oe.jsx(xie,{})})})]},e.sr_no)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:T,onPageChange:e=>{E(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"CreateCasteCertificate"===a&&oe.jsx("div",{children:oe.jsx(wie,{})})]})]}),c&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Issue"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to issue this certificate"," ",` ${null==f?void 0:f.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!K){X(!0);try{const e=localStorage.getItem("authToken");if(!e||!f||!f.sr_no)throw new Error("Token or Serial Number is missing");G(""),console.log("class_name:",F,"subject_name:",$,"exam_name:",z,"marks_heading:",H,"highest_marks:",Y),yield Uf.put(`${t}/api/update_casteisIssued/${f.sr_no}`,{},{headers:{Authorization:`Bearer ${e}`}}),se(),hp.success("Cast certificate issue status updated successfully!"),le()}catch(e){e.response&&e.response.data?hp.error(`Error updating Cast Certificate issue status: ${e.response.data.error}`):hp.error(`Error updating Cast Certificate issue status: ${e.message}`),console.error("Error Cast Certificate issue status:",e)}finally{X(!1)}}})),disabled:K,children:K?"Issuing...":"Issue"})})]})})})}),i&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Download"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to Download this certificate"," ",` ${null==f?void 0:f.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!K){X(!0);try{const e=localStorage.getItem("authToken");if(console.log("the sr for download",f.sr_no),!e||!f||!f.sr_no)throw new Error("Token or Serial Number is missing");const a=yield Uf.get(`${t}/api/get_casteisDownload/${f.sr_no}`,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200!==a.status)throw new Error("Failed to download the file");{hp.success("Cast certificate downloaded successfully!");const e=a.headers["content-disposition"];let t="DownloadedCertificate.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const r=new Blob([a.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),se(),le()}}catch(e){e.response&&e.response.data?hp.error(`Error in Downloading Cast Certificate: ${e.response.data.error}`):hp.error(`Error in Downloading Cast Certificate: ${e.message}`),console.error("Error in Downloading Cast Certificate:",e)}finally{X(!1)}}})),disabled:K,children:K?"Downloading...":"Download"})})]})})})}),m&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this certificate of"," ",` ${g} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!K){X(!0);try{const e=localStorage.getItem("authToken"),a=null==f?void 0:f.sr_no;if(!e||!a)throw new Error("Token or Serial Number is missing");yield Uf.delete(`${t}/api/delete_casteisDeleted/${a}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),se(),h(!1),hp.success("Cast Certificate deleted successfully!")}catch(e){e.response&&e.response.data?hp.error(`Error deleting Cast Certificate: ${e.response.data.message}`):hp.error(`Error deleting Cast Certificate: ${e.message}`),console.error("Error deleting Cast Certificate:",e)}finally{X(!1),h(!1)}}})),disabled:K,children:K?"Deleting...":"Delete"})})]})})})})]})}const Nie=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(null),[c,h]=Q.useState(null),[f,x]=Q.useState(""),[g,b]=Q.useState(""),[v,y]=Q.useState(null),[w,j]=Q.useState(null),[N,_]=Q.useState(!1),[S,k]=Q.useState(!1);sm();const[C,E]=Q.useState({sr_no:"",stud_name:"",dob:"",date:"",class_division:"",professional_qual:"",trained:"",experience:"",sex:"",blood_group:"",religion:"",dob_words:"",aadhar_card_no:"",stud_id:"",attempt:" ",teacher_image_name:null}),T=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[O,D]=Q.useState({}),[A,P]=Q.useState({}),M=(new Date).toISOString().split("T")[0],[L,I]=Q.useState(!1),[F,R]=Q.useState(!1);Q.useEffect((()=>{$()}),[]);const $=()=>p(e,null,(function*(){var e;try{I(!0),R(!0);const a=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${a}`}}),Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${a}`}})]);s(r.data||[]),o((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching data.")}finally{I(!1),R(!1)}})),B=Q.useMemo((()=>n.map((e=>{var t;return{value:e.section_id,label:`${(null==(t=null==e?void 0:e.get_class)?void 0:t.name)||""} ${e.name||""} (${e.students_count||""})`,key:`${e.class_id}-${e.section_id}`}}))),[n]),z=Q.useMemo((()=>l.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`})))),[l]),U=e=>{const{name:t,value:a}=e.target;let r=a;E("dob"===t?e=>m(u({},e),{dob:a,dob_words:T(a)}):e=>m(u({},e),{[t]:a})),E((e=>m(u({},e),{[t]:r})));let n={};"stud_name"===t&&(r?/^\d/.test(r)&&(n.stud_name="Name should not start with a number"):n.stud_name="This field is required"),"class_division"===t&&(r||(n.class_division="This field is required")),"dob"===t&&(r||(n.dob="This field is required")),"sr_no"===t&&(r||(n.sr_no="This field is required")),"date"===t&&(r||(n.date="This field is required")),"attempt"===t&&(r||(n.attempt="This field is required")),"dob_words"===t&&(r||(n.dob_words="This field is required")),D((e=>m(u({},e),{[t]:n[t]})))},H=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},W=a=>p(e,null,(function*(){a.preventDefault();const e=(()=>{const e={};return C.stud_name?/^[^\d].*/.test(C.stud_name)||(e.stud_name="Name should not start with a number"):e.stud_name="This field is required",C.class_division||(e.class_division="This field is required"),C.sr_no||(e.sr_no="This field is required"),C.dob||(e.dob="This field is required"),C.date||(e.date="This field is required"),C.attempt||(e.attempt="This field is required"),C.dob_words||(e.dob_words="This field is required"),D(e),e})()||{};if(Object.keys(e).length>0)return void D(e);const n=m(u({},C),{dob:H(C.dob),date:H(C.date)});try{_(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");const a=yield Uf.post(`${t}/api/save_pdfcharacterbonafide`,n,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===a.status){hp.success("CharacterCertificate Created successfully!");const e=a.headers["content-disposition"];let t="DownloadedFile.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const n=new Blob([a.data],{type:"application/pdf"}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),E({sr_no:"",stud_name:"",dob:"",dob_words:"",date:"",class_division:"",attempt:""}),y(null),r(null),D({}),P({}),setTimeout((()=>{j(null)}),3e3)}}catch(s){console.error("Error:",s.response.data,s.response.sr_no),hp.error("An error occurred while Creating the Character Certificate."),s.response&&s.response?P(s.response||{}):hp.error(s.response.sr_no)}finally{_(!1)}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"     w-full md:container mt-4",children:[oe.jsx("div",{className:" w-[95%] border-3  flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg border border-gray-400 shadow-md mx-auto mt-10 p-6 ",children:oe.jsx("div",{className:"w-[99%] flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:"Class"}),oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx(Soe,{id:"classSelect",value:v,onChange:a=>{y(a),r(null),h(null),d(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e;try{R(!0);const r=a?{section_id:a}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});o((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(r){hp.error("Error fetching students.")}finally{R(!1)}}))})(null==a?void 0:a.value)},options:B,placeholder:L?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:L})})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[98%] my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[50%] text-md mt-1.5",htmlFor:"studentSelect",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:a,onChange:e=>{x(""),r(e),h(null==e?void 0:e.value)},options:z,placeholder:F?"Loading students...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:F}),f&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:f})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,r,n,s,l,o;if(x(""),b(""),D({}),!a)return x("Please select Student Name."),void hp.error("Please select Student Name.!");E({sr_no:"",stud_name:"",dob:"",dob_words:"",date:"",class_division:"",attempt:""});try{k(!0);const a=localStorage.getItem("authToken"),i=yield Uf.get(`${t}/api/get_srnobonafide/${c}`,{headers:{Authorization:`Bearer ${a}`}});if(null==(e=null==i?void 0:i.data)?void 0:e.data){const e=null==(r=null==i?void 0:i.data)?void 0:r.data;j(null==(n=null==i?void 0:i.data)?void 0:n.data),E({sr_no:e.sr_no||"",stud_name:`${(null==(s=null==e?void 0:e.studentinformation)?void 0:s.first_name)||""} ${(null==(l=null==e?void 0:e.studentinformation)?void 0:l.mid_name)||""} ${(null==(o=null==e?void 0:e.studentinformation)?void 0:o.last_name)||""}`,dob:e.studentinformation.dob||"",dob_words:e.dobinwords||" ",date:M||"",class_division:`${e.classname.name}-${e.sectionname.name}`||"",professional_qual:e.professional_qual||"",trained:e.trained||"",experience:e.experience||"",sex:e.sex||"",blood_group:e.blood_group||"",religion:e.religion||"",aadhar_card_no:e.aadhar_card_no||"",stud_id:e.studentinformation.student_id||"",teacher_image_name:e.teacher_image_name||null,special_sub:e.special_sub||""})}else i.data&&403===i.data.status?hp.error("Character Certificate Already Generated. Please go to manage to download the Character Certificate."):hp.error("No data found for the selected student.")}catch(i){hp.error("Error fetching data for the selected student.")}finally{k(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(S?"opacity-50 cursor-not-allowed":""),disabled:S,children:S?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Search"})]})})}),w&&oe.jsx("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:oe.jsxs("div",{className:"card  px-3 rounded-md ",children:[oe.jsx("div",{className:" card-header mb-4 flex justify-between items-center ",children:oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Information"})}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-6  md:top-[15%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),oe.jsx("form",{onSubmit:W,className:"  md:mx-5 overflow-x-hidden shadow-md p-2 bg-gray-50 mb-4",children:oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1 pt-4 pb-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold  text-xs mb-2",children:["Sr No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"sr_no",name:"sr_no",readOnly:!0,value:C.sr_no,onChange:U,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),A.sr_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:A.sr_no}),O.sr_no&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.sr_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",name:"date",value:C.date,onChange:U,className:"input-field block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:O.date})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"stud_name",value:C.stud_name,onChange:U,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.stud_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.stud_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",value:C.dob,onChange:U,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",value:C.dob_words,onChange:U,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:O.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"class_division",className:"block font-bold  text-xs mb-2",children:["Class/Divsion ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_division",readOnly:!0,name:"class_division",value:C.class_division,onChange:U,className:"input-field block w-full outline-none border border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.class_division&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:O.class_division})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"employeeId",className:"block font-bold  text-xs mb-2",children:["Attempt ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:50,id:"employeeId",name:"attempt",value:C.attempt,onChange:U,className:"input-field block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.attempt&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:O.attempt})]}),oe.jsx("div",{className:"col-span-3 text-right",children:oe.jsx("button",{type:"submit",onClick:W,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(N?"opacity-50 cursor-not-allowed":""),disabled:N,children:N?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Generate PDF"})})]})})]})})]})]})};function _ie(){var e;const t="https://sms.evolvu.in/public",[a,r]=Q.useState("Manage"),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(!1),[c,u]=Q.useState(!1),[m,h]=Q.useState(!1),[f,x]=Q.useState(null),[g,b]=Q.useState(""),v=Q.useRef(0),y=Q.useRef(""),[w,j]=Q.useState(""),[N,_]=Q.useState([]),[S,k]=Q.useState(""),[C,E]=Q.useState(0),[T,O]=Q.useState(0),[D,A]=Q.useState(null),[P,M]=Q.useState(null),[L,I]=Q.useState(null),[F,R]=Q.useState(""),[$,B]=Q.useState(""),[z,U]=Q.useState(""),[H,W]=Q.useState(""),[Y,q]=Q.useState(""),[V,G]=Q.useState(""),K=sm(),[X,J]=Q.useState(!1),Z=rm(),ee=(null==(e=Z.state)?void 0:e.section_id)||null;console.log("chracter section id",ee),Q.useEffect((()=>{re(),ne()}),[]),Q.useEffect((()=>{var e;(null==(e=Z.state)?void 0:e.section_id)&&(j(Z.state.section_id),se(Z.state.section_id),window.history.replaceState({},document.title))}),[Z.state]);const te=N.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",te);const ae=n.map((e=>{var t,a;return{value:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name}-${e.name}`,label:`${null==(a=null==e?void 0:e.get_class)?void 0:a.name} ${e.name}`}})),re=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(s(a.data),console.log("the name and section",a.data)):A("Unexpected data format")}catch(e){console.error("Error fetching class and section names:",e),A("Error fetching class and section names")}})),ne=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});_(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(e){A(e.message)}})),se=()=>p(this,null,(function*(){var e,a,r;if(X)return;J(!0),M(""),k("");const n=w||(null==(e=Z.state)?void 0:e.section_id);if(!n)return M("Please select the class."),void J(!1);try{console.log("Searching with section ID:",n);const e=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/get_characterbonafidecertificatelist`,{headers:{Authorization:`Bearer ${e}`},params:{q:n}});console.log("Chracter Certificate List Response:",s.data),(null==(r=null==(a=null==s?void 0:s.data)?void 0:a.data)?void 0:r.length)>0?(o(s.data.data),O(Math.ceil(s.data.data.length/10))):(o([]),hp.error("No Chracter certificates found for the selected class."))}catch(s){console.error("Error fetching Chracter certificates:",s),A("Error fetching Chracter certificates")}finally{J(!1)}})),le=()=>{d(!1),u(!1),h(!1)};Q.useEffect((()=>{const e=S.trim().toLowerCase();""!==e&&""===y.current&&(v.current=C,E(0)),""===e&&""!==y.current&&E(v.current),y.current=e}),[S]);const ie=S.trim().toLowerCase(),de=l.filter((e=>((null==e?void 0:e.stud_name.toLowerCase())||"").toLowerCase().includes(ie)));Q.useEffect((()=>{O(Math.ceil(de.length/10))}),[de,10]);const ce=de.slice(10*C,10*(C+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Character Certificate"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{K("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row relative -top-4",children:["Manage","CreateCharacterCertificate"].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(a===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{r(e),"Manage"===e&&se()})(e),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===a&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-4 w-full md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:L,onChange:e=>{M(""),I(e),j(e?e.value:null)},options:ae,placeholder:"Select Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),P&&oe.jsx("div",{className:" relative top-0.5 left-3 ml-1 text-danger text-xs",children:P})," "]}),oe.jsx("button",{onClick:se,type:"button",className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",disabled:X,children:X?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})]})})}),l.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:["Manage Character Certificate"," "]}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>k(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class/Division"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Status"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Download"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Issue"})]})}),oe.jsx("tbody",{children:ce.length?ce.map(((e,t)=>{let a="",r=!1,n=!1,s=!1,o=!1;return"Y"===e.IsDeleted?a="Deleted":"Y"===e.IsIssued?(a="Issued",s=!0,o=!0):"Y"===e.IsGenerated&&(a="Generated",r=!0,n=!0,s=!0,o=!0),oe.jsxs("tr",{className:" text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*C+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.stud_name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.class_division}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:a}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:o&&oe.jsx("button",{onClick:()=>{return x(t=e),console.log("currentedit",t),void d(!0);var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(pie,{})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:s&&oe.jsx("button",{onClick:()=>(e=>{x(e);const t=e.class_division;console.log("Navigating to edit with section_id:",t),K(`/stud_char/edit/${null==e?void 0:e.sr_no}`,{state:{student:e,section_id:t}})})(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:n&&oe.jsx("button",{onClick:()=>(e=>{const t=l.find((t=>t.sr_no===e));console.log("classsToDelete",t),t?(x(t),b(null==t?void 0:t.stud_name),h(!0)):console.error("Character Certificate not found for deletion")})(null==e?void 0:e.sr_no),className:"text-red-600 hover:text-red-800 hover:bg-transparent",children:oe.jsx(zM,{icon:VM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:r&&oe.jsx("button",{onClick:()=>{return x(t=e),console.log("currentedit",t),void u(!0);var t},className:"text-green-600 hover:text-green-800 hover:bg-transparent",children:oe.jsx(xie,{})})})]},e.sr_no)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:T,onPageChange:e=>{E(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"CreateCharacterCertificate"===a&&oe.jsx("div",{children:oe.jsx(Nie,{})})]})]}),c&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Issue"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to issue this certificate"," ",` ${null==f?void 0:f.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e||!f||!f.sr_no)throw new Error("Token or Serial Number is missing");G(""),console.log("class_name:",F,"subject_name:",$,"exam_name:",z,"marks_heading:",H,"highest_marks:",Y),yield Uf.put(`${t}/api/update_characterisIssued/${f.sr_no}`,{},{headers:{Authorization:`Bearer ${e}`}}),se(),hp.success("Character issue status updated successfully!"),le()}catch(e){e.response&&e.response.data?hp.error(`Error updating Character issue status: ${e.response.data.error}`):hp.error(`Error updating Character issue status: ${e.message}`),console.error("Error Character issue status:",e)}finally{J(!1)}})),disabled:X,children:X?"Issuing...":"Issue"})})]})})})}),i&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Download"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to Download this certificate"," ",` ${null==f?void 0:f.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!X){J(!0);try{const e=localStorage.getItem("authToken");if(console.log("the sr for download",f.sr_no),!e||!f||!f.sr_no)throw new Error("Token or Serial Number is missing");const a=yield Uf.get(`${t}/api/get_characterisDownload/${f.sr_no}`,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200!==a.status)throw new Error("Failed to download the file");{hp.success("Character certificate downloaded successfully!");const e=a.headers["content-disposition"];let t="DownloadedCertificate.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const r=new Blob([a.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),se(),le()}}catch(e){e.response&&e.response.data?hp.error(`Error in Downloading Character Certificate: ${e.response.data.error}`):hp.error(`Error in Downloading Character Certificate: ${e.message}`),console.error("Error in Downloading Character Certificate:",e)}finally{J(!1)}}})),disabled:X,children:X?"Downloading...":"Download"})})]})})})}),m&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this certificate of"," ",` ${g} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!X){J(!0);try{const e=localStorage.getItem("authToken"),a=null==f?void 0:f.sr_no;if(!e||!a)throw new Error("Token or Serial Number is missing");yield Uf.delete(`${t}/api/delete_characterisDeleted/${a}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),se(),h(!1),hp.success("Character deleted successfully!")}catch(e){e.response&&e.response.data?hp.error(`Error deleting Character: ${e.response.data.message}`):hp.error(`Error deleting Character: ${e.message}`),console.error("Error deleting Character:",e)}finally{J(!1),h(!1)}}})),disabled:X,children:X?"Deleting...":"Delete"})})]})})})})]})}const Sie=()=>{var t;const a="https://sms.evolvu.in/public",[r,n]=Q.useState(null),[s,l]=Q.useState([]),[o,i]=Q.useState([]),[d,c]=Q.useState(null),[h,f]=Q.useState(null),[x,g]=Q.useState(""),[b,v]=Q.useState(""),[y,w]=Q.useState(null),[j,N]=Q.useState(null),[_,S]=Q.useState(!1),[k,C]=Q.useState(!1),[E,T]=Q.useState({}),[O,D]=Q.useState(0),[A,P]=Q.useState(0);sm();const[M,L]=Q.useState({sr_no:"",roll_no:"",date:"",stud_name:"",stud_id:"",class_division:"",teacher_image_name:null}),[I,F]=Q.useState({}),[R,$]=Q.useState({}),B=(new Date).toISOString().split("T")[0],[z,U]=Q.useState(!1),[H,W]=Q.useState(!1);Q.useEffect((()=>{Y()}),[]);const Y=()=>p(e,null,(function*(){var e;try{U(!0),W(!0);const t=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${a}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${t}`}}),Uf.get(`${a}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${t}`}})]);l(r.data||[]),i((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(t){hp.error("Error fetching data.")}finally{U(!1),W(!1)}})),q=Q.useMemo((()=>{const e=["10","11","12"];return s.filter((t=>{var a;return e.includes(null==(a=null==t?void 0:t.get_class)?void 0:a.name)})).map((e=>{var t;return{value:e.section_id,label:`${(null==(t=null==e?void 0:e.get_class)?void 0:t.name)||""} ${e.name||""} (${e.students_count||0})`,key:`${e.class_id}-${e.section_id}`}}))}),[s]),V=Q.useMemo((()=>o.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`})))),[o]),G=e=>{const{name:t,value:a}=e.target;L((e=>m(u({},e),{[t]:a})));let r={};"stud_name"===t&&(a?/^\d/.test(a)&&(r.stud_name="Student name should not start with a number"):r.stud_name="This field is required"),!a&&["roll_no","date","class_division","roll_no"].includes(t)&&(r[t]="This field is required"),F((e=>m(u({},e),{[t]:r[t]})))},K=e=>{var t,a,r,n,s;const l=null==(a=null==(t=M.classsubject)?void 0:t.find((e=>"MATHEMATICS STANDARD"===e.name)))?void 0:a.c_sm_id,o=null==(n=null==(r=M.classsubject)?void 0:r.find((e=>"BASIC MATHEMATICS"===e.name)))?void 0:n.c_sm_id,i=3==l&&7==o;let d=Object.entries(e).reduce(((e,[t,a])=>i&&t==o?e:e+(parseInt(a,10)||0)),0),c=(null==(s=M.classsubject)?void 0:s.length)||0;i&&(c-=1),D(d);const u=c>0?d/(100*c)*100:0;P(u.toFixed(2)),console.log("totalMarks",d,"subjectCount",c,"calculatedPercentage",u)};console.log("marks",E);const X=()=>{const e=Object.entries(E).map((([e,t])=>({c_sm_id:parseInt(e),marks:parseInt(t)||""})));return console.log("prepareSubmissionData",X),{roll_no:M.roll_no,stud_name:M.stud_name,class_division:M.class_division,percentage:A,total:O,stud_id:M.stud_id,class:e,date:M.date}},J=t=>p(e,null,(function*(){var e;if(t.preventDefault(),console.log("Submit process started"),F({}),$({}),!(()=>{var e;const t={};return["roll_no","date","stud_name","class_division","roll_no"].forEach((e=>{M[e]||(t[e]="This field is required.")})),null==(e=M.classsubject)||e.forEach((e=>{const a=E[e.c_sm_id];if(3===e.c_sm_id||7===e.c_sm_id){const e=E[3],a=E[7];return e||a||(t[3]='Either "standard maths" or "basic maths" marks are required.',t[7]='Either "standard maths" or "basic maths" marks are required.'),void(e&&a&&(""!==e||""!==a)&&(t[3]='Only one of "standard maths" or "basic maths" can be filled.',t[7]='Only one of "standard maths" or "basic maths" can be filled.'))}void 0===a||""===a||0===a?t[e.c_sm_id]="Marks are required.":isNaN(a)?t[e.c_sm_id]="Marks should be numeric.":(parseFloat(a)>100||parseFloat(a)<1)&&(t[e.c_sm_id]=`${e.name} Marks should not exceed 100.`)})),F(t),0===Object.keys(t).length})())return void console.log("Validation failed, stopping submission");console.log("Validation passed, proceeding with submission");const r=X();console.log("dataTosubmkit",r);try{S(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const t=yield Uf.post(`${a}/api/save_pdfpercentagebonafide`,r,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===t.status){hp.success("Percentage Certificate Created successfully!");const e=t.headers["content-disposition"];let a="DownloadedFile.pdf";if(e){const t=e.match(/filename="(.+?)"/);t&&t[1]&&(a=t[1])}const r=new Blob([t.data],{type:"application/pdf"}),s=URL.createObjectURL(r),l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),document.body.removeChild(l),L({sr_no:"",roll_no:"",date:"",stud_name:"",stud_id:"",class_division:""}),T({}),D(0),P(0),w(null),n(null),setTimeout((()=>N(null)),3e3)}}catch(s){console.error("Error:",(null==(e=s.response)?void 0:e.data)||s.message),hp.error("An error occurred while Creating the Percentage Certificate."),s.response&&s.response.data?$(s.response.data):hp.error("Unknown error occurred.")}finally{S(!1)}}));return oe.jsxs("div",{className:"",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"     w-full md:container mt-4",children:[oe.jsx("div",{className:"w-[95%] flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg border border-gray-400 shadow-md mx-auto mt-10 p-6",children:oe.jsx("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:"Class"}),oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx(Soe,{id:"classSelect",value:y,onChange:t=>{w(t),n(null),f(null),c(null==t?void 0:t.value),((t=null)=>{p(e,null,(function*(){var e;try{W(!0);const r=t?{section_id:t}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${a}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});i((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(r){hp.error("Error fetching students.")}finally{W(!1)}}))})(null==t?void 0:t.value)},options:q,placeholder:z?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:z})})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[98%] my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[50%] text-md mt-1.5",htmlFor:"studentSelect",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:r,onChange:e=>{g(""),n(e),f(null==e?void 0:e.value)},options:V,placeholder:H?"Loading students...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:H}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,t,n,s;if(g(""),v(""),F({}),!r)return g("Please select Student Name."),void hp.error("Please select Student Name.!");L({sr_no:"",roll_no:"",date:"",stud_name:"",stud_id:" ",class_division:"",teacher_image_name:null}),T({}),D(0),P(0);try{C(!0);const r=localStorage.getItem("authToken"),l=yield Uf.get(`${a}/api/get_srnopercentagebonafide/${h}`,{headers:{Authorization:`Bearer ${r}`}});if(null==(e=null==l?void 0:l.data)?void 0:e.data){const e=l.data.data;N(e),L({classsubject:e.classsubject||"",sr_no:e.sr_no||"",roll_no:e.studentinformation.roll_no||"",date:B||"",stud_name:`${(null==(t=e.studentinformation)?void 0:t.first_name)||""} ${(null==(n=e.studentinformation)?void 0:n.mid_name)||""} ${(null==(s=e.studentinformation)?void 0:s.last_name)||""}`,stud_id:e.studentinformation.student_id||" ",class_division:`${e.studentinformation.classname}-${e.studentinformation.sectionname}`||"",teacher_image_name:e.studentinformation.father_image_name||null,purpose:e.purpose||" "})}else l.data&&403===l.data.status?hp.error("Percentage Certificate Already Generated. Please go to manage to download the Percentage Certificate."):hp.error("No data found for the selected student.")}catch(l){console.log("error is",l),hp.error("Error fetching data for the selected student.")}finally{C(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(k?"opacity-50 cursor-not-allowed":""),disabled:k,children:k?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Search"})]})})}),j&&oe.jsx("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:oe.jsxs("div",{className:"    card  px-3 rounded-md ",children:[oe.jsx("div",{className:" card-header mb-4 flex justify-between items-center  ",children:oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Information"})}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-8  md:top-[5%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),oe.jsxs("form",{onSubmit:J,className:" w-full gap-x-1 md:gap-x-14  gap-y-1   overflow-x-hidden shadow-md p-4  bg-gray-50 mb-4",children:[oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 pb-2",children:"Student Details"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold text-xs mb-2",children:["Sr No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"sr_no",name:"sr_no",value:M.sr_no,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date",className:"block font-bold text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date",name:"date",value:M.date,onChange:G,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:I.date})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"roll_no",className:"block font-bold text-xs mb-2",children:["Roll No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"roll_no",name:"roll_no",maxLength:10,value:M.roll_no,onChange:G,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),I.roll_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:I.roll_no})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"stud_name",value:M.stud_name,onChange:G,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),I.stud_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2 ",children:I.stud_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"class_division",className:"block font-bold text-xs mb-2",children:["Class/Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_division",name:"class_division",value:M.class_division,onChange:e=>L(m(u({},M),{class_division:e.target.value})),readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.class_division&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:I.class_division})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsxs("h5",{className:"col-span-4 text-blue-400 py-2",children:["Academic Performance"," "]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[null==(t=M.classsubject)?void 0:t.map((e=>oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:`subject-${e.c_sm_id}`,className:"block font-bold text-xs mb-2",children:[e.name," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",id:`subject-${e.c_sm_id}`,name:`subject-${e.c_sm_id}`,value:E[e.c_sm_id]||"",onChange:t=>((e,t)=>{""===t?(F((t=>m(u({},t),{[e]:""}))),T((t=>{const a=m(u({},t),{[e]:""});return K(a),a}))):/^\d+$/.test(t)?t.length>3?F((t=>m(u({},t),{[e]:"Marks cannot exceed 3 characters."}))):F((t=>m(u({},t),{[e]:""}))):F((t=>m(u({},t),{[e]:"Marks should be numeric."})));const a=parseInt(t,10)||0;T((t=>{var r,n,s,l,o;const i=m(u({},t),{[e]:a});console.log("updatedMarks",i);const d=null==(n=null==(r=M.classsubject)?void 0:r.find((e=>"MATHEMATICS STANDARD"===e.name)))?void 0:n.c_sm_id,c=null==(l=null==(s=M.classsubject)?void 0:s.find((e=>"BASIC MATHEMATICS"===e.name)))?void 0:l.c_sm_id,h=3==d&&7==c;let f=Object.entries(i).reduce(((e,[t,a])=>h&&t===c?e:e+a),0),p=(null==(o=M.classsubject)?void 0:o.length)||0;h&&(p-=1),D(f);const x=p>0?f/(100*p)*100:0;return P(x.toFixed(2)),console.log("totalMarks",f,"subjectCount",p,"calculatedPercentage",x),i}))})(e.c_sm_id,t.target.value),maxLength:3,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-white shadow-inner"}),I[e.c_sm_id]&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:I[e.c_sm_id]})]},e.c_sm_id))),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"total",className:"block font-bold text-xs mb-2",children:"Total"}),oe.jsx("input",{type:"number",id:"total",name:"total",value:O,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"percentage",className:"block font-bold text-xs mb-2",children:"Percentage"}),oe.jsx("input",{type:"number",id:"percentage",name:"percentage",value:A,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]})]})]}),oe.jsx("div",{className:"col-span-3 text-right",children:oe.jsx("button",{type:"submit",onClick:J,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(_?"opacity-50 cursor-not-allowed":""),disabled:_,children:_?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Generate PDF"})})]})]})})]})]})};function kie(){var e;const t="https://sms.evolvu.in/public",[a,r]=Q.useState("Manage"),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(!1),[c,u]=Q.useState(!1),[m,h]=Q.useState(!1),[f,x]=Q.useState(null),[g,b]=Q.useState(""),[v,y]=Q.useState(""),[w,j]=Q.useState([]),[N,_]=Q.useState(""),[S,k]=Q.useState(0),[C,E]=Q.useState(0),[T,O]=Q.useState(null),[D,A]=Q.useState(null),[P,M]=Q.useState(null),[L,I]=Q.useState(""),[F,R]=Q.useState(""),[$,B]=Q.useState(""),[z,U]=Q.useState(""),[H,W]=Q.useState(""),[Y,q]=Q.useState(""),V=sm(),[G,K]=Q.useState(!1),X=Q.useRef(0),J=Q.useRef(""),Z=rm(),ee=(null==(e=Z.state)?void 0:e.section_id)||null;console.log("cast section id",ee),Q.useEffect((()=>{re(),ne()}),[]),Q.useEffect((()=>{var e;(null==(e=Z.state)?void 0:e.section_id)&&(y(Z.state.section_id),se(Z.state.section_id),window.history.replaceState({},document.title))}),[Z.state]);const te=w.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",te);const ae=n.filter((e=>{var t,a;const r=null==(a=null==(t=null==e?void 0:e.get_class)?void 0:t.name)?void 0:a.toString();return["10","11","12"].includes(r)})).map((e=>{var t,a;return{value:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name}-${e.name}`,label:`${null==(a=null==e?void 0:e.get_class)?void 0:a.name} ${e.name}`}})),re=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(s(a.data),console.log("the name and section",a.data)):O("Unexpected data format")}catch(e){console.error("Error fetching class and section names:",e),O("Error fetching class and section names")}})),ne=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});j(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(e){O(e.message)}})),se=()=>p(this,null,(function*(){var e,a,r;if(G)return;K(!0),A(""),_("");const n=v||(null==(e=Z.state)?void 0:e.section_id);if(!n)return A("Please select the class."),void K(!1);try{console.log("Searching with section ID:",n);const e=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/get_percentagebonafidecertificatelist`,{headers:{Authorization:`Bearer ${e}`},params:{q:n}});console.log("Percentage Certificate List Response:",s.data),(null==(r=null==(a=null==s?void 0:s.data)?void 0:a.data)?void 0:r.length)>0?(o(s.data.data),E(Math.ceil(s.data.data.length/10))):(o([]),hp.error("No Percentage certificates found for the selected class."))}catch(s){console.error("Error fetching Percentage certificates:",s),O("Error fetching Percentage certificates")}finally{K(!1)}})),le=()=>{d(!1),u(!1),h(!1)};Q.useEffect((()=>{const e=N.trim().toLowerCase();""!==e&&""===J.current&&(X.current=S,k(0)),""===e&&""!==J.current&&k(X.current),J.current=e}),[N]);const ie=N.trim().toLowerCase(),de=l.filter((e=>((null==e?void 0:e.stud_name.toLowerCase())||"").toLowerCase().includes(ie))).slice(10*S,10*(S+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Percentage Certificate"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{V("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row relative -top-4",children:["Manage","CreatePercentageCertificate"].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(a===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{r(e),"Manage"===e&&se()})(e),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===a&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-4 w-full md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:P,onChange:e=>{A(""),M(e),y(e?e.value:null)},options:ae,placeholder:"Select Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),D&&oe.jsx("div",{className:" relative top-0.5 left-3 ml-1 text-danger text-xs",children:D})," "]}),oe.jsx("button",{onClick:se,type:"button",className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",disabled:G,children:G?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})]})})}),l.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:["Manage Percentage Certificate"," "]}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>_(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class/Division"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Status"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Download"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Issue"})]})}),oe.jsx("tbody",{children:de.length?de.map(((e,t)=>{let a="",r=!1,n=!1,s=!1,o=!1;return"Y"===e.IsDeleted?a="Deleted":"Y"===e.IsIssued?(a="Issued",s=!0,o=!0):"Y"===e.IsGenerated&&(a="Generated",r=!0,n=!0,s=!0,o=!0),oe.jsxs("tr",{className:"text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*S+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.stud_name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.class_division}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:a}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:o&&oe.jsx("button",{onClick:()=>{return x(t=e),console.log("currentedit",t),void d(!0);var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(pie,{})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:s&&oe.jsx("button",{onClick:()=>(e=>{x(e);const t=e.class_division;console.log("Navigating to edit with section_id:",t),V(`/stud_Percent/edit/${null==e?void 0:e.sr_no}`,{state:{student:e,section_id:t}})})(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:n&&oe.jsx("button",{onClick:()=>(e=>{const t=l.find((t=>t.sr_no===e));console.log("classsToDelete",t),t?(x(t),b(null==t?void 0:t.stud_name),h(!0)):console.error("Character Certificate not found for deletion")})(null==e?void 0:e.sr_no),className:"text-red-600 hover:text-red-800 hover:bg-transparent",children:oe.jsx(zM,{icon:VM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:r&&oe.jsx("button",{onClick:()=>{return x(t=e),console.log("currentedit",t),void u(!0);var t},className:"text-green-600 hover:text-green-800 hover:bg-transparent",children:oe.jsx(xie,{})})})]},e.sr_no)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:C,onPageChange:e=>{k(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"CreatePercentageCertificate"===a&&oe.jsx("div",{children:oe.jsx(Sie,{})})]})]}),c&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Issue"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to issue this certificate"," ",` ${null==f?void 0:f.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!G){K(!0);try{const e=localStorage.getItem("authToken");if(!e||!f||!f.sr_no)throw new Error("Token or Serial Number is missing");q(""),console.log("class_name:",L,"subject_name:",F,"exam_name:",$,"marks_heading:",z,"highest_marks:",H),yield Uf.put(`${t}/api/update_percentageisIssued/${f.sr_no}`,{},{headers:{Authorization:`Bearer ${e}`}}),se(),hp.success("Percentage issue status updated successfully!"),le()}catch(e){e.response&&e.response.data?hp.error(`Error updating Percentage issue status: ${e.response.data.error}`):hp.error(`Error updating Percentage issue status: ${e.message}`),console.error("Error Percentage issue status:",e)}finally{K(!1)}}})),disabled:G,children:G?"Issuing...":"Issue"})})]})})})}),i&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Download"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to Download this certificate"," ",` ${null==f?void 0:f.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!G){K(!0);try{const e=localStorage.getItem("authToken");if(console.log("the sr for download",f.sr_no),!e||!f||!f.sr_no)throw new Error("Token or Serial Number is missing");const a=yield Uf.get(`${t}/api/get_percentageisDownload/${f.sr_no}`,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200!==a.status)throw new Error("Failed to download the file");{hp.success("Percentage certificate downloaded successfully!");const e=a.headers["content-disposition"];let t="DownloadedCertificate.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const r=new Blob([a.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),se(),le()}}catch(e){e.response&&e.response.data?hp.error(`Error in Downloading Percentage Certificate: ${e.response.data.error}`):hp.error(`Error in Downloading Percentage Certificate: ${e.message}`),console.error("Error in Downloading Percentage Certificate:",e)}finally{K(!1)}}})),disabled:G,children:G?"Downloading...":"Download"})})]})})})}),m&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:le}),console.log("the currecnt section inside delete of the managesubjhect",f)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this certificate of"," ",` ${g} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!G){K(!0);try{const e=localStorage.getItem("authToken"),a=null==f?void 0:f.sr_no;if(!e||!a)throw new Error("Token or Serial Number is missing");yield Uf.delete(`${t}/api/delete_percentageisDeleted/${a}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),se(),h(!1),hp.success("Percentage deleted successfully!")}catch(e){e.response&&e.response.data?hp.error(`Error deleting Percentage: ${e.response.data.message}`):hp.error(`Error deleting Percentage: ${e.message}`),console.error("Error deleting Percentage:",e)}finally{K(!1),h(!1)}}})),disabled:G,children:G?"Deleting...":"Delete"})})]})})})})]})}const Cie=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(null),[c,h]=Q.useState(null),[f,x]=Q.useState(""),[g,b]=Q.useState(""),[v,y]=Q.useState(null),[w,j]=Q.useState(""),[N,_]=Q.useState(null),[S,k]=Q.useState(!1),[C,E]=Q.useState(!1),[T,O]=Q.useState(!1),[D,A]=Q.useState([]);sm();const[P,M]=Q.useState({sr_no:"",grn_no:"",date:"",first_name:"",mid_name:"",last_name:"",udise_pen_no:"",stud_id_no:"",promoted_to:" ",last_exam:"",stud_id:"",father_name:"",mother_name:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",admission_date:"",admission_class:"",attendance:"",subjectsFor:[],subjects:[],reason_leaving:"",application_date:"",leaving_date:"",standard_studying:"",dob_proof:"",class_id_for_subj:"",stu_aadhaar_no:"",teacher_image_name:null,academicStudent:[],academic_yr:"",part_of:""}),L=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[I,F]=Q.useState({}),[R,$]=Q.useState({}),B=(new Date).toISOString().split("T")[0],[z,U]=Q.useState(!1),[H,W]=Q.useState(!1);Q.useEffect((()=>{Y()}),[]);const Y=()=>p(e,null,(function*(){var e;try{U(!0),W(!0);const a=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${a}`}}),Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${a}`}})]);s(r.data||[]),o((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching data.")}finally{U(!1),W(!1)}})),q=Q.useMemo((()=>n.map((e=>{var t;return{value:e.section_id,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name} (${e.students_count})`,key:`${e.class_id}-${e.section_id}`}}))),[n]),V=Q.useMemo((()=>l.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`.trim()||""})))),[l]),G=t=>p(e,null,(function*(){const{name:e,value:a,type:r,checked:n}=t.target;M("checkbox"===r?t=>{const r=n?[...t[e],a]:t[e].filter((e=>e!==a));return m(u({},t),{[e]:r})}:t=>u(u(m(u({},t),{[e]:a}),"dob"===e&&{dob_words:L(a)}),"academic_yr"===e&&{academic_yr:a}));let s={};if("first_name"===e&&/^\d/.test(a)&&(s.first_name="Student Name should not start with a number"),"father_name"===e&&/^\d/.test(a)&&(s.father_name="Father's Name should not start with a number"),"mother_name"===e&&/^\d/.test(a)&&(s.mother_name="Mother's Name should not start with a number"),F((t=>m(u({},t),{[e]:s[e]}))),"academic_yr"===e)try{yield K(a)}catch(l){console.error("Failed to fetch data for academic year",l)}}));console.log("academ,icyearchagne",P.academic_yr);const K=a=>p(e,null,(function*(){var e;if(F({}),a){M({grn_no:"",date:"",stud_id_no:"",stu_aadhaar_no:"",first_name:"",mid_name:"",last_name:"",father_name:"",mother_name:"",nationality:"",mother_tongue:"",religion:"",caste:"",subcaste:"",birth_place:"",dob:"",dob_words:"",dob_proof:"",prev_school_class:"",admission_date:"",admission_class:"",leaving_date:"",standard_studying:"",last_exam:"",subjects:[],promoted_to:"",attendance:"",fee_month:"",part_of:"",selectedActivities:[],application_date:"",conduct:"",reason_leaving:"",remark:"",academic_yr:"",stud_id:"",udise_pen_no:""});try{O(!0);const r=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_srnoleavingcertificateByAcademicyr/${c}/${a}`,{headers:{Authorization:`Bearer ${r}`}});if(null==(e=null==n?void 0:n.data)?void 0:e.data){const e=n.data.data;M((t=>m(u({},t),{academic_yr:a,sr_no:e.sr_no||"",class_id_for_subj:e.studentinformation.class_id||"",grn_no:e.studentinformation.reg_no||"",date:B||"",subjectsFor:e.classsubject||[],academicStudent:e.academicStudent||[],selectedSubjects:(e.classsubject||[]).map((e=>e.name)),stud_id_no:e.studentinformation.stud_id_no||"",first_name:e.studentinformation.first_name||"",mid_name:e.studentinformation.mid_name||"",last_name:e.studentinformation.last_name||"",udise_pen_no:e.studentinformation.udise_pen_no||"",promoted_to:e.studentinformation.promoted_to||"",last_exam:e.studentinformation.last_exam||"",stud_id:e.studentinformation.student_id||" ",father_name:e.studentinformation.father_name||"",mother_name:e.studentinformation.mother_name||"",admission_date:e.studentinformation.admission_date||"",religion:e.studentinformation.religion||"",caste:e.studentinformation.caste||"",subcaste:e.studentinformation.subcaste||"",birth_place:e.studentinformation.birth_place||"",state:e.studentinformation.state||"",mother_tongue:e.studentinformation.mother_tongue||"",dob:e.studentinformation.dob||"",dob_words:e.dobinwords||" ",attendance:e.total_attendance||"",nationality:e.studentinformation.nationality||"",stu_aadhaar_no:e.studentinformation.stu_aadhaar_no||"",teacher_image_name:e.studentinformation.father_image_name||null,purpose:e.purpose||" "})))}else hp.error("No data found for the selected academic year.")}catch(r){console.error("Error fetching data:",r),hp.error("Error fetching data for the selected academic year.")}finally{O(!1)}}else hp.error("Please select an academic year!")})),X=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},J=a=>p(e,null,(function*(){var e;if(a.preventDefault(),console.log("Submit process started"),F({}),$({}),!(()=>{const e={};return["grn_no","date","first_name","stud_id_no","promoted_to","last_exam","father_name","mother_name","birth_place","state","mother_tongue","dob","dob_words","nationality","prev_school_class","admission_date","admission_class","reason_leaving","application_date","leaving_date","standard_studying","dob_proof","stu_aadhaar_no","attendance","fee_month","remark","conduct"].forEach((t=>{P[t]||(e[t]="This field is required")})),i>427&&(P.udise_pen_no||(e.udise_pen_no="This field is required")),P.first_name&&/^\d/.test(P.first_name)&&(e.first_name="Student Name should not start with a number"),P.father_name&&/^\d/.test(P.father_name)&&(e.father_name="Father's Name should not start with a number"),P.mother_name&&/^\d/.test(P.mother_name)&&(e.mother_name="Mother's Name should not start with a number"),D&&0!==D.length||(e.activities="Please select at least one extra-curricular activity"),P.selectedSubjects&&0!==P.selectedSubjects.length||(e.selectedSubjects="Please select at least one subject"),P.dob_proof||(e.dob_proof="This field is required"),P.part_of||(e.part_of="This field is required"),P.academic_yr||(e.academic_yr="This field is required"),F(e),0===Object.keys(e).length})())return void console.log("Validation failed, stopping submission");console.log("Validation passed, proceeding with submission"),console.log("formData",P);const n={grn_no:P.grn_no||"",issue_date:X(P.date),stud_id_no:P.stud_id_no||"",stu_aadhaar_no:P.stu_aadhaar_no||"",first_name:P.first_name||"",mid_name:P.mid_name||"",last_name:P.last_name||"",father_name:P.father_name||"",mother_name:P.mother_name||"",nationality:P.nationality||"",mother_tongue:P.mother_tongue||"",religion:P.religion||"",caste:P.caste||"",subcaste:P.subcaste||"",birth_place:P.birth_place||"",dob:X(P.dob),dob_words:P.dob_words||"",dob_proof:P.dob_proof||"",previous_school_attended:P.prev_school_class||"",admission_date:X(P.admission_date),admission_class:P.admission_class||"",leaving_date:X(P.leaving_date),standard_studying:P.standard_studying||"",last_exam:P.last_exam||"",state:P.state||"",subjects:P.selectedSubjects||[],promoted_to:P.promoted_to||"",attendance:P.attendance||"",fee_month:P.fee_month||"",part_of:P.part_of||"",games:D||[],application_date:X(P.application_date),conduct:P.conduct||"",reason_leaving:P.reason_leaving||"",remark:P.remark||"",academic_yr:P.academic_yr||"",stud_id:P.stud_id||"",udise_pen_no:P.udise_pen_no||""};try{k(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.post(`${t}/api/save_pdfleavingcertificate`,n,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===a.status){hp.success("LC Certificate Generated successfully!");const e=a.headers["content-disposition"];let t="DownloadedFile.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const n=new Blob([a.data],{type:"application/pdf"}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l),M({sr_no:"",grn_no:"",date:"",first_name:"",mid_name:"",last_name:"",udise_pen_no:"",stud_id_no:"",promoted_to:" ",last_exam:"",stud_id:"",father_name:"",mother_name:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",admission_date:"",admission_class:"",attendance:"",subjectsFor:[],subjects:[],selectedActivities:[],reason_leaving:"",application_date:"",leaving_date:"",standard_studying:"",dob_proof:"",class_id_for_subj:"",stu_aadhaar_no:"",teacher_image_name:null,academicStudent:[],academic_yr:"",part_of:""}),y(null),j(""),r(null),setTimeout((()=>_(null)),3e3)}}catch(s){console.error("Error:",(null==(e=s.response)?void 0:e.data)||s.message),hp.error("An error occurred while Generating the LC Certificate."),s.response&&s.response.data?$(s.response.data):hp.error("Unknown error occurred.")}finally{k(!1)}})),Z=e=>{const{value:t,checked:a}=e.target;let r;a?(r=[...D,t],A(r)):(r=D.filter((e=>e!==t)),A(r)),r.length>0&&F((e=>m(u({},e),{activities:null})))},ee=(e,t)=>{M((a=>{const r=e.target.checked?[...a.selectedSubjects,t]:a.selectedSubjects.filter((e=>e!==t));return r.length>0&&F((e=>m(u({},e),{selectedSubjects:null}))),m(u({},a),{selectedSubjects:r})}))};return console.log("handleSubjectSelection",P.selectedSubjects),oe.jsxs("div",{className:"",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"     w-full md:container mt-4",children:[oe.jsx("div",{className:"w-[95%] flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg border border-gray-900 shadow-md mx-auto mt-10 p-6",children:oe.jsx("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:"Class"}),oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx(Soe,{id:"classSelect",value:v,onChange:a=>{var n;y(a);const s=(null==(n=null==a?void 0:a.label)?void 0:n.split(" ")[0])||"";j(s),r(null),h(null),d(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e;try{W(!0);const r=a?{section_id:a}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});o((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(r){hp.error("Error fetching students.")}finally{W(!1)}}))})(null==a?void 0:a.value)},options:q,placeholder:z?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:z})})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[98%] my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[50%] text-md mt-1.5",htmlFor:"studentSelect",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:a,onChange:e=>{x(""),r(e),h(null==e?void 0:e.value)},options:V,placeholder:H?"Loading students...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:H}),f&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:f})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,r;if(x(""),b(""),F({}),!a)return x("Please select Student Name."),void hp.error("Please select Student Name.!");M({grn_no:"",date:"",stud_id_no:"",stu_aadhaar_no:"",first_name:"",mid_name:"",last_name:"",father_name:"",mother_name:"",nationality:"",mother_tongue:"",religion:"",caste:"",subcaste:"",birth_place:"",dob:"",dob_words:"",dob_proof:"",prev_school_class:"",admission_date:"",admission_class:"",leaving_date:"",standard_studying:"",last_exam:"",subjects:[],promoted_to:"",attendance:"",fee_month:"",part_of:"",selectedActivities:[],application_date:"",conduct:"",reason_leaving:"",remark:"",academic_yr:"",stud_id:"",udise_pen_no:""});try{E(!0);const a=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_srnoleavingcertificatedata/${c}`,{headers:{Authorization:`Bearer ${a}`}});if(null==(e=null==n?void 0:n.data)?void 0:e.data){const e=n.data.data;_(e);const t=(e.classsubject||[]).map((e=>e.name));console.log("fetchedData",e),M({sr_no:e.sr_no||"",class_id_for_subj:e.studentinformation.class_id||"",grn_no:e.studentinformation.reg_no||"",date:B||"",subjectsFor:e.classsubject||[],academicStudent:e.academicStudent||[],academic_yr:(null==(r=e.studentinformation)?void 0:r.academic_yr)||"",subjects:t,selectedSubjects:t,stud_id_no:e.studentinformation.stud_id_no||"",first_name:e.studentinformation.first_name||"",mid_name:e.studentinformation.mid_name||"",last_name:e.studentinformation.last_name||"",udise_pen_no:e.studentinformation.udise_pen_no||"",promoted_to:e.studentinformation.promoted_to||"",last_exam:e.studentinformation.last_exam||"",stud_id:e.studentinformation.student_id||" ",father_name:e.studentinformation.father_name||"",mother_name:e.studentinformation.mother_name||"",admission_date:e.studentinformation.admission_date||"",religion:e.studentinformation.religion||"",caste:e.studentinformation.caste||"",subcaste:e.studentinformation.subcaste||"",birth_place:e.studentinformation.birth_place||"",state:e.studentinformation.state||"",mother_tongue:e.studentinformation.mother_tongue||"",dob:e.studentinformation.dob||"",admission_class:e.studentinformation.admission_class||"",dob_words:e.dobinwords||" ",attendance:e.total_attendance||"",nationality:e.studentinformation.nationality||"",stu_aadhaar_no:e.studentinformation.stu_aadhaar_no||"",teacher_image_name:e.studentinformation.father_image_name||null,purpose:e.purpose||" "}),console.log("setFOrmData",P)}else n.data&&403===n.data.status?hp.error("Leaving Certificate Already Generated. Please go to manage to download the Leaving Certificate."):hp.error("No data found for the selected student.")}catch(n){console.log("error is now",n.response),hp.error(n.response.message)}finally{E(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(C?"opacity-50 cursor-not-allowed":""),disabled:C,children:C?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Search"})]})})}),T&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",N&&oe.jsx("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:oe.jsxs("div",{className:"    card  px-3 rounded-md ",children:[oe.jsx("div",{className:" card-header mb-4 flex justify-between items-center  ",children:oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Information"})}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-8  md:top-[5%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),oe.jsxs("form",{onSubmit:J,className:" w-full gap-x-1 md:gap-x-14  gap-y-1   overflow-x-hidden shadow-md p-4  bg-gray-50 mb-4",children:[oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 pb-2",children:"Document Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold text-xs mb-2",children:["LC No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"sr_no",name:"sr_no",value:P.sr_no,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"grn_no",className:"block font-bold text-xs mb-2",children:["General Register No."," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"grn_no",name:"grn_no",maxLength:10,value:P.grn_no,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.grn_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.grn_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date",className:"block font-bold text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date",name:"date",value:P.date,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.date})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Student Identity"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["First Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"first_name",value:P.first_name,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.first_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:I.first_name})]}),oe.jsxs("div",{className:" ",children:[oe.jsx("label",{htmlFor:"staffMidName",className:"block font-bold  text-xs mb-2",children:"Mid Name"}),oe.jsx("input",{type:"text",maxLength:200,id:"staffMidName",name:"mid_name",value:P.mid_name,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{className:" ",children:[oe.jsx("label",{htmlFor:"staffLastName",className:"block font-bold  text-xs mb-2",children:"Surname"}),oe.jsx("input",{type:"text",maxLength:200,id:"staffLastName",name:"last_name",value:P.last_name,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"stud_id_no",className:"block font-bold text-xs mb-2",children:["STUDENT ID NO ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"stud_id_no",name:"stud_id_no",maxLength:25,value:P.stud_id_no,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.stud_id_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.stud_id_no})]}),i>427&&oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:["Udise Pen No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"Udise_no",name:"udise_pen_no",maxLength:14,value:P.udise_pen_no,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner",onChange:G})," ",I.udise_pen_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.udise_pen_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"stu_aadhaar_no",className:"block font-bold text-xs mb-2",children:["UDI NO.(Aadhar Card No.)"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"stu_aadhaar_no",name:"stu_aadhaar_no",maxLength:12,value:P.stu_aadhaar_no,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.stu_aadhaar_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.stu_aadhaar_no})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Parent Details"}),oe.jsxs("div",{className:"w-full md:w-[80%]  grid grid-cols-1 md:grid-cols-2   gap-x-6 gap-4",children:[" ",oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"father_name",className:"block font-bold  text-xs mb-2",children:["Father's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,id:"father_name",name:"father_name",value:P.father_name,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.father_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:I.father_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"mother_name",className:"block font-bold text-xs mb-2",children:["Mother's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"mother_name",name:"mother_name",maxLength:50,value:P.mother_name,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.mother_name&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.mother_name})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Academic Details"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold text-xs mb-2",children:"Religion"}),oe.jsx("input",{type:"text",id:"religion",name:"religion",maxLength:20,value:P.religion,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"caste",className:"block font-bold text-xs mb-2",children:"Caste"}),oe.jsx("input",{type:"text",id:"caste",name:"caste",maxLength:20,value:P.caste,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]})," ",oe.jsxs("div",{className:"grid   col-span-2 row-span-2 ",children:[oe.jsxs("label",{htmlFor:"subjects",className:"block font-bold text-xs  col-span-3",children:["Subjects Studied ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),P.subjectsFor&&P.subjectsFor.length>0?P.subjectsFor.map(((e,t)=>oe.jsx("div",{className:"grid-col-3 relative ",children:oe.jsxs("label",{className:"",children:[oe.jsx("input",{type:"checkbox",name:"subjects",value:e.name,checked:P.selectedSubjects.includes(e.name),onChange:t=>ee(t,e.name),className:"form-checkbox h-4 w-4 text-blue-600"}),oe.jsx("span",{className:"ml-1 text-sm",children:e.name})]})},t))):oe.jsx("p",{className:"text-sm text-gray-500 col-span-3",children:"No subjects available"}),"10"==w&&oe.jsx("div",{className:"col-span-1 relative  ",children:oe.jsxs("label",{className:"inline-flex items-center",children:[oe.jsx("input",{type:"checkbox",name:"subjects",value:"Basic Mathematics",checked:P.selectedSubjects.includes("Basic Mathematics"),onChange:e=>ee(e,"Basic Mathematics"),className:"form-checkbox h-4 w-4 text-blue-600"}),oe.jsx("span",{className:"ml-1 text-sm",children:"Basic Mathematics"})]})}),I.selectedSubjects&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1 col-span-3",children:I.selectedSubjects})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"subcaste",className:"block font-bold text-xs mb-2",children:"Sub-Caste"}),oe.jsx("input",{type:"text",id:"subcaste",name:"subcaste",maxLength:100,value:P.subcaste,onChange:G,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"PromotedTo",className:"block font-bold text-xs mb-2",children:["Promoted to ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"PromotedTo",name:"promoted_to",maxLength:100,value:P.promoted_to,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.promoted_to&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.promoted_to})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"School/Board",className:"block font-bold text-xs mb-2",children:["School/Board Annual Exam Last Taken with Result"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"School/Board",name:"last_exam",maxLength:100,value:P.last_exam,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.last_exam&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.last_exam})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Personal Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"birthPlace",className:"block font-bold text-xs mb-2",children:["Birth Place ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"birthPlace",maxLength:20,name:"birth_place",value:P.birth_place,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.birth_place&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.birth_place})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"state",className:"block font-bold text-xs mb-2",children:["State ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"state",name:"state",maxLength:50,value:P.state,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.state&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.state})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"mother_tongue",className:"block font-bold text-xs mb-2",children:["Mother Tongue ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"mother_tongue",name:"mother_tongue",maxLength:50,value:P.mother_tongue,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.mother_tongue&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.mother_tongue})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",value:P.dob,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:I.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",value:P.dob_words,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:I.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"nationality",className:"block font-bold text-xs mb-2",children:["Nationality ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"nationality",name:"nationality",maxLength:100,value:P.nationality,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.nationality&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.nationality})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsxs("h5",{className:"col-span-4 text-blue-400 py-2",children:["Admission and School Records"," "]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4  gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"prev_school_class",className:"block font-bold text-xs mb-2",children:["Previous School Attended"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"prev_school_class",maxLength:100,name:"prev_school_class",value:P.prev_school_class,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.prev_school_class&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.prev_school_class})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"admission_date",className:"block font-bold text-xs mb-2",children:["Date of Admission"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"admission_date",name:"admission_date",value:P.admission_date,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.admission_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.admission_date})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"admission_class",className:"block font-bold text-xs mb-2 ",children:["Admitted in Class",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"admission_class",maxLength:100,name:"admission_class",value:null==P?void 0:P.admission_class,onChange:G,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),I.admission_class&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.admission_class})]})," ",oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"Date_of_Leaving_School",className:"block font-bold text-xs mb-2",children:["Date of Leaving School",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"Date_of_Leaving_School",name:"leaving_date",value:P.leaving_date,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.leaving_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.leaving_date})]})," ",oe.jsxs("div",{className:"",children:[oe.jsxs("label",{htmlFor:"dob_proof",className:"block font-bold text-xs mb-2",children:["Proof of DOB Submitted at the Time of Admission",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"dob_proof",name:"dob_proof",value:P.dob_proof,onChange:G,className:"block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"Birth Certificate",children:"Birth Certificate"}),oe.jsx("option",{value:"School Leaving Certificate",children:"School Leaving Certificate"}),oe.jsx("option",{value:"Aadhar Card",children:"Aadhar Card"}),oe.jsx("option",{value:"Passport",children:"Passport"})]}),I.dob_proof&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.dob_proof})]})," ",oe.jsxs("div",{className:"",children:[oe.jsxs("label",{htmlFor:"part_of",className:"block font-bold text-xs mb-2",children:["Whether Part of (NCC Cadet, Boy Scout, Girl Guide)",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"part_of",name:"part_of",value:P.part_of,onChange:G,className:"block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"NCC Cadet",children:"NCC Cadet"}),oe.jsx("option",{value:"Boy Scout",children:"Boy Scout"}),oe.jsx("option",{value:"Girl Guide",children:"Girl Guide"}),oe.jsx("option",{value:"N.A",children:"N.A"})]}),I.part_of&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.part_of})]}),oe.jsxs("div",{className:"mt-3",children:[oe.jsxs("label",{htmlFor:"reason_leaving",className:"block font-bold text-xs mb-2",children:["Reason for Leaving"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"reason_leaving",name:"reason_leaving",maxLength:100,value:P.reason_leaving,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.reason_leaving&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.reason_leaving})]}),oe.jsxs("div",{className:"mt-3",children:[oe.jsxs("label",{htmlFor:"application_date",className:"block font-bold text-xs mb-2",children:["Date of application for Certificate"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"application_date",name:"application_date",value:P.application_date,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.application_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.application_date})]}),oe.jsxs("div",{className:"grid col-span-4 row-span-1",children:[oe.jsxs("label",{htmlFor:"activities",className:"block font-bold text-xs mb-2",children:["Extra-Curricular Activities"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:"grid grid-cols-2 md:grid-cols-7 gap-2",children:["Football","Basketball","Volleyball","Tennis","Kho Kho","Table Tennis","Kabaddi","Cricket","Athletics","Dodgeball","Throwball","Handball","Tug of War","Gymnastics","Skating","Martial Arts","Badminton","Chess","Carrom"].map((e=>oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"checkbox",id:e,value:e,onChange:Z,className:"mr-2"}),oe.jsx("label",{htmlFor:e,className:"text-sm",children:e})]},e)))}),I.activities&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1 mt-2",children:I.activities})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"attendance",className:"block font-bold text-xs mb-2",children:["Attendance ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"attendance",maxLength:7,name:"attendance",value:P.attendance,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.attendance&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.attendance})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"fee_month",className:"block font-bold text-xs mb-2",children:["Month Up to Which School Fees are Paid"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"fee_month",name:"fee_month",maxLength:50,value:P.fee_month,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.fee_month&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.fee_month})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"standard_studying",className:"block font-bold text-xs mb-2",children:["Class in Which Last Studied in",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:20,id:"standard_studying",name:"standard_studying",value:P.standard_studying,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.standard_studying&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.standard_studying})]})," "]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Certificate Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"application_date",className:"block font-bold text-xs mb-2",children:["Date of Application for Certificate"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"application_date",name:"application_date",value:P.application_date,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.application_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.application_date})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"conduct",className:"block font-bold text-xs mb-2",children:["Conduct ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"conduct",name:"conduct",maxLength:100,value:P.conduct,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.conduct&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.conduct})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"remark",className:"block font-bold text-xs mb-2",children:["Any Other Remarks"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"remark",name:"remark",maxLength:100,value:P.remark,onChange:G,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),I.remark&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.remark})]}),oe.jsxs("div",{className:"mb-4",children:[oe.jsxs("label",{htmlFor:"academic_yr",className:"block font-bold text-xs mb-2",children:["Academic Year ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"academic_yr",name:"academic_yr",value:P.academic_yr||"",onChange:G,className:"block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),P.academicStudent&&P.academicStudent.length>0?P.academicStudent.map(((e,t)=>oe.jsx("option",{value:e.academic_yr,children:e.academic_yr},t))):oe.jsx("option",{value:"",disabled:!0,children:"No academic years available"})]}),I.academic_yr&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:I.academic_yr})]})]})]}),oe.jsxs("div",{className:"col-span-3 space-x-2 text-right",children:[oe.jsx("button",{type:"submit",onClick:J,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(S?"opacity-50 cursor-not-allowed":""),disabled:S,children:S?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Generate PDF"}),oe.jsx("button",{type:"button",onClick:()=>{M({sr_no:"",grn_no:"",date:"",first_name:"",mid_name:"",last_name:"",udise_pen_no:"",stud_id_no:"",promoted_to:" ",last_exam:"",stud_id:"",father_name:"",mother_name:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",admission_date:"",admission_class:"",attendance:"",subjectsFor:[],subjects:[],selectedActivities:[],reason_leaving:"",application_date:"",leaving_date:"",standard_studying:"",dob_proof:"",class_id_for_subj:"",stu_aadhaar_no:"",teacher_image_name:null,academicStudent:[],academic_yr:"",part_of:""}),_(null)},className:"text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})]})]})]})})]})]})};function Eie(){var e,t,a,r,n,s;const l="https://sms.evolvu.in/public",[o,i]=Q.useState("Manage"),[d,c]=Q.useState([]),[m,h]=Q.useState([]),[f,x]=Q.useState(!1),[g,b]=Q.useState(!1),[v,y]=Q.useState(!1),[w,j]=Q.useState(null),[N,_]=Q.useState(""),[S,k]=Q.useState(!1),[C,E]=Q.useState(!1),T=Q.useRef(0),O=Q.useRef(""),[D,A]=Q.useState(""),[P,M]=Q.useState([]),[L,I]=Q.useState(""),[F,R]=Q.useState(0),[$,B]=Q.useState(0),[z,U]=Q.useState(null),[H,W]=Q.useState(null),[Y,q]=Q.useState(null),[V,G]=Q.useState(""),[K,X]=Q.useState(""),[J,Z]=Q.useState(""),[ee,te]=Q.useState(""),[ae,re]=Q.useState(""),[ne,se]=Q.useState(""),[le,ie]=Q.useState(""),[de,ce]=Q.useState(""),ue=sm(),me=rm(),he=(null==(e=me.state)?void 0:e.sr_no)||(null==(a=null==(t=me.state)?void 0:t.student)?void 0:a.sr_no)||null,fe=(null==(r=me.state)?void 0:r.class_id)||(null==(s=null==(n=me.state)?void 0:n.student)?void 0:s.class_id)||null;console.log("LC - srNo:",he,"classId:",fe),Q.useEffect((()=>{ge(),be()}),[]),Q.useEffect((()=>{var e,t,a;((null==(e=me.state)?void 0:e.class_id)||(null==(a=null==(t=me.state)?void 0:t.student)?void 0:a.class_id))&&(ve(),window.history.replaceState({},document.title))}),[me.state]);const pe=P.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",pe);const xe=d.map((e=>({value:`${e.class_id}`,label:`${null==e?void 0:e.name}`}))),ge=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),t=yield Uf.get(`${l}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(t.data)?(c(t.data),console.log("the name and section",t.data)):U("Unexpected data format")}catch(e){console.error("Error fetching class and section names:",e),U("Error fetching class and section names")}})),be=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const t=yield Uf.get(`${l}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});M(t.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",t.data)}catch(e){U(e.message)}})),ve=()=>p(this,null,(function*(){var e,t,a,r,n;const s=localStorage.getItem("authToken"),o=(null==(e=me.state)?void 0:e.class_id)||(null==(a=null==(t=me.state)?void 0:t.student)?void 0:a.class_id)||null,i=D||o;let d=null;le&&i?d={sr_no:le,class_id:i}:le?d={sr_no:le}:i&&(d={class_id:i}),I("");try{E(!0);const e=yield Uf.get(`${l}/api/get_leavingcertificatelist`,u({headers:{Authorization:`Bearer ${s}`}},d?{params:d}:{}));(null==(n=null==(r=null==e?void 0:e.data)?void 0:r.data)?void 0:n.length)>0?(h(e.data.data),B(Math.ceil(e.data.data.length/10))):(h([]),hp.error("No Leaving Certificate records found."))}catch(c){hp.error("Error in fetching certificates Listing"),console.error("Error fetching Leaving Certificate records:",c),U("Error fetching Leaving Certificate records")}finally{E(!1)}})),ye=()=>{ce(""),x(!1),b(!1),y(!1)};Q.useEffect((()=>{const e=L.trim().toLowerCase();""!==e&&""===O.current&&(T.current=F,R(0)),""===e&&""!==O.current&&R(T.current),O.current=e}),[L]);const we=L.trim().toLowerCase(),je=m.filter((e=>((null==e?void 0:e.stud_name.toLowerCase())||"").toLowerCase().includes(we)));Q.useEffect((()=>{B(Math.ceil(je.length/10))}),[je,10]);const Ne=je.slice(10*F,10*(F+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-[90%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Leaving Certificate"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{ue("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:" w-full md:w-[30%]   grid grid-cols-2 -gap-x-4 px- md:px-10  md:gap-x-2 relative   md:flex md:flex-row  -top-4",children:["Manage","CreateLeavingCertificate"].map((e=>oe.jsx("li",{className:" shadow-md "+(o===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>(e=>{i(e),"Manage"===e&&ve()})(e),className:"px-1 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:e.replace(/([A-Z])/g," $1")})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===o&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"w-full md:w-[80%] flex md:flex-row justify-between items-center",children:[oe.jsxs("div",{className:"w-full md:w-[98%] mt-4    gap-x-0 md:gap-x-12 mx-auto   flex flex-col gap-y-2 md:gap-y-0 md:flex-row ",children:[oe.jsxs("div",{className:"w-full md:w-[30%] gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-md mt-1.5 mr-1 md:mr-0 w-[40%] md:w-[29%]",htmlFor:"classSelect",children:"LC No."})," ",oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx("input",{type:"text",value:le,onChange:e=>{const t=e.target.value;/^\d*$/.test(t)&&ie(t)},placeholder:"Enter LC No.",className:"text-sm w-full h-9 mr-0 md:mr-8 px-2 py-1 border-1 border-gray-300 rounded-md"})})]}),oe.jsxs("div",{className:"w-full md:w-[50%]   gap-x-4  justify-between  my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:" ml-0 md:ml-2 relative left-0 md:left-4  w-full md:w-[35%]  text-md mt-1.5 ",htmlFor:"studentSelect",children:"Select Class"})," ",oe.jsxs("div",{className:"w-full md:w-[60%] ",children:[oe.jsx(Soe,{value:Y,onChange:e=>{W(""),q(e),A(e.value)},options:xe,placeholder:"Select Class",isSearchable:!0,isClearable:!0,className:"text-sm w-full item-center relative left-0 md:left-4"}),H&&oe.jsx("div",{className:"relative top-0.5 left-3 ml-1 text-danger text-xs",children:H})]})]}),oe.jsx("button",{type:"search",onClick:ve,style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(C?"opacity-50 cursor-not-allowed":""),disabled:C,children:C?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})]})," "]})})}),m.length>0&&oe.jsx("div",{className:"w-full md:w-[85%] mx-auto mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Leaving Certificate"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>I(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body   w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"LC No."}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class/Division"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Status"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Download"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Issue"})]})}),oe.jsx("tbody",{children:Ne.length?Ne.map(((e,t)=>{let a="",r=!1,n=!1,s=!1,l=!1;return"Y"===e.IsDelete?a="Cancelled":"Y"===e.IsIssued?(a="Issued",s=!0,l=!0):"Y"===e.IsGenerated&&(a="Generated",r=!0,n=!0,s=!0,l=!0),oe.jsxs("tr",{className:" text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*F+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.sr_no}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:(null==e?void 0:e.stud_name)||(null==e?void 0:e.mid_name)||(null==e?void 0:e.last_name)?[null==e?void 0:e.stud_name,null==e?void 0:e.mid_name,null==e?void 0:e.last_name].filter(Boolean).join(" "):""}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:[null==e?void 0:e.classname," ",null==e?void 0:e.sectionname]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:a})," ",oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:l&&oe.jsx("button",{onClick:()=>{return j(t=e),console.log("currentedit",t),void x(!0);var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(pie,{})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:s&&oe.jsx("button",{onClick:()=>(e=>{j(e);const t=e.sr_no,a=e.class_id||e.class_division||e.section_id;console.log("Navigating to edit with sr_no:",he,"and class_id:",a),ue(`/studentLC/edit/${t}`,{state:{student:e,sr_no:he,class_id:a}})})(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:n&&oe.jsx("button",{onClick:()=>(e=>{const t=m.find((t=>t.sr_no===e));console.log("classsToDelete",t),t?(j(t),_(null==t?void 0:t.stud_name),y(!0)):console.error("Cast certificate not found for deletion")})(null==e?void 0:e.sr_no),className:"text-red-600 hover:text-red-800 hover:bg-transparent",children:oe.jsx(zM,{icon:VM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:r&&oe.jsx("button",{onClick:()=>{return j(t=e),console.log("currentedit",t),void b(!0);var t},className:"text-green-600 hover:text-green-800 hover:bg-transparent",children:oe.jsx(xie,{})})})]},e.sr_no)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:$,onPageChange:e=>{R(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"CreateLeavingCertificate"===o&&oe.jsx("div",{children:oe.jsx(Cie,{})})]})]}),g&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Issue"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ye}),console.log("the currecnt section inside delete of the managesubjhect",w)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to issue this certificate"," ",` ${null==w?void 0:w.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!S){k(!0);try{const e=localStorage.getItem("authToken");if(!e||!w||!w.sr_no)throw new Error("Token or Serial Number is missing");se(""),console.log("class_name:",V,"subject_name:",K,"exam_name:",J,"marks_heading:",ee,"highest_marks:",ae),yield Uf.put(`${l}/api/update_leavingcertificateisIssued/${w.sr_no}`,{},{headers:{Authorization:`Bearer ${e}`}}),ve(),hp.success("Leaving certificate issue status updated successfully!"),ye()}catch(e){e.response&&e.response.data?hp.error(`Error updating Leaving Certificate issue status: ${e.response.data.error}`):hp.error(`Error updating Leaving Certificate issue status: ${e.message}`),console.error("Error Leaving Certificate issue status:",e)}finally{k(!1)}}})),disabled:S,children:S?"Issuing...":"Issue"})})]})})})}),f&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Download"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ye}),console.log("the currecnt section inside delete of the managesubjhect",w)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to Download this certificate"," ",` ${null==w?void 0:w.stud_name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",style:{backgroundColor:"#2196F3"},className:"btn text-white px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!S){k(!0);try{const e=localStorage.getItem("authToken");if(console.log("the sr for download",w.sr_no),!e||!w||!w.sr_no)throw new Error("Token or Serial Number is missing");const t=yield Uf.get(`${l}/api/get_pdfleavingcertificate/${w.sr_no}`,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200!==t.status)throw new Error("Failed to download the file");{hp.success("Leaving certificate downloaded successfully!");const e=t.headers["content-disposition"];let a="DownloadedCertificate.pdf";if(e){const t=e.match(/filename="(.+?)"/);t&&t[1]&&(a=t[1])}const r=new Blob([t.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n),ve(),ye()}}catch(e){e.response&&e.response.data?hp.error(`Error in Downloading Leaving Certificate: ${e.response.data.error}`):hp.error(`Error in Downloading Leaving Certificate: ${e.message}`),console.error("Error in Downloading Leaving Certificate:",e)}finally{k(!1)}}})),disabled:S,children:S?"Downloading...":"Download"})})]})})})}),v&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ye})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("div",{className:"",children:[oe.jsxs("label",{className:"block text-md font-semibold mb-1",htmlFor:"reason",children:["Reason For Cancellation:"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{id:"reason",value:de,maxLength:200,onChange:e=>ce(e.target.value),placeholder:"Enter reason for cancellation",className:"text-sm w-full h-20 px-2 py-1 border rounded-md",required:!0}),!de&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Reason for cancellation is required."})]})}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!S){k(!0);try{const e=localStorage.getItem("authToken"),t=null==w?void 0:w.sr_no;if(!e||!t)throw new Error("Token or Serial Number is missing");yield Uf.delete(`${l}/api/delete_leavingcertificateisDeleted/${t}`,{headers:{Authorization:`Bearer ${e}`},data:{cancel_reason:de},withCredentials:!0}),ve(),y(!1),hp.success("Leaving Certificate deleted successfully!"),ce("")}catch(e){e.response&&e.response.data?hp.error(`Error deleting Leaving Certificate: ${e.response.data.message}`):hp.error(`Error deleting Leaving Certificate: ${e.message}`),console.error("Error deleting Leaving Certificate:",e)}finally{k(!1),y(!1)}}})),disabled:!de,children:"Delete"})})]})})})})]})}const Tie=()=>{var t,a,r,n,s,l;const o="https://sms.evolvu.in/public",[i,d]=Q.useState(null),[c,h]=Q.useState(null),[f,x]=Q.useState(null),[g,b]=Q.useState(!1),[v,y]=Q.useState(!1),w=sm(),j=rm(),{student:N}=j.state||{},_=(null==(t=j.state)?void 0:t.sr_no)||(null==(r=null==(a=j.state)?void 0:a.student)?void 0:r.sr_no)||null,S=(null==(n=j.state)?void 0:n.class_id)||(null==(l=null==(s=j.state)?void 0:s.student)?void 0:l.class_id)||null;console.log("edit page LC - srNo:",_,"classId:",S);const[k,C]=Q.useState({sr_no:"",class_id:"",grn_no:"",date:"",first_name:"",mid_name:"",last_name:"",udise_pen_no:"",student_id_no:"",promoted_to:" ",last_exam:"",stud_id:"",father_name:"",mother_name:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",date_of_admission:"",admission_class:"",attendance:"",subjectsFor:[],subjects:[],reason_leaving:"",application_date:"",leaving_date:"",standard_studying:"",dob_proof:"",class_id_for_subj:"",aadhar_no:"",teacher_image_name:null,academicStudent:[],academic_yr:"",part_of:"",selectedActivities:[]});Q.useEffect((()=>{p(e,null,(function*(){var e,t;try{b(!0);const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");const r=yield Uf.get(`${o}/api/get_getleavingcertificatedata/${null==N?void 0:N.sr_no}`,{headers:{Authorization:`Bearer ${a}`}});if(r.data.success&&r.data.data){const a=r.data.data.leavingcertificatesingle,n=r.data.data,{subjects_studied:s,games:l}=r.data.data.leavingcertificatesingle,o=r.data.data.classsubject,i=s?s.split(","):[],d=l?l.split(","):[];C({sr_no:a.sr_no||"",stud_id:a.stud_id||"",grn_no:a.grn_no||"",class_id_for_subj:(null==(t=null==(e=null==r?void 0:r.data)?void 0:e.data)?void 0:t.studentinformation)||" ",academicStudent:n.academicStudent||[],issue_date:a.issue_date||"",student_id_no:a.stud_id_no||"",aadhar_no:a.aadhar_no||"",first_name:a.stud_name||"",mid_name:a.mid_name||"",last_name:a.last_name||"",father_name:a.father_name||"",mother_name:a.mother_name||"",nationality:a.nationality||"",mother_tongue:a.mother_tongue||"",religion:a.religion||"",caste:a.caste||"",subcaste:a.subcaste||"",birth_place:a.birth_place||"",state:a.state||"",dob:a.dob||"",dob_words:a.dob_words||"",prev_school_class:a.last_school_attended_standard||"",date_of_admission:a.date_of_admission||"",admission_class:a.admission_class||"",attendance:a.attendance||"",reason_leaving:a.reason_leaving||"",application_date:a.application_date||"",leaving_date:a.leaving_date||"",standard_studying:a.standard_studying||"",dob_proof:a.dob_proof||"",promoted_to:a.promoted_to||"",last_exam:a.last_exam||"",udise_pen_no:a.udise_pen_no||"",part_of:a.part_of||"",remark:a.remark||"",academic_yr:a.academic_yr||"",conduct:a.conduct||"",fee_month:a.fee_month||"",subjects:n.classsubject||[],subjectsFor:o,selectedSubjects:i,selectedActivities:d}),hp.success("Data loaded successfully")}else hp.error("Failed to load data")}catch(a){console.error("Error fetching initial data:",a),hp.error("Error fetching initial data")}finally{b(!1)}}))}),[]);const E=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[T,O]=Q.useState({}),[D,A]=Q.useState({}),P=(new Date).toISOString().split("T")[0],M=t=>p(e,null,(function*(){const{name:e,value:a,type:r,checked:n}=t.target;C("checkbox"===r?t=>{const r=n?[...t[e],a]:t[e].filter((e=>e!==a));return m(u({},t),{[e]:r})}:t=>u(u(m(u({},t),{[e]:a}),"dob"===e&&{dob_words:E(a)}),"academic_yr"===e&&{academic_yr:a}));let s={};if("first_name"===e&&/^\d/.test(a)&&(s.first_name="Student Name should not start with a number"),"father_name"===e&&/^\d/.test(a)&&(s.father_name="Father's Name should not start with a number"),"mother_name"===e&&/^\d/.test(a)&&(s.mother_name="Mother's Name should not start with a number"),O((t=>m(u({},t),{[e]:s[e]}))),"academic_yr"===e)try{yield L(a)}catch(l){console.error("Failed to fetch data for academic year",l)}}));console.log("academ,icyearchagne",k.academic_yr);const L=t=>p(e,null,(function*(){var e;if(O({}),t){C({grn_no:"",issue_date:"",student_id_no:"",aadhar_no:"",first_name:"",mid_name:"",last_name:"",father_name:"",mother_name:"",nationality:"",mother_tongue:"",religion:"",caste:"",subcaste:"",birth_place:"",dob:"",dob_words:"",dob_proof:"",prev_school_class:"",date_of_admission:"",admission_class:"",leaving_date:"",standard_studying:"",last_exam:"",subjects:[],promoted_to:"",attendance:"",fee_month:"",part_of:"",selectedActivities:[],application_date:"",conduct:"",reason_leaving:"",remark:"",academic_yr:"",stud_id:"",udise_pen_no:""});try{y(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${o}/api/get_srnoleavingcertificateByAcademicyr/${null==N?void 0:N.stud_id}/${t}`,{headers:{Authorization:`Bearer ${a}`}});if(null==(e=null==r?void 0:r.data)?void 0:e.data){const e=r.data.data;C((a=>{var n,s;return m(u({},a),{academic_yr:t,sr_no:e.sr_no||"",class_id_for_subj:(null==(s=null==(n=null==r?void 0:r.data)?void 0:n.data)?void 0:s.studentinformation)||"",grn_no:e.studentinformation.grn_no||"",issue_date:P||"",subjectsFor:e.classsubject||[],academicStudent:e.academicStudent||[],selectedSubjects:(e.classsubject||[]).map((e=>e.name)),student_id_no:e.studentinformation.stud_id_no||"",first_name:e.studentinformation.first_name||"",mid_name:e.studentinformation.mid_name||"",last_name:e.studentinformation.last_name||"",udise_pen_no:e.studentinformation.udise_pen_no||"",promoted_to:e.studentinformation.promoted_to||"",last_exam:e.studentinformation.last_exam||"",stud_id:e.studentinformation.stud_id||" ",father_name:e.studentinformation.father_name||"",mother_name:e.studentinformation.mother_name||"",date_of_admission:e.studentinformation.date_of_admission||"",religion:e.studentinformation.religion||"",caste:e.studentinformation.caste||"",subcaste:e.studentinformation.subcaste||"",birth_place:e.studentinformation.birth_place||"",state:e.studentinformation.state||"",mother_tongue:e.studentinformation.mother_tongue||"",dob:e.studentinformation.dob||"",dob_words:E(e.studentinformation.dob),attendance:e.total_attendance||"",nationality:e.studentinformation.nationality||"",aadhar_no:e.studentinformation.aadhar_no||"",teacher_image_name:e.studentinformation.father_image_name||null,purpose:e.purpose||" "})}))}else hp.error("No data found for the selected academic year.")}catch(a){console.error("Error fetching data:",a),hp.error("Error fetching data for the selected academic year.")}finally{y(!1)}}else hp.error("Please select an academic year!")}));console.log("academic yearr",k.academicStudent);const I=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},F=t=>p(e,null,(function*(){var e;if(t.preventDefault(),console.log("Submit process started"),O({}),A({}),!(()=>{const e={};return["grn_no","issue_date","first_name","student_id_no","promoted_to","last_exam","father_name","mother_name","birth_place","state","mother_tongue","dob","dob_words","nationality","prev_school_class","date_of_admission","admission_class","reason_leaving","application_date","leaving_date","standard_studying","dob_proof","aadhar_no","attendance","fee_month","remark","conduct"].forEach((t=>{k[t]||(e[t]="This field is required")})),k.class_id>109&&(k.udise_pen_no||(e.udise_pen_no="This field is required")),k.first_name&&/^\d/.test(k.first_name)&&(e.first_name="Student Name should not start with a number"),k.father_name&&/^\d/.test(k.father_name)&&(e.father_name="Father's Name should not start with a number"),k.mother_name&&/^\d/.test(k.mother_name)&&(e.mother_name="Mother's Name should not start with a number"),k.selectedActivities&&0!==k.selectedActivities.length||(e.activities="Please select at least one extra-curricular activity"),k.selectedSubjects&&0!==k.selectedSubjects.length||(e.selectedSubjects="Please select at least one subject"),k.dob_proof||(e.dob_proof="This field is required"),k.part_of||(e.part_of="This field is required"),k.academic_yr||(e.academic_yr="This field is required"),O(e),0===Object.keys(e).length})())return void console.log("Validation failed, stopping submission");console.log("Validation passed, proceeding with submission");const a={grn_no:k.grn_no||"",issue_date:I(k.issue_date),student_id_no:k.student_id_no||"",aadhar_no:k.aadhar_no||"",first_name:k.first_name||"",mid_name:k.mid_name||"",last_name:k.last_name||"",father_name:k.father_name||"",mother_name:k.mother_name||"",nationality:k.nationality||"",mother_tongue:k.mother_tongue||"",state:k.state||"",religion:k.religion||"",caste:k.caste||"",subcaste:k.subcaste||"",birth_place:k.birth_place||"",dob:I(k.dob),dob_words:k.dob_words||"",dob_proof:k.dob_proof||"",previous_school_attended:k.prev_school_class||"",date_of_admission:I(k.date_of_admission),admission_class:k.admission_class||"",leaving_date:I(k.leaving_date),standard_studying:k.standard_studying||"",last_exam:k.last_exam||"",subjects:k.selectedSubjects||[],promoted_to:k.promoted_to||"",attendance:k.attendance||"",fee_month:k.fee_month||"",part_of:k.part_of||"",games:k.selectedActivities||[],application_date:I(k.application_date),conduct:k.conduct||"",reason_leaving:k.reason_leaving||"",remark:k.remark||"",academic_yr:k.academic_yr||"",stud_id:k.stud_id||"",udise_pen_no:k.udise_pen_no||""};try{b(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const t=yield Uf.put(`${o}/api/update_leavingcertificate/${null==N?void 0:N.sr_no}`,a,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===t.status){hp.success("LC Certificate Updated successfully!");const e=t.headers["content-disposition"];let a="DownloadedFile.pdf";if(e){const t=e.match(/filename="(.+?)"/);t&&t[1]&&(a=t[1])}const r=new Blob([t.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),C({sr_no:"",grn_no:"",date:"",first_name:"",mid_name:"",last_name:"",udise_pen_no:"",student_id_no:"",promoted_to:" ",last_exam:"",stud_id:"",father_name:"",mother_name:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",date_of_admission:"",admission_class:"",attendance:"",subjectsFor:[],subjects:[],selectedActivities:[],reason_leaving:"",application_date:"",leaving_date:"",standard_studying:"",dob_proof:"",class_id_for_subj:"",aadhar_no:"",teacher_image_name:null,academicStudent:[],academic_yr:"",part_of:""}),h(null),d(null),setTimeout((()=>x(null)),3e3),w("/leavingCertificate")}}catch(r){console.error("Error:",(null==(e=r.response)?void 0:e.data)||r.message),hp.error("An error occurred while Updated the LC Certificate."),r.response&&r.response.data?A(r.response.data):hp.error("Unknown error occurred.")}finally{b(!1)}})),R=e=>{const{value:t,checked:a}=e.target;C((e=>{const r=a?[...e.selectedActivities,t]:e.selectedActivities.filter((e=>e!==t));return r.length>0&&O((e=>m(u({},e),{activities:null}))),m(u({},e),{selectedActivities:r})}))},$=(e,t)=>{C((a=>{const r=e.target.checked?[...a.selectedSubjects,t]:a.selectedSubjects.filter((e=>e!==t));return r.length>0&&O((e=>m(u({},e),{selectedSubjects:null}))),m(u({},a),{selectedSubjects:r})}))};return console.log("handleSubjectSelection",k.selectedSubjects),oe.jsxs("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:[oe.jsx(wp,{}),g&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("div",{className:"    card  px-3 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center  ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Leaving Certificate"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{var e,t,a,r,n,s;O({}),w("/leavingCertificate",{state:{sr_no:(null==(e=j.state)?void 0:e.sr_no)||(null==(a=null==(t=j.state)?void 0:t.student)?void 0:a.sr_no),class_id:(null==(r=j.state)?void 0:r.class_id)||(null==(s=null==(n=j.state)?void 0:n.student)?void 0:s.class_id)}})}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-8  md:top-[5%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),v&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("form",{onSubmit:F,className:" w-full gap-x-1 md:gap-x-14  gap-y-1   overflow-x-hidden shadow-md p-4 border-1 bg-gray-100 mb-4",children:[oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 pb-2",children:"Document Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold text-xs mb-2",children:["LC No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"sr_no",name:"sr_no",value:k.sr_no,readOnly:!0,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"grn_no",className:"block font-bold text-xs mb-2",children:["General Register No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"grn_no",name:"grn_no",maxLength:10,value:k.grn_no,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.grn_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.grn_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date",className:"block font-bold text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date",name:"issue_date",value:k.issue_date,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.issue_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.issue_date})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Student Identity"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["First Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"first_name",value:k.first_name,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.first_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:T.first_name})]}),oe.jsxs("div",{className:" ",children:[oe.jsx("label",{htmlFor:"staffMidName",className:"block font-bold  text-xs mb-2",children:"Mid Name"}),oe.jsx("input",{type:"text",maxLength:200,id:"staffMidName",name:"mid_name",value:k.mid_name,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{className:" ",children:[oe.jsx("label",{htmlFor:"staffLastName",className:"block font-bold  text-xs mb-2",children:"Surname"}),oe.jsx("input",{type:"text",maxLength:200,id:"staffLastName",name:"last_name",value:k.last_name,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"student_id_no",className:"block font-bold text-xs mb-2",children:["STUDENT ID NO ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"student_id_no",name:"student_id_no",maxLength:25,value:k.student_id_no,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.student_id_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.student_id_no})]}),(null==k?void 0:k.class_id)>109&&oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:["Udise Pen No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"Udise_no",name:"udise_pen_no",maxLength:14,value:k.udise_pen_no,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner",onChange:M})," ",T.udise_pen_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.udise_pen_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"aadhar_no",className:"block font-bold text-xs mb-2",children:["UDI NO.(Aadhar Card No.)"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"aadhar_no",name:"aadhar_no",maxLength:12,value:k.aadhar_no,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.aadhar_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.aadhar_no})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Parent Details"}),oe.jsxs("div",{className:"w-full md:w-[75%]  grid grid-cols-1 md:grid-cols-2   gap-x-6 gap-4",children:[" ",oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"father_name",className:"block font-bold  text-xs mb-2",children:["Father's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,id:"father_name",name:"father_name",value:k.father_name,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.father_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:T.father_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"mother_name",className:"block font-bold text-xs mb-2",children:["Mother's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"mother_name",name:"mother_name",maxLength:50,value:k.mother_name,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.mother_name&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.mother_name})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Academic Details"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold text-xs mb-2",children:"Religion"}),oe.jsx("input",{type:"text",id:"religion",name:"religion",maxLength:20,value:k.religion,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"caste",className:"block font-bold text-xs mb-2",children:"Caste"}),oe.jsx("input",{type:"text",id:"caste",name:"caste",maxLength:20,value:k.caste,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]})," ",oe.jsxs("div",{className:"grid   col-span-2 row-span-2 ",children:[oe.jsxs("label",{htmlFor:"subjects",className:"block font-bold text-xs  col-span-3",children:["Subjects Studied ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),k.subjectsFor&&k.subjectsFor.length>0?k.subjectsFor.map(((e,t)=>oe.jsx("div",{className:"grid-col-3 relative",children:oe.jsxs("label",{children:[oe.jsx("input",{type:"checkbox",name:"subjects",value:e.name,checked:k.selectedSubjects.includes(e.name),onChange:t=>$(t,e.name),className:"form-checkbox h-4 w-4 text-blue-600"}),oe.jsx("span",{className:"ml-1 text-sm",children:e.name})]})},t))):oe.jsx("p",{className:"text-sm text-gray-500 col-span-3",children:"No subjects available"}),"10"==k.class_id_for_subj&&oe.jsx("div",{className:"col-span-1 relative  ",children:oe.jsxs("label",{className:"inline-flex items-center",children:[oe.jsx("input",{type:"checkbox",name:"subjects",value:"Basic Mathematics",checked:k.selectedSubjects.includes("Basic Mathematics"),onChange:e=>$(e,"Basic Mathematics"),className:"form-checkbox h-4 w-4 text-blue-600"}),oe.jsx("span",{className:"ml-1 text-sm",children:"Basic Mathematics"})]})}),T.selectedSubjects&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1 col-span-3",children:T.selectedSubjects})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"subcaste",className:"block font-bold text-xs mb-2",children:"Sub-Caste"}),oe.jsx("input",{type:"text",id:"subcaste",name:"subcaste",maxLength:100,value:k.subcaste,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"PromotedTo",className:"block font-bold text-xs mb-2",children:["Promoted to ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"PromotedTo",name:"promoted_to",maxLength:100,value:k.promoted_to,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.promoted_to&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.promoted_to})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"School/Board",className:"block font-bold text-xs mb-2",children:["School/Board Annual Exam Last Taken with Result"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"School/Board",name:"last_exam",maxLength:100,value:k.last_exam,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.last_exam&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.last_exam})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Personal Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"birthPlace",className:"block font-bold text-xs mb-2",children:["Birth Place ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"birthPlace",maxLength:20,name:"birth_place",value:k.birth_place,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.birth_place&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.birth_place})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"state",className:"block font-bold text-xs mb-2",children:["State ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"state",name:"state",maxLength:50,value:k.state,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.state&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.state})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"mother_tongue",className:"block font-bold text-xs mb-2",children:["Mother Tongue ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"mother_tongue",name:"mother_tongue",maxLength:50,value:k.mother_tongue,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.mother_tongue&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.mother_tongue})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",value:k.dob,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:T.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",value:k.dob_words,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:T.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"nationality",className:"block font-bold text-xs mb-2",children:["Nationality ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"nationality",name:"nationality",maxLength:100,value:k.nationality,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.nationality&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.nationality})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsxs("h5",{className:"col-span-4 text-blue-400 py-2",children:["Admission and School Records"," "]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4  gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"prev_school_class",className:"block font-bold text-xs mb-2",children:["Previous School Attended"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"prev_school_class",maxLength:100,name:"prev_school_class",value:k.prev_school_class,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.prev_school_class&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.prev_school_class})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date_of_admission",className:"block font-bold text-xs mb-2",children:["Date of Admission ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_admission",name:"date_of_admission",value:k.date_of_admission,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.date_of_admission&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.date_of_admission})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"admission_class",className:"block font-bold text-xs mb-2 ",children:["Admitted in Class",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"admission_class",maxLength:100,name:"admission_class",value:k.admission_class,onChange:M,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),T.admission_class&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.admission_class})]})," ",oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"Date_of_Leaving_School",className:"block font-bold text-xs mb-2",children:["Date of Leaving School",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"Date_of_Leaving_School",name:"leaving_date",value:k.leaving_date,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.leaving_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.leaving_date})]})," ",oe.jsxs("div",{className:"",children:[oe.jsxs("label",{htmlFor:"dob_proof",className:"block font-bold text-xs mb-2",children:["Proof of DOB Submitted at the Time of Admission",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"dob_proof",name:"dob_proof",value:k.dob_proof,onChange:M,className:"block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"Birth Certificate",children:"Birth Certificate"}),oe.jsx("option",{value:"School Leaving Certificate",children:"School Leaving Certificate"}),oe.jsx("option",{value:"Aadhar Card",children:"Aadhar Card"}),oe.jsx("option",{value:"Passport",children:"Passport"})]}),T.dob_proof&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.dob_proof})]})," ",oe.jsxs("div",{className:"",children:[oe.jsxs("label",{htmlFor:"part_of",className:"block font-bold text-xs mb-2",children:["Whether Part of (NCC Cadet, Boy Scout, Girl Guide)",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"part_of",name:"part_of",value:k.part_of,onChange:M,className:"block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"NCC Cadet",children:"NCC Cadet"}),oe.jsx("option",{value:"Boy Scout",children:"Boy Scout"}),oe.jsx("option",{value:"Girl Guide",children:"Girl Guide"}),oe.jsx("option",{value:"N.A",children:"N.A"})]}),T.part_of&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.part_of})]}),oe.jsxs("div",{className:"mt-3",children:[oe.jsxs("label",{htmlFor:"reason_leaving",className:"block font-bold text-xs mb-2",children:["Reason for Leaving ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"reason_leaving",name:"reason_leaving",maxLength:100,value:k.reason_leaving,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.reason_leaving&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.reason_leaving})]}),oe.jsxs("div",{className:"mt-3",children:[oe.jsxs("label",{htmlFor:"application_date",className:"block font-bold text-xs mb-2",children:["Date of application for Certificate"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"application_date",name:"application_date",value:k.application_date,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.application_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.application_date})]}),oe.jsxs("div",{className:"grid col-span-4 row-span-1",children:[oe.jsxs("label",{htmlFor:"activities",className:"block font-bold text-xs mb-2",children:["Extra-Curricular Activities"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:"grid grid-cols-2 md:grid-cols-7 gap-2",children:["Football","Basketball","Volleyball","Tennis","Kho Kho","Table Tennis","Kabaddi","Cricket","Athletics","Dodgeball","Throwball","Handball","Tug of War","Gymnastics","Skating","Martial Arts","Badminton","Chess","Carrom"].map((e=>oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"checkbox",id:e,value:e,checked:k.selectedActivities.includes(e),onChange:R,className:"mr-2"}),oe.jsx("label",{htmlFor:e,className:"text-sm",children:e})]},e)))}),T.activities&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1 mt-2",children:T.activities})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"attendance",className:"block font-bold text-xs mb-2",children:["Attendance ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"attendance",maxLength:7,name:"attendance",value:k.attendance,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.attendance&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.attendance})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"fee_month",className:"block font-bold text-xs mb-2",children:["Month Up to Which School Fees are Paid"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"fee_month",maxLength:50,name:"fee_month",value:k.fee_month,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.fee_month&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.fee_month})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"standard_studying",className:"block font-bold text-xs mb-2",children:["Class in Which Last Studied in",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"standard_studying",name:"standard_studying",maxLength:20,value:k.standard_studying,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.standard_studying&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.standard_studying})]})," "]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Certificate Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"application_date",className:"block font-bold text-xs mb-2",children:["Date of Application for Certificate"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"application_date",name:"application_date",value:k.application_date,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.application_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.application_date})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"conduct",className:"block font-bold text-xs mb-2",children:["Conduct ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"conduct",name:"conduct",maxLength:100,value:k.conduct,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.conduct&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.conduct})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"remark",className:"block font-bold text-xs mb-2",children:["Any Other Remarks ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"remark",maxLength:100,name:"remark",value:k.remark,onChange:M,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),T.remark&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.remark})]}),oe.jsxs("div",{className:"mb-4",children:[oe.jsxs("label",{htmlFor:"academic_yr",className:"block font-bold text-xs mb-2",children:["Academic Year ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"academic_yr",name:"academic_yr",value:k.academic_yr||"",onChange:M,className:"block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),k.academicStudent&&k.academicStudent.length>0?k.academicStudent.map(((e,t)=>oe.jsx("option",{value:e.academic_yr,children:e.academic_yr},t))):oe.jsx("option",{value:"",disabled:!0,children:"No academic years available"})]}),T.academic_yr&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:T.academic_yr})]})]})]}),oe.jsxs("div",{className:"col-span-3 space-x-2 text-right",children:[oe.jsx("button",{type:"submit",onClick:F,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(g?"opacity-50 cursor-not-allowed":""),disabled:g,children:g?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Update"}),oe.jsx("button",{onClick:()=>{w("/leavingCertificate")},className:" text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})]})]})]})]})},Oie=()=>{var t,a,r;const n="https://sms.evolvu.in/public",[s,l]=Q.useState(null);Q.useState("");const[o,i]=Q.useState(null),[d,c]=Q.useState(null),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),b=sm(),v=rm(),{student:y}=v.state||{},[w,j]=Q.useState({sr_no:"",stud_name:"",dob:"",date:"",father_name:"",class_division:"",professional_qual:"",trained:"",experience:"",sex:"",blood_group:"",religion:"",dob_words:"",nationality:"",phone:"",email:"",aadhar_card_no:"",stud_id:"",purpose:" ",teacher_image_name:null}),N=(null==(t=v.state)?void 0:t.section_id)||(null==(r=null==(a=v.state)?void 0:a.student)?void 0:r.section_id)||null;console.log("edit page bonafied student for back navigation:",N),Q.useEffect((()=>{p(e,null,(function*(){var e;try{f(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${n}/api/get_databonafidestudent/${null==y?void 0:y.sr_no}`,{headers:{Authorization:`Bearer ${t}`}});if(null==(e=null==a?void 0:a.data)?void 0:e.data){const e=a.data.data;c(e),j({sr_no:e.sr_no||"",date:T||"",stud_name:e.stud_name||"",dob:e.dob||"",dob_words:e.dob_words||" ",issue_date_bonafide:e.issue_date_bonafide||"",father_name:e.father_name||"",class_division:e.class_division||"",academic_yr:e.academic_yr||"",IsGenerated:e.IsGenerated||"",IsDeleted:e.IsDeleted||"",IsIssued:e.IsIssued||"",stud_id:e.stud_id||"",purpose:e.purpose||" ",nationality:e.nationality||""})}else hp.error("Failed to load data")}catch(t){console.error("Error fetching initial data:",t),hp.error("Error fetching initial data")}finally{f(!1)}}))}),[]);const _=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[S,k]=Q.useState({}),[C,E]=Q.useState({}),T=(new Date).toISOString().split("T")[0],O=e=>{const{name:t,value:a}=e.target;let r=a;j("dob"===t?e=>m(u({},e),{dob:a,dob_words:_(a)}):e=>m(u({},e),{[t]:a})),j((e=>m(u({},e),{[t]:r})));let n={};"stud_name"===t&&(r?/^\d/.test(r)&&(n.stud_name="Name should not start with a number"):n.stud_name="Name is required"),"father_name"===t&&(r?/^\d/.test(r)&&(n.father_name="Name should not start with a number"):n.father_name="Name is required"),"class_division"===t&&(r||(n.class_division="Class and Division is required")),"dob"===t&&(r||(n.dob="Date of Birth is required")),"sr_no"===t&&(r||(n.sr_no="Serial number is required")),"father_name"===t&&(r||(n.father_name="Father Name is required")),"date"===t&&(r||(n.date=" Date is required")),"purpose"===t&&(r||(n.purpose="Purpose  is required")),"dob_words"===t&&(r||(n.dob_words="  Birth date in words is required")),"nationality"===t&&(r||(n.nationality="Nationality is required")),k((e=>m(u({},e),{[t]:n[t]})))},D=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},A=t=>p(e,null,(function*(){t.preventDefault();const e=(()=>{const e={};return w.stud_name?/^[^\d].*/.test(w.stud_name)||(e.stud_name="Name should not start with a number"):e.stud_name="Name is required",w.father_name?/^[^\d].*/.test(w.father_name)||(e.father_name="Name should not start with a number"):e.father_name="Name is required",w.class_division||(e.class_division="Class and Division is required"),w.sr_no||(e.sr_no="Serial number is required"),w.dob||(e.dob="Date of Birth is required"),w.father_name||(e.father_name="Father Name is required"),w.date||(e.date=" Date is required"),w.purpose||(e.purpose="purpose is required"),w.dob_words||(e.dob_words="  Birth date in words is required"),w.nationality||(e.nationality="Nationality is required"),k(e),e})()||{};if(Object.keys(e).length>0)return void k(e);const a=m(u({},w),{dob:D(w.dob),date:D(w.date)});try{f(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");const t=yield Uf.put(`${n}/api/update_bonafidecertificate/${null==y?void 0:y.sr_no}`,a,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===t.status){hp.success("Bonafide Certificate updated successfully!");const e=t.headers["content-disposition"];let a="DownloadedFile.pdf";if(e){const t=e.match(/filename="(.+?)"/);t&&t[1]&&(a=t[1])}const r=new Blob([t.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),j({sr_no:"",stud_name:"",father_name:"",dob:"",dob_words:"",date:"",class_division:"",purpose:"",nationality:""}),i(null),l(null),k({}),E({}),setTimeout((()=>c(null)),3e3),b("/bonafiedCertificates")}}catch(r){console.error("Error:",r.response.data,r.response.sr_no),hp.error("An error occurred while updating the Bonafide Certificate."),r.response&&r.response?E(r.response||{}):hp.error(r.response.sr_no)}finally{f(!1)}}));return oe.jsxs("div",{className:" w-full  md:w-[70%] mx-auto py-4 p-4 px-4  ",children:[oe.jsx(wp,{}),h&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("div",{className:"    card  px-3 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center  ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Bonafied Certificate"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{k({}),N?b("/bonafiedCertificates",{state:{section_id:N}}):b("/bonafiedCertificates")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-8  md:top-[15%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),x&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsx("form",{onSubmit:A,className:"  md:mx-5 overflow-x-hidden shadow-md p-2 bg-gray-50 mb-4",children:oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1 pt-4 pb-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold  text-xs mb-2",children:["Sr No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"sr_no",name:"sr_no",readOnly:!0,value:w.sr_no,onChange:O,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),C.sr_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:C.sr_no}),S.sr_no&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.sr_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",name:"date",value:w.date,onChange:O,className:"input-field block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:S.date})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"stud_name",value:w.stud_name,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.stud_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.stud_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"father_name",className:"block font-bold  text-xs mb-2",children:["Father's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,id:"father_name",name:"father_name",value:w.father_name,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.father_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.father_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",value:w.dob,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",value:w.dob_words,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"class_division",className:"block font-bold  text-xs mb-2",children:["Class/Divsion ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_division",readOnly:!0,name:"class_division",value:w.class_division,onChange:O,className:"input-field block w-full outline-none border border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),S.class_division&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:S.class_division})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"employeeId",className:"block font-bold  text-xs mb-2",children:["Purpose ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:50,id:"employeeId",name:"purpose",value:w.purpose,onChange:O,className:"input-field block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.purpose&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:S.purpose})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"Nationality",className:"block font-bold  text-xs mb-2",children:["Nationality ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:20,id:"Nationality",name:"nationality",value:w.nationality,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.nationality&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:S.nationality})]}),oe.jsx("div",{className:"col-span-3 text-right",children:oe.jsx("button",{type:"submit",onClick:A,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(h?"opacity-50 cursor-not-allowed":""),disabled:h,children:h?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Update"})})]})})]})]})},Die=()=>{var t,a,r;const n="https://sms.evolvu.in/public",[s,l]=Q.useState(null),[o,i]=Q.useState(null),[d,c]=Q.useState(null),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),b=sm(),v=rm(),{student:y}=v.state||{},[w,j]=Q.useState({sr_no:"",reg_no:"",date:"",stud_name:"",stud_id:"",student_id:"",father_name:"",mother_name:"",class_division:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",admission_date:"",class_when_learning:"",progress:"",behaviour:"",leaving_reason:"",lc_date_n_no:"",stu_aadhaar_no:"",teacher_image_name:null}),N=(null==(t=v.state)?void 0:t.section_id)||(null==(r=null==(a=v.state)?void 0:a.student)?void 0:r.section_id)||null;console.log("edit page bonafied student for back navigation:",N),Q.useEffect((()=>{p(e,null,(function*(){var e;try{f(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${n}/api/get_datacastecertificate/${null==y?void 0:y.sr_no}`,{headers:{Authorization:`Bearer ${t}`}});if(null==(e=null==a?void 0:a.data)?void 0:e.data){const e=a.data.data;c(e),j({sr_no:e.sr_no||"",reg_no:e.reg_no||"",date:T||"",stud_name:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`,stud_id:e.stud_id||"",student_id:e.student_id||" ",father_name:e.father_name||"",mother_name:e.mother_name||"",class_division:e.class_division||" ",admission_date:e.admission_date||"",religion:e.religion||"",caste:e.caste||"",subcaste:e.subcaste||"",birth_place:e.birth_place||"",state:e.state||"",mother_tongue:e.mother_tongue||"",dob:e.dob||"",dob_words:e.dob_words||" ",nationality:e.nationality||"",stu_aadhaar_no:e.stu_aadhaar_no||"",teacher_image_name:e.father_image_name||null,purpose:e.purpose||" ",prev_school_class:e.prev_school_class||" ",progress:e.progress||" ",class_when_learning:e.class_when_learning||" ",behaviour:e.behaviour||" ",leaving_reason:e.leaving_reason||" ",lc_date_n_no:e.lc_date_n_no||" "})}else hp.error("Failed to load data")}catch(t){console.error("Error fetching initial data:",t),hp.error("Error fetching initial data")}finally{f(!1)}}))}),[]);const _=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[S,k]=Q.useState({}),[C,E]=Q.useState({}),T=(new Date).toISOString().split("T")[0],O=e=>{const{name:t,value:a}=e.target;j((e=>u(m(u({},e),{[t]:a}),"dob"===t&&{dob_words:_(a)})));let r={};"stud_name"===t&&/^\d/.test(a)&&(r.stud_name="Student Name should not start with a number"),"father_name"===t&&/^\d/.test(a)&&(r.father_name="Father's Name should not start with a number"),"mother_name"===t&&/^\d/.test(a)&&(r.mother_name="Mother's Name should not start with a number"),k((e=>m(u({},e),{[t]:r[t]})))},D=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},A=t=>p(e,null,(function*(){if(t.preventDefault(),console.log("Submit process started"),k({}),E({}),!(()=>{const e={};return["reg_no","date","stud_name","stud_id","father_name","mother_name","class_division","birth_place","state","mother_tongue","dob","dob_words","nationality","prev_school_class","admission_date","class_when_learning","progress","behaviour","leaving_reason","lc_date_n_no","stu_aadhaar_no"].forEach((t=>{w[t]||(e[t]="This field is required")})),w.stud_name&&/^\d/.test(w.stud_name)&&(e.stud_name="Student Name should not start with a number"),w.father_name&&/^\d/.test(w.father_name)&&(e.father_name="Father's Name should not start with a number"),w.mother_name&&/^\d/.test(w.mother_name)&&(e.mother_name="Mother's Name should not start with a number"),k(e),0===Object.keys(e).length})())return void console.log("Validation failed, stopping submission");console.log("Validation passed, proceeding with submission");const e=m(u({},w),{dob:D(w.dob),date:D(w.date)});try{f(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token is found");const a=yield Uf.put(`${n}/api/update_castebonafidecertificate/${null==y?void 0:y.sr_no}`,e,{headers:{Authorization:`Bearer ${t}`},responseType:"blob"});if(200===a.status){hp.success("Cast Certificate updated successfully!");const e=a.headers["content-disposition"];let t="DownloadedFile.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const r=new Blob([a.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),j({sr_no:"",reg_no:"",date:"",stud_name:"",stud_id:"",student_id:"",father_name:"",mother_name:"",class_division:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",admission_date:"",class_when_learning:"",progress:"",behaviour:"",leaving_reason:"",lc_date_n_no:"",stu_aadhaar_no:""}),i(null),l(null),k({}),E({}),setTimeout((()=>c(null)),3e3),b("/castCertificate")}}catch(a){console.error("Error:",a.response.data,a.response.sr_no),hp.error("An error occurred while updating the Cast Certificate."),a.response&&a.response?E(a.response||{}):hp.error(a.response.sr_no)}finally{f(!1)}}));return oe.jsxs("div",{className:" w-full md:w-2/3  md:container mx-auto py-4 p-4 px-4  ",children:[oe.jsx(wp,{}),h&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("div",{className:"    card  px-3 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center  ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Cast Certificate"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{k({}),N?b("/castCertificate",{state:{section_id:N}}):b("/castCertificate")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-5  md:top-[5%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),x&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("form",{onSubmit:A,className:" w-full gap-x-1 md:gap-x-14  gap-y-1   overflow-x-hidden shadow-md p-4 border-1 bg-gray-100 mb-4",children:[oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 pb-2",children:"Document Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold text-xs mb-2",children:["Sr No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"sr_no",name:"sr_no",value:w.sr_no,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"reg_no",className:"block font-bold text-xs mb-2",children:["General Register No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"reg_no",name:"reg_no",maxLength:10,value:w.reg_no,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.reg_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.reg_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date",className:"block font-bold text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date",name:"date",value:w.date,onChange:O,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.date})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Student Identity"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"stud_name",value:w.stud_name,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.stud_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2 ",children:S.stud_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"stud_id",className:"block font-bold text-xs mb-2",children:["Student ID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"stud_id",name:"stud_id",maxLength:25,value:w.stud_id,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.stud_id&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.stud_id})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"stu_aadhaar_no",className:"block font-bold text-xs mb-2",children:["Student UID ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"stu_aadhaar_no",name:"stu_aadhaar_no",maxLength:12,value:w.stu_aadhaar_no,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.stu_aadhaar_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.stu_aadhaar_no})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Parent Details"}),oe.jsxs("div",{className:"w-full md:w-[80%] grid grid-cols-1 md:grid-cols-2 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"father_name",className:"block font-bold  text-xs mb-2",children:["Father's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,id:"father_name",name:"father_name",value:w.father_name,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.father_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2 ",children:S.father_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"mother_name",className:"block font-bold text-xs mb-2",children:["Mother's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"mother_name",name:"mother_name",maxLength:50,value:w.mother_name,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.mother_name&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.mother_name})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Academic Details"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"class_division",className:"block font-bold text-xs mb-2",children:["Class/Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_division",name:"class_division",value:w.class_division,onChange:O,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),S.class_division&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.class_division})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold text-xs mb-2",children:"Religion"}),oe.jsx("input",{type:"text",id:"religion",name:"religion",maxLength:20,value:w.religion,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"caste",className:"block font-bold text-xs mb-2",children:"Caste"}),oe.jsx("input",{type:"text",id:"caste",name:"caste",maxLength:20,value:w.caste,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"subcaste",className:"block font-bold text-xs mb-2",children:"Sub-Caste"}),oe.jsx("input",{type:"text",id:"subcaste",name:"subcaste",maxLength:100,value:w.subcaste,onChange:O,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Personal Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"birthPlace",className:"block font-bold text-xs mb-2",children:["Birth Place ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"birthPlace",maxLength:20,name:"birth_place",value:w.birth_place,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.birth_place&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.birth_place})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"state",className:"block font-bold text-xs mb-2",children:["State ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"state",name:"state",maxLength:50,value:w.state,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.state&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.state})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"mother_tongue",className:"block font-bold text-xs mb-2",children:["Mother Tongue ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"mother_tongue",name:"mother_tongue",maxLength:50,value:w.mother_tongue,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.mother_tongue&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.mother_tongue})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",value:w.dob,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-2 ",children:S.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",value:w.dob_words,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-2 ",children:S.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"nationality",className:"block font-bold text-xs mb-2",children:["Nationality ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"nationality",name:"nationality",maxLength:100,value:w.nationality,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.nationality&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.nationality})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Admission Details"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"prev_school_class",className:"block font-bold text-xs mb-2",children:["Previous School and Class"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"prev_school_class",maxLength:100,name:"prev_school_class",value:w.prev_school_class,onChange:O,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.prev_school_class&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.prev_school_class})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"admission_date",className:"block font-bold text-xs mb-2",children:["Date of Admission ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"admission_date",name:"admission_date",value:w.admission_date,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.admission_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.admission_date})]}),oe.jsxs("div",{className:" relative -top-4",children:[oe.jsxs("label",{htmlFor:"class_when_learning",className:"block font-bold text-xs mb-2 ",children:["In which class and when was he/she was learning from"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_when_learning",maxLength:100,name:"class_when_learning",value:w.class_when_learning,onChange:O,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.class_when_learning&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.class_when_learning})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"progress",className:"block font-bold text-xs mb-2",children:["Progress Report ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"progress",name:"progress",maxLength:200,value:w.progress,onChange:O,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.progress&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.progress})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"behaviour",className:"block font-bold text-xs mb-2",children:["Behavior ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"behaviour",name:"behaviour",maxLength:200,value:w.behaviour,onChange:O,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.behaviour&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.behaviour})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"leaving_reason",className:"block font-bold text-xs mb-2",children:["Reason for Leaving ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"leaving_reason",name:"leaving_reason",maxLength:100,value:w.leaving_reason,onChange:O,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.leaving_reason&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.leaving_reason})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"lc_date_n_no",className:"block font-bold text-xs mb-2",children:["Date of Leaving Certificate"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"lc_date_n_no",name:"lc_date_n_no",value:w.lc_date_n_no,onChange:O,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.lc_date_n_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:S.lc_date_n_no})]})]})]}),oe.jsx("div",{className:"col-span-3 text-right",children:oe.jsx("button",{type:"submit",onClick:A,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(h?"opacity-50 cursor-not-allowed":""),disabled:h,children:h?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Update"})})]})]})]})},Aie=()=>{var t,a,r;const n="https://sms.evolvu.in/public",[s,l]=Q.useState(null),[o,i]=Q.useState(null),[d,c]=Q.useState(null),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),b=sm(),v=rm(),{student:y}=v.state||{},w=(null==(t=v.state)?void 0:t.section_id)||(null==(r=null==(a=v.state)?void 0:a.student)?void 0:r.section_id)||null;console.log("edit page bonafied student for back navigation:",w);const[j,N]=Q.useState({sr_no:"",stud_name:"",dob:"",date:"",class_division:"",professional_qual:"",trained:"",experience:"",sex:"",blood_group:"",religion:"",dob_words:"",aadhar_card_no:"",stud_id:"",attempt:" ",teacher_image_name:null});Q.useEffect((()=>{p(e,null,(function*(){var e;try{f(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${n}/api/get_characterdata/${null==y?void 0:y.sr_no}`,{headers:{Authorization:`Bearer ${t}`}});if(null==(e=null==a?void 0:a.data)?void 0:e.data){const e=a.data.data;c(e),console.log("Fetched Data:",e),N({sr_no:e.sr_no||"",stud_name:e.stud_name||"",dob:e.dob||"",dob_words:e.dob_words||" ",date:T||"",class_division:e.class_division||"",attempt:e.attempt||"",issue_date_bonafide:e.issue_date_bonafide||"",academic_yr:e.academic_yr||"",IsGenerated:e.IsGenerated||"",IsDeleted:e.IsDeleted||"",IsIssued:e.IsIssued||"",stud_id:e.stud_id||"",issued_date:e.issued_date||"",deleted_date:e.deleted_date||"",generated_by:e.generated_by||"",issued_by:e.issued_by||"",deleted_by:e.deleted_by||""})}else hp.error("Failed to load data")}catch(t){console.error("Error fetching initial data:",t),hp.error("Error fetching initial data")}finally{f(!1)}}))}),[]);const _=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[S,k]=Q.useState({}),[C,E]=Q.useState({}),T=(new Date).toISOString().split("T")[0],O=e=>{const{name:t,value:a}=e.target;let r=a;N("dob"===t?e=>m(u({},e),{dob:a,dob_words:_(a)}):e=>m(u({},e),{[t]:a})),N((e=>m(u({},e),{[t]:r})));let n={};"stud_name"===t&&(r?/^\d/.test(r)&&(n.stud_name="Name should not start with a number"):n.stud_name="This field is required"),"class_division"===t&&(r||(n.class_division="This field is required")),"dob"===t&&(r||(n.dob="This field is required")),"sr_no"===t&&(r||(n.sr_no="This field is required")),"date"===t&&(r||(n.date="This field is required")),"attempt"===t&&(r||(n.attempt="This field is required")),"dob_words"===t&&(r||(n.dob_words="This field is required")),k((e=>m(u({},e),{[t]:n[t]})))},D=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},A=t=>p(e,null,(function*(){t.preventDefault();const e=(()=>{const e={};return j.stud_name?/^[^\d].*/.test(j.stud_name)||(e.stud_name="Name should not start with a number"):e.stud_name="This field is required",j.class_division||(e.class_division="This field is required"),j.sr_no||(e.sr_no="This field is required"),j.dob||(e.dob="This field is required"),j.date||(e.date="This field is required"),j.attempt||(e.attempt="This field is required"),j.dob_words||(e.dob_words="This field is required"),k(e),e})()||{};if(Object.keys(e).length>0)return void k(e);const a=m(u({},j),{dob:D(j.dob),date:D(j.date)});try{f(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");const t=yield Uf.put(`${n}/api/update_charactercertificate/${null==y?void 0:y.sr_no}`,a,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===t.status){hp.success("Character Certificate updated successfully!");const e=t.headers["content-disposition"];let a="DownloadedFile.pdf";if(e){const t=e.match(/filename="(.+?)"/);t&&t[1]&&(a=t[1])}const r=new Blob([t.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),N({sr_no:"",stud_name:"",dob:"",dob_words:"",date:"",class_division:"",attempt:""}),i(null),l(null),k({}),E({}),setTimeout((()=>c(null)),3e3),b("/characterCertificate")}}catch(r){console.error("Error:",r.response.data,r.response.sr_no),hp.error("An error occurred while updating the Character Certificate."),r.response&&r.response?E(r.response||{}):hp.error(r.response.sr_no)}finally{f(!1)}}));return oe.jsxs("div",{className:" w-full md:w-2/3  md:container mx-auto py-4 p-4 px-4  ",children:[oe.jsx(wp,{}),h&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("div",{className:"    card  px-3 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center  ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Character Certificate"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{k({}),w?b("/characterCertificate",{state:{section_id:w}}):b("/characterCertificate")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-5  md:top-[14%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),x&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsx("form",{onSubmit:A,className:"  border-1 overflow-x-hidden shadow-md p-2 bg-gray-100 mb-4",children:oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1 pt-4 pb-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold  text-xs mb-2",children:["Sr No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"sr_no",name:"sr_no",readOnly:!0,value:j.sr_no,onChange:O,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),C.sr_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:C.sr_no}),S.sr_no&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.sr_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",name:"date",value:j.date,onChange:O,className:"input-field block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:S.date})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"stud_name",value:j.stud_name,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.stud_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.stud_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",value:j.dob,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",value:j.dob_words,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"class_division",className:"block font-bold  text-xs mb-2",children:["Class/Divsion ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_division",readOnly:!0,name:"class_division",value:j.class_division,onChange:O,className:"input-field block w-full outline-none border border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),S.class_division&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:S.class_division})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"employeeId",className:"block font-bold  text-xs mb-2",children:["Attempt ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"tel",maxLength:50,id:"employeeId",name:"attempt",value:j.attempt,onChange:O,className:"input-field block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.attempt&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:S.attempt})]}),oe.jsx("div",{className:"col-span-3 text-right",children:oe.jsx("button",{type:"submit",onClick:A,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(h?"opacity-50 cursor-not-allowed":""),disabled:h,children:h?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Update"})})]})})]})]})},Pie=()=>{var t,a,r;const n="https://sms.evolvu.in/public",[s,l]=Q.useState(null),[o,i]=Q.useState(null),[d,c]=Q.useState(null),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),b=sm(),v=rm(),{student:y}=v.state||{},w=(null==(t=v.state)?void 0:t.section_id)||(null==(r=null==(a=v.state)?void 0:a.student)?void 0:r.section_id)||null;console.log("edit page bonafied student for back navigation:",w);const[j,N]=Q.useState({sr_no:"",stud_name:"",dob:"",date:"",father_name:"",class_division:"",professional_qual:"",trained:"",experience:"",religion:"",dob_words:"",stud_id:"",teacher_image_name:null});Q.useEffect((()=>{p(e,null,(function*(){var e;try{f(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${n}/api/get_datasimplebonafidestudent/${null==y?void 0:y.sr_no}`,{headers:{Authorization:`Bearer ${t}`}});if(null==(e=null==a?void 0:a.data)?void 0:e.data){const e=a.data.data;c(e),N({sr_no:e.sr_no||"",stud_name:e.stud_name||"",dob:e.dob||"",dob_words:e.dob_words||" ",date:T||"",father_name:e.father_name||"",class_division:e.class_division||"",stud_id:e.stud_id||"",issue_date_bonafide:e.issue_date_bonafide||"",academic_yr:e.academic_yr||"",IsGenerated:e.IsGenerated||"",IsDeleted:e.IsDeleted||"",IsIssued:e.IsIssued||"",issued_date:e.issued_date||"",deleted_date:e.deleted_date||"",generated_by:e.generated_by||"",issued_by:e.issued_by||"",deleted_by:e.deleted_by||""})}else hp.error("Failed to load data")}catch(t){console.error("Error fetching initial data:",t),hp.error("Error fetching initial data")}finally{f(!1)}}))}),[]);const _=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[S,k]=Q.useState({}),[C,E]=Q.useState({}),T=(new Date).toISOString().split("T")[0],O=e=>{const{name:t,value:a}=e.target;let r=a;N("dob"===t?e=>m(u({},e),{dob:a,dob_words:_(a)}):e=>m(u({},e),{[t]:a})),N((e=>m(u({},e),{[t]:r})));let n={};"stud_name"===t&&(r?/^\d/.test(r)&&(n.stud_name="Name should not start with a number"):n.stud_name="Thid field is required"),"father_name"===t&&(r?/^\d/.test(r)&&(n.father_name="Name should not start with a number"):n.father_name="Thid field is required"),"class_division"===t&&(r||(n.class_division="Thid field is required")),"dob"===t&&(r||(n.dob="Thid field is required")),"sr_no"===t&&(r||(n.sr_no="Thid field is required")),"father_name"===t&&(r||(n.father_name="Thid field is required")),"date"===t&&(r||(n.date="Thid field is required")),"dob_words"===t&&(r||(n.dob_words="Thid field is required")),k((e=>m(u({},e),{[t]:n[t]})))},D=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},A=t=>p(e,null,(function*(){t.preventDefault();const e=(()=>{const e={};return j.stud_name?/^[^\d].*/.test(j.stud_name)||(e.stud_name="Name should not start with a number"):e.stud_name="Thid field is required",j.father_name?/^[^\d].*/.test(j.father_name)||(e.father_name="Name should not start with a number"):e.father_name="Thid field is required",j.class_division||(e.class_division="Thid field is required"),j.sr_no||(e.sr_no="Thid field is required"),j.dob||(e.dob="Thid field is required"),j.father_name||(e.father_name="Thid field is required"),j.date||(e.date="Thid field is required"),j.dob_words||(e.dob_words="Thid field is required"),k(e),e})()||{};if(Object.keys(e).length>0)return void k(e);const a=m(u({},j),{dob:D(j.dob),date:D(j.date)});try{f(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");const t=yield Uf.put(`${n}/api/update_simplebonafidecertificate/${null==y?void 0:y.sr_no}`,a,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===t.status){hp.success("Simple Bonafide Certificate updated successfully!");const e=t.headers["content-disposition"];let a="DownloadedFile.pdf";if(e){const t=e.match(/filename="(.+?)"/);t&&t[1]&&(a=t[1])}const r=new Blob([t.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),N({sr_no:"",stud_name:"",father_name:"",dob:"",dob_words:"",date:"",class_division:"",purpose:""}),i(null),l(null),k({}),E({}),setTimeout((()=>c(null)),3e3),b("/simpleBonafied")}}catch(r){console.error("Error:",r.response.data,r.response.sr_no),hp.error("An error occurred while updating the Bonafide Certificate."),r.response&&r.response?E(r.response||{}):hp.error(r.response.sr_no)}finally{f(!1)}}));return oe.jsxs("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:[oe.jsx(wp,{}),h&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("div",{className:"    card  px-3 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center  ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Simple Bonafied Certificate"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{k({}),w?b("/simpleBonafied",{state:{section_id:w}}):b("/simpleBonafied")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-8  md:top-[15%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),x&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsx("form",{onSubmit:A,className:"  border-1 overflow-x-hidden shadow-md p-2 bg-gray-100 mb-4",children:oe.jsxs("div",{className:" flex flex-col gap-4 md:grid  md:grid-cols-3 md:gap-x-14 md:mx-10 gap-y-1 pt-4 pb-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold  text-xs mb-2",children:["Sr No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"sr_no",name:"sr_no",readOnly:!0,value:j.sr_no,onChange:O,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),C.sr_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:C.sr_no}),S.sr_no&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.sr_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date_of_joining",className:"block font-bold  text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date_of_joining",name:"date",value:j.date,onChange:O,className:"input-field block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),S.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:S.date})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"stud_name",value:j.stud_name,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.stud_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.stud_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"father_name",className:"block font-bold  text-xs mb-2",children:["Father's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,id:"father_name",name:"father_name",value:j.father_name,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.father_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.father_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",value:j.dob,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",value:j.dob_words,onChange:O,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),S.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-2",children:S.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"class_division",className:"block font-bold  text-xs mb-2",children:["Class/Divsion ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_division",readOnly:!0,name:"class_division",value:j.class_division,onChange:O,className:"input-field block w-full outline-none border border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),S.class_division&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:S.class_division})]}),oe.jsx("div",{className:"col-span-3 text-right",children:oe.jsx("button",{type:"submit",onClick:A,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(h?"opacity-50 cursor-not-allowed":""),disabled:h,children:h?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Update"})})]})})]})]})},Mie=()=>{var t,a,r,n;const s="https://sms.evolvu.in/public",[l,o]=Q.useState(null),[i,d]=Q.useState(null),[c,h]=Q.useState(!1),[f,x]=Q.useState(!1),[g,b]=Q.useState({}),[v,y]=Q.useState(0),[w,j]=Q.useState(0),N=sm(),_=rm(),{student:S}=_.state||{},k=(null==(t=_.state)?void 0:t.section_id)||(null==(r=null==(a=_.state)?void 0:a.student)?void 0:r.section_id)||null;console.log("edit page percentage student for back navigation:",k);const[C,E]=Q.useState({sr_no:"",roll_no:"",date:"",stud_name:"",stud_id:"",class_division:"",teacher_image_name:null});Q.useEffect((()=>{p(e,null,(function*(){var e,t,a,r,n;try{h(!0);const l=localStorage.getItem("authToken");if(!l)throw new Error("No authentication token found");const o=yield Uf.get(`${s}/api/get_percentageData/${null==S?void 0:S.sr_no}`,{headers:{Authorization:`Bearer ${l}`}});if(null==(e=null==o?void 0:o.data)?void 0:e.data){const e=o.data.data,s={};e.classsubject.forEach((e=>{s[e.c_sm_id]=e.marks||""})),b(s),E(m(u({},C),{classsubject:e.classsubject||[],sr_no:(null==(t=null==e?void 0:e.studentinfo)?void 0:t.sr_no)||"",roll_no:e.studentinformation.roll_no||"",date:M||"",stud_name:`${(null==(a=e.studentinformation)?void 0:a.first_name)||""} ${(null==(r=e.studentinformation)?void 0:r.mid_name)||""} ${(null==(n=e.studentinformation)?void 0:n.last_name)||""}`,stud_id:e.studentinformation.student_id||" ",class_division:`${e.studentinformation.classname}-${e.studentinformation.sectionname}`||""})),T(s)}else hp.error("Failed to load data")}catch(l){console.error("Error fetching initial data:",l),hp.error("Error fetching initial data")}finally{h(!1)}}))}),[]);const T=e=>{const t=Object.values(e).filter((e=>""!==e&&!isNaN(e))).map(Number),a=t.reduce(((e,t)=>e+t),0),r=t.length?a/(100*t.length)*100:0;y(a),j(r.toFixed(2))},[O,D]=Q.useState({}),[A,P]=Q.useState({}),M=(new Date).toISOString().split("T")[0],L=e=>{const{name:t,value:a}=e.target;E((e=>m(u({},e),{[t]:a})));let r={};"stud_name"===t&&(a?/^\d/.test(a)&&(r.stud_name="Student name should not start with a number"):r.stud_name="Student name is required"),!a&&["roll_no","date","class_division","roll_no"].includes(t)&&(r[t]="This field is required"),D((e=>m(u({},e),{[t]:r[t]})))},I=t=>p(e,null,(function*(){if(t.preventDefault(),console.log("Submit process started"),D({}),P({}),!(()=>{var e;const t={};return["roll_no","date","stud_name","class_division","roll_no"].forEach((e=>{C[e]||(t[e]="This field is required.")})),null==(e=C.classsubject)||e.forEach((e=>{const a=g[e.c_sm_id];console.log("marks",a),void 0===a||""===a||0===a?t[e.c_sm_id]="Marks are required.":isNaN(a)?t[e.c_sm_id]="Marks should be numeric.":(parseFloat(a)>100||parseFloat(a)<1)&&(t[e.c_sm_id]=`${e.name} Marks should not exceed 100.`)})),D(t),0===Object.keys(t).length})())return void console.log("Validation failed, stopping submission");console.log("Validation passed, proceeding with submission");const e=(()=>{const e=Object.entries(g).map((([e,t])=>({c_sm_id:parseInt(e),marks:parseInt(t)})));return{roll_no:C.roll_no,stud_name:C.stud_name,class_division:C.class_division,percentage:w,total:v,stud_id:C.stud_id,class:e,date:M}})();console.log("dataTosubmkit",e);try{h(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token is found");const a=yield Uf.put(`${s}/api/update_percentagePDF/${null==S?void 0:S.sr_no}`,e,{headers:{Authorization:`Bearer ${t}`},responseType:"blob"});if(200===a.status){hp.success("Percentage Certificate updated successfully!");const e=a.headers["content-disposition"];let t="DownloadedFile.pdf";if(e){const a=e.match(/filename="(.+?)"/);a&&a[1]&&(t=a[1])}const r=new Blob([a.data],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),E({sr_no:"",stud_name:"",father_name:"",dob:"",dob_words:"",date:"",class_division:"",purpose:"",nationality:""}),E({sr_no:"",roll_no:"",date:"",stud_name:"",stud_id:"",class_division:""}),b({}),y(0),j(0),o(null),setTimeout((()=>d(null)),3e3),N("/percentageCertificate")}}catch(a){console.error("Error:",a.response.data,a.response.sr_no),hp.error("An error occurred while updating the Percentage Certificate."),a.response&&a.response?P(a.response||{}):hp.error(a.response.sr_no)}finally{h(!1)}}));return oe.jsxs("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:[oe.jsx(wp,{}),c&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("div",{className:"    card  px-3 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center  ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Percentage Certificate"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{D({}),k?N("/percentageCertificate",{state:{section_id:k}}):N("/percentageCertificate")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-8  md:top-[15%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),f&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("form",{onSubmit:I,className:" w-full gap-x-1 md:gap-x-14  gap-y-1   overflow-x-hidden shadow-md p-4 border-1 bg-gray-100 mb-4",children:[oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 pb-2",children:"Student Details"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold text-xs mb-2",children:["Sr No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"sr_no",name:"sr_no",value:C.sr_no,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date",className:"block font-bold text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date",name:"date",value:C.date,onChange:L,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O.date&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.date})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"roll_no",className:"block font-bold text-xs mb-2",children:["Roll No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"roll_no",name:"roll_no",maxLength:10,value:C.roll_no,onChange:L,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.roll_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.roll_no})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["Student Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"stud_name",value:C.stud_name,onChange:L,readOnly:!0,className:"block  border w-full border-gray-900 rounded-md py-1 px-3  bg-gray-200 outline-none shadow-inner"}),O.stud_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-2 ",children:O.stud_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"class_division",className:"block font-bold text-xs mb-2",children:["Class/Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"class_division",name:"class_division",value:C.class_division,onChange:e=>E(m(u({},C),{class_division:e.target.value})),readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),O.class_division&&oe.jsx("span",{className:"text-red-500 text-xs ml-2 h-1",children:O.class_division})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Academic Performance"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[null==(n=C.classsubject)?void 0:n.map((e=>oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:`subject-${e.c_sm_id}`,className:"block font-bold text-xs mb-2",children:[e.name," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",id:`subject-${e.c_sm_id}`,name:`subject-${e.c_sm_id}`,value:g[e.c_sm_id]||"",onChange:t=>{return a=e.c_sm_id,(r=t.target.value)?/^\d+$/.test(r)?r.length>3?D((e=>m(u({},e),{[a]:"Marks cannot exceed 3 characters."}))):D((e=>m(u({},e),{[a]:""}))):D((e=>m(u({},e),{[a]:"Marks should be numeric."}))):D((e=>m(u({},e),{[a]:"Marks are required."}))),void b((e=>{const t=m(u({},e),{[a]:r});return T(t),t}));var a,r},maxLength:3,className:"block border w-full border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner"}),O[e.c_sm_id]&&oe.jsx("span",{className:"text-red-500 text-xs ml-2",children:O[e.c_sm_id]})]},e.c_sm_id))),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"total",className:"block font-bold text-xs mb-2",children:"Total"}),oe.jsx("input",{type:"number",id:"total",name:"total",value:v,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"percentage",className:"block font-bold text-xs mb-2",children:"Percentage"}),oe.jsx("input",{type:"number",id:"percentage",name:"percentage",value:w,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]})]})]}),oe.jsx("div",{className:"col-span-3 text-right",children:oe.jsx("button",{type:"submit",onClick:I,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Update"})})]})]})]})};function Lie(){var e;const t="https://sms.evolvu.in/public";Q.useState("Manage");const[a,r]=Q.useState([]),[n,s]=Q.useState([]),[l,o]=Q.useState(!1),[i,d]=Q.useState(!1),[c,u]=Q.useState(!1),[m,h]=Q.useState(null),[f,x]=Q.useState(""),[g,b]=Q.useState(""),[v,y]=Q.useState([]),[w,j]=Q.useState(""),[N,_]=Q.useState(0),[S,k]=Q.useState(0),[C,E]=Q.useState(null),[T,O]=Q.useState(null),[D,A]=Q.useState(null),[P,M]=Q.useState({last_date:"",slc_no:"",slc_issue_date:"",leaving_remark:""}),L=sm(),[I,F]=Q.useState(!1),R=Q.useRef(0),$=Q.useRef(""),B=rm(),z=(null==(e=B.state)?void 0:e.section_id)||null;console.log("cast section id",z),Q.useEffect((()=>{W(),Y()}),[]),Q.useEffect((()=>{var e;(null==(e=B.state)?void 0:e.section_id)&&(b(B.state.section_id),q(B.state.section_id),window.history.replaceState({},document.title))}),[B.state]);const U=a.map((e=>{var t;return{value:`${null==e?void 0:e.section_id}`,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name}`}})),H=v.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",H);const W=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(r(a.data),console.log("the name and section",a.data)):E("Unexpected data format")}catch(e){console.error("Error fetching class and section names:",e),E("Error fetching class and section names")}})),Y=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});y(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(e){E(e.message)}})),q=()=>p(this,null,(function*(){var e,a;if(!I){F(!0),O(""),j("");try{const r=localStorage.getItem("authToken"),n=g?{section_id:g}:{},l=yield Uf.get(`${t}/api/get_leavingcertificatestudentlist`,{headers:{Authorization:`Bearer ${r}`},params:n});if(200===(null==(e=null==l?void 0:l.data)?void 0:e.status)&&(null==(a=null==l?void 0:l.data)?void 0:a.data.length)>0){const e=l.data.data;s(e),k(Math.ceil(e.length/10)),console.log("Subjects data:",e)}else s([]),hp.error("No Leaving Certificate Student List found for the selected Class.")}catch(r){console.error("Error fetching Leaving Certificate Student List:",r),E("Error fetching data. Please try again later.")}finally{F(!1)}}})),V=e=>p(this,null,(function*(){h(e),console.log("currentedit",e);try{const a=localStorage.getItem("authToken"),r=(yield Uf.get(`${t}/api/get_leavingcertificatedetailstudent/${e.student_id}`,{headers:{Authorization:`Bearer ${a}`}})).data.data[0]||{};M({last_date:r.last_date||"",slc_no:r.slc_no||"",slc_issue_date:r.slc_issue_date||"",leaving_remark:r.leaving_remark||""})}catch(a){console.error("Error fetching leaving certificate details:",a),E("Error fetching leaving certificate details")}d(!0)})),G=()=>{o(!1),d(!1),u(!1)};Q.useEffect((()=>{const e=w.trim().toLowerCase();""!==e&&""===$.current&&(R.current=N,_(0)),""===e&&""!==$.current&&_(R.current),$.current=e}),[w]);const K=n.filter((e=>{const t=(null==e?void 0:e.student_name.toLowerCase())||"",a=(null==e?void 0:e.slc_no.toLowerCase())||"",r=w.toLowerCase();return t.includes(r)||a.includes(r)}));Q.useEffect((()=>{k(Math.ceil(K.length/10))}),[K,10]);const X=K.slice(10*N,10*(N+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:" mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"LC Students"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{L("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white  rounded-md -mt-5",children:oe.jsxs("div",{className:"mt-4 border-1 border-gray-50 ",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4  ",children:oe.jsx("div",{className:"md:w-[90%] mx-auto",children:oe.jsxs("div",{className:"form-group  relative  left-0 md:left-[10%] mt-3 md:mt-5 w-full  md:w-[60%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsx("label",{htmlFor:"classSection",className:"w-1/3 pt-2 items-center text-center",children:"Select Class"}),oe.jsx("div",{className:"w-full",children:oe.jsx(Soe,{value:D,onChange:e=>{O(""),A(e),b(e?e.value:null)},options:U,placeholder:"Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"})}),oe.jsx("button",{onClick:q,type:"button",className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",disabled:I,children:I?"Searching...":"Search"})]})})}),n.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:" mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage LC Student"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>j(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"})," ",oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"LC No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Photo"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"LC Details"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"View"})]})}),oe.jsx("tbody",{children:X.length?X.map(((e,t)=>{let a="N"===(null==e?void 0:e.IsDelete)&&"Y"!==(null==e?void 0:e.isPromoted);return oe.jsxs("tr",{className:" text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*N+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:e.slc_no}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm py-1",children:[console.log("the teacher image",`${null==e?void 0:e.image_name}`),oe.jsx("img",{src:(null==e?void 0:e.image_name)?`${null==e?void 0:e.image_name}`:"https://via.placeholder.com/50",alt:null==e?void 0:e.name,className:"rounded-full w-8 h-8 lg:w-10 lg:h-10 object-cover"})]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`.trim().replace(/\s+/g," ")}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:[null==e?void 0:e.classname," ",null==e?void 0:e.sectionname]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:a&&oe.jsx("button",{onClick:()=>(e=>{const t=n.find((t=>t.student_id===e));console.log("classsToDelete",t),t?(h(t),x(null==t?void 0:t.student_name),u(!0)):console.error("Bonafied certificate not found for deletion")})(null==e?void 0:e.student_id),className:"text-red-600 hover:text-red-800 hover:bg-transparent",children:oe.jsx(zM,{icon:VM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>V(e),className:"text-blue-500 hover:text-blue-600 hover:bg-transparent ",children:oe.jsx(wg,{className:"font-bold text-xl"})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>{return t=e,console.log("HandleView--\x3e",t),h(t),void L(`/studentLC/view/${null==t?void 0:t.student_id}`,{state:{student:t,section_id:z||g}});var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(kg,{className:"font-bold text-xl"})})})]},e.sr_no)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:S,onPageChange:e=>{_(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]})})]}),i&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsxs("div",{className:"w-[90%] md:w-[44%] max-w-3xl bg-white rounded-md shadow-lg border border-gray-300",children:[oe.jsxs("div",{className:"flex justify-between items-center px-3 bg-gray-50 border-b border-gray-300",children:[oe.jsx("h5",{className:"text-lg font-semibold pt-2",children:"School Leaving Details"}),oe.jsx(sh,{className:"text-lg h-5 w-5 text-red-600 hover:cursor-pointer hover:bg-red-100  rounded-full",onClick:G})]}),oe.jsx("div",{className:"relative h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"p-5",children:[oe.jsxs("div",{className:"flex items-center gap-x-5 mb-4",children:[oe.jsx("label",{htmlFor:"newClassName",className:"w-[90%]",children:"Last Date Of School"}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 rounded-md shadow-sm",children:P.last_date})]}),oe.jsxs("div",{className:"flex items-center gap-x-5 mb-4",children:[oe.jsx("label",{htmlFor:"newSubjectName",className:"w-[90%]",children:"School Leaving Certificate No."}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 rounded-md shadow-sm",children:P.slc_no})]}),oe.jsxs("div",{className:"flex items-center gap-x-5 mb-4",children:[oe.jsx("label",{htmlFor:"newExamName",className:"w-[90%]",children:"School Leaving Certificate Issue Date"}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 rounded-md shadow-sm",children:P.slc_issue_date})]}),oe.jsxs("div",{className:"flex items-center gap-x-5",children:[oe.jsx("label",{htmlFor:"newMarksHeading",className:"w-[90%]",children:"Leaving Remark"}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 rounded-md shadow-sm",children:P.leaving_remark})]})]})]})}),c&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:G}),console.log("the currecnt section inside delete of the managesubjhect",m)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this certificate of"," ",` ${f} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!I){F(!0);try{const e=localStorage.getItem("authToken"),a=null==m?void 0:m.student_id;if(!e||!a)throw new Error("Token or Serial Number is missing");yield Uf.delete(`${t}/api/delete_deletestudentleaving/${a}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),q(),u(!1),hp.success("LC Student deleted successfully!")}catch(e){e.response&&e.response.data?hp.error(`Error deleting LC Student : ${e.response.data.message}`):hp.error(`Error deleting LC Student : ${e.message}`),console.error("Error deleting LC Student :",e)}finally{F(!1),u(!1)}}})),disabled:I,children:I?"Deleting...":"Delete"})})]})})})})]})}function Iie(){var e;const t="https://sms.evolvu.in/public",a=sm(),r=rm(),{student:n}=r.state||{},[s,l]=Q.useState([]);Q.useState([]);const[o,i]=Q.useState(null);Q.useState(null),console.log("student data for view",n);const d=(null==(e=r.state)?void 0:e.section_id)||null;console.log("view student for back navigation:",d),Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});l(a.data)}catch(e){hp.error("Error fetching class names")}}))})()}),[t]);const[c,h]=Q.useState({first_name:"",mid_name:"",last_name:"",house:"",student_name:"",dob:"",admission_date:"",stud_id_no:"",stu_aadhaar_no:"",gender:"",category:" ",blood_group:" ",mother_tongue:"",permant_add:" ",birth_place:"",admission_class:"",city:"",state:"",roll_no:"",class_id:"",section_id:"",religion:"",caste:"",subcaste:"",vehicle_no:"",emergency_name:"",emergency_contact:"",emergency_add:"",transport_mode:" ",height:"",weight:"",allergies:"",nationality:"",pincode:"",image_name:"",student_id:"",reg_id:" ",father_name:"",father_occupation:"",f_office_add:"",f_office_tel:"",f_mobile:"",f_email:"",f_dob:" ",m_dob:" ",parent_adhar_no:"",mother_name:"",mother_occupation:"",m_office_add:"",m_office_tel:"",m_mobile:"",m_emailid:"",m_adhar_no:"",udise_pen_no:"",user_id:"",SetToReceiveSMS:"",SetEmailIDAsUsername:""}),[f,x]=Q.useState(null);return Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("Token is missing");const a=yield Uf.get(`${t}/api/get_leavingcertificatestudentinformation/${null==n?void 0:n.student_id}`,{headers:{Authorization:`Bearer ${e}`}});if(a.data.success){const e=a.data.data.studentinformation[0];h({first_name:e.first_name||" ",mid_name:e.mid_name||"",last_name:e.last_name||"",house:e.house||"",student_name:e.student_name||"",dob:e.dob||"",admission_date:e.admission_date||"",stud_id_no:e.stud_id_no||"",stu_aadhaar_no:e.stu_aadhaar_no||"",gender:e.gender||"",permant_add:e.permant_add||" ",mother_tongue:e.mother_tongue||"",birth_place:e.birth_place||"",admission_class:e.admission_class||" ",city:e.city||" ",state:e.state||"",roll_no:e.roll_no||"",student_id:e.stud_id_no||" ",reg_id:e.reg_no||" ",blood_group:e.blood_group||" ",category:e.category||" ",class_id:e.classname||"",section_id:e.sectionname||"",religion:e.religion||"",caste:e.caste||"",subcaste:e.subcaste||"",transport_mode:e.transport_mode||" ",vehicle_no:e.vehicle_no||"",emergency_name:e.emergency_name||" ",emergency_contact:e.emergency_contact||"",emergency_add:e.emergency_add||"",height:e.height||"",weight:e.weight||"",allergies:e.allergies||"",nationality:e.nationality||"",pincode:e.pincode||"",image_name:e.image_name||"",father_name:e.father_name||" ",father_occupation:e.father_occupation||"",f_office_add:e.f_office_add||"  ",f_blood_group:e.f_blood_group||"",f_office_tel:e.f_office_tel||"",f_mobile:e.f_mobile||"",f_email:e.f_email||"",f_dob:e.f_dob||" ",m_dob:e.m_dob||" ",parent_adhar_no:e.parent_adhar_no||"",mother_name:e.mother_name||" ",mother_occupation:e.mother_occupation||"",m_office_add:e.m_office_add||" ",m_office_tel:e.m_office_tel||"",m_mobile:e.m_mobile||"",m_blood_group:e.m_blood_group||"",m_emailid:e.m_emailid||"",m_adhar_no:e.m_adhar_no||"",udise_pen_no:e.udise_pen_no||" ",user_id:e.UserId||" ",SetToReceiveSMS:e.SetToReceiveSMS||"",SetEmailIDAsUsername:e.SetEmailIDAsUsername||""}),e.image_name&&x(e.studentimage||"")}else hp.error("Error: "+a.data.message)}catch(e){console.error("Error fetching student data:",e),hp.error("Error fetching student data")}}))})()}),[]),oe.jsxs("div",{className:" w-[95%] mx-auto p-4",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-3  rounded-md",children:[oe.jsxs("div",{className:"card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"View LC Student Information"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>a("/manageStudentLC",{state:{section_id:d}})})]}),oe.jsx("div",{className:"relative w-full -top-6 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("form",{className:"md:mx-2 overflow-x-hidden shadow-md py-1 bg-gray-50",children:oe.jsxs("div",{className:"flex flex-col gap-y-3 p-2 md:grid md:grid-cols-4 md:gap-x-14 md:mx-10 ",children:[oe.jsxs("h5",{className:"col-span-4 text-blue-400  relative top-2",children:[" ","Personal Information"]}),oe.jsx("div",{className:"row-span-2",children:oe.jsxs("label",{htmlFor:"teacher_image_name",className:"block font-bold text-xs mb-2",children:["Photo",f?oe.jsx("img",{src:f,alt:"Photo Preview",className:"h-20 w-20 rounded-[50%] mx-auto border-1 border-black object-cover"}):oe.jsx(ah,{className:"mt-2 h-20 w-20 object-cover mx-auto text-gray-300"})]})}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"first_name",className:"block font-bold text-xs mb-0.5",children:"First Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.first_name,className:"  block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"mid_name",className:"block font-bold text-xs mb-0.5",children:"Middle Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.mid_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"lastName",className:"block font-bold text-xs mb-0.5",children:"Last Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.last_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dateOfBirth",className:"block font-bold text-xs mb-0.5",children:"Date of Birth"}),oe.jsx("input",{type:"date",disabled:!0,value:c.dob,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"gender",className:"block font-bold text-xs mb-0.5",children:"Gender"}),oe.jsx("input",{type:"text",disabled:!0,value:"F"===c.gender?"Female":"M"===c.gender?"Male":"",className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsx("input",{type:"text",disabled:!0,value:c.blood_group,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold text-xs mb-0.5",children:"Religion"}),oe.jsx("input",{type:"text",disabled:!0,value:c.religion,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"caste",className:"block font-bold text-xs mb-0.5",children:"Caste"}),oe.jsx("input",{type:"text",disabled:!0,value:c.caste,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"category",className:"block font-bold text-xs mb-0.5",children:"Category"}),oe.jsx("input",{type:"text",disabled:!0,value:c.category,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"birthPlace",className:"block font-bold text-xs mb-0.5",children:"Birth Place"}),oe.jsx("input",{type:"text",disabled:!0,value:c.birth_place,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"nationality",className:"block font-bold text-xs mb-0.5",children:"Nationality"}),oe.jsx("input",{type:"text",disabled:!0,value:c.nationality,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"motherTongue",className:"block font-bold text-xs mb-0.5",children:"Mother Tongue"}),oe.jsx("input",{type:"text",disabled:!0,value:c.mother_tongue,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Student Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentName",className:"block font-bold text-xs mb-0.5",children:"Student Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.student_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentClass",className:"block font-bold text-xs mb-0.5",children:"Class"}),oe.jsx("input",{type:"text",disabled:!0,value:c.class_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"division",className:"block font-bold text-xs mb-0.5",children:"Division"}),oe.jsx("input",{type:"text",disabled:!0,value:c.section_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"rollNumber",className:"block font-bold text-xs mb-0.5",children:"Roll No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.roll_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"grnNumber",className:"block font-bold text-xs mb-0.5",children:"GRN No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.reg_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]})," ",oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"house",className:"block font-bold text-xs mb-0.5",children:"House"}),oe.jsx("input",{type:"text",disabled:!0,value:"D"===c.house?"Diamond":"E"===c.house?"Emerald":"R"===c.house?"Ruby":"S"===c.house?"Sapphire":"",className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"admittedInClass",className:"block font-bold text-xs mb-0.5",children:"Admitted In Class"}),oe.jsx("input",{type:"text",disabled:!0,value:c.admission_class,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Date of Admission"}),oe.jsx("input",{type:"date",disabled:!0,value:c.admission_date,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentIdNumber",className:"block font-bold text-xs mb-0.5",children:"Student ID No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.stud_id_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:"Student Aadhar No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.stu_aadhaar_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]})," ",o>99&&oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:"Udise Pen No."}),oe.jsx("input",{type:"text",disabled:!0,maxLength:14,value:c.udise_pen_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Address Information"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"address",className:"block font-bold text-xs mb-0.5",children:"Address"}),oe.jsx("textarea",{id:"address",disabled:!0,rows:2,value:c.permant_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"city",className:"block font-bold text-xs mb-0.5",children:"City"}),oe.jsx("input",{type:"text",disabled:!0,maxLength:100,value:c.city,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"state",className:"block font-bold text-xs mb-0.5",children:"State"}),oe.jsx("input",{type:"text",disabled:!0,value:c.state,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"pincode",className:"block font-bold text-xs mb-0.5",children:"Pincode"}),oe.jsx("input",{type:"text",disabled:!0,value:c.pincode,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Emergency Contact"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"emergencyName",className:"block font-bold text-xs mb-0.5",children:"Emergency Name"}),oe.jsx("input",{type:"text",id:"emergencyName",disabled:!0,value:c.emergency_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"emergencyAddress",className:" font-bold text-xs mb-0.5",children:"Emergency Address"}),oe.jsx("textarea",{id:"emergencyAddress",disabled:!0,value:c.emergency_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "}),oe.jsxs("div",{className:"flex flex-row items-center gap-2 -mt-1 w-full",children:[oe.jsx("input",{type:"checkbox",disabled:!0,className:"border h-[26px] border-[#ccc] px-3 py-[6px] text-[14px] leading-4 outline-none",onChange:e=>{e.target.checked?h((e=>m(u({},e),{emergency_add:e.permant_add}))):h((e=>m(u({},e),{emergency_add:""})))}}),oe.jsx("label",{htmlFor:"sameAs",className:"text-xs",children:"Same as permanent address"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"emergencyContact",className:"block font-bold text-xs mb-0.5",children:["Emergency Contact"," "]}),oe.jsxs("div",{className:"w-full flex flex-row items-center",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"text",inputMode:"numeric",id:"emergencyContact",disabled:!0,maxLength:10,value:c.emergency_contact,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"transportMode",className:"block font-bold text-xs mb-0.5",children:"Transport Mode"}),oe.jsx("input",{type:"text",disabled:!0,value:c.transport_mode,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "}),oe.jsx("input",{type:"text",id:"vehicleNumber",disabled:!0,maxLength:13,placeholder:"Vehicle No.",value:c.vehicle_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Health Information"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"allergies",className:"block font-bold text-xs mb-0.5",children:"Allergies(if any)"}),oe.jsx("input",{type:"text",disabled:!0,maxLength:200,value:c.allergies,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"height",className:"block font-bold text-xs mb-0.5",children:"Height"}),oe.jsx("input",{type:"text",id:"height",maxLength:4.1,disabled:!0,value:c.height,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"weight",className:"block font-bold text-xs mb-0.5",children:"Weight"}),oe.jsx("input",{type:"text",id:"weight",disabled:!0,maxLength:4.1,value:c.weight,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"  flex gap-4 pt-[7px]",children:[oe.jsx("div",{htmlFor:"weight",className:"block font-bold text-[.9em] mt-4 ",children:"Has Spectacles"}),oe.jsxs("div",{className:"flex items-center gap-6 mt-3",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"radio",id:"yes",checked:"Y"===c.has_specs,value:"Y"}),oe.jsx("label",{htmlFor:"yes",className:"ml-1",children:"Yes"})]}),oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"radio",id:"no",checked:"N"===c.has_specs||!c.has_specs,value:"N"}),oe.jsx("label",{htmlFor:"no",className:"ml-1",children:"No"})]})]})]}),oe.jsx("div",{className:"w-full col-span-4 relative top-4",children:oe.jsx("div",{className:"w-full mx-auto",children:oe.jsxs("h3",{className:"text-blue-500 w-full mx-auto text-center  md:text-[1.2em] text-nowrap font-bold",children:[" ",oe.jsx(Eg,{className:"text-[1.4em] text-blue-700 inline"})," ","Parent's Information :"," "]})})}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Father Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Name"}),oe.jsx("input",{type:"text",id:"email",disabled:!0,maxLength:100,value:c.father_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Occupation"}),oe.jsx("input",{type:"text",id:"email",maxLength:100,disabled:!0,value:c.father_occupation,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsx("input",{type:"text",disabled:!0,value:c.f_blood_group,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Father Aadhaar Card No."}),oe.jsx("input",{type:"text",id:"email",disabled:!0,maxLength:12,value:c.parent_adhar_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Office Address"}),oe.jsx("textarea",{id:"email",rows:2,maxLength:200,disabled:!0,value:c.f_office_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"telephone",className:"block font-bold text-xs mb-0.5",children:"Telephone"}),oe.jsx("input",{type:"text",maxLength:11,id:"telephone",disabled:!0,value:c.f_office_tel,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"phone",className:"block font-bold text-xs mb-0.5",children:"Mobile Number"}),oe.jsxs("div",{className:"flex",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",disabled:!0,pattern:"\\d{10}",maxLength:"10",value:c.f_mobile,className:" block w-full  outline-none rounded-r-md py-1 px-3 bg-gray-300 ",required:!0})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Email Id"}),oe.jsx("input",{type:"text",disabled:!0,value:c.f_email,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Father Date Of Birth"}),oe.jsx("input",{type:"date",id:"dataOfAdmission",disabled:!0,value:c.f_dob,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"UserID",className:"block font-bold text-xs mb-0.5",children:"User Id"}),oe.jsx("input",{type:"text",disabled:!0,value:c.user_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Mother Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.mother_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Occupation"}),oe.jsx("input",{type:"text",id:"email",maxLength:100,disabled:!0,value:c.mother_occupation,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsx("input",{type:"text",disabled:!0,value:c.m_blood_group,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Mother Aadhaar Card No."}),oe.jsx("input",{type:"text",id:"email",disabled:!0,maxLength:12,value:c.m_adhar_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Office Address"}),oe.jsx("textarea",{id:"email",disabled:!0,rows:2,value:c.m_office_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"m_office_tel",className:"block font-bold text-xs mb-0.5",children:"Telephone"}),oe.jsx("input",{type:"text",maxLength:11,id:"m_office_tel",disabled:!0,value:c.m_office_tel,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"phone",className:"block font-bold text-xs mb-0.5",children:"Mobile Number"}),oe.jsxs("div",{className:"flex",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",disabled:!0,value:c.m_mobile,className:" block w-full  outline-none rounded-r-md py-1 px-3 bg-gray-300 ",required:!0})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Email Id"}),oe.jsx("input",{type:"email",id:"email",disabled:!0,maxLength:50,value:c.m_emailid,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Mother Date Of Birth"}),oe.jsx("input",{type:"date",id:"dataOfAdmission",disabled:!0,value:c.f_dob,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsx("div",{className:"  col-span-3  mt-4 text-right space-x-4",children:oe.jsx("button",{onClick:()=>{a("/manageStudentLC")},className:" text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})})]})})]})]})}function Fie(){var e;const t="https://sms.evolvu.in/public";Q.useState("Manage");const[a,r]=Q.useState([]),[n,s]=Q.useState([]),[l,o]=Q.useState(!1),[i,d]=Q.useState(!1),[c,u]=Q.useState(!1),[m,h]=Q.useState(null),[f,x]=Q.useState(""),[g,b]=Q.useState(""),[v,y]=Q.useState([]),[w,j]=Q.useState(""),[N,_]=Q.useState(0),[S,k]=Q.useState(0),C=Q.useRef(0),E=Q.useRef(""),[T,O]=Q.useState(null),[D,A]=Q.useState(null),[P,M]=Q.useState(null),[L,I]=Q.useState({last_date:"",slc_no:"",slc_issue_date:"",leaving_remark:""}),F=sm(),[R,$]=Q.useState(!1),B=rm(),z=(null==(e=B.state)?void 0:e.section_id)||null;console.log("ddeleted section id",z),Q.useEffect((()=>{W(),Y()}),[]),Q.useEffect((()=>{var e;(null==(e=B.state)?void 0:e.section_id)&&(b(B.state.section_id),window.history.replaceState({},document.title),q(B.state.section_id))}),[B.state]);const U=a.map((e=>{var t;return{value:`${null==e?void 0:e.section_id}`,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name}`}})),H=v.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",H);const W=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(r(a.data),console.log("the name and section",a.data)):O("Unexpected data format")}catch(e){console.error("Error fetching class and section names:",e),O("Error fetching class and section names")}})),Y=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});y(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(e){O(e.message)}})),q=()=>p(this,null,(function*(){var e,a,r;if(!R){$(!0),A(""),j("");try{const n=localStorage.getItem("authToken"),l=g||(null==(e=B.state)?void 0:e.section_id),o=l?{section_id:l}:{},i=yield Uf.get(`${t}/api/get_deletedstudentlist`,{headers:{Authorization:`Bearer ${n}`},params:o});if(200===(null==(a=null==i?void 0:i.data)?void 0:a.status)&&(null==(r=null==i?void 0:i.data)?void 0:r.data.length)>0){const e=i.data.data;s(e),k(Math.ceil(e.length/10)),console.log("Subjects data:",e)}else s([]),hp.error("No Deleted Students List found for the selected Class.")}catch(n){console.error("Error fetching Deleted Students List:",n),O("Error fetching data. Please try again later.")}finally{$(!1)}}})),V=e=>p(this,null,(function*(){if(!R){$(!0),h(e),console.log("currentedit",e);try{const a=localStorage.getItem("authToken"),r=(yield Uf.get(`${t}/api/get_leavingcertificatedetailstudent/${e.student_id}`,{headers:{Authorization:`Bearer ${a}`}})).data.data[0]||{};I({last_date:r.last_date||"",slc_no:r.slc_no||"",slc_issue_date:r.slc_issue_date||"",leaving_remark:r.leaving_remark||""})}catch(a){console.error("Error fetching leaving certificate details:",a),O("Error fetching leaving certificate details")}finally{$(!1),d(!0)}}})),G=()=>{o(!1),d(!1),u(!1)};Q.useEffect((()=>{const e=w.trim().toLowerCase();""!==e&&""===E.current&&(C.current=N,_(0)),""===e&&""!==E.current&&_(C.current),E.current=e}),[w]);const K=n.filter((e=>{var t,a;const r=(null==(t=null==e?void 0:e.student_name)?void 0:t.toLowerCase())||"",n=(null==(a=null==e?void 0:e.roll_no)?void 0:a.toString())||"",s=w.toLowerCase();return r.includes(s)||n.includes(s)}));Q.useEffect((()=>{k(Math.ceil(K.length/10))}),[K,10]);const X=K.slice(10*N,10*(N+1));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-[80%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:" mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Deleted Students"}),oe.jsx(sh,{className:"float-end relative  -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{F("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white  rounded-md -mt-5",children:oe.jsxs("div",{className:"mt-4 border-1 border-gray-50 ",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4  ",children:oe.jsx("div",{className:"md:w-[90%] mx-auto",children:oe.jsxs("div",{className:"form-group  relative  left-0 md:left-[10%] mt-3 md:mt-5 w-full  md:w-[60%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsx("label",{htmlFor:"classSection",className:"w-1/3 pt-2 items-center text-center",children:"Select Class"}),oe.jsx("div",{className:"w-full",children:oe.jsx(Soe,{value:P,onChange:e=>{A(""),M(e),b(e?e.value:null)},options:U,placeholder:"Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"})}),oe.jsx("button",{onClick:q,type:"button",className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",disabled:R,children:R?"Searching...":"Search"})]})})}),n.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:" mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Deleted Student"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>j(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"})," ",oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Roll No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Photo"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Generate LC / LC No."}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"LC Details"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"RC & Certificates"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"View"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Add Student"})]})}),oe.jsx("tbody",{children:X.length?X.map(((e,t)=>oe.jsxs("tr",{className:" text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*N+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:e.roll_no}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm py-1",children:[console.log("the teacher image",`${null==e?void 0:e.image_name}`),oe.jsx("img",{src:(null==e?void 0:e.image_name)?`${null==e?void 0:e.image_name}`:"https://via.placeholder.com/50",alt:null==e?void 0:e.name,className:"rounded-full w-8 h-8 lg:w-10 lg:h-10 object-cover"})]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`.trim().replace(/\s+/g," ")}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:`${null==e?void 0:e.classname} ${null==e?void 0:e.sectionname}`}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:""===e.slc_no||null===e.slc_no?oe.jsx("button",{onClick:()=>{return h(t=e),void F(`/deletedStudent/edit/${null==t?void 0:t.student_id}`,{state:{student:t,section_id:t.section_id}});var t},className:"text-blue-700 hover:text-blue-900 hover:bg-transparent",children:oe.jsx(Lj,{className:"font-bold text-xl"})}):oe.jsx("span",{children:e.slc_no})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>V(e),className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(wg,{className:"font-bold text-xl"})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(Xoe,{className:"font-bold text-xl"})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>{return t=e,console.log("HandleView--\x3e",t),h(t),void F(`/deletedStudent/view/${null==t?void 0:t.student_id}`,{state:{student:t,section_id:z||g}});var t},className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",children:oe.jsx(kg,{className:"font-bold text-xl"})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("button",{onClick:()=>(e=>{const t=n.find((t=>t.student_id===e));console.log("classsToDelete",t),t?(h(t),x(null==t?void 0:t.student_name),u(!0)):console.error("Deleted student not found")})(null==e?void 0:e.student_id),className:"text-pink-500 hover:text-pink-700 hover:bg-transparent",children:oe.jsx(th,{icon:VM})})})]},e.sr_no))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:S,onPageChange:e=>{_(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]})})]}),i&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsxs("div",{className:"w-[90%] md:w-[44%] max-w-3xl bg-white rounded-md shadow-lg border border-gray-300",children:[oe.jsxs("div",{className:"flex justify-between items-center px-3 bg-gray-50 border-b border-gray-300",children:[oe.jsx("h5",{className:"text-lg font-semibold pt-2",children:"School Leaving Details"}),oe.jsx(sh,{className:"text-lg h-5 w-5 text-red-600 hover:cursor-pointer hover:bg-red-100  rounded-full",onClick:G})]}),oe.jsx("div",{className:"relative h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"p-5",children:[oe.jsxs("div",{className:"flex items-center gap-x-5 mb-4",children:[oe.jsx("label",{htmlFor:"newClassName",className:"w-[90%]",children:"Last Date Of School"}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 h-8 rounded-md shadow-sm",children:L.last_date})]}),oe.jsxs("div",{className:"flex items-center gap-x-5 mb-4",children:[oe.jsx("label",{htmlFor:"newSubjectName",className:"w-[90%]",children:"School Leaving Certificate No."}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 h-8 rounded-md shadow-sm",children:L.slc_no})]}),oe.jsxs("div",{className:"flex items-center gap-x-5 mb-4",children:[oe.jsx("label",{htmlFor:"newExamName",className:"w-[90%]",children:"School Leaving Certificate Issue Date"}),oe.jsx("div",{className:"w-full bg-gray-200 p-2  h-8 rounded-md shadow-sm",children:L.slc_issue_date})]}),oe.jsxs("div",{className:"flex items-center gap-x-5",children:[oe.jsx("label",{htmlFor:"newMarksHeading",className:"w-[90%]",children:"Leaving Remark"}),oe.jsx("div",{className:"w-full bg-gray-200 p-2 h-8 rounded-md shadow-sm",children:L.leaving_remark})]})]})]})}),c&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Add Student"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:G}),console.log("the currecnt section inside delete of the managesubjhect",m)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to add this Student:"," ",` ${f} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!R){$(!0);try{const e=localStorage.getItem("authToken"),a=null==m?void 0:m.student_id;if(!e||!a)throw new Error("Token or Student ID is missing");yield Uf.put(`${t}/api/update_adddeletedstudent/${a}`,{},{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}),q(),u(!1),hp.success("Student added successfully!")}catch(e){e.response&&e.response.data?hp.error(`Error adding student: ${e.response.data.message}`):hp.error(`Error in adding student: ${e.message}`),console.error("Error in adding student:",e)}finally{$(!1)}}})),disabled:R,children:R?"Saving...":"Add"})})]})})})})]})}function Rie(){var e;const t="https://sms.evolvu.in/public",a=sm(),r=rm(),{student:n}=r.state||{},[s,l]=Q.useState([]);Q.useState([]);const[o,i]=Q.useState(null);Q.useState(null),console.log("student data for view",n);const d=(null==(e=r.state)?void 0:e.section_id)||null;console.log("view student for back navigation:",d),Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});l(a.data)}catch(e){hp.error("Error fetching class names")}}))})()}),[t]);const[c,h]=Q.useState({first_name:"",mid_name:"",last_name:"",house:"",student_name:"",dob:"",admission_date:"",stud_id_no:"",stu_aadhaar_no:"",gender:"",category:" ",blood_group:" ",mother_tongue:"",permant_add:" ",birth_place:"",admission_class:"",city:"",state:"",roll_no:"",class_id:"",section_id:"",religion:"",caste:"",subcaste:"",vehicle_no:"",emergency_name:"",emergency_contact:"",emergency_add:"",transport_mode:" ",height:"",weight:"",allergies:"",nationality:"",pincode:"",image_name:"",student_id:"",reg_id:" ",father_name:"",father_occupation:"",f_office_add:"",f_office_tel:"",f_mobile:"",f_email:"",f_dob:" ",m_dob:" ",parent_adhar_no:"",mother_name:"",mother_occupation:"",m_office_add:"",m_office_tel:"",m_mobile:"",m_emailid:"",m_adhar_no:"",udise_pen_no:"",user_id:"",SetToReceiveSMS:"",SetEmailIDAsUsername:""}),[f,x]=Q.useState(null);return Q.useEffect((()=>{(()=>{p(this,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)throw new Error("Token is missing");const a=yield Uf.get(`${t}/api/get_leavingcertificatestudentinformation/${null==n?void 0:n.student_id}`,{headers:{Authorization:`Bearer ${e}`}});if(a.data.success){const e=a.data.data.studentinformation[0];h({first_name:e.first_name||" ",mid_name:e.mid_name||"",last_name:e.last_name||"",house:e.house||"",student_name:e.student_name||"",dob:e.dob||"",admission_date:e.admission_date||"",stud_id_no:e.stud_id_no||"",stu_aadhaar_no:e.stu_aadhaar_no||"",gender:e.gender||"",permant_add:e.permant_add||" ",mother_tongue:e.mother_tongue||"",birth_place:e.birth_place||"",admission_class:e.admission_class||" ",city:e.city||" ",state:e.state||"",roll_no:e.roll_no||"",student_id:e.stud_id_no||" ",reg_id:e.reg_no||" ",blood_group:e.blood_group||" ",category:e.category||" ",class_id:e.classname||"",section_id:e.sectionname||"",religion:e.religion||"",caste:e.caste||"",subcaste:e.subcaste||"",transport_mode:e.transport_mode||" ",vehicle_no:e.vehicle_no||"",emergency_name:e.emergency_name||" ",emergency_contact:e.emergency_contact||"",emergency_add:e.emergency_add||"",height:e.height||"",weight:e.weight||"",allergies:e.allergies||"",nationality:e.nationality||"",pincode:e.pincode||"",image_name:e.image_name||"",father_name:e.father_name||" ",father_occupation:e.father_occupation||"",f_office_add:e.f_office_add||"  ",f_blood_group:e.f_blood_group||"",f_office_tel:e.f_office_tel||"",f_mobile:e.f_mobile||"",f_email:e.f_email||"",f_dob:e.f_dob||" ",m_dob:e.m_dob||" ",parent_adhar_no:e.parent_adhar_no||"",mother_name:e.mother_name||" ",mother_occupation:e.mother_occupation||"",m_office_add:e.m_office_add||" ",m_office_tel:e.m_office_tel||"",m_mobile:e.m_mobile||"",m_blood_group:e.m_blood_group||"",m_emailid:e.m_emailid||"",m_adhar_no:e.m_adhar_no||"",udise_pen_no:e.udise_pen_no||" ",user_id:e.UserId||" ",SetToReceiveSMS:e.SetToReceiveSMS||"",SetEmailIDAsUsername:e.SetEmailIDAsUsername||""}),e.image_name&&x(e.studentimage||"")}else hp.error("Error: "+a.data.message)}catch(e){console.error("Error fetching student data:",e),hp.error("Error fetching student data")}}))})()}),[]),oe.jsxs("div",{className:" w-[95%] mx-auto p-4",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-3  rounded-md",children:[oe.jsxs("div",{className:"card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"View Deleted Student Information"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>a("/deleteStudent",{state:{section_id:d}})})]}),oe.jsx("div",{className:"relative w-full -top-6 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("form",{className:"md:mx-2 overflow-x-hidden shadow-md py-1 bg-gray-50",children:oe.jsxs("div",{className:"flex flex-col gap-y-3 p-2 md:grid md:grid-cols-4 md:gap-x-14 md:mx-10 ",children:[oe.jsxs("h5",{className:"col-span-4 text-blue-400  relative top-2",children:[" ","Personal Information"]}),oe.jsx("div",{className:"row-span-2",children:oe.jsxs("label",{htmlFor:"teacher_image_name",className:"block font-bold text-xs mb-2",children:["Photo",f?oe.jsx("img",{src:f,alt:"Photo Preview",className:"h-20 w-20 rounded-[50%] mx-auto border-1 border-black object-cover"}):oe.jsx(ah,{className:"mt-2 h-20 w-20 object-cover mx-auto text-gray-300"})]})}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"first_name",className:"block font-bold text-xs mb-0.5",children:"First Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.first_name,className:"  block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"mid_name",className:"block font-bold text-xs mb-0.5",children:"Middle Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.mid_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"lastName",className:"block font-bold text-xs mb-0.5",children:"Last Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.last_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dateOfBirth",className:"block font-bold text-xs mb-0.5",children:"Date of Birth"}),oe.jsx("input",{type:"date",disabled:!0,value:c.dob,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"gender",className:"block font-bold text-xs mb-0.5",children:"Gender"}),oe.jsx("input",{type:"text",disabled:!0,value:"F"===c.gender?"Female":"M"===c.gender?"Male":"",className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsx("input",{type:"text",disabled:!0,value:c.blood_group,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold text-xs mb-0.5",children:"Religion"}),oe.jsx("input",{type:"text",disabled:!0,value:c.religion,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"caste",className:"block font-bold text-xs mb-0.5",children:"Caste"}),oe.jsx("input",{type:"text",disabled:!0,value:c.caste,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"category",className:"block font-bold text-xs mb-0.5",children:"Category"}),oe.jsx("input",{type:"text",disabled:!0,value:c.category,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"birthPlace",className:"block font-bold text-xs mb-0.5",children:"Birth Place"}),oe.jsx("input",{type:"text",disabled:!0,value:c.birth_place,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"nationality",className:"block font-bold text-xs mb-0.5",children:"Nationality"}),oe.jsx("input",{type:"text",disabled:!0,value:c.nationality,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"motherTongue",className:"block font-bold text-xs mb-0.5",children:"Mother Tongue"}),oe.jsx("input",{type:"text",disabled:!0,value:c.mother_tongue,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Student Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentName",className:"block font-bold text-xs mb-0.5",children:"Student Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.student_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentClass",className:"block font-bold text-xs mb-0.5",children:"Class"}),oe.jsx("input",{type:"text",disabled:!0,value:c.class_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"division",className:"block font-bold text-xs mb-0.5",children:"Division"}),oe.jsx("input",{type:"text",disabled:!0,value:c.section_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"rollNumber",className:"block font-bold text-xs mb-0.5",children:"Roll No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.roll_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"grnNumber",className:"block font-bold text-xs mb-0.5",children:"GRN No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.reg_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]})," ",oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"house",className:"block font-bold text-xs mb-0.5",children:"House"}),oe.jsx("input",{type:"text",disabled:!0,value:"D"===c.house?"Diamond":"E"===c.house?"Emerald":"R"===c.house?"Ruby":"S"===c.house?"Sapphire":"",className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"admittedInClass",className:"block font-bold text-xs mb-0.5",children:"Admitted In Class"}),oe.jsx("input",{type:"text",disabled:!0,value:c.admission_class,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Date of Admission"}),oe.jsx("input",{type:"date",disabled:!0,value:c.admission_date,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentIdNumber",className:"block font-bold text-xs mb-0.5",children:"Student ID No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.student_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:"Student Aadhar No."}),oe.jsx("input",{type:"text",disabled:!0,value:c.stu_aadhaar_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]})," ",o>99&&oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:"Udise Pen No."}),oe.jsx("input",{type:"text",disabled:!0,maxLength:14,value:c.udise_pen_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Address Information"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"address",className:"block font-bold text-xs mb-0.5",children:"Address"}),oe.jsx("textarea",{id:"address",disabled:!0,rows:2,value:c.permant_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"city",className:"block font-bold text-xs mb-0.5",children:"City"}),oe.jsx("input",{type:"text",disabled:!0,maxLength:100,value:c.city,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"state",className:"block font-bold text-xs mb-0.5",children:"State"}),oe.jsx("input",{type:"text",disabled:!0,value:c.state,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"pincode",className:"block font-bold text-xs mb-0.5",children:"Pincode"}),oe.jsx("input",{type:"text",disabled:!0,value:c.pincode,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Emergency Contact"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"emergencyName",className:"block font-bold text-xs mb-0.5",children:"Emergency Name"}),oe.jsx("input",{type:"text",id:"emergencyName",disabled:!0,value:c.emergency_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"emergencyAddress",className:" font-bold text-xs mb-0.5",children:"Emergency Address"}),oe.jsx("textarea",{id:"emergencyAddress",disabled:!0,value:c.emergency_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "}),oe.jsxs("div",{className:"flex flex-row items-center gap-2 -mt-1 w-full",children:[oe.jsx("input",{type:"checkbox",disabled:!0,className:"border h-[26px] border-[#ccc] px-3 py-[6px] text-[14px] leading-4 outline-none",onChange:e=>{e.target.checked?h((e=>m(u({},e),{emergency_add:e.permant_add}))):h((e=>m(u({},e),{emergency_add:""})))}}),oe.jsx("label",{htmlFor:"sameAs",className:"text-xs",children:"Same as permanent address"})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"emergencyContact",className:"block font-bold text-xs mb-0.5",children:["Emergency Contact"," "]}),oe.jsxs("div",{className:"w-full flex flex-row items-center",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"text",inputMode:"numeric",id:"emergencyContact",disabled:!0,maxLength:10,value:c.emergency_contact,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"transportMode",className:"block font-bold text-xs mb-0.5",children:"Transport Mode"}),oe.jsx("input",{type:"text",disabled:!0,value:c.transport_mode,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "}),oe.jsx("input",{type:"text",id:"vehicleNumber",disabled:!0,maxLength:13,placeholder:"Vehicle No.",value:c.vehicle_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Health Information"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"allergies",className:"block font-bold text-xs mb-0.5",children:"Allergies(if any)"}),oe.jsx("input",{type:"text",disabled:!0,maxLength:200,value:c.allergies,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"height",className:"block font-bold text-xs mb-0.5",children:"Height"}),oe.jsx("input",{type:"text",id:"height",maxLength:4.1,disabled:!0,value:c.height,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"weight",className:"block font-bold text-xs mb-0.5",children:"Weight"}),oe.jsx("input",{type:"text",id:"weight",disabled:!0,maxLength:4.1,value:c.weight,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"  flex gap-4 pt-[7px]",children:[oe.jsx("div",{htmlFor:"weight",className:"block font-bold text-[.9em] mt-4 ",children:"Has Spectacles"}),oe.jsxs("div",{className:"flex items-center gap-6 mt-3",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"radio",id:"yes",checked:"Y"===c.has_specs,value:"Y"}),oe.jsx("label",{htmlFor:"yes",className:"ml-1",children:"Yes"})]}),oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"radio",id:"no",checked:"N"===c.has_specs||!c.has_specs,value:"N"}),oe.jsx("label",{htmlFor:"no",className:"ml-1",children:"No"})]})]})]}),oe.jsx("div",{className:"w-full col-span-4 relative top-4",children:oe.jsx("div",{className:"w-full mx-auto",children:oe.jsxs("h3",{className:"text-blue-500 w-full mx-auto text-center  md:text-[1.2em] text-nowrap font-bold",children:[" ",oe.jsx(Eg,{className:"text-[1.4em] text-blue-700 inline"})," ","Parent's Information :"," "]})})}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Father Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Name"}),oe.jsx("input",{type:"text",id:"email",disabled:!0,maxLength:100,value:c.father_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Occupation"}),oe.jsx("input",{type:"text",id:"email",maxLength:100,disabled:!0,value:c.father_occupation,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsx("input",{type:"text",disabled:!0,value:c.f_blood_group,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Father Aadhaar Card No."}),oe.jsx("input",{type:"text",id:"email",disabled:!0,maxLength:12,value:c.parent_adhar_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Office Address"}),oe.jsx("textarea",{id:"email",rows:2,maxLength:200,disabled:!0,value:c.f_office_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"telephone",className:"block font-bold text-xs mb-0.5",children:"Telephone"}),oe.jsx("input",{type:"text",maxLength:11,id:"telephone",disabled:!0,value:c.f_office_tel,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"phone",className:"block font-bold text-xs mb-0.5",children:"Mobile Number"}),oe.jsxs("div",{className:"flex",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",disabled:!0,pattern:"\\d{10}",maxLength:"10",value:c.f_mobile,className:" block w-full  outline-none rounded-r-md py-1 px-3 bg-gray-300 ",required:!0})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Email Id"}),oe.jsx("input",{type:"text",disabled:!0,value:c.f_email,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Father Date Of Birth"}),oe.jsx("input",{type:"date",id:"dataOfAdmission",disabled:!0,value:c.f_dob,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"UserID",className:"block font-bold text-xs mb-0.5",children:"User Id"}),oe.jsx("input",{type:"text",disabled:!0,value:c.user_id,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("h5",{className:"col-span-4 text-blue-400 mt-2 relative top-4",children:[" ","Mother Details"]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Name"}),oe.jsx("input",{type:"text",disabled:!0,value:c.mother_name,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Occupation"}),oe.jsx("input",{type:"text",id:"email",maxLength:100,disabled:!0,value:c.mother_occupation,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"bloodGroup",className:"block font-bold text-xs mb-0.5",children:"Blood group"}),oe.jsx("input",{type:"text",disabled:!0,value:c.m_blood_group,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Mother Aadhaar Card No."}),oe.jsx("input",{type:"text",id:"email",disabled:!0,maxLength:12,value:c.m_adhar_no,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Office Address"}),oe.jsx("textarea",{id:"email",disabled:!0,rows:2,value:c.m_office_add,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"m_office_tel",className:"block font-bold text-xs mb-0.5",children:"Telephone"}),oe.jsx("input",{type:"text",maxLength:11,id:"m_office_tel",disabled:!0,value:c.m_office_tel,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"phone",className:"block font-bold text-xs mb-0.5",children:"Mobile Number"}),oe.jsxs("div",{className:"flex",children:[oe.jsx("span",{className:"w-[15%] h-[34px] text-[14px] text-[#555] text-center border border-[#ccc] border-r-0 flex items-center justify-center p-1",children:"+91"}),oe.jsx("input",{type:"tel",id:"phone",disabled:!0,value:c.m_mobile,className:" block w-full  outline-none rounded-r-md py-1 px-3 bg-gray-300 ",required:!0})]})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"email",className:"block font-bold text-xs mb-0.5",children:"Email Id"}),oe.jsx("input",{type:"email",id:"email",disabled:!0,maxLength:50,value:c.m_emailid,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{htmlFor:"dataOfAdmission",className:"block font-bold text-xs mb-0.5",children:"Mother Date Of Birth"}),oe.jsx("input",{type:"date",id:"dataOfAdmission",disabled:!0,value:c.f_dob,className:" block w-full  rounded-md py-1 px-3 bg-gray-300 "})]}),oe.jsx("div",{className:"  col-span-3  mt-4 text-right space-x-4",children:oe.jsx("button",{onClick:()=>{a("/deleteStudent",{state:{section_id:d}})},className:" text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})})]})})]})]})}const $ie=()=>{var t;const a="https://sms.evolvu.in/public",[r,n]=Q.useState(null),[s,l]=Q.useState(null),[o,i]=Q.useState(null),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),x=sm(),g=rm(),{student:b}=g.state||{};console.log("Student --\x3e",b);const v=(null==(t=g.state)?void 0:t.section_id)||null;console.log("view student for back navigation:",v);const[y,w]=Q.useState({sr_no:"",class_id:"",reg_no:"",date:"",first_name:"",mid_name:"",last_name:"",udise_pen_no:"",stud_id_no:"",promoted_to:" ",last_exam:"",stud_id:"",father_name:"",mother_name:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",admission_date:"",admission_class:"",attendance:"",subjectsFor:[],subjects:[],reason_leaving:"",application_date:"",leaving_date:"",standard_studying:"",dob_proof:"",class_id_for_subj:"",stu_aadhaar_no:"",teacher_image_name:null,academicStudent:[],academic_yr:"",part_of:"",games:"",selectedActivities:[]});Q.useEffect((()=>{p(e,null,(function*(){var e;try{c(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");let r;if(null==b?void 0:b.slc_no)r=yield Uf.get(`${a}/api/get_getleavingcertificatedata/${b.slc_no}`,{headers:{Authorization:`Bearer ${t}`}});else{if(!(null==b?void 0:b.student_id))return void hp.error("Student information is missing.");r=yield Uf.get(`${a}/api/get_srnoleavingcertificatedata/${b.student_id}`,{headers:{Authorization:`Bearer ${t}`}})}if(null==(e=null==r?void 0:r.data)?void 0:e.success){let e;const t=r.data.data,a=t.classsubject||[];if(t.leavingcertificatesingle)e=t.leavingcertificatesingle;else{if(!t.studentinformation)return void hp.error("Unexpected response structure.");e=t.studentinformation,e.dob_words=t.dobinwords||"",e.sr_no=t.sr_no||"",e.issue_date=t.date||""}const n=e.subjects_studied?e.subjects_studied.split(","):[],s=e.games?e.games.split(","):[];w({sr_no:e.sr_no||"",stud_id:b.student_id||"",reg_no:e.reg_no||"",academicStudent:t.academicStudent||[],issue_date:e.issue_date||"",stud_id_no:e.stud_id_no||"",stu_aadhaar_no:e.stu_aadhaar_no||e.stu_aadhaar_no||"",first_name:e.first_name||e.stud_name||"",mid_name:e.mid_name||"",last_name:e.last_name||"",father_name:e.father_name||"",mother_name:e.mother_name||"",nationality:e.nationality||"",mother_tongue:e.mother_tongue||"",religion:e.religion||"",caste:e.caste||"",subcaste:e.subcaste||"",birth_place:e.birth_place||"",state:e.state||"",dob:e.dob||"",dob_words:e.dob_words||"",prev_school_class:e.last_school_attended_standard||"",admission_date:e.admission_date||e.admission_date||"",admission_class:e.admission_class||"",attendance:e.attendance||"",reason_leaving:e.reason_leaving||"",application_date:e.application_date||"",leaving_date:e.leaving_date||"",standard_studying:e.standard_studying||"",dob_proof:e.dob_proof||"",promoted_to:e.promoted_to||"",last_exam:e.last_exam||"",udise_pen_no:e.udise_pen_no||"",part_of:e.part_of||"",remark:e.remark||"",academic_yr:e.academic_yr||"",conduct:e.conduct||"",fee_month:e.fee_month||"",subjects:a,subjectsFor:a,selectedSubjects:n,selectedActivities:s}),hp.success("Data loaded successfully")}else hp.error("Failed to load data")}catch(t){console.error("Error fetching initial data:",t),hp.error("Error fetching initial data")}finally{c(!1)}}))}),[]);const j=e=>{if(!e)return"";const t=new Date(e),a=t.getDate(),r=t.toLocaleString("en-US",{month:"long"}),n=t.getFullYear();return`${(e=>["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth","Thirteenth","Fourteenth","Fifteenth","Sixteenth","Seventeenth","Eighteenth","Nineteenth","Twentieth","Twenty-First","Twenty-Second","Twenty-Third","Twenty-Fourth","Twenty-Fifth","Twenty-Sixth","Twenty-Seventh","Twenty-Eighth","Twenty-Ninth","Thirtieth","Thirty-First"][e])(a)} ${r} ${(e=>{if(e<1e3||e>9999)return"Year Out of Range";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],a=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],r=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=Math.floor(e/1e3),s=Math.floor(e%1e3/100),l=e%100,o=["","One Thousand","Two Thousand","Three Thousand","Four Thousand","Five Thousand","Six Thousand","Seven Thousand","Eight Thousand","Nine Thousand"][n],i=["","One Hundred","Two Hundred","Three Hundred","Four Hundred","Five Hundred","Six Hundred","Seven Hundred","Eight Hundred","Nine Hundred"][s];let d;return d=l<10?t[l]:l<20?a[l-10]:`${r[Math.floor(l/10)]} ${t[l%10]}`,`${o} ${i} ${d}`.trim()})(n)}`},[N,_]=Q.useState({}),[S,k]=Q.useState({}),C=(new Date).toISOString().split("T")[0],E=t=>p(e,null,(function*(){const{name:e,value:a,type:r,checked:n}=t.target;w("checkbox"===r?t=>{const r=n?[...t[e],a]:t[e].filter((e=>e!==a));return m(u({},t),{[e]:r})}:t=>u(u(m(u({},t),{[e]:a}),"dob"===e&&{dob_words:j(a)}),"academic_yr"===e&&{academic_yr:a}));let s={};if("first_name"===e&&/^\d/.test(a)&&(s.first_name="Student Name should not start with a number"),"father_name"===e&&/^\d/.test(a)&&(s.father_name="Father's Name should not start with a number"),"mother_name"===e&&/^\d/.test(a)&&(s.mother_name="Mother's Name should not start with a number"),_((t=>m(u({},t),{[e]:s[e]}))),"academic_yr"===e)try{yield T(a)}catch(l){console.error("Failed to fetch data for academic year",l)}}));console.log("academ,icyearchagne",y.academic_yr);const T=t=>p(e,null,(function*(){var e;if(_({}),t){w({reg_no:"",issue_date:"",stud_id_no:"",stu_aadhaar_no:"",first_name:"",mid_name:"",last_name:"",father_name:"",mother_name:"",nationality:"",mother_tongue:"",religion:"",caste:"",subcaste:"",birth_place:"",dob:"",dob_words:"",dob_proof:"",prev_school_class:"",admission_date:"",admission_class:"",leaving_date:"",standard_studying:"",last_exam:"",subjects:[],promoted_to:"",attendance:"",fee_month:"",part_of:"",selectedActivities:[],application_date:"",conduct:"",reason_leaving:"",remark:"",academic_yr:"",stud_id:"",udise_pen_no:""});try{f(!0);const r=localStorage.getItem("authToken"),n=yield Uf.get(`${a}/api/get_srnoleavingcertificateByAcademicyr/${null==b?void 0:b.stud_id}/${t}`,{headers:{Authorization:`Bearer ${r}`}});if(null==(e=null==n?void 0:n.data)?void 0:e.data){const e=n.data.data;w((a=>m(u({},a),{academic_yr:t,sr_no:e.sr_no||"",class_id_for_subj:e.studentinformation.class_id||"",reg_no:e.studentinformation.reg_no||"",issue_date:C||"",subjectsFor:e.classsubject||[],academicStudent:e.academicStudent||[],selectedSubjects:(e.classsubject||[]).map((e=>e.name)),stud_id_no:e.studentinformation.stud_id_no||"",first_name:e.studentinformation.first_name||"",mid_name:e.studentinformation.mid_name||"",last_name:e.studentinformation.last_name||"",udise_pen_no:e.studentinformation.udise_pen_no||"",promoted_to:e.studentinformation.promoted_to||"",last_exam:e.studentinformation.last_exam||"",stud_id:e.studentinformation.student_id||" ",father_name:e.studentinformation.father_name||"",mother_name:e.studentinformation.mother_name||"",admission_date:e.studentinformation.admission_date||"",religion:e.studentinformation.religion||"",caste:e.studentinformation.caste||"",subcaste:e.studentinformation.subcaste||"",birth_place:e.studentinformation.birth_place||"",state:e.studentinformation.state||"",mother_tongue:e.studentinformation.mother_tongue||"",dob:e.studentinformation.dob||"",dob_words:j(e.studentinformation.dob),attendance:e.total_attendance||"",nationality:e.studentinformation.nationality||"",stu_aadhaar_no:e.studentinformation.stu_aadhaar_no||"",teacher_image_name:e.studentinformation.father_image_name||null,purpose:e.purpose||" "})))}else hp.error("No data found for the selected academic year.")}catch(r){console.error("Error fetching data:",r),hp.error("Error fetching data for the selected academic year.")}finally{f(!1)}}else hp.error("Please select an academic year!")}));console.log("academic yearr",y.academicStudent);const O=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},D=t=>p(e,null,(function*(){var e;if(t.preventDefault(),console.log("Submit process started"),_({}),k({}),!(()=>{const e={};return["reg_no","issue_date","first_name","stud_id_no","promoted_to","last_exam","father_name","mother_name","birth_place","state","mother_tongue","dob","dob_words","nationality","prev_school_class","admission_date","admission_class","reason_leaving","application_date","leaving_date","standard_studying","dob_proof","stu_aadhaar_no","attendance","fee_month","remark","conduct"].forEach((t=>{y[t]||(e[t]="This field is required")})),y.class_id>109&&(y.udise_pen_no||(e.udise_pen_no="This field is required")),y.first_name&&/^\d/.test(y.first_name)&&(e.first_name="Student Name should not start with a number"),y.father_name&&/^\d/.test(y.father_name)&&(e.father_name="Father's Name should not start with a number"),y.mother_name&&/^\d/.test(y.mother_name)&&(e.mother_name="Mother's Name should not start with a number"),y.selectedActivities&&0!==y.selectedActivities.length||(e.activities="Please select at least one extra-curricular activity"),y.selectedSubjects&&0!==y.selectedSubjects.length||(e.selectedSubjects="Please select at least one subject"),y.dob_proof||(e.dob_proof="This field is required"),y.part_of||(e.part_of="This field is required"),y.academic_yr||(e.academic_yr="This field is required"),_(e),0===Object.keys(e).length})())return void console.log("Validation failed, stopping submission");console.log("Validation passed, proceeding with submission");const r={grn_no:y.reg_no||"",issue_date:O(y.issue_date),stud_id_no:y.stud_id_no||"",stu_aadhaar_no:y.stu_aadhaar_no||"",first_name:y.first_name||"",mid_name:y.mid_name||"",last_name:y.last_name||"",father_name:y.father_name||"",mother_name:y.mother_name||"",nationality:y.nationality||"",mother_tongue:y.mother_tongue||"",state:y.state||"",religion:y.religion||"",caste:y.caste||"",subcaste:y.subcaste||"",birth_place:y.birth_place||"",dob:O(y.dob),dob_words:y.dob_words||"",dob_proof:y.dob_proof||"",previous_school_attended:y.prev_school_class||"",admission_date:O(y.admission_date),admission_class:y.admission_class||"",leaving_date:O(y.leaving_date),standard_studying:y.standard_studying||"",last_exam:y.last_exam||"",subjects:y.selectedSubjects||[],promoted_to:y.promoted_to||"",attendance:y.attendance||"",fee_month:y.fee_month||"",part_of:y.part_of||"",games:(null==y?void 0:y.selectedActivities)||[],application_date:O(y.application_date),conduct:y.conduct||"",reason_leaving:y.reason_leaving||"",remark:y.remark||"",academic_yr:y.academic_yr||"",stud_id:y.stud_id||"",udise_pen_no:y.udise_pen_no||""};try{c(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const t=yield Uf.post(`${a}/api/save_pdfleavingcertificate`,r,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(200===t.status){hp.success("LC Certificate saved successfully!");const e=t.headers["content-disposition"];let a="LeavingCertificate.pdf";if(e){const t=e.match(/filename="(.+?)"/);t&&t[1]&&(a=t[1])}const r=new Blob([t.data],{type:"application/pdf"}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),w({sr_no:"",reg_no:"",date:"",first_name:"",mid_name:"",last_name:"",udise_pen_no:"",stud_id_no:"",promoted_to:" ",last_exam:"",stud_id:"",father_name:"",mother_name:"",religion:"",caste:"",subcaste:"",birth_place:"",state:"",mother_tongue:"",dob:"",dob_words:"",nationality:"",prev_school_class:"",admission_date:"",admission_class:"",attendance:"",subjectsFor:[],subjects:[],selectedActivities:[],reason_leaving:"",application_date:"",leaving_date:"",standard_studying:"",dob_proof:"",class_id_for_subj:"",stu_aadhaar_no:"",teacher_image_name:null,academicStudent:[],academic_yr:"",part_of:""}),l(null),n(null),setTimeout((()=>i(null)),3e3),x("/deleteStudent")}}catch(s){console.error("Error:",(null==(e=s.response)?void 0:e.data)||s.message),hp.error("An error occurred while saving the LC Certificate."),s.response&&s.response.data?k(s.response.data):hp.error("Unknown error occurred.")}finally{c(!1)}})),A=e=>{const{value:t,checked:a}=e.target;w((e=>{const r=a?[...e.selectedActivities,t]:e.selectedActivities.filter((e=>e!==t));return r.length>0&&_((e=>m(u({},e),{activities:null}))),m(u({},e),{selectedActivities:r})}))},P=(e,t)=>{w((a=>{const r=e.target.checked?[...a.selectedSubjects,t]:a.selectedSubjects.filter((e=>e!==t));return r.length>0&&_((e=>m(u({},e),{selectedSubjects:null}))),m(u({},a),{selectedSubjects:r})}))};return console.log("handleSubjectSelection",y.selectedSubjects),oe.jsxs("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:[oe.jsx(wp,{}),d&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("div",{className:"    card  px-3 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center  ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Generate Deleted Student LC"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{_({}),x("/deleteStudent",{state:{section_id:v}})}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:" text-[.9em] md:absolute md:right-8  md:top-[5%]   text-gray-500 ",children:[oe.jsx("span",{className:"text-red-500 ",children:"*"}),"indicates mandatory information"]}),h&&oe.jsx("div",{className:"fixed  inset-0 z-50   flex items-center justify-center bg-gray-700 bg-opacity-50",children:oe.jsx(Ag,{})})," ",oe.jsxs("form",{onSubmit:D,className:" w-full gap-x-1 md:gap-x-14  gap-y-1   overflow-x-hidden shadow-md p-4 border-1 bg-gray-100 mb-4",children:[oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 pb-2",children:"Document Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"sr_no",className:"block font-bold text-xs mb-2",children:["LC No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"sr_no",name:"sr_no",value:y.sr_no,readOnly:!0,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"reg_no",className:"block font-bold text-xs mb-2",children:["General Register No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"reg_no",name:"reg_no",maxLength:10,value:y.reg_no,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.reg_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.reg_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"date",className:"block font-bold text-xs mb-2",children:["Issue Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"date",name:"issue_date",value:y.issue_date,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.issue_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.issue_date})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Student Identity"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"staffName",className:"block font-bold  text-xs mb-2",children:["First Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:200,id:"staffName",name:"first_name",value:y.first_name,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.first_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:N.first_name})]}),oe.jsxs("div",{className:" ",children:[oe.jsx("label",{htmlFor:"staffMidName",className:"block font-bold  text-xs mb-2",children:"Mid Name"}),oe.jsx("input",{type:"text",maxLength:200,id:"staffMidName",name:"mid_name",value:y.mid_name,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{className:" ",children:[oe.jsx("label",{htmlFor:"staffLastName",className:"block font-bold  text-xs mb-2",children:"Surname"}),oe.jsx("input",{type:"text",maxLength:200,id:"staffLastName",name:"last_name",value:y.last_name,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"stud_id_no",className:"block font-bold text-xs mb-2",children:["STUDENT ID NO ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"stud_id_no",name:"stud_id_no",maxLength:25,value:y.stud_id_no,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.stud_id_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.stud_id_no})]}),(null==y?void 0:y.class_id)>109&&oe.jsxs("div",{className:"mt-2",children:[oe.jsxs("label",{htmlFor:"studentAadharNumber",className:"block font-bold text-xs mb-0.5",children:["Udise Pen No. ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"Udise_no",name:"udise_pen_no",maxLength:14,value:y.udise_pen_no,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner",onChange:E})," ",N.udise_pen_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.udise_pen_no})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"stu_aadhaar_no",className:"block font-bold text-xs mb-2",children:["UDI NO.(Aadhar Card No.)"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"stu_aadhaar_no",name:"stu_aadhaar_no",maxLength:12,value:y.stu_aadhaar_no,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.stu_aadhaar_no&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.stu_aadhaar_no})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Parent Details"}),oe.jsxs("div",{className:"w-full md:w-[75%]  grid grid-cols-1 md:grid-cols-2   gap-x-6 gap-4",children:[" ",oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"father_name",className:"block font-bold  text-xs mb-2",children:["Father's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,id:"father_name",name:"father_name",value:y.father_name,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.father_name&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:N.father_name})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"mother_name",className:"block font-bold text-xs mb-2",children:["Mother's Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"mother_name",name:"mother_name",maxLength:50,value:y.mother_name,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.mother_name&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.mother_name})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Academic Details"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"religion",className:"block font-bold text-xs mb-2",children:"Religion"}),oe.jsx("input",{type:"text",id:"religion",name:"religion",maxLength:20,value:y.religion,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"caste",className:"block font-bold text-xs mb-2",children:"Caste"}),oe.jsx("input",{type:"text",id:"caste",name:"caste",maxLength:20,value:y.caste,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"})]})," ",oe.jsxs("div",{className:"grid   col-span-2 row-span-2 ",children:[oe.jsxs("label",{htmlFor:"subjects",className:"block font-bold text-xs  col-span-3",children:["Subjects Studied ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),y.subjectsFor&&y.subjectsFor.length>0?y.subjectsFor.map(((e,t)=>oe.jsx("div",{className:"grid-col-3 relative",children:oe.jsxs("label",{children:[oe.jsx("input",{type:"checkbox",name:"subjects",value:e.name,checked:y.selectedSubjects.includes(e.name),onChange:t=>P(t,e.name),className:"form-checkbox h-4 w-4 text-blue-600"}),oe.jsx("span",{className:"ml-1 text-sm",children:e.name})]})},t))):oe.jsx("p",{className:"text-sm text-gray-500 col-span-3",children:"No subjects available"}),y.class_id_for_subj&&109===y.class_id_for_subj&&oe.jsx("div",{className:"col-span-1 relative  ",children:oe.jsxs("label",{className:"inline-flex items-center",children:[oe.jsx("input",{type:"checkbox",name:"subjects",value:"Basic Mathematics",checked:y.selectedSubjects.includes("Basic Mathematics"),onChange:e=>P(e,"Basic Mathematics"),className:"form-checkbox h-4 w-4 text-blue-600"}),oe.jsx("span",{className:"ml-1 text-sm",children:"Basic Mathematics"})]})}),N.selectedSubjects&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1 col-span-3",children:N.selectedSubjects})]}),oe.jsxs("div",{children:[oe.jsx("label",{htmlFor:"subcaste",className:"block font-bold text-xs mb-2",children:"Sub-Caste"}),oe.jsx("input",{type:"text",id:"subcaste",name:"subcaste",maxLength:100,value:y.subcaste,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"PromotedTo",className:"block font-bold text-xs mb-2",children:["Promoted to ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"PromotedTo",name:"promoted_to",maxLength:100,value:y.promoted_to,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.promoted_to&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.promoted_to})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"School/Board",className:"block font-bold text-xs mb-2",children:["School/Board Annual Exam Last Taken with Result"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"School/Board",name:"last_exam",maxLength:100,value:y.last_exam,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.last_exam&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.last_exam})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Personal Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"birthPlace",className:"block font-bold text-xs mb-2",children:["Birth Place ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"birthPlace",maxLength:20,name:"birth_place",value:y.birth_place,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.birth_place&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.birth_place})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"state",className:"block font-bold text-xs mb-2",children:["State ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"state",name:"state",maxLength:50,value:y.state,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.state&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.state})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"mother_tongue",className:"block font-bold text-xs mb-2",children:["Mother Tongue ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"mother_tongue",name:"mother_tongue",maxLength:50,value:y.mother_tongue,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.mother_tongue&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.mother_tongue})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob",className:"block font-bold text-xs mb-2",children:["Date of Birth ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"dob",min:"1996-01-01",max:"2030-12-31",name:"dob",value:y.dob,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.dob&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:N.dob})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"dob_words",className:"block font-bold  text-xs mb-2",children:["Birth date in words ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{type:"text",maxLength:100,id:"dob_words",name:"dob_words",value:y.dob_words,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.dob_words&&oe.jsx("div",{className:"text-red-500 text-xs ml-1 ",children:N.dob_words})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"nationality",className:"block font-bold text-xs mb-2",children:["Nationality ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"nationality",name:"nationality",maxLength:100,value:y.nationality,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.nationality&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.nationality})]})]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsxs("h5",{className:"col-span-4 text-blue-400 py-2",children:["Admission and School Records"," "]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4  gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"prev_school_class",className:"block font-bold text-xs mb-2",children:["Previous School Attended"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"prev_school_class",maxLength:100,name:"prev_school_class",value:y.prev_school_class,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.prev_school_class&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.prev_school_class})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"admission_date",className:"block font-bold text-xs mb-2",children:["Date of Admission ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"admission_date",name:"admission_date",value:y.admission_date,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.admission_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.admission_date})]}),oe.jsxs("div",{className:" ",children:[oe.jsxs("label",{htmlFor:"admission_class",className:"block font-bold text-xs mb-2 ",children:["Admitted in Class",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"admission_class",maxLength:100,name:"admission_class",value:y.admission_class,onChange:E,readOnly:!0,className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner"}),N.admission_class&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.admission_class})]})," ",oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"Date_of_Leaving_School",className:"block font-bold text-xs mb-2",children:["Date of Leaving School",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"Date_of_Leaving_School",name:"leaving_date",value:y.leaving_date,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.leaving_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.leaving_date})]})," ",oe.jsxs("div",{className:"",children:[oe.jsxs("label",{htmlFor:"dob_proof",className:"block font-bold text-xs mb-2",children:["Proof of DOB Submitted at the Time of Admission",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"dob_proof",name:"dob_proof",value:y.dob_proof,onChange:E,className:"block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"Birth Certificate",children:"Birth Certificate"}),oe.jsx("option",{value:"School Leaving Certificate",children:"School Leaving Certificate"}),oe.jsx("option",{value:"Aadhar Card",children:"Aadhar Card"}),oe.jsx("option",{value:"Passport",children:"Passport"})]}),N.dob_proof&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.dob_proof})]})," ",oe.jsxs("div",{className:"",children:[oe.jsxs("label",{htmlFor:"part_of",className:"block font-bold text-xs mb-2",children:["Whether Part of (NCC Cadet, Boy Scout, Girl Guide)",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"part_of",name:"part_of",value:y.part_of,onChange:E,className:"block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"NCC Cadet",children:"NCC Cadet"}),oe.jsx("option",{value:"Boy Scout",children:"Boy Scout"}),oe.jsx("option",{value:"Girl Guide",children:"Girl Guide"}),oe.jsx("option",{value:"N.A",children:"N.A"})]}),N.part_of&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.part_of})]}),oe.jsxs("div",{className:"mt-3",children:[oe.jsxs("label",{htmlFor:"reason_leaving",className:"block font-bold text-xs mb-2",children:["Reason for Leaving ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"reason_leaving",name:"reason_leaving",maxLength:100,value:y.reason_leaving,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.reason_leaving&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.reason_leaving})]}),oe.jsxs("div",{className:"mt-3",children:[oe.jsxs("label",{htmlFor:"application_date",className:"block font-bold text-xs mb-2",children:["Date of application for Certificate"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"application_date",name:"application_date",value:y.application_date,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.application_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.application_date})]}),oe.jsxs("div",{className:"grid col-span-4 row-span-1",children:[oe.jsxs("label",{htmlFor:"activities",className:"block font-bold text-xs mb-2",children:["Extra-Curricular Activities"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:"grid grid-cols-2 md:grid-cols-7 gap-2",children:["Football","Basketball","Volleyball","Tennis","Kho Kho","Table Tennis","Kabaddi","Cricket","Athletics","Dodgeball","Throwball","Handball","Tug of War","Gymnastics","Skating","Martial Arts","Badminton","Chess","Carrom"].map((e=>oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("input",{type:"checkbox",id:e,value:e,checked:y.selectedActivities.includes(e),onChange:A,className:"mr-2"}),oe.jsx("label",{htmlFor:e,className:"text-sm",children:e})]},e)))}),N.activities&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1 mt-2",children:N.activities})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"attendance",className:"block font-bold text-xs mb-2",children:["Attendance ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"attendance",maxLength:7,name:"attendance",value:y.attendance,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.attendance&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.attendance})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"fee_month",className:"block font-bold text-xs mb-2",children:["Month Up to Which School Fees are Paid"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"fee_month",name:"fee_month",maxLength:50,value:y.fee_month,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.fee_month&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.fee_month})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"standard_studying",className:"block font-bold text-xs mb-2",children:["Class in Which Last Studied in",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"standard_studying",maxLength:20,name:"standard_studying",value:y.standard_studying,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.standard_studying&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.standard_studying})]})," "]})]}),oe.jsxs("fieldset",{className:"mb-4",children:[oe.jsx("h5",{className:"col-span-4 text-blue-400 py-2",children:"Certificate Information"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"application_date",className:"block font-bold text-xs mb-2",children:["Date of Application for Certificate"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"application_date",name:"application_date",value:y.application_date,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.application_date&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.application_date})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"conduct",className:"block font-bold text-xs mb-2",children:["Conduct ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"conduct",maxLength:100,name:"conduct",value:y.conduct,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.conduct&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.conduct})]}),oe.jsxs("div",{children:[oe.jsxs("label",{htmlFor:"remark",className:"block font-bold text-xs mb-2",children:["Any Other Remarks ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"remark",name:"remark",value:y.remark,onChange:E,className:"input-field block border w-full border-1 border-gray-950 rounded-md py-1 px-3 bg-white shadow-inner"}),N.remark&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.remark})]}),oe.jsxs("div",{className:"mb-4",children:[oe.jsxs("label",{htmlFor:"academic_yr",className:"block font-bold text-xs mb-2",children:["Academic Year ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"academic_yr",name:"academic_yr",value:y.academic_yr||"",onChange:E,className:"block w-full border border-gray-900 rounded-md py-1 px-3 bg-white shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),y.academicStudent&&y.academicStudent.length>0?y.academicStudent.map(((e,t)=>oe.jsx("option",{value:e.academic_yr,children:e.academic_yr},t))):oe.jsx("option",{value:"",disabled:!0,children:"No academic years available"})]}),N.academic_yr&&oe.jsx("span",{className:"text-red-500 text-xs ml-1 h-1",children:N.academic_yr})]})]})]}),oe.jsxs("div",{className:"col-span-3 text-right space-x-2",children:[oe.jsx("button",{type:"submit",onClick:D,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(d?"opacity-50 cursor-not-allowed":""),disabled:d,children:d?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Generating..."]}):"Generate PDF"}),oe.jsx("button",{onClick:()=>{x("/deleteStudent",{state:{section_id:v}})},className:" text-white font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"})]})]})]})]})},Bie=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState(""),[l,o]=Q.useState([]),[i,d]=Q.useState(""),[c,u]=Q.useState(""),[m,h]=Q.useState([]),[f,x]=Q.useState(""),[g,b]=Q.useState(""),[v,y]=Q.useState("");Q.useEffect((()=>{w()}),[]);const w=()=>p(e,null,(function*(){r(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?o(a.data):s("Unexpected data format")}catch(e){console.error("Error fetching class names:",e),s("Error fetching class names")}finally{r(!1)}})),j=e=>{m.includes(e)?h(m.filter((t=>t!==e))):h([...m,e])},N=()=>{d(""),u(""),h([]),x(""),b(""),y("")},_=(a=!1)=>p(e,null,(function*(){var e,n;let s=!1;if(i.trim()?x(""):(x("Subject is required."),s=!0),c.trim()?b(""):(b("SMS description is required."),s=!0),0===m.length?(y("Please select at least one class."),s=!0):y(""),s)return;const l=a?"save_publish_smsnotice":"save_smsnotice";r(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const r=yield Uf.post(`${t}/api/${l}`,{subject:i,notice_desc:c,checkbxevent:m},{headers:{Authorization:`Bearer ${e}`}});200===r.status?(hp.success(r.data.message?r.data.message:a?"SMS saved and published!":"SMS saved successfully!"),N()):hp.error("Unexpected server response.")}catch(o){hp.error((null==(n=null==(e=o.response)?void 0:e.data)?void 0:n.message)||"Error while saving the Short SMS.")}finally{r(!1)}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mb-4",children:[oe.jsx("div",{className:"card-header flex justify-between items-center"}),oe.jsx("div",{className:"w-full mx-auto",children:oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Create Short SMS"})}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full ml-2",children:a?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsx("div",{className:"lg:overflow-x-hidden",children:oe.jsx("div",{className:"card-body w-full ml-2",children:oe.jsxs("div",{className:"lg:overflow-x-hidden",children:[oe.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-x-4",children:[oe.jsxs("h5",{className:"px-2 lg:px-3 py-2 text-[1em] text-gray-700",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"  w-full md:w-[66%] relative left-0 md:left-7 mt-2 grid grid-cols-4 sm:grid-cols-3 lg:grid-cols-6 gap-2  ",children:[l.map((e=>oe.jsxs("div",{className:"flex items-center space-x-2 hover:cursor-pointer",onClick:()=>j(e.class_id),children:[oe.jsx("input",{type:"checkbox",checked:m.includes(e.class_id),onChange:()=>j(e.class_id),className:"cursor-pointer"}),oe.jsx("label",{className:"cursor-pointer",children:e.name})]},e.class_id))),oe.jsx("div",{className:"flex items-center space-x-2",children:oe.jsxs("label",{className:"cursor-pointer flex items-center space-x-2",children:[oe.jsx("input",{type:"checkbox",checked:m.length===l.length,onChange:()=>{m.length===l.length?h([]):h(l.map((e=>e.class_id)))},className:"cursor-pointer"}),oe.jsx("span",{children:"Select All"})]})}),v&&oe.jsx("p",{className:"relative top-2 col-span-3  text-red-500 text-sm mt-1 ",children:v})]})]})," ",oe.jsxs("div",{className:"w-full  md:w-[58%]  mb-4 flex flex-row justify-between gap-x-2 ",children:[oe.jsxs("h5",{className:"px-2 lg:px-3 py-2 text-[1em] text-gray-700",children:["Subject ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[70%] flex flex-col gap-0 ",children:[oe.jsx("input",{type:"text",className:" px-2 py-1 border border-gray-700 rounded-md shadow-md  ",value:i,onChange:e=>d(e.target.value)}),f&&oe.jsx("p",{className:"text-red-500 text-sm h-3",children:f})]})]}),oe.jsxs("div",{className:"w-full  md:w-[58%]  mb-4 flex flex-row justify-between gap-x-2 ",children:[oe.jsxs("h5",{className:"px-2 mt-2 lg:px-3 py-2 text-[1em] text-gray-700",children:["Description ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[70%] flex flex-col gap-0",children:[oe.jsx("p",{className:"font-light",children:"Dear Parent,"}),oe.jsx("textarea",{className:"relative -top-4 px-2 py-1 border border-gray-700 rounded-md shadow-md",rows:"2",value:c,onChange:e=>u(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.selectionStart,a=c.slice(0,t),r=c.slice(t);u(`${a}\n ${r}`),setTimeout((()=>{e.target.selectionStart=e.target.selectionEnd=t+3}),0)}}}),g&&oe.jsx("p",{className:"h-3 relative -top-3 text-red-500 text-sm mt-2",children:g})]})]})]})})})}),!a&&oe.jsxs("div",{className:"flex space-x-2 justify-end m-4",children:[oe.jsx("button",{onClick:()=>_(!1),className:"btn btn-primary",children:"Save"}),oe.jsx("button",{onClick:()=>_(!0),className:"btn btn-primary",children:"Save & Publish"}),oe.jsx("button",{onClick:N,className:"btn btn-danger bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Reset"})]})]})})})]})]})},zie=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState(""),[l,o]=Q.useState(""),[i,d]=Q.useState([]),[c,u]=Q.useState([]),[m,h]=Q.useState(!1),[f,x]=Q.useState({subjectError:"",noticeDescError:"",classError:""});Q.useEffect((()=>{g()}),[]);const g=()=>p(e,null,(function*(){h(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});r(a.data||[])}catch(e){hp.error("Error fetching class names")}finally{h(!1)}})),b=e=>{i.includes(e)?d(i.filter((t=>t!==e))):d([...i,e])},v=()=>{s(""),o(""),d([]),u([]),x({})},y=(a=!1)=>p(e,null,(function*(){var e,r;if(!(()=>{const e={subjectError:n.trim()?"":"Subject is required.",noticeDescError:l.trim()?"":"Notice description is required.",classError:i.length?"":"Please select at least one class."};return x(e),!Object.values(e).some((e=>e))})())return;h(!0);const s=new FormData;s.append("subject",n),s.append("notice_desc",l),i.forEach((e=>s.append("checkbxevent[]",e))),c.forEach((e=>s.append("userfile[]",e)));const o=a?"save_publishnoticesmspdf":"save_noticesmspdf";try{const e=localStorage.getItem("authToken"),r=yield Uf.post(`${t}/api/${o}`,s,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}});200===r.status?(hp.success(r.data.message?r.data.message:a?"Notice saved and published successfully!":"Notice saved successfully!"),v()):hp.error("Unexpected server response whilte saving the Notice.")}catch(d){hp.error((null==(r=null==(e=d.response)?void 0:e.data)?void 0:r.message)||"Error while saving the notice.")}finally{h(!1)}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mb-4",children:[oe.jsx("div",{className:"card-header flex justify-between items-center"}),oe.jsx("div",{className:"w-full mx-auto",children:oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Create Notice"})}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full ml-2",children:m?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsx("div",{className:"card-body w-full ml-2",children:oe.jsxs("div",{className:"lg:overflow-x-hidden",children:[oe.jsxs("div",{className:"mb-6 flex flex-col md:flex-row gap-x-4",children:[oe.jsxs("h5",{className:"px-2 lg:px-3 py-2 text-[1em] text-gray-700",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"  w-full md:w-[66%] relative left-0 md:left-7 mt-2 grid grid-cols-4 sm:grid-cols-3 lg:grid-cols-6 gap-2  ",children:[a.map((e=>oe.jsxs("div",{className:"flex items-center space-x-2 hover:cursor-pointer",onClick:()=>b(e.class_id),children:[oe.jsx("input",{type:"checkbox",checked:i.includes(e.class_id),onChange:()=>b(e.class_id),className:"cursor-pointer"}),oe.jsx("label",{className:"cursor-pointer",children:e.name})]},e.class_id))),oe.jsx("div",{className:"flex items-center space-x-2",children:oe.jsxs("label",{className:"cursor-pointer flex items-center space-x-2",children:[oe.jsx("input",{type:"checkbox",checked:i.length===a.length,onChange:()=>{i.length===a.length?d([]):d(a.map((e=>e.class_id)))},className:"cursor-pointer"}),oe.jsx("span",{children:"Select All"})]})})," ",f.classError&&oe.jsx("p",{className:"relative top-2 col-span-3 text-red-500",children:f.classError})]})]})," ",oe.jsxs("div",{className:"w-full  md:w-[58%]  mb-4 flex flex-row justify-between gap-x-2 ",children:[oe.jsxs("h5",{className:"px-2 lg:px-3 py-2 text-[1em] text-gray-700",children:["Subject ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[70%] flex flex-col gap-0 ",children:[oe.jsx("input",{type:"text",className:" px-2 py-1 border border-gray-700 rounded-md shadow-md  ",value:n,onChange:e=>s(e.target.value)}),f.subjectError&&oe.jsx("p",{className:"text-red-500",children:f.subjectError})]})]}),oe.jsxs("div",{className:"w-full  md:w-[58%]  mb-4 flex flex-row justify-between gap-x-2 ",children:[oe.jsxs("h5",{className:"px-2 mt-2 lg:px-3 py-2 text-[1em] text-gray-700",children:["Description ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full mb-4 md:w-[70%] flex flex-col gap-0 ",children:[oe.jsx("textarea",{className:"  px-2 py-1 border border-gray-700 rounded-md shadow-md  ",rows:"2",value:l,onChange:e=>o(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.selectionStart,a=l.slice(0,t),r=l.slice(t);o(`${a}\n ${r}`),setTimeout((()=>{e.target.selectionStart=e.target.selectionEnd=t+3}),0)}}}),f.noticeDescError&&oe.jsx("p",{className:" text-red-500",children:f.noticeDescError})]})]}),".",oe.jsxs("div",{className:"w-full relative -top-14 md:w-[85%]  flex flex-row justify-start gap-x-2 space-x-2 md:space-x-11 ",children:[oe.jsx("h5",{className:"px-2  lg:px-3 py-2 text-[1em] text-nowrap text-gray-700",children:"Upload Files"}),oe.jsx("input",{className:"mt-3 text-xs ",type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);u((e=>[...e,...t]))}})," ",oe.jsx("span",{className:"relative right-[7%] top-5 text-pink-500 text-[.7em]",children:"(Each file must not exceed a maximum size of 2MB)"})]}),oe.jsx("h5",{className:"relative -top-9 text-[1em] text-gray-700 px-2",children:"Attachment:"}),oe.jsx("div",{className:"  -top-16 w-full md:w-[57%] mx-auto relative right-0 md:right-10",children:oe.jsx("div",{className:" text-xs flex flex-col",children:c.map(((e,t)=>oe.jsxs("div",{className:"flex items-center space-x-2 space-y-3",children:[oe.jsx("span",{className:"bg-gray-100 border-1 p-0.5 shadow-sm",children:e.name}),oe.jsx(sh,{className:"text-xl relative -top-1 w-4 h-4 text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>(e=>{u((t=>t.filter(((t,a)=>a!==e))))})(t)})]},t)))})})]})})}),!m&&oe.jsxs("div",{className:"flex space-x-2 justify-end m-4",children:[oe.jsx("button",{onClick:()=>y(!1),className:"btn btn-primary",children:"Save"}),oe.jsx("button",{onClick:()=>y(!0),className:"btn btn-primary",children:"Save & Publish"}),oe.jsx("button",{onClick:v,className:"btn btn-danger bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Reset"})]})]})})})]})]})};function Uie(){var e;const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState("Manage"),[l,o]=Q.useState([]),[i,d]=Q.useState([]),[c,h]=Q.useState(!1),[f,x]=Q.useState(!1),[g,b]=Q.useState(!1),[v,y]=Q.useState(!1),[w,j]=Q.useState(null),[N,_]=Q.useState(""),[S,k]=Q.useState(""),[C,E]=Q.useState(""),[T,O]=Q.useState(""),[D,A]=Q.useState(""),[P,M]=Q.useState(""),[L,I]=Q.useState(""),[F,R]=Q.useState(0),[$,B]=Q.useState(0),[z,U]=Q.useState(!1);Q.useRef(null);const H=Q.useRef(0),W=Q.useRef(""),Y=sm(),[q,V]=Q.useState(null),[G,K]=Q.useState("All"),[X,J]=Q.useState(""),[Z,ee]=Q.useState([]),[te,ae]=Q.useState(""),[re,ne]=Q.useState(""),[se,le]=Q.useState(""),[ie,de]=Q.useState(""),[ce,ue]=Q.useState([]);Q.useState([]),Q.useEffect((()=>{he(),me()}),[]);const me=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(d(a.data),console.log("this is the dropdown of the allot subject tab for class",a.data)):V("Unexpected data format")}catch(e){console.error("Error fetching class names:",e),V("Error fetching class names")}})),he=()=>p(this,null,(function*(){var e,a,n;if(!z){U(!0),I("");try{r(!0);const s=localStorage.getItem("authToken"),l={};X&&(l.notice_date=X),G&&(l.status=G);const o=yield Uf.get(`${t}/api/get_smsnoticelist`,{headers:{Authorization:`Bearer ${s}`},params:l});if((null==(a=null==(e=o.data)?void 0:e.data)?void 0:a.length)>0){const e=(null==(n=o.data[0])?void 0:n.smscount)||{},t=o.data.data.map((t=>{const a=e[t.unq_id]||0;return m(u({},t),{showSendButton:"Y"===t.publish&&a>0,count:a})}));ee(t),B(Math.ceil(t.length/10))}else ee([]),hp.error("No notices found for the selected criteria.")}catch(s){console.error("Error fetching SMS notices:",s),hp.error("Error fetching SMS notices. Please try again.")}finally{U(!1),r(!1)}}})),fe=e=>p(this,null,(function*(){const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");try{const r=yield Uf.get(`${t}/api/get_smsnoticedata/${null==e?void 0:e.unq_id}`,{headers:{Authorization:`Bearer ${a}`}}),{imageurl:n}=r.data.data;console.log("imageURL",n),ue(n)}catch(r){console.error("Error fetching notice data:",r)}}));ce&&ce.length>0&&ce.map(((e,t)=>{const a=e.substring(e.lastIndexOf("/")+1);return oe.jsxs("div",{className:"flex flex-row text-[.6em] items-center gap-x-2",children:[oe.jsx("span",{children:a}),oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>pe(e,a),children:oe.jsx(pie,{})})]},t)}));const pe=(e,t)=>{const a=`${e}`,r=document.createElement("a");r.href=a,r.target="none",r.download=t||"downloaded_file.pdf",document.body.appendChild(r),r.click(),document.body.removeChild(r)},[xe,ge]=Q.useState([]),be=e=>p(this,null,(function*(){if(j(e),ae((null==e?void 0:e.subject)||""),ne((null==e?void 0:e.notice_desc)||""),O((null==e?void 0:e.classnames)||""),console.log("enter notice",e),"Notice"===(null==e?void 0:e.notice_type)){console.log("enter notice--\x3estart");try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");const r=yield Uf.get(`${t}/api/get_smsnoticedata/${e.unq_id}`,{headers:{Authorization:`Bearer ${a}`}});if(console.log("responsedata of notice edit",r),r.data.success){const e=r.data.data.noticedata[0],t=r.data.data.imageurl||[];ae(e.subject||""),ne(e.notice_desc||""),O(e.classnames||""),ge(t)}}catch(a){console.error("Error fetching notice data:",a),hp.error("Failed to fetch notice data.")}}else ge([]);b(!0)})),ve=()=>{ae(""),ne(""),O(""),ge([]),Ne([]),x(!1),h(!1),b(!1),y(!1)};Q.useEffect((()=>{const e=L.trim().toLowerCase();""!==e&&""===W.current&&(H.current=F,R(0)),""===e&&""!==W.current&&R(H.current),W.current=e}),[L]);const ye=L.trim().toLowerCase(),we=Z.filter((e=>{var t,a,r,n;const s=(null==(t=null==e?void 0:e.classnames)?void 0:t.toLowerCase())||"",l=(null==(a=null==e?void 0:e.subject)?void 0:a.toLowerCase())||"",o=(null==(r=null==e?void 0:e.notice_type)?void 0:r.toLowerCase())||"",i=(null==(n=null==e?void 0:e.name)?void 0:n.toLowerCase())||"",d=(null==e?void 0:e.notice_date)||"";return s.includes(ye)||l.includes(ye)||o.includes(ye)||i.includes(ye)||d.includes(ye)})).slice(10*F,10*(F+1)),[je,Ne]=Q.useState([]),_e=e=>{const t=Array.from(e.target.files);Ne([...je,...t])};console.log("handleFileUpload",_e);const Se=e=>p(this,null,(function*(){try{const a=localStorage.getItem("authToken");if(!a)return void hp.error("Authentication token not found. Please log in again.");const r=yield Uf.post(`${t}/api/save_sendsms/${e}`,{},{headers:{Authorization:`Bearer ${a}`}});200===r.status&&r.data.success?(hp.success(`SMS sent successfully for Unique ID: ${e}`),he()):hp.error("Failed to send SMS. Please try again.")}catch(a){console.error("Error sending SMS:",a),hp.error("An error occurred while sending SMS. Please try again.")}}));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Notice/SMS For Parents"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{Y("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row -top-4",children:[{id:"Manage",label:"Manage"},{id:"CreateShortSMS",label:"Create Short SMS"},{id:"CreateNotice",label:"Create Notice"}].map((({id:e,label:t})=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(n===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>{return"Manage"===(t=e)&&he(),void s(t);var t},className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap","aria-current":n===e?"page":void 0,children:t})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===n&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"mb-4",children:[oe.jsxs("div",{className:"w-full  md:w-[78%] mt-8  gap-x-0 md:gap-x-12 mx-auto   flex flex-col gap-y-2 md:gap-y-0 md:flex-row  ",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-md mt-1.5 mr-1 md:mr-0 w-[40%] md:w-[29%]",htmlFor:"classSelect",children:"Select Date"})," ",oe.jsx("div",{className:"w-full md:w-[60%]",children:oe.jsx("input",{type:"date",id:"date",className:"border border-gray-300 rounded-md py-2 px-3 w-full focus:outline-none focus:ring focus:ring-indigo-200",value:X,onChange:e=>J(e.target.value)})})]}),oe.jsxs("div",{className:"w-full md:w-[45%]  gap-x-4  justify-between  my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:" ml-0 md:ml-4 w-full md:w-[30%]  text-md mt-1.5 ",htmlFor:"studentSelect",children:"Status"})," ",oe.jsx("div",{className:"w-full",children:oe.jsxs("select",{id:"status",className:"border border-gray-300 rounded-md py-2 px-3 w-full focus:outline-none focus:ring focus:ring-indigo-200",value:G,onChange:e=>K(e.target.value),children:[oe.jsx("option",{value:"All",children:"All"}),oe.jsx("option",{value:"Y",children:"Publish"}),oe.jsx("option",{value:"N",children:"Unpublish"})]})})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{onClick:he,type:"button",disabled:z,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:z?"Searching...":"Search"})})]})," "]}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:["Manage Notice/SMS"," "]}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>I(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Type"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Notice Date"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject"})," ",oe.jsxs("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:["Class"," "]}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Created by"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit/View"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Publish"})]})}),oe.jsx("tbody",{children:a?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):we.length?we.map(((e,t)=>{var a;return oe.jsxs("tr",{className:"text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*F+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.notice_type}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.notice_date}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.subject}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("div",{className:" w-17  overflow-x-auto ",children:null==(a=null==e?void 0:e.classnames)?void 0:a.split(",").map(((t,a)=>oe.jsxs("span",{children:[t.trim(),a<e.classnames.split(",").length-1&&", "]},a)))})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.name}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:"Y"===e.publish?oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{var t;console.log("view data",e),j(e),O(null==e?void 0:e.classnames),k(null==e?void 0:e.notice_date),E(null==e?void 0:e.subject),M(null==e?void 0:e.notice_desc),A(null==(t=null==e?void 0:e.get_teacher)?void 0:t.teacher_id),h(!0),"Notice"===e.notice_type?fe(e):ue([])})(e),children:oe.jsx(kg,{className:"font-bold text-xl"})}):oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>be(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"N"===e.publish?oe.jsx("button",{onClick:()=>(e=>{var t,a;console.log("inside delete of subjectallotmenbt____",e),console.log("inside delete of subjectallotmenbt",l);const r=Z.find((t=>t.unq_id===e));j({classToDelete:r}),console.log("the currecne t section",w),_(null==(t=null==w?void 0:w.classToDelete)?void 0:t.notice_type),console.log("cureendtsungjeg",null==(a=null==w?void 0:w.classToDelete)?void 0:a.notice_type),console.log("currestSubjectNameForDelete",N),y(!0)})(null==e?void 0:e.unq_id),className:"text-red-600 hover:text-red-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:VM})}):" "}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:[e.showSendButton?oe.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[oe.jsx("span",{className:"text-nowrap text-red-600 font-bold",children:`${e.count}`}),oe.jsx("span",{className:"text-bule-600 text-nowrap font-medium ",children:"SMS Pending"}),oe.jsxs("button",{className:" flex felx-row items-center justify-center p-2 gap-x-1 bg-blue-500 text-nowrap hover:bg-blue-600 text-white font-medium rounded-md",onClick:()=>Se(e.unq_id),children:["Send ",oe.jsx(Rj,{})]})]}):" ","N"===e.publish?oe.jsx("button",{onClick:()=>{return j(t=e),console.log("fdsfsdsd handleEdit",t),void x(!0);var t},className:"text-green-500 hover:text-green-700 hover:bg-transparent",children:oe.jsx(Vm,{icon:VM})}):" "]})]},e.notice_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:$,onPageChange:e=>{R(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"CreateShortSMS"===n&&oe.jsx("div",{children:oe.jsx(Bie,{})}),"CreateNotice"===n&&oe.jsxs("div",{children:[oe.jsx(zie,{})," "]})]})]}),g&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Notice/SMS"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ve})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"className",className:"w-1/2 mt-2",children:"Class:"}),oe.jsx("div",{className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner break-words",style:{maxWidth:"262px",height:"auto",wordWrap:"break-word"},children:T})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"subject",className:"w-1/2 mt-2",children:"Subject:"}),oe.jsx("input",{id:"subject",type:"text",maxLength:100,className:"form-control shadow-md mb-2 w-full",value:te,onChange:e=>ae(e.target.value)}),se&&oe.jsx("p",{className:"text-red-500 text-sm h-3",children:se})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"noticeDesc",className:"w-1/2 mt-2",children:"Description:"}),oe.jsx("textarea",{id:"noticeDesc",rows:"2",maxLength:1e3,className:"form-control shadow-md mb-2 w-full",value:re,onChange:e=>ne(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.selectionStart,a=re.slice(0,t),r=re.slice(t);ne(`${a}\n ${r}`),setTimeout((()=>{e.target.selectionStart=e.target.selectionEnd=t+3}),0)}}}),ie&&oe.jsx("p",{className:"h-3 relative -top-3 text-red-500 text-sm mt-2",children:ie})]}),"Notice"===(null==w?void 0:w.notice_type)&&oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"  relative -top-5 w-full  flex flex-row justify-between gap-x-2 ",children:[oe.jsx("label",{className:"px-2 mt-2 lg:px-3 py-2 ",children:"Upload Files"}),oe.jsx("input",{className:"mt-3 relative right-0 md:right-[11%] text-xs bg-gray-50 ",type:"file",multiple:!0,onChange:_e})]}),oe.jsx("label",{className:"px-2 block  mb-2",children:"Attachment:"}),oe.jsxs("div",{className:"",children:[je.map(((e,t)=>oe.jsxs("div",{className:"flex items-center gap-x-2",children:[oe.jsx("span",{className:"bg-gray-100 border-1 text-[.8em] p-0.5 shadow-sm",children:e.name}),oe.jsx("div",{children:oe.jsx(sh,{className:"text-xl relative  w-4 h-4 text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>(e=>{const t=je.filter(((t,a)=>a!==e));Ne(t)})(t)})})]},t))),oe.jsx("div",{children:xe.map(((e,t)=>{const a=e.substring(e.lastIndexOf("/")+1);return oe.jsxs("div",{className:"flex items-center gap-x-2",children:[oe.jsx("span",{className:"bg-gray-100 border-1 p-0.5 text-[.8em] shadow-sm",children:a}),oe.jsx(sh,{className:" text-xl relative - w-4 h-4 text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>(e=>{const t=xe.filter(((t,a)=>a!==e));ge(t)})(t)})]},t)}))})]})]})})]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(z)return;U(!0);let e=!1;if(te.trim()?le(""):(le("Subject is required."),e=!0),re.trim()?de(""):(de("Notice description is required."),e=!0),e)U(!1);else try{const e=localStorage.getItem("authToken");if(!e)throw new Error("Authentication token is missing");const a=new FormData;a.append("subject",te),a.append("notice_desc",re),je.forEach((e=>a.append("userfile[]",e))),console.log("filenottobedeleted[]",xe),xe.forEach((e=>{const t=e.split("/").pop();a.append("filenottobedeleted[]",t)})),console.log("Formatted data of the edit SMS part",a),console.log("Selected files",je),console.log("formated data of the edit sms part",a),console.log("seletd files",je);const r=yield Uf.post(`${t}/api/update_smsnotice/${null==w?void 0:w.unq_id}`,a,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"},withCredentials:!0});hp.success(r.data.message||"Notice updated successfully!"),he(),ve()}catch(a){hp.error("Error updating notice. Please try again."),console.error(a)}finally{U(!1)}})),disabled:z,children:z?"Updating...":"Update"})})]})})})}),c&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"View Notice/SMS"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ve})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsxs("label",{htmlFor:"newSectionName",className:"w-1/2 mt-2",children:["Class:"," "]}),oe.jsx("div",{className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner break-words",style:{maxWidth:"262px",height:"auto",wordWrap:"break-word"},children:T})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsxs("label",{htmlFor:"newSectionName",className:"w-1/2 mt-2",children:["Notice Date:"," "]}),oe.jsx("span",{className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner",children:S})]}),oe.jsxs("div",{className:"mb-3 relative flex justify-start mx-4 gap-x-7",children:[oe.jsxs("label",{htmlFor:"newSectionName",className:"w-1/2 mt-2",children:["Subject:"," "]}),oe.jsx("span",{className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner",children:C})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"noticeDesc",className:"w-1/2 mt-2",children:"Description:"}),oe.jsx("textarea",{id:"noticeDesc",rows:"2",maxLength:1e3,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner",value:P})]}),ce&&ce.length>0&&oe.jsxs("div",{className:" flex flex-row",children:[oe.jsx("label",{className:" px-4 mb-2 ",children:"Attachments:"}),oe.jsx("div",{className:"relative mt-2 flex flex-col mx-4 gap-y-2",children:ce.map(((e,t)=>{const a=e.substring(e.lastIndexOf("/")+1);return oe.jsxs("div",{className:" font-semibold flex flex-row text-[.58em]  items-center gap-x-2",children:[oe.jsx("span",{className:" ",children:a}),oe.jsx("button",{className:" text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>pe(e,a),children:oe.jsx(pie,{className:"font-2xl w-3 h-3"})})]},t)}))})]})]})]})})})}),v&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ve}),console.log("the currecnt section inside delete of the managesubjhect",w)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this"," ",` ${null==(e=null==w?void 0:w.classToDelete)?void 0:e.notice_type} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var e,a,r;if(!z){U(!0);try{const n=localStorage.getItem("authToken");if(console.log("the currecnt section inside the delte___",null==(e=null==w?void 0:w.classToDelete)?void 0:e.subject_id),console.log("the classes inside the delete",l),console.log("the current section insde the handlesbmitdelete",w.classToDelete),!n||!w||!(null==(a=null==w?void 0:w.classToDelete)?void 0:a.unq_id))throw new Error("Unique ID is missing");const s=yield Uf.delete(`${t}/api/delete_smsnotice/${null==(r=null==w?void 0:w.classToDelete)?void 0:r.unq_id}`,{headers:{Authorization:`Bearer ${n}`},withCredentials:!0});he(),y(!1),hp.success(s.data.message||`${N} Deleted successfully!`)}catch(n){n.response&&n.response.data?hp.error(`Error In Deleting ${N}: ${n.response.data.message}`):hp.error(`Error In Deleting ${N}: ${n.message}`),console.error("Error In Deleting:",n)}finally{U(!1),y(!1)}}})),disabled:z,children:z?"Deleting...":"Delete"})})]})})})}),f&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Publish"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ve}),console.log("the currecnt section inside delete of the managesubjhect",w)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to Publish this"," ",` ${null==w?void 0:w.notice_type} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){var e;if(!z){U(!0);try{const a=localStorage.getItem("authToken");if(console.log("the currecnt section inside the delte___",null==(e=null==w?void 0:w.classToDelete)?void 0:e.subject_id),console.log("the classes inside the delete",l),console.log("the current section insde the handlesbmitdelete",w.classToDelete),!a||!w||!(null==w?void 0:w.unq_id))throw new Error("Unique ID is missing");const r=yield Uf.put(`${t}/api/update_publishsmsnotice/${null==w?void 0:w.unq_id}`,{},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});yield he(),hp.success(r.data.message||`${N} Publish successfully!`)}catch(a){a.response&&a.response.data?hp.error(`Error In Publishing ${N}: ${a.response.data.message}`):hp.error(`Error In Publishing ${N}: ${a.message}`),console.error("Error In Publishing:",a)}finally{x(!1),U(!1)}}})),disabled:z,children:z?"Publishing...":"Publish"})})]})})})})]})}function Hie(){var e,t,a;const r="https://sms.evolvu.in/public",[n,s]=Q.useState([]),[l,o]=Q.useState(!1),[i,d]=Q.useState(null),[c,u]=Q.useState(!1),[m,h]=Q.useState(!1),[f,x]=Q.useState(!1),[g,b]=Q.useState(null),[v,y]=Q.useState(null),[w,j]=Q.useState(""),[N,_]=Q.useState(""),[S,k]=Q.useState(""),[C,E]=Q.useState(0),[T,O]=Q.useState(0),D=10,[A,P]=Q.useState(!1),[M,L]=Q.useState(null),[I,F]=Q.useState(!1),R=Q.useRef(0),$=Q.useRef(""),B=sm();Q.useEffect((()=>{z()}),[]);const z=()=>p(this,null,(function*(){var e;o(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${r}/api/get_timetablelist`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});s(a.data.data),O(Math.ceil((null==(e=null==a?void 0:a.data)?void 0:e.data.length)/D)),console.log("pageCount",T)}catch(t){d(t.message)}finally{o(!1)}}));console.log("the response of the stafflist",n);const U=e=>p(this,null,(function*(){var t;if(!I){F(!0);try{const a=localStorage.getItem("authToken");if(!a||!(null==e?void 0:e.exam_tt_id))throw new Error("Exam Timetable ID is missing");const n="Y"===e.publish?`${r}/api/update_unpublishtimetable/${e.exam_tt_id}`:`${r}/api/update_publishtimetable/${e.exam_tt_id}`,s=yield Uf.put(n,{},{headers:{Authorization:`Bearer ${a}`}});z(),P(!1),hp.success((null==(t=null==s?void 0:s.data)?void 0:t.message)||"Exam Time Table Publish/Unpublish Operation successful")}catch(a){a.response&&a.response.data?hp.error(`Error: ${a.response.data.message}`):hp.error(`Error: ${a.message}`),console.error("Error in Publish/Unpublish operation:",a)}finally{F(!1),P(!1)}}})),H=()=>{P(!1),u(!1),h(!1),x(!1),j(""),_(""),b(null)},W=e=>p(this,null,(function*(){console.log("handleview is running on"),B(`/examTImeTable/view/${e.exam_tt_id}`,{state:{staff:e}})}));Q.useEffect((()=>{const e=S.trim().toLowerCase();""!==e&&""===$.current&&(R.current=C,E(0)),""===e&&""!==$.current&&E(R.current),$.current=e}),[S]);const Y=S.trim().toLowerCase(),q=n.filter((e=>{var t,a;return(null==(t=null==e?void 0:e.examname)?void 0:t.toLowerCase().includes(Y))||(null==(a=null==e?void 0:e.name)?void 0:a.toLowerCase().includes(Y))}));Q.useEffect((()=>{O(Math.ceil(q.length/D))}),[q,D]);const V=q.slice(C*D,(C+1)*D);return console.log("Filtered Staffs:",q.length),console.log("Displayed Staffs:",V.length),oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mx-auto md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Exam Timetable"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>k(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>B("/creaExamTimeTable"),children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full box-border",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Exam"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Publish"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"View"})]})}),oe.jsx("tbody",{children:l?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):V.length?V.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:C*D+t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.examname})}),"N"===e.publish?oe.jsxs(oe.Fragment,{children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{console.log("this is the )))))))))",e.get_teacher),B(`/examTImeTable/edit/${e.exam_tt_id}`,{state:{staff:e}})})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent",onClick:()=>{return t=e,console.log("insise detelt"),console.log("this is staffUersid",t.exam_tt_id),b(t.exam_tt_id),y(t.name),void x(!0);var t},children:oe.jsx(zM,{icon:VM})})})]}):oe.jsxs(oe.Fragment,{children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm"}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm"})]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm hover:bg-none",children:oe.jsx("button",{onClick:()=>{L({studentToActiveOrDeactive:e}),P(!0)},className:"font-bold hover:bg-none "+("Y"===e.publish?"text-green-600 hover:text-green-800 hover:bg-transparent":"text-red-700 hover:text-red-900 hover:bg-transparent"),children:"Y"===e.publish?oe.jsx(Vm,{className:"text-xl"}):oe.jsx(zM,{icon:JM,className:"text-xl"})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:"Y"===e.publish?oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>W(e),children:oe.jsx(kg,{className:"font-bold text-xl"})}):oe.jsx(oe.Fragment,{})})]},e.exam_tt_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:T,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{E(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),A&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Publish or Unpublish"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:H})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to"," ","Y"===(null==(e=null==M?void 0:M.studentToActiveOrDeactive)?void 0:e.publish)?"unpublish":"publish"," ","the exam timetable for class"," ",` ${null==(t=null==M?void 0:M.studentToActiveOrDeactive)?void 0:t.name}`,"?"]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>U(M.studentToActiveOrDeactive),disabled:I,children:I?"Processing...":"Y"===(null==(a=null==M?void 0:M.studentToActiveOrDeactive)?void 0:a.publish)?"Unpublish":"Publish"})})]})})})}),f&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title  ",children:"Delete Exam Timetable"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:H})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("p",{children:["Are you sure you want to delete the exam timetable for class: ",v,"?"]}),console.log("currestStaffDelete",g)]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!I){F(!0);try{const e=localStorage.getItem("authToken");if(!e||!g)throw new Error("Exam Timetable ID is missing");200===(yield Uf.delete(`${r}/api/delete_timetable/${g}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0})).status?(z(),H(),hp.success("Exam timetable deleted successfully!")):hp.error("Failed to delete exam timetable")}catch(e){console.error("Error deleting exam timetable:",e),hp.error("Failed to delete exam timetable")}finally{F(!1),x(!1)}}})),disabled:I,children:I?"Deleting...":"Delete"})})]})})})})]})}const Wie=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState([]),[l,o]=Q.useState([]),[i,d]=Q.useState(null),[c,h]=Q.useState(null),[f,x]=Q.useState(null),[g,b]=Q.useState(!1),[v,y]=Q.useState(!1),[w,j]=Q.useState(""),N=sm(),[_,S]=Q.useState({}),[k,C]=Q.useState(!1),[E,T]=Q.useState(!1),[O,D]=Q.useState(""),[A,P]=Q.useState(""),[M,L]=Q.useState([]),[I,F]=Q.useState([]),[R,$]=Q.useState([]),[B,z]=Q.useState(!1),[U,H]=Q.useState(R.map((e=>m(u({},e),{errors:{noSubject:!1,missingOption:!1}}))));console.log("scheduleerror",U);const W=[...U];W.forEach((e=>{e.errors=e.errors||{noSubject:!1,missingOption:!1}})),console.log("updatedErrors",W),Q.useEffect((()=>{Y(),q()}),[]);const Y=()=>p(e,null,(function*(){try{C(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(s(a.data),console.log("this is the dropdown of the allot subject tab for class",a.data)):hp.Error("Unexpected data format")}catch(e){hp.error("Error fetching classes."),console.error("Error fetching classes:",e)}finally{C(!1)}})),q=()=>p(e,null,(function*(){try{T(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_Examslist`,{headers:{Authorization:`Bearer ${e}`}});o(a.data||[])}catch(e){hp.error("Error fetching exams."),console.error("Error fetching exams:",e)}finally{T(!1)}})),V=Q.useMemo((()=>n.map((e=>({value:e.class_id,label:`${null==e?void 0:e.name}`,key:`${e.class_id}`})))),[n]),G=Q.useMemo((()=>l.map((e=>({value:e.exam_id,label:`${null==e?void 0:e.name}`})))),[l]),K=(e,t,a,r=null)=>{const n=[...R];"subjects"===t&&null!==r?(n[e].subjects[r]=a,""!==a&&(n[e].studyLeave=!1)):"studyLeave"===t?(n[e].studyLeave=a,a&&(n[e].subjects=Array(4).fill(""),n[e].option="Select")):n[e][t]=a,$(n)},X=a=>p(e,null,(function*(){b(!0);try{const e=localStorage.getItem("authToken");yield Uf.post(`${t}/api/save_timetable/${c}/${i}`,a,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),hp.success("Exam Time Table created successfully!"),b(!1),setTimeout((()=>{N("/exam_TImeTable")}),500)}catch(e){hp.error("Error creating Exam Time Table."),console.error(e),b(!1)}}));return oe.jsxs("div",{className:"w-full md:w-[80%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Create Exam Timetable"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{S({}),N("/exam_TImeTable")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:" w-full md:w-[79%] border-1 drop-shadow-sm  flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg  mt-3 ml-0 md:ml-[2%]   p-2",children:oe.jsx("div",{className:"w-[99%] flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[50%]",children:[oe.jsx(Soe,{id:"classSelect",menuPortalTarget:document.body,menuPosition:"fixed",value:f,onChange:e=>{x(e),D(""),d(null==e?void 0:e.value)},options:V,placeholder:k?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:k}),O&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:O})]})]}),oe.jsxs("div",{className:"w-full gap-x-2 relative left-0 md:-left-[7%] justify-around md:w-[85%] my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[20%] text-md pl-0 md:pl-3 mt-1.5",htmlFor:"studentSelect",children:["Exam ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[70%]",children:[oe.jsx(Soe,{id:"studentSelect",menuPortalTarget:document.body,menuPosition:"fixed",value:a,onChange:e=>{P(""),r(e),h(null==e?void 0:e.value)},options:G,placeholder:E?"Loading exams...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:E}),A&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:A})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var r;let n=!0;if(f?D(""):(D("Please select Class."),n=!1),a?P(""):(P("Please select Exam."),n=!1),n)try{y(!0);const a=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_examdates/${i}/${c}`,{headers:{Authorization:`Bearer ${a}`}});if(p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_subjectsofallstudents/${i}`,{headers:{Authorization:`Bearer ${e}`}});F(a.data.data||[])}catch(e){console.error("Error fetching subjects:",e)}})),null==(r=null==n?void 0:n.data)?void 0:r.data){const{dates:e,option:t,study_leave:a,subject_ids:r}=n.data.data;if(0===e.length&&0===t.length&&0===a.length&&0===r.length)return hp.error("Data is not available for the selected Class and Exam."),L([]),void $([]);L(e),$(e.map(((e,t)=>({date:e,subjects:r[t]||Array(4).fill(""),option:"Select",studyLeave:!1}))))}console.log("ress",n.data.success);const s=n.data.success;if(n.data.success==s){const{message:e,status:t,success:a}=n.data;console.log("Error details:",n.data),e?400===t?(L([]),$([]),hp.error(e)):200==t&&1==a?hp.success("For Create Exam Timetable Data loaded successfully!"):hp.error(e):hp.error("An unknown error occurred.")}}catch(s){console.error("Error fetching exam data:",s),hp.error("An error occurred while fetching data.")}finally{y(!1)}else y(!1)})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(v?"opacity-50 cursor-not-allowed":""),disabled:v,children:v?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Search"})]})})}),R.length>0&&oe.jsx("div",{className:"w-full  mx-auto py-4 px-1 md:px-4",children:oe.jsxs("div",{className:"card bg-gray-100 py-2 px-3 rounded-md",children:[oe.jsx("div",{className:"overflow-x-auto",children:oe.jsxs("table",{className:"table-auto mt-4 w-full border-collapse border bg-gray-50 border-gray-300",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Date"}),oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Subject 1"}),oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Subject 2"}),oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Subject 3"}),oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Subject 4"}),oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Option"}),oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Study Leave"})]})}),oe.jsx("tbody",{children:g?oe.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):R.map(((e,t)=>{var a;return oe.jsxs("tr",{children:[oe.jsx("td",{className:"border p-2 text-center",children:e.date}),e.subjects.map(((a,r)=>{var n;return oe.jsxs("td",{className:"border p-2",children:[oe.jsxs("select",{className:"w-full text-xs border p-1 text-xs",value:a,onChange:e=>K(t,"subjects",e.target.value,r),children:[oe.jsx("option",{value:"",children:"Select"}),I.map((e=>oe.jsx("option",{value:e.sub_rc_master_id,children:e.name},e.sub_rc_master_id)))]}),(null==(n=e.errors)?void 0:n.noSubject)&&oe.jsx("span",{className:"text-red-500 text-xs",children:"Subject is required"})]},r)})),oe.jsxs("td",{className:"border p-2",children:[oe.jsxs("select",{className:"w-full  border p-1 text-xs",value:e.option,onChange:e=>K(t,"option",e.target.value),children:[oe.jsx("option",{value:"Select",children:"Select"}),oe.jsx("option",{value:"A",children:"AND"}),oe.jsx("option",{value:"O",children:"OR"})]}),(null==(a=e.errors)?void 0:a.missingOption)&&oe.jsx("span",{className:"text-red-500 text-xs",children:"Option is required for multiple subjects"})]}),oe.jsx("td",{className:"w-full md:w-[11%] border py-2 text-center",children:oe.jsx("input",{type:"checkbox",checked:e.studyLeave,className:"shadow-md w-4 h-4",onChange:e=>K(t,"studyLeave",e.target.checked)})})]},t)}))})]})}),oe.jsxs("div",{className:"mt-4 ml-0 md:ml-5 flex flex-row gap-x-4",children:[oe.jsx("label",{htmlFor:"description",className:"block font-semibold text-[1em] mb-2 text-gray-700",children:"Description:"}),oe.jsx("textarea",{type:"text",id:"description",maxLength:500,value:w,onChange:e=>j(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.selectionStart,a=w.slice(0,t),r=w.slice(t);j(`${a}\n ${r}`),setTimeout((()=>{e.target.selectionStart=e.target.selectionEnd=t+3}),0)}},className:"border-1 border-gray-300 p-2 w-[50%] shadow-md mb-2"})]}),oe.jsxs("div",{className:"my-4 flex flex-col md:flex-row gap-2 justify-center md:justify-end",children:[oe.jsx("button",{onClick:()=>{$(R.map((e=>m(u({},e),{subjects:Array(4).fill(""),option:"Select",studyLeave:!1})))),j("")},className:"bg-red-500 text-white py-1 px-3 rounded hover:bg-red-700",children:"Reset"}),oe.jsx("button",{type:"button",onClick:()=>p(e,null,(function*(){const e=(()=>{const e={};return R.forEach(((t,a)=>{t.subjects.forEach(((t,r)=>{const n=`subject_id${a+1}${r+1}`;/^\d+$/.test(t)?e[n]=t:e[n]=""})),e[`study_leave${a+1}`]=t.studyLeave?"1":"0",e[`option${a+1}`]=t.option||"Select"})),e.description=w,e})();let t=!1,a=[],r="",n=!1;const s=R.map((e=>({noSubject:!1,missingOption:!1,optionMismatch:!1})));if(R.forEach(((l,o)=>{const i=`option${o+1}`,d="1"===e[`study_leave${o+1}`],c=Object.keys(e).some((t=>t.startsWith(`subject_id${o+1}`)&&""!==e[t])),u=Object.keys(e).filter((t=>t.startsWith(`subject_id${o+1}`)&&""!==e[t])).length,m="Select"!==e[i];c&&(n=!0),m&&0===u&&(s[o].noSubject=!0,r=`Please select a subject for ${l.date}.`,t=!0),!m||1!==u||"A"!==e[i]&&"O"!==e[i]||(s[o].optionMismatch=!0,r=`Please select at least two subjects for ${l.date} when select option ${"A"===e[i]?"AND":"OR"}.`,t=!0),u>1&&!m&&(s[o].missingOption=!0,r=`Please select an option for multiple subjects on ${l.date}.`,t=!0),c||d||m||a.push(l.date)})),n||(r="Please select at least one subject for any date.",t=!0),H(U.map(((e,t)=>m(u({},e),{errors:s[t]})))),t)hp.error(oe.jsxs("div",{children:[oe.jsx("strong",{className:"text-red-600",children:"Error:"})," ",r,oe.jsx("div",{className:"text-right mt-2",children:oe.jsx("button",{className:"bg-blue-500 text-[.9em] text-white px-3 py-1 rounded hover:bg-blue-700",onClick:()=>hp.dismiss(),children:"OK"})})]}));else{if(a.length>0){const t=a.length;return z(!0),void hp(oe.jsxs("div",{children:[oe.jsx("strong",{className:"text-pink-500",children:"Warning:"})," Data for"," ",oe.jsx("strong",{className:"",children:t})," days are not selected. Do you still want to save data?",oe.jsxs("div",{className:"flex justify-end gap-2 mt-2 ",children:[oe.jsx("button",{className:"bg-red-500 text-[.9em] text-white px-2 py-1 rounded hover:bg-red-700",onClick:()=>{hp.dismiss(),z(!1)},children:"Cancel"}),oe.jsx("button",{className:"bg-green-500 text-[.9em] text-white px-2 py-1 rounded hover:bg-green-700",onClick:()=>{hp.dismiss(),z(!1),X(e)},children:"Confirm"})]})]}),{autoClose:!1,closeButton:!1,onClose:()=>z(!1)})}X(e)}})),className:"bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded "+(B?"opacity-50 cursor-not-allowed":""),disabled:B,children:"Submit"})]})]})})]})]})},Yie=()=>{const t="https://sms.evolvu.in/public",a=rm(),{staff:r}=a.state||{};console.log("staff",r);const[n,s]=Q.useState(!1),[l,o]=Q.useState(!1),[i,d]=Q.useState(""),c=sm(),[h,f]=Q.useState({}),[x,g]=Q.useState([]),[b,v]=Q.useState([]),[y,w]=Q.useState(b.map((e=>m(u({},e),{errors:{noSubject:!1,missingOption:!1}}))));console.log("scheduleerror",y);const j=[...y];j.forEach((e=>{e.errors=e.errors||{noSubject:!1,missingOption:!1}})),console.log("updatedErrors",j),Q.useEffect((()=>{const a=()=>p(e,null,(function*(){var e;try{const a=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_subjectsofallstudents/${null==r?void 0:r.class_id}`,{headers:{Authorization:`Bearer ${a}`}});g((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(a){console.error("Error fetching subjects:",a)}}));p(e,null,(function*(){var e,n;try{o(!0);const s=localStorage.getItem("authToken"),l=yield Uf.get(`${t}/api/get_examtimetable/${null==r?void 0:r.exam_tt_id}`,{headers:{Authorization:`Bearer ${s}`}});if(null==(e=null==l?void 0:l.data)?void 0:e.data){const e=l.data.data;if(0===e.length)return hp.error("Date is not available for this timetable."),v([]),void d("");v(e.map((e=>({date:e.date,subjects:[...e.subject_rc_id,"","",""].slice(0,4),option:e.option||"Select",studyLeave:e.study_leave})))),d((null==(n=l.data[0])?void 0:n.description)||"")}a()}catch(s){console.error("Error fetching timetable data:",s),hp.error("An error occurred while fetching timetable data.")}finally{o(!1)}}))}),[t,r]);const N=(e,t,a,r=null)=>{const n=[...b];"subjects"===t&&null!==r?(n[e].subjects[r]=a,""!==a&&(n[e].studyLeave=!1)):"studyLeave"===t?(n[e].studyLeave=a,a&&(n[e].subjects=Array(4).fill(""),n[e].option="Select")):n[e][t]=a,v(n)},_=a=>p(e,null,(function*(){o(!0);try{const e=localStorage.getItem("authToken");yield Uf.put(`${t}/api/update_examtimetable/${null==r?void 0:r.exam_tt_id}`,a,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),hp.success("Exam Time Table updated successfully!"),o(!1),setTimeout((()=>{c("/exam_TImeTable")}),500)}catch(e){hp.error("Error updating Exam Time Table."),console.error(e),o(!1)}}));return console.log("timetable",b),oe.jsxs("div",{className:"w-full md:w-[80%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Exam Timetable"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{f({}),c("/exam_TImeTable")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"w-full  text-sm md:text-[1.4em] text-opacity-90  text-blue-700  flex flex-row justify-center items-center",children:["Exam Timetable of"," ",oe.jsx("span",{className:"px-1 md:px-2",children:null==r?void 0:r.examname})," ( Class"," ",oe.jsx("span",{className:"text-pink-500 px-1 md:px-2 ",children:null==r?void 0:r.name})," )"]}),oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full mx-auto pb-4 pt-2 px-1 md:px-4",children:oe.jsxs("div",{className:"card bg-gray-100 py-2 px-3 rounded-md",children:[oe.jsx("div",{className:"overflow-x-auto",children:oe.jsxs("table",{className:"table-auto mt-4 w-full border-collapse border bg-gray-50 border-gray-300",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Date"}),[1,2,3,4].map((e=>oe.jsxs("th",{className:"border p-2 font-semibold text-center",children:["Subject ",e]},`subject${e}`))),oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Option"}),oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Study Leave"})]})}),oe.jsx("tbody",{children:l?oe.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]}):b.map(((e,t)=>oe.jsxs("tr",{children:[oe.jsx("td",{className:"border p-2 text-center",children:e.date}),e.subjects.map(((a,r)=>{var n;return oe.jsxs("td",{className:"border p-2",children:[oe.jsxs("select",{className:"w-full border p-1",value:a||"",onChange:e=>N(t,"subjects",e.target.value,r),children:[oe.jsx("option",{value:"",children:"Select"}),x.map((e=>oe.jsx("option",{value:e.sub_rc_master_id,children:e.name},e.sub_rc_master_id)))]}),(null==(n=e.errors)?void 0:n.noSubject)&&oe.jsx("span",{className:"text-red-500 text-xs",children:"Subject is required"})]},r)})),oe.jsx("td",{className:"border p-2",children:oe.jsxs("select",{className:"w-full border p-1",value:e.option,onChange:e=>N(t,"option",e.target.value),children:[oe.jsx("option",{value:"Select",children:"Select"}),oe.jsx("option",{value:"A",children:"AND"}),oe.jsx("option",{value:"O",children:"OR"})]})}),oe.jsx("td",{className:"w-full md:w-[11%] border py-2 text-center",children:oe.jsx("input",{type:"checkbox",checked:1===e.studyLeave,className:"shadow-md w-4 h-4",onChange:e=>N(t,"studyLeave",e.target.checked?1:"")})})]},t)))})]})}),oe.jsxs("div",{className:"mt-4 ml-0 md:ml-5 flex flex-row gap-x-4",children:[oe.jsx("label",{htmlFor:"description",className:"block font-semibold text-[1em] mb-2 text-gray-700",children:"Description:"}),oe.jsx("textarea",{type:"text",id:"description",maxLength:500,value:i,onChange:e=>d(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.selectionStart,a=i.slice(0,t),r=i.slice(t);d(`${a}\n ${r}`),setTimeout((()=>{e.target.selectionStart=e.target.selectionEnd=t+3}),0)}},className:"border-1 border-gray-300 p-2 w-[50%] shadow-md mb-2"})]}),oe.jsxs("div",{className:"my-4 flex flex-col md:flex-row gap-2 justify-center md:justify-end",children:[oe.jsx("button",{onClick:()=>{v(b.map((e=>m(u({},e),{subjects:Array(4).fill(""),option:"Select",studyLeave:!1})))),d("")},className:"bg-red-500 text-white py-1 px-3 rounded hover:bg-red-700",children:"Reset"}),oe.jsx("button",{type:"button",onClick:()=>p(e,null,(function*(){const e=(()=>{const e={description:i,data:b.map(((e,t)=>{const a=[];return e.subjects.forEach(((e,t)=>{a[t]=/^\d+$/.test(e)?e:""})),{date:e.date,option:e.option||"Select",studyLeave:e.studyLeave?"1":"",subjects:a}}))};return console.log("preparedData",e),e})();console.log("prepareData",e);let t=!1,a=[],r="",n=!1;const l=b.map((e=>({noSubject:!1,missingOption:!1})));if(b.forEach(((s,o)=>{const i=e.data[o].subjects.some((e=>""!==e)),d="1"===e.data[o].studyLeave,c=e.data[o].subjects.filter((e=>""!==e)).length,u=e.data[o].option,m="Select"!==u;i&&(n=!0),m&&!i&&(l[o].noSubject=!0,r=`Please select at least one subject for ${s.date}.`,t=!0),["A","O"].includes(u)&&c<2&&(l[o].noSubject=!0,r=`Please select at least two subjects for ${s.date} when Select option  ${"A"===u?"AND":"OR"}.`,t=!0),i||d||m||a.push(s.date)})),n||(r="Please select at least one subject or mark study leave for any date.",t=!0),w(y.map(((e,t)=>m(u({},e),{errors:l[t]})))),t)hp.error(oe.jsxs("div",{children:[oe.jsx("strong",{className:"text-red-600",children:"Error:"})," ",r,oe.jsx("div",{className:"text-right mt-2",children:oe.jsx("button",{className:"bg-blue-500 text-[.9em] text-white px-3 py-1 rounded hover:bg-blue-700",onClick:()=>hp.dismiss(),children:"OK"})})]}));else{if(console.log("waringRows",a),a.length>0){const t=a.length;return s(!0),void hp(oe.jsxs("div",{children:[oe.jsx("strong",{className:"text-pink-500",children:"Warning:"})," Data for"," ",oe.jsx("strong",{children:t})," rows are not filled. Do you still want to save data?",oe.jsxs("div",{className:"flex justify-end gap-2 mt-2 ",children:[oe.jsx("button",{className:"bg-red-500 text-[.9em] text-white px-2 py-1 rounded hover:bg-red-700",onClick:()=>{hp.dismiss(),s(!1)},children:"Cancel"}),oe.jsx("button",{className:"bg-green-500 text-[.9em] text-white px-2 py-1 rounded hover:bg-green-700",onClick:()=>{hp.dismiss(),s(!1),_(e)},children:"Confirm"})]})]}),{autoClose:!1,closeButton:!1,onClose:()=>{s(!1)}})}_(e)}})),className:"bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded "+(n?"opacity-50 cursor-not-allowed":""),disabled:n,children:"Submit"})]})]})})})]})]})},qie=()=>{const t="https://sms.evolvu.in/public",a=rm(),{staff:r}=a.state||{},[n,s]=Q.useState(!1),[l,o]=Q.useState([]),[i,d]=Q.useState({examname:"",classname:""}),[c,u]=Q.useState(""),m=sm();Q.useEffect((()=>{p(e,null,(function*(){var e,a;try{const n=localStorage.getItem("authToken");s(!0);const l=(yield Uf.get(`${t}/api/get_viewtimetable?exam_id=${null==r?void 0:r.exam_tt_id}`,{headers:{Authorization:`Bearer ${n}`}})).data;if(null==l?void 0:l.success){const t=l.exam_timetable_details||[];o(t),d(l.classterm||{}),u((null==(a=null==(e=t[0])?void 0:e.description)?void 0:a.description)||"-"),0===t.length&&hp.error("No timetable data available.")}else hp.error("Failed to fetch timetable data.")}catch(n){console.error("Error fetching timetable:",n),hp.error("An error occurred while fetching timetable data.")}finally{s(!1)}}))}),[t,null==r?void 0:r.exam_tt_id]);const h=Q.useRef(),f=()=>{const e=l.filter((e=>!(null===e.study_leave&&null===e.subjects))),t=`\n    <div class="flex items-center justify-center min-h-screen bg-white">\n      <div id="tableHeading" class="text-center w-3/4">\n        <h4 id="tableHeading5" class="text-xl text-center mb-0">\n          Timetable of ${i.examname} (Class ${i.classname})\n        </h4>\n        <table class="w-full border-collapse border border-black mx-auto mt-0">\n          <thead>\n            <tr class="bg-gray-100">\n              <th class="border border-black p-2 text-center font-semibold">Date</th>\n              <th class="border border-black p-2 text-center font-semibold">Subject Name</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${e.map((e=>`\n                <tr>\n                  <td class="border border-black p-2 text-center">\n                    ${e.date}\n                  </td>\n                  <td class="border border-black p-2 text-center ${e.study_leave?"text-red-600 font-semibold":""}">\n                    ${e.study_leave?e.study_leave:e.subjects||"-"}\n                  </td>\n                </tr>\n              `)).join("")}\n          </tbody>\n        </table>\n        <div id="bottomDiscription" class="w-full mt-6 flex items-center space-x-4">\n          <h5 class="text-lg font-bold text-gray-700">Description:</h5>\n          <p id="descriptionContent" class="text-[.8em] mt-2 bg-green-50 px-4 py-2 rounded-md shadow-sm">\n            ${c||""}\n          </p>\n        </div>\n        <hr>\n        \n      </div>\n    </div>\n  `,a=window.open("","","height=800,width=1000");a.document.write(`<html>\n      <head>\n        <title>Timetable of ${i.examname} (Class ${i.classname})</title>\n        <style>\n          @page {\n            margin:  0 ; /* Remove browser-added margins and headers/footers */\n          }\n          body {\n            margin: 0;\n            padding: 0;\n            font-family: Arial, sans-serif;\n          }\n          #tableHeading {\n            width: 70%;\n            \n            margin: auto;\n            margin-top:4em;\n          }\n          #tableHeading5 {\n            text-align: center;\n            margin-bottom: 5px; /* Remove space below heading */\n          }\n          #decorateAtag {\n            text-decoration: none;\n            font-size: 0.75rem; /* Smaller font size */\n          }\n          #Atag {\n            text-decoration: none;\n          }\n          #bottomDiscription {\n            width: 100%;\n            display: flex;\n            justify-content: flex-start;\n            gap: 1em;\n          }\n          #descriptionContent {\n            margin-top: 20px;\n            font-size: 0.9em;\n          }\n          table {\n            border-spacing: 0;\n            width: 100%;\n            margin: auto;\n          }\n          th {\n            background-color: #FFFFFF;\n          }\n          th, td {\n            border: 1px solid gray;\n            padding: 8px;\n            text-align: center;\n          }\n        </style>\n      </head>\n      <body>\n        ${t}\n      </body>\n    </html>`),a.document.close(),a.print()};return console.log("handlePrint",f),oe.jsxs("div",{className:"w-full md:w-[80%] mx-auto p-4",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md",children:[oe.jsxs("div",{className:"card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"View Exam Timetable"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>m("/exam_TImeTable")})]}),oe.jsx("div",{className:"relative w-full -top-6 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"text-center relative -top-4  flex justify-end",children:oe.jsxs("button",{onClick:f,className:"bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600",children:[oe.jsx(iie,{})," "]})}),oe.jsxs("div",{className:"w-full mt-2 text-sm md:text-[1.4em] text-opacity-90  text-blue-700 flex flex-row justify-center items-center",children:["Exam Timetable of"," ",oe.jsx("span",{className:"px-1 md:px-2",children:i.examname})," (Class"," ",oe.jsx("span",{className:"text-pink-500 px-1 md:px-2",children:i.classname}),")"]}),oe.jsx("div",{id:"printable-area",className:"md:w-[75%] w-full mx-auto pb-4 pt-2 px-1 md:px-4",children:oe.jsxs("div",{className:"card bg-gray-100 py-2 px-3 rounded-md",children:[oe.jsx("div",{className:"overflow-x-auto",children:oe.jsx("div",{ref:h,children:oe.jsxs("table",{className:"table-auto mt-4 w-full border-collapse border bg-gray-50 border-gray-300",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Date"}),oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Subjects"})]})}),oe.jsx("tbody",{children:n?oe.jsx("tr",{children:oe.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50 z-10",children:oe.jsx(Ag,{})})}):l.filter((e=>!(null===e.study_leave&&null===e.subjects))).map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-200",children:[oe.jsx("td",{className:"border p-2 text-center",children:e.date}),oe.jsx("td",{className:"border p-2 text-center "+(e.study_leave?"text-red-500 font-semibold":""),children:e.study_leave?e.study_leave:e.subjects||"-"})]},t)))})]})})}),oe.jsxs("div",{className:"mt-4 mb-3 ml-0 flex flex-row gap-x-4",children:[oe.jsx("label",{htmlFor:"description",className:"block font-semibold text-[1em] mb-2 text-gray-700",children:"Description:"}),oe.jsx("textarea",{type:"text",id:"description",maxLength:500,readOnly:!0,value:c,onChange:e=>u(e.target.value),className:"border-1 bg-gray-200 outline-none rounded-sm border-gray-300 p-2 w-[50%] shadow-md mb-2"})]})]})})]})]})},Vie=()=>{Q.useState("Manage"),Q.useState(null),Q.useState((()=>(new Date).toISOString().split("T")[0]));const[t,a]=Q.useState([]);Q.useState(null),Q.useState(!1),Q.useState(!1),Q.useState(""),sm(),Q.useState({});const[r,n]=Q.useState(!1);Q.useState(""),Q.useState([]),Q.useState(!1);const[s,l]=Q.useState([]);Q.useState(!1),Q.useState(!1),Q.useState(!1),Q.useState(!1),Q.useState(""),Q.useEffect((()=>{o()}),[]);const o=()=>p(e,null,(function*(){var e;try{n(!0);const t=localStorage.getItem("authToken"),r=yield Uf.get("https://sms.evolvu.in/public/api/get_teachersubstitutionlist",{headers:{Authorization:`Bearer ${t}`}});console.log("teacher",r),a((null==(e=r.data)?void 0:e.data)||[])}catch(t){hp.error("Error fetching teachers"),console.error("Error fetching teachers:",t)}finally{n(!1)}}));return Q.useMemo((()=>t.map((e=>({value:e.teacher_id,label:e.name})))),[t]),console.log("row",s),oe.jsx(oe.Fragment,{children:oe.jsx(bae,{})})},Gie=()=>{const t="https://sms.evolvu.in/public",a=Q.useRef(!1),r=rm(),{staff:n}=r.state||{},{teacherId:s,date:l}=n.timetable[0]||{},[o,i]=Q.useState("");console.log("Teacher ID:",s),console.log("Date:",l),console.log("staff",n),Q.useState(null);const[d,c]=Q.useState((()=>(new Date).toISOString().split("T")[0])),[h,f]=Q.useState([]);Q.useState(null);const[x,g]=Q.useState(!1);Q.useState(!1);const b=sm(),[v,y]=Q.useState(!1);Q.useState("");const[w,j]=Q.useState([]),[N,_]=Q.useState(!1),[S,k]=Q.useState([]);Q.useEffect((()=>{C(),E(),T()}),[]);const C=()=>p(e,null,(function*(){var e,a,r,n;try{g(!0);const o=localStorage.getItem("authToken"),d=yield Uf.get(`${t}/api/get_substituteteacherdata/${s}/${l}`,{headers:{Authorization:`Bearer ${o}`}});if((null==(e=null==d?void 0:d.data)?void 0:e.success)&&(null==(r=null==(a=d.data)?void 0:a.data)?void 0:r.length)>0){const e=d.data.data.map((e=>({date:null==e?void 0:e.date,subject:null==e?void 0:e.sname,classSection:`${null==e?void 0:e.c_name}-${null==e?void 0:e.s_name}`,periodNo:null==e?void 0:e.period,teacherName:null==e?void 0:e.sub_teacher,teacherId:null==e?void 0:e.teacher_id,subTeacherId:null==e?void 0:e.sub_teacher_id,substituteTeacher:e.sub_teacher_id,classId:null==e?void 0:e.class_id,sectionId:null==e?void 0:e.section_id,subjectId:null==e?void 0:e.subject_id})));i(null==(n=null==d?void 0:d.data)?void 0:n.day_week),j(e)}else hp.error("No substitution data available for the selected teacher and date."),j([])}catch(o){console.error("Error fetching substitution data:",o),hp.error("An error occurred while fetching substitution data.")}finally{g(!1)}}));Q.useEffect((()=>{const r=()=>p(e,null,(function*(){const a=yield Promise.all(w.map((a=>p(e,null,(function*(){const r=yield(n=a.periodNo,s=a.teacherId,p(e,null,(function*(){var e;try{const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_substituteteacherclasswise/${n}/${s}/${d}`,{headers:{Authorization:`Bearer ${a}`}});return(null==(e=null==r?void 0:r.data)?void 0:e.data)||[]}catch(a){return console.error("Error fetching substitution teachers:",a),hp.error("Failed to fetch substitute teachers."),[]}})));var n,s;return m(u({},a),{substituteOptions:r.map((e=>({value:e.teacher_id,label:e.name})))})})))));j(a)}));w.length>0&&!a.current&&(a.current=!0,r())}),[w]);const E=()=>p(e,null,(function*(){try{y(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`}});console.log("teacher",a),f(a.data||[])}catch(e){hp.error("Error fetching teachers"),console.error("Error fetching teachers:",e)}finally{y(!1)}})),T=()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`}});k(a.data||[])}catch(e){hp.error("Error fetching teachers"),console.error("Error fetching teachers:",e)}}));return Q.useMemo((()=>S.map((e=>({value:e.reg_id,label:e.name})))),[S]),Q.useMemo((()=>h.map((e=>({value:e.reg_id,label:e.name})))),[h]),oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[80%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Substitution Teacher"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{b("/substituteTeacher")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),w.length>0&&oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:"md:w-[65%] w-full mx-auto pb-3 pt-2 px-1 md:px-4",children:oe.jsxs("div",{className:"card bg-gray-100 py-2 px-3 rounded-md",children:[oe.jsx("h5",{className:"text-center text-blue-600",children:`Timetable for ${o} `}),oe.jsx("div",{className:"overflow-x-auto",children:oe.jsxs("table",{className:"table-auto w-full border-collapse border bg-gray-50 border-gray-300",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"border p-2 w-full md:w-[10%] font-semibold text-center",children:"Period"}),oe.jsx("th",{className:"border p-2 w-full md:w-[30%] font-semibold text-center",children:"Subject"}),oe.jsx("th",{className:"border-3 p-2  w-full md:w-[40%]  font-semibold text-center",children:"Substitute Teacher"})]})}),oe.jsx("tbody",{children:x?oe.jsx("tr",{children:oe.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50  z-10",children:[oe.jsx(Ag,{})," "]})}):w.map(((e,t)=>{var a;return oe.jsxs("tr",{children:[oe.jsx("td",{className:"border p-2 text-center",children:e.periodNo}),oe.jsxs("td",{className:"border p-2 text-center",children:[e.subject," ",e.classSection]}),oe.jsx("td",{className:"border p-2 text-center",children:oe.jsx(Soe,{options:e.substituteOptions||[],menuPortalTarget:document.body,menuPosition:"fixed",isClearable:!0,value:null==(a=e.substituteOptions)?void 0:a.find((t=>t.value===e.substituteTeacher)),onChange:e=>((e,t)=>{j((a=>a.map(((a,r)=>r===e?m(u({},a),{substituteTeacher:null==t?void 0:t.value}):a))))})(t,e),placeholder:"Select",className:"text-sm text-black",styles:{control:e=>m(u({},e),{fontSize:"0.75rem",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"0.75rem"}),option:(e,t)=>m(u({},e),{fontSize:"0.95rem",backgroundColor:t.isFocused?"rgba(59, 130, 246, 0.1)":"white",color:t.isSelected?"blue":"inherit"})}})})]},t)}))})]})})]})}),oe.jsxs("div",{className:"my-1 md:w-[65%] mx-auto w-full flex flex-col md:flex-row gap-1 justify-center md:justify-end ",children:[oe.jsx("button",{type:"button",onClick:()=>{j([])},className:"bg-red-500 text-white py-1 px-3 rounded hover:bg-red-700",disabled:N,children:"Reset"})," ",oe.jsx("button",{type:"button",onClick:()=>p(e,null,(function*(){const e=(console.log("Timetable is",w),{substitutions:w.map((e=>({class_id:e.classId,section_id:e.sectionId,subject_id:e.subjectId,period:e.periodNo,date:e.date,teacher_id:e.teacherId,substitute_teacher_id:e.substituteTeacher})))});if(console.log("Prepared Data",e),e.substitutions.some((e=>e.substitute_teacher_id))){g(!0);try{yield Uf.put(`${t}/api/update_substituteteacher/${s}/${l}`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`,"Content-Type":"application/json"}}),hp.success("Data updated successfully!"),b("/substituteTeacher"),j([])}catch(a){hp.error("Failed to update data. Please try again."),console.error("Error in submission:",a)}finally{g(!1)}}else hp.error("Please select at least one substitute teacher.")})),className:"bg-blue-500 hover:bg-blue-600 text-white py-1 px-3 rounded "+(N?"opacity-50 cursor-not-allowed":""),disabled:N,children:"Submit"})]})]})]})]})})};function Kie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(0),[_,S]=Q.useState(0),[k,C]=Q.useState({}),[E,T]=Q.useState(""),[O,D]=Q.useState(!0),[A,P]=Q.useState(""),[M,L]=Q.useState([]),[I,F]=Q.useState(!1),[R,$]=Q.useState(""),[B,z]=Q.useState(""),U=Q.useRef(0),H=Q.useRef(""),W=e=>{if(!e)return"";const[t,a]=e.split(":"),r=parseInt(t,10);return`${r%12==0?12:r%12}:${a} ${r>=12?"PM":"AM"}`};Q.useEffect((()=>{(()=>{p(this,null,(function*(){var t,a;try{const r=localStorage.getItem("authToken"),n=yield Uf.get(`${e}/api/get_teachercategory`,{headers:{Authorization:`Bearer ${r}`}});Array.isArray(null==(t=null==n?void 0:n.data)?void 0:t.data)?L(null==(a=null==n?void 0:n.data)?void 0:a.data):l("Unexpected data format")}catch(r){console.error("Error fetching Teachers Category:",null==r?void 0:r.message)}}))})()}),[]);const Y=10,q=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=(yield Uf.get(`${e}/api/get_listlatetime`,{headers:{Authorization:`Bearer ${t}`}})).data.data||[];a(r),S(Math.ceil(r.length/Y))}catch(t){l(t.message||"Error fetching data"),hp.error(t.message||"Error fetching data")}finally{n(!1)}})),V=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});P(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")}));Q.useEffect((()=>{q(),V()}),[]),Q.useEffect((()=>{const e=b.trim().toLowerCase();""!==e&&""===H.current&&(U.current=j,N(0)),""===e&&""!==H.current&&N(U.current),H.current=e}),[b]);const G=t.filter((e=>{var t;const a=b.trim().toLowerCase();return e.name.toLowerCase().includes(a)||W(null==(t=null==e?void 0:e.late_time)?void 0:t.toString()).includes(a)}));console.log("filteredSections",G),Q.useEffect((()=>{S(Math.ceil(G.length/Y))}),[G,Y]);const K=G.slice(j*Y,(j+1)*Y);console.log("displayed Late Time",K);const X=(e,t)=>{const a={};return e&&""!==e.trim()||(a.latetime="Please Select Late Time."),t||(a.tc_id="Please Select Teacher Category."),a},J=()=>{i(!1),c(!1),f(!1),w(""),$(""),z(""),g(null),C({}),T("")},Z=e=>{console.log($);const{value:t}=e.target;$(t),C((e=>m(u({},e),{latetime:X(t,B).latetime})))},ee=e=>{console.log(z),T("");const{value:t}=e.target;w(t),z(t),C((t=>m(u({},t),{tc_id:X(R,e.target.value).tc_id})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container  mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-[70%] shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Set Late Time"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:b,onChange:e=>v(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 w-full md:w-[80%] mx-auto  overflow-y-scroll lg:overflow-x-hidden ",children:oe.jsx("div",{className:"bg-white  rounded-lg shadow-xs ",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[12%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:" -px-2  w-full md:w-[25%] text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Teacher Category"}),oe.jsx("th",{className:"px-2 text-center lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Late Time"}),oe.jsx("th",{className:"px-2 w-full md:w-[14%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[14%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center text-blue-700 text-xl py-10",children:"Please wait while data is loading..."})}):K.length?K.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:j*Y+a+1})}),oe.jsx("td",{className:"text-center px-2  border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-5 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:W(e.late_time||"no late time")})}),"M"===A?oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-pink-600 hover:text-pink-800 hover:bg-transparent "})," "]}):oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{g(e),console.log("section",e),$(e.late_time),w(e.tc_id),console.log("section tc",e.tc_id),z(e.tc_id),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})," "]}),"M"===A?oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-green-600 hover:text-green-800 hover:bg-transparent "})}):oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("id",e),g("");const a=t.find((t=>t.lt_id===e));g(a),f(!0)})(e.lt_id),children:oe.jsx(zM,{icon:VM})})})]},e.section_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:_,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{N(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create And Set Late Time"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:J})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[" ",oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editDepartmentId",className:"w-3/4 mt-2",children:["Teacher Category ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"editDepartmentId",className:"form-control shadow-md",value:y,onChange:ee,children:[console.log("the tecaher name",y),oe.jsx("option",{value:"",children:"Select"}),console.log("the classes",M),0===M.length?oe.jsx("option",{value:"",children:"No Teacher Category available"}):M.map((e=>oe.jsx("option",{value:e.tc_id,children:e.name},e.tc_id)))]}),oe.jsxs("div",{className:"absolute top-9 left-[42%]",children:[!O&&oe.jsx("span",{className:" block text-danger text-xs",children:E}),k.tc_id&&oe.jsx("span",{className:"text-danger text-xs",children:k.tc_id})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-3/4 mt-2",children:["Late Time ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"time",maxLength:30,className:"form-control shadow-md mb-2",id:"sectionName",value:R,onChange:Z}),oe.jsx("div",{className:"absolute top-9 left-[42%]",children:k.latetime&&oe.jsx("span",{className:"text-danger text-xs",children:k.latetime})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){if(I)return;F(!0);const t=X(R,B);if(Object.keys(t).length>0)return C(t),void F(!1);try{const t=localStorage.getItem("authToken");if(!t)return void console.error("No authentication token found");const a=yield Uf.post(`${e}/api/save_setlatetime`,{latetime:R,tc_id:B},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),{data:r}=a;if(!r.success)return T("Teacher Category already taken."),hp.error("Teacher Category already exist."),D(!1),void F(!1);console.log("Data saved successfully.",r),T(""),hp.success("Late Time added successfully!"),D(!0),q(),J()}catch(a){console.error("Error adding Late Time:",a),hp.error("Server error. Please try again later.")}finally{F(!1)}})),disabled:I,children:I?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit And Set Late Time"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:J})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editDepartmentId",className:"w-3/4 mt-2",children:["Teacher Category ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"editDepartmentId",className:"form-control shadow-md",value:y,onChange:ee,children:[console.log("the tecaher name",y),oe.jsx("option",{value:"",children:"Select"}),console.log("the classes",M),0===M.length?oe.jsx("option",{value:"",children:"No Teacher Category available"}):M.map((e=>oe.jsx("option",{value:e.tc_id,children:e.name},e.tc_id)))]}),oe.jsxs("div",{className:"absolute top-9 left-[42%]",children:[!O&&oe.jsx("span",{className:" block text-red-500 text-xs",children:E}),k.tc_id&&oe.jsx("span",{className:"text-danger text-xs",children:k.tc_id})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-3/4 mt-2",children:["Late Time ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"time",maxLength:30,className:"form-control shadow-md mb-2",id:"editSectionName",value:R,onChange:Z}),oe.jsx("div",{className:"absolute top-9 left-[42%] ",children:k.latetime&&oe.jsx("span",{className:"text-danger text-xs",children:k.latetime})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){if(I)return;F(!0);const t=X(R,B);if(Object.keys(t).length>0)return C(t),void F(!1);console.log("Current Section:",x),console.log("Current Section ID (lt_id):",x||null);try{const t=localStorage.getItem("authToken");if(console.log("token",t),!t||!x)throw new Error("No authentication token or teacher ID found");console.log("currentSection",x),yield Uf.put(`${e}/api/update_latetime/${null==x?void 0:x.lt_id}`,{latetime:R,tc_id:B},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),q(),J(),hp.success("Late Time updated successfully!")}catch(a){if(a.response&&422===a.response.data.status){hp.error("Teacher Category already taken"),T("Teacher Category already taken"),D(!1);const e=a.response.data.errors;console.log("error",e),e.name&&(C((t=>m(u({},t),{name:e.name}))),e.name.forEach((e=>hp.error(e))))}else hp.error("Server error. Please try again later.")}finally{F(!1)}})),disabled:I,children:I?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:J})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete late time for:"," ",x.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!I){F(!0);try{const t=localStorage.getItem("authToken");if(localStorage.getItem("academicYear"),!t||!x||!x.lt_id)throw new Error("Teacher ID is missing");const a=yield Uf.delete(`${e}/api/delete_latetime/${x.lt_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});q(),a.data.success?(f(!1),g(null),hp.success("Late Time deleted successfully!")):hp.error(a.data.message||"Failed to delete Late Time")}catch(t){console.error("Error deleting Late Time:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{F(!1),f(!1)}}})),disabled:I,children:I?"Deleting...":"Delete"})})]})})})]})]})}const Xie=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(""),[n,s]=Q.useState(null),[l,o]=Q.useState(null),[i,d]=Q.useState([]),[c,h]=Q.useState([]),[f,x]=Q.useState([]),[g,b]=Q.useState([]),[v,y]=Q.useState(null),[w,j]=Q.useState(null),[N,_]=Q.useState(null),[S,k]=Q.useState(null),[C,E]=Q.useState(""),[T,O]=Q.useState(""),[D,A]=Q.useState(""),[P,M]=Q.useState(""),[L,I]=Q.useState(null),[F,R]=Q.useState(null),[$,B]=Q.useState(null),[z,U]=Q.useState(!1),[H,W]=Q.useState(!1),Y=sm(),[q,V]=Q.useState({}),[G,K]=Q.useState({});(new Date).toISOString().split("T")[0];const[X,J]=Q.useState(!1),[Z,ee]=Q.useState(!1);Q.useEffect((()=>{te(),ae()}),[]);const te=()=>p(e,null,(function*(){try{J(!0),ee(!0);const e=localStorage.getItem("authToken"),[a]=yield Promise.all([Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}})]);d(a.data||[])}catch(e){hp.error("Error fetching Class data.")}finally{J(!1),ee(!1)}})),ae=()=>p(e,null,(function*(){try{J(!0),ee(!0);const e=localStorage.getItem("authToken"),[a]=yield Promise.all([Uf.get(`${t}/api/nextclassacademicyear`,{headers:{Authorization:`Bearer ${e}`}})]);h(a.data.data||[])}catch(e){hp.error("Error fetching Class data.")}finally{J(!1),ee(!1)}})),re=Q.useMemo((()=>i.map((e=>({value:e.class_id,label:`${e.name}`,key:`${e.class_id}`})))),[i]),ne=Q.useMemo((()=>c.map((e=>({value:e.class_id,label:`${e.name}`,key:`${e.class_id}`})))),[c]),se=Q.useMemo((()=>f.map((e=>({value:e.section_id,label:`${null==e?void 0:e.name}`})))),[f]),le=Q.useMemo((()=>g.map((e=>({value:e.section_id,label:`${null==e?void 0:e.name}`})))),[g]),[ie,de]=Q.useState([]),[ce,ue]=Q.useState(!1);console.log("seletedStudents[]",ie);const me=$?$.filter((e=>{const t=a.toLowerCase();return null!==e.roll_no&&e.roll_no.toString().toLowerCase().includes(t)||`${e.first_name||""} ${e.mid_name||""} ${e.last_name||""}`.toLowerCase().includes(t)})):[];return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Promote Students"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{Y("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"     w-full md:container mt-4",children:[oe.jsxs("div",{className:" w-full md:w-[95%] border-1 flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg    mx-auto mt-1 p-2 ",children:[oe.jsx("h6",{className:" w-[20%] float-start text-nowrap text-blue-600 mt-2.5",children:"Promote From :"}),oe.jsx("div",{className:"w-full  flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[50%]",children:[oe.jsx(Soe,{id:"classSelect",value:L,onChange:a=>{O(""),I(a),s(null),j(null),y(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e,r;console.log("fetchStudentNameWithClassId is run");try{ee(!0);const n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/get_divisions/${a}`,{headers:{Authorization:`Bearer ${n}`}});x((null==(e=null==s?void 0:s.data)?void 0:e.divisions)||[]),console.log("Response of fetchStudentNameWithClassId is",null==(r=null==s?void 0:s.data)?void 0:r.divisions)}catch(n){hp.error("Error fetching Divisions.")}finally{ee(!1)}}))})(null==a?void 0:a.value)},options:re,placeholder:X?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:X}),T&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:T})]})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[75%] my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[40%] text-md mt-1.5",htmlFor:"studentSelect",children:["Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:n,onChange:e=>{E(""),s(e),j(null==e?void 0:e.value)},options:se,disabled:!L,placeholder:Z?"Loading divisions...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:Z}),C&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:C})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,s;E(""),r(""),O(""),M(""),A(""),V({});let l=!1;if(L||(O("Please select a class."),l=!0),n||(E("Please select a division."),l=!0),!l)try{B(null),o(null),o([]),R(null),R([]),de([]),ue(!1),W(!0);const r=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/getstudentlistbyclassdivision/${v}/${w}`,{headers:{Authorization:`Bearer ${r}`}});(null==(e=null==n?void 0:n.data)?void 0:e.data)?(null==(a=null==n?void 0:n.data)||a.data,B(null==(s=null==n?void 0:n.data)?void 0:s.data)):(console.log("reponse",n.data.status),hp.error("No data found for the selected class and divisoin."))}catch(i){console.log("error is",i),console.log("error is",i.response)}finally{W(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(H?"opacity-50 cursor-not-allowed":""),disabled:H,children:H?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Browse"})]})})]}),$&&oe.jsx("div",{className:"w-full md:container mx-auto py-4 px-4",children:oe.jsxs("div",{className:"card px-3 rounded-md",children:[oe.jsxs("div",{className:" w-full md:w-[82%] border-2 border-gray-200 flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg    mx-auto mt-4 p-2 ",children:[oe.jsx("h6",{className:" w-[20%] float-start text-nowrap text-blue-600 mt-2.5",children:"Promote To :"}),oe.jsx("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[50%]",children:[oe.jsx(Soe,{id:"classSelect",value:F,onChange:a=>{M(""),R(a),o(null),k(null),_(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e,r;console.log("fetchStudentNameWithClassIdForStudent is run");try{ee(!0);const n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/nextsectionacademicyear/${a}`,{headers:{Authorization:`Bearer ${n}`}});b((null==(e=null==s?void 0:s.data)?void 0:e.data)||[]),console.log("Response of fetchStudentNameWithClassIdForStudent is ",null==(r=null==s?void 0:s.data)?void 0:r.divisions)}catch(n){hp.error("Error fetching Divisions.")}finally{ee(!1)}}))})(null==a?void 0:a.value)},options:ne,placeholder:X?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,isDisabled:X,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})}}),P&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:P})]})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[75%] my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[40%] text-md mt-1.5",htmlFor:"studentSelect",children:["Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:l,onChange:e=>{A(""),o(e),k(null==e?void 0:e.value)},options:le,disabled:!F,isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})}}),D&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:D})]})]})]})})]}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-[85%] shadow-lg",children:[oe.jsxs("div",{className:"p-1 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h6",{className:"text-gray-700 mt-1   text-nowrap",children:"Select Students"}),oe.jsx("div",{className:"box-border flex md:gap-x-2  ",children:oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>r(e.target.value)})})})]}),oe.jsx("div",{className:" relative w-[97%] h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full ",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full mx-auto",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{className:" ",children:oe.jsxs("tr",{className:"bg-gray-200 ",children:[oe.jsx("th",{className:"px-2 text-center w-full md:w-[10%] lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsxs("th",{className:"px-2 text-center w-full md:w-[14%]  lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:[oe.jsx("input",{type:"checkbox",checked:ce,onChange:()=>{if(ue(!ce),ce)de([]);else{const e=$.map((e=>e.student_id));de(e)}},className:"cursor-pointer"})," ","Select All"]}),oe.jsx("th",{className:"px-2 w-full md:w-[19%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Roll Number"}),oe.jsx("th",{className:"px-2 w-full md:w-[52%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Name"})]})}),oe.jsx("tbody",{children:me.length?me.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:oe.jsx("input",{type:"checkbox",checked:ie.includes(e.student_id),onChange:()=>{return t=e.student_id,void(ie.includes(t)?de(ie.filter((e=>e!==t))):de([...ie,t]));var t},className:"cursor-pointer"})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:0===e.roll_no?"0":e.roll_no||""})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[e.first_name||""," ",e.mid_name||""," ",e.last_name||""," "]})})]},e.student_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})," ",oe.jsx("div",{className:"text-center",children:oe.jsxs("p",{className:"text-blue-500 font-semibold mt-1",children:["Selected Students:"," ",oe.jsx("h6",{className:" inline text-pink-600",children:ie.length})]})}),oe.jsx("div",{className:"col-span-3 mb-2  text-right",children:oe.jsx("button",{type:"submit",onClick:a=>p(e,null,(function*(){var e;a.preventDefault();let r=!1;if(F.value||(M("Please select a class."),r=!0),l.value||(A("Please select a student."),r=!0),0===ie.length&&(hp.error("Please select at least one student to promote."),r=!0),!r)try{U(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");const a={selector:ie,tclass_id:F.value,tsection_id:l.value};200===(yield Uf.post(`${t}/api/promotestudents`,a,{headers:{Authorization:`Bearer ${e}`}})).status&&(hp.success("Students promoted successfully!"),I(null),s(null),de([]),V({}),o(null),o([]),R(null),R([]),M(""),A(""),ue(null),K({}),setTimeout((()=>{B(null)}),500))}catch(n){console.error("Error:",null==(e=n.response)?void 0:e.data),hp.error("An error occurred while promoting students."),n.response&&n.response.data&&K(n.response.data||{})}finally{U(!1)}})),style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(z?"opacity-50 cursor-not-allowed":""),disabled:z,children:z?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Updating..."]}):"Update"})})]})]})})]})})]})]})]})},Qie=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(""),[n,s]=Q.useState(null),[l,o]=Q.useState(null),[i,d]=Q.useState([]),[c,h]=Q.useState(null),[f,x]=Q.useState(null),[g,b]=Q.useState(""),[v,y]=Q.useState(""),[w,j]=Q.useState(""),[N,_]=Q.useState(""),[S,k]=Q.useState(null),[C,E]=Q.useState(null),[T,O]=Q.useState(null),[D,A]=Q.useState(!1),[P,M]=Q.useState(!1),L=sm(),[I,F]=Q.useState({}),[R,$]=Q.useState({}),[B,z]=Q.useState(!1),[U,H]=Q.useState(!1);Q.useEffect((()=>{W()}),[]);const W=()=>p(e,null,(function*(){try{z(!0),H(!0);const e=localStorage.getItem("authToken"),[a]=yield Promise.all([Uf.get(`${t}/api/getallClassWithStudentCount `,{headers:{Authorization:`Bearer ${e}`}})]);d(a.data||[])}catch(e){hp.error("Error fetching Class data.")}finally{z(!1),H(!1)}})),Y=Q.useMemo((()=>i.map((e=>{var t;return{value:e.section_id,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name} (${e.students_count})`,key:`${e.class_id}`}}))),[i]),[q,V]=Q.useState([]),[G,K]=Q.useState(!1);console.log("seletedStudents[]",q);const X=T?T.filter((e=>{var t,r,n,s;const l=a.toLowerCase();return null!==e.roll_no&&e.roll_no.toString().toLowerCase().includes(l)||(null==(t=e.parents)?void 0:t.f_email)&&e.parents.f_email.toLowerCase().includes(l)||(null==(r=e.parents)?void 0:r.m_emailid)&&e.parents.m_emailid.toLowerCase().includes(l)||null!==(null==(n=null==e?void 0:e.user_master)?void 0:n.user_id)&&(null==(s=null==e?void 0:e.user_master)?void 0:s.user_id.toString().toLowerCase().includes(l))||`${e.first_name||""} ${e.mid_name||""} ${e.last_name||""}`.toLowerCase().includes(l)})):[];return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"md:mx-auto md:w-[90%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Send User ID To Parents"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{L("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"     w-full md:container mt-4",children:[oe.jsx("div",{className:"pt-2 md:pt-4"}),oe.jsxs("div",{className:"pt-8 w-full md:w-[50%]  relative ml-0 md:ml-[10%]  border-1 flex justify-start flex-col md:flex-row gap-x-1  bg-white rounded-lg    mt-2 md:mt-6 p-2 ",children:[oe.jsx("h6",{className:" w-[20%] float-start text-nowrap text-blue-600 mt-2.5"}),oe.jsx("div",{className:"w-full    flex md:flex-row justify-start items-center",children:oe.jsxs("div",{className:"w-full  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[57%]",children:[oe.jsx(Soe,{id:"classSelect",value:S,onChange:e=>{y(""),k(e),s(null),x(null),h(null==e?void 0:e.value)},options:Y,placeholder:B?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:B}),v&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:v})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,n;b(""),r(""),y(""),_(""),j(""),F({});let s=!1;if(S||(y("Please select a class."),s=!0),!s)try{O(null),o(null),o([]),E(null),E([]),V([]),K(!1),M(!0);const r=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/get_students`,{headers:{Authorization:`Bearer ${r}`},params:{section_id:c}});(null==(e=null==s?void 0:s.data)?void 0:e.students)?(null==(a=null==s?void 0:s.data)||a.students,O(null==(n=null==s?void 0:s.data)?void 0:n.students)):(console.log("reponse",s.data.status),hp.error("No data found for the selected class."))}catch(l){console.log("error is",l),console.log("error is",l.response)}finally{M(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(P?"opacity-50 cursor-not-allowed":""),disabled:P,children:P?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Browse"})]})})]}),T&&oe.jsx("div",{className:"w-full md:container mx-auto py-4 px-4 ",children:oe.jsxs("div",{className:"card mx-auto w-full shadow-lg",children:[oe.jsxs("div",{className:"p-1 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h6",{className:"text-gray-700 mt-1   text-nowrap",children:"Select Students"}),oe.jsx("div",{className:"box-border flex md:gap-x-2  ",children:oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>r(e.target.value)})})})]}),oe.jsx("div",{className:" relative w-[97%] h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full ",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full mx-auto",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{className:" ",children:oe.jsxs("tr",{className:"bg-gray-200 ",children:[oe.jsx("th",{className:"px-2 text-center w-full md:w-[7%] lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsxs("th",{className:"px-2 text-center w-full md:w-[14%]  lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:[oe.jsx("input",{type:"checkbox",checked:G,onChange:()=>{if(K(!G),G)V([]);else{const e=T.filter((e=>{var t,a;return(null==(t=null==e?void 0:e.parents)?void 0:t.f_email)||(null==(a=null==e?void 0:e.parents)?void 0:a.m_emailid)})).map((e=>e.student_id));V(e)}},className:"cursor-pointer"})," ","All"]}),oe.jsx("th",{className:"px-2 w-full md:w-[13%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Roll No"}),oe.jsx("th",{className:"px-2 w-full md:w-[22%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 w-full md:w-[52%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Father Email Id"}),oe.jsxs("th",{className:"px-2 w-full md:w-[52%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:["Mother Email Id"," "]}),oe.jsx("th",{className:"px-2 w-full md:w-[52%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"User Id"})]})}),oe.jsx("tbody",{children:X.length?X.map(((e,t)=>{var a,r,n,s,l,o,i,d;return oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:((null==(a=null==e?void 0:e.parents)?void 0:a.f_email)||(null==(r=null==e?void 0:e.parents)?void 0:r.m_emailid))&&oe.jsx("input",{type:"checkbox",checked:q.includes(e.student_id),onChange:()=>{return t=e.student_id,void(q.includes(t)?V(q.filter((e=>e!==t))):V([...q,t]));var t},className:"cursor-pointer"})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:0===e.roll_no?"0":e.roll_no||""})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[e.first_name||""," ",e.mid_name||""," ",e.last_name||""," "]})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==(n=null==e?void 0:e.parents)?void 0:n.f_email)?null==(s=null==e?void 0:e.parents)?void 0:s.f_email:""})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==(l=null==e?void 0:e.parents)?void 0:l.m_emailid)?null==(o=null==e?void 0:e.parents)?void 0:o.m_emailid:""})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==(i=null==e?void 0:e.user_master)?void 0:i.user_id)?null==(d=null==e?void 0:e.user_master)?void 0:d.user_id:""})})]},e.student_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})," ",oe.jsx("div",{className:"text-center",children:oe.jsxs("p",{className:"text-blue-500 font-semibold mt-1",children:["Selected Students:"," ",oe.jsx("h6",{className:" inline text-pink-600",children:q.length})]})}),oe.jsx("div",{className:"col-span-3 mb-2  text-right",children:oe.jsx("button",{type:"submit",onClick:a=>p(e,null,(function*(){var e;a.preventDefault();let r=!1;if(0===q.length&&(hp.error("Please select at least one student to send their User ID to the parents."),r=!0),!r)try{A(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");const a={studentId:q};200===(yield Uf.post(`${t}/api/send_user_id_toparents`,a,{headers:{Authorization:`Bearer ${e}`}})).status&&(hp.success("Send Use ID to parents successfully!"),k(null),s(null),V([]),F({}),o(null),o([]),E(null),E([]),_(""),j(""),K(null),$({}),setTimeout((()=>{O(null)}),500))}catch(n){console.error("Error:",null==(e=n.response)?void 0:e.data),hp.error("An error occurred while sending use ID to parents."),n.response&&n.response.data&&$(n.response.data||{})}finally{A(!1)}})),style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(D?"opacity-50 cursor-not-allowed":""),disabled:D,children:D?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Sending..."]}):"Send email to parents"})})]})]})})]})]})]})};function Jie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null);Q.useState("");const[b,v]=Q.useState("");Q.useState("");const[y,w]=Q.useState(0),[j,N]=Q.useState(0);Q.useState("");const[_,S]=Q.useState({}),[k,C]=Q.useState(""),[E,T]=Q.useState(!0),[O,D]=Q.useState("");Q.useState([]);const[A,P]=Q.useState(!1),[M,L]=Q.useState([]),[I,F]=Q.useState(""),[R,$]=Q.useState(""),[B,z]=Q.useState([]),[U,H]=Q.useState(""),[W,Y]=Q.useState(""),q=10;Q.useEffect((()=>{K(),X(),J(),Z()}),[]);const V=Q.useRef(0),G=Q.useRef(""),K=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/get_allstaff`,{headers:{Authorization:`Bearer ${t}`}});if(console.log(" all staff names",a.data),Array.isArray(a.data.data)){const e=a.data.data.map((e=>({value:e.teacher_id,label:e.name})));L(e)}else C("Unexpected data format.")}catch(t){hp.error("Error fetching Staff Names.",t)}})),X=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No Authentication token found.");const a=yield Uf.get(`${e}/api/get_leavetype`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("leave type",a.data),Array.isArray(a.data.data)?z(a.data.data):l("Unexpected data format.")}catch(t){l(t.message),hp.error("Error to fetching leave type"),console.log("Error to fetching error.")}finally{n(!1)}})),J=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/get_leaveallocationall`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});if(console.log("API Response:",r.data),!Array.isArray(r.data.data))throw new Error("Response data is not an array.");a(r.data.data),N(Math.ceil(r.data.data.length/q))}catch(t){l(t.message)}finally{n(!1)}})),Z=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});D(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",O)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")}));Q.useEffect((()=>{const e=b.trim().toLowerCase();""!==e&&""===G.current&&(V.current=y,w(0)),""===e&&""!==G.current&&w(V.current),G.current=e}),[b]);const ee=t.filter((e=>{const t=b.trim().toLowerCase();return e.teachername.toLowerCase().includes(t)||e.leavename.toLowerCase().includes(t)||e.balance_leave.toLowerCase().includes(t)||e.leaves_allocated.toLowerCase().includes(t)}));Q.useEffect((()=>{N(Math.ceil(ee.length/q))}),[ee,q]);const te=ee.slice(y*q,(y+1)*q),ae=(e,t,a)=>{const r={};return e||(r.name="Please select Staff name."),t&&!isNaN(Number(t))||(r.leave_type_id="Please select Leave Type."),!a||isNaN(Number(a))?r.leaves_allocated="Please enter a valid number of allocated leaves.":Number(a)<=0&&(r.leaves_allocated="Allocated leaves must be greater than zero."),r},re=()=>{i(!1),c(!1),f(!1),g(null),F(),Y(),H(),S({}),C(""),$("")},ne=e=>{e?(C(""),F(e.value),S((t=>m(u({},t),{name:ae(e.value,W,U).name})))):(F(""),S((e=>m(u({},e),{name:""}))))},se=e=>{const{value:t}=e.target;Y(t),S((e=>m(u({},e),{leave_type_id:ae(I,t,U).leave_type_id})))},le=e=>{const{value:t}=e.target;H(t),S((e=>m(u({},e),{leaves_allocated:ae(I,W,t).leaves_allocated})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container  mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-[90%] shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Leave Allocation"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:b,onChange:e=>v(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 w-full md:w-[90%] mx-auto  overflow-y-scroll lg:overflow-x-hidden ",children:oe.jsx("div",{className:"bg-white  rounded-lg shadow-xs ",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:" -px-2  w-full md:w-[30%] text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Staff Name"}),oe.jsx("th",{className:"px-2 text-center md:w-[18%] lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave Type"}),oe.jsx("th",{className:"px-2 w-full md:w-[18%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave Allocated"}),oe.jsx("th",{className:"px-2 w-full md:w-[18%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Balance Leave"}),oe.jsx("th",{className:"px-2 w-full md:w-[14%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[14%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center text-blue-700 text-xl py-10",children:"Please wait while data is loading..."})}):te.length?te.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:y*q+a+1})}),oe.jsx("td",{className:"text-center px-2  border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.teachername})}),oe.jsx("td",{className:"text-center px-2 lg:px-5 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.leavename})}),oe.jsx("td",{className:"text-center px-2 lg:px-5 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.leaves_allocated})}),oe.jsx("td",{className:"text-center px-2 lg:px-5 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.balance_leave})}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("staff of edit",e),g(e),F(null==e?void 0:e.staff_id),$(null==e?void 0:e.teachername),console.log("set stff ",e.staff_id),Y(e.leave_type_id),console.log("set staf leave",e.leave_type_id),H(e.leaves_allocated),console.log("set leave alloctaed",e.leaves_allocated),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})," "]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>((e,a)=>{const r=t.find((t=>t.staff_id===e&&t.leave_type_id===a));r?(g(r),f(!0)):hp.error("Unable to find the leave allocation to delete.")})(e.staff_id,e.leave_type_id),children:oe.jsx(zM,{icon:VM})})})]},e.section_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:j,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{w(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Leave"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:re})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"staffName",className:"w-1/2 mt-2",children:["Staff Name",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"staffName",options:M,value:M.find((e=>e.value===I)),onChange:ne,placeholder:"Select",className:" shadow-md w-full",isSearchable:!0,isClearable:!0}),oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[!E&&oe.jsx("span",{className:"block text-danger text-xs",children:k}),_.name&&oe.jsx("span",{className:"text-danger text-xs",children:_.name})]})]}),oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"leaveType",className:"w-1/2 mt-2",children:["Leave Type",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"leaveType",className:"form-control shadow-md",value:W,onChange:se,children:[oe.jsx("option",{value:"",children:"Select"}),0===B.length?oe.jsx("option",{children:"No Leave Type Available"}):B.map((e=>oe.jsx("option",{value:e.leave_type_id,className:"max-h-20 overflow-y-scroll",children:e.name},e.leave_type_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:_.leave_type_id&&oe.jsx("span",{className:"text-danger text-xs",children:_.leave_type_id})})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"leaveAllocated",className:"w-1/2 mt-2",children:["Leave Allocated",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{id:"leaveAllocated",className:"form-control shadow-md",value:U,onChange:le}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:_.leaves_allocated&&oe.jsx("span",{className:"text-danger text-xs",children:_.leaves_allocated})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){if(A)return;P(!0),T(!1),C("");const t=ae(I,W,U);if(Object.keys(t).length>0)return S(t),console.log("setFieldErrors",_),void P(!1);try{const t=localStorage.getItem("authToken");if(!t)return void console.error("No authentication token found");const a=yield Uf.post(` ${e}/api/save_leaveallocated`,{staff_id:I,leave_type_id:W,leaves_allocated:U},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),{data:r}=a;if(!r.success)return console.error("Leave Allocation for the staff already done..",r),C("Leave Allocation for the staff already done."),hp.error("Leave Allocation for the staff already done."),T(!1),void P(!1);console.log("Data saved successfully.",r),C(""),hp.success("Leave added successfully!"),T(!0),J(),re()}catch(a){console.error("Error adding Leave Allocation:",a),hp.error("Server error. Please try again later.")}finally{P(!1)}})),disabled:A,children:A?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Staff Leave"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:re})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"editStaffName",className:"w-1/2 mt-2",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{id:"editStaffName",className:"form-control shadow-md",value:R,onChange:ne,disabled:!0}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:_.name&&oe.jsx("span",{className:"text-danger text-xs",children:_.name})})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"leaveType",className:"w-1/2 mt-2",children:["Leave Type",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"leaveType",className:"form-control shadow-md",value:W,onChange:se,disabled:!0,children:[oe.jsx("option",{value:"",children:"Select"}),0===B.length?oe.jsx("option",{children:"No Leave Type Available"}):B.map((e=>oe.jsx("option",{value:e.leave_type_id,className:"max-h-20 overflow-y-scroll",children:e.name},e.leave_type_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:_.leave_type_id&&oe.jsx("span",{className:"text-danger text-xs",children:_.leave_type_id})})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editLeaveAllocated",className:"w-1/2 mt-2",children:["Leave Allocated ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{id:"leaveAllocated",className:"form-control shadow-md",value:U,onChange:le}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:_.leaves_allocated&&oe.jsx("span",{className:"text-danger text-xs",children:_.leaves_allocated})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){var a;if(A)return;P(!0);const r=ae(I,W,U);if(Object.keys(r).length>0)return S(r),console.log("setFieldErrors",_),void P(!1);try{const a=localStorage.getItem("authToken");if(!(a&&x&&x.staff_id&&x.leave_type_id))throw new Error("No authentication token or required IDs found");console.log("Preparing to update with:",{staff_id:I,leave_type_id:W,leaves_allocated:U});const r=yield Uf.put(`${e}/api/update_leaveallocation/${null==x?void 0:x.staff_id}/${null==x?void 0:x.leave_type_id}`,{leaves_allocated:U},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});console.log("Update response:",r.data),console.log("Sections fetched after update:",t),J(),re(),hp.success("Staff Leave updated successfully!")}catch(n){if(console.error("Error editing Staff Leave:",n),console.log("Error details:",(null==(a=n.response)?void 0:a.data)||n.message),n.response&&422===n.response.data.status){const e=n.response.data.errors;e.staff_id&&(S((t=>m(u({},t),{staff_id:e.staff_id}))),e.staff_id.forEach((e=>hp.error(e))))}else hp.error("Server error. Please try again later.")}finally{P(!1)}})),disabled:A,children:A?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:re})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete staff:"," ",x.teachername,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!A){P(!0);try{const t=localStorage.getItem("authToken");if(!t||!x||!x.staff_id)throw new Error("Staff ID is missing");const a=yield Uf.delete(`${e}/api/delete_leaveallocation/${x.staff_id}/${x.leave_type_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a.data.success?(J(),f(!1),g(null),hp.success("Leave deleted successfully!")):hp.error(a.data.message||"Failed to delete leave allocation.")}catch(t){console.error("Error deleting Leave:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{P(!1),f(!1)}}})),disabled:A,children:A?"Deleting...":"Delete"})})]})})})]})]})}function Zie(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[u,m]=Q.useState(null),[h,f]=Q.useState(null),[x,g]=Q.useState(""),[b,v]=Q.useState(0),[y,w]=Q.useState(0),j=sm();Q.useEffect((()=>{N()}),[]);const N=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/get_leaveapplicationlist`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a(r.data.data),w(Math.ceil(r.data.data.length/10))}catch(t){l(t.message)}finally{n(!1)}}));console.log("the response of the stafflist",t);const _=()=>{i(!1),m(null)},S=e=>p(this,null,(function*(){console.log("handleview is running on"),j(`/leaveApplication/view/${e.leave_app_id}`,{state:{staffleave:e}})})),k=e=>{if(!e)return"-";const t=new Date(e);return`${String(t.getDate()).padStart(2,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getFullYear()).slice(-2)}`},C=Array.isArray(t)?t.filter((e=>{const t=String(x).toLowerCase();return String(e.name).toLowerCase().includes(t)||String(k(e.leave_start_date)).toLowerCase().includes(t)||String(k(e.leave_end_date)).toLowerCase().includes(t)||String(e.no_of_days).toLowerCase().includes(t)||String(e.status).toLowerCase().includes(t)})):[];console.log("filetred staff leave",C);const E=C.slice(10*b,10*(b+1));return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"md:container w-full md:w-2/3 md:mx-auto md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg mt-4",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Leave Application"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>g(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>j("/createLeaveApplication"),children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full box-border",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave Type"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave Start Date"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave End Date"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"No. of Days"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Status"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"View"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):E.length?E.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:10*b+t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:k(e.leave_start_date)})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:k(e.leave_end_date)})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.no_of_days||"-"})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.status||"-"})}),"Cancelled"!==e.status&&"Rejected"!==e.status&&"Approve"!==e.status?oe.jsxs(oe.Fragment,{children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("this is the inside handle submit",e.leave_app_id),j(`/leaveApplication/edit/${e.leave_app_id}`,{state:{staffleave:e}})})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>{return t=e,console.log("this is staffUe leave",t.leave_app_id),m(t.leave_app_id),f(t.name),void i(!0);var t},children:oe.jsx(zM,{icon:VM})})})]}):oe.jsxs(oe.Fragment,{children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:" "}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:" "})]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>S(e),children:oe.jsx(kg,{className:"font-bold text-xl"})})})]},e.leave_app_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),C.length>10&&oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:y,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{v(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})]})]})}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title  ",children:"Delete Staff"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:_})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("p",{children:["Are you sure you want to delete: ",h,"?"]}),console.log("currestStaffDelete",u)]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!d){c(!0);try{const t=localStorage.getItem("authToken");if(!t||!u)throw new Error("Leave Id is missing");const a=yield Uf.delete(`${e}/api/delete_leaveapplication/${u}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});N(),200===a.status?(_(),hp.success(`${h} deleted successfully!`)):hp.error("Leave Application not found")}catch(t){console.error("Error deleting staff:",t),hp.error("Failed to delete staff"),hp.error(t.response.data.error)}finally{c(!1),i(!1)}}})),disabled:d,children:d?"Deleting...":"Delete"})})]})})})})]})}const ede=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState(!1),[l,o]=Q.useState({staff_name:"",leave_type_id:"",leave_start_date:"",leave_end_date:"",no_of_days:"",reason:""}),[i,d]=Q.useState({}),[c,h]=Q.useState([]);Q.useState("");const[f,x]=Q.useState(null);Q.useState({});const g=sm(),b=(new Date).toISOString().split("T")[0],v=a=>p(e,null,(function*(){r(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No Authentication token found.");const r=yield Uf.get(`${t}/api/get_leavetypedata/${a}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});Array.isArray(r.data.data)?h(r.data.data):x("Unexpected data format.")}catch(e){x(e.message),hp.error("Error fetching leave type")}finally{r(!1)}})),y=Q.useRef(!1);Q.useEffect((()=>{if(l.leave_start_date&&l.leave_end_date&&!y.current){const e=new Date(l.leave_start_date),t=new Date(l.leave_end_date);if(!isNaN(e)&&!isNaN(t)){const a=(t.getTime()-e.getTime())/864e5+1;o(a>0?e=>m(u({},e),{no_of_days:a.toFixed(1)}):e=>m(u({},e),{no_of_days:""}))}}}),[l.leave_start_date,l.leave_end_date]);const w=e=>{const{name:t,value:a}=e.target;d((e=>m(u({},e),{[t]:""}))),"no_of_days"===t&&(y.current=!0,/^\d+(\.\d+)?$/.test(a)||d((e=>m(u({},e),{no_of_days:"Please enter a valid positive number (e.g., 0.5)"})))),"leave_start_date"!==t&&"leave_end_date"!==t||(y.current=!1),o((e=>m(u({},e),{[t]:a})))},j=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},N=a=>p(e,null,(function*(){a.preventDefault();const e=(()=>{const e={};l.staff_name?/^[^\d].*/.test(l.staff_name)||(e.staff_name="Staff name should not start with a number"):e.staff_name="Staff name is required",l.leave_type_id||(e.leave_type_id="Leave type is required"),l.leave_start_date||(e.leave_start_date="Leave start date is required"),l.leave_end_date||(e.leave_end_date="Leave end date is required");const t=(a=l.no_of_days)?/^\d{1,2}(\.\d{1,2})?$/.test(a)?null:"Enter a valid number":"Number of days is required";var a;return t&&(e.no_of_days=t),d(e),e})();if(Object.keys(e).length>0)return d(e),void Object.values(e).forEach((e=>{hp.error(e)}));const r=m(u({},l),{leave_start_date:j(l.leave_start_date),leave_end_date:j(l.leave_end_date),staff_id:l.reg_id,staff_name:l.staff_name});try{s(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.post(`${t}/api/save_leaveapplication`,r,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}),{data:n}=a;n.success?(hp.success("Leave Application Created Successfully!"),setTimeout((()=>{g("/leaveApplication")}),500)):hp.error("You have Applied for the leave more than the balance leave.")}catch(n){hp.error("Error submitting leave application"),console.error("Error:",n)}finally{s(!1)}}));return Q.useEffect((()=>{p(e,null,(function*(){const e=localStorage.getItem("authToken");try{const a=yield Uf.get(`${t}/api/sessionData`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});if(console.log("response session data",a.data),a.data&&a.data.user){const{name:e,reg_id:t}=a.data.user;console.log("user reg id",a.data.user.reg_id),o((a=>m(u({},a),{staff_name:e,reg_id:t}))),v(t),console.log("user fetch reg id",t)}else console.error("User data not found in the response")}catch(a){console.error("Error fetching session data:",a)}})),v()}),[]),oe.jsxs("div",{className:"container mx-auto min-h-screen flex items-center justify-center mt-3 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-[60%] ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Create Leave Application"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{d({}),g("/leaveApplication")}})]}),oe.jsx("div",{className:" relative w-full -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"  md:absolute md:right-10  md:top-[14%]  text-gray-500  ",children:[oe.jsx("span",{className:"text-red-500",children:"*"}),"indicates mandatory information"]}),oe.jsx("form",{onSubmit:N,className:"flex items-center justify-center overflow-x-hidden shadow-md p-3 bg-gray-50 space-y-2",children:oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"staff_name",name:"staff_name",pattern:"^[^\\d].*",title:"Name should not start with a number",required:!0,value:l.staff_name,className:"w-full form-control shadow-md mb-2",disabled:!0}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:i.staff_name&&oe.jsx("span",{className:"text-danger text-xs",children:i.staff_name})})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Leave Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"leave_type",name:"leave_type",value:l.leave_type_id,onChange:e=>{const{value:t}=e.target;o((e=>m(u({},e),{leave_type_id:t}))),d((e=>m(u({},e),{leave_type_id:t?null:"Leave type is required"})))},required:!0,className:"form-control shadow-md",children:[oe.jsxs("option",{className:"bg-gray-300",value:"",children:["Select Leave"," "]}),0===c.length?oe.jsx("option",{children:"No Options"}):c.map((e=>oe.jsx("option",{value:e.leave_type_id,className:"max-h-20 overflow-y-scroll",children:e.name},e.leave_type_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:i.leave_type_id&&oe.jsx("span",{className:"text-danger text-xs",children:i.leave_type_id})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"startDate",className:"w-1/2 mt-2",children:["Leave Start Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"leave_start_date",min:b,name:"leave_start_date",value:l.leave_start_date,onChange:w,required:!0,className:"form-control shadow-md"}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:i.leave_start_date&&oe.jsx("span",{className:"text-danger text-xs",children:i.leave_start_date})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"endDate",className:"w-1/2 mt-2",children:["Leave End Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"leave_end_date",min:b,name:"leave_end_date",value:l.leave_end_date,onChange:w,required:!0,className:"form-control shadow-md"}),oe.jsx("div",{className:"absolute top-9 left-1/3 ",children:i.leave_end_date&&oe.jsx("span",{className:"text-danger text-xs",children:i.leave_end_date})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"openDay",className:"w-1/2 mt-2",children:["No. of days",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",id:"no_of_days",name:"no_of_days",value:l.no_of_days,step:"0.5",min:"0.5",maxLength:5,onChange:w,onFocus:()=>{y.current=!0},className:"form-control shadow-md mb-2","aria-label":"No of Days"}),oe.jsx("div",{className:"absolute top-9 left-1/3 ",children:i.no_of_days&&oe.jsx("span",{className:"text-danger text-xs",children:i.no_of_days})})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"comment",className:"w-1/2 mt-2",children:"Reason"}),oe.jsx("textarea",{type:"text",maxLength:500,id:"reason",name:"reason",value:l.reason,onChange:w,rows:"2",className:"form-control shadow-md mb-2"})," "]}),oe.jsx("div",{className:"col-span-3 text-right mt-4",children:oe.jsx("button",{className:"mr-2 bg-blue-500 text-white py-1 px-3 rounded hover:bg-blue-700",onClick:N,disabled:n,children:n?"Saving...":"Save"})})]})})]})]})},tde=()=>{const t=rm(),a="https://sms.evolvu.in/public",[r,n]=Q.useState(!1),[s,l]=Q.useState(!1),{staffleave:o}=t.state||{};console.log("staff leave for editing",o);const[i,d]=Q.useState({staff_name:"",leave_type_id:"",leave_start_date:"",leave_end_date:"",status:"",no_of_days:"",reason:"",reason_for_rejection:""}),[c,h]=Q.useState({}),[f,x]=Q.useState([]);Q.useState("");const[g,b]=Q.useState(null);Q.useState({});const v=sm();(new Date).toISOString().split("T")[0];const y=()=>p(e,null,(function*(){n(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No Authentication token found.");const t=yield Uf.get(`${a}/api/get_leavetype`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});Array.isArray(t.data.data)?x(t.data.data):b("Unexpected data format.")}catch(e){b(e.message),hp.error("Error fetching leave type")}finally{n(!1)}})),w=e=>{const{name:t,value:a}=e.target;d((e=>{let r=m(u({},e),{[t]:a});if(r.leave_start_date&&r.leave_end_date&&"no_of_days"!==t){const e=new Date(r.leave_start_date),t=(new Date(r.leave_end_date)-e)/864e5+1;r.no_of_days=t>0?t.toFixed(0):""}return r})),"no_of_days"===t&&(/^\d+(\.\d+)?$/.test(a)?h((e=>m(u({},e),{no_of_days:""}))):h((e=>m(u({},e),{no_of_days:"Please enter a valid positive number (e.g., 0.5)."}))))},j=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`};return Q.useEffect((()=>{p(e,null,(function*(){const e=localStorage.getItem("authToken");try{const t=yield Uf.get(`${a}/api/sessionData`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});if(console.log("response session data",t.data),t.data&&t.data.user){const{name:e,reg_id:a}=t.data.user;console.log("user reg id",t.data.user.reg_id),d((t=>m(u({},t),{staff_name:e,reg_id:a}))),y(a),console.log("user fetch reg id",a)}else console.error("User data not found in the response")}catch(t){console.error("Error fetching session data:",t)}})),y()}),[]),Q.useEffect((()=>{o&&d({staff_name:o.staff_name||"",leave_type_id:o.leave_type_id||"",leave_start_date:o.leave_start_date||"",leave_end_date:o.leave_end_date||"",status:o.status||"",no_of_days:o.no_of_days||"",reason:o.reason||"",reason_for_rejection:o.reason_for_rejection||""})}),[o,a]),oe.jsxs("div",{className:"container mx-auto min-h-screen flex items-center justify-center mt-3 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-[66%] ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Leave Application"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{h({}),v("/leaveApplication")}})]}),oe.jsx("div",{className:" relative w-full -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"  md:absolute md:right-10  md:top-[11%]  text-gray-500  ",children:[oe.jsx("span",{className:"text-red-500",children:"*"}),"indicates mandatory information"]}),oe.jsx("form",{className:"flex items-center justify-center overflow-x-hidden shadow-md p-3 bg-gray-50 space-y-2",children:oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"staff_name",name:"staff_name",pattern:"^[^\\d].*",title:"Name should not start with a number",required:!0,value:i.staff_name,readOnly:!0,className:"w-full bg-gray-200 no-underline p-1.5 shadow-md mb-2 pl-2 "}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:c.staff_name&&oe.jsx("span",{className:"text-danger text-xs",children:c.staff_name})})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Leave Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"leave_type",name:"leave_type",value:i.leave_type_id,onChange:e=>{const{value:t}=e.target;d((e=>m(u({},e),{leave_type_id:t}))),h((e=>m(u({},e),{leave_type_id:t?null:"Leave type is required"})))},required:!0,className:"form-control shadow-md",children:[oe.jsxs("option",{className:"bg-gray-300",value:"",children:["Select"," "]}),0===f.length?oe.jsx("option",{children:"No Options"}):f.map((e=>oe.jsx("option",{value:e.leave_type_id,className:"max-h-20 overflow-y-scroll",children:e.name},e.leave_type_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:c.leave_type_id&&oe.jsx("span",{className:"text-danger text-xs",children:c.leave_type_id})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"startDate",className:"w-1/2 mt-2",children:["Leave Start Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"leave_start_date",name:"leave_start_date",value:i.leave_start_date,onChange:w,max:i.leave_end_date||"",required:!0,className:"form-control shadow-md"}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:c.leave_start_date&&oe.jsx("span",{className:"text-danger text-xs",children:c.leave_start_date})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"endDate",className:"w-1/2 mt-2",children:["Leave End Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"leave_end_date",name:"leave_end_date",value:i.leave_end_date,onChange:w,min:i.leave_start_date||"",required:!0,className:"form-control shadow-md"}),oe.jsx("div",{className:"absolute top-9 left-1/3 ",children:c.leave_end_date&&oe.jsx("span",{className:"text-danger text-xs",children:c.leave_end_date})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"openDay",className:"w-1/2 mt-2",children:["No. of days",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",id:"no_of_days",name:"no_of_days",maxLength:5,value:i.no_of_days,step:"0.5",min:"0.5",onChange:w,className:"form-control shadow-md mb-2"}),oe.jsx("div",{className:"absolute top-9 left-1/3 ",children:c.no_of_days&&oe.jsx("span",{className:"text-danger text-xs",children:c.no_of_days})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"openDay",className:"w-1/2 mt-2",children:["Status ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"status",name:"status",pattern:"^[^\\d].*",required:!0,value:i.status,className:"block border w-full border-gray-300 rounded-md py-1 px-3 bg-gray-200 shadow-inner",readOnly:!0})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"comment",className:"w-1/2 mt-2",children:"Reason"}),oe.jsx("textarea",{type:"text",maxLength:500,id:"reason",name:"reason",value:i.reason,onChange:w,rows:"2",className:"form-control shadow-md mb-2"})," "]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"comment",className:"w-1/2 mt-2",children:"Approver's Comment"}),oe.jsx("textarea",{type:"text",maxLength:500,id:"approval",name:"approval",value:i.reason_for_rejection,className:"input-field resize block w-full border border-gray-300 rounded-md py-1 px-3 bg-gray-200 shadow-inner",rows:"2",readOnly:!0})," "]}),oe.jsx("div",{className:"col-span-3 text-right mt-4",children:oe.jsx("button",{type:"submit",style:{backgroundColor:"#2196F3"},className:"mr-2 bg-blue-500 text-white py-1 px-3 rounded hover:bg-blue-700",onClick:t=>p(e,null,(function*(){var e,d;if(s)return;if(l(!0),t.preventDefault(),r)return;const c=(()=>{const e={};i.staff_name?/^[^\d].*/.test(i.staff_name)||(e.staff_name="Staff name should not start with a number"):e.staff_name="Staff name is required",i.leave_type_id||(e.leave_type_id="Leave type is required"),i.leave_start_date||(e.leave_start_date="Leave start date is required"),i.leave_end_date||(e.leave_end_date="Leave end date is required");const t=(a=i.no_of_days)?/^\d{1,2}(\.\d{1,2})?$/.test(a)?null:"Enter a valid number":"Number of days is required";var a;return t&&(e.no_of_days=t),h(e),e})();if(c&&Object.keys(c).length>0)return h(c),l(!1),void Object.values(c).forEach((e=>{console.log("error",e)}));const f=m(u({},i),{leave_start_date:j(i.leave_start_date),leave_end_date:j(i.leave_end_date),staff_id:i.reg_id,staff_name:i.staff_name});try{n(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");console.log("Submitting data:",f),200===(yield Uf.put(`${a}/api/update_leaveapplication/${o.leave_app_id}`,f,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})).status&&(hp.success("Leave updated successfully!"),setTimeout((()=>{v("/leaveApplication")}),500))}catch(p){if(console.error("Error updating leave:",(null==(e=p.response)?void 0:e.data)||p.message),p.response&&p.response.data){const{errors:e,message:t}=p.response.data;e&&(Object.entries(e).forEach((([e,t])=>{t.forEach((t=>{console.log(`${e}: ${t}`)}))})),setBackendErrors(e),setEmployeeIdBackendError((null==(d=null==e?void 0:e.leave_app_id_id)?void 0:d[0])||""))}else hp.error("An unexpected error occurred.")}finally{l(!1),n(!1)}})),disabled:s,children:s?"Updating...":"Update"})})]})})]})]})},ade=()=>{var t;const a=rm(),r="https://sms.evolvu.in/public",[n,s]=Q.useState(!1),{staffleave:l}=a.state||{};console.log("staff leave for view application",l);const[o,i]=Q.useState({staff_name:"",leave_type_id:"",leave_start_date:"",leave_end_date:"",status:"",no_of_days:"",reason:"",reason_for_rejection:""}),[d,c]=Q.useState({}),[h,f]=Q.useState([]);Q.useState("");const[x,g]=Q.useState(null);Q.useState({});const b=sm();(new Date).toISOString().split("T")[0];const v=()=>p(e,null,(function*(){s(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No Authentication token found.");const t=yield Uf.get(`${r}/api/get_leavetype`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});Array.isArray(t.data.data)?f(t.data.data):g("Unexpected data format.")}catch(e){g(e.message),hp.error("Error fetching leave type")}finally{s(!1)}}));return Q.useEffect((()=>{p(e,null,(function*(){const e=localStorage.getItem("authToken");try{const t=yield Uf.get(`${r}/api/sessionData`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});if(console.log("response session data",t.data),t.data&&t.data.user){const{name:e,reg_id:a}=t.data.user;console.log("user reg id",t.data.user.reg_id),i((t=>m(u({},t),{staff_name:e,reg_id:a}))),v(a),console.log("user fetch reg id",a)}else console.error("User data not found in the response")}catch(t){console.error("Error fetching session data:",t)}})),v()}),[]),Q.useEffect((()=>{l&&i({staff_name:l.staff_name||"",leave_type_id:l.leave_type_id||"",leave_start_date:l.leave_start_date||"",leave_end_date:l.leave_end_date||"",status:l.status||"",no_of_days:l.no_of_days||"",reason:l.reason||"",reason_for_rejection:l.reason_for_rejection||""})}),[l,r]),oe.jsxs("div",{className:"container mx-auto min-h-screen flex items-center justify-center ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-[66%] ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"View Leave Application"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{c({}),b("/leaveApplication")}})]}),oe.jsx("div",{className:" relative w-full -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("form",{className:"flex items-center justify-center overflow-x-hidden shadow-md p-3 bg-gray-50 space-y-2",children:oe.jsx("div",{className:"w-full max-w-3xl rounded-lg mt-0",children:oe.jsxs("div",{className:"flex flex-col mt-0 md:grid md:grid-cols-2 md:gap-x-0 md:gap-y-4",children:[oe.jsx("label",{htmlFor:"staffName",className:"w-1/2 mt-2 ml-7",children:"Staff Name"}),oe.jsx("div",{id:"staff_name",name:"staff_name",className:"block border w-full border-gray-300 rounded-md py-1 px-3 bg-gray-200 shadow-inner",children:o.staff_name||"N/A"}),oe.jsxs("label",{htmlFor:"leavetype",className:"w-1/2 mt-2 ml-7",children:["Leave Type",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:"input-field block w-full border border-gray-300 rounded-md py-1 px-3 bg-gray-200 shadow-inner",id:"leave_type",children:(null==(t=h.find((e=>e.leave_type_id===o.leave_type_id)))?void 0:t.name)||"Select"}),oe.jsxs("label",{htmlFor:"leavestartdate",className:"w-1/2 mt-2 ml-7",children:["Leave Start Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{id:"leave_start_date",name:"leave_start_date",className:"block border w-full border-gray-300 rounded-md py-1 px-3 bg-gray-200 shadow-inner",children:o.leave_start_date||"NA"}),oe.jsxs("label",{htmlFor:"leaveenddate",className:"w-1/2 mt-2 ml-7",children:["Leave End Date",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{id:"leave_end_date",name:"leave_end_date",className:"block border w-full border-gray-300 rounded-md py-1 px-3 bg-gray-200 shadow-inner",children:o.leave_end_date||"NA"}),oe.jsxs("label",{htmlFor:"status",className:"w-1/2 mt-2 ml-7",children:["Status ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{id:"status",name:"status",className:"block border w-full border-gray-300 rounded-md py-1 px-3 bg-gray-200 shadow-inner",children:o.status||"NA"}),oe.jsxs("label",{htmlFor:"days",className:"w-1/2 mt-2 ml-7",children:["No. of Days ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{id:"no_of_days",name:"no_of_days",className:"block border w-full border-gray-300 rounded-md py-1 px-3 bg-gray-200 shadow-inner",children:o.no_of_days||"NA"}),oe.jsx("label",{htmlFor:"reason",className:"w-1/2 mt-2 ml-7",children:"Reason"}),oe.jsx("div",{id:"reason",name:"reason",className:"input-field resize-none block w-full border border-gray-300 rounded-md py-1 px-3 bg-gray-200 shadow-inner",style:{minHeight:"2rem"},children:o.reason}),oe.jsx("label",{htmlFor:"reasonforrejection",className:"w-1/2 mt-2 ml-7",children:"Approver's Comment"}),oe.jsx("div",{id:"reason_for_rejection",name:"reason_for_rejection",className:"input-field resize-none block w-full border border-gray-300 rounded-md py-1 px-3 bg-gray-200 shadow-inner",style:{minHeight:"2rem"},rows:"2",children:o.reason_for_rejection})]})})})]})]})};function rde(){const e="https://sms.evolvu.in/public",t=sm(),[a,r]=Q.useState(!1),[n,s]=Q.useState(!1),[l,o]=Q.useState(!1),[i,d]=Q.useState([]),[c,h]=Q.useState(null),[f,x]=Q.useState(""),[g,b]=Q.useState({}),v=Q.useMemo((()=>i.map((e=>({value:e.leave_type_id,label:e.name})))),[i]),y=()=>p(this,null,(function*(){s(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found.");const a=yield Uf.get(`${e}/api/get_leavetype`,{headers:{Authorization:`Bearer ${t}`}});if(!Array.isArray(a.data.data))throw new Error("Unexpected data format received from API.");d(a.data.data)}catch(t){hp.error(t.message||"Failed to fetch leave types.")}finally{s(!1)}}));return Q.useEffect((()=>{y()}),[]),oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"md:mx-auto md:w-[70%] p-4 bg-white mt-4",children:[oe.jsxs("div",{className:"flex justify-between ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Leave Allocation to All Staff"}),oe.jsx(sh,{className:"relative top-2 right-2  text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>t(-1)})]}),oe.jsx("div",{className:"relative mb-8 h-1 mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white w-full md:w-[95%] mx-auto rounded-md",children:oe.jsxs("div",{className:"border border-pink-500 p-3 rounded-lg shadow-md",children:[oe.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-x-8",children:[oe.jsxs("div",{className:"w-full flex flex-col md:flex-row my-4 gap-x-4",children:[oe.jsxs("label",{htmlFor:"leaveType",className:"mr-2 ml-4 pt-2",children:["Leave Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-[60%] md:w-[50%]",children:[oe.jsx(Soe,{value:v.find((e=>e.value===c)),onChange:e=>{b((e=>m(u({},e),{leave_type_id:""}))),h(e?e.value:null)},options:v,placeholder:"Select",isSearchable:!0,isClearable:!0}),g.leave_type_id&&oe.jsx("div",{className:"text-danger text-sm mt-1",children:g.leave_type_id})]})]}),oe.jsxs("div",{className:"relative w-full  flex flex-col md:flex-row my-4 gap-x-4",children:[oe.jsxs("label",{htmlFor:"leaveAllocated",className:"mr-2 pt-2",children:["Leave Allocated ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",min:"0",maxLength:5,value:f,onChange:e=>{b((e=>m(u({},e),{leave_allocated:""})));const t=e.target.value;/^\d*\.?\d*$/.test(t)&&x(t)},className:"h-10 text-gray-600 p-1 pl-4 border-1 border-gray-300 outline-blue-400 rounded-md w-[60%] md:w-[55%] ",placeholder:""}),g.leave_allocated&&oe.jsx("div",{className:"absolute top-9 md:left-[37%]  block text-danger text-sm mt-1",children:g.leave_allocated})]})," "]}),oe.jsxs("div",{className:" flex justify-end text-center mt-10 w-full  ",children:[oe.jsx("button",{className:"mr-2 bg-red-500 text-white py-1 px-3 rounded hover:bg-red-700",onClick:()=>{h(null),x(""),b({})},children:"Reset"})," ",oe.jsx("button",{className:"mr-2 bg-blue-500 text-white py-1 px-3 rounded  hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed",onClick:()=>p(this,null,(function*(){const t={};if(c||(t.leave_type_id="Please select a leave type."),f&&!isNaN(f)||(t.leave_allocated="Please enter a valid leave allocation."),Object.keys(t).length>0)b(t);else{o(!0);try{r(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found.");console.log("token",t);const a=yield Uf.post(`${e}/api/save_leaveallocationforallstaff`,{leave_type_id:c,leaves_allocated:f},{headers:{Authorization:`Bearer ${t}`}}),{data:n}=a;n.success?(console.log("Leave Allocation Sccessfully!"),hp.success("Leave allocated successfully!")):(console.log("Leave Allocation is already present."),hp.error("Leave allocation is already present."))}catch(a){hp.error(a.message||"Failed to allocate leave.")}finally{r(!1)}}})),disabled:a,children:a?"Saving...":"Save"})]})]})})]})]})}const nde=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(null),[l,o]=Q.useState([]),[i,d]=Q.useState([]),[c,h]=Q.useState([]),[f,x]=Q.useState([]),[g,b]=Q.useState(null),[v,y]=Q.useState(null),[w,j]=Q.useState(null),[N,_]=Q.useState(null),[S,k]=Q.useState(""),[C,E]=Q.useState(""),[T,O]=Q.useState(""),[D,A]=Q.useState(""),[P,M]=Q.useState(""),[L,I]=Q.useState(null),[F,R]=Q.useState(null),[$,B]=Q.useState(null),[z,U]=Q.useState(null),[H,W]=Q.useState(!1),[Y,q]=Q.useState(!1),[V,G]=Q.useState(!1),K=sm(),X={option:(e,t)=>m(u({},e),{fontSize:"0.8rem",backgroundColor:t.isFocused?"rgba(59, 130, 246, 0.1)":"white",color:t.isSelected?"blue":"inherit"}),menu:e=>m(u({},e),{zIndex:50})},[J,Z]=Q.useState(""),[ee,te]=Q.useState({stud_name:"",father_name:"",mother_name:"",father_email:"",father_phone:"",mother_email:"",mother_phone:"",user_id:""}),[ae,re]=Q.useState({stud_name:"",father_name:"",mother_name:"",father_email:"",father_phone:"",mother_email:"",mother_phone:"",user_id:""}),[ne,se]=Q.useState({});Q.useState({}),(new Date).toISOString().split("T")[0];const[le,ie]=Q.useState(!1),[de,ce]=Q.useState(!1),[ue,me]=Q.useState(!1),[he,fe]=Q.useState(!1);Q.useEffect((()=>{pe(),xe()}),[]);const pe=()=>p(e,null,(function*(){var e;try{ie(!0),ce(!0);const a=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${a}`}}),Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${a}`}})]);o(r.data||[]),d((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching data.")}finally{ie(!1),ce(!1)}})),xe=()=>p(e,null,(function*(){var e;try{me(!0),fe(!0);const a=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${a}`}}),Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${a}`}})]);h(r.data||[]),x((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching data.")}finally{me(!1),fe(!1)}})),ge=Q.useMemo((()=>l.map((e=>{var t;return{value:e.section_id,label:`${(null==(t=null==e?void 0:e.get_class)?void 0:t.name)||""} ${(null==e?void 0:e.name)||""} (${(null==e?void 0:e.students_count)||""})`,key:`${e.class_id}-${e.section_id}`}}))),[l]),be=Q.useMemo((()=>i.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`})))),[i]),ve=Q.useMemo((()=>c.map((e=>{var t;return{value:e.section_id,label:`${(null==(t=null==e?void 0:e.get_class)?void 0:t.name)||""} ${e.name||""} (${e.students_count||""})`,key:`${e.class_id}-${e.section_id}`}}))),[c]),ye=Q.useMemo((()=>f.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`})))),[f]),we=a=>p(e,null,(function*(){var e,r,n,s,l,o,i,d,c,u,m,h;if(E(""),O(""),k(""),Z(""),se({}),!a)return E("Please select Student Name."),void hp.error("Please select Student Name.!");B(null),te({stud_name:"",parent_id:"",father_name:"",mother_name:"",father_email:"",father_phone:"",mother_email:"",mother_phone:"",user_id:""});try{q(!0);const f=localStorage.getItem("authToken"),p=yield Uf.get(`${t}/api/get_students`,{headers:{Authorization:`Bearer ${f}`},params:{student_id:a}});if(null==(e=null==p?void 0:p.data)?void 0:e.students){const e=null==(r=null==p?void 0:p.data)?void 0:r.students;if(B(e),console.log("fetchedData",e),e&&e.length>0){const t=e[0];te({stud_name:`${(null==t?void 0:t.first_name)||""} ${(null==t?void 0:t.mid_name)||""} ${(null==t?void 0:t.last_name)||""} (${(null==(n=null==t?void 0:t.get_class)?void 0:n.name)||""}-${(null==(s=null==t?void 0:t.get_division)?void 0:s.name)||""})`,father_name:(null==(l=null==t?void 0:t.parents)?void 0:l.father_name)||"",mother_name:(null==(o=null==t?void 0:t.parents)?void 0:o.mother_name)||"",father_email:(null==(i=null==t?void 0:t.parents)?void 0:i.f_email)||"",father_phone:(null==(d=null==t?void 0:t.parents)?void 0:d.f_mobile)||"",parent_id:(null==(c=null==t?void 0:t.parents)?void 0:c.parent_id)||"",mother_email:(null==(u=null==t?void 0:t.parents)?void 0:u.m_emailid)||"",mother_phone:(null==(m=null==t?void 0:t.parents)?void 0:m.m_mobile)||"",user_id:(null==(h=null==t?void 0:t.user_master)?void 0:h.user_id)||""})}else console.error("No students found in the response.")}else console.log("reponse",p.data.status)}catch(f){console.log("error",f.response.data.message),"No student found matching the search criteria."==f.response.data.message?hp.error("student information not found!"):hp.error(f.response.data.message||"student not found!")}finally{q(!1)}})),je=a=>p(e,null,(function*(){var e,r,n,s,l,o,i,d,c,u,m,h;if(A(""),M(""),k(""),Z(""),se({}),!a)return A("Please select Student Name."),void hp.error("Please select Student Name.!");U(null),re({parent_id:"",stud_name:"",father_name:"",mother_name:"",father_email:"",father_phone:"",mother_email:"",mother_phone:"",user_id:""});try{G(!0);const f=localStorage.getItem("authToken"),p=yield Uf.get(`${t}/api/get_students`,{headers:{Authorization:`Bearer ${f}`},params:{student_id:a}});if(null==(e=null==p?void 0:p.data)?void 0:e.students){const e=null==(r=null==p?void 0:p.data)?void 0:r.students;if(U(e),console.log("fetchedData",e),e&&e.length>0){const t=e[0];re({stud_name:`${(null==t?void 0:t.first_name)||""} ${(null==t?void 0:t.mid_name)||""} ${(null==t?void 0:t.last_name)||""} (${(null==(n=null==t?void 0:t.get_class)?void 0:n.name)||""}-${(null==(s=null==t?void 0:t.get_division)?void 0:s.name)||""})`,father_name:(null==(l=null==t?void 0:t.parents)?void 0:l.father_name)||"",mother_name:(null==(o=null==t?void 0:t.parents)?void 0:o.mother_name)||"",father_email:(null==(i=null==t?void 0:t.parents)?void 0:i.f_email)||"",parent_id:(null==(d=null==t?void 0:t.parents)?void 0:d.parent_id)||"",father_phone:(null==(c=null==t?void 0:t.parents)?void 0:c.f_mobile)||"",mother_email:(null==(u=null==t?void 0:t.parents)?void 0:u.m_emailid)||"",mother_phone:(null==(m=null==t?void 0:t.parents)?void 0:m.m_mobile)||"",user_id:(null==(h=null==t?void 0:t.user_master)?void 0:h.user_id)||""})}else console.error("No students found in the response.")}else console.log("reponse",p.data.status)}catch(f){console.log("error",f.response.data.message),"No student found matching the search criteria."==f.response.data.message?hp.error("student information not found!"):hp.error(f.response.data.message||"student not found!")}finally{G(!1)}})),Ne=e=>{Z(e),k("")},_e=a=>p(e,null,(function*(){var e,n;a.preventDefault();let l=!1;if(w||(E("Please select a student."),l=!0),N||(A("Please select a student."),l=!0),J||(k("Please select any one of 'Set this as parent' option."),l=!0),l)return;if(w===N)return void hp.error(" Both students cannot be the same. Please select different students!",{autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});const o={operation:"create",set_as_parent:J,student_id1:w,student_id2:N,parent_id1:(null==ee?void 0:ee.parent_id)||" ",parent_id2:(null==ae?void 0:ae.parent_id)||" "};console.log("Request Data:",o);try{W(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");200===(yield Uf.post(`${t}/api/save_siblingmapping`,o,{headers:{Authorization:`Bearer ${e}`}})).status&&(hp.success("Student Mapping successfully!"),r(null),s(null),I(null),R(null),Z(""),B(null),U(null),E(""),A(""),k(""))}catch(i){hp.error((null==(n=null==(e=i.response)?void 0:e.data)?void 0:n.error)||"An error occurred!"),console.error("Error:",i.response||i.message)}finally{W(!1)}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:" w-full md:w-[95%] mt-4 mx-auto",children:oe.jsxs("div",{className:"card mx-auto lg:w-[100%] shadow-lg",children:[oe.jsxs("div",{className:" w-full  p-2 px-3 bg-gray-100 flex justify-between items-center ",children:[oe.jsx("h3",{className:" w-full text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Sibling Mapping"}),oe.jsx(sh,{className:" relative top-0.5  text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{K("/dashboard")}}),oe.jsx("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10"})]}),oe.jsx("div",{className:" relative w-[97%]    h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"w-full  flex flex-col md:flex-row",children:[oe.jsxs("div",{className:"     w-full md:container ",children:[oe.jsx("div",{className:" w-[95%] border-1  flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg  border-gray-300 shadow-md  mx-auto mt-6 p-6 mb-4 ",children:oe.jsx("div",{className:"w-[99%] flex md:flex-row justify-between items-center ",children:oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-[.9em] mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:"Class"}),oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx(Soe,{id:"classSelect",value:L,onChange:a=>{I(a),r(null),j(null),b(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e;try{ce(!0);const r=a?{section_id:a}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});d((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(r){hp.error("Error fetching students.")}finally{ce(!1)}}))})(null==a?void 0:a.value)},options:ge,placeholder:le?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-[.8em]",styles:X,isDisabled:le})})]}),oe.jsxs("div",{className:" w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[98%] my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"md:w-[50%] text-[.9em] mt-1.5",htmlFor:"studentSelect",children:"Student Name"}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:a,onChange:e=>{E(""),r(e),j(null==e?void 0:e.value),we(null==e?void 0:e.value)},options:be,placeholder:de?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-[.8em]",styles:X,isDisabled:de}),C&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:C})]})]})]})})}),Y?oe.jsx("div",{className:"flex justify-center items-center h-44",children:oe.jsx(Ag,{})}):$&&oe.jsx("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:oe.jsxs("div",{className:"card  px-3 rounded-md ",children:[oe.jsx("div",{className:" card-header mb-4 flex justify-between items-center ",children:oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Information"})}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("form",{onSubmit:_e,className:"flex flex-col justify-center items-center overflow-x-hidden shadow-md p-2 pt-0 bg-gray-50 mb-4 ",children:oe.jsxs("div",{className:"flex  flex-col w-full   md:mx-10  pb-6  px-6",children:[oe.jsxs("div",{className:"flex   flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"stud_name",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Student Name :"}),oe.jsx("p",{className:"text-gray-700  relative top-2 md:w-[60%] ",children:ee.stud_name||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"father_name",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Father's Name :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ee.father_name||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"mother_name",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Mother's Name :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ee.mother_name||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"father_email",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Father's Email :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ee.father_email||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"father_phone",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Father's Phone :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ee.father_phone||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"mother_email",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Mother's Email :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ee.mother_email||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"mother_phone",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Mother's Phone :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ee.mother_phone||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"user_id",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"User ID :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ee.user_id||""})]}),oe.jsxs("div",{className:"flex  relative left-0 md:left-7 flex-row items-center justify-center gap-x-4 mt-4 ",children:[oe.jsx("input",{type:"radio",id:"parent1",name:"setAsParent",value:"form1",className:"w-4 h-4    hover:cursor-pointer ",checked:"1"===J,onChange:()=>Ne("1"),required:!0}),oe.jsx("label",{htmlFor:"parent1",className:"text-gray-700 hover:cursor-pointer",children:"Set this as parent"})," "]})]})})]})})]}),oe.jsxs("div",{className:"     w-full md:container ",children:[oe.jsxs("div",{className:" w-[95%] border-1  flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg  border-gray-300 shadow-md  mx-auto mt-6 p-6 mb-4 ",children:[" ",oe.jsx("div",{className:"w-[99%] flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-[.9em] mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:"Class"}),oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx(Soe,{id:"classSelect",value:F,onChange:a=>{R(a),s(null),_(null),y(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e;try{fe(!0);const r=a?{section_id:a}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});x((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(r){hp.error("Error fetching students.")}finally{fe(!1)}}))})(null==a?void 0:a.value)},options:ve,placeholder:ue?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-[.8em]",styles:X,isDisabled:ue})})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[98%] my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"md:w-[50%] text-[.9em] mt-1.5",htmlFor:"studentSelect",children:"Student Name"}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:n,onChange:e=>{A(""),s(e),_(null==e?void 0:e.value),je(null==e?void 0:e.value)},options:ye,placeholder:he?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-[.8em]",styles:X,isDisabled:he}),D&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:D})]})]})]})})]}),V?oe.jsx("div",{className:"flex justify-center items-center h-44",children:oe.jsx(Ag,{})}):z&&oe.jsx("div",{className:" w-full  md:container mx-auto py-4 p-4 px-4  ",children:oe.jsxs("div",{className:"card  px-3 rounded-md ",children:[oe.jsx("div",{className:" card-header mb-4 flex justify-between items-center ",children:oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Information"})}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("form",{onSubmit:_e,className:"flex flex-col justify-center items-center overflow-x-hidden shadow-md p-2 pt-0 bg-gray-50 mb-4",children:oe.jsxs("div",{className:"flex  flex-col w-full   md:mx-10  pb-6  px-6",children:[oe.jsxs("div",{className:"flex   flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"stud_name",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Student Name :"}),oe.jsx("p",{className:"text-gray-700  relative top-2 md:w-[60%] ",children:ae.stud_name||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"father_name",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Father's Name :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ae.father_name||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"mother_name",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Mother's Name :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ae.mother_name||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"father_email",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Father's Email :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ae.father_email||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"father_phone",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Father's Phone :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ae.father_phone||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"mother_email",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Mother's Email :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ae.mother_email||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"mother_phone",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"Mother's Phone :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ae.mother_phone||""})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8",children:[oe.jsx("label",{htmlFor:"user_id",className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:"User ID :"}),oe.jsx("p",{className:"text-gray-700 relative top-2  md:w-[60%] ",children:ae.user_id||""})]}),oe.jsxs("div",{className:"flex flex-row relative left-0 md:left-7 items-center justify-center gap-x-4 mt-4 ",children:[oe.jsx("input",{type:"radio",id:"parent2",name:"setAsParent",value:"form2",className:"w-4 h-4 hover:cursor-pointer",checked:"2"===J,onChange:()=>Ne("2"),required:!0}),oe.jsx("label",{htmlFor:"parent2",className:" hover:cursor-pointer text-gray-700",children:"Set this as parent"}),S&&oe.jsx("div",{className:" ml-1 text-danger text-xs",children:S})]})]})})]})})]})]}),oe.jsxs("div",{className:"w-[98%] mx-auto mb-2  text-right",children:[oe.jsx("button",{type:"reset",onClick:()=>{r(null),s(null),I(null),R(null),Z(""),B(null),U(null),E(""),A(""),k("")},className:" bg-red-500 mr-2 text-white font-bold py-1 border-1 border-red-500 px-4 rounded "+(H?"opacity-50 cursor-not-allowed":""),children:"Reset"}),oe.jsx("button",{type:"submit",onClick:_e,style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(H?"opacity-50 cursor-not-allowed":""),disabled:H,children:H?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Saving..."]}):"Save"})]})]})})]})},sde=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(""),[n,s]=Q.useState(!1),[l,o]=Q.useState(null),[i,d]=Q.useState(null),[c,h]=Q.useState([]),[f,x]=Q.useState([]),[g,b]=Q.useState(null),[v,y]=Q.useState(null),[w,j]=Q.useState(""),[N,_]=Q.useState(""),[S,k]=Q.useState(""),[C,E]=Q.useState(""),[T,O]=Q.useState(null),[D,A]=Q.useState(null),[P,M]=Q.useState(null),[L,I]=Q.useState(!1),[F,R]=Q.useState(!1),$=sm(),[B,z]=Q.useState({}),[U,H]=Q.useState({});(new Date).toISOString().split("T")[0];const[W,Y]=Q.useState(!1),[q,V]=Q.useState(!1),[G,K]=Q.useState([]),[X,J]=Q.useState([]),[Z,ee]=Q.useState([]),[te,ae]=Q.useState(""),[re,ne]=Q.useState("");Q.useEffect((()=>{ie(),se(),le()}),[]);const se=()=>p(e,null,(function*(){I(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_subject_group`,{headers:{Authorization:`Bearer ${e}`}});J(a.data.data||[])}catch(e){setError("Error fetching subject groups")}finally{I(!1)}})),le=()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_optional_subject`,{headers:{Authorization:`Bearer ${e}`}});ee(a.data.data||[])}catch(e){hp.error("Error fetching optional subjects")}})),ie=()=>p(e,null,(function*(){try{Y(!0),V(!0);const e=localStorage.getItem("authToken"),[a]=yield Promise.all([Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}})]);h(a.data||[])}catch(e){hp.error("Error fetching Class data.")}finally{Y(!1),V(!1)}})),de=Q.useMemo((()=>c.filter((e=>"11"===e.name||"12"===e.name)).map((e=>({value:e.class_id,label:`${e.name}`,key:`${e.class_id}`})))),[c]);console.log("classOptions",de);const ce=Q.useMemo((()=>f.map((e=>({value:e.section_id,label:`${null==e?void 0:e.name}`})))),[f]),[ue,me]=Q.useState([]),[he,fe]=Q.useState(!1);console.log("seletedStudents[]",ue);const pe=G?G.filter((e=>`${e.first_name||""} ${e.mid_name||""} ${e.last_name||""}`.toLowerCase().includes(a.toLowerCase()))):[],xe=(e,t,a)=>{const r=G.map((r=>r.student_id===e?m(u({},r),{[t]:a}):r));K(r)};return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"md:mx-auto md:w-[85%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" w-full    flex justify-between items-center ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Subjects For Higher Secondary Class"}),oe.jsx(sh,{className:"   text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{$("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"     w-full md:container mt-4",children:[oe.jsx("div",{className:" w-full md:w-[65%] border-1 flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg   relative md:left-6 left-0 mt-1 p-2 ",children:oe.jsx("div",{className:"w-full   flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[50%]",children:[oe.jsx(Soe,{id:"classSelect",value:T,onChange:a=>{_(""),O(a),o(null),y(null),b(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e,r;console.log("fetchStudentNameWithClassId is run");try{V(!0);const n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/get_divisions/${a}`,{headers:{Authorization:`Bearer ${n}`}});x((null==(e=null==s?void 0:s.data)?void 0:e.divisions)||[]),console.log("Response of fetchStudentNameWithClassId is",null==(r=null==s?void 0:s.data)?void 0:r.divisions)}catch(n){hp.error("Error fetching Divisions.")}finally{V(!1)}}))})(null==a?void 0:a.value)},options:de,placeholder:W?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:W}),N&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:N})]})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[70%]  my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[45%] text-md mt-1.5",htmlFor:"studentSelect",children:["Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:l,onChange:e=>{j(""),o(e),y(null==e?void 0:e.value)},options:ce,disabled:!T,placeholder:q?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:q}),w&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:w})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,n,s;j(""),r(""),_(""),E(""),k(""),ne(""),ae(""),z({});let o=!1;if(T||(_("Please select a class."),o=!0),l||(j("Please select a division."),o=!0),!o)try{M(null),d(null),d([]),A(null),A([]),me([]),fe(!1),R(!0);const r=localStorage.getItem("authToken"),l=yield Uf.get(`${t}/api/get_subjecthigherstudentwise/${g}/${v}`,{headers:{Authorization:`Bearer ${r}`}});(null==(e=null==l?void 0:l.data)?void 0:e.data)?(null==(a=null==l?void 0:l.data)||a.data,M(null==(n=null==l?void 0:l.data)?void 0:n.data),K(null==(s=null==l?void 0:l.data)?void 0:s.data)):(console.log("reponse",l.data.status),hp.error("No data found for the selected class and divisoin."))}catch(i){console.log("error is",i),console.log("error is",i.response)}finally{R(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(F?"opacity-50 cursor-not-allowed":""),disabled:F,children:F?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})]})})}),P&&oe.jsx("div",{className:"w-full md:container mx-auto pb-4 px-4",children:oe.jsx("div",{className:"  w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-1 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h6",{className:" text-gray-700 mt-1   text-nowrap",children:"Allot Subjects For Students"}),oe.jsxs("div",{className:"box-border  flex justify-end md:gap-x-2  ",children:[oe.jsx("div",{className:" w-full md:w-[50%] mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>r(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{s(!0)},children:[oe.jsx(kg,{className:" inline-block mb-1 mr-1  font-bold text-xl text-pink-200"}),oe.jsx("span",{className:"text-xs font-medium",children:"Subjects Info"})]})]})]}),oe.jsx("div",{className:" relative w-[97%] h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"w-full ",children:[oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full border-b border-gray-200  mx-auto",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200 ",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border text-sm font-semibold",children:oe.jsx("p",{className:"relative -top-2.5 ",children:" Sr. No"})}),oe.jsx("th",{className:"px-2 text-center  lg:px-3 py-2 border text-sm font-semibold",children:oe.jsx("p",{className:"relative -top-2.5 ",children:"Student Name"})}),oe.jsxs("th",{className:"px-2 text-center lg:px-3 py-2 border text-sm font-semibold ",children:["Subject Group",oe.jsxs("div",{className:" flex ",children:[oe.jsxs("select",{className:"px-2 w-full  py-1 my-1 border rounded-md",value:te,onChange:e=>ae(e.target.value),children:[oe.jsx("option",{value:"",children:"Select"}),X.map((e=>oe.jsx("option",{value:e.sub_group_id,children:e.sub_group_name},e.sub_group_id)))]}),oe.jsxs("div",{className:"flex my-1",children:[oe.jsxs("div",{className:"relative group",children:[oe.jsx("button",{className:"text-green-500 px-2 py-1 rounded-md hover:bg-white",onClick:()=>{const e=G.map((e=>m(u({},e),{sub_group_id:te})));K(e)},children:oe.jsx(Vm,{className:"text-md"})}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-green-500  text-white text-[.8em] rounded-md py-1 px-2",children:"Apply"})]}),oe.jsxs("div",{className:"relative group ml-2",children:[oe.jsx("button",{className:"text-red-500 px-2 py-1 rounded-md hover:bg-white",onClick:()=>{ae("");const e=G.map((e=>m(u({},e),{sub_group_id:""})));K(e)},children:oe.jsx(zM,{icon:JM,className:"text-md"})}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-red-500 text-white text-[.8em] rounded-md py-1 px-2",children:"Remove"})]})]})]})]}),oe.jsxs("th",{className:"px-2 text-center lg:px-3 py-2 border text-sm font-semibold",children:["Optional Subject",oe.jsxs("div",{className:" w-full md:w-[85%] mx-auto flex  ",children:[oe.jsxs("select",{className:"px-2 w-full md:w-[78%] mx-auto py-1 my-1 border rounded-md",value:re,onChange:e=>ne(e.target.value),children:[oe.jsx("option",{value:"",children:"Select"}),Z.map((e=>oe.jsx("option",{value:e.sm_id,children:e.name},e.sm_id)))]}),oe.jsxs("div",{className:"flex my-1",children:[oe.jsxs("div",{className:"relative group",children:[oe.jsx("button",{className:"text-green-500 px-2 py-1 rounded-md hover:bg-white",onClick:()=>{const e=G.map((e=>m(u({},e),{opt_subject_id:re})));K(e)},children:oe.jsx(Vm,{className:"text-md"})}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-green-500  text-white text-[.8em] rounded-md py-1 px-2",children:"Apply"})]}),oe.jsxs("div",{className:"relative group ml-2",children:[oe.jsx("button",{className:"text-red-500 px-2 py-1 rounded-md hover:bg-white",onClick:()=>{ne("");const e=G.map((e=>m(u({},e),{opt_subject_id:""})));K(e)},children:oe.jsx(zM,{icon:JM,className:"text-md"})}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-red-500 text-white text-[.8em] rounded-md py-1 px-2",children:"Remove"})]})]})]})]})]})}),oe.jsx("tbody",{children:pe.length?pe.map(((e,t)=>oe.jsxs("tr",{className:t%2==0?"bg-white":"bg-gray-100",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border text-sm",children:t+1}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border text-sm",children:`${e.first_name} ${e.mid_name||""} ${e.last_name}`}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border text-sm",children:oe.jsxs("select",{className:"px-2 w-full md:w-[80%] py-1 border rounded-md",value:e.sub_group_id||"",onChange:t=>xe(e.student_id,"sub_group_id",t.target.value),children:[oe.jsx("option",{value:"",children:"Select"}),X.map((e=>oe.jsx("option",{value:e.sub_group_id,children:e.sub_group_name},e.sub_group_id)))]})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border text-sm ",children:oe.jsxs("select",{className:"px-2 w-full md:w-[80%] py-2 my-2 border rounded-md",value:e.opt_subject_id||"",onChange:t=>xe(e.student_id,"opt_subject_id",t.target.value),children:[oe.jsx("option",{value:"",children:"Select"}),Z.map((e=>oe.jsx("option",{value:e.sm_id,children:e.name},e.sm_id)))]})})]},e.student_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsxs("div",{className:" w-[97%] mx-auto  justify-center mb-2  text-right",children:[oe.jsx("button",{type:"reset",onClick:()=>{M([]),K([]),ne(""),ae(""),o(null),O(null),M(null),j("")},className:"text-white mr-2 font-bold py-1 bg-yellow-500 hover:bg-yellow-600 border-1 border-yellow-500 px-4 rounded",children:"Back"}),oe.jsx("button",{type:"submit",onClick:a=>p(e,null,(function*(){var e;a.preventDefault();let r=!1;for(const t of G){const{sub_group_id:e,opt_subject_id:a,first_name:n,last_name:s}=t;if(""!==e&&""===a||""===e&&""!==a)return void hp.error(`Please select both subject group and optional subject for student: ${n} ${s}`);""!==e&&""!==a&&(r=!0)}if(r)try{I(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");console.log("students Data submissions",G),200===(yield Uf.post(`${t}/api/save_subjectforhsc`,G,{headers:{Authorization:`Bearer ${e}`}})).status&&(hp.success("Subject allotment for HSC has been successfully added!"),ne(""),ae(""),O(null),o(null),me([]),z({}),d(null),d([]),A(null),A([]),E(""),k(""),fe(null),H({}),setTimeout((()=>{M(null)}),500))}catch(n){console.error("Error:",null==(e=n.response)?void 0:e.data),hp.error("An error occurred while allotting subjects for HSC."),n.response&&n.response.data&&H(n.response.data||{})}finally{I(!1)}else hp.error("Please select both a student subject group and an optional subject for at least one student.")})),style:{backgroundColor:"#2196F3"},className:"text-white font-bold items-center  py-1 border-1 border-blue-500 px-4 rounded "+(L?"opacity-50 cursor-not-allowed":""),disabled:L,children:L?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Saving..."]}):"Save"})]})]})]})})})]})]}),n&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-[50%] max-w-5xl max-h-full overflow-auto",children:[oe.jsxs("div",{className:"flex justify-between items-center px-4 py-2.5 border-b border-gray-200",children:[oe.jsx("h6",{className:"text-lg font-bold text-gray-600 mt-1",children:"Subject Combination Details"}),oe.jsx(sh,{className:"text-3xl  text-red-600 cursor-pointer hover:bg-red-100 p-1 rounded-full",onClick:()=>{s(!1)}})]}),oe.jsx("div",{className:"h-1 w-[98%] mx-auto bg-[#C03078] mb-3"}),oe.jsx("div",{className:"px-6 pb-6",children:oe.jsxs("table",{className:"w-full table-auto border-collapse border border-gray-400 shadow-md",children:[oe.jsx("thead",{className:"bg-gray-200 text-gray-700  ",children:oe.jsxs("tr",{children:[oe.jsx("th",{className:"border font-semibold border-gray-300 px-4 py-2 text-center",children:"PCM"}),oe.jsx("th",{className:"border font-semibold border-gray-300 px-4 py-2 text-center",children:"PCB"}),oe.jsx("th",{className:"border font-semibold border-gray-300 px-4 py-2 text-center",children:"Commerce"}),oe.jsx("th",{className:"border font-semibold border-gray-300 px-4 py-2 text-center",children:"Arts"})]})}),oe.jsxs("tbody",{className:"text-center ",children:[oe.jsxs("tr",{children:[oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"English"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"English"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"English"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"English"})]}),oe.jsxs("tr",{children:[oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Physics"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Physics"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Accountancy"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"History"})]}),oe.jsxs("tr",{children:[oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Chemistry"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Chemistry"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Business Studies"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Geography"})]}),oe.jsxs("tr",{children:[oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Maths"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Biology"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Economics"}),oe.jsx("td",{className:"border border-gray-300 px-4 py-2",children:"Economics"})]})]})]})})]})})]})};function lde(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(0),[_,S]=Q.useState(0),[k,C]=Q.useState({}),[E,T]=Q.useState(""),[O,D]=Q.useState(!0),[A,P]=Q.useState("");Q.useState([]);const[M,L]=Q.useState(!1);Q.useState(""),Q.useState("");const[I,F]=Q.useState(""),R=Q.useRef(0),$=Q.useRef(""),B=10,z=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=(yield Uf.get(`${e}/api/get_allleavetype`,{headers:{Authorization:`Bearer ${t}`}})).data.data||[];a(r),S(Math.ceil(r.length/B))}catch(t){l(t.message||"Error fetching data"),hp.error(t.message||"Error fetching data")}finally{n(!1)}})),U=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});P(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")}));Q.useEffect((()=>{z(),U()}),[]),Q.useEffect((()=>{const e=b.trim().toLowerCase();""!==e&&""===$.current&&(R.current=j,N(0)),""===e&&""!==$.current&&N(R.current),$.current=e}),[b]);const H=t.filter((e=>{const t=b.trim().toLowerCase();return e.name.toLowerCase().includes(t)}));Q.useEffect((()=>{S(Math.ceil(H.length/B))}),[H,B]);const W=H.slice(j*B,(j+1)*B),Y=e=>{const t={};return e&&""!==e.trim()||(t.name="Please Select Leave Type."),t},q=()=>{i(!1),c(!1),f(!1),w(""),F(""),g(null),C({}),T("")},V=e=>{console.log(F);const{value:t}=e.target;F(t),C((e=>m(u({},e),{name:Y(t).name})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container  mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-[70%] shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Leave Type"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:b,onChange:e=>v(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 w-full md:w-[80%] mx-auto  overflow-y-scroll lg:overflow-x-hidden ",children:oe.jsx("div",{className:"bg-white  rounded-lg shadow-xs ",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[12%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:" -px-2  w-full md:w-[25%] text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave Type"}),oe.jsx("th",{className:"px-2 w-full md:w-[14%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[14%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center text-blue-700 text-xl py-10",children:"Please wait while data is loading..."})}):W.length?W.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:j*B+a+1})}),oe.jsx("td",{className:"text-center px-2  border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.name})}),"M"===A?oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-pink-600 hover:text-pink-800 hover:bg-transparent "})," "]}):oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{g(e),console.log("leave_type_id",e),F(e.name),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})," "]}),"M"===A?oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-green-600 hover:text-green-800 hover:bg-transparent "})}):oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("id",e),g("");const a=t.find((t=>t.leave_type_id===e));g(a),f(!0)})(e.leave_type_id),children:oe.jsx(zM,{icon:VM})})})]},e.section_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:_,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{N(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create Leave Type"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:q})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[" ",oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-3/4 mt-2",children:["Leave Type",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"sectionName",value:I,onChange:V}),oe.jsx("div",{className:"absolute top-9 left-[42%]",children:k.name&&oe.jsx("span",{className:"text-danger text-xs",children:k.name})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 mr-2 ",style:{},onClick:()=>p(this,null,(function*(){if(M)return;L(!0);const t=Y(I);if(Object.keys(t).length>0)return C(t),void L(!1);console.log("newLeave type",I);try{const t=localStorage.getItem("authToken");if(!t)return void console.error("No authentication token found");const a=yield Uf.post(`${e}/api/save_leavetype`,{name:I},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("API Response (checkSetLateTime):",a);const{data:r}=a;if(console.log("API Response Data:",r),!r.success)return console.error("Error: The Name field must contain a unique value.",r),T("The Name field must contain a unique value.."),hp.error("The Name field must contain a unique value.."),D(!1),void L(!1);console.log("Data saved successfully.",r),T(""),hp.success("Leave Type added successfully!"),D(!0),z(),q()}catch(a){console.error("Error adding Leave Type:",a),hp.error("Server error. Please try again later.")}finally{L(!1)}})),disabled:M,children:M?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Leave Type"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:q})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-3/4 mt-2",children:["Leave Type",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"editSectionName",value:I,onChange:V}),oe.jsx("div",{className:"absolute top-9 left-[42%] ",children:k.name&&oe.jsx("span",{className:"text-danger text-xs",children:k.name})})]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){if(M)return;L(!0);const t=Y(I);if(Object.keys(t).length>0)return C(t),void L(!1);console.log("Current Section:",x),console.log("Current Section ID (leave type id):",x?x.leave_type_id:null);try{const t=localStorage.getItem("authToken");if(console.log("Token:",t),!t||!x)throw new Error("No authentication token or leave type ID found.");console.log("Current Section:",x);const a=yield Uf.put(`${e}/api/update_leavetype/${x.leave_type_id}`,{name:I},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("response.data.success",a.data.success),!1===a.data.success?hp.error("Leave type name already exists for another leave type"):hp.success("Leave Type updated successfully!"),z(),q()}catch(a){if(a.response){a.response&&(console.error("Error Response:",a.response),console.error("Error Response Data:",a.response.data));const{status:e,message:t}=a.res;400===e&&"Leave type name already exists for another leave type."===t?(hp.error(t),C((e=>m(u({},e),{name:t})))):hp.error("Server error. Please try again later.")}else console.error("Unexpected Error:",a),hp.error("An unexpected error occurred. Please try again.")}finally{L(!1)}})),disabled:M,children:M?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:q})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete leave type:"," ",x.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!M){L(!0);try{const t=localStorage.getItem("authToken");if(localStorage.getItem("academicYear"),!t||!x||!x.leave_type_id)throw new Error("Leave Type is missing");const a=yield Uf.delete(`${e}/api/delete_leavetype/${x.leave_type_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});z(),a.data.success?(f(!1),g(null),hp.success("Leave Type deleted successfully!")):hp.error(a.data.message||"Failed to delete Leave Type")}catch(t){console.error("Error deleting Leave Type:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{L(!1),f(!1)}}})),disabled:M,children:M?"Deleting...":"Delete"})})]})})})]})]})}const ode=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(""),[n,s]=Q.useState(null),[l,o]=Q.useState(null),[i,d]=Q.useState([]),[c,h]=Q.useState([]),[f,x]=Q.useState(null),[g,b]=Q.useState(null),[v,y]=Q.useState(""),[w,j]=Q.useState(""),[N,_]=Q.useState(""),[S,k]=Q.useState(""),[C,E]=Q.useState(null),[T,O]=Q.useState(null),[D,A]=Q.useState(null),[P,M]=Q.useState(!1),[L,I]=Q.useState(!1),F=sm(),[R,$]=Q.useState({}),[B,z]=Q.useState({});(new Date).toISOString().split("T")[0];const[U,H]=Q.useState(!1),[W,Y]=Q.useState(!1),[q,V]=Q.useState([]),[G,K]=Q.useState([{category:"General",name:"General"},{category:"OBC",name:"OBC"},{category:"SC",name:"SC"},{category:"ST",name:"ST"},{category:"SBC",name:"SBC"},{category:"NT",name:"NT"},{category:"VJNT",name:"VJNT"},{category:"Minority",name:"Minority"}]),[X,J]=Q.useState([{religion:"Hindu",name:"Hindu"},{religion:"Muslim",name:"Muslim"},{religion:"Sikh",name:"Sikh"},{religion:"Jain",name:"Jain"},{religion:"Christian",name:"Christian"},{religion:"Buddhist",name:"Buddhist"}]),[Z]=Q.useState([{gender:"M",label:"Male"},{gender:"F",label:"Female"}]),[ee,te]=Q.useState(""),[ae,re]=Q.useState("");Q.useEffect((()=>{ne()}),[]);const ne=()=>p(e,null,(function*(){try{H(!0),Y(!0);const e=localStorage.getItem("authToken"),[a]=yield Promise.all([Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}})]);d(a.data||[])}catch(e){hp.error("Error fetching Class data.")}finally{H(!1),Y(!1)}})),se=Q.useMemo((()=>i.map((e=>({value:e.class_id,label:`${e.name}`,key:`${e.class_id}`})))),[i]);console.log("classOptions",se);const le=Q.useMemo((()=>c.map((e=>({value:e.section_id,label:`${null==e?void 0:e.name}`})))),[c]),[ie,de]=Q.useState([]),[ce,ue]=Q.useState(!1);console.log("seletedStudents[]",ie);const me=q?q.filter((e=>{const t=`${e.first_name||""} ${e.mid_name||""} ${e.last_name||""}`.toLowerCase(),r=e.roll_no?`${e.roll_no}`:"";return t.includes(a.toLowerCase())||r.includes(a)})):[],he=(e,t,a)=>{const r=q.map((r=>r.student_id===e?m(u({},r),{[t]:a}):r));V(r)};return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"md:mx-auto md:w-[85%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" w-full    flex justify-between items-center ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Update Category and Religion"}),oe.jsx(sh,{className:"   text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{F("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"     w-full md:container mt-4",children:[oe.jsx("div",{className:" w-full md:w-[65%] border-1 flex justify-center flex-col md:flex-row gap-x-1  bg-white rounded-lg   relative md:left-6 left-0 mt-1 p-2 ",children:oe.jsx("div",{className:"w-full   flex md:flex-row justify-between items-center",children:oe.jsxs("div",{className:"w-full  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"text-md mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[50%]",children:[oe.jsx(Soe,{id:"classSelect",value:C,onChange:a=>{j(""),E(a),s(null),b(null),x(null==a?void 0:a.value),((a=null)=>{p(e,null,(function*(){var e,r;console.log("fetchStudentNameWithClassId is run");try{Y(!0);const n=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/get_divisions/${a}`,{headers:{Authorization:`Bearer ${n}`}});h((null==(e=null==s?void 0:s.data)?void 0:e.divisions)||[]),console.log("Response of fetchStudentNameWithClassId is",null==(r=null==s?void 0:s.data)?void 0:r.divisions)}catch(n){hp.error("Error fetching Divisions.")}finally{Y(!1)}}))})(null==a?void 0:a.value)},options:se,placeholder:U?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:U}),w&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:w})]})]}),oe.jsxs("div",{className:"w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[70%]  my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[45%] text-md mt-1.5",htmlFor:"studentSelect",children:["Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:n,onChange:e=>{y(""),s(e),b(null==e?void 0:e.value)},options:le,disabled:!C,placeholder:W?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:W}),v&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:v})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,s,l;y(""),r(""),j(""),k(""),_(""),re(""),te(""),$({});let i=!1;if(C||(j("Please select a class."),i=!0),n||(y("Please select a division."),i=!0),!i)try{A(null),o(null),o([]),O(null),O([]),de([]),ue(!1),I(!0);const r=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_studentcategoryreligion/${f}/${g}`,{headers:{Authorization:`Bearer ${r}`}});(null==(e=null==n?void 0:n.data)?void 0:e.data)?(null==(a=null==n?void 0:n.data)||a.data,A(null==(s=null==n?void 0:n.data)?void 0:s.data),V(null==(l=null==n?void 0:n.data)?void 0:l.data)):(console.log("reponse",n.data.status),hp.error("No data found for the selected class and divisoin."))}catch(d){console.log("error is",d),console.log("error is",d.response)}finally{I(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(L?"opacity-50 cursor-not-allowed":""),disabled:L,children:L?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})]})})}),D&&oe.jsx("div",{className:"w-full md:container mx-auto pb-4 px-4",children:oe.jsx("div",{className:"  w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-1 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h6",{className:" text-gray-700 mt-1   text-nowrap",children:"Update Category and Religion For Students"}),oe.jsx("div",{className:"box-border  flex justify-end md:gap-x-2  ",children:oe.jsx("div",{className:" w-full  mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>r(e.target.value)})})})]}),oe.jsx("div",{className:" relative w-[97%] h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"w-full ",children:[oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full border-b border-gray-200  mx-auto",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200 ",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border text-sm font-semibold",children:"Sr. No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border text-sm font-semibold",children:"Roll No."}),oe.jsx("th",{className:"px-2 text-center  lg:px-3 py-2 border text-sm font-semibold",children:"Student Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border text-sm font-semibold ",children:"Category"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border text-sm font-semibold",children:"Religion"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border text-sm font-semibold",children:"Gender"})]})}),oe.jsx("tbody",{children:me.length?me.map(((e,t)=>oe.jsxs("tr",{className:t%2==0?"bg-white":"bg-gray-100",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border text-sm",children:t+1}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border text-sm",children:[e.roll_no?`${e.roll_no}`:""," "]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border text-sm",children:`${e.first_name} ${e.mid_name||""} ${e.last_name}`}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border text-sm",children:oe.jsxs("select",{className:"px-2 w-full md:w-[80%] py-1 my-2 border rounded-md",value:e.category||"",onChange:t=>he(e.student_id,"category",t.target.value),children:[oe.jsx("option",{value:"",children:"Select"}),G.map((e=>oe.jsx("option",{value:e.name,children:e.name},e.category)))]})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border text-sm",children:oe.jsxs("select",{className:"px-2 w-full md:w-[80%] py-1 my-2 border rounded-md",value:e.religion||"",onChange:t=>he(e.student_id,"religion",t.target.value),children:[oe.jsx("option",{value:"",children:"Select"}),X.map((e=>oe.jsx("option",{value:e.name,children:e.name},e.religion)))]})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border text-sm",children:oe.jsxs("select",{className:"px-2 w-full md:w-[80%] py-1 my-2 border rounded-md",value:e.gender||"",onChange:t=>he(e.student_id,"gender",t.target.value),children:[oe.jsx("option",{value:"",children:"Select"}),Z.map((e=>oe.jsx("option",{value:e.gender,children:e.label},e.gender)))]})})]},e.student_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsxs("div",{className:" w-[97%] mx-auto  justify-center mb-2  text-right",children:[oe.jsx("button",{type:"reset",onClick:()=>{A([]),V([]),re(""),te(""),s(null),E(null),A(null),y("")},className:" bg-red-500 mr-2 text-white font-bold py-1 border-1 border-red-500 px-4 rounded "+(P?"opacity-50 cursor-not-allowed":""),children:"Reset"}),oe.jsx("button",{type:"submit",onClick:a=>p(e,null,(function*(){var e;a.preventDefault();let r=!1;console.log("studentsData",q);for(const t of q)if(""!==t.religion&&""!==t.category&&""!==t.gender){r=!0;break}if(r)try{M(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");console.log("students Data submissions",q),200===(yield Uf.put(`${t}/api/update_studentcategoryreligion`,{students:q},{headers:{Authorization:`Bearer ${e}`}})).status&&(hp.success("The category and religion for the students have been successfully updated!"),re(""),te(""),E(null),s(null),de([]),$({}),o(null),o([]),O(null),O([]),k(""),_(""),ue(null),z({}),setTimeout((()=>{A(null)}),500))}catch(n){console.error("Error:",null==(e=n.response)?void 0:e.data),hp.error("An error occurred while updating category and religion for the students."),n.response&&n.response.data&&z(n.response.data||{})}finally{M(!1)}else hp.error("Please select a student Category, Religion and Gender for at least one student.")})),style:{backgroundColor:"#2196F3"},className:"text-white font-bold items-center  py-1 border-1 border-blue-500 px-4 rounded "+(P?"opacity-50 cursor-not-allowed":""),disabled:P,children:P?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Updating..."]}):"Update"})]})]})]})})})]})]})]})},ide=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState("");Q.useState(null),Q.useState(null);const[n,s]=Q.useState([]),[l,o]=Q.useState(null);Q.useState(null);const[i,d]=Q.useState(""),[c,h]=Q.useState(""),[f,x]=Q.useState(""),[g,b]=Q.useState("");Q.useState("");const[v,y]=Q.useState(null),[w,j]=Q.useState(null),[N,_]=Q.useState(null),[S,k]=Q.useState(!1),[C,E]=Q.useState(!1),T=sm(),[O,D]=Q.useState({}),[A,P]=Q.useState({}),[M,L]=Q.useState(!1);Q.useState(!1);const[I,F]=Q.useState(!1),[R,$]=Q.useState([]),[B,z]=Q.useState(null),[U,H]=Q.useState([]),[W,Y]=Q.useState(!1);Q.useState({}),Q.useState(null),Q.useState(null);const q=Q.useRef({}),V=Q.useMemo((()=>n.map((e=>({value:e.class_id,label:e.name})))),[n]),G=Q.useMemo((()=>Array.isArray(R)?R.map((e=>({value:e.section_id,label:e.name}))):[]),[R]),K=(e,t,a)=>{const{value:r}=e.target;_((e=>e.map((e=>e.student_id===t||e.roll_no===t?m(u({},e),{[a]:r,hasChanged:!0}):e))));let n="";"reg_no"===a&&r&&N.some((e=>e.reg_no===r&&e.student_id!==t))&&(n="GR number must be unique."),"stu_aadhaar_no"===a&&r&&(/^\d{12}$/.test(r)?N.some((e=>e.stu_aadhaar_no===r&&e.student_id!==t))&&(n="Aadhaar Number must be unique."):n="Please enter 12 digits."),D((e=>m(u({},e),{[t]:m(u({},e[t]),{[a]:n})}))),P((e=>{const r=u({},e);return r[t]&&r[t][a]&&(delete r[t][a],0===Object.keys(r[t]).length&&delete r[t]),r}))},X=Q.useMemo((()=>Array.isArray(N)?N.filter((e=>{const t=a.toLowerCase();return null!==e.roll_no&&e.roll_no.toString().toLowerCase().includes(t)||e.full_name.toLowerCase().includes(t)||e.reg_no.toString().toLowerCase().includes(t)})):[]),[N,a]);return console.log("Filtered Students:",X),Q.useEffect((()=>{p(e,null,(function*(){try{L(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?s(a.data):hp.error("Unexpected Data Format")}catch(e){hp.error("Error fetching classes"),console.error("Error fetching classes",e)}finally{L(!1)}}))}),[l]),oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"md:mx-auto md:w-[90%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" w-full    flex justify-between items-center ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Allot GR No. and Aadhaar No."}),oe.jsx(sh,{className:"   text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{T("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"w-full md:container mt-4",children:[oe.jsx("div",{className:"pt-2 md:pt-4"}),oe.jsx("div",{className:"pt-8 w-full md:w-[70%]  relative ml-0 md:ml-[10%]  border-1 flex justify-start flex-col md:flex-row gap-x-1  bg-white rounded-lg mt-2 md:mt-6 p-2 ",children:oe.jsx("div",{className:"w-full flex md:flex-row justify-start items-center",children:oe.jsxs("div",{className:"w-full  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-1 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row ",children:[oe.jsxs("label",{className:"text-md mt-1.5 mr-1 md:mr-0 inline-flex",htmlFor:"classSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[30%]",children:[oe.jsx(Soe,{id:"classSelect",value:v,onChange:a=>{var r;y(a),z(null),$([]),o(null==a?void 0:a.value),a&&(r=a.value,p(e,null,(function*(){try{F(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_divisions/${r}`,{headers:{Authorization:`Bearer ${e}`}});console.log("Divisions API Response:",a.data),Array.isArray(a.data.divisions)?$(a.data.divisions):(hp.error("Unexpected Data Format."),$([]))}catch(e){hp.error("Error fetching divisions"),console.error("Error fetching divisions",e)}finally{F(!1)}})))},options:V,placeholder:M?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:M}),c&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:c})]}),oe.jsxs("label",{className:"text-md mt-1.5 mr-1 md:mr-0 inline-flex",htmlFor:"divisionSelect",children:["Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[30%]",children:[oe.jsx(Soe,{id:"divisionSelect",value:B,onChange:e=>{z(e)},options:G,placeholder:M?"Loading divisions...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:I}),f&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:f})]})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e;d(""),r(""),h(""),x(""),b(""),D({});let a=!1;if(v||(h("Please select a class."),a=!0),B||(x("Please select a division."),a=!0),!a)try{_(null),j(null),j([]),H([]),Y(!1),E(!0);const a=localStorage.getItem("authToken"),r=null==B?void 0:B.value;if(console.log("Section ID:",r),!r)return void hp.error("Invalid division selection.");const n=yield Uf.get(`${t}/api/get_studentallotgrno/${r}`,{headers:{Authorization:`Bearer ${a}`}});(null==n?void 0:n.data)?(null==n||n.data,_(null==(e=null==n?void 0:n.data)?void 0:e.data)):hp.error("No data found for the selected class.")}catch(n){console.log("Error:",n),console.log("Error Response:",n.response)}finally{E(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(C?"opacity-50 cursor-not-allowed":""),disabled:C,children:C?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Browse"})]})})}),N&&oe.jsx("div",{className:"w-full md:container mx-auto py-4 px-4 ",children:oe.jsxs("div",{className:"card mx-auto w-full shadow-lg",children:[oe.jsxs("div",{className:"p-1 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h6",{className:"text-gray-700 mt-1   text-nowrap",children:"Select Students for allot GR & Aadhaar No."}),oe.jsx("div",{className:"box-border flex md:gap-x-2  ",children:oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>r(e.target.value)})})})]}),oe.jsx("div",{className:" relative w-[97%] h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full ",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full mx-auto",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{className:" ",children:oe.jsxs("tr",{className:"bg-gray-200 ",children:[oe.jsx("th",{className:"px-2 w-full md:w-[7%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr. No."}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Roll No"}),oe.jsx("th",{className:"px-2 w-full md:w-[40%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 w-full md:w-[15%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"GR No."}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Admission Date"}),oe.jsx("th",{className:"px-2 w-full md:w-[30%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Aadhaar No."})]})}),oe.jsx("tbody",{children:X.length?X.map(((e,t)=>{var a,r,n,s,l,o,i,d,c,u,m;return oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm p-1",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:0===e.roll_no?"0":e.roll_no||""})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.full_name||""})}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("input",{type:"text",ref:t=>q.current[`${e.student_id}-reg_no`]=t,className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300 "+((null==(a=O[e.student_id])?void 0:a.reg_no)?"border-red-500 ring-red-300":""),value:e.reg_no||"",onChange:t=>K(t,e.student_id,"reg_no")}),(null==(r=O[e.student_id])?void 0:r.reg_no)&&oe.jsx("span",{className:"text-red-500 text-xs block mt-1",children:null==(n=O[e.student_id])?void 0:n.reg_no}),(null==(s=A[e.student_id])?void 0:s.reg_no)&&oe.jsx("span",{className:"text-red-500 text-xs block mt-1",children:null==(l=A[e.student_id])?void 0:l.reg_no})]}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("input",{type:"date",ref:t=>q.current[`${e.student_id}-admission_date`]=t,className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300 "+((null==(o=O[e.student_id])?void 0:o.admission_date)?"border-red-500 ring-red-300":""),value:e.admission_date||"",onChange:t=>K(t,e.student_id,"admission_date")}),(null==(i=O[e.student_id])?void 0:i.admission_date)&&oe.jsx("span",{className:"text-red-500 text-xs block mt-1",children:null==(d=O[e.student_id])?void 0:d.admission_date})]}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("input",{type:"text",ref:t=>q.current[`${e.student_id}-stu_aadhaar_no`]=t,className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300 "+((null==(c=O[e.student_id])?void 0:c.stu_aadhaar_no)?"border-red-500 ring-red-300":""),value:e.stu_aadhaar_no||"",onChange:t=>K(t,e.student_id,"stu_aadhaar_no")}),(null==(u=O[e.student_id])?void 0:u.stu_aadhaar_no)&&oe.jsx("span",{className:"text-red-500 text-xs block mt-1",children:null==(m=O[e.student_id])?void 0:m.stu_aadhaar_no})]})]},e.student_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})," ",oe.jsx("div",{className:"col-span-3 mb-2  text-right mt-2",children:oe.jsx("button",{type:"submit",onClick:a=>p(e,null,(function*(){var e,r,n;a.preventDefault();try{const e=localStorage.getItem("authToken");if(!(null==N?void 0:N.length))return alert("No student data to update."),void hp.error("All fields are required.");let a=null;const r={},n={},s={};N.forEach((e=>{e.reg_no&&(r[e.reg_no]=(r[e.reg_no]||0)+1),e.stu_aadhaar_no&&(n[e.stu_aadhaar_no]=(n[e.stu_aadhaar_no]||0)+1)}));const l=N.map((e=>{let t=!1;return["admission_date"].forEach((a=>{var r;(null==(r=e[a])?void 0:r.trim())||(t=!0,s[`${e.student_id}-${a}`]="This field cannot be empty")})),e.reg_no&&r[e.reg_no]>1&&(t=!0,s[`${e.student_id}-reg_no`]="GR number must be unique"),e.stu_aadhaar_no&&n[e.stu_aadhaar_no]>1&&(t=!0,s[`${e.student_id}-stu_aadhaar_no`]="Aadhaar number must be unique"),m(u({},e),{hasError:t})})),o=new Set;if(l.find((e=>e.hasError)))return Object.keys(s).forEach((e=>{const t=q.current[e];t&&(t.classList.add("border-red-500","ring-red-300"),a||(a=t)),o.add(s[e])})),void(a&&(a.focus(),a.scrollIntoView({behavior:"smooth",block:"center"})));const i=yield Uf.put(`${t}/api/update_studentallotgrno `,{students:l},{headers:{Authorization:` Bearer ${e} `}});200===i.status?hp.success("Student details updated successfully!"):hp.error(`Failed to update student details. Status: ${i.status}`)}catch(s){if(console.log("Full API Error Response:",s.response),422===(null==(e=s.response)?void 0:e.status)){const e=s.response.data;if(e.errors){const t={},a=new Set;if(Object.entries(e.errors).forEach((([e,r])=>{var n;const s=e.match(/^students\.(\d+)\.(.+)$/);if(s){const e=Number(s[1]),l=s[2],o=null==(n=N[e])?void 0:n.student_id;o&&(t[o]||(t[o]={}),t[o][l]=r[0],a.add(r[0]))}})),Object.keys(t).length>0){P(t);const e=Object.keys(t)[0],a=Object.keys(t[e])[0],r=q.current[`${e}-${a}`];r&&(r.classList.add("border-red-500","ring-red-300"),r.focus(),r.scrollIntoView({behavior:"smooth",block:"center"}))}}}else hp.error(`An error occurred: ${(null==(n=null==(r=s.response)?void 0:r.data)?void 0:n.message)||s.message}`)}})),style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(S?"opacity-50 cursor-not-allowed":""),disabled:S,children:S?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Updating..."]}):"Update"})})]})]})})]})]})]})},dde=()=>{var t;const a="https://sms.evolvu.in/public",[r,n]=Q.useState(""),[s,l]=Q.useState(null),[o,i]=Q.useState(null),[d,c]=Q.useState([]),[h,f]=Q.useState(null);Q.useState(null);const[x,g]=Q.useState(""),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(""),[k,C]=Q.useState(null),[E,T]=Q.useState({}),[O,D]=Q.useState(null),[A,P]=Q.useState(null),[M,L]=Q.useState(!1),[I,F]=Q.useState(!1),R=sm(),[$,B]=Q.useState({}),[z,U]=Q.useState({}),[H,W]=Q.useState(!1);Q.useState(!1);const[Y,q]=Q.useState(!1),[V,G]=Q.useState([]),[K,X]=Q.useState(null),[J,Z]=Q.useState([]),[ee,te]=Q.useState(!1);Q.useState({}),Q.useState(null);const ae=Q.useRef({}),re=Q.useMemo((()=>d.map((e=>({value:e.class_id,label:e.name})))),[d]),ne=Q.useMemo((()=>Array.isArray(V)?V.map((e=>({value:e.section_id,label:e.name}))):[]),[V]),se=(e,t,a)=>{const{value:r}=e.target;P((e=>e.map((e=>e.student_id===t||e.roll_no===t?m(u({},e),{[a]:r}):e)))),"admission_class"===a&&T((e=>m(u({},e),{[t]:r})));let n="";"stud_id_no"===a&&(r?A.some((e=>e.stud_id_no===r&&e.student_id!==t))&&(n="Student ID must be unique."):n="Student ID is required."),"udise_pen_no"===a&&(r?/^\d{11}$/.test(r)||(n="Please enter 11 digit Udise Pen No."):n="Please Enter Udise Pen No."),B((e=>m(u({},e),{[t]:m(u({},e[t]),{[a]:n})}))),U((e=>{const r=u({},e);return r[t]&&r[t][a]&&(delete r[t][a],0===Object.keys(r[t]).length&&delete r[t]),r}))},le=["Nursery","LKG","UKG"],ie=null==(t=re.find((e=>e.value===(null==k?void 0:k.value))))?void 0:t.label,de=le.includes(ie),ce=Q.useMemo((()=>Array.isArray(A)?A.filter((e=>{const t=r.toLowerCase();return null!==e.roll_no&&e.roll_no.toString().toLowerCase().includes(t)||`${e.full_name||""}`.toLowerCase().includes(t)||e.stud_id_no.toString().toLowerCase().includes(t)||e.udise_pen_no.toString().toLowerCase().includes(t)})):[]),[A,r]);return console.log("Filtered Students:",ce),Q.useEffect((()=>{p(e,null,(function*(){try{W(!0);const e=localStorage.getItem("authToken"),t=yield Uf.get(`${a}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(t.data)?c(t.data):hp.error("Unexpected Data Format")}catch(e){hp.error("Error fetching classes"),console.error("Error fetching classes",e)}finally{W(!1)}}))}),[h]),oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"md:mx-auto md:w-[90%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" w-full    flex justify-between items-center ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Update Student ID & Other Details"}),oe.jsx(sh,{className:"text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{R("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"w-full md:container mt-4",children:[oe.jsx("div",{className:"pt-2 md:pt-4"}),oe.jsx("div",{className:"pt-8 w-full md:w-[65%]  relative ml-0 md:ml-[10%]  border-1 flex justify-start flex-col md:flex-row gap-x-1  bg-white rounded-lg mt-2 md:mt-6 p-2 ",children:oe.jsx("div",{className:"w-full flex md:flex-row justify-start items-center",children:oe.jsxs("div",{className:"w-full  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsx("div",{className:"w-full gap-x-1 md:gap-x-6 items-center md:justify-between my-1 md:my-4 flex flex-col md:flex-row ",children:oe.jsxs("div",{className:" w-full md:w-[85%] flex flex-col md:flex-row justify-between",children:[oe.jsxs("div",{className:"  w-full md:w-[47%] flex flex-row justify-between   ",children:[oe.jsxs("label",{className:"text-md mt-1.5 mr-1 md:mr-0 inline-flex",htmlFor:"classSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[70%]",children:[oe.jsx(Soe,{id:"classSelect",value:k,onChange:t=>{var r;v(""),C(t),X(null),G([]),f(null==t?void 0:t.value),t&&(r=t.value,p(e,null,(function*(){try{q(!0);const e=localStorage.getItem("authToken"),t=yield Uf.get(`${a}/api/get_divisions/${r}`,{headers:{Authorization:`Bearer ${e}`}});console.log("Divisions API Response:",t.data),Array.isArray(t.data.divisions)?G(t.data.divisions):(hp.error("Unexpected Data Format."),G([]))}catch(e){hp.error("Error fetching divisions"),console.error("Error fetching divisions",e)}finally{q(!1)}})))},options:re,placeholder:H?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:H}),b&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:b})]})]}),oe.jsxs("div",{className:"  w-full md:w-[44%] flex flex-row justify-between   ",children:[oe.jsxs("label",{className:"text-md mt-1.5 mr-1 md:mr-0 inline-flex",htmlFor:"divisionSelect",children:["Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[60%]",children:[oe.jsx(Soe,{id:"divisionSelect",value:K,onChange:e=>{w(""),X(e)},options:ne,placeholder:H?"Loading divisions...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{menu:e=>m(u({},e),{zIndex:1050})},isDisabled:Y}),y&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:y})]})]})]})}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e;g(""),n(""),v(""),w(""),N(""),B({});let t=!1;if(k||(v("Please select a class."),t=!0),K||(w("Please select a division."),t=!0),!t)try{P(null),D([]),Z([]),te(!1),F(!0);const t=localStorage.getItem("authToken"),r=null==K?void 0:K.value;console.log("Section ID:",r);const n=null==k?void 0:k.value;if(console.log("Class ID",n),!r)return void hp.error("Invalid division selection.");const s=yield Uf.get(`${a}/api/get_studentidotherdetails/${n}/${r}`,{headers:{Authorization:`Bearer ${t}`}});(null==s?void 0:s.data)?(null==s||s.data,P(null==(e=null==s?void 0:s.data)?void 0:e.data)):hp.error("No data found for the selected class.")}catch(r){console.log("Error:",r),console.log("Error Response:",r.response)}finally{F(!1)}})),style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(I?"opacity-50 cursor-not-allowed":""),disabled:I,children:I?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Browse"})]})})}),A&&oe.jsx("div",{className:"w-full md:container mx-auto py-4 px-4 ",children:oe.jsxs("div",{className:"card mx-auto w-full shadow-lg",children:[oe.jsxs("div",{className:"p-1 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h6",{className:"text-gray-700 mt-1   text-nowrap",children:"Update Student Details"}),oe.jsx("div",{className:"box-border flex md:gap-x-2  ",children:oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>n(e.target.value)})})})]}),oe.jsx("div",{className:" relative w-[97%] h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full ",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full mx-auto",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{className:" ",children:oe.jsxs("tr",{className:"bg-gray-200 ",children:[oe.jsx("th",{className:"px-2 w-full md:w-[5%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr. No."}),oe.jsx("th",{className:"px-2 w-full md:w-[6%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Roll No"}),oe.jsx("th",{className:"px-2 w-full md:w-[30%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student ID"}),!de&&oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Udise pen no."}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Place of Birth"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Mother Tongue"}),oe.jsx("th",{className:"px-2 w-full md:w-[12%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Admitted in Class"})]})}),oe.jsx("tbody",{children:ce.length?ce.map(((e,t)=>{var a,r,n,s,l,o,i,d;return oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm p-1",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:0===e.roll_no?"0":e.roll_no||""})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.full_name||""})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("input",{type:"text",ref:t=>ae.current[`${e.student_id}-stud_id_no`]=t,className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300 "+((null==(a=$[e.student_id])?void 0:a.stud_id_no)?"border-red-500 ring-red-300":""),value:e.stud_id_no||"",onChange:t=>se(t,e.student_id,"stud_id_no")})}),!de&&oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("input",{type:"text",ref:t=>ae.current[`${e.student_id}-udise_pen_no`]=t,className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300 "+((null==(r=$[e.student_id])?void 0:r.udise_pen_no)?"border-red-500 ring-red-300":""),value:e.udise_pen_no||"",onChange:t=>se(t,e.student_id,"udise_pen_no")}),(null==(n=$[e.student_id])?void 0:n.udise_pen_no)&&oe.jsx("span",{className:"text-red-500 text-xs block mt-1",children:null==(s=$[e.student_id])?void 0:s.udise_pen_no})]}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("input",{type:"text",ref:t=>ae.current[`${e.student_id}-birth_place`]=t,className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300 "+((null==(l=$[e.student_id])?void 0:l.birth_place)?"border-red-500 ring-red-300":""),value:e.birth_place||"",onChange:t=>se(t,e.student_id,"birth_place")}),(null==(o=$[e.student_id])?void 0:o.birth_place)&&oe.jsx("span",{className:"text-red-500 text-xs block mt-1",children:null==(i=$[e.student_id])?void 0:i.birth_place})]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("input",{type:"text",ref:t=>ae.current[`${e.student_id}-mother_tongue`]=t,className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300 "+((null==(d=$[e.student_id])?void 0:d.mother_tongue)?"border-red-500 ring-red-300":""),value:e.mother_tongue||"",onChange:t=>se(t,e.student_id,"mother_tongue")})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsxs("select",{value:e.admission_class||"",onChange:t=>se(t,e.student_id,"admission_class"),className:"w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300",disabled:H,children:[oe.jsx("option",{value:"",children:"Select"}),H?oe.jsx("option",{disabled:!0,children:"Loading..."}):re.map((e=>oe.jsx("option",{value:e.label,children:e.label},e.value)))]})})]},e.student_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})," ",oe.jsx("div",{className:"col-span-3 mb-2  text-right mt-2",children:oe.jsx("button",{type:"submit",onClick:t=>p(e,null,(function*(){var e;t.preventDefault();try{L(!0);const t=localStorage.getItem("authToken");if(!(null==A?void 0:A.length))return void alert("No student data to update.");const r={};let n=null;if(A.map((e=>{var t;let a=!1;const s=null==(t=re.find((e=>e.value===(null==k?void 0:k.value))))?void 0:t.label;return le.includes(s)||["udise_pen_no"].forEach((t=>{var s;const l=null==(s=e[t])?void 0:s.trim(),o=`${e.student_id}-${t}`;l?/^\d{11}$/.test(l)||(a=!0,r[o]="Please enter an 11-digit Udise Pen Number."):(a=!0,r[o]="This field cannot be empty"),a&&!n&&(n=o)})),m(u({},e),{hasError:a})})),n){Object.keys(r).forEach((e=>{var t;const a=null==(t=ae.current)?void 0:t[e];a&&a.classList.add("border-red-500","ring-red-300")}));const t=null==(e=ae.current)?void 0:e[n];return void(t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.focus()))}const s=yield Uf.put(`${a}/api/update_studentidotherdetails`,{students:A},{headers:{Authorization:`Bearer ${t}`}});200===s.status?(hp.success("Student details updated successfully!"),C(null),l(null),Z([]),B({}),i(null),i([]),D(null),X(""),G([]),D([]),S(""),N(""),te(null),U({}),setTimeout((()=>{P(null)}),500)):hp.error(`Failed to update student details. Status: ${s.status}`)}catch(r){console.log("Full API Error Response:",r.response),hp.error("Error Updating Student Details.")}finally{L(!1)}})),style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(M?"opacity-50 cursor-not-allowed":""),disabled:M,children:M?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Updating..."]}):"Update"})})]})]})})]})]})]})},cde=()=>{var e,t,a,r,n,s,l,o,i,d,c,u,m,h,f,p,x,g,b,v,y,w,j,N;const _=sm(),S=rm(),k=(null==(e=S.state)?void 0:e.studentData)||{};console.log("student",k);const C=null==(t=S.state)?void 0:t.message;return console.log(C),Q.useEffect((()=>{var e;(null==(e=S.state)?void 0:e.message)&&hp.success(S.state.message)}),[S.state]),oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"card px-3 relative -top-6 w-full  shadow-md flex flex-col h-auto min-h-full",children:[oe.jsxs("div",{className:"flex flex-col gap-y-6  bg-gray-50 rounded-lg shadow-inner mt-6",children:[oe.jsxs("div",{className:"  flex justify-between items-center\r\n\r\n          ",children:[oe.jsxs("h3",{className:"text-[#C03078] relative top-2 left-3\r\n             w-full  mt-1 mb-0 text-[1em] lg:text-xl font-bold tracking-wide",children:["Student's Personal Profile"," "]}),oe.jsx(sh,{className:"float-end relative right-2  top-3  text-red-600 hover:cursor-pointer hover:bg-red-100 text-2xl",onClick:()=>_("/dashboard")})]}),oe.jsx("div",{className:"h-0.5 w-full bg-[#C03078] rounded"}),oe.jsxs("div",{className:"bg-white shadow-md p-3\r\n            rounded-lg border border-gray-200",children:[oe.jsx("h4",{className:"text-lg font-semibold text-blue-700 mb-3",children:"Personal Details"}),oe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-md",children:[{label:"Student's Full Name",value:[k.first_name,k.mid_name,k.last_name].filter(Boolean).join(" ")},{label:"Student Name",value:k.student_name},{label:"Gender",value:"M"===k.gender?"Male":"F"===k.gender?"Female":"Other"},{label:"Date of Birth",value:k.dob},{label:"Birth Place",value:k.birth_place},{label:"Nationality",value:k.nationality},{label:"Religion",value:k.religion},{label:"Caste",value:k.caste},{label:"Category",value:k.category},{label:"Blood Group",value:k.blood_group},{label:"Mother Tongue",value:k.mother_tongue},{label:"Aadhaar No.",value:k.stu_aadhaar_no}].map(((e,t)=>oe.jsxs("div",{className:"flex",children:[oe.jsxs("span",{className:"font-medium w-40 text-gray-700",children:[e.label,":"]}),oe.jsx("span",{className:"text-gray-900",children:e.value||"N/A"})]},t)))})]}),oe.jsxs("div",{className:"bg-white shadow-md p-3 rounded-lg border border-gray-200",children:[oe.jsx("h4",{className:"text-lg font-semibold text-green-700 mb-3",children:"Academic Details"}),oe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-md",children:[{label:"Admission Date",value:k.admission_date},{label:"Admitted in Class",value:k.admission_class},{label:"Class Name       ",value:null==(a=k.get_class)?void 0:a.name},{label:"Division",value:null==(r=k.get_division)?void 0:r.name},{label:"Roll No.",value:k.roll_no},{label:"GR No.",value:k.reg_no},{label:"Student ID",value:k.student_id},{label:"UDISE Pen No.",value:k.udise_pen_no},{label:"House Name",value:k.house}].map(((e,t)=>oe.jsxs("div",{className:"flex",children:[oe.jsxs("span",{className:"font-medium w-40 text-gray-700",children:[e.label,":"]}),oe.jsx("span",{className:"text-gray-900",children:e.value||"N/A"})]},t)))})]}),oe.jsxs("div",{className:"bg-white shadow-md p-3 rounded-lg border border-gray-200",children:[oe.jsx("h4",{className:"text-lg font-semibold text-purple-700 mb-3",children:"Contact Details"}),oe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-md",children:[{label:"Permanent Address",value:k.permant_add},{label:"City of Residence ",value:k.city},{label:"State of Residence  ",value:k.state},{label:"Pincode",value:k.pincode}].map(((e,t)=>oe.jsxs("div",{className:"flex",children:[oe.jsxs("span",{className:"font-medium w-40 text-gray-700",children:[e.label,":"]}),oe.jsx("span",{className:"text-gray-900",children:e.value||"N/A"})]},t)))})]}),oe.jsxs("div",{className:"bg-white shadow-md p-3 rounded-lg border border-gray-200",children:[oe.jsx("h4",{className:"text-lg font-semibold text-red-700 mb-3",children:"Emergency Details"}),oe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-md",children:[{label:"Emergency Name",value:k.emergency_name},{label:"Emergency Contact",value:k.emergency_contact},{label:"Emergency Address",value:k.emergency_add}].map(((e,t)=>oe.jsxs("div",{className:"flex",children:[oe.jsxs("span",{className:"font-medium w-40 text-gray-700",children:[e.label,":"]}),oe.jsx("span",{className:"text-gray-900",children:e.value||"N/A"})]},t)))})]}),oe.jsxs("div",{className:"bg-white shadow-md p-3 rounded-lg border border-gray-200",children:[oe.jsx("h4",{className:"text-lg font-semibold text-amber-700 mb-3",children:"Health Details"}),oe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-md",children:[{label:"Height",value:k.height},{label:"Weight",value:k.weight},{label:"Has Spectacles",value:k.has_spec},{label:"Transport Mode",value:k.transport_mode},{label:"Allergies",value:k.allergies}].map(((e,t)=>oe.jsxs("div",{className:"flex",children:[oe.jsxs("span",{className:"font-medium w-40 text-gray-700",children:[e.label,":"]}),oe.jsx("span",{className:"text-gray-900",children:e.value||"N/A"})]},t)))})]})]}),oe.jsxs("div",{className:"flex flex-col gap-y-4  bg-gray-50 rounded-lg shadow-inner mt-6",children:[oe.jsx("h3",{className:"text-[#C03078] relative top-3 left-3\r\n           text-xl font-semibold",children:"Parent Information"}),oe.jsx("div",{className:"h-0.5 w-full bg-[#C03078] rounded"}),oe.jsxs("div",{className:"bg-white shadow p-3 rounded-md border border-gray-200",children:[oe.jsx("h4",{className:"text-lg font-semibold text-blue-600 mb-2",children:"Father's Details"}),oe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-md",children:[{label:"Name",value:null==(n=k.parents)?void 0:n.father_name},{label:"Occupation",value:null==(s=k.parents)?void 0:s.father_occupation},{label:"Office Address",value:null==(l=k.parents)?void 0:l.f_office_add},{label:"Telephone",value:null==(o=k.parents)?void 0:o.f_office_tel},{label:"Mobile Number",value:null==(i=k.parents)?void 0:i.f_mobile},{label:"Email Id",value:null==(d=k.parents)?void 0:d.f_email},{label:"Aadhaar No.",value:null==(c=k.parents)?void 0:c.parent_adhar_no},{label:"Date of Birth",value:null==(u=k.parents)?void 0:u.f_dob},{label:"Blood Group",value:null==(m=k.parents)?void 0:m.f_blood_group},{label:"User Id",value:null==(f=null==(h=k.parents)?void 0:h.user)?void 0:f.user_id}].map(((e,t)=>oe.jsxs("div",{className:"flex",children:[oe.jsxs("span",{className:"font-medium w-40 text-gray-700",children:[e.label,":"]}),oe.jsx("span",{className:"text-gray-900",children:e.value||"N/A"})]},t)))})]}),oe.jsxs("div",{className:"bg-white shadow p-3 rounded-md border border-gray-200 mt-4\r\nmb-4 ",children:[oe.jsx("h4",{className:"text-lg font-semibold text-pink-600 mb-2",children:"Mother's Details"}),oe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-md",children:[{label:"Name",value:null==(p=k.parents)?void 0:p.mother_name},{label:"Occupation",value:null==(x=k.parents)?void 0:x.mother_occupation},{label:"Office Address",value:null==(g=k.parents)?void 0:g.m_office_add},{label:"Telephone",value:null==(b=k.parents)?void 0:b.m_office_tel},{label:"Mobile Number",value:null==(v=k.parents)?void 0:v.m_mobile},{label:"Email Id",value:null==(y=k.parents)?void 0:y.m_emailid},{label:"Aadhaar No.",value:null==(w=k.parents)?void 0:w.m_adhar_no},{label:"Date of Birth",value:null==(j=k.parents)?void 0:j.m_dob},{label:"Blood Group",value:null==(N=k.parents)?void 0:N.m_blood_group}].map(((e,t)=>oe.jsxs("div",{className:"flex",children:[oe.jsxs("span",{className:"font-medium w-40 text-gray-700",children:[e.label,":"]}),oe.jsx("span",{className:"text-gray-900",children:e.value||"N/A"})]},t)))})]})]})]})})},ude=()=>oe.jsx("div",{children:"RemarksObservation"}),mde=()=>oe.jsx("div",{children:"ReportCardCertificates"}),hde=()=>oe.jsx("div",{children:"HealthActivityRecord"});function fde(){var e,t,a;const[r,n]=Q.useState("profile"),[s,l]=Q.useState(!1),[o,i]=Q.useState(!1);sm();const d=(null==(e=rm().state)?void 0:e.studentData)||{},c=[{id:"profile",label:"Personal Profile",icon:oe.jsx(rh,{}),bgColor:"bg-pink-500"},{id:"remarks",label:"Remark & Observation",icon:oe.jsx(Km,{}),bgColor:"bg-pink-500"},{id:"reportCard",label:"Report Card & Certificates",icon:oe.jsx(qm,{}),bgColor:"bg-gray-400"},{id:"health",label:"Health & Activity Record",icon:oe.jsx(Jm,{}),bgColor:"bg-pink-500"}];return oe.jsx("div",{className:`transition-all duration-500 ${s?"scale-95 opacity-0":"scale-100 opacity-100"} w-full md:W-[95%] mx-auto p-4`,children:oe.jsxs("div",{className:"card p-3 rounded-md",children:[oe.jsx("div",{className:"relative w-full -top-6 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"flex bg-gray-100",children:[oe.jsx("div",{className:"w-[15%] bg-white shadow-lg border-r p-6 rounded-lg",children:oe.jsxs("div",{className:"flex flex-col items-center gap-2",children:[oe.jsxs("div",{className:"text-center item-center",children:[oe.jsx("img",{src:`${null==d?void 0:d.student_image_url}`,alt:`${null==d?void 0:d.image_name}`,className:"w-24 h-24 mx-auto rounded-full border-4 border-pink-500"}),oe.jsxs("h2",{className:"text-sm font-semibold mt-3",children:[null==d?void 0:d.student_name," - ",null==(t=null==d?void 0:d.get_class)?void 0:t.name," (",null==(a=null==d?void 0:d.get_division)?void 0:a.name,")"]})]}),oe.jsx("div",{className:"w-full text-sm flex flex-col gap-3",children:c.map((e=>oe.jsxs("button",{className:`w-full flex items-center gap-2 p-2 rounded-lg text-white transition-all duration-300 transform ${r===e.id?"bg-blue-500 scale-105 shadow-lg":e.bgColor} hover:bg-blue-400`,onClick:()=>{var t;(t=e.id)!==r&&(i(!0),setTimeout((()=>{n(t),i(!1)}),400))},children:[e.icon,e.label]},e.id)))})]})}),oe.jsx("div",{className:"w-[85%] bg-gray-50 py-4\n               p-1 shadow-md rounded-lg max-h-[calc(100vh-150px)] overflow-y-auto relative transition-all duration-500 "+(o?"scale-90 opacity-0":"scale-100 opacity-100"),children:(()=>{switch(r){case"profile":default:return oe.jsx(cde,{});case"remarks":return oe.jsx(ude,{});case"reportCard":return oe.jsx(mde,{});case"health":return oe.jsx(hde,{})}})()})]})]})})}function pde(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState(!1),[r,n]=Q.useState(!1),[s,l]=Q.useState(!1),[o,i]=Q.useState(!1),[d,c]=Q.useState(""),[h,f]=Q.useState(0),[x,g]=Q.useState(0),[b,v]=Q.useState(!1),[y,w]=Q.useState(!1),j=Q.useRef(0),N=Q.useRef(""),_=10,S=sm(),[k,C]=Q.useState(null),[E,T]=Q.useState(""),[O,D]=Q.useState(""),[A,P]=Q.useState(""),[M,L]=Q.useState(!1);Q.useState(!1);const[I,F]=Q.useState(!1),[R,$]=Q.useState(""),[B,z]=Q.useState([]),[U,H]=Q.useState([]),[W,Y]=Q.useState(!1),[q,V]=Q.useState({}),[G,K]=Q.useState(""),[X,J]=Q.useState(""),[Z,ee]=Q.useState([]),[te,ae]=Q.useState([]),[re,ne]=Q.useState({min:"",max:""}),se=(new Date).toISOString().split("T")[0],[le,ie]=Q.useState({title:"",holiday_date:"",to_date:""}),de=()=>p(this,null,(function*(){const t=localStorage.getItem("authToken");try{const a=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});if(console.log("response session data",a.data),a.data&&a.data.user){const{name:e}=a.data.user;$(e)}else console.error("User data not found in the response")}catch(a){console.error("Error fetching session data:",a)}})),ce=()=>p(this,null,(function*(){var t,a;L(!0);try{const r=localStorage.getItem("authToken"),n=yield Uf.get(`${e}/api/get_holidaylist`,{headers:{Authorization:`Bearer ${r}`}});if(null==(a=null==(t=n.data)?void 0:t.data)?void 0:a.length){const e=n.data.data[0].academic_yr;ne((e=>{if(!e)return{};const[t,a]=e.split("-").map(Number);return{min:`${t}-04-01`,max:`${a}-03-31`}})(e))}console.log("holiday list",n.data.data),z(n.data.data||[]),g(Math.ceil(n.data.data.length/_))}catch(r){hp.error("Error fetching holiday data.")}finally{L(!1)}}));Q.useEffect((()=>{de(),console.log("session.data",de),ce(),I&&F(!1)}),[I]);const ue=()=>p(this,null,(function*(){if(b)return;v(!0);const{title:t,holiday_date:a,to_date:r}=le;console.log("Submitting:",{title:t,holiday_date:a,to_date:r});let n=!1,s={};if(t||(n=!0,s.title="Title is required."),a||(n=!0,s.holiday_date="Start Date is required."),r&&a&&r<a&&(n=!0,s.to_date="End Date must be same or after Start Date."),n)return V(s),v(!1),hp.dismiss(),void hp.error("Please fill all required fields correctly.");try{const n=localStorage.getItem("authToken");if(!n)return hp.error("No authentication token found. Please log in again."),void v(!1);const s={title:t,holiday_date:a,to_date:r||""},l=yield Uf.post(`${e}/api/save_holiday`,s,{headers:{Authorization:`Bearer ${n}`}}),{data:o}=l;if(!o.success)return hp.error("Holiday already exists or failed to add."),void v(!1);hp.success("Holiday added successfully!"),ie({title:"",holiday_date:"",to_date:""}),V({}),yield ce(),pe()}catch(l){console.error("Error adding holiday:",l),!l.response||l.response.status>=500?hp.error("Server error. Please try again later."):hp.error("Failed to add holiday. Please check your input.")}finally{v(!1)}})),me=e=>{if(!e)return"";let t=e.includes("-")?e.split("-"):e.split("/");if(3!==t.length)return"";let[a,r,n]=t;return 4!==n.length&&([n,a]=[a,n]),`${n}-${r}-${a}`},he=e=>{const{name:t,value:a}=e.target;ie((e=>m(u({},e),{[t]:a})));let r=u({},q);"title"===t&&(r.title=a.trim()?"":"Title is required."),"holiday_date"===t&&(a.trim()?re.min&&re.max&&(a<re.min||a>re.max)?r.holiday_date=`Start date must be between ${re.min} and ${re.max}.`:r.holiday_date="":r.holiday_date="Start date is required."),"to_date"===t&&(a.trim()?le.holiday_date&&a<le.holiday_date?r.to_date="End date cannot be before start date.":re.min&&re.max&&(a<re.min||a>re.max)?r.to_date=`End date must be between ${re.min} and ${re.max}.`:r.to_date="":r.to_date="End date is required."),V(r)};Q.useEffect((()=>{const e=JSON.parse(localStorage.getItem("deletedHolidays"))||[];ae(e)}),[]);const fe=t=>p(this,null,(function*(){if(t){if(!b){v(!0);try{const a=localStorage.getItem("authToken");if(!a)return hp.error("No authentication token found. Please log in again."),void v(!1);console.log("Deleting holiday with ID:",t);const r=yield Uf.delete(`${e}/api/delete_holiday/${t}`,{headers:{Authorization:`Bearer ${a}`}}),{data:n}=r;if(!n.success)return hp.error("Failed to delete the holiday."),void v(!1);z((e=>e.filter((e=>e.holiday_id!==t)))),ae((e=>{const a=[...e,t];return localStorage.setItem("deletedHolidays",JSON.stringify(a)),a})),hp.success("Holiday deleted successfully!"),l(!1),ce()}catch(a){console.error("Error deleting holiday:",a),hp.error("Server error. Please try again later.")}finally{v(!1)}}}else hp.error("Invalid holiday selected.")})),pe=()=>{ie({title:"",holiday_date:"",to_date:""}),V({message:""}),a(!1),n(!1),l(!1),i(!1)},xe=(e,t)=>{const a=window.URL.createObjectURL(new Blob([e])),r=document.createElement("a");r.href=a,r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r)},ge=t=>p(this,null,(function*(){try{const a=localStorage.getItem("authToken");if(console.log("the response of the namechack api____"),!a)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/download_csv_rejected/${t}`,{headers:{Authorization:`Bearer ${a}`}},{responseType:"blob"});xe(r.data,"rejected_template.csv")}catch(a){console.error("Error downloading template:",a)}})),be=e=>{if(!e)return" ";const t=new Date(e);return`${String(t.getDate()).padStart(2,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getFullYear()).slice(-4)}`};Q.useEffect((()=>{const e=d.trim().toLowerCase();""!==e&&""===N.current&&(j.current=h,f(0)),""===e&&""!==N.current&&f(j.current),N.current=e}),[d]);const ve=(Array.isArray(B)?B:[]).sort(((e,t)=>new Date(e.holiday_date)-new Date(t.holiday_date))).filter((e=>{if(!d)return!0;const t=d.toLowerCase().trim(),a=(null==e?void 0:e.title)?e.title.toLowerCase().trim():"",r=(null==e?void 0:e.holiday_date)?e.holiday_date.toLowerCase().trim():"",n=(null==e?void 0:e.created_by_name)?e.created_by_name.toLowerCase().trim():"";return a.includes(t)||r.includes(t)||n.includes(t)}));console.warn("Filtered Sections ",ve),Q.useEffect((()=>{g(Math.ceil(ve.length/_))}),[ve,_]);const ye=ve.slice(h*_,(h+1)*_);return console.log("displayted sections",ye),oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-[85%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:"w-full  flex flex-row justify-between",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Holiday List"}),oe.jsx(sh,{className:" relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{S("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white w-full md:w-[97%] mx-auto rounded-md ",children:oe.jsxs("div",{className:"w-full  mx-auto",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4  ",children:oe.jsx("div",{className:"  w-[100%]  mx-auto ",children:oe.jsxs("div",{className:"max-w-full bg-white shadow-md rounded-lg border border-gray-300 mx-auto p-6",children:[oe.jsx("h2",{className:"text-center text-2xl font-semibold mb-8 text-blue-600",children:"Upload Holiday Data from Excel Sheet"}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[oe.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-100 rounded-md",children:[oe.jsx("h5",{className:"font-semibold mb-3 text-gray-800",children:"Download Template"}),oe.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["# Please download the template by clicking below.",oe.jsx("br",{}),"# Enter holiday details in the downloaded file.",oe.jsx("br",{})]}),oe.jsxs("button",{onClick:()=>p(this,null,(function*(){const t=localStorage.getItem("authToken");try{const a=yield Uf.get(`${e}/api/get_templatecsv`,{headers:{Authorization:`Bearer ${t}`},responseType:"blob"});xe(a.data,"holidaylist.csv")}catch(a){console.error("Error downloading template:",a)}})),className:"mt-5 bg-blue-600 text-white text-xs rounded-full px-6 py-3 hover:bg-blue-700 transition duration-200",children:[oe.jsx("i",{className:"fas fa-download text-lg"})," Download Template"]})]}),oe.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-100 rounded-md",children:[oe.jsx("h5",{className:"font-semibold mb-3 text-gray-800",children:"Select a file to upload"}),oe.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["# Do not change the name of the file.",oe.jsx("br",{}),"# Please click on the button below to select the file which was downloaded in the previous step."]}),oe.jsxs("label",{className:"mt-4 bg-blue-600 md:w-[45%] overflow-hidden text-white rounded-full text-xs  px-6 py-3 hover:bg-blue-700 cursor-pointer transition duration-200 whitespace-nowrap",children:[oe.jsx("i",{className:"fas fa-upload text-lg "})," ",k?k.name.length>20?`${k.name.substring(0,10)}...`:k.name:" Choose File ",oe.jsx("input",{type:"file",accept:".csv",onChange:e=>{const t=e.target.files[0];t&&(C(t),D(""),T(""),P(""),e.target.value=null)},className:"hidden"})]})]}),oe.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-100 rounded-md",children:[oe.jsx("h5",{className:"font-semibold mb-3 text-gray-800",children:"Enter New Holiday List"}),oe.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["# Please click on the upload button to upload the file.",oe.jsx("br",{}),"# Holidays will be entered in application"]}),oe.jsxs("div",{className:"text-xs flex flex-col justify-around",children:[oe.jsx("span",{children:O&&oe.jsx("p",{style:{color:"red"},children:O})}),oe.jsx("span",{className:"",children:A&&oe.jsx("a",{href:"#",style:{color:"red"},className:"text-xs",onClick:e=>{e.preventDefault(),ge(A)},children:oe.jsx("span",{className:"underline text-blue-500 hover:text-blue-800 ",children:"Download CSV to see errors."})})})]}),oe.jsxs("button",{onClick:()=>p(this,null,(function*(){var t,a,r,n,s,l;if(!k)return void D("Please select a file first.");const o=k.name.trim();if(!/^holidaylist(\s?\(\d+\))?\.csv$/.test(o)&&!/^rejected_template(\s?\(\d+\))?\.csv$/.test(o))return void hp.warning(" Please check if correct file is selected for upload. The file name should be holidaylist or rejected_template.");L(!0);const i=new FormData;i.append("file",k);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");console.log("File is valid CSV",i);const a=yield Uf.post(`${e}/api/update_holidaylist_csv`,i,{headers:{Authorization:`Bearer ${t}`}});console.log("Response of bulk upload:",a),200===a.status&&(hp.success("Data posted successfully!"),F(!0),C(null),ce())}catch(d){L(!1);const e=null==(a=null==(t=null==d?void 0:d.response)?void 0:t.data)?void 0:a.message,o=null==(n=null==(r=null==d?void 0:d.response)?void 0:r.data)?void 0:n.invalid_rows;console.log("Error from API:",e),D(e?`Error: ${e}.`:"Failed to upload file. Please try again..."),P(`${o}`),console.log("Full error message URL:",A),hp.error(e?null==(l=null==(s=null==d?void 0:d.response)?void 0:s.data)?void 0:l.message:"Error uploading file."),console.error("Error uploading file:",e)}})),className:"mt-12 bg-blue-600 text-white text-xs rounded-full px-6 py-3 hover:bg-blue-700 transition duration-200",disabled:M,children:[" ",oe.jsx("i",{className:"fas fa-cloud-upload-alt text-lg"})," ",M?"Uploading...":"Upload"]}),E&&oe.jsx("p",{style:{color:"green"},children:E})]})]})]})})}),B.length>0&&oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Holiday List"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>c(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{a(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]}),oe.jsx("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>p(this,null,(function*(){if(0===U.length)return void hp.warning("Please select at least one holiday to publish.");v(!0);const t=localStorage.getItem("authToken");if(!t)return alert("Authentication required. Please log in."),void v(!1);try{const a=yield fetch(`${e}/api/update_publishholiday`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({holiday_id:U})});if(!a.ok)throw hp.error("Failed to publish holidays. Please try again."),new Error("Failed to publish holidays");const r=yield a.json();r.success?(hp.success(r.message||"Holidays published successfully!"),z((e=>e.map((e=>U.includes(e.holiday_id)?m(u({},e),{publish:"Y"}):e)))),H([])):hp.error(r.message||"Failed to publish holidays.")}catch(a){console.error("Error publishing holidays:",a),hp.error("An error occurred while publishing holidays.")}finally{v(!1)}})),disabled:b,children:b?"Publishing...":"Publish"})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full  md:w-[100%] mx-auto",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[6%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsxs("th",{className:"px-2 w-full md:w-[6%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:[oe.jsx("input",{type:"checkbox",checked:W,onChange:()=>{if(Y(!W),W)H([]);else{const e=B.map((e=>e.holiday_id));H(e),console.log("allholidays",e)}},className:"cursor-pointer"})," ","All"]}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Title"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Start Date"}),oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"End Date"}),oe.jsx("th",{className:"px-2 w-full md:w-[25%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Created By"}),oe.jsx("th",{className:"px-2 w-full md:w-[7%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[7%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:ye.length?ye.map(((e,t)=>oe.jsxs("tr",{className:" text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:h*_+t+1}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 border border-gray-950 text-sm",children:[" ",oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:"N"===e.publish&&oe.jsx("input",{type:"checkbox",checked:U.includes(e.holiday_id),onChange:t=>{var a;t.stopPropagation(),a=e.holiday_id,U.includes(a)?H(U.filter((e=>e!==a))):H([...U,a])}})})]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm text-nowrap",children:e.title}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"0000-00-00"==e.holiday_date?" ":be(e.holiday_date)}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"0000-00-00"==e.to_date?" ":be(e.to_date)}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:e.created_by_name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"N"===e.publish&&oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{K(e.holiday_id);let t=e.holiday_date?me(e.holiday_date):"",a=e.to_date?me(e.to_date):"";console.log("Formatted Start Date:",t),console.log("Formatted End Date:",a),ie((r=>m(u({},r),{title:e.title||"",holiday_date:t,to_date:a}))),n(!0)})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:te.includes(e.holiday_id)?oe.jsx("span",{className:"text-red-600 font-semibold",children:"Deleted"}):oe.jsx("button",{onClick:()=>(e=>{K(e.holiday_id),J(e.title),console.log("Holiday to delete:",e),console.log("Current holiday name for delete:",e.title),l(!0)})(e),className:"text-red-600 hover:text-red-800 hover:bg-transparent",children:oe.jsx(zM,{icon:VM})})})]},e.holiday_id))):oe.jsx("div",{className:"absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:x,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{console.log("Page clicked:",e.selected),f(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})})]})})]}),t&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Holiday"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:pe})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-4 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"title",className:"w-1/2 mt-2",children:["Title",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{id:"title",className:"form-control shadow-md",type:"text",name:"title",value:le.title,onChange:he}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:q.title&&oe.jsx("span",{className:"text-danger text-xs",children:q.title})})]}),oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"holiday_date",className:"w-1/2 mt-2",children:["Start Date",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{id:"holiday_date",className:"form-control shadow-md",type:"date",name:"holiday_date",value:le.holiday_date,onChange:he,min:re.min||se,max:re.max}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:q.holiday_date&&oe.jsx("span",{className:"text-danger text-xs",children:q.holiday_date})})]}),oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsx("label",{htmlFor:"to_date",className:"w-1/2 mt-2",children:"End Date"}),oe.jsx("input",{id:"to_date",className:"form-control shadow-md",type:"date",name:"to_date",value:le.to_date,onChange:he,min:le.holiday_date||se,max:re.max||""})]})]}),oe.jsxs("div",{className:" flex justify-end p-3",children:[oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 mr-2",onClick:()=>{console.log("Button clicked"),ue()},disabled:b,children:b?"Saving...":"Save"}),oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){var t,a;if(b)return;w(!0);const{title:r,holiday_date:n,to_date:s}=le;console.log("Submitting:",{title:r,holiday_date:n,to_date:s});let l=!1,o={};if(r||(l=!0,o.title="Title is required."),n||(l=!0,o.holiday_date="Start Date is required."),l)return V(o),w(!1),hp.dismiss(),void hp.error("Please fill required fields.");try{const t=localStorage.getItem("authToken");if(!t)return hp.error("No authentication token found. Please log in again."),void w(!1);const a=yield Uf.post(`${e}/api/save_holidaypublish`,{title:r,holiday_date:n,to_date:s},{headers:{Authorization:`Bearer ${t}`}});if(!a.data.success)return hp.error(a.data.message||"Failed to save and publish holiday."),void w(!1);hp.success("Holiday saved and published successfully!"),ee((e=>[...e,a.data.holiday_id])),ie({title:"",holiday_date:"",to_date:""}),V({}),ce(),pe()}catch(i){console.error("Error saving and publishing holiday:",i),hp.error((null==(a=null==(t=i.response)?void 0:t.data)?void 0:a.message)||"Server error. Please try again later.")}finally{w(!1)}})),disabled:y,children:y?"Saving.. & Publishing..":"Save & Publish"})]})]})})})}),s&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:pe}),console.log("the currecnt section inside delete of the Holiday",G)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this holiday"," ",` ${X} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>fe(G),disabled:b,children:b?"Deleting...":"Delete"})})]})})})}),r&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Holiday"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:pe})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-4 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"title",className:"w-1/2 mt-2",children:["Title",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{id:"title",className:"form-control shadow-md",type:"text",name:"title",value:le.title,onChange:he}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:q.title&&oe.jsx("span",{className:"text-danger text-xs",children:q.title})})]}),oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"holiday_date",className:"w-1/2 mt-2",children:["Start Date",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{id:"holiday_date",className:"form-control shadow-md",type:"date",name:"holiday_date",value:le.holiday_date,onChange:he,min:re.min,max:re.max}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:q.holiday_date&&oe.jsx("span",{className:"text-danger text-xs",children:q.holiday_date})})]}),oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsx("label",{htmlFor:"to_date",className:"w-1/2 mt-2",children:"End Date"}),oe.jsx("input",{id:"to_date",className:"form-control shadow-md",type:"date",name:"to_date",value:le.to_date,onChange:he,min:le.holiday_date||re.min,max:re.max})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 mr-2",style:{},onClick:()=>p(this,null,(function*(){var t,a;if(b)return;v(!0);const{title:r,holiday_date:s,to_date:l}=le;console.log("Editing Holiday:",{title:r,holiday_date:s,to_date:l});let o=!1,i={};if(r||(o=!0,i.title="Title is required."),s||(o=!0,i.holiday_date="Start Date is required."),o)return V(i),v(!1),hp.dismiss(),void hp.error("Please fill required fields.");try{const t=localStorage.getItem("authToken");if(!t)return hp.error("No authentication token found. Please log in again."),void v(!1);const a=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},o=yield Uf.put(`${e}/api/update_holiday/${G}`,{title:r,holiday_date:a(s),to_date:a(l)},{headers:{Authorization:`Bearer ${t}`}});if(console.log("response of holiday list",o),!o.data.success)return hp.error(o.data.message||"Failed to update holiday."),void v(!1);hp.success("Holiday updated successfully!"),n(!1),ce()}catch(d){console.error("Error updating holiday:",d),hp.error((null==(a=null==(t=d.response)?void 0:t.data)?void 0:a.message)||"Server error. Please try again later.")}finally{v(!1)}})),disabled:b,children:"Update"})})]})})})})]})}
/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var xde={version:"0.18.5"},gde=1252,bde=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],vde=function(e){-1!=bde.indexOf(e)&&(gde=e)},yde=function(e){vde(e)};function wde(){yde(1200),vde(1252)}var jde,Nde=function(e){return String.fromCharCode(e)},_de=function(e){return String.fromCharCode(e)},Sde="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function kde(e){for(var t="",a=0,r=0,n=0,s=0,l=0,o=0,i=0,d=0;d<e.length;)s=(a=e.charCodeAt(d++))>>2,l=(3&a)<<4|(r=e.charCodeAt(d++))>>4,o=(15&r)<<2|(n=e.charCodeAt(d++))>>6,i=63&n,isNaN(r)?o=i=64:isNaN(n)&&(i=64),t+=Sde.charAt(s)+Sde.charAt(l)+Sde.charAt(o)+Sde.charAt(i);return t}function Cde(e){var t="",a=0,r=0,n=0,s=0,l=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var i=0;i<e.length;)a=Sde.indexOf(e.charAt(i++))<<2|(s=Sde.indexOf(e.charAt(i++)))>>4,t+=String.fromCharCode(a),r=(15&s)<<4|(l=Sde.indexOf(e.charAt(i++)))>>2,64!==l&&(t+=String.fromCharCode(r)),n=(3&l)<<6|(o=Sde.indexOf(e.charAt(i++))),64!==o&&(t+=String.fromCharCode(n));return t}var Ede=function(){return"undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node}(),Tde=function(){if("undefined"!=typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(mMe){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Ode(e){return Ede?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function Dde(e){return Ede?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var Ade=function(e){return Ede?Tde(e,"binary"):e.split("").map((function(e){return 255&e.charCodeAt(0)}))};function Pde(e){if("undefined"==typeof ArrayBuffer)return Ade(e);for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),r=0;r!=e.length;++r)a[r]=255&e.charCodeAt(r);return t}function Mde(e){if(Array.isArray(e))return e.map((function(e){return String.fromCharCode(e)})).join("");for(var t=[],a=0;a<e.length;++a)t[a]=String.fromCharCode(e[a]);return t.join("")}var Lde=Ede?function(e){return Buffer.concat(e.map((function(e){return Buffer.isBuffer(e)?e:Tde(e)})))}:function(e){if("undefined"!=typeof Uint8Array){var t=0,a=0;for(t=0;t<e.length;++t)a+=e[t].length;var r=new Uint8Array(a),n=0;for(t=0,a=0;t<e.length;a+=n,++t)if(n=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],a);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),a)}return r}return[].concat.apply([],e.map((function(e){return Array.isArray(e)?e:[].slice.call(e)})))},Ide=/\u0000/g,Fde=/[\u0001-\u0006]/g;function Rde(e){for(var t="",a=e.length-1;a>=0;)t+=e.charAt(a--);return t}function $de(e,t){var a=""+e;return a.length>=t?a:Xce("0",t-a.length)+a}function Bde(e,t){var a=""+e;return a.length>=t?a:Xce(" ",t-a.length)+a}function zde(e,t){var a=""+e;return a.length>=t?a:a+Xce(" ",t-a.length)}var Ude=Math.pow(2,32);function Hde(e,t){return e>Ude||e<-Ude?function(e,t){var a=""+Math.round(e);return a.length>=t?a:Xce("0",t-a.length)+a}(e,t):function(e,t){var a=""+e;return a.length>=t?a:Xce("0",t-a.length)+a}(Math.round(e),t)}function Wde(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var Yde=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],qde=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]],Vde={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Gde={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Kde={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Xde(e,t,a){for(var r=e<0?-1:1,n=e*r,s=0,l=1,o=0,i=1,d=0,c=0,u=Math.floor(n);d<t&&(o=(u=Math.floor(n))*l+s,c=u*d+i,!(n-u<5e-8));)n=1/(n-u),s=l,l=o,i=d,d=c;if(c>t&&(d>t?(c=i,o=s):(c=d,o=l)),!a)return[0,r*o,c];var m=Math.floor(r*o/c);return[m,r*o-m*c,c]}function Qde(e,t,a){if(e>2958465||e<0)return null;var r=0|e,n=Math.floor(86400*(e-r)),s=0,l=[],o={D:r,T:n,u:86400*(e-r)-n,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,86400==++n&&(o.T=n=0,++r,++o.D)),60===r)l=a?[1317,10,29]:[1900,2,29],s=3;else if(0===r)l=a?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var i=new Date(1900,0,1);i.setDate(i.getDate()+r-1),l=[i.getFullYear(),i.getMonth()+1,i.getDate()],s=i.getDay(),r<60&&(s=(s+6)%7),a&&(s=function(e,t){t[0]-=581;var a=e.getDay();return e<60&&(a=(a+6)%7),a}(i,l))}return o.y=l[0],o.m=l[1],o.d=l[2],o.S=n%60,n=Math.floor(n/60),o.M=n%60,n=Math.floor(n/60),o.H=n,o.q=s,o}var Jde=new Date(1899,11,31,0,0,0),Zde=Jde.getTime(),ece=new Date(1900,2,1,0,0,0);function tce(e,t){var a=e.getTime();return t?a-=1262304e5:e>=ece&&(a+=864e5),(a-(Zde+6e4*(e.getTimezoneOffset()-Jde.getTimezoneOffset())))/864e5}function ace(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function rce(e){var t,a=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=a>=-4&&a<=-1?e.toPrecision(10+a):Math.abs(a)<=9?function(e){var t=e<0?12:11,a=ace(e.toFixed(12));return a.length<=t||(a=e.toPrecision(10)).length<=t?a:e.toExponential(5)}(e):10===a?e.toFixed(10).substr(0,12):function(e){var t=ace(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),ace(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function nce(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):rce(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return Sce(14,tce(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function sce(e,t,a,r){var n,s="",l=0,o=0,i=a.y,d=0;switch(e){case 98:i=a.y+543;case 121:switch(t.length){case 1:case 2:n=i%100,d=2;break;default:n=i%1e4,d=4}break;case 109:switch(t.length){case 1:case 2:n=a.m,d=t.length;break;case 3:return qde[a.m-1][1];case 5:return qde[a.m-1][0];default:return qde[a.m-1][2]}break;case 100:switch(t.length){case 1:case 2:n=a.d,d=t.length;break;case 3:return Yde[a.q][0];default:return Yde[a.q][1]}break;case 104:switch(t.length){case 1:case 2:n=1+(a.H+11)%12,d=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:n=a.H,d=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:n=a.M,d=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==a.u||"s"!=t&&"ss"!=t?(o=r>=2?3===r?1e3:100:1===r?10:1,(l=Math.round(o*(a.S+a.u)))>=60*o&&(l=0),"s"===t?0===l?"0":""+l/o:(s=$de(l,2+r),"ss"===t?s.substr(0,2):"."+s.substr(2,t.length-1))):$de(a.S,t.length);case 90:switch(t){case"[h]":case"[hh]":n=24*a.D+a.H;break;case"[m]":case"[mm]":n=60*(24*a.D+a.H)+a.M;break;case"[s]":case"[ss]":n=60*(60*(24*a.D+a.H)+a.M)+Math.round(a.S+a.u);break;default:throw"bad abstime format: "+t}d=3===t.length?1:2;break;case 101:n=i,d=1}return d>0?$de(n,d):""}function lce(e){if(e.length<=3)return e;for(var t=e.length%3,a=e.substr(0,t);t!=e.length;t+=3)a+=(a.length>0?",":"")+e.substr(t,3);return a}var oce=/%/g;function ice(e,t){var a,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+ice(e,-t);var n=e.indexOf(".");-1===n&&(n=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%n;if(s<0&&(s+=n),-1===(a=(t/Math.pow(10,s)).toPrecision(r+1+(n+s)%n)).indexOf("e")){var l=Math.floor(Math.log(t)*Math.LOG10E);for(-1===a.indexOf(".")?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+s):a+="E+"+(l-s);"0."===a.substr(0,2);)a=(a=a.charAt(0)+a.substr(2,n)+"."+a.substr(2+n)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,a,r){return t+a+r.substr(0,(n+s)%n)+"."+r.substr(s)+"E"}))}else a=t.toExponential(r);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}var dce=/# (\?+)( ?)\/( ?)(\d+)/,cce=/^#*0*\.([0#]+)/,uce=/\).*[0#]/,mce=/\(###\) ###\\?-####/;function hce(e){for(var t,a="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:a+=" ";break;case 48:a+="0";break;default:a+=String.fromCharCode(t)}return a}function fce(e,t){var a=Math.pow(10,t);return""+Math.round(e*a)/a}function pce(e,t){var a=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(a*r)).length?0:Math.round(a*r)}function xce(e,t,a){if(40===e.charCodeAt(0)&&!t.match(uce)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?xce("n",r,a):"("+xce("n",r,-a)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,a){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return vce(e,t.substr(0,r),a/Math.pow(10,3*(t.length-r)))}(e,t,a);if(-1!==t.indexOf("%"))return function(e,t,a){var r=t.replace(oce,""),n=t.length-r.length;return vce(e,r,a*Math.pow(10,2*n))+Xce("%",n)}(e,t,a);if(-1!==t.indexOf("E"))return ice(t,a);if(36===t.charCodeAt(0))return"$"+xce(e,t.substr(" "==t.charAt(1)?2:1),a);var n,s,l,o,i=Math.abs(a),d=a<0?"-":"";if(t.match(/^00+$/))return d+Hde(i,t.length);if(t.match(/^[#?]+$/))return"0"===(n=Hde(a,0))&&(n=""),n.length>t.length?n:hce(t.substr(0,t.length-n.length))+n;if(s=t.match(dce))return function(e,t,a){var r=parseInt(e[4],10),n=Math.round(t*r),s=Math.floor(n/r),l=n-s*r,o=r;return a+(0===s?"":""+s)+" "+(0===l?Xce(" ",e[1].length+1+e[4].length):Bde(l,e[1].length)+e[2]+"/"+e[3]+$de(o,e[4].length))}(s,i,d);if(t.match(/^#+0+$/))return d+Hde(i,t.length-t.indexOf("0"));if(s=t.match(cce))return n=fce(a,s[1].length).replace(/^([^\.]+)$/,"$1."+hce(s[1])).replace(/\.$/,"."+hce(s[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+Xce("0",hce(s[1]).length-t.length)})),-1!==t.indexOf("0.")?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+fce(i,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+lce(Hde(i,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+xce(e,t,-a):lce(""+(Math.floor(a)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(a,s[1].length)))+"."+$de(pce(a,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return xce(e,t.replace(/^#,#*,/,""),a);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Rde(xce(e,t.replace(/[\\-]/g,""),a)),l=0,Rde(Rde(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return l<n.length?n.charAt(l++):"0"===e?"0":""})));if(t.match(mce))return"("+(n=xce(e,"##########",a)).substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var c="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),o=Xde(i,Math.pow(10,l)-1,!1),n=""+d," "==(c=vce("n",s[1],o[1])).charAt(c.length-1)&&(c=c.substr(0,c.length-1)+"0"),n+=c+s[2]+"/"+s[3],(c=zde(o[2],l)).length<s[4].length&&(c=hce(s[4].substr(s[4].length-c.length))+c),n+=c;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),d+((o=Xde(i,Math.pow(10,l)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?Bde(o[1],l)+s[2]+"/"+s[3]+zde(o[2],l):Xce(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return n=Hde(a,0),t.length<=n.length?n:hce(t.substr(0,t.length-n.length))+n;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var u=t.indexOf(".")-l,m=t.length-n.length-u;return hce(t.substr(0,u)+n+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return l=pce(a,s[1].length),a<0?"-"+xce(e,t,-a):lce(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(a)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?$de(0,3-e.length):"")+e}))+"."+$de(l,s[1].length);switch(t){case"###,##0.00":return xce(e,"#,##0.00",a);case"###,###":case"##,###":case"#,###":var h=lce(Hde(i,0));return"0"!==h?d+h:"";case"###,###.00":return xce(e,"###,##0.00",a).replace(/^0\./,".");case"#,###.00":return xce(e,"#,##0.00",a).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function gce(e,t){var a,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+gce(e,-t);var n=e.indexOf(".");-1===n&&(n=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%n;if(s<0&&(s+=n),!(a=(t/Math.pow(10,s)).toPrecision(r+1+(n+s)%n)).match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);-1===a.indexOf(".")?a=a.charAt(0)+"."+a.substr(1)+"E+"+(l-a.length+s):a+="E+"+(l-s),a=a.replace(/\+-/,"-")}a=a.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,a,r){return t+a+r.substr(0,(n+s)%n)+"."+r.substr(s)+"E"}))}else a=t.toExponential(r);return e.match(/E\+00$/)&&a.match(/e[+-]\d$/)&&(a=a.substr(0,a.length-1)+"0"+a.charAt(a.length-1)),e.match(/E\-/)&&a.match(/e\+/)&&(a=a.replace(/e\+/,"e")),a.replace("e","E")}function bce(e,t,a){if(40===e.charCodeAt(0)&&!t.match(uce)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?bce("n",r,a):"("+bce("n",r,-a)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,a){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return vce(e,t.substr(0,r),a/Math.pow(10,3*(t.length-r)))}(e,t,a);if(-1!==t.indexOf("%"))return function(e,t,a){var r=t.replace(oce,""),n=t.length-r.length;return vce(e,r,a*Math.pow(10,2*n))+Xce("%",n)}(e,t,a);if(-1!==t.indexOf("E"))return gce(t,a);if(36===t.charCodeAt(0))return"$"+bce(e,t.substr(" "==t.charAt(1)?2:1),a);var n,s,l,o,i=Math.abs(a),d=a<0?"-":"";if(t.match(/^00+$/))return d+$de(i,t.length);if(t.match(/^[#?]+$/))return n=""+a,0===a&&(n=""),n.length>t.length?n:hce(t.substr(0,t.length-n.length))+n;if(s=t.match(dce))return function(e,t,a){return a+(0===t?"":""+t)+Xce(" ",e[1].length+2+e[4].length)}(s,i,d);if(t.match(/^#+0+$/))return d+$de(i,t.length-t.indexOf("0"));if(s=t.match(cce))return n=(n=(""+a).replace(/^([^\.]+)$/,"$1."+hce(s[1])).replace(/\.$/,"."+hce(s[1]))).replace(/\.(\d*)$/,(function(e,t){return"."+t+Xce("0",hce(s[1]).length-t.length)})),-1!==t.indexOf("0.")?n:n.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return d+(""+i).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return d+lce(""+i);if(s=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+bce(e,t,-a):lce(""+a)+"."+Xce("0",s[1].length);if(s=t.match(/^#,#*,#0/))return bce(e,t.replace(/^#,#*,/,""),a);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return n=Rde(bce(e,t.replace(/[\\-]/g,""),a)),l=0,Rde(Rde(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return l<n.length?n.charAt(l++):"0"===e?"0":""})));if(t.match(mce))return"("+(n=bce(e,"##########",a)).substr(0,3)+") "+n.substr(3,3)+"-"+n.substr(6);var c="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),o=Xde(i,Math.pow(10,l)-1,!1),n=""+d," "==(c=vce("n",s[1],o[1])).charAt(c.length-1)&&(c=c.substr(0,c.length-1)+"0"),n+=c+s[2]+"/"+s[3],(c=zde(o[2],l)).length<s[4].length&&(c=hce(s[4].substr(s[4].length-c.length))+c),n+=c;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),d+((o=Xde(i,Math.pow(10,l)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?Bde(o[1],l)+s[2]+"/"+s[3]+zde(o[2],l):Xce(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return n=""+a,t.length<=n.length?n:hce(t.substr(0,t.length-n.length))+n;if(s=t.match(/^([#0]+)\.([#0]+)$/)){n=""+a.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=n.indexOf(".");var u=t.indexOf(".")-l,m=t.length-n.length-u;return hce(t.substr(0,u)+n+t.substr(t.length-m))}if(s=t.match(/^00,000\.([#0]*0)$/))return a<0?"-"+bce(e,t,-a):lce(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?$de(0,3-e.length):"")+e}))+"."+$de(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=lce(""+i);return"0"!==h?d+h:"";default:if(t.match(/\.[0#?]*$/))return bce(e,t.slice(0,t.lastIndexOf(".")),a)+hce(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function vce(e,t,a){return(0|a)===a?bce(e,t,a):xce(e,t,a)}var yce=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function wce(e){for(var t=0,a="",r="";t<e.length;)switch(a=e.charAt(t)){case"G":Wde(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("/"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=a;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(yce))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(a=e.charAt(++t))>-1||"\\"==a&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===a;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var jce=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Nce(e,t){if(null==t)return!1;var a=parseFloat(t[2]);switch(t[1]){case"=":if(e==a)return!0;break;case">":if(e>a)return!0;break;case"<":if(e<a)return!0;break;case"<>":if(e!=a)return!0;break;case">=":if(e>=a)return!0;break;case"<=":if(e<=a)return!0}return!1}function _ce(e,t){var a=function(e){for(var t=[],a=!1,r=0,n=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:a=!a;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(n,r-n),n=r+1}if(t[t.length]=e.substr(n),!0===a)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=a.length,n=a[r-1].indexOf("@");if(r<4&&n>-1&&--r,a.length>4)throw new Error("cannot find right format for |"+a.join("|")+"|");if("number"!=typeof t)return[4,4===a.length||n>-1?a[a.length-1]:"@"];switch(a.length){case 1:a=n>-1?["General","General","General",a[0]]:[a[0],a[0],a[0],"@"];break;case 2:a=n>-1?[a[0],a[0],a[0],a[1]]:[a[0],a[1],a[0],"@"];break;case 3:a=n>-1?[a[0],a[1],a[0],a[2]]:[a[0],a[1],a[2],"@"]}var s=t>0?a[0]:t<0?a[1]:a[2];if(-1===a[0].indexOf("[")&&-1===a[1].indexOf("["))return[r,s];if(null!=a[0].match(/\[[=<>]/)||null!=a[1].match(/\[[=<>]/)){var l=a[0].match(jce),o=a[1].match(jce);return Nce(t,l)?[r,a[0]]:Nce(t,o)?[r,a[1]]:[r,a[null!=l&&null!=o?2:1]]}return[r,s]}function Sce(e,t,a){null==a&&(a={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&a.dateNF?a.dateNF:e;break;case"number":null==(r=14==e&&a.dateNF?a.dateNF:(null!=a.table?a.table:Vde)[e])&&(r=a.table&&a.table[Gde[e]]||Vde[Gde[e]]),null==r&&(r=Kde[e]||"General")}if(Wde(r,0))return nce(t,a);t instanceof Date&&(t=tce(t,a.date1904));var n=_ce(r,t);if(Wde(n[1]))return nce(t,a);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,a,r){for(var n,s,l,o=[],i="",d=0,c="",u="t",m="H";d<e.length;)switch(c=e.charAt(d)){case"G":if(!Wde(e,d))throw new Error("unrecognized character "+c+" in "+e);o[o.length]={t:"G",v:"General"},d+=7;break;case'"':for(i="";34!==(l=e.charCodeAt(++d))&&d<e.length;)i+=String.fromCharCode(l);o[o.length]={t:"t",v:i},++d;break;case"\\":var h=e.charAt(++d),f="("===h||")"===h?h:"t";o[o.length]={t:f,v:h},++d;break;case"_":o[o.length]={t:"t",v:" "},d+=2;break;case"@":o[o.length]={t:"T",v:t},++d;break;case"B":case"b":if("1"===e.charAt(d+1)||"2"===e.charAt(d+1)){if(null==n&&null==(n=Qde(t,a,"2"===e.charAt(d+1))))return"";o[o.length]={t:"X",v:e.substr(d,2)},u=c,d+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==n&&null==(n=Qde(t,a)))return"";for(i=c;++d<e.length&&e.charAt(d).toLowerCase()===c;)i+=c;"m"===c&&"h"===u.toLowerCase()&&(c="M"),"h"===c&&(c=m),o[o.length]={t:c,v:i},u=c;break;case"A":case"a":case"":var p={t:c,v:c};if(null==n&&(n=Qde(t,a)),"A/P"===e.substr(d,3).toUpperCase()?(null!=n&&(p.v=n.H>=12?"P":"A"),p.t="T",m="h",d+=3):"AM/PM"===e.substr(d,5).toUpperCase()?(null!=n&&(p.v=n.H>=12?"PM":"AM"),p.t="T",d+=5,m="h"):"/"===e.substr(d,5).toUpperCase()?(null!=n&&(p.v=n.H>=12?"":""),p.t="T",d+=5,m="h"):(p.t="t",++d),null==n&&"T"===p.t)return"";o[o.length]=p,u=c;break;case"[":for(i=c;"]"!==e.charAt(d++)&&d<e.length;)i+=e.charAt(d);if("]"!==i.slice(-1))throw'unterminated "[" block: |'+i+"|";if(i.match(yce)){if(null==n&&null==(n=Qde(t,a)))return"";o[o.length]={t:"Z",v:i.toLowerCase()},u=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",wce(e)||(o[o.length]={t:"t",v:i}));break;case".":if(null!=n){for(i=c;++d<e.length&&"0"===(c=e.charAt(d));)i+=c;o[o.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++d<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(d))>-1;)i+=c;o[o.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++d)===c;)i+=c;o[o.length]={t:c,v:i},u=c;break;case"*":++d," "!=e.charAt(d)&&"*"!=e.charAt(d)||++d;break;case"(":case")":o[o.length]={t:1===r?"t":c,v:c},++d;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;d<e.length&&"0123456789".indexOf(e.charAt(++d))>-1;)i+=e.charAt(d);o[o.length]={t:"D",v:i};break;case" ":o[o.length]={t:c,v:c},++d;break;case"$":o[o.length]={t:"t",v:"$"},++d;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c))throw new Error("unrecognized character "+c+" in "+e);o[o.length]={t:"t",v:c},++d}var x,g=0,b=0;for(d=o.length-1,u="t";d>=0;--d)switch(o[d].t){case"h":case"H":o[d].t=m,u="h",g<1&&(g=1);break;case"s":(x=o[d].v.match(/\.0+$/))&&(b=Math.max(b,x[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":u=o[d].t;break;case"m":"s"===u&&(o[d].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&o[d].v.match(/[Hh]/)&&(g=1),g<2&&o[d].v.match(/[Mm]/)&&(g=2),g<3&&o[d].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:n.u>=.5&&(n.u=0,++n.S),n.S>=60&&(n.S=0,++n.M),n.M>=60&&(n.M=0,++n.H);break;case 2:n.u>=.5&&(n.u=0,++n.S),n.S>=60&&(n.S=0,++n.M)}var v,y="";for(d=0;d<o.length;++d)switch(o[d].t){case"t":case"T":case" ":case"D":break;case"X":o[d].v="",o[d].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[d].v=sce(o[d].t.charCodeAt(0),o[d].v,n,b),o[d].t="t";break;case"n":case"?":for(v=d+1;null!=o[v]&&("?"===(c=o[v].t)||"D"===c||(" "===c||"t"===c)&&null!=o[v+1]&&("?"===o[v+1].t||"t"===o[v+1].t&&"/"===o[v+1].v)||"("===o[d].t&&(" "===c||"n"===c||")"===c)||"t"===c&&("/"===o[v].v||" "===o[v].v&&null!=o[v+1]&&"?"==o[v+1].t));)o[d].v+=o[v].v,o[v]={v:"",t:";"},++v;y+=o[d].v,d=v-1;break;case"G":o[d].t="t",o[d].v=nce(t,a)}var w,j,N="";if(y.length>0){40==y.charCodeAt(0)?(w=t<0&&45===y.charCodeAt(0)?-t:t,j=vce("n",y,w)):(j=vce("n",y,w=t<0&&r>1?-t:t),w<0&&o[0]&&"t"==o[0].t&&(j=j.substr(1),o[0].v="-"+o[0].v)),v=j.length-1;var _=o.length;for(d=0;d<o.length;++d)if(null!=o[d]&&"t"!=o[d].t&&o[d].v.indexOf(".")>-1){_=d;break}var S=o.length;if(_===o.length&&-1===j.indexOf("E")){for(d=o.length-1;d>=0;--d)null!=o[d]&&-1!=="n?".indexOf(o[d].t)&&(v>=o[d].v.length-1?(v-=o[d].v.length,o[d].v=j.substr(v+1,o[d].v.length)):v<0?o[d].v="":(o[d].v=j.substr(0,v+1),v=-1),o[d].t="t",S=d);v>=0&&S<o.length&&(o[S].v=j.substr(0,v+1)+o[S].v)}else if(_!==o.length&&-1===j.indexOf("E")){for(v=j.indexOf(".")-1,d=_;d>=0;--d)if(null!=o[d]&&-1!=="n?".indexOf(o[d].t)){for(s=o[d].v.indexOf(".")>-1&&d===_?o[d].v.indexOf(".")-1:o[d].v.length-1,N=o[d].v.substr(s+1);s>=0;--s)v>=0&&("0"===o[d].v.charAt(s)||"#"===o[d].v.charAt(s))&&(N=j.charAt(v--)+N);o[d].v=N,o[d].t="t",S=d}for(v>=0&&S<o.length&&(o[S].v=j.substr(0,v+1)+o[S].v),v=j.indexOf(".")+1,d=_;d<o.length;++d)if(null!=o[d]&&(-1!=="n?(".indexOf(o[d].t)||d===_)){for(s=o[d].v.indexOf(".")>-1&&d===_?o[d].v.indexOf(".")+1:0,N=o[d].v.substr(0,s);s<o[d].v.length;++s)v<j.length&&(N+=j.charAt(v++));o[d].v=N,o[d].t="t",S=d}}}for(d=0;d<o.length;++d)null!=o[d]&&"n?".indexOf(o[d].t)>-1&&(w=r>1&&t<0&&d>0&&"-"===o[d-1].v?-t:t,o[d].v=vce(o[d].t,o[d].v,w),o[d].t="t");var k="";for(d=0;d!==o.length;++d)null!=o[d]&&(k+=o[d].v);return k}(n[1],t,a,n[0])}function kce(e,t){if("number"!=typeof t){t=+t||-1;for(var a=0;a<392;++a)if(null!=Vde[a]){if(Vde[a]==e){t=a;break}}else t<0&&(t=a);t<0&&(t=391)}return Vde[t]=e,t}function Cce(e){for(var t=0;392!=t;++t)void 0!==e[t]&&kce(e[t],t)}function Ece(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',Vde=e}var Tce=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g,Oce=function(){var e={version:"1.2.0"},t=function(){for(var e=0,t=new Array(256),a=0;256!=a;++a)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=a)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[a]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),a=function(e){var t=0,a=0,r=0,n="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)n[r]=e[r];for(r=0;256!=r;++r)for(a=e[r],t=256+r;t<4096;t+=256)a=n[t]=a>>>8^e[255&a];var s=[];for(r=1;16!=r;++r)s[r-1]="undefined"!=typeof Int32Array?n.subarray(256*r,256*r+256):n.slice(256*r,256*r+256);return s}(t),r=a[0],n=a[1],s=a[2],l=a[3],o=a[4],i=a[5],d=a[6],c=a[7],u=a[8],m=a[9],h=a[10],f=a[11],p=a[12],x=a[13],g=a[14];return e.table=t,e.bstr=function(e,a){for(var r=~a,n=0,s=e.length;n<s;)r=r>>>8^t[255&(r^e.charCodeAt(n++))];return~r},e.buf=function(e,a){for(var b=~a,v=e.length-15,y=0;y<v;)b=g[e[y++]^255&b]^x[e[y++]^b>>8&255]^p[e[y++]^b>>16&255]^f[e[y++]^b>>>24]^h[e[y++]]^m[e[y++]]^u[e[y++]]^c[e[y++]]^d[e[y++]]^i[e[y++]]^o[e[y++]]^l[e[y++]]^s[e[y++]]^n[e[y++]]^r[e[y++]]^t[e[y++]];for(v+=15;y<v;)b=b>>>8^t[255&(b^e[y++])];return~b},e.str=function(e,a){for(var r=~a,n=0,s=e.length,l=0,o=0;n<s;)(l=e.charCodeAt(n++))<128?r=r>>>8^t[255&(r^l)]:l<2048?r=(r=r>>>8^t[255&(r^(192|l>>6&31))])>>>8^t[255&(r^(128|63&l))]:l>=55296&&l<57344?(l=64+(1023&l),o=1023&e.charCodeAt(n++),r=(r=(r=(r=r>>>8^t[255&(r^(240|l>>8&7))])>>>8^t[255&(r^(128|l>>2&63))])>>>8^t[255&(r^(128|o>>6&15|(3&l)<<4))])>>>8^t[255&(r^(128|63&o))]):r=(r=(r=r>>>8^t[255&(r^(224|l>>12&15))])>>>8^t[255&(r^(128|l>>6&63))])>>>8^t[255&(r^(128|63&l))];return~r},e}(),Dce=function(){var e,t={};function a(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:a(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function n(e,t){"string"==typeof t&&(t=new Date(t));var a=t.getHours();a=(a=a<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,a);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function s(e){vme(e,0);for(var t={},a=0;e.l<=e.length-4;){var r=e.read_shift(2),n=e.read_shift(2),s=e.l+n,l={};21589===r&&(1&(a=e.read_shift(1))&&(l.mtime=e.read_shift(4)),n>5&&(2&a&&(l.atime=e.read_shift(4)),4&a&&(l.ctime=e.read_shift(4))),l.mtime&&(l.mt=new Date(1e3*l.mtime))),e.l=s,t[r]=l}return t}function l(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return ne(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=j(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var a=t&&t.root||"",r=(Ede&&Buffer.isBuffer(e)?e.toString("binary"):j(e)).split("\r\n"),n=0,s="";for(n=0;n<r.length;++n)if(s=r[n],/^Content-Location:/i.test(s)&&(s=s.slice(s.indexOf("file")),a||(a=s.slice(0,s.lastIndexOf("/")+1)),s.slice(0,a.length)!=a))for(;a.length>0&&(a=(a=a.slice(0,a.length-1)).slice(0,a.lastIndexOf("/")+1),s.slice(0,a.length)!=a););var l=(r[1]||"").match(/boundary="(.*?)"/);if(!l)throw new Error("MAD cannot find boundary");var o="--"+(l[1]||""),i=[],d=[],c={FileIndex:i,FullPaths:d};m(c);var u,h=0;for(n=0;n<r.length;++n){var f=r[n];f!==o&&f!==o+"--"||(h++&&ce(c,r.slice(u,n),a),u=n)}return c}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var a,r,n,s,l,o,h=512,f=[],p=e.slice(0,512);vme(p,0);var x=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(b,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(p);switch(a=x[0]){case 3:h=512;break;case 4:h=4096;break;case 0:if(0==x[1])return ne(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+a)}512!==h&&vme(p=e.slice(0,h),28);var v=e.slice(0,h);!function(e,t){var a=9;switch(e.l+=2,a=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+a);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+a);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+a)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(p,a);var y=p.read_shift(4,"i");if(3===a&&0!==y)throw new Error("# Directory Sectors: Expected 0 saw "+y);p.l+=4,s=p.read_shift(4,"i"),p.l+=4,p.chk("00100000","Mini Stream Cutoff Size: "),l=p.read_shift(4,"i"),r=p.read_shift(4,"i"),o=p.read_shift(4,"i"),n=p.read_shift(4,"i");for(var w=-1,N=0;N<109&&!((w=p.read_shift(4,"i"))<0);++N)f[N]=w;var _=function(e,t){for(var a=Math.ceil(e.length/t)-1,r=[],n=1;n<a;++n)r[n-1]=e.slice(n*t,(n+1)*t);return r[a-1]=e.slice(a*t),r}(e,h);d(o,n,_,h,f);var S=function(e,t,a,r){var n=e.length,s=[],l=[],o=[],i=[],d=r-1,c=0,u=0,m=0,h=0;for(c=0;c<n;++c)if(o=[],(m=c+t)>=n&&(m-=n),!l[m]){i=[];var f=[];for(u=m;u>=0;){f[u]=!0,l[u]=!0,o[o.length]=u,i.push(e[u]);var p=a[Math.floor(4*u/r)];if(r<4+(h=4*u&d))throw new Error("FAT boundary crossed: "+u+" 4 "+r);if(!e[p])break;if(f[u=hme(e[p],h)])break}s[m]={nodes:o,data:Hue([i])}}return s}(_,s,f,h);S[s].name="!Directory",r>0&&l!==g&&(S[l].name="!MiniFAT"),S[f[0]].name="!FAT",S.fat_addrs=f,S.ssz=h;var k=[],C=[],E=[];!function(e,t,a,r,n,s,l,o){for(var d,m=0,h=r.length?2:0,f=t[e].data,p=0,x=0;p<f.length;p+=128){var b=f.slice(p,p+128);vme(b,64),x=b.read_shift(2),d=Yue(b,0,x-h),r.push(d);var v={name:d,type:b.read_shift(1),color:b.read_shift(1),L:b.read_shift(4,"i"),R:b.read_shift(4,"i"),C:b.read_shift(4,"i"),clsid:b.read_shift(16),state:b.read_shift(4,"i"),start:0,size:0};0!==b.read_shift(2)+b.read_shift(2)+b.read_shift(2)+b.read_shift(2)&&(v.ct=u(b,b.l-8)),0!==b.read_shift(2)+b.read_shift(2)+b.read_shift(2)+b.read_shift(2)&&(v.mt=u(b,b.l-8)),v.start=b.read_shift(4,"i"),v.size=b.read_shift(4,"i"),v.size<0&&v.start<0&&(v.size=v.type=0,v.start=g,v.name=""),5===v.type?(m=v.start,n>0&&m!==g&&(t[m].name="!StreamData")):v.size>=4096?(v.storage="fat",void 0===t[v.start]&&(t[v.start]=c(a,v.start,t.fat_addrs,t.ssz)),t[v.start].name=v.name,v.content=t[v.start].data.slice(0,v.size)):(v.storage="minifat",v.size<0?v.size=0:m!==g&&v.start!==g&&t[m]&&(v.content=i(v,t[m].data,(t[o]||{}).data))),v.content&&vme(v.content,0),s[d]=v,l.push(v)}}(s,S,_,k,r,{},C,l),function(e,t,a){for(var r=0,n=0,s=0,l=0,o=0,i=a.length,d=[],c=[];r<i;++r)d[r]=c[r]=r,t[r]=a[r];for(;o<c.length;++o)n=e[r=c[o]].L,s=e[r].R,l=e[r].C,d[r]===r&&(-1!==n&&d[n]!==n&&(d[r]=d[n]),-1!==s&&d[s]!==s&&(d[r]=d[s])),-1!==l&&(d[l]=r),-1!==n&&r!=d[r]&&(d[n]=d[r],c.lastIndexOf(n)<o&&c.push(n)),-1!==s&&r!=d[r]&&(d[s]=d[r],c.lastIndexOf(s)<o&&c.push(s));for(r=1;r<i;++r)d[r]===r&&(-1!==s&&d[s]!==s?d[r]=d[s]:-1!==n&&d[n]!==n&&(d[r]=d[n]));for(r=1;r<i;++r)if(0!==e[r].type){if((o=r)!=d[o])do{o=d[o],t[r]=t[o]+"/"+t[r]}while(0!==o&&-1!==d[o]&&o!=d[o]);d[r]=-1}for(t[0]+="/",r=1;r<i;++r)2!==e[r].type&&(t[r]+="/")}(C,E,k),k.shift();var T={FileIndex:C,FullPaths:E};return t&&t.raw&&(T.raw={header:v,sectors:_}),T}function i(e,t,a){for(var r=e.start,n=e.size,s=[],l=r;a&&n>0&&l>=0;)s.push(t.slice(l*x,l*x+x)),n-=x,l=hme(a,4*l);return 0===s.length?wme(0):Lde(s).slice(0,e.size)}function d(e,t,a,r,n){var s=g;if(e===g){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var l=a[e],o=(r>>>2)-1;if(!l)return;for(var i=0;i<o&&(s=hme(l,4*i))!==g;++i)n.push(s);d(hme(l,r-4),t-1,a,r,n)}}function c(e,t,a,r,n){var s=[],l=[];n||(n=[]);var o=r-1,i=0,d=0;for(i=t;i>=0;){n[i]=!0,s[s.length]=i,l.push(e[i]);var c=a[Math.floor(4*i/r)];if(r<4+(d=4*i&o))throw new Error("FAT boundary crossed: "+i+" 4 "+r);if(!e[c])break;i=hme(e[c],d)}return{nodes:s,data:Hue([l])}}function u(e,t){return new Date(1e3*(mme(e,t+4)/1e7*Math.pow(2,32)+mme(e,t)/1e7-11644473600))}function m(e,t){var a=t||{},r=a.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),a.CLSID&&(e.FileIndex[0].clsid=a.CLSID),function(e){var t="Sh33tJ5";if(!Dce.find(e,"/"+t)){var a=wme(4);a[0]=55,a[1]=a[3]=50,a[2]=54,e.FileIndex.push({name:t,type:2,content:a,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),h(e)}}(e)}function h(e,t){m(e);for(var n=!1,s=!1,l=e.FullPaths.length-1;l>=0;--l){var o=e.FileIndex[l];switch(o.type){case 0:s?n=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:s=!0,isNaN(o.R*o.L*o.C)&&(n=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(n=!0);break;default:n=!0}}if(n||t){var i=new Date(1987,1,19),d=0,c=Object.create?Object.create(null):{},u=[];for(l=0;l<e.FullPaths.length;++l)c[e.FullPaths[l]]=!0,0!==e.FileIndex[l].type&&u.push([e.FullPaths[l],e.FileIndex[l]]);for(l=0;l<u.length;++l){var h=a(u[l][0]);(s=c[h])||(u.push([h,{name:r(h).replace("/",""),type:1,clsid:y,ct:i,mt:i,content:null}]),c[h]=!0)}for(u.sort((function(e,t){return function(e,t){for(var a=e.split("/"),r=t.split("/"),n=0,s=0,l=Math.min(a.length,r.length);n<l;++n){if(s=a[n].length-r[n].length)return s;if(a[n]!=r[n])return a[n]<r[n]?-1:1}return a.length-r.length}(e[0],t[0])})),e.FullPaths=[],e.FileIndex=[],l=0;l<u.length;++l)e.FullPaths[l]=u[l][0],e.FileIndex[l]=u[l][1];for(l=0;l<u.length;++l){var f=e.FileIndex[l],p=e.FullPaths[l];if(f.name=r(p).replace("/",""),f.L=f.R=f.C=-(f.color=1),f.size=f.content?f.content.length:0,f.start=0,f.clsid=f.clsid||y,0===l)f.C=u.length>1?1:-1,f.size=0,f.type=5;else if("/"==p.slice(-1)){for(d=l+1;d<u.length&&a(e.FullPaths[d])!=p;++d);for(f.C=d>=u.length?-1:d,d=l+1;d<u.length&&a(e.FullPaths[d])!=a(p);++d);f.R=d>=u.length?-1:d,f.type=1}else a(e.FullPaths[l+1]||"")==a(p)&&(f.R=l+1),f.type=2}}}function f(e,t){var a=t||{};if("mad"==a.fileType)return function(e,t){for(var a=t||{},r=a.boundary||"SheetJS",n=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],s=e.FullPaths[0],l=s,o=e.FileIndex[0],i=1;i<e.FullPaths.length;++i)if(l=e.FullPaths[i].slice(s.length),(o=e.FileIndex[i]).size&&o.content&&"Sh33tJ5"!=l){l=l.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,(function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"})).replace(/[\u0080-\uFFFF]/g,(function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"}));for(var d=o.content,c=Ede&&Buffer.isBuffer(d)?d.toString("binary"):j(d),u=0,m=Math.min(1024,c.length),h=0,f=0;f<=m;++f)(h=c.charCodeAt(f))>=32&&h<128&&++u;var p=u>=4*m/5;n.push(r),n.push("Content-Location: "+(a.root||"file:///C:/SheetJS/")+l),n.push("Content-Transfer-Encoding: "+(p?"quoted-printable":"base64")),n.push("Content-Type: "+oe(o,l)),n.push(""),n.push(p?de(c):ie(c))}return n.push(r+"--\r\n"),n.join("\r\n")}(e,a);if(h(e),"zip"===a.fileType)return function(e,t){var a=t||{},r=[],s=[],l=wme(1),o=a.compression?8:0,i=0,d=0,c=0,u=0,m=0,h=e.FullPaths[0],f=h,p=e.FileIndex[0],x=[],g=0;for(d=1;d<e.FullPaths.length;++d)if(f=e.FullPaths[d].slice(h.length),(p=e.FileIndex[d]).size&&p.content&&"Sh33tJ5"!=f){var b=u,v=wme(f.length);for(c=0;c<f.length;++c)v.write_shift(1,127&f.charCodeAt(c));v=v.slice(0,v.l),x[m]=Oce.buf(p.content,0);var y=p.content;8==o&&(y=N(y)),(l=wme(30)).write_shift(4,67324752),l.write_shift(2,20),l.write_shift(2,i),l.write_shift(2,o),p.mt?n(l,p.mt):l.write_shift(4,0),l.write_shift(-4,x[m]),l.write_shift(4,y.length),l.write_shift(4,p.content.length),l.write_shift(2,v.length),l.write_shift(2,0),u+=l.length,r.push(l),u+=v.length,r.push(v),u+=y.length,r.push(y),(l=wme(46)).write_shift(4,33639248),l.write_shift(2,0),l.write_shift(2,20),l.write_shift(2,i),l.write_shift(2,o),l.write_shift(4,0),l.write_shift(-4,x[m]),l.write_shift(4,y.length),l.write_shift(4,p.content.length),l.write_shift(2,v.length),l.write_shift(2,0),l.write_shift(2,0),l.write_shift(2,0),l.write_shift(2,0),l.write_shift(4,0),l.write_shift(4,b),g+=l.l,s.push(l),g+=v.length,s.push(v),++m}return(l=wme(22)).write_shift(4,101010256),l.write_shift(2,0),l.write_shift(2,0),l.write_shift(2,m),l.write_shift(2,m),l.write_shift(4,g),l.write_shift(4,u),l.write_shift(2,0),Lde([Lde(r),Lde(s),l])}(e,a);var r=function(e){for(var t=0,a=0,r=0;r<e.FileIndex.length;++r){var n=e.FileIndex[r];if(n.content){var s=n.content.length;s>0&&(s<4096?t+=s+63>>6:a+=s+511>>9)}}for(var l=e.FullPaths.length+3>>2,o=t+127>>7,i=(t+7>>3)+a+l+o,d=i+127>>7,c=d<=109?0:Math.ceil((d-109)/127);i+d+c+127>>7>d;)c=++d<=109?0:Math.ceil((d-109)/127);var u=[1,c,d,o,l,a,t,0];return e.FileIndex[0].size=t<<6,u[7]=(e.FileIndex[0].start=u[0]+u[1]+u[2]+u[3]+u[4]+u[5])+(u[6]+7>>3),u}(e),s=wme(r[7]<<9),l=0,o=0;for(l=0;l<8;++l)s.write_shift(1,v[l]);for(l=0;l<8;++l)s.write_shift(2,0);for(s.write_shift(2,62),s.write_shift(2,3),s.write_shift(2,65534),s.write_shift(2,9),s.write_shift(2,6),l=0;l<3;++l)s.write_shift(2,0);for(s.write_shift(4,0),s.write_shift(4,r[2]),s.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),s.write_shift(4,0),s.write_shift(4,4096),s.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:g),s.write_shift(4,r[3]),s.write_shift(-4,r[1]?r[0]-1:g),s.write_shift(4,r[1]),l=0;l<109;++l)s.write_shift(-4,l<r[2]?r[1]+l:-1);if(r[1])for(o=0;o<r[1];++o){for(;l<236+127*o;++l)s.write_shift(-4,l<r[2]?r[1]+l:-1);s.write_shift(-4,o===r[1]-1?g:o+1)}var i=function(e){for(o+=e;l<o-1;++l)s.write_shift(-4,l+1);e&&(++l,s.write_shift(-4,g))};for(o=l=0,o+=r[1];l<o;++l)s.write_shift(-4,w.DIFSECT);for(o+=r[2];l<o;++l)s.write_shift(-4,w.FATSECT);i(r[3]),i(r[4]);for(var d=0,c=0,u=e.FileIndex[0];d<e.FileIndex.length;++d)(u=e.FileIndex[d]).content&&((c=u.content.length)<4096||(u.start=o,i(c+511>>9)));for(i(r[6]+7>>3);511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(o=l=0,d=0;d<e.FileIndex.length;++d)(u=e.FileIndex[d]).content&&(!(c=u.content.length)||c>=4096||(u.start=o,i(c+63>>6)));for(;511&s.l;)s.write_shift(-4,w.ENDOFCHAIN);for(l=0;l<r[4]<<2;++l){var m=e.FullPaths[l];if(m&&0!==m.length){u=e.FileIndex[l],0===l&&(u.start=u.size?u.start-1:g);var f=0===l&&a.root||u.name;if(c=2*(f.length+1),s.write_shift(64,f,"utf16le"),s.write_shift(2,c),s.write_shift(1,u.type),s.write_shift(1,u.color),s.write_shift(-4,u.L),s.write_shift(-4,u.R),s.write_shift(-4,u.C),u.clsid)s.write_shift(16,u.clsid,"hex");else for(d=0;d<4;++d)s.write_shift(4,0);s.write_shift(4,u.state||0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,0),s.write_shift(4,u.start),s.write_shift(4,u.size),s.write_shift(4,0)}else{for(d=0;d<17;++d)s.write_shift(4,0);for(d=0;d<3;++d)s.write_shift(4,-1);for(d=0;d<12;++d)s.write_shift(4,0)}}for(l=1;l<e.FileIndex.length;++l)if((u=e.FileIndex[l]).size>=4096)if(s.l=u.start+1<<9,Ede&&Buffer.isBuffer(u.content))u.content.copy(s,s.l,0,u.size),s.l+=u.size+511&-512;else{for(d=0;d<u.size;++d)s.write_shift(1,u.content[d]);for(;511&d;++d)s.write_shift(1,0)}for(l=1;l<e.FileIndex.length;++l)if((u=e.FileIndex[l]).size>0&&u.size<4096)if(Ede&&Buffer.isBuffer(u.content))u.content.copy(s,s.l,0,u.size),s.l+=u.size+63&-64;else{for(d=0;d<u.size;++d)s.write_shift(1,u.content[d]);for(;63&d;++d)s.write_shift(1,0)}if(Ede)s.l=s.length;else for(;s.l<s.length;)s.write_shift(1,0);return s}t.version="1.2.1";var p,x=64,g=-2,b="d0cf11e0a1b11ae1",v=[208,207,17,224,161,177,26,225],y="00000000000000000000000000000000",w={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:g,FREESECT:-1,HEADER_SIGNATURE:b,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function j(e){for(var t=new Array(e.length),a=0;a<e.length;++a)t[a]=String.fromCharCode(e[a]);return t.join("")}function N(e){return p?p.deflateRawSync(e):K(e)}for(var _,S,k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],T="undefined"!=typeof Uint8Array,O=T?new Uint8Array(256):[],D=0;D<256;++D)O[D]=(S=void 0,255&((S=139536&((_=D)<<1|_<<11)|558144&(_<<5|_<<15))>>16|S>>8|S));function A(e,t){var a=O[255&e];return t<=8?a>>>8-t:(a=a<<8|O[e>>8&255],t<=16?a>>>16-t:(a=a<<8|O[e>>16&255])>>>24-t)}function P(e,t){var a=7&t,r=t>>>3;return(e[r]|(a<=6?0:e[r+1]<<8))>>>a&3}function M(e,t){var a=7&t,r=t>>>3;return(e[r]|(a<=5?0:e[r+1]<<8))>>>a&7}function L(e,t){var a=7&t,r=t>>>3;return(e[r]|(a<=3?0:e[r+1]<<8))>>>a&31}function I(e,t){var a=7&t,r=t>>>3;return(e[r]|(a<=1?0:e[r+1]<<8))>>>a&127}function F(e,t,a){var r=7&t,n=t>>>3,s=(1<<a)-1,l=e[n]>>>r;return a<8-r?l&s:(l|=e[n+1]<<8-r,a<16-r?l&s:(l|=e[n+2]<<16-r,a<24-r?l&s:(l|=e[n+3]<<24-r)&s))}function R(e,t,a){var r=7&t,n=t>>>3;return r<=5?e[n]|=(7&a)<<r:(e[n]|=a<<r&255,e[n+1]=(7&a)>>8-r),t+3}function $(e,t,a){return a=(1&a)<<(7&t),e[t>>>3]|=a,t+1}function B(e,t,a){var r=t>>>3;return a<<=7&t,e[r]|=255&a,a>>>=8,e[r+1]=a,t+8}function z(e,t,a){var r=t>>>3;return a<<=7&t,e[r]|=255&a,a>>>=8,e[r+1]=255&a,e[r+2]=a>>>8,t+16}function U(e,t){var a=e.length,r=2*a>t?2*a:t+5,n=0;if(a>=t)return e;if(Ede){var s=Dde(r);if(e.copy)e.copy(s);else for(;n<e.length;++n)s[n]=e[n];return s}if(T){var l=new Uint8Array(r);if(l.set)l.set(e);else for(;n<a;++n)l[n]=e[n];return l}return e.length=r,e}function H(e){for(var t=new Array(e),a=0;a<e;++a)t[a]=0;return t}function W(e,t,a){var r=1,n=0,s=0,l=0,o=0,i=e.length,d=T?new Uint16Array(32):H(32);for(s=0;s<32;++s)d[s]=0;for(s=i;s<a;++s)e[s]=0;i=e.length;var c=T?new Uint16Array(i):H(i);for(s=0;s<i;++s)d[n=e[s]]++,r<n&&(r=n),c[s]=0;for(d[0]=0,s=1;s<=r;++s)d[s+16]=o=o+d[s-1]<<1;for(s=0;s<i;++s)0!=(o=e[s])&&(c[s]=d[o+16]++);var u=0;for(s=0;s<i;++s)if(0!=(u=e[s]))for(o=A(c[s],r)>>r-u,l=(1<<r+4-u)-1;l>=0;--l)t[o|l<<u]=15&u|s<<4;return r}var Y=T?new Uint16Array(512):H(512),q=T?new Uint16Array(32):H(32);if(!T){for(var V=0;V<512;++V)Y[V]=0;for(V=0;V<32;++V)q[V]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);W(e,q,32);var a=[];for(t=0;t<=143;t++)a.push(8);for(;t<=255;t++)a.push(9);for(;t<=279;t++)a.push(7);for(;t<=287;t++)a.push(8);W(a,Y,288)}();var G=function(){for(var e=T?new Uint8Array(32768):[],t=0,a=0;t<E.length-1;++t)for(;a<E[t+1];++a)e[a]=t;for(;a<32768;++a)e[a]=29;var r=T?new Uint8Array(259):[];for(t=0,a=0;t<C.length-1;++t)for(;a<C[t+1];++a)r[a]=t;return function(t,a){return t.length<8?function(e,t){for(var a=0;a<e.length;){var r=Math.min(65535,e.length-a),n=a+r==e.length;for(t.write_shift(1,+n),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[a++]}return t.l}(t,a):function(t,a){for(var n=0,s=0,l=T?new Uint16Array(32768):[];s<t.length;){var o=Math.min(65535,t.length-s);if(o<10){for(7&(n=R(a,n,+!(s+o!=t.length)))&&(n+=8-(7&n)),a.l=n/8|0,a.write_shift(2,o),a.write_shift(2,65535&~o);o-- >0;)a[a.l++]=t[s++];n=8*a.l}else{n=R(a,n,+!(s+o!=t.length)+2);for(var i=0;o-- >0;){var d=t[s],c=-1,u=0;if((c=l[i=32767&(i<<5^d)])&&((c|=-32768&s)>s&&(c-=32768),c<s))for(;t[c+u]==t[s+u]&&u<250;)++u;if(u>2){(d=r[u])<=22?n=B(a,n,O[d+1]>>1)-1:(B(a,n,3),B(a,n+=5,O[d-23]>>5),n+=3);var m=d<8?0:d-4>>2;m>0&&(z(a,n,u-C[d]),n+=m),d=e[s-c],n=B(a,n,O[d]>>3),n-=3;var h=d<4?0:d-2>>1;h>0&&(z(a,n,s-c-E[d]),n+=h);for(var f=0;f<u;++f)l[i]=32767&s,i=32767&(i<<5^t[s]),++s;o-=u-1}else d<=143?d+=48:n=$(a,n,1),n=B(a,n,O[d]),l[i]=32767&s,++s}n=B(a,n,0)-1}}return a.l=(n+7)/8|0,a.l}(t,a)}}();function K(e){var t=wme(50+Math.floor(1.1*e.length)),a=G(e,t);return t.slice(0,a)}var X=T?new Uint16Array(32768):H(32768),Q=T?new Uint16Array(32768):H(32768),J=T?new Uint16Array(128):H(128),Z=1,ee=1;function te(e,t){var a=L(e,t)+257,r=L(e,t+=5)+1,n=function(e,t){var a=7&t,r=t>>>3;return(e[r]|(a<=4?0:e[r+1]<<8))>>>a&15}(e,t+=5)+4;t+=4;for(var s=0,l=T?new Uint8Array(19):H(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=1,d=T?new Uint8Array(8):H(8),c=T?new Uint8Array(8):H(8),u=l.length,m=0;m<n;++m)l[k[m]]=s=M(e,t),i<s&&(i=s),d[s]++,t+=3;var h=0;for(d[0]=0,m=1;m<=i;++m)c[m]=h=h+d[m-1]<<1;for(m=0;m<u;++m)0!=(h=l[m])&&(o[m]=c[h]++);var f=0;for(m=0;m<u;++m)if(0!=(f=l[m])){h=O[o[m]]>>8-f;for(var p=(1<<7-f)-1;p>=0;--p)J[h|p<<f]=7&f|m<<3}var x=[];for(i=1;x.length<a+r;)switch(t+=7&(h=J[I(e,t)]),h>>>=3){case 16:for(s=3+P(e,t),t+=2,h=x[x.length-1];s-- >0;)x.push(h);break;case 17:for(s=3+M(e,t),t+=3;s-- >0;)x.push(0);break;case 18:for(s=11+I(e,t),t+=7;s-- >0;)x.push(0);break;default:x.push(h),i<h&&(i=h)}var g=x.slice(0,a),b=x.slice(a);for(m=a;m<286;++m)g[m]=0;for(m=r;m<30;++m)b[m]=0;return Z=W(g,X,286),ee=W(b,Q,30),t}function ae(e,t){var a=function(e,t){if(3==e[0]&&!(3&e[1]))return[Ode(t),2];for(var a=0,r=0,n=Dde(t||1<<18),s=0,l=n.length>>>0,o=0,i=0;!(1&r);)if(r=M(e,a),a+=3,r>>>1!=0)for(r>>1==1?(o=9,i=5):(a=te(e,a),o=Z,i=ee);;){!t&&l<s+32767&&(l=(n=U(n,s+32767)).length);var d=F(e,a,o),c=r>>>1==1?Y[d]:X[d];if(a+=15&c,(c>>>=4)>>>8&255){if(256==c)break;var u=(c-=257)<8?0:c-4>>2;u>5&&(u=0);var m=s+C[c];u>0&&(m+=F(e,a,u),a+=u),d=F(e,a,i),a+=15&(c=r>>>1==1?q[d]:Q[d]);var h=(c>>>=4)<4?0:c-2>>1,f=E[c];for(h>0&&(f+=F(e,a,h),a+=h),!t&&l<m&&(l=(n=U(n,m+100)).length);s<m;)n[s]=n[s-f],++s}else n[s++]=c}else{7&a&&(a+=8-(7&a));var p=e[a>>>3]|e[1+(a>>>3)]<<8;if(a+=32,p>0)for(!t&&l<s+p&&(l=(n=U(n,s+p)).length);p-- >0;)n[s++]=e[a>>>3],a+=8}return t?[n,a+7>>>3]:[n.slice(0,s),a+7>>>3]}(e.slice(e.l||0),t);return e.l+=a[1],a[0]}function re(e,t){if(!e)throw new Error(t);"undefined"!=typeof console&&console.error(t)}function ne(e,t){var a=e;vme(a,0);var r={FileIndex:[],FullPaths:[]};m(r,{root:t.root});for(var n=a.length-4;(80!=a[n]||75!=a[n+1]||5!=a[n+2]||6!=a[n+3])&&n>=0;)--n;a.l=n+4,a.l+=4;var l=a.read_shift(2);a.l+=6;var o=a.read_shift(4);for(a.l=o,n=0;n<l;++n){a.l+=20;var i=a.read_shift(4),d=a.read_shift(4),c=a.read_shift(2),u=a.read_shift(2),h=a.read_shift(2);a.l+=8;var f=a.read_shift(4),p=s(a.slice(a.l+c,a.l+c+u));a.l+=c+u+h;var x=a.l;a.l=f+4,se(a,i,d,r,p),a.l=x}return r}function se(e,t,a,r,n){e.l+=2;var l=e.read_shift(2),o=e.read_shift(2),i=function(e){var t=65535&e.read_shift(2),a=65535&e.read_shift(2),r=new Date,n=31&a,s=15&(a>>>=5);a>>>=4,r.setMilliseconds(0),r.setFullYear(a+1980),r.setMonth(s-1),r.setDate(n);var l=31&t,o=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(o),r.setSeconds(l<<1),r}(e);if(8257&l)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var d=e.read_shift(4),c=e.read_shift(4),u=e.read_shift(2),m=e.read_shift(2),h="",f=0;f<u;++f)h+=String.fromCharCode(e[e.l++]);if(m){var x=s(e.slice(e.l,e.l+m));(x[21589]||{}).mt&&(i=x[21589].mt),((n||{})[21589]||{}).mt&&(i=n[21589].mt)}e.l+=m;var g=e.slice(e.l,e.l+d);switch(o){case 8:g=function(e,t){if(!p)return ae(e,t);var a=new(0,p.InflateRaw),r=a._processChunk(e.slice(e.l),a._finishFlushFlag);return e.l+=a.bytesRead,r}(e,c);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var b=!1;8&l&&(134695760==e.read_shift(4)&&(e.read_shift(4),b=!0),d=e.read_shift(4),c=e.read_shift(4)),d!=t&&re(b,"Bad compressed size: "+t+" != "+d),c!=a&&re(b,"Bad uncompressed size: "+a+" != "+c),ue(r,h,g,{unsafe:!0,mt:i})}var le={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function oe(e,t){if(e.ctype)return e.ctype;var a=e.name||"",r=a.match(/\.([^\.]+)$/);return r&&le[r[1]]||t&&(r=(a=t).match(/[\.\\]([^\.\\])+$/))&&le[r[1]]?le[r[1]]:"application/octet-stream"}function ie(e){for(var t=kde(e),a=[],r=0;r<t.length;r+=76)a.push(t.slice(r,r+76));return a.join("\r\n")+"\r\n"}function de(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)}));"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var a=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),n=0;n<r.length;++n){var s=r[n];if(0!=s.length)for(var l=0;l<s.length;){var o=76,i=s.slice(l,l+o);"="==i.charAt(o-1)?o--:"="==i.charAt(o-2)?o-=2:"="==i.charAt(o-3)&&(o-=3),i=s.slice(l,l+o),(l+=o)<s.length&&(i+="="),a.push(i)}else a.push("")}return a.join("\r\n")}function ce(e,t,a){for(var r,n="",s="",l="",o=0;o<10;++o){var i=t[o];if(!i||i.match(/^\s*$/))break;var d=i.match(/^(.*?):\s*([^\s].*)$/);if(d)switch(d[1].toLowerCase()){case"content-location":n=d[2].trim();break;case"content-type":l=d[2].trim();break;case"content-transfer-encoding":s=d[2].trim()}}switch(++o,s.toLowerCase()){case"base64":r=Ade(Cde(t.slice(o).join("")));break;case"quoted-printable":r=function(e){for(var t=[],a=0;a<e.length;++a){for(var r=e[a];a<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++a];t.push(r)}for(var n=0;n<t.length;++n)t[n]=t[n].replace(/[=][0-9A-Fa-f]{2}/g,(function(e){return String.fromCharCode(parseInt(e.slice(1),16))}));return Ade(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+s)}var c=ue(e,n.slice(a.length),r,{unsafe:!0});l&&(c.ctype=l)}function ue(e,t,a,n){var s=n&&n.unsafe;s||m(e);var l=!s&&Dce.find(e,t);if(!l){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),l={name:r(t),type:2},e.FileIndex.push(l),e.FullPaths.push(o),s||Dce.utils.cfb_gc(e)}return l.content=a,l.size=a?a.length:0,n&&(n.CLSID&&(l.clsid=n.CLSID),n.mt&&(l.mt=n.mt),n.ct&&(l.ct=n.ct)),l}return t.find=function(e,t){var a=e.FullPaths.map((function(e){return e.toUpperCase()})),r=a.map((function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]})),n=!1;47===t.charCodeAt(0)?(n=!0,t=a[0].slice(0,-1)+t):n=-1!==t.indexOf("/");var s=t.toUpperCase(),l=!0===n?a.indexOf(s):r.indexOf(s);if(-1!==l)return e.FileIndex[l];var o=!s.match(Fde);for(s=s.replace(Ide,""),o&&(s=s.replace(Fde,"!")),l=0;l<a.length;++l){if((o?a[l].replace(Fde,"!"):a[l]).replace(Ide,"")==s)return e.FileIndex[l];if((o?r[l].replace(Fde,"!"):r[l]).replace(Ide,"")==s)return e.FileIndex[l]}return null},t.read=function(t,a){var r=a&&a.type;switch(r||Ede&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,a){return l(),o(e.readFileSync(t),a)}(t,a);case"base64":return o(Ade(Cde(t)),a);case"binary":return o(Ade(t),a)}return o(t,a)},t.parse=o,t.write=function(t,a){var r=f(t,a);switch(a&&a.type||"buffer"){case"file":return l(),e.writeFileSync(a.filename,r),r;case"binary":return"string"==typeof r?r:j(r);case"base64":return kde("string"==typeof r?r:j(r));case"buffer":if(Ede)return Buffer.isBuffer(r)?r:Tde(r);case"array":return"string"==typeof r?Ade(r):r}return r},t.writeFile=function(t,a,r){l();var n=f(t,r);e.writeFileSync(a,n)},t.utils={cfb_new:function(e){var t={};return m(t,e),t},cfb_add:ue,cfb_del:function(e,t){m(e);var a=Dce.find(e,t);if(a)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==a)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,a){m(e);var n=Dce.find(e,t);if(n)for(var s=0;s<e.FileIndex.length;++s)if(e.FileIndex[s]==n)return e.FileIndex[s].name=r(a),e.FullPaths[s]=a,!0;return!1},cfb_gc:function(e){h(e,!0)},ReadShift:pme,CheckField:bme,prep_blob:vme,bconcat:Lde,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");p=e}catch(mMe){console.error("cannot use native zlib: "+(mMe.message||mMe))}},_deflateRaw:K,_inflateRaw:ae,consts:w},t}();function Ace(e){return"string"==typeof e?Pde(e):Array.isArray(e)?function(e){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function Pce(e,t,a){if("undefined"!=typeof Deno){if(a&&"string"==typeof t)switch(a){case"utf8":t=new TextEncoder(a).encode(t);break;case"binary":t=Pde(t);break;default:throw new Error("Unsupported encoding "+a)}return Deno.writeFileSync(e,t)}var r="utf8"==a?fue(t):t;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!=typeof Blob){var n=new Blob([Ace(r)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(n,e);if("undefined"!=typeof saveAs)return saveAs(n,e);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(n);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(s)}),6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var l=document.createElement("a");if(null!=l.download)return l.download=e,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout((function(){URL.revokeObjectURL(s)}),6e4),s}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Mde(t)),o.write(t),o.close(),t}catch(mMe){if(!mMe.message||!mMe.message.match(/onstruct/))throw mMe}throw new Error("cannot save file "+e)}function Mce(e){for(var t=Object.keys(e),a=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&a.push(t[r]);return a}function Lce(e,t){for(var a=[],r=Mce(e),n=0;n!==r.length;++n)null==a[e[r[n]][t]]&&(a[e[r[n]][t]]=r[n]);return a}function Ice(e){for(var t=[],a=Mce(e),r=0;r!==a.length;++r)t[e[a[r]]]=a[r];return t}function Fce(e){for(var t=[],a=Mce(e),r=0;r!==a.length;++r)t[e[a[r]]]=parseInt(a[r],10);return t}var Rce=new Date(1899,11,30,0,0,0);function $ce(e,t){return(e.getTime()-(Rce.getTime()+6e4*(e.getTimezoneOffset()-Rce.getTimezoneOffset())))/864e5}var Bce=new Date,zce=Rce.getTime()+6e4*(Bce.getTimezoneOffset()-Rce.getTimezoneOffset()),Uce=Bce.getTimezoneOffset();function Hce(e){var t=new Date;return t.setTime(24*e*60*60*1e3+zce),t.getTimezoneOffset()!==Uce&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-Uce)),t}var Wce=new Date("2017-02-19T19:06:09.000Z"),Yce=isNaN(Wce.getFullYear())?new Date("2/19/17"):Wce,qce=2017==Yce.getFullYear();function Vce(e,t){var a=new Date(e);if(qce)return t>0?a.setTime(a.getTime()+60*a.getTimezoneOffset()*1e3):t<0&&a.setTime(a.getTime()-60*a.getTimezoneOffset()*1e3),a;if(e instanceof Date)return e;if(1917==Yce.getFullYear()&&!isNaN(a.getFullYear())){var r=a.getFullYear();return e.indexOf(""+r)>-1||a.setFullYear(a.getFullYear()+100),a}var n=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+n[0],+n[1]-1,+n[2],+n[3]||0,+n[4]||0,+n[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-60*s.getTimezoneOffset()*1e3)),s}function Gce(e,t){if(Ede&&Buffer.isBuffer(e))return e.toString("binary");if("undefined"!=typeof TextDecoder)try{var a={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,(function(e){return a[e]||e}))}catch(mMe){}for(var r=[],n=0;n!=e.length;++n)r.push(String.fromCharCode(e[n]));return r.join("")}function Kce(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=Kce(e[a]));return t}function Xce(e,t){for(var a="";a.length<t;)a+=e;return a}function Qce(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var a=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,(function(){return a*=100,""}));return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,(function(e,t){return a=-a,t})),isNaN(t=Number(r))?t:t/a):t/a}var Jce=["january","february","march","april","may","june","july","august","september","october","november","december"];function Zce(e){var t=new Date(e),a=new Date(NaN),r=t.getYear(),n=t.getMonth(),s=t.getDate();if(isNaN(s))return a;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Jce.indexOf(l))return a}else if(l.match(/[a-z]/))return a;return r<0||r>8099?a:(n>0||s>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?a:t}function eue(e,t,a){if(e.FullPaths){var r;if("string"==typeof a)return r=Ede?Tde(a):function(e){for(var t=[],a=0,r=e.length+250,n=Ode(e.length+255),s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l<128)n[a++]=l;else if(l<2048)n[a++]=192|l>>6&31,n[a++]=128|63&l;else if(l>=55296&&l<57344){l=64+(1023&l);var o=1023&e.charCodeAt(++s);n[a++]=240|l>>8&7,n[a++]=128|l>>2&63,n[a++]=128|o>>6&15|(3&l)<<4,n[a++]=128|63&o}else n[a++]=224|l>>12&15,n[a++]=128|l>>6&63,n[a++]=128|63&l;a>r&&(t.push(n.slice(0,a)),a=0,n=Ode(65535),r=65530)}return t.push(n.slice(0,a)),Lde(t)}(a),Dce.utils.cfb_add(e,t,r);Dce.utils.cfb_add(e,t,a)}else e.file(t,a)}function tue(){return Dce.utils.cfb_new()}var aue='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',rue=Ice({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),nue=/[&<>'"]/g,sue=/[\u0000-\u0008\u000b-\u001f]/g;function lue(e){return(e+"").replace(nue,(function(e){return rue[e]})).replace(sue,(function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"}))}function oue(e){return lue(e).replace(/ /g,"_x0020_")}var iue=/[\u0000-\u001f]/g;function due(e){for(var t="",a=0,r=0,n=0,s=0,l=0,o=0;a<e.length;)(r=e.charCodeAt(a++))<128?t+=String.fromCharCode(r):(n=e.charCodeAt(a++),r>191&&r<224?(l=(31&r)<<6,l|=63&n,t+=String.fromCharCode(l)):(s=e.charCodeAt(a++),r<240?t+=String.fromCharCode((15&r)<<12|(63&n)<<6|63&s):(o=((7&r)<<18|(63&n)<<12|(63&s)<<6|63&(l=e.charCodeAt(a++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function cue(e){var t,a,r,n=Ode(2*e.length),s=1,l=0,o=0;for(a=0;a<e.length;a+=s)s=1,(r=e.charCodeAt(a))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(a+1)),s=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(a+1))+(63&e.charCodeAt(a+2)),s=3):(s=4,t=262144*(7&r)+4096*(63&e.charCodeAt(a+1))+64*(63&e.charCodeAt(a+2))+(63&e.charCodeAt(a+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(n[l++]=255&o,n[l++]=o>>>8,o=0),n[l++]=t%256,n[l++]=t>>>8;return n.slice(0,l).toString("ucs2")}function uue(e){return Tde(e,"binary").toString("utf8")}var mue="foo bar baz",hue=Ede&&(uue(mue)==due(mue)&&uue||cue(mue)==due(mue)&&cue)||due,fue=Ede?function(e){return Tde(e,"utf8").toString("binary")}:function(e){for(var t=[],a=0,r=0,n=0;a<e.length;)switch(r=e.charCodeAt(a++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,n=e.charCodeAt(a++)-56320+(r<<10),t.push(String.fromCharCode(240+(n>>18&7))),t.push(String.fromCharCode(144+(n>>12&63))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},pue=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map((function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]}));return function(t){for(var a=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)a=a.replace(e[r][0],e[r][1]);return a}}(),xue=/(^\s|\s$|\n)/;function gue(e,t){return"<"+e+(t.match(xue)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function bue(e){return Mce(e).map((function(t){return" "+t+'="'+e[t]+'"'})).join("")}function vue(e,t,a){return"<"+e+(null!=a?bue(a):"")+(null!=t?(t.match(xue)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function yue(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(mMe){if(t)throw mMe}return""}var wue="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",jue="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",Nue="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",_ue="http://schemas.openxmlformats.org/package/2006/content-types",Sue="http://schemas.openxmlformats.org/package/2006/relationships",kue="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Cue="http://purl.org/dc/elements/1.1/",Eue="http://purl.org/dc/terms/",Tue="http://purl.org/dc/dcmitype/",Oue="http://schemas.openxmlformats.org/officeDocument/2006/relationships",Due="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",Aue="http://www.w3.org/2001/XMLSchema-instance",Pue="http://www.w3.org/2001/XMLSchema",Mue=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Lue="urn:schemas-microsoft-com:office:office",Iue="urn:schemas-microsoft-com:office:excel",Fue="urn:schemas-microsoft-com:office:spreadsheet",Rue="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",$ue="http://macVmlSchemaUri",Bue="urn:schemas-microsoft-com:vml",zue="http://www.w3.org/TR/REC-html40",Uue=function(e){for(var t=[],a=0;a<e[0].length;++a)if(e[0][a])for(var r=0,n=e[0][a].length;r<n;r+=10240)t.push.apply(t,e[0][a].slice(r,r+10240));return t},Hue=Ede?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map((function(e){return Buffer.isBuffer(e)?e:Tde(e)}))):Uue(e)}:Uue,Wue=function(e,t,a){for(var r=[],n=t;n<a;n+=2)r.push(String.fromCharCode(cme(e,n)));return r.join("").replace(Ide,"")},Yue=Ede?function(e,t,a){return Buffer.isBuffer(e)?e.toString("utf16le",t,a).replace(Ide,""):Wue(e,t,a)}:Wue,que=function(e,t,a){for(var r=[],n=t;n<t+a;++n)r.push(("0"+e[n].toString(16)).slice(-2));return r.join("")},Vue=Ede?function(e,t,a){return Buffer.isBuffer(e)?e.toString("hex",t,t+a):que(e,t,a)}:que,Gue=function(e,t,a){for(var r=[],n=t;n<a;n++)r.push(String.fromCharCode(dme(e,n)));return r.join("")},Kue=Ede?function(e,t,a){return Buffer.isBuffer(e)?e.toString("utf8",t,a):Gue(e,t,a)}:Gue,Xue=function(e,t){var a=mme(e,t);return a>0?Kue(e,t+4,t+4+a-1):""},Que=Xue,Jue=function(e,t){var a=mme(e,t);return a>0?Kue(e,t+4,t+4+a-1):""},Zue=Jue,eme=function(e,t){var a=2*mme(e,t);return a>0?Kue(e,t+4,t+4+a-1):""},tme=eme,ame=function(e,t){var a=mme(e,t);return a>0?Yue(e,t+4,t+4+a):""},rme=ame,nme=function(e,t){var a=mme(e,t);return a>0?Kue(e,t+4,t+4+a):""},sme=nme,lme=function(e,t){return function(e,t){for(var a=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),n=15&e[t+6],s=5;s>=0;--s)n=256*n+e[t+s];return 2047==r?0==n?a*(1/0):NaN:(0==r?r=-1022:(r-=1023,n+=Math.pow(2,52)),a*Math.pow(2,r-52)*n)}(e,t)},ome=lme,ime=function(e){return Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array};Ede&&(Que=function(e,t){if(!Buffer.isBuffer(e))return Xue(e,t);var a=e.readUInt32LE(t);return a>0?e.toString("utf8",t+4,t+4+a-1):""},Zue=function(e,t){if(!Buffer.isBuffer(e))return Jue(e,t);var a=e.readUInt32LE(t);return a>0?e.toString("utf8",t+4,t+4+a-1):""},tme=function(e,t){if(!Buffer.isBuffer(e))return eme(e,t);var a=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+a-1)},rme=function(e,t){if(!Buffer.isBuffer(e))return ame(e,t);var a=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+a)},sme=function(e,t){if(!Buffer.isBuffer(e))return nme(e,t);var a=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+a)},ome=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):lme(e,t)},ime=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array});var dme=function(e,t){return e[t]},cme=function(e,t){return 256*e[t+1]+e[t]},ume=function(e,t){var a=256*e[t+1]+e[t];return a<32768?a:-1*(65535-a+1)},mme=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},hme=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},fme=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function pme(e,t){var a,r,n,s,l,o,i="",d=[];switch(t){case"dbcs":if(o=this.l,Ede&&Buffer.isBuffer(this))i=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)i+=String.fromCharCode(cme(this,o)),o+=2;e*=2;break;case"utf8":i=Kue(this,this.l,this.l+e);break;case"utf16le":e*=2,i=Yue(this,this.l,this.l+e);break;case"wstr":return pme.call(this,e,"dbcs");case"lpstr-ansi":i=Que(this,this.l),e=4+mme(this,this.l);break;case"lpstr-cp":i=Zue(this,this.l),e=4+mme(this,this.l);break;case"lpwstr":i=tme(this,this.l),e=4+2*mme(this,this.l);break;case"lpp4":e=4+mme(this,this.l),i=rme(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+mme(this,this.l),i=sme(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,i="";0!==(n=dme(this,this.l+e++));)d.push(Nde(n));i=d.join("");break;case"_wstr":for(e=0,i="";0!==(n=cme(this,this.l+e));)d.push(Nde(n)),e+=2;e+=2,i=d.join("");break;case"dbcs-cont":for(i="",o=this.l,l=0;l<e;++l){if(this.lens&&-1!==this.lens.indexOf(o))return n=dme(this,o),this.l=o+1,s=pme.call(this,e-l,n?"dbcs-cont":"sbcs-cont"),d.join("")+s;d.push(Nde(cme(this,o))),o+=2}i=d.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(i="",o=this.l,l=0;l!=e;++l){if(this.lens&&-1!==this.lens.indexOf(o))return n=dme(this,o),this.l=o+1,s=pme.call(this,e-l,n?"dbcs-cont":"sbcs-cont"),d.join("")+s;d.push(Nde(dme(this,o))),o+=1}i=d.join("");break;default:switch(e){case 1:return a=dme(this,this.l),this.l++,a;case 2:return a=("i"===t?ume:cme)(this,this.l),this.l+=2,a;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(r=mme(this,this.l),this.l+=4,r):(a=(e>0?hme:fme)(this,this.l),this.l+=4,a);case 8:case-8:if("f"===t)return r=8==e?ome(this,this.l):ome([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:i=Vue(this,this.l,e)}}return this.l+=e,i}var xme=function(e,t,a){e[a]=255&t,e[a+1]=t>>>8&255};function gme(e,t,a){var r=0,n=0;if("dbcs"===a){for(n=0;n!=t.length;++n)xme(this,t.charCodeAt(n),this.l+2*n);r=2*t.length}else if("sbcs"===a){for(t=t.replace(/[^\x00-\x7F]/g,"_"),n=0;n!=t.length;++n)this[this.l+n]=255&t.charCodeAt(n);r=t.length}else{if("hex"===a){for(;n<e;++n)this[this.l++]=parseInt(t.slice(2*n,2*n+2),16)||0;return this}if("utf16le"===a){var s=Math.min(this.l+e,this.length);for(n=0;n<Math.min(t.length,e);++n){var l=t.charCodeAt(n);this[this.l++]=255&l,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,function(e,t,a){e[a]=255&t,e[a+1]=t>>>8&255,e[a+2]=t>>>16&255,e[a+3]=t>>>24&255}(this,t,this.l);break;case 8:if(r=8,"f"===a){!function(e,t,a){var r=(t<0||1/t==-1/0?1:0)<<7,n=0,s=0,l=r?-t:t;isFinite(l)?0==l?n=s=0:(n=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-n),n<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?n=-1022:(s-=Math.pow(2,52),n+=1023)):(n=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[a+o]=255&s;e[a+6]=(15&n)<<4|15&s,e[a+7]=n>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,function(e,t,a){e[a]=255&t,e[a+1]=t>>8&255,e[a+2]=t>>16&255,e[a+3]=t>>24&255}(this,t,this.l)}}return this.l+=r,this}function bme(e,t){var a=Vue(this,this.l,e.length>>1);if(a!==e)throw new Error(t+"Expected "+e+" saw "+a);this.l+=e.length>>1}function vme(e,t){e.l=t,e.read_shift=pme,e.chk=bme,e.write_shift=gme}function yme(e,t){e.l+=t}function wme(e){var t=Ode(e);return vme(t,0),t}function jme(){var e=[],t=Ede?256:2048,a=function(e){var t=wme(e);return vme(t,0),t},r=a(t),n=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},s=function(e){return r&&e<r.length-r.l?r:(n(),r=a(Math.max(e+1,t)))};return{next:s,push:function(e){n(),null==(r=e).l&&(r.l=r.length),s(t)},end:function(){return n(),Lde(e)},_bufs:e}}function Nme(e,t,a,r){var n,s=+t;if(!isNaN(s)){r||(r=Nxe[s].p||(a||[]).length||0),n=1+(s>=128?1:0)+1,r>=128&&++n,r>=16384&&++n,r>=2097152&&++n;var l=e.next(n);s<=127?l.write_shift(1,s):(l.write_shift(1,128+(127&s)),l.write_shift(1,s>>7));for(var o=0;4!=o;++o){if(!(r>=128)){l.write_shift(1,r);break}l.write_shift(1,128+(127&r)),r>>=7}r>0&&ime(a)&&e.push(a)}}function _me(e,t,a){var r=Kce(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!a||a.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Sme(e,t,a){var r=Kce(e);return r.s=_me(r.s,t.s,a),r.e=_me(r.e,t.s,a),r}function kme(e,t){if(e.cRel&&e.c<0)for(e=Kce(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Kce(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var a=Pme(e);return e.cRel||null==e.cRel||(a=a.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(a=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(a)),a}function Cme(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?kme(e.s,t.biff)+":"+kme(e.e,t.biff):(e.s.rRel?"":"$")+Tme(e.s.r)+":"+(e.e.rRel?"":"$")+Tme(e.e.r):(e.s.cRel?"":"$")+Dme(e.s.c)+":"+(e.e.cRel?"":"$")+Dme(e.e.c)}function Eme(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function Tme(e){return""+(e+1)}function Ome(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),a=0,r=0;r!==t.length;++r)a=26*a+t.charCodeAt(r)-64;return a-1}function Dme(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Ame(e){for(var t=0,a=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=48&&n<=57?t=10*t+(n-48):n>=65&&n<=90&&(a=26*a+(n-64))}return{c:a-1,r:t-1}}function Pme(e){for(var t=e.c+1,a="";t;t=(t-1)/26|0)a=String.fromCharCode((t-1)%26+65)+a;return a+(e.r+1)}function Mme(e){var t=e.indexOf(":");return-1==t?{s:Ame(e),e:Ame(e)}:{s:Ame(e.slice(0,t)),e:Ame(e.slice(t+1))}}function Lme(e,t){return void 0===t||"number"==typeof t?Lme(e.s,e.e):("string"!=typeof e&&(e=Pme(e)),"string"!=typeof t&&(t=Pme(t)),e==t?e:e+":"+t)}function Ime(e){var t={s:{c:0,r:0},e:{c:0,r:0}},a=0,r=0,n=0,s=e.length;for(a=0;r<s&&!((n=e.charCodeAt(r)-64)<1||n>26);++r)a=26*a+n;for(t.s.c=--a,a=0;r<s&&!((n=e.charCodeAt(r)-48)<0||n>9);++r)a=10*a+n;if(t.s.r=--a,r===s||10!=n)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,a=0;r!=s&&!((n=e.charCodeAt(r)-64)<1||n>26);++r)a=26*a+n;for(t.e.c=--a,a=0;r!=s&&!((n=e.charCodeAt(r)-48)<0||n>9);++r)a=10*a+n;return t.e.r=--a,t}function Fme(e,t){var a="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=Sce(e.z,a?$ce(t):t)}catch(mMe){}try{return e.w=Sce((e.XF||{}).numFmtId||(a?14:0),a?$ce(t):t)}catch(mMe){return""+t}}function Rme(e,t,a){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&a&&a.dateNF&&(e.z=a.dateNF),"e"==e.t?vhe[e.v]||e.v:Fme(e,null==t?e.v:t))}function $me(e,t){var a=t&&t.sheet?t.sheet:"Sheet1",r={};return r[a]=e,{SheetNames:[a],Sheets:r}}function Bme(e,t,a){var r=a||{},n=e?Array.isArray(e):r.dense,s=e||(n?[]:{}),l=0,o=0;if(s&&null!=r.origin){if("number"==typeof r.origin)l=r.origin;else{var i="string"==typeof r.origin?Ame(r.origin):r.origin;l=i.r,o=i.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var c=Ime(s["!ref"]);d.s.c=c.s.c,d.s.r=c.s.r,d.e.c=Math.max(d.e.c,c.e.c),d.e.r=Math.max(d.e.r,c.e.r),-1==l&&(d.e.r=l=c.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[u].length;++m)if(void 0!==t[u][m]){var h={v:t[u][m]},f=l+u,p=o+m;if(d.s.r>f&&(d.s.r=f),d.s.c>p&&(d.s.c=p),d.e.r<f&&(d.e.r=f),d.e.c<p&&(d.e.c=p),!t[u][m]||"object"!=typeof t[u][m]||Array.isArray(t[u][m])||t[u][m]instanceof Date)if(Array.isArray(h.v)&&(h.f=t[u][m][1],h.v=h.v[0]),null===h.v)if(h.f)h.t="n";else if(r.nullError)h.t="e",h.v=0;else{if(!r.sheetStubs)continue;h.t="z"}else"number"==typeof h.v?h.t="n":"boolean"==typeof h.v?h.t="b":h.v instanceof Date?(h.z=r.dateNF||Vde[14],r.cellDates?(h.t="d",h.w=Sce(h.z,$ce(h.v))):(h.t="n",h.v=$ce(h.v),h.w=Sce(h.z,h.v))):h.t="s";else h=t[u][m];if(n)s[f]||(s[f]=[]),s[f][p]&&s[f][p].z&&(h.z=s[f][p].z),s[f][p]=h;else{var x=Pme({c:p,r:f});s[x]&&s[x].z&&(h.z=s[x].z),s[x]=h}}}return d.s.c<1e7&&(s["!ref"]=Lme(d)),s}function zme(e,t){return Bme(null,e,t)}function Ume(e,t){return t||(t=wme(4)),t.write_shift(4,e),t}function Hme(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function Wme(e,t){var a=!1;return null==t&&(a=!0,t=wme(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}function Yme(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function qme(e,t){var a=e.l,r=e.read_shift(1),n=Hme(e),s=[],l={t:n,h:n};if(1&r){for(var o=e.read_shift(4),i=0;i!=o;++i)s.push(Yme(e));l.r=s}else l.r=[{ich:0,ifnt:0}];return e.l=a+t,l}var Vme=qme;function Gme(e,t){var a=!1;return null==t&&(a=!0,t=wme(23+4*e.t.length)),t.write_shift(1,1),Wme(e.t,t),t.write_shift(4,1),function(e,t){t||(t=wme(4)),t.write_shift(2,0),t.write_shift(2,0)}(0,t),a?t.slice(0,t.l):t}function Kme(e){var t=e.read_shift(4),a=e.read_shift(2);return a+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:a}}function Xme(e,t){return null==t&&(t=wme(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Qme(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Jme(e,t){return null==t&&(t=wme(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Zme=Hme,ehe=Wme;function the(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function ahe(e,t){var a=!1;return null==t&&(a=!0,t=wme(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),a?t.slice(0,t.l):t}var rhe=Hme,nhe=the,she=ahe;function lhe(e){var t=e.slice(e.l,e.l+4),a=1&t[0],r=2&t[0];e.l+=4;var n=0===r?ome([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):hme(t,0)>>2;return a?n/100:n}function ohe(e,t){null==t&&(t=wme(4));var a=0,r=0,n=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:n==(0|n)&&n>=-(1<<29)&&n<1<<29&&(r=1,a=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((a?n:e)<<2)+(a+2))}function ihe(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var dhe=ihe,che=function(e,t){return t||(t=wme(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function uhe(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function mhe(e,t){return(t||wme(8)).write_shift(8,e,"f")}function hhe(e,t){if(t||(t=wme(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var a=e.tint||0;if(a>0?a*=32767:a<0&&(a*=32768),t.write_shift(2,a),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var fhe=80,phe={1:{n:"CodePage",t:2},2:{n:"Category",t:fhe},3:{n:"PresentationFormat",t:fhe},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:fhe},15:{n:"Company",t:fhe},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:fhe},27:{n:"ContentStatus",t:fhe},28:{n:"Language",t:fhe},29:{n:"Version",t:fhe},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},xhe={1:{n:"CodePage",t:2},2:{n:"Title",t:fhe},3:{n:"Subject",t:fhe},4:{n:"Author",t:fhe},5:{n:"Keywords",t:fhe},6:{n:"Comments",t:fhe},7:{n:"Template",t:fhe},8:{n:"LastAuthor",t:fhe},9:{n:"RevNumber",t:fhe},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:fhe},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function ghe(e){return e.map((function(e){return[e>>16&255,e>>8&255,255&e]}))}var bhe=Kce(ghe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),vhe={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},yhe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},whe={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function jhe(e,t){var a,r=function(e){for(var t=[],a=Mce(e),r=0;r!==a.length;++r)null==t[e[a[r]]]&&(t[e[a[r]]]=[]),t[e[a[r]]].push(a[r]);return t}(yhe),n=[];n[n.length]=aue,n[n.length]=vue("Types",null,{xmlns:_ue,"xmlns:xsd":Pue,"xmlns:xsi":Aue}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map((function(e){return vue("Default",null,{Extension:e[0],ContentType:e[1]})})));var s=function(r){e[r]&&e[r].length>0&&(a=e[r][0],n[n.length]=vue("Override",null,{PartName:("/"==a[0]?"":"/")+a,ContentType:whe[r][t.bookType]||whe[r].xlsx}))},l=function(a){(e[a]||[]).forEach((function(e){n[n.length]=vue("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:whe[a][t.bookType]||whe[a].xlsx})}))},o=function(t){(e[t]||[]).forEach((function(e){n[n.length]=vue("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})}))};return s("workbooks"),l("sheets"),l("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),l("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Nhe={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _he(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function She(e){var t=[aue,vue("Relationships",null,{xmlns:Sue})];return Mce(e["!id"]).forEach((function(a){t[t.length]=vue("Relationship",null,e["!id"][a])})),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function khe(e,t,a,r,n,s){if(n||(n={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,n.Id="rId"+t,n.Type=r,n.Target=a,[Nhe.HLINK,Nhe.XPATH,Nhe.XMISS].indexOf(n.Type)>-1&&(n.TargetMode="External"),e["!id"][n.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][n.Id]=n,e[("/"+n.Target).replace("//","/")]=n,t}function Che(e,t,a){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(a||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Ehe(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+xde.version+"</meta:generator></office:meta></office:document-meta>"}var The=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Ohe(e,t,a,r,n){null==n[e]&&null!=t&&""!==t&&(n[e]=t,t=lue(t),r[r.length]=a?vue(e,t,a):gue(e,t))}function Dhe(e,t){var a=t||{},r=[aue,vue("cp:coreProperties",null,{"xmlns:cp":wue,"xmlns:dc":Cue,"xmlns:dcterms":Eue,"xmlns:dcmitype":Tue,"xmlns:xsi":Aue})],n={};if(!e&&!a.Props)return r.join("");e&&(null!=e.CreatedDate&&Ohe("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:yue(e.CreatedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n),null!=e.ModifiedDate&&Ohe("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:yue(e.ModifiedDate,a.WTF),{"xsi:type":"dcterms:W3CDTF"},r,n));for(var s=0;s!=The.length;++s){var l=The[s],o=a.Props&&null!=a.Props[l[1]]?a.Props[l[1]]:e?e[l[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&Ohe(l[0],o,null,r,n)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Ahe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Phe=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Mhe(e){var t=[],a=vue;return e||(e={}),e.Application="SheetJS",t[t.length]=aue,t[t.length]=vue("Properties",null,{xmlns:Nue,"xmlns:vt":Due}),Ahe.forEach((function(r){if(void 0!==e[r[1]]){var n;switch(r[2]){case"string":n=lue(String(e[r[1]]));break;case"bool":n=e[r[1]]?"true":"false"}void 0!==n&&(t[t.length]=a(r[0],n))}})),t[t.length]=a("HeadingPairs",a("vt:vector",a("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+a("vt:variant",a("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=a("TitlesOfParts",a("vt:vector",e.SheetNames.map((function(e){return"<vt:lpstr>"+lue(e)+"</vt:lpstr>"})).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function Lhe(e){var t=[aue,vue("Properties",null,{xmlns:jue,"xmlns:vt":Due})];if(!e)return t.join("");var a=1;return Mce(e).forEach((function(r){++a,t[t.length]=vue("property",function(e){switch(typeof e){case"string":var t=vue("vt:lpwstr",lue(e));return t.replace(/&quot;/g,"_x0022_");case"number":return vue((0|e)==e?"vt:i4":"vt:r8",lue(String(e)));case"boolean":return vue("vt:bool",e?"true":"false")}if(e instanceof Date)return vue("vt:filetime",yue(e));throw new Error("Unable to serialize "+e)}(e[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:a,name:lue(r)})})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Ihe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Fhe(e,t){var a=wme(4),r=wme(4);switch(a.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=wme(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,a=t%Math.pow(2,32),r=(t-a)/Math.pow(2,32);r*=1e7;var n=(a*=1e7)/Math.pow(2,32)|0;n>0&&(a%=Math.pow(2,32),r+=n);var s=wme(8);return s.write_shift(4,a),s.write_shift(4,r),s}(t);break;case 31:case 80:for((r=wme(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Lde([a,r])}var Rhe=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function $he(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function Bhe(e,t,a){var r=wme(8),n=[],s=[],l=8,o=0,i=wme(8),d=wme(8);if(i.write_shift(4,2),i.write_shift(4,1200),d.write_shift(4,1),s.push(i),n.push(d),l+=8+i.length,!t){(d=wme(8)).write_shift(4,0),n.unshift(d);var c=[wme(4)];for(c[0].write_shift(4,e.length),o=0;o<e.length;++o){var u=e[o][0];for((i=wme(8+2*(u.length+1)+(u.length%2?0:2))).write_shift(4,o+2),i.write_shift(4,u.length+1),i.write_shift(0,u,"dbcs");i.l!=i.length;)i.write_shift(1,0);c.push(i)}i=Lde(c),s.unshift(i),l+=8+i.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(Rhe.indexOf(e[o][0])>-1||Phe.indexOf(e[o][0])>-1)&&null!=e[o][1]){var m=e[o][1],h=0;if(t){var f=a[h=+t[e[o][0]]];if("version"==f.p&&"string"==typeof m){var p=m.split(".");m=(+p[0]<<16)+(+p[1]||0)}i=Fhe(f.t,m)}else{var x=$he(m);-1==x&&(x=31,m=String(m)),i=Fhe(x,m)}s.push(i),(d=wme(8)).write_shift(4,t?h:2+o),n.push(d),l+=8+i.length}var g=8*(s.length+1);for(o=0;o<s.length;++o)n[o].write_shift(4,g),g+=s[o].length;return r.write_shift(4,l),r.write_shift(4,s.length),Lde([r].concat(n).concat(s))}function zhe(e,t,a,r,n,s){var l=wme(n?68:48),o=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Dce.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,n?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,n?68:48);var i=Bhe(e,a,r);if(o.push(i),n){var d=Bhe(n,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+i.length),o.push(d)}return Lde(o)}function Uhe(e,t){return t||(t=wme(2)),t.write_shift(2,+!!e),t}function Hhe(e){return e.read_shift(2,"u")}function Whe(e,t){return t||(t=wme(2)),t.write_shift(2,e),t}function Yhe(e,t,a){return a||(a=wme(2)),a.write_shift(1,"e"==t?+e:+!!e),a.write_shift(1,"e"==t?1:0),a}function qhe(e,t,a){var r=e.read_shift(a&&a.biff>=12?2:1),n="sbcs-cont";return a&&a.biff,a&&8!=a.biff?12==a.biff&&(n="wstr"):e.read_shift(1)&&(n="dbcs-cont"),a.biff>=2&&a.biff<=5&&(n="cpstr"),r?e.read_shift(r,n):""}function Vhe(e){var t=e.t||"",a=wme(3);a.write_shift(2,t.length),a.write_shift(1,1);var r=wme(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),Lde([a,r])}function Ghe(e,t,a){return a||(a=wme(3+2*e.length)),a.write_shift(2,e.length),a.write_shift(1,1),a.write_shift(31,e,"utf16le"),a}function Khe(e,t){t||(t=wme(6+2*e.length)),t.write_shift(4,1+e.length);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function Xhe(e){var t=wme(512),a=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var n=r.indexOf("#"),s=n>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3}t.write_shift(4,2),t.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(a=0;a<l.length;++a)t.write_shift(4,l[a]);if(28==s)Khe(r=r.slice(1),t);else if(2&s){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<l.length;++a)t.write_shift(1,parseInt(l[a],16));var o=n>-1?r.slice(0,n):r;for(t.write_shift(4,2*(o.length+1)),a=0;a<o.length;++a)t.write_shift(2,o.charCodeAt(a));t.write_shift(2,0),8&s&&Khe(n>-1?r.slice(n+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),a=0;a<l.length;++a)t.write_shift(1,parseInt(l[a],16));for(var i=0;"../"==r.slice(3*i,3*i+3)||"..\\"==r.slice(3*i,3*i+3);)++i;for(t.write_shift(2,i),t.write_shift(4,r.length-3*i+1),a=0;a<r.length-3*i;++a)t.write_shift(1,255&r.charCodeAt(a+3*i));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),a=0;a<6;++a)t.write_shift(4,0)}return t.slice(0,t.l)}function Qhe(e,t,a,r){return r||(r=wme(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,a||0),r}function Jhe(e,t,a){var r=a.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function Zhe(e){var t=e.read_shift(2),a=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:a}}}function efe(e,t){return t||(t=wme(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function tfe(e,t,a){var r=1536,n=16;switch(a.bookType){case"biff8":case"xla":break;case"biff5":r=1280,n=8;break;case"biff4":r=4,n=6;break;case"biff3":r=3,n=6;break;case"biff2":r=2,n=4;break;default:throw new Error("unsupported BIFF version")}var s=wme(n);return s.write_shift(2,r),s.write_shift(2,t),n>4&&s.write_shift(2,29282),n>6&&s.write_shift(2,1997),n>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function afe(e,t){var a=!t||t.biff>=8?2:1,r=wme(8+a*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(a*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var n=r.slice(0,r.l);return n.l=r.l,n}function rfe(e,t,a,r){var n=a&&5==a.biff;r||(r=wme(n?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(n?1:2,t.length),n||r.write_shift(1,1),r.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return null==s.l&&(s.l=s.length),s}function nfe(e,t,a,r){var n=a&&5==a.biff;r||(r=wme(n?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&n&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),n||r.write_shift(4,0),r.write_shift(2,0),r}function sfe(e){var t=wme(24),a=Ame(e[0]);t.write_shift(2,a.r),t.write_shift(2,a.r),t.write_shift(2,a.c),t.write_shift(2,a.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<16;++n)t.write_shift(1,parseInt(r[n],16));return Lde([t,Xhe(e[1])])}function lfe(e){var t=e[1].Tooltip,a=wme(10+2*(t.length+1));a.write_shift(2,2048);var r=Ame(e[0]);a.write_shift(2,r.r),a.write_shift(2,r.r),a.write_shift(2,r.c),a.write_shift(2,r.c);for(var n=0;n<t.length;++n)a.write_shift(2,t.charCodeAt(n));return a.write_shift(2,0),a}var ofe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Ice({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function a(t,a){var r=a||{};r.dateNF||(r.dateNF="yyyymmdd");var n=zme(function(t,a){var r=[],n=Ode(1);switch(a.type){case"base64":n=Ade(Cde(t));break;case"binary":n=Ade(t);break;case"buffer":case"array":n=t}vme(n,0);var s=n.read_shift(1),l=!!(136&s),o=!1,i=!1;switch(s){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,l=!0;break;case 140:i=!0;break;default:throw new Error("DBF Unsupported Version: "+s.toString(16))}var d=0,c=521;2==s&&(d=n.read_shift(2)),n.l+=3,2!=s&&(d=n.read_shift(4)),d>1048576&&(d=1e6),2!=s&&(c=n.read_shift(2));var u=n.read_shift(2),m=a.codepage||1252;2!=s&&(n.l+=16,n.read_shift(1),0!==n[n.l]&&(m=e[n[n.l]]),n.l+=1,n.l+=2),i&&(n.l+=36);for(var h=[],f={},p=Math.min(n.length,2==s?521:c-10-(o?264:0)),x=i?32:11;n.l<p&&13!=n[n.l];)switch((f={}).name=jde.utils.decode(m,n.slice(n.l,n.l+x)).replace(/[\u0000\r\n].*$/g,""),n.l+=x,f.type=String.fromCharCode(n.read_shift(1)),2==s||i||(f.offset=n.read_shift(4)),f.len=n.read_shift(1),2==s&&(f.offset=n.read_shift(2)),f.dec=n.read_shift(1),f.name.length&&h.push(f),2!=s&&(n.l+=i?13:14),f.type){case"B":o&&8==f.len||!a.WTF||console.log("Skipping "+f.name+":"+f.type);break;case"G":case"P":a.WTF&&console.log("Skipping "+f.name+":"+f.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+f.type)}if(13!==n[n.l]&&(n.l=c-1),13!==n.read_shift(1))throw new Error("DBF Terminator not found "+n.l+" "+n[n.l]);n.l=c;var g=0,b=0;for(r[0]=[],b=0;b!=h.length;++b)r[0][b]=h[b].name;for(;d-- >0;)if(42!==n[n.l])for(++n.l,r[++g]=[],b=0,b=0;b!=h.length;++b){var v=n.slice(n.l,n.l+h[b].len);n.l+=h[b].len,vme(v,0);var y=jde.utils.decode(m,v);switch(h[b].type){case"C":y.trim().length&&(r[g][b]=y.replace(/\s+$/,""));break;case"D":8===y.length?r[g][b]=new Date(+y.slice(0,4),+y.slice(4,6)-1,+y.slice(6,8)):r[g][b]=y;break;case"F":r[g][b]=parseFloat(y.trim());break;case"+":case"I":r[g][b]=i?2147483648^v.read_shift(-4,"i"):v.read_shift(4,"i");break;case"L":switch(y.trim().toUpperCase()){case"Y":case"T":r[g][b]=!0;break;case"N":case"F":r[g][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+y+"|")}break;case"M":if(!l)throw new Error("DBF Unexpected MEMO for type "+s.toString(16));r[g][b]="##MEMO##"+(i?parseInt(y.trim(),10):v.read_shift(4));break;case"N":(y=y.replace(/\u0000/g,"").trim())&&"."!=y&&(r[g][b]=+y||0);break;case"@":r[g][b]=new Date(v.read_shift(-8,"f")-621356832e5);break;case"T":r[g][b]=new Date(864e5*(v.read_shift(4)-2440588)+v.read_shift(4));break;case"Y":r[g][b]=v.read_shift(4,"i")/1e4+v.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[g][b]=-v.read_shift(-8,"f");break;case"B":if(o&&8==h[b].len){r[g][b]=v.read_shift(8,"f");break}case"G":case"P":v.l+=h[b].len;break;case"0":if("_NullFlags"===h[b].name)break;default:throw new Error("DBF Unsupported data type "+h[b].type)}}else n.l+=u;if(2!=s&&n.l<n.length&&26!=n[n.l++])throw new Error("DBF EOF Marker missing "+(n.l-1)+" of "+n.length+" "+n[n.l-1].toString(16));return a&&a.sheetRows&&(r=r.slice(0,a.sheetRows)),a.DBF=h,r}(t,r),r);return n["!cols"]=r.DBF.map((function(e){return{wch:e.len,DBF:e}})),delete r.DBF,n}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return $me(a(e,t),t)}catch(mMe){if(t&&t.WTF)throw mMe}return{SheetNames:[],Sheets:{}}},to_sheet:a,from_sheet:function(e,a){var n=a||{};if(+n.codepage>=0&&yde(+n.codepage),"string"==n.type)throw new Error("Cannot write DBF to JS string");var s=jme(),l=fge(e,{header:1,raw:!0,cellDates:!0}),o=l[0],i=l.slice(1),d=e["!cols"]||[],c=0,u=0,m=0,h=1;for(c=0;c<o.length;++c)if(((d[c]||{}).DBF||{}).name)o[c]=d[c].DBF.name,++m;else if(null!=o[c]){if(++m,"number"==typeof o[c]&&(o[c]=o[c].toString(10)),"string"!=typeof o[c])throw new Error("DBF Invalid column name "+o[c]+" |"+typeof o[c]+"|");if(o.indexOf(o[c])!==c)for(u=0;u<1024;++u)if(-1==o.indexOf(o[c]+"_"+u)){o[c]+="_"+u;break}}var f=Ime(e["!ref"]),p=[],x=[],g=[];for(c=0;c<=f.e.c-f.s.c;++c){var b="",v="",y=0,w=[];for(u=0;u<i.length;++u)null!=i[u][c]&&w.push(i[u][c]);if(0!=w.length&&null!=o[c]){for(u=0;u<w.length;++u){switch(typeof w[u]){case"number":v="B";break;case"string":default:v="C";break;case"boolean":v="L";break;case"object":v=w[u]instanceof Date?"D":"C"}y=Math.max(y,String(w[u]).length),b=b&&b!=v?"C":v}y>250&&(y=250),"C"==(v=((d[c]||{}).DBF||{}).type)&&d[c].DBF.len>y&&(y=d[c].DBF.len),"B"==b&&"N"==v&&(b="N",g[c]=d[c].DBF.dec,y=d[c].DBF.len),x[c]="C"==b||"N"==v?y:r[b]||0,h+=x[c],p[c]=b}else p[c]="?"}var j=s.next(32);for(j.write_shift(4,318902576),j.write_shift(4,i.length),j.write_shift(2,296+32*m),j.write_shift(2,h),c=0;c<4;++c)j.write_shift(4,0);for(j.write_shift(4,(+t[gde]||3)<<8),c=0,u=0;c<o.length;++c)if(null!=o[c]){var N=s.next(32),_=(o[c].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,_,"sbcs"),N.write_shift(1,"?"==p[c]?"C":p[c],"sbcs"),N.write_shift(4,u),N.write_shift(1,x[c]||r[p[c]]||0),N.write_shift(1,g[c]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),u+=x[c]||r[p[c]]||0}var S=s.next(264);for(S.write_shift(4,13),c=0;c<65;++c)S.write_shift(4,0);for(c=0;c<i.length;++c){var k=s.next(h);for(k.write_shift(1,0),u=0;u<o.length;++u)if(null!=o[u])switch(p[u]){case"L":k.write_shift(1,null==i[c][u]?63:i[c][u]?84:70);break;case"B":k.write_shift(8,i[c][u]||0,"f");break;case"N":var C="0";for("number"==typeof i[c][u]&&(C=i[c][u].toFixed(g[u]||0)),m=0;m<x[u]-C.length;++m)k.write_shift(1,32);k.write_shift(1,C,"sbcs");break;case"D":i[c][u]?(k.write_shift(4,("0000"+i[c][u].getFullYear()).slice(-4),"sbcs"),k.write_shift(2,("00"+(i[c][u].getMonth()+1)).slice(-2),"sbcs"),k.write_shift(2,("00"+i[c][u].getDate()).slice(-2),"sbcs")):k.write_shift(8,"00000000","sbcs");break;case"C":var E=String(null!=i[c][u]?i[c][u]:"").slice(0,x[u]);for(k.write_shift(1,E,"sbcs"),m=0;m<x[u]-E.length;++m)k.write_shift(1,32)}}return s.next(1).write_shift(1,26),s.end()}}}(),ife=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+Mce(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),a=function(t,a){var r=e[a];return"number"==typeof r?_de(r):r},r=function(e,t,a){var r=t.charCodeAt(0)-32<<4|a.charCodeAt(0)-48;return 59==r?e:_de(r)};function n(e,n){var s,l=e.split(/[\n\r]+/),o=-1,i=-1,d=0,c=0,u=[],m=[],h=null,f={},p=[],x=[],g=[],b=0;for(+n.codepage>=0&&yde(+n.codepage);d!==l.length;++d){b=0;var v,y=l[d].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,a),w=y.replace(/;;/g,"\0").split(";").map((function(e){return e.replace(/\u0000/g,";")})),j=w[0];if(y.length>0)switch(j){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==w[1].charAt(0)&&m.push(y.slice(3).replace(/;;/g,";"));break;case"C":var N=!1,_=!1,S=!1,k=!1,C=-1,E=-1;for(c=1;c<w.length;++c)switch(w[c].charAt(0)){case"A":case"G":break;case"X":i=parseInt(w[c].slice(1))-1,_=!0;break;case"Y":for(o=parseInt(w[c].slice(1))-1,_||(i=0),s=u.length;s<=o;++s)u[s]=[];break;case"K":'"'===(v=w[c].slice(1)).charAt(0)?v=v.slice(1,v.length-1):"TRUE"===v?v=!0:"FALSE"===v?v=!1:isNaN(Qce(v))?isNaN(Zce(v).getDate())||(v=Vce(v)):(v=Qce(v),null!==h&&wce(h)&&(v=Hce(v))),N=!0;break;case"E":k=!0;var T=Qfe(w[c].slice(1),{r:o,c:i});u[o][i]=[u[o][i],T];break;case"S":S=!0,u[o][i]=[u[o][i],"S5S"];break;case"R":C=parseInt(w[c].slice(1))-1;break;case"C":E=parseInt(w[c].slice(1))-1;break;default:if(n&&n.WTF)throw new Error("SYLK bad record "+y)}if(N&&(u[o][i]&&2==u[o][i].length?u[o][i][0]=v:u[o][i]=v,h=null),S){if(k)throw new Error("SYLK shared formula cannot have own formula");var O=C>-1&&u[C][E];if(!O||!O[1])throw new Error("SYLK shared formula cannot find base");u[o][i][1]=epe(O[1],{r:o-C,c:i-E})}break;case"F":var D=0;for(c=1;c<w.length;++c)switch(w[c].charAt(0)){case"X":i=parseInt(w[c].slice(1))-1,++D;break;case"Y":for(o=parseInt(w[c].slice(1))-1,s=u.length;s<=o;++s)u[s]=[];break;case"M":b=parseInt(w[c].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":h=m[parseInt(w[c].slice(1))];break;case"W":for(g=w[c].slice(1).split(" "),s=parseInt(g[0],10);s<=parseInt(g[1],10);++s)b=parseInt(g[2],10),x[s-1]=0===b?{hidden:!0}:{wch:b},_fe(x[s-1]);break;case"C":x[i=parseInt(w[c].slice(1))-1]||(x[i]={});break;case"R":p[o=parseInt(w[c].slice(1))-1]||(p[o]={}),b>0?(p[o].hpt=b,p[o].hpx=kfe(b)):0===b&&(p[o].hidden=!0);break;default:if(n&&n.WTF)throw new Error("SYLK bad record "+y)}D<1&&(h=null);break;default:if(n&&n.WTF)throw new Error("SYLK bad record "+y)}}return p.length>0&&(f["!rows"]=p),x.length>0&&(f["!cols"]=x),n&&n.sheetRows&&(u=u.slice(0,n.sheetRows)),[u,f]}function s(e,t){var a=function(e,t){switch(t.type){case"base64":return n(Cde(e),t);case"binary":return n(e,t);case"buffer":return n(Ede&&Buffer.isBuffer(e)?e.toString("binary"):Mde(e),t);case"array":return n(Gce(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=a[0],s=a[1],l=zme(r,t);return Mce(s).forEach((function(e){l[e]=s[e]})),l}function l(e,t,a,r){var n="C;Y"+(a+1)+";X"+(r+1)+";K";switch(e.t){case"n":n+=e.v||0,e.f&&!e.F&&(n+=";E"+Zfe(e.f,{r:a,c:r}));break;case"b":n+=e.v?"TRUE":"FALSE";break;case"e":n+=e.w||e.v;break;case"d":n+='"'+(e.w||e.v)+'"';break;case"s":n+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return n}return e["|"]=254,{to_workbook:function(e,t){return $me(s(e,t),t)},to_sheet:s,from_sheet:function(e,t){var a,r,n=["ID;PWXL;N;E"],s=[],o=Ime(e["!ref"]),i=Array.isArray(e),d="\r\n";n.push("P;PGeneral"),n.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=n,e["!cols"].forEach((function(e,t){var a="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?a+="0":("number"!=typeof e.width||e.wpx||(e.wpx=wfe(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=jfe(e.wpx)),"number"==typeof e.wch&&(a+=Math.round(e.wch)))," "!=a.charAt(a.length-1)&&r.push(a)}))),e["!rows"]&&function(e,t){t.forEach((function(t,a){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*Sfe(t.hpx)+";"),r.length>2&&e.push(r+"R"+(a+1))}))}(n,e["!rows"]),n.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var c=o.s.r;c<=o.e.r;++c)for(var u=o.s.c;u<=o.e.c;++u){var m=Pme({r:c,c:u});(a=i?(e[c]||[])[u]:e[m])&&(null!=a.v||a.f&&!a.F)&&s.push(l(a,0,c,u))}return n.join(d)+d+s.join(d)+d+"E"+d}}}(),dfe=function(){function e(e,t){for(var a=e.split("\n"),r=-1,n=-1,s=0,l=[];s!==a.length;++s)if("BOT"!==a[s].trim()){if(!(r<0)){for(var o=a[s].trim().split(","),i=o[0],d=o[1],c=a[++s]||"";1&(c.match(/["]/g)||[]).length&&s<a.length-1;)c+="\n"+a[++s];switch(c=c.trim(),+i){case-1:if("BOT"===c){l[++r]=[],n=0;continue}if("EOD"!==c)throw new Error("Unrecognized DIF special command "+c);break;case 0:"TRUE"===c?l[r][n]=!0:"FALSE"===c?l[r][n]=!1:isNaN(Qce(d))?isNaN(Zce(d).getDate())?l[r][n]=d:l[r][n]=Vce(d):l[r][n]=Qce(d),++n;break;case 1:(c=(c=c.slice(1,c.length-1)).replace(/""/g,'"'))&&c.match(/^=".*"$/)&&(c=c.slice(2,-1)),l[r][n++]=""!==c?c:null}if("EOD"===c)break}}else l[++r]=[],n=0;return t&&t.sheetRows&&(l=l.slice(0,t.sheetRows)),l}function t(t,a){return zme(function(t,a){switch(a.type){case"base64":return e(Cde(t),a);case"binary":return e(t,a);case"buffer":return e(Ede&&Buffer.isBuffer(t)?t.toString("binary"):Mde(t),a);case"array":return e(Gce(t),a)}throw new Error("Unrecognized type "+a.type)}(t,a),a)}return{to_workbook:function(e,a){return $me(t(e,a),a)},to_sheet:t,from_sheet:function(){var e=function(e,t,a,r,n){e.push(t),e.push(a+","+r),e.push('"'+n.replace(/"/g,'""')+'"')},t=function(e,t,a,r){e.push(t+","+a),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(a){var r,n=[],s=Ime(a["!ref"]),l=Array.isArray(a);e(n,"TABLE",0,1,"sheetjs"),e(n,"VECTORS",0,s.e.r-s.s.r+1,""),e(n,"TUPLES",0,s.e.c-s.s.c+1,""),e(n,"DATA",0,0,"");for(var o=s.s.r;o<=s.e.r;++o){t(n,-1,0,"BOT");for(var i=s.s.c;i<=s.e.c;++i){var d=Pme({r:o,c:i});if(r=l?(a[o]||[])[i]:a[d])switch(r.t){case"n":var c=r.w;c||null==r.v||(c=r.v),null==c?r.f&&!r.F?t(n,1,0,"="+r.f):t(n,1,0,""):t(n,0,c,"V");break;case"b":t(n,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(n,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=Sce(r.z||Vde[14],$ce(Vce(r.v)))),t(n,0,r.w,"V");break;default:t(n,1,0,"")}else t(n,1,0,"")}}return t(n,-1,0,"EOD"),n.join("\r\n")}}()}}(),cfe=function(){function e(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(e,t){return zme(function(e,t){for(var a=e.split("\n"),r=-1,n=-1,s=0,l=[];s!==a.length;++s){var o=a[s].trim().split(":");if("cell"===o[0]){var i=Ame(o[1]);if(l.length<=i.r)for(r=l.length;r<=i.r;++r)l[r]||(l[r]=[]);switch(r=i.r,n=i.c,o[2]){case"t":l[r][n]=o[3].replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n");break;case"v":l[r][n]=+o[3];break;case"vtf":var d=o[o.length-1];case"vtc":"nl"===o[3]?l[r][n]=!!+o[4]:l[r][n]=+o[4],"vtf"==o[2]&&(l[r][n]=[l[r][n],d])}}}return t&&t.sheetRows&&(l=l.slice(0,t.sheetRows)),l}(e,t),t)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),r=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",n=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),s="--SocialCalcSpreadsheetControlSave--";function l(t){if(!t||!t["!ref"])return"";for(var a,r=[],n=[],s="",l=Mme(t["!ref"]),o=Array.isArray(t),i=l.s.r;i<=l.e.r;++i)for(var d=l.s.c;d<=l.e.c;++d)if(s=Pme({r:i,c:d}),(a=o?(t[i]||[])[d]:t[s])&&null!=a.v&&"z"!==a.t){switch(n=["cell",s,"t"],a.t){case"s":case"str":n.push(e(a.v));break;case"n":a.f?(n[2]="vtf",n[3]="n",n[4]=a.v,n[5]=e(a.f)):(n[2]="v",n[3]=a.v);break;case"b":n[2]="vt"+(a.f?"f":"c"),n[3]="nl",n[4]=a.v?"1":"0",n[5]=e(a.f||(a.v?"TRUE":"FALSE"));break;case"d":var c=$ce(Vce(a.v));n[2]="vtc",n[3]="nd",n[4]=""+c,n[5]=a.w||Sce(a.z||Vde[14],c);break;case"e":continue}r.push(n.join(":"))}return r.push("sheet:c:"+(l.e.c-l.s.c+1)+":r:"+(l.e.r-l.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,a){return $me(t(e,a),a)},to_sheet:t,from_sheet:function(e){return[a,r,n,r,l(e),s].join("\n")}}}(),ufe=function(){function e(e,t,a,r,n){n.raw?t[a][r]=e:""===e||("TRUE"===e?t[a][r]=!0:"FALSE"===e?t[a][r]=!1:isNaN(Qce(e))?isNaN(Zce(e).getDate())?t[a][r]=e:t[a][r]=Vce(e):t[a][r]=Qce(e))}var t={44:",",9:"\t",59:";",124:"|"},a={44:3,9:2,59:1,124:0};function r(e){for(var r={},n=!1,s=0,l=0;s<e.length;++s)34==(l=e.charCodeAt(s))?n=!n:!n&&l in t&&(r[l]=(r[l]||0)+1);for(s in l=[],r)Object.prototype.hasOwnProperty.call(r,s)&&l.push([r[s],s]);if(!l.length)for(s in r=a)Object.prototype.hasOwnProperty.call(r,s)&&l.push([r[s],s]);return l.sort((function(e,t){return e[0]-t[0]||a[e[1]]-a[t[1]]})),t[l.pop()[1]]||44}function n(e,t){var a=t||{},n="",s=a.dense?[]:{},l={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(n=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(n=e.charAt(4),e=e.slice(6)):n=r(e.slice(0,1024)):n=a&&a.FS?a.FS:r(e.slice(0,1024));var o=0,i=0,d=0,c=0,u=0,m=n.charCodeAt(0),h=!1,f=0,p=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var x,g,b=null!=a.dateNF?(x=a.dateNF,g=(g="number"==typeof x?Vde[x]:x).replace(Tce,"(\\d+)"),new RegExp("^"+g+"$")):null;function v(){var t=e.slice(c,u),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(a.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(d=Qce(t)))if(!isNaN(Zce(t).getDate())||b&&t.match(b)){r.z=a.dateNF||Vde[14];var n=0;b&&t.match(b)&&(t=function(e,t,a){var r=-1,n=-1,s=-1,l=-1,o=-1,i=-1;(t.match(Tce)||[]).forEach((function(e,t){var d=parseInt(a[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=d;break;case"d":s=d;break;case"h":l=d;break;case"s":i=d;break;case"m":l>=0?o=d:n=d}})),i>=0&&-1==o&&n>=0&&(o=n,n=-1);var d=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(n>=1?n:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);7==d.length&&(d="0"+d),8==d.length&&(d="20"+d);var c=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(i>=0?i:0)).slice(-2);return-1==l&&-1==o&&-1==i?d:-1==r&&-1==n&&-1==s?c:d+"T"+c}(0,a.dateNF,t.match(b)||[]),n=1),a.cellDates?(r.t="d",r.v=Vce(t,n)):(r.t="n",r.v=$ce(Vce(t,n))),!1!==a.cellText&&(r.w=Sce(r.z,r.v instanceof Date?$ce(r.v):r.v)),a.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==a.cellText&&(r.w=t),r.v=d;if("z"==r.t||(a.dense?(s[o]||(s[o]=[]),s[o][i]=r):s[Pme({c:i,r:o})]=r),c=u+1,p=e.charCodeAt(c),l.e.c<i&&(l.e.c=i),l.e.r<o&&(l.e.r=o),f==m)++i;else if(i=0,++o,a.sheetRows&&a.sheetRows<=o)return!0}e:for(;u<e.length;++u)switch(f=e.charCodeAt(u)){case 34:34===p&&(h=!h);break;case m:case 10:case 13:if(!h&&v())break e}return u-c>0&&v(),s["!ref"]=Lme(l),s}function s(t,a){return a&&a.PRN?a.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?n(t,a):zme(function(t,a){var r=a||{},n=[];if(!t||0===t.length)return n;for(var s=t.split(/[\r\n]/),l=s.length-1;l>=0&&0===s[l].length;)--l;for(var o=10,i=0,d=0;d<=l;++d)-1==(i=s[d].indexOf(" "))?i=s[d].length:i++,o=Math.max(o,i);for(d=0;d<=l;++d){n[d]=[];var c=0;for(e(s[d].slice(0,o).trim(),n,d,c,r),c=1;c<=(s[d].length-o)/10+1;++c)e(s[d].slice(o+10*(c-1),o+10*c).trim(),n,d,c,r)}return r.sheetRows&&(n=n.slice(0,r.sheetRows)),n}(t,a),a):n(t,a)}function l(e,t){var a="",r="string"==t.type?[0,0,0,0]:function(e,t){var a="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":a=Cde(e.slice(0,12));break;case"binary":a=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2),a.charCodeAt(3),a.charCodeAt(4),a.charCodeAt(5),a.charCodeAt(6),a.charCodeAt(7)]}(e,t);switch(t.type){case"base64":a=Cde(e);break;case"binary":case"string":a=e;break;case"buffer":65001==t.codepage?a=e.toString("utf8"):(t.codepage,a=Ede&&Buffer.isBuffer(e)?e.toString("binary"):Mde(e));break;case"array":a=Gce(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?a=hue(a.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?a=hue(a):t.type,"socialcalc:version:"==a.slice(0,19)?cfe.to_sheet("string"==t.type?a:hue(a),t):s(a,t)}return{to_workbook:function(e,t){return $me(l(e,t),t)},to_sheet:l,from_sheet:function(e){for(var t,a=[],r=Ime(e["!ref"]),n=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){for(var l=[],o=r.s.c;o<=r.e.c;++o){var i=Pme({r:s,c:o});if((t=n?(e[s]||[])[o]:e[i])&&null!=t.v){for(var d=(t.w||(Rme(t),t.w)||"").slice(0,10);d.length<10;)d+=" ";l.push(d+(0===o?" ":""))}else l.push("          ")}a.push(l.join(""))}return a.join("\n")}}}(),mfe=function(){function e(e,t,a){if(e){vme(e,e.l||0);for(var r=a.Enum||g;e.l<e.length;){var n=e.read_shift(2),s=r[n]||r[65535],l=e.read_shift(2),o=e.l+l,i=s.f&&s.f(e,l,a);if(e.l=o,t(i,s,n))return}}}function t(t,a){if(!t)return t;var r=a||{},n=r.dense?[]:{},s="Sheet1",l="",o=0,i={},d=[],c=[],u={s:{r:0,c:0},e:{r:0,c:0}},m=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=g,e(t,(function(e,t,a){switch(a){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:u=e;break;case 204:e&&(l=e);break;case 222:l=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==a&&!(112&~e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||Vde[14],r.cellDates&&(e[1].t="d",e[1].v=Hce(e[1].v))),r.qpro&&e[3]>o&&(n["!ref"]=Lme(u),i[s]=n,d.push(s),n=r.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s=l||"Sheet"+(o+1),l="");var c=r.dense?(n[e[0].r]||[])[e[0].c]:n[Pme(e[0])];if(c){c.t=e[1].t,c.v=e[1].v,null!=e[1].z&&(c.z=e[1].z),null!=e[1].f&&(c.f=e[1].f);break}r.dense?(n[e[0].r]||(n[e[0].r]=[]),n[e[0].r][e[0].c]=e[1]):n[Pme(e[0])]=e[1]}}),r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=b,14==t[2]&&(r.qpro=!0,t.l=0),e(t,(function(e,t,a){switch(a){case 204:s=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(n["!ref"]=Lme(u),i[s]=n,d.push(s),n=r.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],s="Sheet"+(o+1)),m>0&&e[0].r>=m)break;r.dense?(n[e[0].r]||(n[e[0].r]=[]),n[e[0].r][e[0].c]=e[1]):n[Pme(e[0])]=e[1],u.e.c<e[0].c&&(u.e.c=e[0].c),u.e.r<e[0].r&&(u.e.r=e[0].r);break;case 27:e[14e3]&&(c[e[14e3][0]]=e[14e3][1]);break;case 1537:c[e[0]]=e[1],e[0]==o&&(s=e[1])}}),r)}if(n["!ref"]=Lme(u),i[l||s]=n,d.push(l||s),!c.length)return{SheetNames:d,Sheets:i};for(var h={},f=[],p=0;p<c.length;++p)i[d[p]]?(f.push(c[p]||d[p]),h[c[p]]=i[c[p]]||i[d[p]]):(f.push(c[p]),h[c[p]]={"!ref":"A1"});return{SheetNames:f,Sheets:h}}function a(e,t,a){var r=[{c:0,r:0},{t:"n",v:0},0,0];return a.qpro&&20768!=a.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var n=e.l+t,s=a(e,0,r);if(s[1].t="s",20768==r.vers){e.l++;var l=e.read_shift(1);return s[1].v=e.read_shift(l,"utf8"),s}return r.qpro&&e.l++,s[1].v=e.read_shift(n-e.l,"cstr"),s}function n(e,t,a){var r=wme(7+a.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var n=0;n<r.length;++n){var s=a.charCodeAt(n);r.write_shift(1,s>=128?95:s)}return r.write_shift(1,0),r}function s(e,t,a){var r=wme(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,a,"i"),r}function l(e,t,a){var r=wme(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,a,"f"),r}function o(e,t,a){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(a?Dme(t):Tme(t))}var i={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},d=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function c(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function u(e,t,a,r){var n=wme(6+r.length);n.write_shift(2,e),n.write_shift(1,a),n.write_shift(1,t),n.write_shift(1,39);for(var s=0;s<r.length;++s){var l=r.charCodeAt(s);n.write_shift(1,l>=128?95:l)}return n.write_shift(1,0),n}function m(e,t){var a=c(e),r=e.read_shift(4),n=e.read_shift(4),s=e.read_shift(2);if(65535==s)return 0===r&&3221225472===n?(a[1].t="e",a[1].v=15):0===r&&3489660928===n?(a[1].t="e",a[1].v=42):a[1].v=0,a;var l=32768&s;return s=(32767&s)-16446,a[1].v=(1-2*l)*(n*Math.pow(2,s+32)+r*Math.pow(2,s)),a}function h(e,t,a,r){var n=wme(14);if(n.write_shift(2,e),n.write_shift(1,a),n.write_shift(1,t),0==r)return n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,65535),n;var s,l=0,o=0,i=0;return r<0&&(l=1,r=-r),o=0|Math.log2(r),2147483648&(i=(r/=Math.pow(2,o-31))>>>0)||(++o,i=(r/=2)>>>0),r-=i,i|=2147483648,i>>>=0,s=(r*=Math.pow(2,32))>>>0,n.write_shift(4,s),n.write_shift(4,i),o+=16383+(l?32768:0),n.write_shift(2,o),n}function f(e,t){var a=c(e),r=e.read_shift(8,"f");return a[1].v=r,a}function p(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function x(e,t){var a=wme(5+e.length);a.write_shift(2,14e3),a.write_shift(2,t);for(var r=0;r<e.length;++r){var n=e.charCodeAt(r);a[a.l++]=n>127?95:n}return a[a.l++]=0,a}var g={0:{n:"BOF",f:Hhe},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,a){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&a.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&a.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&a.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var n=a(e,0,r);return n[1].v=e.read_shift(2,"i"),n}},14:{n:"NUMBER",f:function(e,t,r){var n=a(e,0,r);return n[1].v=e.read_shift(8,"f"),n}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var n=e.l+t,s=a(e,0,r);if(s[1].v=e.read_shift(8,"f"),r.qpro)e.l=n;else{var l=e.read_shift(2);!function(e,t){vme(e,0);for(var a=[],r=0,n="",s="",l="",c="";e.l<e.length;){var u=e[e.l++];switch(u){case 0:a.push(e.read_shift(8,"f"));break;case 1:s=o(t[0].c,e.read_shift(2),!0),n=o(t[0].r,e.read_shift(2),!1),a.push(s+n);break;case 2:var m=o(t[0].c,e.read_shift(2),!0),h=o(t[0].r,e.read_shift(2),!1);s=o(t[0].c,e.read_shift(2),!0),n=o(t[0].r,e.read_shift(2),!1),a.push(m+h+":"+s+n);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:a.push("("+a.pop()+")");break;case 5:a.push(e.read_shift(2));break;case 6:for(var f="";u=e[e.l++];)f+=String.fromCharCode(u);a.push('"'+f.replace(/"/g,'""')+'"');break;case 8:a.push("-"+a.pop());break;case 23:a.push("+"+a.pop());break;case 22:a.push("NOT("+a.pop()+")");break;case 20:case 21:c=a.pop(),l=a.pop(),a.push(["AND","OR"][u-20]+"("+l+","+c+")");break;default:if(u<32&&d[u])c=a.pop(),l=a.pop(),a.push(l+d[u]+c);else{if(!i[u])return u<=7?console.error("WK1 invalid opcode "+u.toString(16)):u<=24?console.error("WK1 unsupported op "+u.toString(16)):u<=30?console.error("WK1 invalid opcode "+u.toString(16)):u<=115?console.error("WK1 unsupported function opcode "+u.toString(16)):console.error("WK1 unrecognized opcode "+u.toString(16));if(69==(r=i[u][1])&&(r=e[e.l++]),r>a.length)return void console.error("WK1 bad formula parse 0x"+u.toString(16)+":|"+a.join("|")+"|");var p=a.slice(-r);a.length-=r,a.push(i[u][0]+"("+p.join(",")+")")}}}1==a.length?t[1].f=""+a[0]:console.error("WK1 bad formula parse |"+a.join("|")+"|")}(e.slice(e.l,e.l+l),s),e.l+=l}return s}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:p},222:{n:"SHEETNAMELP",f:function(e,t){var a=e[e.l++];a>t-1&&(a=t-1);for(var r="";r.length<a;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},b={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var a=c(e);return a[1].t="s",a[1].v=e.read_shift(t-4,"cstr"),a}},23:{n:"NUMBER17",f:m},24:{n:"NUMBER18",f:function(e,t){var a=c(e);a[1].v=e.read_shift(2);var r=a[1].v>>1;if(1&a[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return a[1].v=r,a}},25:{n:"FORMULA19",f:function(e,t){var a=m(e);return e.l+=t-14,a}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var a={},r=e.l+t;e.l<r;){var n=e.read_shift(2);if(14e3==n){for(a[n]=[0,""],a[n][0]=e.read_shift(2);e[e.l];)a[n][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return a}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var a=c(e),r=e.read_shift(4);return a[1].v=r>>6,a}},38:{n:"??"},39:{n:"NUMBER27",f:f},40:{n:"FORMULA28",f:function(e,t){var a=f(e);return e.l+=t-10,a}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:p},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,a){if(a.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var a=t||{};if(+a.codepage>=0&&yde(+a.codepage),"string"==a.type)throw new Error("Cannot write WK1 to JS string");var r,o,i=jme(),d=Ime(e["!ref"]),c=Array.isArray(e),u=[];_xe(i,0,(r=1030,(o=wme(2)).write_shift(2,r),o)),_xe(i,6,function(e){var t=wme(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(d));for(var m=Math.min(d.e.r,8191),h=d.s.r;h<=m;++h)for(var f=Tme(h),p=d.s.c;p<=d.e.c;++p){h===d.s.r&&(u[p]=Dme(p));var x=u[p]+f,g=c?(e[h]||[])[p]:e[x];g&&"z"!=g.t&&("n"==g.t?(0|g.v)==g.v&&g.v>=-32768&&g.v<=32767?_xe(i,13,s(h,p,g.v)):_xe(i,14,l(h,p,g.v)):_xe(i,15,n(h,p,Rme(g).slice(0,239))))}return _xe(i,1),i.end()},book_to_wk3:function(e,t){var a=t||{};if(+a.codepage>=0&&yde(+a.codepage),"string"==a.type)throw new Error("Cannot write WK3 to JS string");var r=jme();_xe(r,0,function(e){var t=wme(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var a=0,r=0,n=0,s=0;s<e.SheetNames.length;++s){var l=e.SheetNames[s],o=e.Sheets[l];if(o&&o["!ref"]){++n;var i=Mme(o["!ref"]);a<i.e.r&&(a=i.e.r),r<i.e.c&&(r=i.e.c)}}return a>8191&&(a=8191),t.write_shift(2,a),t.write_shift(1,n),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var n=0,s=0;n<e.SheetNames.length;++n)(e.Sheets[e.SheetNames[n]]||{})["!ref"]&&_xe(r,27,x(e.SheetNames[n],s++));var l=0;for(n=0;n<e.SheetNames.length;++n){var o=e.Sheets[e.SheetNames[n]];if(o&&o["!ref"]){for(var i=Ime(o["!ref"]),d=Array.isArray(o),c=[],m=Math.min(i.e.r,8191),f=i.s.r;f<=m;++f)for(var p=Tme(f),g=i.s.c;g<=i.e.c;++g){f===i.s.r&&(c[g]=Dme(g));var b=c[g]+p,v=d?(o[f]||[])[g]:o[b];v&&"z"!=v.t&&("n"==v.t?_xe(r,23,h(f,g,l,v.v)):_xe(r,22,u(f,g,l,Rme(v).slice(0,239))))}++l}}return _xe(r,1),r.end()},to_workbook:function(e,a){switch(a.type){case"base64":return t(Ade(Cde(e)),a);case"binary":return t(Ade(e),a);case"buffer":case"array":return t(e,a)}throw"Unsupported type "+a.type}}}(),hfe=/^\s|\s$|[\t\n\r]/;function ffe(e,t){if(!t.bookSST)return"";var a=[aue];a[a.length]=vue("sst",null,{xmlns:Mue[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var n=e[r],s="<si>";n.r?s+=n.r:(s+="<t",n.t||(n.t=""),n.t.match(hfe)&&(s+=' xml:space="preserve"'),s+=">"+lue(n.t)+"</t>"),s+="</si>",a[a.length]=s}return a.length>2&&(a[a.length]="</sst>",a[1]=a[1].replace("/>",">")),a.join("")}var pfe=function(e,t){var a=!1;return null==t&&(a=!0,t=wme(15+4*e.t.length)),t.write_shift(1,0),Wme(e.t,t),a?t.slice(0,t.l):t};function xfe(e){var t=jme();Nme(t,159,function(e,t){return t||(t=wme(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var a=0;a<e.length;++a)Nme(t,19,pfe(e[a]));return Nme(t,160),t.end()}function gfe(e){var t,a,r=0,n=function(e){for(var t=[],a=e.split(""),r=0;r<a.length;++r)t[r]=a[r].charCodeAt(0);return t}(e),s=n.length+1;for((t=Ode(s))[0]=n.length,a=1;a!=s;++a)t[a]=n[a-1];for(a=s-1;a>=0;--a)r=((16384&r?1:0)|r<<1&32767)^t[a];return 52811^r}var bfe=function(){function e(e,a){switch(a.type){case"base64":return t(Cde(e),a);case"binary":return t(e,a);case"buffer":return t(Ede&&Buffer.isBuffer(e)?e.toString("binary"):Mde(e),a);case"array":return t(Gce(e),a)}throw new Error("Unrecognized type "+a.type)}function t(e,t){var a=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var n={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach((function(e,t){Array.isArray(a)&&(a[t]=[]);for(var r,s=/\\\w+\b/g,l=0,o=-1;r=s.exec(e);){if("\\cell"===r[0]){var i=e.slice(l,s.lastIndex-r[0].length);if(" "==i[0]&&(i=i.slice(1)),++o,i.length){var d={v:i,t:"s"};Array.isArray(a)?a[t][o]=d:a[Pme({r:t,c:o})]=d}}l=s.lastIndex}o>n.e.c&&(n.e.c=o)})),a["!ref"]=Lme(n),a}return{to_workbook:function(t,a){return $me(e(t,a),a)},to_sheet:e,from_sheet:function(e){for(var t,a=["{\\rtf1\\ansi"],r=Ime(e["!ref"]),n=Array.isArray(e),s=r.s.r;s<=r.e.r;++s){a.push("\\trowd\\trautofit1");for(var l=r.s.c;l<=r.e.c;++l)a.push("\\cellx"+(l+1));for(a.push("\\pard\\intbl"),l=r.s.c;l<=r.e.c;++l){var o=Pme({r:s,c:l});(t=n?(e[s]||[])[l]:e[o])&&(null!=t.v||t.f&&!t.F)&&(a.push(" "+(t.w||(Rme(t),t.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}}}();function vfe(e){for(var t=0,a=1;3!=t;++t)a=256*a+(e[t]>255?255:e[t]<0?0:e[t]);return a.toString(16).toUpperCase().slice(1)}var yfe=6;function wfe(e){return Math.floor((e+Math.round(128/yfe)/256)*yfe)}function jfe(e){return Math.floor((e-5)/yfe*100+.5)/100}function Nfe(e){return Math.round((e*yfe+5)/yfe*256)/256}function _fe(e){e.width?(e.wpx=wfe(e.width),e.wch=jfe(e.wpx),e.MDW=yfe):e.wpx?(e.wch=jfe(e.wpx),e.width=Nfe(e.wch),e.MDW=yfe):"number"==typeof e.wch&&(e.width=Nfe(e.wch),e.wpx=wfe(e.width),e.MDW=yfe),e.customWidth&&delete e.customWidth}function Sfe(e){return 96*e/96}function kfe(e){return 96*e/96}function Cfe(e,t){var a,r=[aue,vue("styleSheet",null,{xmlns:Mue[0],"xmlns:vt":Due})];return e.SSF&&null!=(a=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach((function(a){for(var r=a[0];r<=a[1];++r)null!=e[r]&&(t[t.length]=vue("numFmt",null,{numFmtId:r,formatCode:lue(e[r])}))})),1===t.length?"":(t[t.length]="</numFmts>",t[0]=vue("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=a),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(a=function(e){var t=[];return t[t.length]=vue("cellXfs",null),e.forEach((function(e){t[t.length]=vue("xf",null,e)})),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=vue("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=a),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Efe(e,t,a){a||(a=wme(6+4*t.length)),a.write_shift(2,e),Wme(t,a);var r=a.length>a.l?a.slice(0,a.l):a;return null==a.l&&(a.l=a.length),r}function Tfe(e,t){t||(t=wme(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=wme(2));var a=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,a),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var a=0;"superscript"==e.vertAlign?a=1:"subscript"==e.vertAlign&&(a=2),t.write_shift(2,a),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),hhe(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),Wme(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Ofe,Dfe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Afe=yme;function Pfe(e,t){t||(t=wme(84)),Ofe||(Ofe=Ice(Dfe));var a=Ofe[e.patternType];null==a&&(a=40),t.write_shift(4,a);var r=0;if(40!=a)for(hhe({auto:1},t),hhe({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Mfe(e,t,a){return a||(a=wme(16)),a.write_shift(2,t||0),a.write_shift(2,e.numFmtId||0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(1,0),a}function Lfe(e,t){return t||(t=wme(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Ife=yme;function Ffe(e){var t;Nme(e,613,Ume(1)),Nme(e,46,(t||(t=wme(51)),t.write_shift(1,0),Lfe(0,t),Lfe(0,t),Lfe(0,t),Lfe(0,t),Lfe(0,t),t.length>t.l?t.slice(0,t.l):t)),Nme(e,614)}function Rfe(e){var t,a;Nme(e,619,Ume(1)),Nme(e,48,(t={xfId:0,builtinId:0,name:"Normal"},a||(a=wme(52)),a.write_shift(4,t.xfId),a.write_shift(2,1),a.write_shift(1,+t.builtinId),a.write_shift(1,0),ahe(t.name||"",a),a.length>a.l?a.slice(0,a.l):a)),Nme(e,620)}function $fe(e){Nme(e,508,function(e,t,a){var r=wme(2052);return r.write_shift(4,e),ahe(t,r),ahe(a,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),Nme(e,509)}function Bfe(e,t){var a=jme();return Nme(a,278),function(e,t){if(t){var a=0;[[5,8],[23,26],[41,44],[50,392]].forEach((function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++a})),0!=a&&(Nme(e,615,Ume(a)),[[5,8],[23,26],[41,44],[50,392]].forEach((function(a){for(var r=a[0];r<=a[1];++r)null!=t[r]&&Nme(e,44,Efe(r,t[r]))})),Nme(e,616))}}(a,e.SSF),function(e){Nme(e,611,Ume(1)),Nme(e,43,Tfe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Nme(e,612)}(a),function(e){Nme(e,603,Ume(2)),Nme(e,45,Pfe({patternType:"none"})),Nme(e,45,Pfe({patternType:"gray125"})),Nme(e,604)}(a),Ffe(a),function(e){Nme(e,626,Ume(1)),Nme(e,47,Mfe({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Nme(e,627)}(a),function(e,t){Nme(e,617,Ume(t.length)),t.forEach((function(t){Nme(e,47,Mfe(t,0))})),Nme(e,618)}(a,t.cellXfs),Rfe(a),function(e){Nme(e,505,Ume(0)),Nme(e,506)}(a),$fe(a),Nme(a,279),a.end()}function zfe(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var a=[aue];return a[a.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',a[a.length]="<a:themeElements>",a[a.length]='<a:clrScheme name="Office">',a[a.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',a[a.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',a[a.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',a[a.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',a[a.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',a[a.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',a[a.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',a[a.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',a[a.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',a[a.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',a[a.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',a[a.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',a[a.length]="</a:clrScheme>",a[a.length]='<a:fontScheme name="Office">',a[a.length]="<a:majorFont>",a[a.length]='<a:latin typeface="Cambria"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Times New Roman"/>',a[a.length]='<a:font script="Hebr" typeface="Times New Roman"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="MoolBoran"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Times New Roman"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:majorFont>",a[a.length]="<a:minorFont>",a[a.length]='<a:latin typeface="Calibri"/>',a[a.length]='<a:ea typeface=""/>',a[a.length]='<a:cs typeface=""/>',a[a.length]='<a:font script="Jpan" typeface=" "/>',a[a.length]='<a:font script="Hang" typeface=" "/>',a[a.length]='<a:font script="Hans" typeface=""/>',a[a.length]='<a:font script="Hant" typeface=""/>',a[a.length]='<a:font script="Arab" typeface="Arial"/>',a[a.length]='<a:font script="Hebr" typeface="Arial"/>',a[a.length]='<a:font script="Thai" typeface="Tahoma"/>',a[a.length]='<a:font script="Ethi" typeface="Nyala"/>',a[a.length]='<a:font script="Beng" typeface="Vrinda"/>',a[a.length]='<a:font script="Gujr" typeface="Shruti"/>',a[a.length]='<a:font script="Khmr" typeface="DaunPenh"/>',a[a.length]='<a:font script="Knda" typeface="Tunga"/>',a[a.length]='<a:font script="Guru" typeface="Raavi"/>',a[a.length]='<a:font script="Cans" typeface="Euphemia"/>',a[a.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',a[a.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',a[a.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',a[a.length]='<a:font script="Thaa" typeface="MV Boli"/>',a[a.length]='<a:font script="Deva" typeface="Mangal"/>',a[a.length]='<a:font script="Telu" typeface="Gautami"/>',a[a.length]='<a:font script="Taml" typeface="Latha"/>',a[a.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',a[a.length]='<a:font script="Orya" typeface="Kalinga"/>',a[a.length]='<a:font script="Mlym" typeface="Kartika"/>',a[a.length]='<a:font script="Laoo" typeface="DokChampa"/>',a[a.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',a[a.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',a[a.length]='<a:font script="Viet" typeface="Arial"/>',a[a.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',a[a.length]='<a:font script="Geor" typeface="Sylfaen"/>',a[a.length]="</a:minorFont>",a[a.length]="</a:fontScheme>",a[a.length]='<a:fmtScheme name="Office">',a[a.length]="<a:fillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="1"/>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:lin ang="16200000" scaled="0"/>',a[a.length]="</a:gradFill>",a[a.length]="</a:fillStyleLst>",a[a.length]="<a:lnStyleLst>",a[a.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',a[a.length]="</a:lnStyleLst>",a[a.length]="<a:effectStyleLst>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]="</a:effectStyle>",a[a.length]="<a:effectStyle>",a[a.length]="<a:effectLst>",a[a.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',a[a.length]="</a:effectLst>",a[a.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',a[a.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',a[a.length]="</a:effectStyle>",a[a.length]="</a:effectStyleLst>",a[a.length]="<a:bgFillStyleLst>",a[a.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]='<a:gradFill rotWithShape="1">',a[a.length]="<a:gsLst>",a[a.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',a[a.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',a[a.length]="</a:gsLst>",a[a.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',a[a.length]="</a:gradFill>",a[a.length]="</a:bgFillStyleLst>",a[a.length]="</a:fmtScheme>",a[a.length]="</a:themeElements>",a[a.length]="<a:objectDefaults>",a[a.length]="<a:spDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',a[a.length]="</a:spDef>",a[a.length]="<a:lnDef>",a[a.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',a[a.length]="</a:lnDef>",a[a.length]="</a:objectDefaults>",a[a.length]="<a:extraClrSchemeLst/>",a[a.length]="</a:theme>",a.join("")}function Ufe(){var e,t,a=jme();return Nme(a,332),Nme(a,334,Ume(1)),Nme(a,335,((t=wme(12+2*(e={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,e.flags),t.write_shift(4,e.version),Wme(e.name,t),t.slice(0,t.l))),Nme(a,336),Nme(a,339,function(e,t){var a=wme(8+2*t.length);return a.write_shift(4,e),Wme(t,a),a.slice(0,a.l)}(1,"XLDAPR")),Nme(a,52),Nme(a,35,Ume(514)),Nme(a,4096,Ume(0)),Nme(a,4097,Whe(1)),Nme(a,36),Nme(a,53),Nme(a,340),Nme(a,337,function(e){var t=wme(8);return t.write_shift(4,e),t.write_shift(4,1),t}(1)),Nme(a,51,function(e){var t=wme(4+8*e.length);t.write_shift(4,e.length);for(var a=0;a<e.length;++a)t.write_shift(4,e[a][0]),t.write_shift(4,e[a][1]);return t}([[1,0]])),Nme(a,338),Nme(a,333),a.end()}function Hfe(){var e=[aue];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var Wfe=1024;function Yfe(e,t){for(var a=[21600,21600],r=["m0,0l0",a[1],a[0],a[1],a[0],"0xe"].join(","),n=[vue("xml",null,{"xmlns:v":Bue,"xmlns:o":Lue,"xmlns:x":Iue,"xmlns:mv":$ue}).replace(/\/>/,">"),vue("o:shapelayout",vue("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),vue("v:shapetype",[vue("v:stroke",null,{joinstyle:"miter"}),vue("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:a.join(","),path:r})];Wfe<1e3*e;)Wfe+=1e3;return t.forEach((function(e){var t=Ame(e[0]),a={color2:"#BEFF82",type:"gradient"};"gradient"==a.type&&(a.angle="-180");var r="gradient"==a.type?vue("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,s=vue("v:fill",r,a);++Wfe,n=n.concat(["<v:shape"+bue({id:"_x0000_s"+Wfe,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",s,vue("v:shadow",null,{on:"t",obscured:"t"}),vue("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",gue("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),gue("x:AutoFill","False"),gue("x:Row",String(t.r)),gue("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])})),n.push("</xml>"),n.join("")}function qfe(e){var t=[aue,vue("comments",null,{xmlns:Mue[0]})],a=[];return t.push("<authors>"),e.forEach((function(e){e[1].forEach((function(e){var r=lue(e.a);-1==a.indexOf(r)&&(a.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==a.indexOf("tc="+e.ID)&&(a.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))}))})),0==a.length&&(a.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach((function(e){var r=0,n=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=a.indexOf("tc="+e[1][0].ID):e[1].forEach((function(e){e.a&&(r=a.indexOf(lue(e.a))),n.push(e.t||"")})),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),n.length<=1)t.push(gue("t",lue(n[0]||"")));else{for(var s="Comment:\n    "+n[0]+"\n",l=1;l<n.length;++l)s+="Reply:\n    "+n[l]+"\n";t.push(gue("t",lue(s)))}t.push("</text></comment>")})),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Vfe(e,t,a){var r=[aue,vue("ThreadedComments",null,{xmlns:kue}).replace(/[\/]>/,">")];return e.forEach((function(e){var n="";(e[1]||[]).forEach((function(s,l){if(s.T){s.a&&-1==t.indexOf(s.a)&&t.push(s.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+a.tcid++).slice(-12)+"}"};0==l?n=o.id:o.parentId=n,s.ID=o.id,s.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),r.push(vue("threadedComment",gue("text",s.t||""),o))}else delete s.ID}))})),r.push("</ThreadedComments>"),r.join("")}var Gfe=Hme;function Kfe(e){var t=jme(),a=[];return Nme(t,628),Nme(t,630),e.forEach((function(e){e[1].forEach((function(e){a.indexOf(e.a)>-1||(a.push(e.a.slice(0,54)),Nme(t,632,function(e){return Wme(e.slice(0,54))}(e.a)))}))})),Nme(t,631),Nme(t,633),e.forEach((function(e){e[1].forEach((function(r){r.iauthor=a.indexOf(r.a);var n={s:Ame(e[0]),e:Ame(e[0])};Nme(t,635,function(e,t){return null==t&&(t=wme(36)),t.write_shift(4,e[1].iauthor),che(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([n,r])),r.t&&r.t.length>0&&Nme(t,637,Gme(r)),Nme(t,636),delete r.iauthor}))})),Nme(t,634),Nme(t,629),t.end()}var Xfe=["xlsb","xlsm","xlam","biff8","xla"],Qfe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function a(e,a,r,n){var s=!1,l=!1;0==r.length?l=!0:"["==r.charAt(0)&&(l=!0,r=r.slice(1,-1)),0==n.length?s=!0:"["==n.charAt(0)&&(s=!0,n=n.slice(1,-1));var o=r.length>0?0|parseInt(r,10):0,i=n.length>0?0|parseInt(n,10):0;return s?i+=t.c:--i,l?o+=t.r:--o,a+(s?"":"$")+Dme(i)+(l?"":"$")+Tme(o)}return function(r,n){return t=n,r.replace(e,a)}}(),Jfe=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Zfe=function(){return function(e,t){return e.replace(Jfe,(function(e,a,r,n,s,l){var o=Ome(n)-(r?0:t.c),i=Eme(l)-(s?0:t.r);return a+"R"+(0==i?"":s?i+1:"["+i+"]")+"C"+(0==o?"":r?o+1:"["+o+"]")}))}}();function epe(e,t){return e.replace(Jfe,(function(e,a,r,n,s,l){return a+("$"==r?r+n:Dme(Ome(n)+t.c))+("$"==s?s+l:Tme(Eme(l)+t.r))}))}function tpe(e){e.l+=1}function ape(e,t){var a=e.read_shift(2);return[16383&a,a>>14&1,a>>15&1]}function rpe(e,t,a){var r=2;if(a){if(a.biff>=2&&a.biff<=5)return npe(e);12==a.biff&&(r=4)}var n=e.read_shift(r),s=e.read_shift(r),l=ape(e),o=ape(e);return{s:{r:n,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function npe(e){var t=ape(e),a=ape(e),r=e.read_shift(1),n=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:a[0],c:n,cRel:a[1],rRel:a[2]}}}function spe(e,t,a){if(a&&a.biff>=2&&a.biff<=5)return function(e){var t=ape(e),a=e.read_shift(1);return{r:t[0],c:a,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(a&&12==a.biff?4:2),n=ape(e);return{r:r,c:n[0],cRel:n[1],rRel:n[2]}}function lpe(e){var t=e.read_shift(2),a=e.read_shift(2);return{r:t,c:255&a,fQuoted:!!(16384&a),cRel:a>>15,rRel:a>>15}}function ope(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function ipe(e){return[e.read_shift(1),e.read_shift(1)]}function dpe(e,t){var a=[e.read_shift(1)];if(12==t)switch(a[0]){case 2:a[0]=4;break;case 4:a[0]=16;break;case 0:a[0]=1;break;case 1:a[0]=2}switch(a[0]){case 4:a[1]=function(e,t){return 1===e.read_shift(t)}(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:a[1]=vhe[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:a[1]=uhe(e);break;case 2:a[1]=function(e,t,a){if(a.biff>5)return function(e,t,a){var r=e.read_shift(a&&2==a.biff?1:2);return 0===r?(e.l++,""):function(e,t,a){if(a){if(a.biff>=2&&a.biff<=5)return e.read_shift(t,"cpstr");if(a.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}(e,r,a)}(e,0,a);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,a.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+a[0])}return a}function cpe(e,t,a){for(var r=e.read_shift(12==a.biff?4:2),n=[],s=0;s!=r;++s)n.push((12==a.biff?dhe:Zhe)(e));return n}function upe(e,t,a){var r=0,n=0;12==a.biff?(r=e.read_shift(4),n=e.read_shift(4)):(n=1+e.read_shift(1),r=1+e.read_shift(2)),a.biff>=2&&a.biff<8&&(--r,0==--n&&(n=256));for(var s=0,l=[];s!=r&&(l[s]=[]);++s)for(var o=0;o!=n;++o)l[s][o]=dpe(e,a.biff);return l}function mpe(e,t,a){return e.l+=2,[lpe(e)]}function hpe(e){return e.l+=6,[]}function fpe(e){return e.l+=2,[Hhe(e),1&e.read_shift(2)]}var ppe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"],xpe={1:{n:"PtgExp",f:function(e,t,a){return e.l++,a&&12==a.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(a&&2==a.biff?1:2)]}},2:{n:"PtgTbl",f:yme},3:{n:"PtgAdd",f:tpe},4:{n:"PtgSub",f:tpe},5:{n:"PtgMul",f:tpe},6:{n:"PtgDiv",f:tpe},7:{n:"PtgPower",f:tpe},8:{n:"PtgConcat",f:tpe},9:{n:"PtgLt",f:tpe},10:{n:"PtgLe",f:tpe},11:{n:"PtgEq",f:tpe},12:{n:"PtgGe",f:tpe},13:{n:"PtgGt",f:tpe},14:{n:"PtgNe",f:tpe},15:{n:"PtgIsect",f:tpe},16:{n:"PtgUnion",f:tpe},17:{n:"PtgRange",f:tpe},18:{n:"PtgUplus",f:tpe},19:{n:"PtgUminus",f:tpe},20:{n:"PtgPercent",f:tpe},21:{n:"PtgParen",f:tpe},22:{n:"PtgMissArg",f:tpe},23:{n:"PtgStr",f:function(e,t,a){return e.l++,qhe(e,0,a)}},26:{n:"PtgSheet",f:function(e,t,a){return e.l+=5,e.l+=2,e.l+=2==a.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,a){return e.l+=2==a.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,vhe[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,uhe(e)}},32:{n:"PtgArray",f:function(e,t,a){var r=(96&e[e.l++])>>5;return e.l+=2==a.biff?6:12==a.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,a){var r=(96&e[e.l])>>5;e.l+=1;var n=e.read_shift(a&&a.biff<=3?1:2);return[Ppe[n],Ape[n],r]}},34:{n:"PtgFuncVar",f:function(e,t,a){var r=e[e.l++],n=e.read_shift(1),s=a&&a.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[n,(0===s[0]?Ape:Dpe)[s[1]]]}},35:{n:"PtgName",f:function(e,t,a){var r=e.read_shift(1)>>>5&3,n=!a||a.biff>=8?4:2,s=e.read_shift(n);switch(a.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,s]}},36:{n:"PtgRef",f:function(e,t,a){var r=(96&e[e.l])>>5;return e.l+=1,[r,spe(e,0,a)]}},37:{n:"PtgArea",f:function(e,t,a){return[(96&e[e.l++])>>5,rpe(e,a.biff>=2&&a.biff,a)]}},38:{n:"PtgMemArea",f:function(e,t,a){var r=e.read_shift(1)>>>5&3;return e.l+=a&&2==a.biff?3:4,[r,e.read_shift(a&&2==a.biff?1:2)]}},39:{n:"PtgMemErr",f:yme},40:{n:"PtgMemNoMem",f:yme},41:{n:"PtgMemFunc",f:function(e,t,a){return[e.read_shift(1)>>>5&3,e.read_shift(a&&2==a.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,a){var r=e.read_shift(1)>>>5&3;return e.l+=4,a.biff<8&&e.l--,12==a.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,a){var r=(96&e[e.l++])>>5;return e.l+=a&&a.biff>8?12:a.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,a){var r=(96&e[e.l])>>5;e.l+=1;var n=function(e,t,a){var r=a&&a.biff?a.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),a=e.read_shift(1),r=(32768&t)>>15,n=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==n&&a>=128&&(a-=256),{r:t,c:a,cRel:n,rRel:r}}(e);var n=e.read_shift(r>=12?4:2),s=e.read_shift(2),l=(16384&s)>>14,o=(32768&s)>>15;if(s&=16383,1==o)for(;n>524287;)n-=1048576;if(1==l)for(;s>8191;)s-=16384;return{r:n,c:s,cRel:l,rRel:o}}(e,0,a);return[r,n]}},45:{n:"PtgAreaN",f:function(e,t,a){var r=(96&e[e.l++])>>5,n=function(e,t,a){if(a.biff<8)return npe(e);var r=e.read_shift(12==a.biff?4:2),n=e.read_shift(12==a.biff?4:2),s=ape(e),l=ape(e);return{s:{r:r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:n,c:l[0],cRel:l[1],rRel:l[2]}}}(e,0,a);return[r,n]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,a){return 5==a.biff?function(e){var t=e.read_shift(1)>>>5&3,a=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,a,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,a){var r=(96&e[e.l])>>5;e.l+=1;var n=e.read_shift(2);return a&&5==a.biff&&(e.l+=12),[r,n,spe(e,0,a)]}},59:{n:"PtgArea3d",f:function(e,t,a){var r=(96&e[e.l++])>>5,n=e.read_shift(2,"i");if(a&&5===a.biff)e.l+=12;return[r,n,rpe(e,0,a)]}},60:{n:"PtgRefErr3d",f:function(e,t,a){var r=(96&e[e.l++])>>5,n=e.read_shift(2),s=4;if(a)switch(a.biff){case 5:s=15;break;case 12:s=6}return e.l+=s,[r,n]}},61:{n:"PtgAreaErr3d",f:function(e,t,a){var r=(96&e[e.l++])>>5,n=e.read_shift(2),s=8;if(a)switch(a.biff){case 5:e.l+=12,s=6;break;case 12:s=12}return e.l+=s,[r,n]}},255:{}},gpe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bpe={1:{n:"PtgElfLel",f:fpe},2:{n:"PtgElfRw",f:mpe},3:{n:"PtgElfCol",f:mpe},6:{n:"PtgElfRwV",f:mpe},7:{n:"PtgElfColV",f:mpe},10:{n:"PtgElfRadical",f:mpe},11:{n:"PtgElfRadicalS",f:hpe},13:{n:"PtgElfColS",f:hpe},15:{n:"PtgElfColSV",f:hpe},16:{n:"PtgElfRadicalLel",f:fpe},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),a=e.read_shift(2),r=e.read_shift(4),n=e.read_shift(2),s=e.read_shift(2);return{ixti:t,coltype:3&a,rt:ppe[a>>2&31],idx:r,c:n,C:s}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},vpe={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,a){var r=255&e[e.l+1]?1:0;return e.l+=a&&2==a.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,a){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(a&&2==a.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,a){e.l+=2;for(var r=e.read_shift(a&&2==a.biff?1:2),n=[],s=0;s<=r;++s)n.push(e.read_shift(a&&2==a.biff?1:2));return n}},8:{n:"PtgAttrGoto",f:function(e,t,a){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(a&&2==a.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,a){e.l+=a&&2==a.biff?3:4}},32:{n:"PtgAttrBaxcel",f:ope},33:{n:"PtgAttrBaxcel",f:ope},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),ipe(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),ipe(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function ype(e){for(var t=[],a=0;a<e.length;++a){for(var r=e[a],n=[],s=0;s<r.length;++s){var l=r[s];l?2===l[0]?n.push('"'+l[1].replace(/"/g,'""')+'"'):n.push(l[1]):n.push("")}t.push(n.join(","))}return t.join(";")}var wpe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function jpe(e,t,a){if(!e)return"SH33TJSERR0";if(a.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(a.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var n="";if(a.biff>8)switch(e[r[0]][0]){case 357:return n=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?n:n+":"+e.SheetNames[r[2]];case 358:return null!=a.SID?e.SheetNames[a.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return n=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?n:n+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map((function(e){return e.Name})).join(";;");default:return e[r[0]][0][3]?(n=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?n:n+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Npe(e,t,a){var r=jpe(e,t,a);return"#REF"==r?r:function(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,a)}function _pe(e,t,a,r,n){var s,l,o,i,d=n&&n.biff||8,c={s:{c:0,r:0},e:{c:0,r:0}},u=[],m=0,h=0,f="";if(!e[0]||!e[0][0])return"";for(var p=-1,x="",g=0,b=e[0].length;g<b;++g){var v=e[0][g];switch(v[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(s=u.pop(),l=u.pop(),p>=0){switch(e[0][p][1][0]){case 0:x=Xce(" ",e[0][p][1][1]);break;case 1:x=Xce("\r",e[0][p][1][1]);break;default:if(x="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}l+=x,p=-1}u.push(l+wpe[v[0]]+s);break;case"PtgIsect":s=u.pop(),l=u.pop(),u.push(l+" "+s);break;case"PtgUnion":s=u.pop(),l=u.pop(),u.push(l+","+s);break;case"PtgRange":s=u.pop(),l=u.pop(),u.push(l+":"+s);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=_me(v[1][1],c,n),u.push(kme(o,d));break;case"PtgRefN":o=a?_me(v[1][1],a,n):v[1][1],u.push(kme(o,d));break;case"PtgRef3d":m=v[1][1],o=_me(v[1][2],c,n),f=Npe(r,m,n),u.push(f+"!"+kme(o,d));break;case"PtgFunc":case"PtgFuncVar":var y=v[1][0],w=v[1][1];y||(y=0);var j=0==(y&=127)?[]:u.slice(-y);u.length-=y,"User"===w&&(w=j.shift()),u.push(w+"("+j.join(",")+")");break;case"PtgBool":u.push(v[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":u.push(v[1]);break;case"PtgNum":u.push(String(v[1]));break;case"PtgStr":u.push('"'+v[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":i=Sme(v[1][1],a?{s:a}:c,n),u.push(Cme(i,n));break;case"PtgArea":i=Sme(v[1][1],c,n),u.push(Cme(i,n));break;case"PtgArea3d":m=v[1][1],i=v[1][2],f=Npe(r,m,n),u.push(f+"!"+Cme(i,n));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgName":h=v[1][2];var N=(r.names||[])[h-1]||(r[0]||[])[h],_=N?N.Name:"SH33TJSNAME"+String(h);_&&"_xlfn."==_.slice(0,6)&&!n.xlfn&&(_=_.slice(6)),u.push(_);break;case"PtgNameX":var S,k=v[1][1];if(h=v[1][2],!(n.biff<=5)){var C="";if(14849==((r[k]||[])[0]||[])[0]||(1025==((r[k]||[])[0]||[])[0]?r[k][h]&&r[k][h].itab>0&&(C=r.SheetNames[r[k][h].itab-1]+"!"):C=r.SheetNames[h-1]+"!"),r[k]&&r[k][h])C+=r[k][h].Name;else if(r[0]&&r[0][h])C+=r[0][h].Name;else{var E=(jpe(r,k,n)||"").split(";;");E[h-1]?C=E[h-1]:C+="SH33TJSERRX"}u.push(C);break}k<0&&(k=-k),r[k]&&(S=r[k][h]),S||(S={Name:"SH33TJSERRY"}),u.push(S.Name);break;case"PtgParen":var T="(",O=")";if(p>=0){switch(x="",e[0][p][1][0]){case 2:T=Xce(" ",e[0][p][1][1])+T;break;case 3:T=Xce("\r",e[0][p][1][1])+T;break;case 4:O=Xce(" ",e[0][p][1][1])+O;break;case 5:O=Xce("\r",e[0][p][1][1])+O;break;default:if(n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}u.push(T+u.pop()+O);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":u.push("#REF!");break;case"PtgExp":o={c:v[1][1],r:v[1][0]};var D={c:a.c,r:a.r};if(r.sharedf[Pme(o)]){var A=r.sharedf[Pme(o)];u.push(_pe(A,0,D,r,n))}else{var P=!1;for(s=0;s!=r.arrayf.length;++s)if(l=r.arrayf[s],!(o.c<l[0].s.c||o.c>l[0].e.c||o.r<l[0].s.r||o.r>l[0].e.r)){u.push(_pe(l[1],0,D,r,n)),P=!0;break}P||u.push(v[1])}break;case"PtgArray":u.push("{"+ype(v[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=g;break;case"PtgMissArg":u.push("");break;case"PtgList":u.push("Table"+v[1].idx+"[#"+v[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(v))}if(3!=n.biff&&p>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][g][0])){var M=!0;switch((v=e[0][p])[1][0]){case 4:M=!1;case 0:x=Xce(" ",v[1][1]);break;case 5:M=!1;case 1:x=Xce("\r",v[1][1]);break;default:if(x="",n.WTF)throw new Error("Unexpected PtgAttrSpaceType "+v[1][0])}u.push((M?x:"")+u.pop()+(M?"":x)),p=-1}}if(u.length>1&&n.WTF)throw new Error("bad formula stack");return u[0]}function Spe(e,t,a,r,n){var s=Qhe(t,a,n),l=function(e){if(null==e){var t=wme(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return mhe("number"==typeof e?e:0)}(e.v),o=wme(6);o.write_shift(2,33),o.write_shift(4,0);for(var i=wme(e.bf.length),d=0;d<e.bf.length;++d)i[d]=e.bf[d];return Lde([s,l,o,i])}function kpe(e,t,a){var r=e.read_shift(4),n=function(e,t,a){for(var r,n,s=e.l+t,l=[];s!=e.l;)t=s-e.l,n=e[e.l],r=xpe[n]||xpe[gpe[n]],24!==n&&25!==n||(r=(24===n?bpe:vpe)[e[e.l+1]]),r&&r.f?l.push([r.n,r.f(e,t,a)]):yme(e,t);return l}(e,r,a),s=e.read_shift(4),l=s>0?function(e,t,a,r){if(r.biff<8)return yme(e,t);for(var n=e.l+t,s=[],l=0;l!==a.length;++l)switch(a[l][0]){case"PtgArray":a[l][1]=upe(e,0,r),s.push(a[l][1]);break;case"PtgMemArea":a[l][2]=cpe(e,a[l][1],r),s.push(a[l][2]);break;case"PtgExp":r&&12==r.biff&&(a[l][1][1]=e.read_shift(4),s.push(a[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+a[l][0]}return 0!=(t=n-e.l)&&s.push(yme(e,t)),s}(e,s,n,a):null;return[n,l]}var Cpe=kpe,Epe=kpe,Tpe=kpe,Ope=kpe,Dpe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ape={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Ppe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0},Mpe="undefined"!=typeof Map;function Lpe(e,t,a){var r=0,n=e.length;if(a){if(Mpe?a.has(t):Object.prototype.hasOwnProperty.call(a,t))for(var s=Mpe?a.get(t):a[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}else for(;r<n;++r)if(e[r].t===t)return e.Count++,r;return e[n]={t:t},e.Count++,e.Unique++,a&&(Mpe?(a.has(t)||a.set(t,[]),a.get(t).push(n)):(Object.prototype.hasOwnProperty.call(a,t)||(a[t]=[]),a[t].push(n))),n}function Ipe(e,t){var a={min:e+1,max:e+1},r=-1;return t.MDW&&(yfe=t.MDW),null!=t.width?a.customWidth=1:null!=t.wpx?r=jfe(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(a.width=Nfe(r),a.customWidth=1):null!=t.width&&(a.width=t.width),t.hidden&&(a.hidden=!0),null!=t.level&&(a.outlineLevel=a.level=t.level),a}function Fpe(e,t){if(e){var a=[.7,.7,.75,.75,.3,.3];null==e.left&&(e.left=a[0]),null==e.right&&(e.right=a[1]),null==e.top&&(e.top=a[2]),null==e.bottom&&(e.bottom=a[3]),null==e.header&&(e.header=a[4]),null==e.footer&&(e.footer=a[5])}}function Rpe(e,t,a){var r=a.revssf[null!=t.z?t.z:"General"],n=60,s=e.length;if(null==r&&a.ssf)for(;n<392;++n)if(null==a.ssf[n]){kce(t.z,n),a.ssf[n]=t.z,a.revssf[t.z]=r=n;break}for(n=0;n!=s;++n)if(e[n].numFmtId===r)return n;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function $pe(e,t,a){if(e&&e["!ref"]){var r=Ime(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+a+"): "+e["!ref"])}}var Bpe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],zpe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Upe(e,t,a,r){if(e.c&&a["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var n="",s=e.t,l=e.v;if("z"!==e.t)switch(e.t){case"b":n=e.v?"1":"0";break;case"n":n=""+e.v;break;case"e":n=vhe[e.v];break;case"d":r&&r.cellDates?n=Vce(e.v,-1).toISOString():((e=Kce(e)).t="n",n=""+(e.v=$ce(Vce(e.v)))),void 0===e.z&&(e.z=Vde[14]);break;default:n=e.v}var o=gue("v",lue(n)),i={r:t},d=Rpe(r.cellXfs,e,r);switch(0!==d&&(i.s=d),e.t){case"n":case"z":break;case"d":i.t="d";break;case"b":i.t="b";break;case"e":i.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=gue("v",""+Lpe(r.Strings,e.v,r.revStrings)),i.t="s";break}i.t="str"}if(e.t!=s&&(e.t=s,e.v=l),"string"==typeof e.f&&e.f){var c=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=vue("f",lue(e.f),c)+(null!=e.v?o:"")}return e.l&&a["!links"].push([t,e.l]),e.D&&(i.cm=1),vue("c",o,i)}function Hpe(e,t,a,r){var n,s=[aue,vue("worksheet",null,{xmlns:Mue[0],"xmlns:r":Oue})],l=a.SheetNames[e],o="",i=a.Sheets[l];null==i&&(i={});var d=i["!ref"]||"A1",c=Ime(d);if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),d=Lme(c)}r||(r={}),i["!comments"]=[];var u=[];!function(e,t,a,r,n){var s=!1,l={},o=null;if("xlsx"!==r.bookType&&t.vbaraw){var i=t.SheetNames[a];try{t.Workbook&&(i=t.Workbook.Sheets[a].CodeName||i)}catch(mMe){}s=!0,l.codeName=fue(lue(i))}if(e&&e["!outline"]){var d={summaryBelow:1,summaryRight:1};e["!outline"].above&&(d.summaryBelow=0),e["!outline"].left&&(d.summaryRight=0),o=(o||"")+vue("outlinePr",null,d)}(s||o)&&(n[n.length]=vue("sheetPr",o,l))}(i,a,e,t,s),s[s.length]=vue("dimension",null,{ref:d}),s[s.length]=function(e,t,a,r){var n={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(n.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),vue("sheetViews",vue("sheetView",null,n),{})}(0,0,0,a),t.sheetFormat&&(s[s.length]=vue("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=i["!cols"]&&i["!cols"].length>0&&(s[s.length]=function(e,t){for(var a,r=["<cols>"],n=0;n!=t.length;++n)(a=t[n])&&(r[r.length]=vue("col",null,Ipe(n,a)));return r[r.length]="</cols>",r.join("")}(0,i["!cols"])),s[n=s.length]="<sheetData/>",i["!links"]=[],null!=i["!ref"]&&(o=function(e,t){var a,r,n=[],s=[],l=Ime(e["!ref"]),o="",i="",d=[],c=0,u=0,m=e["!rows"],h=Array.isArray(e),f={r:i},p=-1;for(u=l.s.c;u<=l.e.c;++u)d[u]=Dme(u);for(c=l.s.r;c<=l.e.r;++c){for(s=[],i=Tme(c),u=l.s.c;u<=l.e.c;++u){a=d[u]+i;var x=h?(e[c]||[])[u]:e[a];void 0!==x&&null!=(o=Upe(x,a,e,t))&&s.push(o)}(s.length>0||m&&m[c])&&(f={r:i},m&&m[c]&&((r=m[c]).hidden&&(f.hidden=1),p=-1,r.hpx?p=Sfe(r.hpx):r.hpt&&(p=r.hpt),p>-1&&(f.ht=p,f.customHeight=1),r.level&&(f.outlineLevel=r.level)),n[n.length]=vue("row",s.join(""),f))}if(m)for(;c<m.length;++c)m&&m[c]&&(f={r:c+1},(r=m[c]).hidden&&(f.hidden=1),p=-1,r.hpx?p=Sfe(r.hpx):r.hpt&&(p=r.hpt),p>-1&&(f.ht=p,f.customHeight=1),r.level&&(f.outlineLevel=r.level),n[n.length]=vue("row","",f));return n.join("")}(i,t),o.length>0&&(s[s.length]=o)),s.length>n+1&&(s[s.length]="</sheetData>",s[n]=s[n].replace("/>",">")),i["!protect"]&&(s[s.length]=function(e){var t={sheet:1};return Bpe.forEach((function(a){null!=e[a]&&e[a]&&(t[a]="1")})),zpe.forEach((function(a){null==e[a]||e[a]||(t[a]="0")})),e.password&&(t.password=gfe(e.password).toString(16).toUpperCase()),vue("sheetProtection",null,t)}(i["!protect"])),null!=i["!autofilter"]&&(s[s.length]=function(e,t,a,r){var n="string"==typeof e.ref?e.ref:Lme(e.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var s=a.Workbook.Names,l=Mme(n);l.s.r==l.e.r&&(l.e.r=Mme(t["!ref"]).e.r,n=Lme(l));for(var o=0;o<s.length;++o){var i=s[o];if("_xlnm._FilterDatabase"==i.Name&&i.Sheet==r){i.Ref="'"+a.SheetNames[r]+"'!"+n;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+n}),vue("autoFilter",null,{ref:n})}(i["!autofilter"],i,a,e)),null!=i["!merges"]&&i["!merges"].length>0&&(s[s.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',a=0;a!=e.length;++a)t+='<mergeCell ref="'+Lme(e[a])+'"/>';return t+"</mergeCells>"}(i["!merges"]));var m,h,f=-1,p=-1;return i["!links"].length>0&&(s[s.length]="<hyperlinks>",i["!links"].forEach((function(e){e[1].Target&&(m={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(p=khe(r,-1,lue(e[1].Target).replace(/#.*$/,""),Nhe.HLINK),m["r:id"]="rId"+p),(f=e[1].Target.indexOf("#"))>-1&&(m.location=lue(e[1].Target.slice(f+1))),e[1].Tooltip&&(m.tooltip=lue(e[1].Tooltip)),s[s.length]=vue("hyperlink",null,m))})),s[s.length]="</hyperlinks>"),delete i["!links"],null!=i["!margins"]&&(s[s.length]=(Fpe(h=i["!margins"]),vue("pageMargins",null,h))),t&&!t.ignoreEC&&null!=t.ignoreEC||(s[s.length]=gue("ignoredErrors",vue("ignoredError",null,{numberStoredAsText:1,sqref:d}))),u.length>0&&(p=khe(r,-1,"../drawings/drawing"+(e+1)+".xml",Nhe.DRAW),s[s.length]=vue("drawing",null,{"r:id":"rId"+p}),i["!drawing"]=u),i["!comments"].length>0&&(p=khe(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Nhe.VML),s[s.length]=vue("legacyDrawing",null,{"r:id":"rId"+p}),i["!legacy"]=p),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Wpe(e,t,a,r){var n=function(e,t,a){var r=wme(145),n=(a["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;n.hpx?s=20*Sfe(n.hpx):n.hpt&&(s=20*n.hpt),r.write_shift(2,s),r.write_shift(1,0);var l=0;n.level&&(l|=n.level),n.hidden&&(l|=16),(n.hpx||n.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var o=0,i=r.l;r.l+=4;for(var d={r:e,c:0},c=0;c<16;++c)if(!(t.s.c>c+1<<10||t.e.c<c<<10)){for(var u=-1,m=-1,h=c<<10;h<c+1<<10;++h)d.c=h,(Array.isArray(a)?(a[d.r]||[])[d.c]:a[Pme(d)])&&(u<0&&(u=h),m=h);u<0||(++o,r.write_shift(4,u),r.write_shift(4,m))}var f=r.l;return r.l=i,r.write_shift(4,o),r.l=f,r.length>r.l?r.slice(0,r.l):r}(r,a,t);(n.length>17||(t["!rows"]||[])[r])&&Nme(e,0,n)}var Ype=dhe,qpe=che,Vpe=dhe,Gpe=che,Kpe=["left","right","top","bottom","header","footer"];function Xpe(e,t,a,r,n,s,l){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=Kce(t)).z=t.z||Vde[14],t.v=$ce(Vce(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var i={r:a,c:r};switch(i.s=Rpe(n.cellXfs,t,n),t.l&&s["!links"].push([Pme(i),t.l]),t.c&&s["!comments"].push([Pme(i),t.c]),t.t){case"s":case"str":return n.bookSST?(o=Lpe(n.Strings,t.v,n.revStrings),i.t="s",i.v=o,l?Nme(e,18,function(e,t,a){return null==a&&(a=wme(8)),Jme(t,a),a.write_shift(4,t.v),a}(0,i)):Nme(e,7,function(e,t,a){return null==a&&(a=wme(12)),Xme(t,a),a.write_shift(4,t.v),a}(0,i))):(i.t="str",l?Nme(e,17,function(e,t,a){return null==a&&(a=wme(8+4*e.v.length)),Jme(t,a),Wme(e.v,a),a.length>a.l?a.slice(0,a.l):a}(t,i)):Nme(e,6,function(e,t,a){return null==a&&(a=wme(12+4*e.v.length)),Xme(t,a),Wme(e.v,a),a.length>a.l?a.slice(0,a.l):a}(t,i))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?l?Nme(e,13,function(e,t,a){return null==a&&(a=wme(8)),Jme(t,a),ohe(e.v,a),a}(t,i)):Nme(e,2,function(e,t,a){return null==a&&(a=wme(12)),Xme(t,a),ohe(e.v,a),a}(t,i)):l?Nme(e,16,function(e,t,a){return null==a&&(a=wme(12)),Jme(t,a),mhe(e.v,a),a}(t,i)):Nme(e,5,function(e,t,a){return null==a&&(a=wme(16)),Xme(t,a),mhe(e.v,a),a}(t,i)),!0;case"b":return i.t="b",l?Nme(e,15,function(e,t,a){return null==a&&(a=wme(5)),Jme(t,a),a.write_shift(1,e.v?1:0),a}(t,i)):Nme(e,4,function(e,t,a){return null==a&&(a=wme(9)),Xme(t,a),a.write_shift(1,e.v?1:0),a}(t,i)),!0;case"e":return i.t="e",l?Nme(e,14,function(e,t,a){return null==a&&(a=wme(8)),Jme(t,a),a.write_shift(1,e.v),a.write_shift(2,0),a.write_shift(1,0),a}(t,i)):Nme(e,3,function(e,t,a){return null==a&&(a=wme(9)),Xme(t,a),a.write_shift(1,e.v),a}(t,i)),!0}return l?Nme(e,12,function(e,t,a){return null==a&&(a=wme(4)),Jme(t,a)}(0,i)):Nme(e,1,function(e,t,a){return null==a&&(a=wme(8)),Xme(t,a)}(0,i)),!0}function Qpe(e,t){var a,r;t&&t["!merges"]&&(Nme(e,177,(a=t["!merges"].length,null==r&&(r=wme(4)),r.write_shift(4,a),r)),t["!merges"].forEach((function(t){Nme(e,176,Gpe(t))})),Nme(e,178))}function Jpe(e,t){t&&t["!cols"]&&(Nme(e,390),t["!cols"].forEach((function(t,a){t&&Nme(e,60,function(e,t,a){null==a&&(a=wme(18));var r=Ipe(e,t);a.write_shift(-4,e),a.write_shift(-4,e),a.write_shift(4,256*(r.width||10)),a.write_shift(4,0);var n=0;return t.hidden&&(n|=1),"number"==typeof r.width&&(n|=2),t.level&&(n|=t.level<<8),a.write_shift(2,n),a}(a,t))})),Nme(e,391))}function Zpe(e,t){var a,r;t&&t["!ref"]&&(Nme(e,648),Nme(e,649,(a=Ime(t["!ref"]),(r=wme(24)).write_shift(4,4),r.write_shift(4,1),che(a,r),r)),Nme(e,650))}function exe(e,t,a){t["!links"].forEach((function(t){if(t[1].Target){var r=khe(a,-1,t[1].Target.replace(/#.*$/,""),Nhe.HLINK);Nme(e,494,function(e,t){var a=wme(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));che({s:Ame(e[0]),e:Ame(e[0])},a),she("rId"+t,a);var r=e[1].Target.indexOf("#");return Wme((-1==r?"":e[1].Target.slice(r+1))||"",a),Wme(e[1].Tooltip||"",a),Wme("",a),a.slice(0,a.l)}(t,r))}})),delete t["!links"]}function txe(e,t,a){Nme(e,133),Nme(e,137,function(e,t,a){null==a&&(a=wme(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),a.write_shift(2,r),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(1,0),a.write_shift(1,0),a.write_shift(2,0),a.write_shift(2,100),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a}(0,a)),Nme(e,138),Nme(e,134)}function axe(e,t){var a,r;t["!protect"]&&Nme(e,535,(a=t["!protect"],null==r&&(r=wme(66)),r.write_shift(2,a.password?gfe(a.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach((function(e){e[1]?r.write_shift(4,null==a[e[0]]||a[e[0]]?0:1):r.write_shift(4,null!=a[e[0]]&&a[e[0]]?0:1)})),r))}function rxe(e,t,a,r){var n=jme(),s=a.SheetNames[e],l=a.Sheets[s]||{},o=s;try{a&&a.Workbook&&(o=a.Workbook.Sheets[e].CodeName||o)}catch(mMe){}var i,d,c=Ime(l["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Nme(n,129),(a.vbaraw||l["!outline"])&&Nme(n,147,function(e,t,a){null==a&&(a=wme(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),a.write_shift(1,r);for(var n=1;n<3;++n)a.write_shift(1,0);return hhe({auto:1},a),a.write_shift(-4,-1),a.write_shift(-4,-1),ehe(e,a),a.slice(0,a.l)}(o,l["!outline"])),Nme(n,148,qpe(c)),txe(n,0,a.Workbook),Jpe(n,l),function(e,t,a,r){var n,s=Ime(t["!ref"]||"A1"),l="",o=[];Nme(e,145);var i=Array.isArray(t),d=s.e.r;t["!rows"]&&(d=Math.max(s.e.r,t["!rows"].length-1));for(var c=s.s.r;c<=d;++c){l=Tme(c),Wpe(e,t,s,c);var u=!1;if(c<=s.e.r)for(var m=s.s.c;m<=s.e.c;++m){c===s.s.r&&(o[m]=Dme(m)),n=o[m]+l;var h=i?(t[c]||[])[m]:t[n];u=!!h&&Xpe(e,h,c,m,r,t,u)}}Nme(e,146)}(n,l,0,t),axe(n,l),function(e,t,a,r){if(t["!autofilter"]){var n=t["!autofilter"],s="string"==typeof n.ref?n.ref:Lme(n.ref);a.Workbook||(a.Workbook={Sheets:[]}),a.Workbook.Names||(a.Workbook.Names=[]);var l=a.Workbook.Names,o=Mme(s);o.s.r==o.e.r&&(o.e.r=Mme(t["!ref"]).e.r,s=Lme(o));for(var i=0;i<l.length;++i){var d=l[i];if("_xlnm._FilterDatabase"==d.Name&&d.Sheet==r){d.Ref="'"+a.SheetNames[r]+"'!"+s;break}}i==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+a.SheetNames[r]+"'!"+s}),Nme(e,161,che(Ime(s))),Nme(e,162)}}(n,l,a,e),Qpe(n,l),exe(n,l,r),l["!margins"]&&Nme(n,476,(i=l["!margins"],null==d&&(d=wme(48)),Fpe(i),Kpe.forEach((function(e){mhe(i[e],d)})),d)),t&&!t.ignoreEC&&null!=t.ignoreEC||Zpe(n,l),function(e,t,a,r){if(t["!comments"].length>0){var n=khe(r,-1,"../drawings/vmlDrawing"+(a+1)+".vml",Nhe.VML);Nme(e,551,she("rId"+n)),t["!legacy"]=n}}(n,l,e,r),Nme(n,130),n.end()}var nxe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sxe="][*?/\\".split("");function lxe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");return sxe.forEach((function(t){if(-1!=e.indexOf(t))throw new Error("Sheet name cannot contain : \\ / ? * [ ]")})),!0}function oxe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t,a,r,n=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,a=n,r=!!e.vbaraw,t.forEach((function(e,n){lxe(e);for(var s=0;s<n;++s)if(e==t[s])throw new Error("Duplicate Sheet Name: "+e);if(r){var l=a&&a[n]&&a[n].CodeName||e;if(95==l.charCodeAt(0)&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}}));for(var s=0;s<e.SheetNames.length;++s)$pe(e.Sheets[e.SheetNames[s]],e.SheetNames[s],s)}function ixe(e){var t=[aue];t[t.length]=vue("workbook",null,{xmlns:Mue[0],"xmlns:r":Oue});var a=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(nxe.forEach((function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])})),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=vue("workbookPr",null,r);var n=e.Workbook&&e.Workbook.Sheets||[],s=0;if(n&&n[0]&&n[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&n[s]&&n[s].Hidden;++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var l={name:lue(e.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),n[s])switch(n[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden"}t[t.length]=vue("sheet",null,l)}return t[t.length]="</sheets>",a&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach((function(e){var a={name:e.Name};e.Comment&&(a.comment=e.Comment),null!=e.Sheet&&(a.localSheetId=""+e.Sheet),e.Hidden&&(a.hidden="1"),e.Ref&&(t[t.length]=vue("definedName",lue(e.Ref),a))})),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function dxe(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var a,r,n=t.Workbook.Sheets,s=0,l=-1,o=-1;s<n.length;++s)!n[s]||!n[s].Hidden&&-1==l?l=s:1==n[s].Hidden&&-1==o&&(o=s);o>l||(Nme(e,135),Nme(e,158,(a=l,r||(r=wme(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,a),r.write_shift(4,a),r.write_shift(1,120),r.length>r.l?r.slice(0,r.l):r)),Nme(e,136))}}function cxe(e,t){var a=jme();return Nme(a,131),Nme(a,128,function(e,t){t||(t=wme(127));for(var a=0;4!=a;++a)t.write_shift(4,0);return Wme("SheetJS",t),Wme(xde.version,t),Wme(xde.version,t),Wme("7262",t),t.length>t.l?t.slice(0,t.l):t}()),Nme(a,153,function(e,t){t||(t=wme(72));var a=0;return e&&e.filterPrivacy&&(a|=8),t.write_shift(4,a),t.write_shift(4,0),ehe(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),dxe(a,e),function(e,t){Nme(e,143);for(var a=0;a!=t.SheetNames.length;++a)Nme(e,156,(r={Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[a]&&t.Workbook.Sheets[a].Hidden||0,iTabID:a+1,strRelID:"rId"+(a+1),name:t.SheetNames[a]},(n=void 0)||(n=wme(127)),n.write_shift(4,r.Hidden),n.write_shift(4,r.iTabID),she(r.strRelID,n),Wme(r.name.slice(0,31),n),n.length>n.l?n.slice(0,n.l):n));var r,n;Nme(e,144)}(a,e),Nme(a,132),a.end()}function uxe(e,t,a,r,n){return(".bin"===t.slice(-4)?rxe:Hpe)(e,a,r,n)}function mxe(e,t,a){return(".bin"===t.slice(-4)?Kfe:qfe)(e)}function hxe(e,t){var a=[];return e.Props&&a.push(function(e,t){var a=[];return Mce(Ihe).map((function(e){for(var t=0;t<The.length;++t)if(The[t][1]==e)return The[t];for(t=0;t<Ahe.length;++t)if(Ahe[t][1]==e)return Ahe[t];throw e})).forEach((function(r){if(null!=e[r[1]]){var n=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof n?n=String(n):!0===n||!1===n?n=n?"1":"0":n instanceof Date&&(n=new Date(n).toISOString().replace(/\.\d*Z/,"")),a.push(gue(Ihe[r[1]]||r[1],n))}})),vue("DocumentProperties",a.join(""),{xmlns:Lue})}(e.Props,t)),e.Custprops&&a.push(function(e,t){var a=["Worksheets","SheetNames"],r="CustomDocumentProperties",n=[];return e&&Mce(e).forEach((function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<The.length;++r)if(t==The[r][1])return;for(r=0;r<Ahe.length;++r)if(t==Ahe[r][1])return;for(r=0;r<a.length;++r)if(t==a[r])return;var s=e[t],l="string";"number"==typeof s?(l="float",s=String(s)):!0===s||!1===s?(l="boolean",s=s?"1":"0"):s=String(s),n.push(vue(oue(t),s,{"dt:dt":l}))}})),t&&Mce(t).forEach((function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&(!e||!Object.prototype.hasOwnProperty.call(e,a))){var r=t[a],s="string";"number"==typeof r?(s="float",r=String(r)):!0===r||!1===r?(s="boolean",r=r?"1":"0"):r instanceof Date?(s="dateTime.tz",r=r.toISOString()):r=String(r),n.push(vue(oue(a),r,{"dt:dt":s}))}})),"<"+r+' xmlns="'+Lue+'">'+n.join("")+"</"+r+">"}(e.Props,e.Custprops)),a.join("")}function fxe(e){return vue("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+Zfe(e.Ref,{r:0,c:0})})}function pxe(e,t,a,r,n,s,l){if(!e||null==e.v&&null==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+lue(Zfe(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var i=Ame(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(i.r==l.r?"":"["+(i.r-l.r)+"]")+"C"+(i.c==l.c?"":"["+(i.c-l.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=lue(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=lue(e.l.Tooltip))),a["!merges"])for(var d=a["!merges"],c=0;c!=d.length;++c)d[c].s.c==l.c&&d[c].s.r==l.r&&(d[c].e.c>d[c].s.c&&(o["ss:MergeAcross"]=d[c].e.c-d[c].s.c),d[c].e.r>d[c].s.r&&(o["ss:MergeDown"]=d[c].e.r-d[c].s.r));var u="",m="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":u="Number",m=String(e.v);break;case"b":u="Boolean",m=e.v?"1":"0";break;case"e":u="Error",m=vhe[e.v];break;case"d":u="DateTime",m=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||Vde[14]);break;case"s":u="String",m=((e.v||"")+"").replace(nue,(function(e){return rue[e]})).replace(iue,(function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}))}var h=Rpe(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=l.c+1;var f=null!=e.v?m:"",p="z"==e.t?"":'<Data ss:Type="'+u+'">'+f+"</Data>";return(e.c||[]).length>0&&(p+=e.c.map((function(e){var t=vue("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return vue("Comment",t,{"ss:Author":e.a})})).join("")),vue("Cell",p,o)}function xxe(e,t){var a='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=kfe(t.hpt)),t.hpx&&(a+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(a+=' ss:Hidden="1"')),a+">"}function gxe(e,t,a){var r=[],n=a.SheetNames[e],s=a.Sheets[n],l=s?function(e,t,a,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var n=r.Workbook.Names,s=[],l=0;l<n.length;++l){var o=n[l];o.Sheet==a&&(o.Name.match(/^_xlfn\./)||s.push(fxe(o)))}return s.join("")}(s,0,e,a):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=s?function(e,t){if(!e["!ref"])return"";var a=Ime(e["!ref"]),r=e["!merges"]||[],n=0,s=[];e["!cols"]&&e["!cols"].forEach((function(e,t){_fe(e);var a=!!e.width,r=Ipe(t,e),n={"ss:Index":t+1};a&&(n["ss:Width"]=wfe(r.width)),e.hidden&&(n["ss:Hidden"]="1"),s.push(vue("Column",null,n))}));for(var l=Array.isArray(e),o=a.s.r;o<=a.e.r;++o){for(var i=[xxe(o,(e["!rows"]||[])[o])],d=a.s.c;d<=a.e.c;++d){var c=!1;for(n=0;n!=r.length;++n)if(!(r[n].s.c>d||r[n].s.r>o||r[n].e.c<d||r[n].e.r<o)){r[n].s.c==d&&r[n].s.r==o||(c=!0);break}if(!c){var u={r:o,c:d},m=Pme(u),h=l?(e[o]||[])[d]:e[m];i.push(pxe(h,m,e,t,0,0,u))}}i.push("</Row>"),i.length>2&&s.push(i.join(""))}return s.join("")}(s,t):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(function(e,t,a,r){if(!e)return"";var n=[];if(e["!margins"]&&(n.push("<PageSetup>"),e["!margins"].header&&n.push(vue("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&n.push(vue("Footer",null,{"x:Margin":e["!margins"].footer})),n.push(vue("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),n.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[a])if(r.Workbook.Sheets[a].Hidden)n.push(vue("Visible",1==r.Workbook.Sheets[a].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<a&&(!r.Workbook.Sheets[s]||r.Workbook.Sheets[s].Hidden);++s);s==a&&n.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&n.push("<DisplayRightToLeft/>"),e["!protect"]&&(n.push(gue("ProtectContents","True")),e["!protect"].objects&&n.push(gue("ProtectObjects","True")),e["!protect"].scenarios&&n.push(gue("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||n.push(gue("EnableSelection","UnlockedCells")):n.push(gue("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach((function(t){e["!protect"][t[0]]&&n.push("<"+t[1]+"/>")}))),0==n.length?"":vue("WorksheetOptions",n.join(""),{xmlns:Iue})}(s,0,e,a)),r.join("")}function bxe(e,t){t||(t={}),e.SSF||(e.SSF=Kce(Vde)),e.SSF&&(Ece(),Cce(e.SSF),t.revssf=Fce(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Rpe(t.cellXfs,{},{revssf:{General:0}}));var a=[];a.push(hxe(e,t)),a.push(""),a.push(""),a.push("");for(var r=0;r<e.SheetNames.length;++r)a.push(vue("Worksheet",gxe(r,t,e),{"ss:Name":lue(e.SheetNames[r])}));return a[2]=function(e,t){var a=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach((function(e,t){var r=[];r.push(vue("NumberFormat",null,{"ss:Format":lue(Vde[e.numFmtId])}));var n={"ss:ID":"s"+(21+t)};a.push(vue("Style",r.join(""),n))})),vue("Styles",a.join(""))}(0,t),a[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,a=[],r=0;r<t.length;++r){var n=t[r];null==n.Sheet&&(n.Name.match(/^_xlfn\./)||a.push(fxe(n)))}return vue("Names",a.join(""))}(e),aue+vue("Workbook",a.join(""),{xmlns:Fue,"xmlns:o":Lue,"xmlns:x":Iue,"xmlns:ss":Fue,"xmlns:dt":Rue,"xmlns:html":zue})}var vxe="e0859ff2f94f6810ab9108002b27b3d9",yxe="02d5cdd59c2e1b10939708002b2cf9ae",wxe="05d5cdd59c2e1b10939708002b2cf9ae";function jxe(e,t){var a=t||{},r=Dce.utils.cfb_new({root:"R"}),n="/Workbook";switch(a.bookType||"xls"){case"xls":a.bookType="biff8";case"xla":a.bookType||(a.bookType="xla");case"biff8":n="/Workbook",a.biff=8;break;case"biff5":n="/Book",a.biff=5;break;default:throw new Error("invalid type "+a.bookType+" for XLS CFB")}return Dce.utils.cfb_add(r,n,Pxe(e,a)),8==a.biff&&(e.Props||e.Custprops)&&function(e,t){var a,r=[],n=[],s=[],l=0,o=Lce(phe,"n"),i=Lce(xhe,"n");if(e.Props)for(a=Mce(e.Props),l=0;l<a.length;++l)(Object.prototype.hasOwnProperty.call(o,a[l])?r:Object.prototype.hasOwnProperty.call(i,a[l])?n:s).push([a[l],e.Props[a[l]]]);if(e.Custprops)for(a=Mce(e.Custprops),l=0;l<a.length;++l)Object.prototype.hasOwnProperty.call(e.Props||{},a[l])||(Object.prototype.hasOwnProperty.call(o,a[l])?r:Object.prototype.hasOwnProperty.call(i,a[l])?n:s).push([a[l],e.Custprops[a[l]]]);var d=[];for(l=0;l<s.length;++l)Rhe.indexOf(s[l][0])>-1||Phe.indexOf(s[l][0])>-1||null!=s[l][1]&&d.push(s[l]);n.length&&Dce.utils.cfb_add(t,"/SummaryInformation",zhe(n,vxe,i,xhe)),(r.length||d.length)&&Dce.utils.cfb_add(t,"/DocumentSummaryInformation",zhe(r,yxe,o,phe,d.length?d:null,wxe))}(e,r),8==a.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach((function(a,r){if(0!=r){var n=a.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==n.slice(-1)&&Dce.utils.cfb_add(e,n,t.FileIndex[r].content)}}))}(r,Dce.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var Nxe={0:{f:function(e,t){var a={},r=e.l+t;a.r=e.read_shift(4),e.l+=4;var n=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,7&s&&(a.level=7&s),16&s&&(a.hidden=!0),32&s&&(a.hpt=n/20),a}},1:{f:function(e){return[Kme(e)]}},2:{f:function(e){return[Kme(e),lhe(e),"n"]}},3:{f:function(e){return[Kme(e),e.read_shift(1),"e"]}},4:{f:function(e){return[Kme(e),e.read_shift(1),"b"]}},5:{f:function(e){return[Kme(e),uhe(e),"n"]}},6:{f:function(e){return[Kme(e),Hme(e),"str"]}},7:{f:function(e){return[Kme(e),e.read_shift(4),"s"]}},8:{f:function(e,t,a){var r=e.l+t,n=Kme(e);n.r=a["!row"];var s=[n,Hme(e),"str"];if(a.cellFormula){e.l+=2;var l=Epe(e,r-e.l,a);s[3]=_pe(l,0,n,a.supbooks,a)}else e.l=r;return s}},9:{f:function(e,t,a){var r=e.l+t,n=Kme(e);n.r=a["!row"];var s=[n,uhe(e),"n"];if(a.cellFormula){e.l+=2;var l=Epe(e,r-e.l,a);s[3]=_pe(l,0,n,a.supbooks,a)}else e.l=r;return s}},10:{f:function(e,t,a){var r=e.l+t,n=Kme(e);n.r=a["!row"];var s=[n,e.read_shift(1),"b"];if(a.cellFormula){e.l+=2;var l=Epe(e,r-e.l,a);s[3]=_pe(l,0,n,a.supbooks,a)}else e.l=r;return s}},11:{f:function(e,t,a){var r=e.l+t,n=Kme(e);n.r=a["!row"];var s=[n,e.read_shift(1),"e"];if(a.cellFormula){e.l+=2;var l=Epe(e,r-e.l,a);s[3]=_pe(l,0,n,a.supbooks,a)}else e.l=r;return s}},12:{f:function(e){return[Qme(e)]}},13:{f:function(e){return[Qme(e),lhe(e),"n"]}},14:{f:function(e){return[Qme(e),e.read_shift(1),"e"]}},15:{f:function(e){return[Qme(e),e.read_shift(1),"b"]}},16:{f:function(e){return[Qme(e),uhe(e),"n"]}},17:{f:function(e){return[Qme(e),Hme(e),"str"]}},18:{f:function(e){return[Qme(e),e.read_shift(4),"s"]}},19:{f:qme},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,a){var r=e.l+t;e.l+=4,e.l+=1;var n=e.read_shift(4),s=rhe(e),l=Tpe(e,0,a),o=the(e);e.l=r;var i={Name:s,Ptg:l};return n<268435455&&(i.Sheet=n),o&&(i.Comment=o),i}},40:{},42:{},43:{f:function(e,t,a){var r={};r.sz=e.read_shift(2)/20;var n=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(n.fItalic&&(r.italic=1),n.fCondense&&(r.condense=1),n.fExtend&&(r.extend=1),n.fShadow&&(r.shadow=1),n.fOutline&&(r.outline=1),n.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var s=e.read_shift(1);0!=s&&(r.underline=s);var l=e.read_shift(1);l>0&&(r.family=l);var o=e.read_shift(1);switch(o>0&&(r.charset=o),e.l++,r.color=function(e){var t={},a=e.read_shift(1)>>>1,r=e.read_shift(1),n=e.read_shift(2,"i"),s=e.read_shift(1),l=e.read_shift(1),o=e.read_shift(1);switch(e.l++,a){case 0:t.auto=1;break;case 1:t.index=r;var i=bhe[r];i&&(t.rgb=vfe(i));break;case 2:t.rgb=vfe([s,l,o]);break;case 3:t.theme=r}return 0!=n&&(t.tint=n>0?n/32767:n/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=Hme(e),r}},44:{f:function(e,t){return[e.read_shift(2),Hme(e)]}},45:{f:Afe},46:{f:Ife},47:{f:function(e,t){var a=e.l+t,r=e.read_shift(2),n=e.read_shift(2);return e.l=a,{ixfe:r,numFmtId:n}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],a=e.read_shift(4);a-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function(e,t,a){if(!a.cellStyles)return yme(e,t);var r=a&&a.biff>=12?4:2,n=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(r),o=e.read_shift(r),i=e.read_shift(2);2==r&&(e.l+=2);var d={s:n,e:s,w:l,ixfe:o,flags:i};return(a.biff>=5||!a.biff)&&(d.level=i>>8&7),d}},62:{f:function(e){return[Kme(e),qme(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var a={};a.r=e.read_shift(4),a.c=e.read_shift(4),t.r=Pme(a);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:yme,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var a={},r=e[e.l];return++e.l,a.above=!(64&r),a.left=!(128&r),e.l+=18,a.name=Zme(e),a}},148:{f:Ype,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var a={},r=e.read_shift(4);a.defaultThemeVersion=e.read_shift(4);var n=t>8?Hme(e):"";return n.length>0&&(a.CodeName=n),a.autoCompressPictures=!!(65536&r),a.backupFile=!!(64&r),a.checkCompatibility=!!(4096&r),a.date1904=!!(1&r),a.filterPrivacy=!!(8&r),a.hidePivotFieldList=!!(1024&r),a.promptedSolutions=!!(16&r),a.publishItems=!!(2048&r),a.refreshAllConnections=!!(262144&r),a.saveExternalLinkValues=!!(128&r),a.showBorderUnselectedTables=!!(4&r),a.showInkAnnotation=!!(32&r),a.showObjects=["all","placeholders","none"][r>>13&3],a.showPivotChartFilter=!!(32768&r),a.updateLinks=["userSet","never","always"][r>>8&3],a}},154:{},155:{},156:{f:function(e,t){var a={};return a.Hidden=e.read_shift(4),a.iTabID=e.read_shift(4),a.strRelID=nhe(e),a.name=Hme(e),a}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:dhe},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Vpe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Hme(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:nhe},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function(e,t,a){if(a.biff<8)return function(e,t,a){3==e[e.l+1]&&e[e.l]++;var r=qhe(e,0,a);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,a);for(var r=[],n=e.l+t,s=e.read_shift(a.biff>8?4:2);0!=s--;)r.push(Jhe(e,a.biff,a));if(e.l!=n)throw new Error("Bad ExternSheet: "+e.l+" != "+n);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,a){var r=e.l+t,n=ihe(e),s=e.read_shift(1),l=[n];if(l[2]=s,a.cellFormula){var o=Cpe(e,r-e.l,a);l[1]=o}else e.l=r;return l}},427:{f:function(e,t,a){var r=e.l+t,n=[dhe(e)];if(a.cellFormula){var s=Ope(e,r-e.l,a);n[1]=s,e.l=r}else e.l=r;return n}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return Kpe.forEach((function(a){t[a]=uhe(e)})),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var a=e.l+t,r=dhe(e),n=the(e),s=Hme(e),l=Hme(e),o=Hme(e);e.l=a;var i={rfx:r,relId:n,loc:s,display:o};return l&&(i.Tooltip=l),i}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:nhe},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Gfe},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var a=dhe(e);return t.rfx=a.s,t.ref=Pme(a.s),e.l+=16,t}},636:{T:-1},637:{f:Vme},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:Hme(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function _xe(e,t,a,r){var n=t;if(!isNaN(n)){var s=r||(a||[]).length||0,l=e.next(4);l.write_shift(2,n),l.write_shift(2,s),s>0&&ime(a)&&e.push(a)}}function Sxe(e,t,a){return e||(e=wme(7)),e.write_shift(2,t),e.write_shift(2,a),e.write_shift(2,0),e.write_shift(1,0),e}function kxe(e,t,a,r){if(null!=t.v)switch(t.t){case"d":case"n":var n="d"==t.t?$ce(Vce(t.v)):t.v;return void(n==(0|n)&&n>=0&&n<65536?_xe(e,2,(s=a,l=r,o=n,i=wme(9),Sxe(i,s,l),i.write_shift(2,o),i)):_xe(e,3,function(e,t,a){var r=wme(15);return Sxe(r,e,t),r.write_shift(8,a,"f"),r}(a,r,n)));case"b":case"e":return void _xe(e,5,function(e,t,a,r){var n=wme(9);return Sxe(n,e,t),Yhe(a,r||"b",n),n}(a,r,t.v,t.t));case"s":case"str":return void _xe(e,4,function(e,t,a){var r=wme(8+2*a.length);return Sxe(r,e,t),r.write_shift(1,a.length),r.write_shift(a.length,a,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(a,r,(t.v||"").slice(0,255)))}var s,l,o,i;_xe(e,1,Sxe(null,a,r))}function Cxe(e,t){for(var a=t||{},r=jme(),n=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==a.sheet&&(n=s);if(0==n&&a.sheet&&e.SheetNames[0]!=a.sheet)throw new Error("Sheet not found: "+a.sheet);return _xe(r,4==a.biff?1033:3==a.biff?521:9,tfe(0,16,a)),function(e,t,a,r){var n,s=Array.isArray(t),l=Ime(t["!ref"]||"A1"),o="",i=[];if(l.e.c>255||l.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");l.e.c=Math.min(l.e.c,255),l.e.r=Math.min(l.e.c,16383),n=Lme(l)}for(var d=l.s.r;d<=l.e.r;++d){o=Tme(d);for(var c=l.s.c;c<=l.e.c;++c){d===l.s.r&&(i[c]=Dme(c)),n=i[c]+o;var u=s?(t[d]||[])[c]:t[n];u&&kxe(e,u,d,c)}}}(r,e.Sheets[e.SheetNames[n]],0,a),_xe(r,10),r.end()}function Exe(e,t,a){_xe(e,49,function(e,t){var a=e.name||"Arial",r=t&&5==t.biff,n=wme(r?15+a.length:16+2*a.length);return n.write_shift(2,20*(e.sz||12)),n.write_shift(4,0),n.write_shift(2,400),n.write_shift(4,0),n.write_shift(2,0),n.write_shift(1,a.length),r||n.write_shift(1,1),n.write_shift((r?1:2)*a.length,a,r?"sbcs":"utf16le"),n}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},a))}function Txe(e,t){if(t){var a=0;t.forEach((function(t,r){++a<=256&&t&&_xe(e,125,function(e,t){var a=wme(12);a.write_shift(2,t),a.write_shift(2,t),a.write_shift(2,256*e.width),a.write_shift(2,0);var r=0;return e.hidden&&(r|=1),a.write_shift(1,r),r=e.level||0,a.write_shift(1,r),a.write_shift(2,0),a}(Ipe(r,t),r))}))}}function Oxe(e,t,a,r,n){var s=16+Rpe(n.cellXfs,t,n);if(null!=t.v||t.bf)if(t.bf)_xe(e,6,Spe(t,a,r,0,s));else switch(t.t){case"d":case"n":_xe(e,515,function(e,t,a,r){var n=wme(14);return Qhe(e,t,r,n),mhe(a,n),n}(a,r,"d"==t.t?$ce(Vce(t.v)):t.v,s));break;case"b":case"e":_xe(e,517,function(e,t,a,r,n,s){var l=wme(8);return Qhe(e,t,r,l),Yhe(a,s,l),l}(a,r,t.v,s,0,t.t));break;case"s":case"str":n.bookSST?_xe(e,253,function(e,t,a,r){var n=wme(10);return Qhe(e,t,r,n),n.write_shift(4,a),n}(a,r,Lpe(n.Strings,t.v,n.revStrings),s)):_xe(e,516,function(e,t,a,r,n){var s=!n||8==n.biff,l=wme(+s+8+(1+s)*a.length);return Qhe(e,t,r,l),l.write_shift(2,a.length),s&&l.write_shift(1,1),l.write_shift((1+s)*a.length,a,s?"utf16le":"sbcs"),l}(a,r,(t.v||"").slice(0,255),s,n));break;default:_xe(e,513,Qhe(a,r,s))}else _xe(e,513,Qhe(a,r,s))}function Dxe(e,t,a){var r,n,s=jme(),l=a.SheetNames[e],o=a.Sheets[l]||{},i=(a||{}).Workbook||{},d=(i.Sheets||[])[e]||{},c=Array.isArray(o),u=8==t.biff,m="",h=[],f=Ime(o["!ref"]||"A1"),p=u?65536:16384;if(f.e.c>255||f.e.r>=p){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,p-1)}_xe(s,2057,tfe(0,16,t)),_xe(s,13,Whe(1)),_xe(s,12,Whe(100)),_xe(s,15,Uhe(!0)),_xe(s,17,Uhe(!1)),_xe(s,16,mhe(.001)),_xe(s,95,Uhe(!0)),_xe(s,42,Uhe(!1)),_xe(s,43,Uhe(!1)),_xe(s,130,Whe(1)),_xe(s,128,((n=wme(8)).write_shift(4,0),n.write_shift(2,0),n.write_shift(2,0),n)),_xe(s,131,Uhe(!1)),_xe(s,132,Uhe(!1)),u&&Txe(s,o["!cols"]),_xe(s,512,function(e,t){var a=8!=t.biff&&t.biff?2:4,r=wme(2*a+6);return r.write_shift(a,e.s.r),r.write_shift(a,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(f,t)),u&&(o["!links"]=[]);for(var x=f.s.r;x<=f.e.r;++x){m=Tme(x);for(var g=f.s.c;g<=f.e.c;++g){x===f.s.r&&(h[g]=Dme(g)),r=h[g]+m;var b=c?(o[x]||[])[g]:o[r];b&&(Oxe(s,b,x,g,t),u&&b.l&&o["!links"].push([r,b.l]))}}var v=d.CodeName||d.name||l;return u&&_xe(s,574,function(e){var t=wme(18),a=1718;return e&&e.RTL&&(a|=64),t.write_shift(2,a),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((i.Views||[])[0])),u&&(o["!merges"]||[]).length&&_xe(s,229,function(e){var t=wme(2+8*e.length);t.write_shift(2,e.length);for(var a=0;a<e.length;++a)efe(e[a],t);return t}(o["!merges"])),u&&function(e,t){for(var a=0;a<t["!links"].length;++a){var r=t["!links"][a];_xe(e,440,sfe(r)),r[1].Tooltip&&_xe(e,2048,lfe(r))}delete t["!links"]}(s,o),_xe(s,442,Ghe(v)),u&&function(e,t){var a=wme(19);a.write_shift(4,2151),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,1),a.write_shift(4,0),_xe(e,2151,a),(a=wme(39)).write_shift(4,2152),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(2,3),a.write_shift(1,0),a.write_shift(4,0),a.write_shift(2,1),a.write_shift(4,4),a.write_shift(2,0),efe(Ime(t["!ref"]||"A1"),a),a.write_shift(4,4),_xe(e,2152,a)}(s,o),_xe(s,10),s.end()}function Axe(e,t,a){var r,n=jme(),s=(e||{}).Workbook||{},l=s.Sheets||[],o=s.WBProps||{},i=8==a.biff,d=5==a.biff;_xe(n,2057,tfe(0,5,a)),"xla"==a.bookType&&_xe(n,135),_xe(n,225,i?Whe(1200):null),_xe(n,193,function(e,t){t||(t=wme(e));for(var a=0;a<e;++a)t.write_shift(1,0);return t}(2)),d&&_xe(n,191),d&&_xe(n,192),_xe(n,226),_xe(n,92,function(e,t){var a=!t||8==t.biff,r=wme(a?112:54);for(r.write_shift(8==t.biff?2:1,7),a&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(a?0:536870912));r.l<r.length;)r.write_shift(1,a?0:32);return r}(0,a)),_xe(n,66,Whe(i?1200:1252)),i&&_xe(n,353,Whe(0)),i&&_xe(n,448),_xe(n,317,function(e){for(var t=wme(2*e),a=0;a<e;++a)t.write_shift(2,a+1);return t}(e.SheetNames.length)),i&&e.vbaraw&&_xe(n,211),i&&e.vbaraw&&_xe(n,442,Ghe(o.CodeName||"ThisWorkbook")),_xe(n,156,Whe(17)),_xe(n,25,Uhe(!1)),_xe(n,18,Uhe(!1)),_xe(n,19,Whe(0)),i&&_xe(n,431,Uhe(!1)),i&&_xe(n,444,Whe(0)),_xe(n,61,((r=wme(18)).write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r)),_xe(n,64,Uhe(!1)),_xe(n,141,Whe(0)),_xe(n,34,Uhe("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&function(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),_xe(n,14,Uhe(!0)),i&&_xe(n,439,Uhe(!1)),_xe(n,218,Whe(0)),Exe(n,0,a),function(e,t,a){t&&[[5,8],[23,26],[41,44],[50,392]].forEach((function(r){for(var n=r[0];n<=r[1];++n)null!=t[n]&&_xe(e,1054,rfe(n,t[n],a))}))}(n,e.SSF,a),function(e,t){for(var a=0;a<16;++a)_xe(e,224,nfe({numFmtId:0,style:!0},0,t));t.cellXfs.forEach((function(a){_xe(e,224,nfe(a,0,t))}))}(n,a),i&&_xe(n,352,Uhe(!1));var c=n.end(),u=jme();i&&_xe(u,140,function(e){return e||(e=wme(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),i&&a.Strings&&function(e,t,a){var r=(a||[]).length||0;if(r<=8224)return _xe(e,t,a,r);var n=t;if(!isNaN(n)){for(var s=a.parts||[],l=0,o=0,i=0;i+(s[l]||8224)<=8224;)i+=s[l]||8224,l++;var d=e.next(4);for(d.write_shift(2,n),d.write_shift(2,i),e.push(a.slice(o,o+i)),o+=i;o<r;){for((d=e.next(4)).write_shift(2,60),i=0;i+(s[l]||8224)<=8224;)i+=s[l]||8224,l++;d.write_shift(2,i),e.push(a.slice(o,o+i)),o+=i}}}(u,252,function(e){var t=wme(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var a=[],r=0;r<e.length;++r)a[r]=Vhe(e[r]);var n=Lde([t].concat(a));return n.parts=[t.length].concat(a.map((function(e){return e.length}))),n}(a.Strings)),_xe(u,10);var m=u.end(),h=jme(),f=0,p=0;for(p=0;p<e.SheetNames.length;++p)f+=(i?12:11)+(i?2:1)*e.SheetNames[p].length;var x=c.length+f+m.length;for(p=0;p<e.SheetNames.length;++p)_xe(h,133,afe({pos:x,hs:(l[p]||{}).Hidden||0,dt:0,name:e.SheetNames[p]},a)),x+=t[p].length;var g=h.end();if(f!=g.length)throw new Error("BS8 "+f+" != "+g.length);var b=[];return c.length&&b.push(c),g.length&&b.push(g),m.length&&b.push(m),Lde(b)}function Pxe(e,t){for(var a=0;a<=e.SheetNames.length;++a){var r=e.Sheets[e.SheetNames[a]];r&&r["!ref"]&&Mme(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[a]+"' extends beyond column IV (255).  Data may be lost.")}var n=t||{};switch(n.biff||2){case 8:case 5:return function(e,t){var a=t||{},r=[];e&&!e.SSF&&(e.SSF=Kce(Vde)),e&&e.SSF&&(Ece(),Cce(e.SSF),a.revssf=Fce(e.SSF),a.revssf[e.SSF[65535]]=0,a.ssf=e.SSF),a.Strings=[],a.Strings.Count=0,a.Strings.Unique=0,sge(a),a.cellXfs=[],Rpe(a.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var n=0;n<e.SheetNames.length;++n)r[r.length]=Dxe(n,a,e);return r.unshift(Axe(e,r,a)),Lde(r)}(e,t);case 4:case 3:case 2:return Cxe(e,t)}throw new Error("invalid type "+n.bookType+" for BIFF")}function Mxe(e,t,a,r){for(var n=e["!merges"]||[],s=[],l=t.s.c;l<=t.e.c;++l){for(var o=0,i=0,d=0;d<n.length;++d)if(!(n[d].s.r>a||n[d].s.c>l||n[d].e.r<a||n[d].e.c<l)){if(n[d].s.r<a||n[d].s.c<l){o=-1;break}o=n[d].e.r-n[d].s.r+1,i=n[d].e.c-n[d].s.c+1;break}if(!(o<0)){var c=Pme({r:a,c:l}),u=r.dense?(e[a]||[])[l]:e[c],m=u&&null!=u.v&&(u.h||((u.w||(Rme(u),u.w)||"")+"").replace(nue,(function(e){return rue[e]})).replace(/\n/g,"<br/>").replace(iue,(function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})))||"",h={};o>1&&(h.rowspan=o),i>1&&(h.colspan=i),r.editable?m='<span contenteditable="true">'+m+"</span>":u&&(h["data-t"]=u&&u.t||"z",null!=u.v&&(h["data-v"]=u.v),null!=u.z&&(h["data-z"]=u.z),u.l&&"#"!=(u.l.Target||"#").charAt(0)&&(m='<a href="'+u.l.Target+'">'+m+"</a>")),h.id=(r.id||"sjs")+"-"+c,s.push(vue("td",m,h))}}return"<tr>"+s.join("")+"</tr>"}function Lxe(e,t){var a=t||{},r=null!=a.header?a.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',n=null!=a.footer?a.footer:"</body></html>",s=[r],l=Mme(e["!ref"]);a.dense=Array.isArray(e),s.push(function(e,t,a){return[].join("")+"<table"+(a&&a.id?' id="'+a.id+'"':"")+">"}(0,0,a));for(var o=l.s.r;o<=l.e.r;++o)s.push(Mxe(e,l,o,a));return s.push("</table>"+n),s.join("")}function Ixe(e,t,a){var r=a||{},n=0,s=0;if(null!=r.origin)if("number"==typeof r.origin)n=r.origin;else{var l="string"==typeof r.origin?Ame(r.origin):r.origin;n=l.r,s=l.c}var o=t.getElementsByTagName("tr"),i=Math.min(r.sheetRows||1e7,o.length),d={s:{r:0,c:0},e:{r:n,c:s}};if(e["!ref"]){var c=Mme(e["!ref"]);d.s.r=Math.min(d.s.r,c.s.r),d.s.c=Math.min(d.s.c,c.s.c),d.e.r=Math.max(d.e.r,c.e.r),d.e.c=Math.max(d.e.c,c.e.c),-1==n&&(d.e.r=n=c.e.r+1)}var u=[],m=0,h=e["!rows"]||(e["!rows"]=[]),f=0,p=0,x=0,g=0,b=0,v=0;for(e["!cols"]||(e["!cols"]=[]);f<o.length&&p<i;++f){var y=o[f];if(Rxe(y)){if(r.display)continue;h[p]={hidden:!0}}var w=y.children;for(x=g=0;x<w.length;++x){var j=w[x];if(!r.display||!Rxe(j)){var N=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):pue(j.innerHTML),_=j.getAttribute("data-z")||j.getAttribute("z");for(m=0;m<u.length;++m){var S=u[m];S.s.c==g+s&&S.s.r<p+n&&p+n<=S.e.r&&(g=S.e.c+1-s,m=-1)}v=+j.getAttribute("colspan")||1,((b=+j.getAttribute("rowspan")||1)>1||v>1)&&u.push({s:{r:p+n,c:g+s},e:{r:p+n+(b||1)-1,c:g+s+(v||1)-1}});var k={t:"s",v:N},C=j.getAttribute("data-t")||j.getAttribute("t")||"";null!=N&&(0==N.length?k.t=C||"z":r.raw||0==N.trim().length||"s"==C||("TRUE"===N?k={t:"b",v:!0}:"FALSE"===N?k={t:"b",v:!1}:isNaN(Qce(N))?isNaN(Zce(N).getDate())||(k={t:"d",v:Vce(N)},r.cellDates||(k={t:"n",v:$ce(k.v)}),k.z=r.dateNF||Vde[14]):k={t:"n",v:Qce(N)})),void 0===k.z&&null!=_&&(k.z=_);var E="",T=j.getElementsByTagName("A");if(T&&T.length)for(var O=0;O<T.length&&(!T[O].hasAttribute("href")||"#"==(E=T[O].getAttribute("href")).charAt(0));++O);E&&"#"!=E.charAt(0)&&(k.l={Target:E}),r.dense?(e[p+n]||(e[p+n]=[]),e[p+n][g+s]=k):e[Pme({c:g+s,r:p+n})]=k,d.e.c<g+s&&(d.e.c=g+s),g+=v}}++p}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),d.e.r=Math.max(d.e.r,p-1+n),e["!ref"]=Lme(d),p>=i&&(e["!fullref"]=Lme((d.e.r=o.length-f+p-1+n,d))),e}function Fxe(e,t){return Ixe((t||{}).dense?[]:{},e,t)}function Rxe(e){var t="",a=function(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return a&&(t=a(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var $xe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+bue({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return aue+t}}(),Bxe=function(){var e="          <table:table-cell />\n",t=function(t,a,r){var n=[];n.push('      <table:table table:name="'+lue(a.SheetNames[r])+'" table:style-name="ta1">\n');var s=0,l=0,o=Mme(t["!ref"]||"A1"),i=t["!merges"]||[],d=0,c=Array.isArray(t);if(t["!cols"])for(l=0;l<=o.e.c;++l)n.push("        <table:table-column"+(t["!cols"][l]?' table:style-name="co'+t["!cols"][l].ods+'"':"")+"></table:table-column>\n");var u="",m=t["!rows"]||[];for(s=0;s<o.s.r;++s)u=m[s]?' table:style-name="ro'+m[s].ods+'"':"",n.push("        <table:table-row"+u+"></table:table-row>\n");for(;s<=o.e.r;++s){for(u=m[s]?' table:style-name="ro'+m[s].ods+'"':"",n.push("        <table:table-row"+u+">\n"),l=0;l<o.s.c;++l)n.push(e);for(;l<=o.e.c;++l){var h=!1,f={},p="";for(d=0;d!=i.length;++d)if(!(i[d].s.c>l||i[d].s.r>s||i[d].e.c<l||i[d].e.r<s)){i[d].s.c==l&&i[d].s.r==s||(h=!0),f["table:number-columns-spanned"]=i[d].e.c-i[d].s.c+1,f["table:number-rows-spanned"]=i[d].e.r-i[d].s.r+1;break}if(h)n.push("          <table:covered-table-cell/>\n");else{var x=Pme({r:s,c:l}),g=c?(t[s]||[])[l]:t[x];if(g&&g.f&&(f["table:formula"]=lue(("of:="+g.f.replace(Jfe,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")),g.F&&g.F.slice(0,x.length)==x)){var b=Mme(g.F);f["table:number-matrix-columns-spanned"]=b.e.c-b.s.c+1,f["table:number-matrix-rows-spanned"]=b.e.r-b.s.r+1}if(g){switch(g.t){case"b":p=g.v?"TRUE":"FALSE",f["office:value-type"]="boolean",f["office:boolean-value"]=g.v?"true":"false";break;case"n":p=g.w||String(g.v||0),f["office:value-type"]="float",f["office:value"]=g.v||0;break;case"s":case"str":p=null==g.v?"":g.v,f["office:value-type"]="string";break;case"d":p=g.w||Vce(g.v).toISOString(),f["office:value-type"]="date",f["office:date-value"]=Vce(g.v).toISOString(),f["table:style-name"]="ce1";break;default:n.push(e);continue}var v=lue(p).replace(/  +/g,(function(e){return'<text:s text:c="'+e.length+'"/>'})).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>");if(g.l&&g.l.Target){var y=g.l.Target;"#"==(y="#"==y.charAt(0)?"#"+y.slice(1).replace(/\./,"!"):y).charAt(0)||y.match(/^\w+:/)||(y="../"+y),v=vue("text:a",v,{"xlink:href":y.replace(/&/g,"&amp;")})}n.push("          "+vue("table:table-cell",vue("text:p",v,{}),f)+"\n")}else n.push(e)}}n.push("        </table:table-row>\n")}return n.push("      </table:table>\n"),n.join("")};return function(e,a){var r=[aue],n=bue({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),s=bue({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==a.bookType?(r.push("<office:document"+n+s+">\n"),r.push(Ehe().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+n+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var a=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var n=t["!cols"][r];if(null==n.width&&null==n.wpx&&null==n.wch)continue;_fe(n),n.ods=a;var s=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+a+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+s+'"/>\n'),e.push("  </style:style>\n"),++a}}));var r=0;t.SheetNames.map((function(e){return t.Sheets[e]})).forEach((function(t){if(t&&t["!rows"])for(var a=0;a<t["!rows"].length;++a)if(t["!rows"][a]){t["!rows"][a].ods=r;var n=t["!rows"][a].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+n+'"/>\n'),e.push("  </style:style>\n"),++r}})),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var l=0;l!=e.SheetNames.length;++l)r.push(t(e.Sheets[e.SheetNames[l]],e,l));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==a.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function zxe(e,t){if("fods"==t.bookType)return Bxe(e,t);var a=tue(),r="",n=[],s=[];return eue(a,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),eue(a,r="content.xml",Bxe(e,t)),n.push([r,"text/xml"]),s.push([r,"ContentFile"]),eue(a,r="styles.xml",$xe(e,t)),n.push([r,"text/xml"]),s.push([r,"StylesFile"]),eue(a,r="meta.xml",aue+Ehe()),n.push([r,"text/xml"]),s.push([r,"MetadataFile"]),eue(a,r="manifest.rdf",function(e){var t,a,r=[aue];r.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=e.length;++n)r.push(Che(e[n][0],e[n][1])),r.push((t="",a=e[n][0],['  <rdf:Description rdf:about="'+t+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+a+'"/>\n',"  </rdf:Description>\n"].join("")));return r.push(Che("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}(s)),n.push([r,"application/rdf+xml"]),eue(a,r="META-INF/manifest.xml",function(e){var t=[aue];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var a=0;a<e.length;++a)t.push('  <manifest:file-entry manifest:full-path="'+e[a][0]+'" manifest:media-type="'+e[a][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(n)),a}
/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Uxe(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Hxe(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):Ade(fue(e))}function Wxe(e){var t=e.reduce((function(e,t){return e+t.length}),0),a=new Uint8Array(t),r=0;return e.forEach((function(e){a.set(e,r),r+=e.length})),a}function Yxe(e,t){var a=t?t[0]:0,r=127&e[a];e:if(e[a++]>=128){if(r|=(127&e[a])<<7,e[a++]<128)break e;if(r|=(127&e[a])<<14,e[a++]<128)break e;if(r|=(127&e[a])<<21,e[a++]<128)break e;if(r+=(127&e[a])*Math.pow(2,28),++a,e[a++]<128)break e;if(r+=(127&e[a])*Math.pow(2,35),++a,e[a++]<128)break e;if(r+=(127&e[a])*Math.pow(2,42),++a,e[a++]<128)break e}return t&&(t[0]=a),r}function qxe(e){var t=new Uint8Array(7);t[0]=127&e;var a=1;e:if(e>127){if(t[a-1]|=128,t[a]=e>>7&127,++a,e<=16383)break e;if(t[a-1]|=128,t[a]=e>>14&127,++a,e<=2097151)break e;if(t[a-1]|=128,t[a]=e>>21&127,++a,e<=268435455)break e;if(t[a-1]|=128,t[a]=e/256>>>21&127,++a,e<=34359738367)break e;if(t[a-1]|=128,t[a]=e/65536>>>21&127,++a,e<=4398046511103)break e;t[a-1]|=128,t[a]=e/16777216>>>21&127,++a}return t.slice(0,a)}function Vxe(e){var t=0,a=127&e[t];e:if(e[t++]>=128){if(a|=(127&e[t])<<7,e[t++]<128)break e;if(a|=(127&e[t])<<14,e[t++]<128)break e;if(a|=(127&e[t])<<21,e[t++]<128)break e;a|=(127&e[t])<<28}return a}function Gxe(e){for(var t=[],a=[0];a[0]<e.length;){var r,n=a[0],s=Yxe(e,a),l=7&s,o=0;if(0==(s=Math.floor(s/8)))break;switch(l){case 0:for(var i=a[0];e[a[0]++]>=128;);r=e.slice(i,a[0]);break;case 5:o=4,r=e.slice(a[0],a[0]+o),a[0]+=o;break;case 1:o=8,r=e.slice(a[0],a[0]+o),a[0]+=o;break;case 2:o=Yxe(e,a),r=e.slice(a[0],a[0]+o),a[0]+=o;break;default:throw new Error("PB Type ".concat(l," for Field ").concat(s," at offset ").concat(n))}var d={data:r,type:l};null==t[s]?t[s]=[d]:t[s].push(d)}return t}function Kxe(e){var t=[];return e.forEach((function(e,a){e.forEach((function(e){e.data&&(t.push(qxe(8*a+e.type)),2==e.type&&t.push(qxe(e.data.length)),t.push(e.data))}))})),Wxe(t)}function Xxe(e){for(var t,a=[],r=[0];r[0]<e.length;){var n=Yxe(e,r),s=Gxe(e.slice(r[0],r[0]+n));r[0]+=n;var l={id:Vxe(s[1][0].data),messages:[]};s[2].forEach((function(t){var a=Gxe(t.data),n=Vxe(a[3][0].data);l.messages.push({meta:a,data:e.slice(r[0],r[0]+n)}),r[0]+=n})),(null==(t=s[3])?void 0:t[0])&&(l.merge=Vxe(s[3][0].data)>>>0>0),a.push(l)}return a}function Qxe(e){var t=[];return e.forEach((function(e){var a=[];a[1]=[{data:qxe(e.id),type:0}],a[2]=[],null!=e.merge&&(a[3]=[{data:qxe(+!!e.merge),type:0}]);var r=[];e.messages.forEach((function(e){r.push(e.data),e.meta[3]=[{type:0,data:qxe(e.data.length)}],a[2].push({data:Kxe(e.meta),type:2})}));var n=Kxe(a);t.push(qxe(n.length)),t.push(n),r.forEach((function(e){return t.push(e)}))})),Wxe(t)}function Jxe(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var a=[0],r=Yxe(t,a),n=[];a[0]<t.length;){var s=3&t[a[0]];if(0!=s){var l=0,o=0;if(1==s?(o=4+(t[a[0]]>>2&7),l=(224&t[a[0]++])<<3,l|=t[a[0]++]):(o=1+(t[a[0]++]>>2),2==s?(l=t[a[0]]|t[a[0]+1]<<8,a[0]+=2):(l=(t[a[0]]|t[a[0]+1]<<8|t[a[0]+2]<<16|t[a[0]+3]<<24)>>>0,a[0]+=4)),n=[Wxe(n)],0==l)throw new Error("Invalid offset 0");if(l>n[0].length)throw new Error("Invalid offset beyond length");if(o>=l)for(n.push(n[0].slice(-l)),o-=l;o>=n[n.length-1].length;)n.push(n[n.length-1]),o-=n[n.length-1].length;n.push(n[0].slice(-l,-l+o))}else{var i=t[a[0]++]>>2;if(i<60)++i;else{var d=i-59;i=t[a[0]],d>1&&(i|=t[a[0]+1]<<8),d>2&&(i|=t[a[0]+2]<<16),d>3&&(i|=t[a[0]+3]<<24),i>>>=0,i++,a[0]+=d}n.push(t.slice(a[0],a[0]+i)),a[0]+=i}}var c=Wxe(n);if(c.length!=r)throw new Error("Unexpected length: ".concat(c.length," != ").concat(r));return c}function Zxe(e){for(var t=[],a=0;a<e.length;){var r=e[a++],n=e[a]|e[a+1]<<8|e[a+2]<<16;a+=3,t.push(Jxe(r,e.slice(a,a+n))),a+=n}if(a!==e.length)throw new Error("data is not a valid framed stream!");return Wxe(t)}function ege(e){for(var t=[],a=0;a<e.length;){var r=Math.min(e.length-a,268435455),n=new Uint8Array(4);t.push(n);var s=qxe(r),l=s.length;t.push(s),r<=60?(l++,t.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(a,a+r)),l+=r,n[0]=0,n[1]=255&l,n[2]=l>>8&255,n[3]=l>>16&255,a+=r}return Wxe(t)}function tge(e,t){var a=new Uint8Array(32),r=Uxe(a),n=12,s=0;switch(a[0]=5,e.t){case"n":a[1]=2,function(e,t,a){var r=Math.floor(0==a?0:Math.LOG10E*Math.log(Math.abs(a)))+6176-20,n=a/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var s=0;n>=1;++s,n/=256)e[t+s]=255&n;e[t+15]|=a>=0?0:128}(a,n,e.v),s|=1,n+=16;break;case"b":a[1]=6,r.setFloat64(n,e.v?1:0,!0),s|=2,n+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));a[1]=3,r.setUint32(n,t.indexOf(e.v),!0),s|=8,n+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,s,!0),a.slice(0,n)}function age(e,t){var a=new Uint8Array(32),r=Uxe(a),n=12,s=0;switch(a[0]=3,e.t){case"n":a[2]=2,r.setFloat64(n,e.v,!0),s|=32,n+=8;break;case"b":a[2]=6,r.setFloat64(n,e.v?1:0,!0),s|=32,n+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));a[2]=3,r.setUint32(n,t.indexOf(e.v),!0),s|=16,n+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,s,!0),a.slice(0,n)}function rge(e){return Yxe(Gxe(e)[1][0].data)}function nge(e,t,a){var r,n,s,l;if(!(null==(r=e[6])?void 0:r[0])||!(null==(n=e[7])?void 0:n[0]))throw"Mutation only works on post-BNC storages!";if((null==(l=null==(s=e[8])?void 0:s[0])?void 0:l.data)&&Vxe(e[8][0].data)>0)throw"Math only works with normal offsets";for(var o=0,i=Uxe(e[7][0].data),d=0,c=[],u=Uxe(e[4][0].data),m=0,h=[],f=0;f<t.length;++f)if(null!=t[f]){var p,x;switch(i.setUint16(2*f,d,!0),u.setUint16(2*f,m,!0),typeof t[f]){case"string":p=tge({t:"s",v:t[f]},a),x=age({t:"s",v:t[f]},a);break;case"number":p=tge({t:"n",v:t[f]},a),x=age({t:"n",v:t[f]},a);break;case"boolean":p=tge({t:"b",v:t[f]},a),x=age({t:"b",v:t[f]},a);break;default:throw new Error("Unsupported value "+t[f])}c.push(p),d+=p.length,h.push(x),m+=x.length,++o}else i.setUint16(2*f,65535,!0),u.setUint16(2*f,65535);for(e[2][0].data=qxe(o);f<e[7][0].data.length/2;++f)i.setUint16(2*f,65535,!0),u.setUint16(2*f,65535,!0);return e[6][0].data=Wxe(c),e[3][0].data=Wxe(h),o}function sge(e){var t;(t=[["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]],function(e){for(var a=0;a!=t.length;++a){var r=t[a];void 0===e[r[0]]&&(e[r[0]]=r[1]),"n"===r[2]&&(e[r[0]]=Number(e[r[0]]))}})(e)}function lge(e,t){return"ods"==t.bookType?zxe(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var a=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Mme(a["!ref"]);r.s.r=r.s.c=0;var n=!1;r.e.c>9&&(n=!0,r.e.c=9),r.e.r>49&&(n=!0,r.e.r=49),n&&console.error("The Numbers writer is currently limited to ".concat(Lme(r)));var s=fge(a,{range:r,header:1}),l=["~Sh33tJ5~"];s.forEach((function(e){return e.forEach((function(e){"string"==typeof e&&l.push(e)}))}));var o={},i=[],d=Dce.read(t.numbers,{type:"base64"});d.FileIndex.map((function(e,t){return[e,d.FullPaths[t]]})).forEach((function(e){var t=e[0],a=e[1];2==t.type&&t.name.match(/\.iwa/)&&Xxe(Zxe(t.content)).forEach((function(e){i.push(e.id),o[e.id]={deps:[],location:a,type:Vxe(e.messages[0].meta[1][0].data)}}))})),i.sort((function(e,t){return e-t}));var c=i.filter((function(e){return e>1})).map((function(e){return[e,qxe(e)]}));d.FileIndex.map((function(e,t){return[e,d.FullPaths[t]]})).forEach((function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&Xxe(Zxe(t.content)).forEach((function(e){e.messages.forEach((function(t){c.forEach((function(t){e.messages.some((function(e){return 11006!=Vxe(e.meta[1][0].data)&&function(e,t){e:for(var a=0;a<=e.length-t.length;++a){for(var r=0;r<t.length;++r)if(e[a+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])}))&&o[t[0]].deps.push(e.id)}))}))}))}));for(var u,m=Dce.find(d,o[1].location),h=Xxe(Zxe(m.content)),f=0;f<h.length;++f){var p=h[f];1==p.id&&(u=p)}var x=rge(Gxe(u.messages[0].data)[1][0].data);for(h=Xxe(Zxe((m=Dce.find(d,o[x].location)).content)),f=0;f<h.length;++f)(p=h[f]).id==x&&(u=p);for(x=rge(Gxe(u.messages[0].data)[2][0].data),h=Xxe(Zxe((m=Dce.find(d,o[x].location)).content)),f=0;f<h.length;++f)(p=h[f]).id==x&&(u=p);for(x=rge(Gxe(u.messages[0].data)[2][0].data),h=Xxe(Zxe((m=Dce.find(d,o[x].location)).content)),f=0;f<h.length;++f)(p=h[f]).id==x&&(u=p);var g=Gxe(u.messages[0].data);g[6][0].data=qxe(r.e.r+1),g[7][0].data=qxe(r.e.c+1);for(var b=rge(g[46][0].data),v=Dce.find(d,o[b].location),y=Xxe(Zxe(v.content)),w=0;w<y.length&&y[w].id!=b;++w);if(y[w].id!=b)throw"Bad ColumnRowUIDMapArchive";var j=Gxe(y[w].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var N=0;N<=r.e.c;++N){var _=[];_[1]=_[2]=[{type:0,data:qxe(N+420690)}],j[1].push({type:2,data:Kxe(_)}),j[2].push({type:0,data:qxe(N)}),j[3].push({type:0,data:qxe(N)})}j[4]=[],j[5]=[],j[6]=[];for(var S=0;S<=r.e.r;++S)(_=[])[1]=_[2]=[{type:0,data:qxe(S+726270)}],j[4].push({type:2,data:Kxe(_)}),j[5].push({type:0,data:qxe(S)}),j[6].push({type:0,data:qxe(S)});y[w].messages[0].data=Kxe(j),v.content=ege(Qxe(y)),v.size=v.content.length,delete g[46];var k=Gxe(g[4][0].data);k[7][0].data=qxe(r.e.r+1);var C=rge(Gxe(k[1][0].data)[2][0].data);if((y=Xxe(Zxe((v=Dce.find(d,o[C].location)).content)))[0].id!=C)throw"Bad HeaderStorageBucket";var E=Gxe(y[0].messages[0].data);for(S=0;S<s.length;++S){var T=Gxe(E[2][0].data);T[1][0].data=qxe(S),T[4][0].data=qxe(s[S].length),E[2][S]={type:E[2][0].type,data:Kxe(T)}}y[0].messages[0].data=Kxe(E),v.content=ege(Qxe(y)),v.size=v.content.length;var O=rge(k[2][0].data);if((y=Xxe(Zxe((v=Dce.find(d,o[O].location)).content)))[0].id!=O)throw"Bad HeaderStorageBucket";for(E=Gxe(y[0].messages[0].data),N=0;N<=r.e.c;++N)(T=Gxe(E[2][0].data))[1][0].data=qxe(N),T[4][0].data=qxe(r.e.r+1),E[2][N]={type:E[2][0].type,data:Kxe(T)};y[0].messages[0].data=Kxe(E),v.content=ege(Qxe(y)),v.size=v.content.length;var D=rge(k[4][0].data);!function(){for(var e,t=Dce.find(d,o[D].location),a=Xxe(Zxe(t.content)),r=0;r<a.length;++r){var n=a[r];n.id==D&&(e=n)}var s=Gxe(e.messages[0].data);s[3]=[];var i=[];l.forEach((function(e,t){i[1]=[{type:0,data:qxe(t)}],i[2]=[{type:0,data:qxe(1)}],i[3]=[{type:2,data:Hxe(e)}],s[3].push({type:2,data:Kxe(i)})})),e.messages[0].data=Kxe(s);var c=ege(Qxe(a));t.content=c,t.size=t.content.length}();var A=Gxe(k[3][0].data),P=A[1][0];delete A[2];var M=Gxe(P.data),L=rge(M[2][0].data);!function(){for(var e,t=Dce.find(d,o[L].location),a=Xxe(Zxe(t.content)),n=0;n<a.length;++n){var i=a[n];i.id==L&&(e=i)}var c=Gxe(e.messages[0].data);delete c[6],delete A[7];var u=new Uint8Array(c[5][0].data);c[5]=[];for(var m=0,h=0;h<=r.e.r;++h){var f=Gxe(u);m+=nge(f,s[h],l),f[1][0].data=qxe(h),c[5].push({data:Kxe(f),type:2})}c[1]=[{type:0,data:qxe(r.e.c+1)}],c[2]=[{type:0,data:qxe(r.e.r+1)}],c[3]=[{type:0,data:qxe(m)}],c[4]=[{type:0,data:qxe(r.e.r+1)}],e.messages[0].data=Kxe(c);var p=ege(Qxe(a));t.content=p,t.size=t.content.length}(),P.data=Kxe(M),k[3][0].data=Kxe(A),g[4][0].data=Kxe(k),u.messages[0].data=Kxe(g);var I=ege(Qxe(h));return m.content=I,m.size=m.content.length,d}(e,t):"xlsb"==t.bookType?function(e,t){Wfe=1024,e&&!e.SSF&&(e.SSF=Kce(Vde)),e&&e.SSF&&(Ece(),Cce(e.SSF),t.revssf=Fce(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Mpe?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a="xlsb"==t.bookType?"bin":"xml",r=Xfe.indexOf(t.bookType)>-1,n={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};sge(t=t||{});var s=tue(),l="",o=0;if(t.cellXfs=[],Rpe(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),eue(s,l="docProps/core.xml",Dhe(e.Props,t)),n.coreprops.push(l),khe(t.rels,2,l,Nhe.CORE_PROPS),l="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var i=[],d=0;d<e.SheetNames.length;++d)2!=(e.Workbook.Sheets[d]||{}).Hidden&&i.push(e.SheetNames[d]);e.Props.SheetNames=i}else e.Props.SheetNames=e.SheetNames;for(e.Props.Worksheets=e.Props.SheetNames.length,eue(s,l,Mhe(e.Props)),n.extprops.push(l),khe(t.rels,3,l,Nhe.EXT_PROPS),e.Custprops!==e.Props&&Mce(e.Custprops||{}).length>0&&(eue(s,l="docProps/custom.xml",Lhe(e.Custprops)),n.custprops.push(l),khe(t.rels,4,l,Nhe.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var c={"!id":{}},u=e.Sheets[e.SheetNames[o-1]];if((u||{})["!type"],eue(s,l="xl/worksheets/sheet"+o+"."+a,uxe(o-1,l,t,e,c)),n.sheets.push(l),khe(t.wbrels,-1,"worksheets/sheet"+o+"."+a,Nhe.WS[0]),u){var m=u["!comments"],h=!1,f="";m&&m.length>0&&(eue(s,f="xl/comments"+o+"."+a,mxe(m,f)),n.comments.push(f),khe(c,-1,"../comments"+o+"."+a,Nhe.CMNT),h=!0),u["!legacy"]&&h&&eue(s,"xl/drawings/vmlDrawing"+o+".vml",Yfe(o,u["!comments"])),delete u["!comments"],delete u["!legacy"]}c["!id"].rId1&&eue(s,_he(l),She(c))}return null!=t.Strings&&t.Strings.length>0&&(eue(s,l="xl/sharedStrings."+a,function(e,t,a){return(".bin"===t.slice(-4)?xfe:ffe)(e,a)}(t.Strings,l,t)),n.strs.push(l),khe(t.wbrels,-1,"sharedStrings."+a,Nhe.SST)),eue(s,l="xl/workbook."+a,function(e,t){return(".bin"===t.slice(-4)?cxe:ixe)(e)}(e,l)),n.workbooks.push(l),khe(t.rels,1,l,Nhe.WB),eue(s,l="xl/theme/theme1.xml",zfe(e.Themes,t)),n.themes.push(l),khe(t.wbrels,-1,"theme/theme1.xml",Nhe.THEME),eue(s,l="xl/styles."+a,function(e,t,a){return(".bin"===t.slice(-4)?Bfe:Cfe)(e,a)}(e,l,t)),n.styles.push(l),khe(t.wbrels,-1,"styles."+a,Nhe.STY),e.vbaraw&&r&&(eue(s,l="xl/vbaProject.bin",e.vbaraw),n.vba.push(l),khe(t.wbrels,-1,"vbaProject.bin",Nhe.VBA)),eue(s,l="xl/metadata."+a,(".bin"===l.slice(-4)?Ufe:Hfe)()),n.metadata.push(l),khe(t.wbrels,-1,"metadata."+a,Nhe.XLMETA),eue(s,"[Content_Types].xml",jhe(n,t)),eue(s,"_rels/.rels",She(t.rels)),eue(s,"xl/_rels/workbook."+a+".rels",She(t.wbrels)),delete t.revssf,delete t.ssf,s}(e,t):function(e,t){Wfe=1024,e&&!e.SSF&&(e.SSF=Kce(Vde)),e&&e.SSF&&(Ece(),Cce(e.SSF),t.revssf=Fce(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Mpe?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var a="xml",r=Xfe.indexOf(t.bookType)>-1,n={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};sge(t=t||{});var s=tue(),l="",o=0;if(t.cellXfs=[],Rpe(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),eue(s,l="docProps/core.xml",Dhe(e.Props,t)),n.coreprops.push(l),khe(t.rels,2,l,Nhe.CORE_PROPS),l="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var i=[],d=0;d<e.SheetNames.length;++d)2!=(e.Workbook.Sheets[d]||{}).Hidden&&i.push(e.SheetNames[d]);e.Props.SheetNames=i}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,eue(s,l,Mhe(e.Props)),n.extprops.push(l),khe(t.rels,3,l,Nhe.EXT_PROPS),e.Custprops!==e.Props&&Mce(e.Custprops||{}).length>0&&(eue(s,l="docProps/custom.xml",Lhe(e.Custprops)),n.custprops.push(l),khe(t.rels,4,l,Nhe.CUST_PROPS));var c=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},m=e.Sheets[e.SheetNames[o-1]];if((m||{})["!type"],eue(s,l="xl/worksheets/sheet"+o+"."+a,Hpe(o-1,t,e,u)),n.sheets.push(l),khe(t.wbrels,-1,"worksheets/sheet"+o+"."+a,Nhe.WS[0]),m){var h=m["!comments"],f=!1,p="";if(h&&h.length>0){var x=!1;h.forEach((function(e){e[1].forEach((function(e){1==e.T&&(x=!0)}))})),x&&(eue(s,p="xl/threadedComments/threadedComment"+o+"."+a,Vfe(h,c,t)),n.threadedcomments.push(p),khe(u,-1,"../threadedComments/threadedComment"+o+"."+a,Nhe.TCMNT)),eue(s,p="xl/comments"+o+"."+a,qfe(h)),n.comments.push(p),khe(u,-1,"../comments"+o+"."+a,Nhe.CMNT),f=!0}m["!legacy"]&&f&&eue(s,"xl/drawings/vmlDrawing"+o+".vml",Yfe(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}u["!id"].rId1&&eue(s,_he(l),She(u))}return null!=t.Strings&&t.Strings.length>0&&(eue(s,l="xl/sharedStrings."+a,ffe(t.Strings,t)),n.strs.push(l),khe(t.wbrels,-1,"sharedStrings."+a,Nhe.SST)),eue(s,l="xl/workbook."+a,ixe(e)),n.workbooks.push(l),khe(t.rels,1,l,Nhe.WB),eue(s,l="xl/theme/theme1.xml",zfe(e.Themes,t)),n.themes.push(l),khe(t.wbrels,-1,"theme/theme1.xml",Nhe.THEME),eue(s,l="xl/styles."+a,Cfe(e,t)),n.styles.push(l),khe(t.wbrels,-1,"styles."+a,Nhe.STY),e.vbaraw&&r&&(eue(s,l="xl/vbaProject.bin",e.vbaraw),n.vba.push(l),khe(t.wbrels,-1,"vbaProject.bin",Nhe.VBA)),eue(s,l="xl/metadata."+a,Hfe()),n.metadata.push(l),khe(t.wbrels,-1,"metadata."+a,Nhe.XLMETA),c.length>1&&(eue(s,l="xl/persons/person.xml",function(e){var t=[aue,vue("personList",null,{xmlns:kue,"xmlns:x":Mue[0]}).replace(/[\/]>/,">")];return e.forEach((function(e,a){t.push(vue("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+a).slice(-12)+"}",userId:e,providerId:"None"}))})),t.push("</personList>"),t.join("")}(c)),n.people.push(l),khe(t.wbrels,-1,"persons/person.xml",Nhe.PEOPLE)),eue(s,"[Content_Types].xml",jhe(n,t)),eue(s,"_rels/.rels",She(t.rels)),eue(s,"xl/_rels/workbook."+a+".rels",She(t.wbrels)),delete t.revssf,delete t.ssf,s}(e,t)}function oge(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Pce(t.file,Dce.write(e,{type:Ede?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Dce.write(e,t)}function ige(e,t){var a=Kce(t||{});return function(e,t){var a={},r=Ede?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";if(t.compression&&(a.compression="DEFLATE"),t.password)a.type=r;else switch(t.type){case"base64":a.type="base64";break;case"binary":a.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":a.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var n=e.FullPaths?Dce.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[a.type]||a.type,compression:!!t.compression}):e.generate(a);if("undefined"!=typeof Deno&&"string"==typeof n){if("binary"==t.type||"base64"==t.type)return n;n=new Uint8Array(Pde(n))}return t.password&&"undefined"!=typeof encrypt_agile?oge(encrypt_agile(n,t.password),t):"file"===t.type?Pce(t.file,n):"string"==t.type?hue(n):n}(lge(e,a),a)}function dge(e,t,a){a||(a="");var r=a+e;switch(t.type){case"base64":return kde(fue(r));case"binary":return fue(r);case"string":return e;case"file":return Pce(t.file,r,"utf8");case"buffer":return Ede?Tde(r,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(r):dge(r,{type:"binary"}).split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}function cge(e,t){switch(t.type){case"string":case"base64":case"binary":for(var a="",r=0;r<e.length;++r)a+=String.fromCharCode(e[r]);return"base64"==t.type?kde(a):"string"==t.type?hue(a):a;case"file":return Pce(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function uge(e,t){wde(),oxe(e);var a=Kce(t||{});if(a.cellStyles&&(a.cellNF=!0,a.sheetStubs=!0),"array"==a.type){a.type="binary";var r=uge(e,a);return a.type="array",Pde(r)}var n=0;if(a.sheet&&(n="number"==typeof a.sheet?a.sheet:e.SheetNames.indexOf(a.sheet),!e.SheetNames[n]))throw new Error("Sheet not found: "+a.sheet+" : "+typeof a.sheet);switch(a.bookType||"xlsb"){case"xml":case"xlml":return dge(bxe(e,a),a);case"slk":case"sylk":return dge(ife.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"htm":case"html":return dge(Lxe(e.Sheets[e.SheetNames[n]],a),a);case"txt":return function(e,t){switch(t.type){case"base64":return kde(e);case"binary":case"string":return e;case"file":return Pce(t.file,e,"binary");case"buffer":return Ede?Tde(e,"binary"):e.split("").map((function(e){return e.charCodeAt(0)}))}throw new Error("Unrecognized type "+t.type)}(bge(e.Sheets[e.SheetNames[n]],a),a);case"csv":return dge(gge(e.Sheets[e.SheetNames[n]],a),a,"\ufeff");case"dif":return dge(dfe.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"dbf":return cge(ofe.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"prn":return dge(ufe.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"rtf":return dge(bfe.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"eth":return dge(cfe.from_sheet(e.Sheets[e.SheetNames[n]],a),a);case"fods":return dge(zxe(e,a),a);case"wk1":return cge(mfe.sheet_to_wk1(e.Sheets[e.SheetNames[n]],a),a);case"wk3":return cge(mfe.book_to_wk3(e,a),a);case"biff2":a.biff||(a.biff=2);case"biff3":a.biff||(a.biff=3);case"biff4":return a.biff||(a.biff=4),cge(Pxe(e,a),a);case"biff5":a.biff||(a.biff=5);case"biff8":case"xla":case"xls":return a.biff||(a.biff=8),function(e,t){var a=t||{};return oge(jxe(e,a),a)}(e,a);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ige(e,a);default:throw new Error("Unrecognized bookType |"+a.bookType+"|")}}function mge(e,t,a){var r={type:"file"};return r.file=t,function(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}(r),uge(e,r)}function hge(e,t,a,r,n,s,l,o){var i=Tme(a),d=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),u=!0,m=1===n?[]:{};if(1!==n)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:a,enumerable:!1})}catch(mMe){m.__rowNum__=a}else m.__rowNum__=a;if(!l||e[a])for(var h=t.s.c;h<=t.e.c;++h){var f=l?e[a][h]:e[r[h]+i];if(void 0!==f&&void 0!==f.t){var p=f.v;switch(f.t){case"z":if(null==p)break;continue;case"e":p=0==p?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+f.t)}if(null!=s[h]){if(null==p)if("e"==f.t&&null===p)m[s[h]]=null;else if(void 0!==d)m[s[h]]=d;else{if(!c||null!==p)continue;m[s[h]]=null}else m[s[h]]=c&&("n"!==f.t||"n"===f.t&&!1!==o.rawNumbers)?p:Rme(f,p,o);null!=p&&(u=!1)}}else{if(void 0===d)continue;null!=s[h]&&(m[s[h]]=d)}}return{row:m,isempty:u}}function fge(e,t){if(null==e||null==e["!ref"])return[];var a={t:"n",v:0},r=0,n=1,s=[],l=0,o="",i={s:{r:0,c:0},e:{r:0,c:0}},d=t||{},c=null!=d.range?d.range:e["!ref"];switch(1===d.header?r=1:"A"===d.header?r=2:Array.isArray(d.header)?r=3:null==d.header&&(r=0),typeof c){case"string":i=Ime(c);break;case"number":(i=Ime(e["!ref"])).s.r=c;break;default:i=c}r>0&&(n=0);var u=Tme(i.s.r),m=[],h=[],f=0,p=0,x=Array.isArray(e),g=i.s.r,b=0,v={};x&&!e[g]&&(e[g]=[]);var y=d.skipHidden&&e["!cols"]||[],w=d.skipHidden&&e["!rows"]||[];for(b=i.s.c;b<=i.e.c;++b)if(!(y[b]||{}).hidden)switch(m[b]=Dme(b),a=x?e[g][b]:e[m[b]+u],r){case 1:s[b]=b-i.s.c;break;case 2:s[b]=m[b];break;case 3:s[b]=d.header[b-i.s.c];break;default:if(null==a&&(a={w:"__EMPTY",t:"s"}),o=l=Rme(a,null,d),p=v[l]||0){do{o=l+"_"+p++}while(v[o]);v[l]=p,v[o]=1}else v[l]=1;s[b]=o}for(g=i.s.r+n;g<=i.e.r;++g)if(!(w[g]||{}).hidden){var j=hge(e,i,g,m,r,s,x,d);(!1===j.isempty||(1===r?!1!==d.blankrows:d.blankrows))&&(h[f++]=j.row)}return h.length=f,h}var pge=/"/g;function xge(e,t,a,r,n,s,l,o){for(var i=!0,d=[],c="",u=Tme(a),m=t.s.c;m<=t.e.c;++m)if(r[m]){var h=o.dense?(e[a]||[])[m]:e[r[m]+u];if(null==h)c="";else if(null!=h.v){i=!1,c=""+(o.rawNumbers&&"n"==h.t?h.v:Rme(h,null,o));for(var f=0,p=0;f!==c.length;++f)if((p=c.charCodeAt(f))===n||p===s||34===p||o.forceQuotes){c='"'+c.replace(pge,'""')+'"';break}"ID"==c&&(c='"ID"')}else null==h.f||h.F?c="":(i=!1,(c="="+h.f).indexOf(",")>=0&&(c='"'+c.replace(pge,'""')+'"'));d.push(c)}return!1===o.blankrows&&i?null:d.join(l)}function gge(e,t){var a=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var n=Ime(e["!ref"]),s=void 0!==r.FS?r.FS:",",l=s.charCodeAt(0),o=void 0!==r.RS?r.RS:"\n",i=o.charCodeAt(0),d=new RegExp(("|"==s?"\\|":s)+"+$"),c="",u=[];r.dense=Array.isArray(e);for(var m=r.skipHidden&&e["!cols"]||[],h=r.skipHidden&&e["!rows"]||[],f=n.s.c;f<=n.e.c;++f)(m[f]||{}).hidden||(u[f]=Dme(f));for(var p=0,x=n.s.r;x<=n.e.r;++x)(h[x]||{}).hidden||null!=(c=xge(e,n,x,u,l,i,s,r))&&(r.strip&&(c=c.replace(d,"")),(c||!1!==r.blankrows)&&a.push((p++?o:"")+c));return delete r.dense,a.join("")}function bge(e,t){return t||(t={}),t.FS="\t",t.RS="\n",gge(e,t)}function vge(e,t,a){var r,n=a||{},s=+!n.skipHeader,l=e||{},o=0,i=0;if(l&&null!=n.origin)if("number"==typeof n.origin)o=n.origin;else{var d="string"==typeof n.origin?Ame(n.origin):n.origin;o=d.r,i=d.c}var c={s:{c:0,r:0},e:{c:i,r:o+t.length-1+s}};if(l["!ref"]){var u=Ime(l["!ref"]);c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==o&&(o=u.e.r+1,c.e.r=o+t.length-1+s)}else-1==o&&(o=0,c.e.r=t.length-1+s);var m=n.header||[],h=0;t.forEach((function(e,t){Mce(e).forEach((function(a){-1==(h=m.indexOf(a))&&(m[h=m.length]=a);var d=e[a],c="z",u="",f=Pme({c:i+h,r:o+t+s});r=yge(l,f),!d||"object"!=typeof d||d instanceof Date?("number"==typeof d?c="n":"boolean"==typeof d?c="b":"string"==typeof d?c="s":d instanceof Date?(c="d",n.cellDates||(c="n",d=$ce(d)),u=n.dateNF||Vde[14]):null===d&&n.nullError&&(c="e",d=0),r?(r.t=c,r.v=d,delete r.w,delete r.R,u&&(r.z=u)):l[f]=r={t:c,v:d},u&&(r.z=u)):l[f]=d}))})),c.e.c=Math.max(c.e.c,i+m.length-1);var f=Tme(o);if(s)for(h=0;h<m.length;++h)l[Dme(h+i)+f]={t:"s",v:m[h]};return l["!ref"]=Lme(c),l}function yge(e,t,a){if("string"==typeof t){if(Array.isArray(e)){var r=Ame(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return yge(e,Pme("number"!=typeof t?t:{r:t,c:a||0}))}function wge(e,t,a){return t?(e.l={Target:t},a&&(e.l.Tooltip=a)):delete e.l,e}var jge,Nge,_ge={encode_col:Dme,encode_row:Tme,encode_cell:Pme,encode_range:Lme,decode_col:Ome,decode_row:Eme,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Ame,decode_range:Mme,format_cell:Rme,sheet_add_aoa:Bme,sheet_add_json:vge,sheet_add_dom:Ixe,aoa_to_sheet:zme,json_to_sheet:function(e,t){return vge(null,e,t)},table_to_sheet:Fxe,table_to_book:function(e,t){return $me(Fxe(e,t),t)},sheet_to_csv:gge,sheet_to_txt:bge,sheet_to_json:fge,sheet_to_html:Lxe,sheet_to_formulae:function(e){var t,a="",r="";if(null==e||null==e["!ref"])return[];var n,s=Ime(e["!ref"]),l="",o=[],i=[],d=Array.isArray(e);for(n=s.s.c;n<=s.e.c;++n)o[n]=Dme(n);for(var c=s.s.r;c<=s.e.r;++c)for(l=Tme(c),n=s.s.c;n<=s.e.c;++n)if(a=o[n]+l,r="",void 0!==(t=d?(e[c]||[])[n]:e[a])){if(null!=t.F){if(a=t.F,!t.f)continue;r=t.f,-1==a.indexOf(":")&&(a=a+":"+a)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}i[i.length]=a+"="+r}return i},sheet_to_row_object_array:fge,sheet_get_cell:yge,book_new:function(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function(e,t,a,r){var n=1;if(!a)for(;n<=65535&&-1!=e.SheetNames.indexOf(a="Sheet"+n);++n,a=void 0);if(!a||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(a)>=0){var s=a.match(/(^.*?)(\d+)$/);n=s&&+s[2]||0;var l=s&&s[1]||a;for(++n;n<=65535&&-1!=e.SheetNames.indexOf(a=l+n);++n);}if(lxe(a),e.SheetNames.indexOf(a)>=0)throw new Error("Worksheet with name |"+a+"| already exists!");return e.SheetNames.push(a),e.Sheets[a]=t,a},book_set_sheet_visibility:function(e,t,a){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var a=e.SheetNames.indexOf(t);if(a>-1)return a;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),a){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+a)}e.Workbook.Sheets[r].Hidden=a},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:wge,cell_set_internal_link:function(e,t,a){return wge(e,"#"+t,a)},cell_add_comment:function(e,t,a){e.c||(e.c=[]),e.c.push({t:t,a:a||"SheetJS"})},sheet_set_array_formula:function(e,t,a,r){for(var n="string"!=typeof t?t:Ime(t),s="string"==typeof t?t:Lme(t),l=n.s.r;l<=n.e.r;++l)for(var o=n.s.c;o<=n.e.c;++o){var i=yge(e,l,o);i.t="n",i.F=s,delete i.v,l==n.s.r&&o==n.s.c&&(i.f=a,r&&(i.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};
//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function Sge(){return jge.apply(null,arguments)}function kge(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function Cge(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function Ege(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Tge(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(Ege(e,t))return!1;return!0}function Oge(e){return void 0===e}function Dge(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function Age(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function Pge(e,t){var a,r=[],n=e.length;for(a=0;a<n;++a)r.push(t(e[a],a));return r}function Mge(e,t){for(var a in t)Ege(t,a)&&(e[a]=t[a]);return Ege(t,"toString")&&(e.toString=t.toString),Ege(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Lge(e,t,a,r){return qve(e,t,a,r,!0).utc()}function Ige(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function Fge(e){var t=null,a=!1,r=e._d&&!isNaN(e._d.getTime());return r&&(t=Ige(e),a=Nge.call(t.parsedDateParts,(function(e){return null!=e})),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&a),e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?r:(e._isValid=r,e._isValid)}function Rge(e){var t=Lge(NaN);return null!=e?Mge(Ige(t),e):Ige(t).userInvalidated=!0,t}Nge=Array.prototype.some?Array.prototype.some:function(e){var t,a=Object(this),r=a.length>>>0;for(t=0;t<r;t++)if(t in a&&e.call(this,a[t],t,a))return!0;return!1};var $ge=Sge.momentProperties=[],Bge=!1;function zge(e,t){var a,r,n,s=$ge.length;if(Oge(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Oge(t._i)||(e._i=t._i),Oge(t._f)||(e._f=t._f),Oge(t._l)||(e._l=t._l),Oge(t._strict)||(e._strict=t._strict),Oge(t._tzm)||(e._tzm=t._tzm),Oge(t._isUTC)||(e._isUTC=t._isUTC),Oge(t._offset)||(e._offset=t._offset),Oge(t._pf)||(e._pf=Ige(t)),Oge(t._locale)||(e._locale=t._locale),s>0)for(a=0;a<s;a++)Oge(n=t[r=$ge[a]])||(e[r]=n);return e}function Uge(e){zge(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Bge&&(Bge=!0,Sge.updateOffset(this),Bge=!1)}function Hge(e){return e instanceof Uge||null!=e&&null!=e._isAMomentObject}function Wge(e){!1===Sge.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Yge(e,t){var a=!0;return Mge((function(){if(null!=Sge.deprecationHandler&&Sge.deprecationHandler(null,e),a){var r,n,s,l=[],o=arguments.length;for(n=0;n<o;n++){if(r="","object"==typeof arguments[n]){for(s in r+="\n["+n+"] ",arguments[0])Ege(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[n];l.push(r)}Wge(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),a=!1}return t.apply(this,arguments)}),t)}var qge,Vge={};function Gge(e,t){null!=Sge.deprecationHandler&&Sge.deprecationHandler(e,t),Vge[e]||(Wge(t),Vge[e]=!0)}function Kge(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Xge(e,t){var a,r=Mge({},e);for(a in t)Ege(t,a)&&(Cge(e[a])&&Cge(t[a])?(r[a]={},Mge(r[a],e[a]),Mge(r[a],t[a])):null!=t[a]?r[a]=t[a]:delete r[a]);for(a in e)Ege(e,a)&&!Ege(t,a)&&Cge(e[a])&&(r[a]=Mge({},r[a]));return r}function Qge(e){null!=e&&this.set(e)}function Jge(e,t,a){var r=""+Math.abs(e),n=t-r.length;return(e>=0?a?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+r}Sge.suppressDeprecationWarnings=!1,Sge.deprecationHandler=null,qge=Object.keys?Object.keys:function(e){var t,a=[];for(t in e)Ege(e,t)&&a.push(t);return a};var Zge=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ebe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,tbe={},abe={};function rbe(e,t,a,r){var n=r;"string"==typeof r&&(n=function(){return this[r]()}),e&&(abe[e]=n),t&&(abe[t[0]]=function(){return Jge(n.apply(this,arguments),t[1],t[2])}),a&&(abe[a]=function(){return this.localeData().ordinal(n.apply(this,arguments),e)})}function nbe(e,t){return e.isValid()?(t=sbe(t,e.localeData()),tbe[t]=tbe[t]||function(e){var t,a,r,n=e.match(Zge);for(t=0,a=n.length;t<a;t++)abe[n[t]]?n[t]=abe[n[t]]:n[t]=(r=n[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,s="";for(r=0;r<a;r++)s+=Kge(n[r])?n[r].call(t,e):n[r];return s}}(t),tbe[t](e)):e.localeData().invalidDate()}function sbe(e,t){var a=5;function r(e){return t.longDateFormat(e)||e}for(ebe.lastIndex=0;a>=0&&ebe.test(e);)e=e.replace(ebe,r),ebe.lastIndex=0,a-=1;return e}var lbe={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function obe(e){return"string"==typeof e?lbe[e]||lbe[e.toLowerCase()]:void 0}function ibe(e){var t,a,r={};for(a in e)Ege(e,a)&&(t=obe(a))&&(r[t]=e[a]);return r}var dbe,cbe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1},ube=/\d/,mbe=/\d\d/,hbe=/\d{3}/,fbe=/\d{4}/,pbe=/[+-]?\d{6}/,xbe=/\d\d?/,gbe=/\d\d\d\d?/,bbe=/\d\d\d\d\d\d?/,vbe=/\d{1,3}/,ybe=/\d{1,4}/,wbe=/[+-]?\d{1,6}/,jbe=/\d+/,Nbe=/[+-]?\d+/,_be=/Z|[+-]\d\d:?\d\d/gi,Sbe=/Z|[+-]\d\d(?::?\d\d)?/gi,kbe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Cbe=/^[1-9]\d?/,Ebe=/^([1-9]\d|\d)/;function Tbe(e,t,a){dbe[e]=Kge(t)?t:function(e,r){return e&&a?a:t}}function Obe(e,t){return Ege(dbe,e)?dbe[e](t._strict,t._locale):new RegExp(Dbe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,a,r,n){return t||a||r||n}))))}function Dbe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Abe(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Pbe(e){var t=+e,a=0;return 0!==t&&isFinite(t)&&(a=Abe(t)),a}dbe={};var Mbe={};function Lbe(e,t){var a,r,n=t;for("string"==typeof e&&(e=[e]),Dge(t)&&(n=function(e,a){a[t]=Pbe(e)}),r=e.length,a=0;a<r;a++)Mbe[e[a]]=n}function Ibe(e,t){Lbe(e,(function(e,a,r,n){r._w=r._w||{},t(e,r._w,r,n)}))}function Fbe(e,t,a){null!=t&&Ege(Mbe,e)&&Mbe[e](t,a._a,a,e)}function Rbe(e){return e%4==0&&e%100!=0||e%400==0}function $be(e){return Rbe(e)?366:365}rbe("Y",0,0,(function(){var e=this.year();return e<=9999?Jge(e,4):"+"+e})),rbe(0,["YY",2],0,(function(){return this.year()%100})),rbe(0,["YYYY",4],0,"year"),rbe(0,["YYYYY",5],0,"year"),rbe(0,["YYYYYY",6,!0],0,"year"),Tbe("Y",Nbe),Tbe("YY",xbe,mbe),Tbe("YYYY",ybe,fbe),Tbe("YYYYY",wbe,pbe),Tbe("YYYYYY",wbe,pbe),Lbe(["YYYYY","YYYYYY"],0),Lbe("YYYY",(function(e,t){t[0]=2===e.length?Sge.parseTwoDigitYear(e):Pbe(e)})),Lbe("YY",(function(e,t){t[0]=Sge.parseTwoDigitYear(e)})),Lbe("Y",(function(e,t){t[0]=parseInt(e,10)})),Sge.parseTwoDigitYear=function(e){return Pbe(e)+(Pbe(e)>68?1900:2e3)};var Bbe,zbe=Ube("FullYear",!0);function Ube(e,t){return function(a){return null!=a?(Wbe(this,e,a),Sge.updateOffset(this,t),this):Hbe(this,e)}}function Hbe(e,t){if(!e.isValid())return NaN;var a=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?a.getUTCMilliseconds():a.getMilliseconds();case"Seconds":return r?a.getUTCSeconds():a.getSeconds();case"Minutes":return r?a.getUTCMinutes():a.getMinutes();case"Hours":return r?a.getUTCHours():a.getHours();case"Date":return r?a.getUTCDate():a.getDate();case"Day":return r?a.getUTCDay():a.getDay();case"Month":return r?a.getUTCMonth():a.getMonth();case"FullYear":return r?a.getUTCFullYear():a.getFullYear();default:return NaN}}function Wbe(e,t,a){var r,n,s,l,o;if(e.isValid()&&!isNaN(a)){switch(r=e._d,n=e._isUTC,t){case"Milliseconds":return void(n?r.setUTCMilliseconds(a):r.setMilliseconds(a));case"Seconds":return void(n?r.setUTCSeconds(a):r.setSeconds(a));case"Minutes":return void(n?r.setUTCMinutes(a):r.setMinutes(a));case"Hours":return void(n?r.setUTCHours(a):r.setHours(a));case"Date":return void(n?r.setUTCDate(a):r.setDate(a));case"FullYear":break;default:return}s=a,l=e.month(),o=29!==(o=e.date())||1!==l||Rbe(s)?o:28,n?r.setUTCFullYear(s,l,o):r.setFullYear(s,l,o)}}function Ybe(e,t){if(isNaN(e)||isNaN(t))return NaN;var a,r=(t%(a=12)+a)%a;return e+=(t-r)/12,1===r?Rbe(e)?29:28:31-r%7%2}Bbe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},rbe("M",["MM",2],"Mo",(function(){return this.month()+1})),rbe("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),rbe("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Tbe("M",xbe,Cbe),Tbe("MM",xbe,mbe),Tbe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Tbe("MMMM",(function(e,t){return t.monthsRegex(e)})),Lbe(["M","MM"],(function(e,t){t[1]=Pbe(e)-1})),Lbe(["MMM","MMMM"],(function(e,t,a,r){var n=a._locale.monthsParse(e,r,a._strict);null!=n?t[1]=n:Ige(a).invalidMonth=e}));var qbe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Vbe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Gbe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Kbe=kbe,Xbe=kbe;function Qbe(e,t,a){var r,n,s,l=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Lge([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return a?"MMM"===t?-1!==(n=Bbe.call(this._shortMonthsParse,l))?n:null:-1!==(n=Bbe.call(this._longMonthsParse,l))?n:null:"MMM"===t?-1!==(n=Bbe.call(this._shortMonthsParse,l))||-1!==(n=Bbe.call(this._longMonthsParse,l))?n:null:-1!==(n=Bbe.call(this._longMonthsParse,l))||-1!==(n=Bbe.call(this._shortMonthsParse,l))?n:null}function Jbe(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Pbe(t);else if(!Dge(t=e.localeData().monthsParse(t)))return e;var a=t,r=e.date();return r=r<29?r:Math.min(r,Ybe(e.year(),a)),e._isUTC?e._d.setUTCMonth(a,r):e._d.setMonth(a,r),e}function Zbe(e){return null!=e?(Jbe(this,e),Sge.updateOffset(this,!0),this):Hbe(this,"Month")}function eve(){function e(e,t){return t.length-e.length}var t,a,r,n,s=[],l=[],o=[];for(t=0;t<12;t++)a=Lge([2e3,t]),r=Dbe(this.monthsShort(a,"")),n=Dbe(this.months(a,"")),s.push(r),l.push(n),o.push(n),o.push(r);s.sort(e),l.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function tve(e,t,a,r,n,s,l){var o;return e<100&&e>=0?(o=new Date(e+400,t,a,r,n,s,l),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,a,r,n,s,l),o}function ave(e){var t,a;return e<100&&e>=0?((a=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,a)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function rve(e,t,a){var r=7+t-a;return-(7+ave(e,0,r).getUTCDay()-t)%7+r-1}function nve(e,t,a,r,n){var s,l,o=1+7*(t-1)+(7+a-r)%7+rve(e,r,n);return o<=0?l=$be(s=e-1)+o:o>$be(e)?(s=e+1,l=o-$be(e)):(s=e,l=o),{year:s,dayOfYear:l}}function sve(e,t,a){var r,n,s=rve(e.year(),t,a),l=Math.floor((e.dayOfYear()-s-1)/7)+1;return l<1?r=l+lve(n=e.year()-1,t,a):l>lve(e.year(),t,a)?(r=l-lve(e.year(),t,a),n=e.year()+1):(n=e.year(),r=l),{week:r,year:n}}function lve(e,t,a){var r=rve(e,t,a),n=rve(e+1,t,a);return($be(e)-r+n)/7}function ove(e,t){return e.slice(t,7).concat(e.slice(0,t))}rbe("w",["ww",2],"wo","week"),rbe("W",["WW",2],"Wo","isoWeek"),Tbe("w",xbe,Cbe),Tbe("ww",xbe,mbe),Tbe("W",xbe,Cbe),Tbe("WW",xbe,mbe),Ibe(["w","ww","W","WW"],(function(e,t,a,r){t[r.substr(0,1)]=Pbe(e)})),rbe("d",0,"do","day"),rbe("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),rbe("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),rbe("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),rbe("e",0,0,"weekday"),rbe("E",0,0,"isoWeekday"),Tbe("d",xbe),Tbe("e",xbe),Tbe("E",xbe),Tbe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Tbe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Tbe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ibe(["dd","ddd","dddd"],(function(e,t,a,r){var n=a._locale.weekdaysParse(e,r,a._strict);null!=n?t.d=n:Ige(a).invalidWeekday=e})),Ibe(["d","e","E"],(function(e,t,a,r){t[r]=Pbe(e)}));var ive="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),dve="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),cve="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),uve=kbe,mve=kbe,hve=kbe;function fve(e,t,a){var r,n,s,l=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Lge([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return a?"dddd"===t?-1!==(n=Bbe.call(this._weekdaysParse,l))?n:null:"ddd"===t?-1!==(n=Bbe.call(this._shortWeekdaysParse,l))?n:null:-1!==(n=Bbe.call(this._minWeekdaysParse,l))?n:null:"dddd"===t?-1!==(n=Bbe.call(this._weekdaysParse,l))||-1!==(n=Bbe.call(this._shortWeekdaysParse,l))||-1!==(n=Bbe.call(this._minWeekdaysParse,l))?n:null:"ddd"===t?-1!==(n=Bbe.call(this._shortWeekdaysParse,l))||-1!==(n=Bbe.call(this._weekdaysParse,l))||-1!==(n=Bbe.call(this._minWeekdaysParse,l))?n:null:-1!==(n=Bbe.call(this._minWeekdaysParse,l))||-1!==(n=Bbe.call(this._weekdaysParse,l))||-1!==(n=Bbe.call(this._shortWeekdaysParse,l))?n:null}function pve(){function e(e,t){return t.length-e.length}var t,a,r,n,s,l=[],o=[],i=[],d=[];for(t=0;t<7;t++)a=Lge([2e3,1]).day(t),r=Dbe(this.weekdaysMin(a,"")),n=Dbe(this.weekdaysShort(a,"")),s=Dbe(this.weekdays(a,"")),l.push(r),o.push(n),i.push(s),d.push(r),d.push(n),d.push(s);l.sort(e),o.sort(e),i.sort(e),d.sort(e),this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+l.join("|")+")","i")}function xve(){return this.hours()%12||12}function gve(e,t){rbe(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function bve(e,t){return t._meridiemParse}rbe("H",["HH",2],0,"hour"),rbe("h",["hh",2],0,xve),rbe("k",["kk",2],0,(function(){return this.hours()||24})),rbe("hmm",0,0,(function(){return""+xve.apply(this)+Jge(this.minutes(),2)})),rbe("hmmss",0,0,(function(){return""+xve.apply(this)+Jge(this.minutes(),2)+Jge(this.seconds(),2)})),rbe("Hmm",0,0,(function(){return""+this.hours()+Jge(this.minutes(),2)})),rbe("Hmmss",0,0,(function(){return""+this.hours()+Jge(this.minutes(),2)+Jge(this.seconds(),2)})),gve("a",!0),gve("A",!1),Tbe("a",bve),Tbe("A",bve),Tbe("H",xbe,Ebe),Tbe("h",xbe,Cbe),Tbe("k",xbe,Cbe),Tbe("HH",xbe,mbe),Tbe("hh",xbe,mbe),Tbe("kk",xbe,mbe),Tbe("hmm",gbe),Tbe("hmmss",bbe),Tbe("Hmm",gbe),Tbe("Hmmss",bbe),Lbe(["H","HH"],3),Lbe(["k","kk"],(function(e,t,a){var r=Pbe(e);t[3]=24===r?0:r})),Lbe(["a","A"],(function(e,t,a){a._isPm=a._locale.isPM(e),a._meridiem=e})),Lbe(["h","hh"],(function(e,t,a){t[3]=Pbe(e),Ige(a).bigHour=!0})),Lbe("hmm",(function(e,t,a){var r=e.length-2;t[3]=Pbe(e.substr(0,r)),t[4]=Pbe(e.substr(r)),Ige(a).bigHour=!0})),Lbe("hmmss",(function(e,t,a){var r=e.length-4,n=e.length-2;t[3]=Pbe(e.substr(0,r)),t[4]=Pbe(e.substr(r,2)),t[5]=Pbe(e.substr(n)),Ige(a).bigHour=!0})),Lbe("Hmm",(function(e,t,a){var r=e.length-2;t[3]=Pbe(e.substr(0,r)),t[4]=Pbe(e.substr(r))})),Lbe("Hmmss",(function(e,t,a){var r=e.length-4,n=e.length-2;t[3]=Pbe(e.substr(0,r)),t[4]=Pbe(e.substr(r,2)),t[5]=Pbe(e.substr(n))}));var vve,yve=Ube("Hours",!0),wve={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:qbe,monthsShort:Vbe,week:{dow:0,doy:6},weekdays:ive,weekdaysMin:cve,weekdaysShort:dve,meridiemParse:/[ap]\.?m?\.?/i},jve={},Nve={};function _ve(e,t){var a,r=Math.min(e.length,t.length);for(a=0;a<r;a+=1)if(e[a]!==t[a])return a;return r}function Sve(e){return e?e.toLowerCase().replace("_","-"):e}function kve(e){var a=null;if(void 0===jve[e]&&void 0!==t&&t&&t.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{a=vve._abbr,require("./locale/"+e),Cve(a)}catch(mMe){jve[e]=null}return jve[e]}function Cve(e,t){var a;return e&&((a=Oge(t)?Tve(e):Eve(e,t))?vve=a:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),vve._abbr}function Eve(e,t){if(null!==t){var a,r=wve;if(t.abbr=e,null!=jve[e])Gge("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=jve[e]._config;else if(null!=t.parentLocale)if(null!=jve[t.parentLocale])r=jve[t.parentLocale]._config;else{if(null==(a=kve(t.parentLocale)))return Nve[t.parentLocale]||(Nve[t.parentLocale]=[]),Nve[t.parentLocale].push({name:e,config:t}),null;r=a._config}return jve[e]=new Qge(Xge(r,t)),Nve[e]&&Nve[e].forEach((function(e){Eve(e.name,e.config)})),Cve(e),jve[e]}return delete jve[e],null}function Tve(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return vve;if(!kge(e)){if(t=kve(e))return t;e=[e]}return function(e){for(var t,a,r,n,s=0;s<e.length;){for(t=(n=Sve(e[s]).split("-")).length,a=(a=Sve(e[s+1]))?a.split("-"):null;t>0;){if(r=kve(n.slice(0,t).join("-")))return r;if(a&&a.length>=t&&_ve(n,a)>=t-1)break;t--}s++}return vve}(e)}function Ove(e){var t,a=e._a;return a&&-2===Ige(e).overflow&&(t=a[1]<0||a[1]>11?1:a[2]<1||a[2]>Ybe(a[0],a[1])?2:a[3]<0||a[3]>24||24===a[3]&&(0!==a[4]||0!==a[5]||0!==a[6])?3:a[4]<0||a[4]>59?4:a[5]<0||a[5]>59?5:a[6]<0||a[6]>999?6:-1,Ige(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),Ige(e)._overflowWeeks&&-1===t&&(t=7),Ige(e)._overflowWeekday&&-1===t&&(t=8),Ige(e).overflow=t),e}var Dve=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ave=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Pve=/Z|[+-]\d\d(?::?\d\d)?/,Mve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Lve=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ive=/^\/?Date\((-?\d+)/i,Fve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Rve={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function $ve(e){var t,a,r,n,s,l,o=e._i,i=Dve.exec(o)||Ave.exec(o),d=Mve.length,c=Lve.length;if(i){for(Ige(e).iso=!0,t=0,a=d;t<a;t++)if(Mve[t][1].exec(i[1])){n=Mve[t][0],r=!1!==Mve[t][2];break}if(null==n)return void(e._isValid=!1);if(i[3]){for(t=0,a=c;t<a;t++)if(Lve[t][1].exec(i[3])){s=(i[2]||" ")+Lve[t][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(i[4]){if(!Pve.exec(i[4]))return void(e._isValid=!1);l="Z"}e._f=n+(s||"")+(l||""),Wve(e)}else e._isValid=!1}function Bve(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function zve(e){var t,a,r,n,s,l,o,i,d=Fve.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(d){if(a=d[4],r=d[3],n=d[2],s=d[5],l=d[6],o=d[7],i=[Bve(a),Vbe.indexOf(r),parseInt(n,10),parseInt(s,10),parseInt(l,10)],o&&i.push(parseInt(o,10)),t=i,!function(e,t,a){return!e||dve.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(Ige(a).weekdayMismatch=!0,a._isValid=!1,!1)}(d[1],t,e))return;e._a=t,e._tzm=function(e,t,a){if(e)return Rve[e];if(t)return 0;var r=parseInt(a,10),n=r%100;return(r-n)/100*60+n}(d[8],d[9],d[10]),e._d=ave.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Ige(e).rfc2822=!0}else e._isValid=!1}function Uve(e,t,a){return null!=e?e:null!=t?t:a}function Hve(e){var t,a,r,n,s,l=[];if(!e._d){for(r=function(e){var t=new Date(Sge.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,a,r,n,s,l,o,i,d;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,l=4,a=Uve(t.GG,e._a[0],sve(Vve(),1,4).year),r=Uve(t.W,1),((n=Uve(t.E,1))<1||n>7)&&(i=!0)):(s=e._locale._week.dow,l=e._locale._week.doy,d=sve(Vve(),s,l),a=Uve(t.gg,e._a[0],d.year),r=Uve(t.w,d.week),null!=t.d?((n=t.d)<0||n>6)&&(i=!0):null!=t.e?(n=t.e+s,(t.e<0||t.e>6)&&(i=!0)):n=s),r<1||r>lve(a,s,l)?Ige(e)._overflowWeeks=!0:null!=i?Ige(e)._overflowWeekday=!0:(o=nve(a,r,n,s,l),e._a[0]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(s=Uve(e._a[0],r[0]),(e._dayOfYear>$be(s)||0===e._dayOfYear)&&(Ige(e)._overflowDayOfYear=!0),a=ave(s,0,e._dayOfYear),e._a[1]=a.getUTCMonth(),e._a[2]=a.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=l[t]=r[t];for(;t<7;t++)e._a[t]=l[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?ave:tve).apply(null,l),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==n&&(Ige(e).weekdayMismatch=!0)}}function Wve(e){if(e._f!==Sge.ISO_8601)if(e._f!==Sge.RFC_2822){e._a=[],Ige(e).empty=!0;var t,a,r,n,s,l,o,i=""+e._i,d=i.length,c=0;for(o=(r=sbe(e._f,e._locale).match(Zge)||[]).length,t=0;t<o;t++)n=r[t],(a=(i.match(Obe(n,e))||[])[0])&&((s=i.substr(0,i.indexOf(a))).length>0&&Ige(e).unusedInput.push(s),i=i.slice(i.indexOf(a)+a.length),c+=a.length),abe[n]?(a?Ige(e).empty=!1:Ige(e).unusedTokens.push(n),Fbe(n,a,e)):e._strict&&!a&&Ige(e).unusedTokens.push(n);Ige(e).charsLeftOver=d-c,i.length>0&&Ige(e).unusedInput.push(i),e._a[3]<=12&&!0===Ige(e).bigHour&&e._a[3]>0&&(Ige(e).bigHour=void 0),Ige(e).parsedDateParts=e._a.slice(0),Ige(e).meridiem=e._meridiem,e._a[3]=(u=e._locale,m=e._a[3],null==(h=e._meridiem)?m:null!=u.meridiemHour?u.meridiemHour(m,h):null!=u.isPM?((f=u.isPM(h))&&m<12&&(m+=12),f||12!==m||(m=0),m):m),null!==(l=Ige(e).era)&&(e._a[0]=e._locale.erasConvertYear(l,e._a[0])),Hve(e),Ove(e)}else zve(e);else $ve(e);var u,m,h,f}function Yve(e){var t=e._i,a=e._f;return e._locale=e._locale||Tve(e._l),null===t||void 0===a&&""===t?Rge({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),Hge(t)?new Uge(Ove(t)):(Age(t)?e._d=t:kge(a)?function(e){var t,a,r,n,s,l,o=!1,i=e._f.length;if(0===i)return Ige(e).invalidFormat=!0,void(e._d=new Date(NaN));for(n=0;n<i;n++)s=0,l=!1,t=zge({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[n],Wve(t),Fge(t)&&(l=!0),s+=Ige(t).charsLeftOver,s+=10*Ige(t).unusedTokens.length,Ige(t).score=s,o?s<r&&(r=s,a=t):(null==r||s<r||l)&&(r=s,a=t,l&&(o=!0));Mge(e,a||t)}(e):a?Wve(e):function(e){var t=e._i;Oge(t)?e._d=new Date(Sge.now()):Age(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Ive.exec(e._i);null===t?($ve(e),!1===e._isValid&&(delete e._isValid,zve(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:Sge.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):kge(t)?(e._a=Pge(t.slice(0),(function(e){return parseInt(e,10)})),Hve(e)):Cge(t)?function(e){if(!e._d){var t=ibe(e._i),a=void 0===t.day?t.date:t.day;e._a=Pge([t.year,t.month,a,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Hve(e)}}(e):Dge(t)?e._d=new Date(t):Sge.createFromInputFallback(e)}(e),Fge(e)||(e._d=null),e))}function qve(e,t,a,r,n){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==a&&!1!==a||(r=a,a=void 0),(Cge(e)&&Tge(e)||kge(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=a,s._i=e,s._f=t,s._strict=r,function(e){var t=new Uge(Ove(Yve(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(s)}function Vve(e,t,a,r){return qve(e,t,a,r,!1)}Sge.createFromInputFallback=Yge("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),Sge.ISO_8601=function(){},Sge.RFC_2822=function(){};var Gve=Yge("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Vve.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Rge()})),Kve=Yge("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Vve.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Rge()}));function Xve(e,t){var a,r;if(1===t.length&&kge(t[0])&&(t=t[0]),!t.length)return Vve();for(a=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](a)||(a=t[r]);return a}var Qve=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Jve(e){var t=ibe(e),a=t.year||0,r=t.quarter||0,n=t.month||0,s=t.week||t.isoWeek||0,l=t.day||0,o=t.hour||0,i=t.minute||0,d=t.second||0,c=t.millisecond||0;this._isValid=function(e){var t,a,r=!1,n=Qve.length;for(t in e)if(Ege(e,t)&&(-1===Bbe.call(Qve,t)||null!=e[t]&&isNaN(e[t])))return!1;for(a=0;a<n;++a)if(e[Qve[a]]){if(r)return!1;parseFloat(e[Qve[a]])!==Pbe(e[Qve[a]])&&(r=!0)}return!0}(t),this._milliseconds=+c+1e3*d+6e4*i+1e3*o*60*60,this._days=+l+7*s,this._months=+n+3*r+12*a,this._data={},this._locale=Tve(),this._bubble()}function Zve(e){return e instanceof Jve}function eye(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function tye(e,t){rbe(e,0,0,(function(){var e=this.utcOffset(),a="+";return e<0&&(e=-e,a="-"),a+Jge(~~(e/60),2)+t+Jge(~~e%60,2)}))}tye("Z",":"),tye("ZZ",""),Tbe("Z",Sbe),Tbe("ZZ",Sbe),Lbe(["Z","ZZ"],(function(e,t,a){a._useUTC=!0,a._tzm=rye(Sbe,e)}));var aye=/([\+\-]|\d\d)/gi;function rye(e,t){var a,r,n=(t||"").match(e);return null===n?null:0===(r=60*(a=((n[n.length-1]||[])+"").match(aye)||["-",0,0])[1]+Pbe(a[2]))?0:"+"===a[0]?r:-r}function nye(e,t){var a,r;return t._isUTC?(a=t.clone(),r=(Hge(e)||Age(e)?e.valueOf():Vve(e).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+r),Sge.updateOffset(a,!1),a):Vve(e).local()}function sye(e){return-Math.round(e._d.getTimezoneOffset())}function lye(){return!!this.isValid()&&this._isUTC&&0===this._offset}Sge.updateOffset=function(){};var oye=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,iye=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function dye(e,t){var a,r,n,s,l,o,i=e,d=null;return Zve(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:Dge(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(d=oye.exec(e))?(a="-"===d[1]?-1:1,i={y:0,d:Pbe(d[2])*a,h:Pbe(d[3])*a,m:Pbe(d[4])*a,s:Pbe(d[5])*a,ms:Pbe(eye(1e3*d[6]))*a}):(d=iye.exec(e))?(a="-"===d[1]?-1:1,i={y:cye(d[2],a),M:cye(d[3],a),w:cye(d[4],a),d:cye(d[5],a),h:cye(d[6],a),m:cye(d[7],a),s:cye(d[8],a)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(s=Vve(i.from),l=Vve(i.to),n=s.isValid()&&l.isValid()?(l=nye(l,s),s.isBefore(l)?o=uye(s,l):((o=uye(l,s)).milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0},(i={}).ms=n.milliseconds,i.M=n.months),r=new Jve(i),Zve(e)&&Ege(e,"_locale")&&(r._locale=e._locale),Zve(e)&&Ege(e,"_isValid")&&(r._isValid=e._isValid),r}function cye(e,t){var a=e&&parseFloat(e.replace(",","."));return(isNaN(a)?0:a)*t}function uye(e,t){var a={};return a.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(a.months,"M").isAfter(t)&&--a.months,a.milliseconds=+t-+e.clone().add(a.months,"M"),a}function mye(e,t){return function(a,r){var n;return null===r||isNaN(+r)||(Gge(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=a,a=r,r=n),hye(this,dye(a,r),e),this}}function hye(e,t,a,r){var n=t._milliseconds,s=eye(t._days),l=eye(t._months);e.isValid()&&(r=null==r||r,l&&Jbe(e,Hbe(e,"Month")+l*a),s&&Wbe(e,"Date",Hbe(e,"Date")+s*a),n&&e._d.setTime(e._d.valueOf()+n*a),r&&Sge.updateOffset(e,s||l))}dye.fn=Jve.prototype,dye.invalid=function(){return dye(NaN)};var fye=mye(1,"add"),pye=mye(-1,"subtract");function xye(e){return"string"==typeof e||e instanceof String}function gye(e){return Hge(e)||Age(e)||xye(e)||Dge(e)||function(e){var t=kge(e),a=!1;return t&&(a=0===e.filter((function(t){return!Dge(t)&&xye(e)})).length),t&&a}(e)||function(e){var t,a,r=Cge(e)&&!Tge(e),n=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=s.length;for(t=0;t<l;t+=1)a=s[t],n=n||Ege(e,a);return r&&n}(e)||null==e}function bye(e,t){if(e.date()<t.date())return-bye(t,e);var a=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(a,"months");return-(a+(t-r<0?(t-r)/(r-e.clone().add(a-1,"months")):(t-r)/(e.clone().add(a+1,"months")-r)))||0}function vye(e){var t;return void 0===e?this._locale._abbr:(null!=(t=Tve(e))&&(this._locale=t),this)}Sge.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Sge.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var yye=Yge("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function wye(){return this._locale}var jye=1e3,Nye=6e4,_ye=36e5,Sye=126227808e5;function kye(e,t){return(e%t+t)%t}function Cye(e,t,a){return e<100&&e>=0?new Date(e+400,t,a)-Sye:new Date(e,t,a).valueOf()}function Eye(e,t,a){return e<100&&e>=0?Date.UTC(e+400,t,a)-Sye:Date.UTC(e,t,a)}function Tye(e,t){return t.erasAbbrRegex(e)}function Oye(){var e,t,a,r,n,s=[],l=[],o=[],i=[],d=this.eras();for(e=0,t=d.length;e<t;++e)a=Dbe(d[e].name),r=Dbe(d[e].abbr),n=Dbe(d[e].narrow),l.push(a),s.push(r),o.push(n),i.push(a),i.push(r),i.push(n);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+l.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Dye(e,t){rbe(0,[e,e.length],0,t)}function Aye(e,t,a,r,n){var s;return null==e?sve(this,r,n).year:(t>(s=lve(e,r,n))&&(t=s),Pye.call(this,e,t,a,r,n))}function Pye(e,t,a,r,n){var s=nve(e,t,a,r,n),l=ave(s.year,0,s.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}rbe("N",0,0,"eraAbbr"),rbe("NN",0,0,"eraAbbr"),rbe("NNN",0,0,"eraAbbr"),rbe("NNNN",0,0,"eraName"),rbe("NNNNN",0,0,"eraNarrow"),rbe("y",["y",1],"yo","eraYear"),rbe("y",["yy",2],0,"eraYear"),rbe("y",["yyy",3],0,"eraYear"),rbe("y",["yyyy",4],0,"eraYear"),Tbe("N",Tye),Tbe("NN",Tye),Tbe("NNN",Tye),Tbe("NNNN",(function(e,t){return t.erasNameRegex(e)})),Tbe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),Lbe(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,a,r){var n=a._locale.erasParse(e,r,a._strict);n?Ige(a).era=n:Ige(a).invalidEra=e})),Tbe("y",jbe),Tbe("yy",jbe),Tbe("yyy",jbe),Tbe("yyyy",jbe),Tbe("yo",(function(e,t){return t._eraYearOrdinalRegex||jbe})),Lbe(["y","yy","yyy","yyyy"],0),Lbe(["yo"],(function(e,t,a,r){var n;a._locale._eraYearOrdinalRegex&&(n=e.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?t[0]=a._locale.eraYearOrdinalParse(e,n):t[0]=parseInt(e,10)})),rbe(0,["gg",2],0,(function(){return this.weekYear()%100})),rbe(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Dye("gggg","weekYear"),Dye("ggggg","weekYear"),Dye("GGGG","isoWeekYear"),Dye("GGGGG","isoWeekYear"),Tbe("G",Nbe),Tbe("g",Nbe),Tbe("GG",xbe,mbe),Tbe("gg",xbe,mbe),Tbe("GGGG",ybe,fbe),Tbe("gggg",ybe,fbe),Tbe("GGGGG",wbe,pbe),Tbe("ggggg",wbe,pbe),Ibe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,a,r){t[r.substr(0,2)]=Pbe(e)})),Ibe(["gg","GG"],(function(e,t,a,r){t[r]=Sge.parseTwoDigitYear(e)})),rbe("Q",0,"Qo","quarter"),Tbe("Q",ube),Lbe("Q",(function(e,t){t[1]=3*(Pbe(e)-1)})),rbe("D",["DD",2],"Do","date"),Tbe("D",xbe,Cbe),Tbe("DD",xbe,mbe),Tbe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Lbe(["D","DD"],2),Lbe("Do",(function(e,t){t[2]=Pbe(e.match(xbe)[0])}));var Mye=Ube("Date",!0);rbe("DDD",["DDDD",3],"DDDo","dayOfYear"),Tbe("DDD",vbe),Tbe("DDDD",hbe),Lbe(["DDD","DDDD"],(function(e,t,a){a._dayOfYear=Pbe(e)})),rbe("m",["mm",2],0,"minute"),Tbe("m",xbe,Ebe),Tbe("mm",xbe,mbe),Lbe(["m","mm"],4);var Lye=Ube("Minutes",!1);rbe("s",["ss",2],0,"second"),Tbe("s",xbe,Ebe),Tbe("ss",xbe,mbe),Lbe(["s","ss"],5);var Iye,Fye,Rye=Ube("Seconds",!1);for(rbe("S",0,0,(function(){return~~(this.millisecond()/100)})),rbe(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),rbe(0,["SSS",3],0,"millisecond"),rbe(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),rbe(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),rbe(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),rbe(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),rbe(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),rbe(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Tbe("S",vbe,ube),Tbe("SS",vbe,mbe),Tbe("SSS",vbe,hbe),Iye="SSSS";Iye.length<=9;Iye+="S")Tbe(Iye,jbe);function $ye(e,t){t[6]=Pbe(1e3*("0."+e))}for(Iye="S";Iye.length<=9;Iye+="S")Lbe(Iye,$ye);Fye=Ube("Milliseconds",!1),rbe("z",0,0,"zoneAbbr"),rbe("zz",0,0,"zoneName");var Bye=Uge.prototype;function zye(e){return e}Bye.add=fye,Bye.calendar=function(e,t){1===arguments.length&&(arguments[0]?gye(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,a=Cge(e)&&!Tge(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<n.length;t+=1)r=r||Ege(e,n[t]);return a&&r}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var a=e||Vve(),r=nye(a,this).startOf("day"),n=Sge.calendarFormat(this,r)||"sameElse",s=t&&(Kge(t[n])?t[n].call(this,a):t[n]);return this.format(s||this.localeData().calendar(n,this,Vve(a)))},Bye.clone=function(){return new Uge(this)},Bye.diff=function(e,t,a){var r,n,s;if(!this.isValid())return NaN;if(!(r=nye(e,this)).isValid())return NaN;switch(n=6e4*(r.utcOffset()-this.utcOffset()),t=obe(t)){case"year":s=bye(this,r)/12;break;case"month":s=bye(this,r);break;case"quarter":s=bye(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-n)/864e5;break;case"week":s=(this-r-n)/6048e5;break;default:s=this-r}return a?s:Abe(s)},Bye.endOf=function(e){var t,a;if(void 0===(e=obe(e))||"millisecond"===e||!this.isValid())return this;switch(a=this._isUTC?Eye:Cye,e){case"year":t=a(this.year()+1,0,1)-1;break;case"quarter":t=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=a(this.year(),this.month()+1,1)-1;break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=_ye-kye(t+(this._isUTC?0:this.utcOffset()*Nye),_ye)-1;break;case"minute":t=this._d.valueOf(),t+=Nye-kye(t,Nye)-1;break;case"second":t=this._d.valueOf(),t+=jye-kye(t,jye)-1}return this._d.setTime(t),Sge.updateOffset(this,!0),this},Bye.format=function(e){e||(e=this.isUtc()?Sge.defaultFormatUtc:Sge.defaultFormat);var t=nbe(this,e);return this.localeData().postformat(t)},Bye.from=function(e,t){return this.isValid()&&(Hge(e)&&e.isValid()||Vve(e).isValid())?dye({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Bye.fromNow=function(e){return this.from(Vve(),e)},Bye.to=function(e,t){return this.isValid()&&(Hge(e)&&e.isValid()||Vve(e).isValid())?dye({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Bye.toNow=function(e){return this.to(Vve(),e)},Bye.get=function(e){return Kge(this[e=obe(e)])?this[e]():this},Bye.invalidAt=function(){return Ige(this).overflow},Bye.isAfter=function(e,t){var a=Hge(e)?e:Vve(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=obe(t)||"millisecond")?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(t).valueOf())},Bye.isBefore=function(e,t){var a=Hge(e)?e:Vve(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=obe(t)||"millisecond")?this.valueOf()<a.valueOf():this.clone().endOf(t).valueOf()<a.valueOf())},Bye.isBetween=function(e,t,a,r){var n=Hge(e)?e:Vve(e),s=Hge(t)?t:Vve(t);return!!(this.isValid()&&n.isValid()&&s.isValid())&&("("===(r=r||"()")[0]?this.isAfter(n,a):!this.isBefore(n,a))&&(")"===r[1]?this.isBefore(s,a):!this.isAfter(s,a))},Bye.isSame=function(e,t){var a,r=Hge(e)?e:Vve(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=obe(t)||"millisecond")?this.valueOf()===r.valueOf():(a=r.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf()))},Bye.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Bye.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Bye.isValid=function(){return Fge(this)},Bye.lang=yye,Bye.locale=vye,Bye.localeData=wye,Bye.max=Kve,Bye.min=Gve,Bye.parsingFlags=function(){return Mge({},Ige(this))},Bye.set=function(e,t){if("object"==typeof e){var a,r=function(e){var t,a=[];for(t in e)Ege(e,t)&&a.push({unit:t,priority:cbe[t]});return a.sort((function(e,t){return e.priority-t.priority})),a}(e=ibe(e)),n=r.length;for(a=0;a<n;a++)this[r[a].unit](e[r[a].unit])}else if(Kge(this[e=obe(e)]))return this[e](t);return this},Bye.startOf=function(e){var t,a;if(void 0===(e=obe(e))||"millisecond"===e||!this.isValid())return this;switch(a=this._isUTC?Eye:Cye,e){case"year":t=a(this.year(),0,1);break;case"quarter":t=a(this.year(),this.month()-this.month()%3,1);break;case"month":t=a(this.year(),this.month(),1);break;case"week":t=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=a(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=kye(t+(this._isUTC?0:this.utcOffset()*Nye),_ye);break;case"minute":t=this._d.valueOf(),t-=kye(t,Nye);break;case"second":t=this._d.valueOf(),t-=kye(t,jye)}return this._d.setTime(t),Sge.updateOffset(this,!0),this},Bye.subtract=pye,Bye.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Bye.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Bye.toDate=function(){return new Date(this.valueOf())},Bye.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,a=t?this.clone().utc():this;return a.year()<0||a.year()>9999?nbe(a,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Kge(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",nbe(a,"Z")):nbe(a,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Bye.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,a,r="moment",n="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",n="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=n+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+a)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Bye[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Bye.toJSON=function(){return this.isValid()?this.toISOString():null},Bye.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Bye.unix=function(){return Math.floor(this.valueOf()/1e3)},Bye.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Bye.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Bye.eraName=function(){var e,t,a,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),r[e].since<=a&&a<=r[e].until)return r[e].name;if(r[e].until<=a&&a<=r[e].since)return r[e].name}return""},Bye.eraNarrow=function(){var e,t,a,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),r[e].since<=a&&a<=r[e].until)return r[e].narrow;if(r[e].until<=a&&a<=r[e].since)return r[e].narrow}return""},Bye.eraAbbr=function(){var e,t,a,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(a=this.clone().startOf("day").valueOf(),r[e].since<=a&&a<=r[e].until)return r[e].abbr;if(r[e].until<=a&&a<=r[e].since)return r[e].abbr}return""},Bye.eraYear=function(){var e,t,a,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(a=n[e].since<=n[e].until?1:-1,r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return(this.year()-Sge(n[e].since).year())*a+n[e].offset;return this.year()},Bye.year=zbe,Bye.isLeapYear=function(){return Rbe(this.year())},Bye.weekYear=function(e){return Aye.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},Bye.isoWeekYear=function(e){return Aye.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Bye.quarter=Bye.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Bye.month=Zbe,Bye.daysInMonth=function(){return Ybe(this.year(),this.month())},Bye.week=Bye.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Bye.isoWeek=Bye.isoWeeks=function(e){var t=sve(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Bye.weeksInYear=function(){var e=this.localeData()._week;return lve(this.year(),e.dow,e.doy)},Bye.weeksInWeekYear=function(){var e=this.localeData()._week;return lve(this.weekYear(),e.dow,e.doy)},Bye.isoWeeksInYear=function(){return lve(this.year(),1,4)},Bye.isoWeeksInISOWeekYear=function(){return lve(this.isoWeekYear(),1,4)},Bye.date=Mye,Bye.day=Bye.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=Hbe(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Bye.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Bye.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Bye.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Bye.hour=Bye.hours=yve,Bye.minute=Bye.minutes=Lye,Bye.second=Bye.seconds=Rye,Bye.millisecond=Bye.milliseconds=Fye,Bye.utcOffset=function(e,t,a){var r,n=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=rye(Sbe,e)))return this}else Math.abs(e)<16&&!a&&(e*=60);return!this._isUTC&&t&&(r=sye(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),n!==e&&(!t||this._changeInProgress?hye(this,dye(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Sge.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:sye(this)},Bye.utc=function(e){return this.utcOffset(0,e)},Bye.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(sye(this),"m")),this},Bye.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=rye(_be,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Bye.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Vve(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Bye.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Bye.isLocal=function(){return!!this.isValid()&&!this._isUTC},Bye.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Bye.isUtc=lye,Bye.isUTC=lye,Bye.zoneAbbr=function(){return this._isUTC?"UTC":""},Bye.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Bye.dates=Yge("dates accessor is deprecated. Use date instead.",Mye),Bye.months=Yge("months accessor is deprecated. Use month instead",Zbe),Bye.years=Yge("years accessor is deprecated. Use year instead",zbe),Bye.zone=Yge("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Bye.isDSTShifted=Yge("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!Oge(this._isDSTShifted))return this._isDSTShifted;var e,t={};return zge(t,this),(t=Yve(t))._a?(e=t._isUTC?Lge(t._a):Vve(t._a),this._isDSTShifted=this.isValid()&&function(e,t){var a,r=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),s=0;for(a=0;a<r;a++)Pbe(e[a])!==Pbe(t[a])&&s++;return s+n}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Uye=Qge.prototype;function Hye(e,t,a,r){var n=Tve(),s=Lge().set(r,t);return n[a](s,e)}function Wye(e,t,a){if(Dge(e)&&(t=e,e=void 0),e=e||"",null!=t)return Hye(e,t,a,"month");var r,n=[];for(r=0;r<12;r++)n[r]=Hye(e,r,a,"month");return n}function Yye(e,t,a,r){"boolean"==typeof e?(Dge(t)&&(a=t,t=void 0),t=t||""):(a=t=e,e=!1,Dge(t)&&(a=t,t=void 0),t=t||"");var n,s=Tve(),l=e?s._week.dow:0,o=[];if(null!=a)return Hye(t,(a+l)%7,r,"day");for(n=0;n<7;n++)o[n]=Hye(t,(n+l)%7,r,"day");return o}Uye.calendar=function(e,t,a){var r=this._calendar[e]||this._calendar.sameElse;return Kge(r)?r.call(t,a):r},Uye.longDateFormat=function(e){var t=this._longDateFormat[e],a=this._longDateFormat[e.toUpperCase()];return t||!a?t:(this._longDateFormat[e]=a.match(Zge).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Uye.invalidDate=function(){return this._invalidDate},Uye.ordinal=function(e){return this._ordinal.replace("%d",e)},Uye.preparse=zye,Uye.postformat=zye,Uye.relativeTime=function(e,t,a,r){var n=this._relativeTime[a];return Kge(n)?n(e,t,a,r):n.replace(/%d/i,e)},Uye.pastFuture=function(e,t){var a=this._relativeTime[e>0?"future":"past"];return Kge(a)?a(t):a.replace(/%s/i,t)},Uye.set=function(e){var t,a;for(a in e)Ege(e,a)&&(Kge(t=e[a])?this[a]=t:this["_"+a]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Uye.eras=function(e,t){var a,r,n,s=this._eras||Tve("en")._eras;for(a=0,r=s.length;a<r;++a)switch("string"==typeof s[a].since&&(n=Sge(s[a].since).startOf("day"),s[a].since=n.valueOf()),typeof s[a].until){case"undefined":s[a].until=1/0;break;case"string":n=Sge(s[a].until).startOf("day").valueOf(),s[a].until=n.valueOf()}return s},Uye.erasParse=function(e,t,a){var r,n,s,l,o,i=this.eras();for(e=e.toUpperCase(),r=0,n=i.length;r<n;++r)if(s=i[r].name.toUpperCase(),l=i[r].abbr.toUpperCase(),o=i[r].narrow.toUpperCase(),a)switch(t){case"N":case"NN":case"NNN":if(l===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(o===e)return i[r]}else if([s,l,o].indexOf(e)>=0)return i[r]},Uye.erasConvertYear=function(e,t){var a=e.since<=e.until?1:-1;return void 0===t?Sge(e.since).year():Sge(e.since).year()+(t-e.offset)*a},Uye.erasAbbrRegex=function(e){return Ege(this,"_erasAbbrRegex")||Oye.call(this),e?this._erasAbbrRegex:this._erasRegex},Uye.erasNameRegex=function(e){return Ege(this,"_erasNameRegex")||Oye.call(this),e?this._erasNameRegex:this._erasRegex},Uye.erasNarrowRegex=function(e){return Ege(this,"_erasNarrowRegex")||Oye.call(this),e?this._erasNarrowRegex:this._erasRegex},Uye.months=function(e,t){return e?kge(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Gbe).test(t)?"format":"standalone"][e.month()]:kge(this._months)?this._months:this._months.standalone},Uye.monthsShort=function(e,t){return e?kge(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Gbe.test(t)?"format":"standalone"][e.month()]:kge(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Uye.monthsParse=function(e,t,a){var r,n,s;if(this._monthsParseExact)return Qbe.call(this,e,t,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(n=Lge([2e3,r]),a&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),a||this._monthsParse[r]||(s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),a&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(a&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!a&&this._monthsParse[r].test(e))return r}},Uye.monthsRegex=function(e){return this._monthsParseExact?(Ege(this,"_monthsRegex")||eve.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ege(this,"_monthsRegex")||(this._monthsRegex=Xbe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Uye.monthsShortRegex=function(e){return this._monthsParseExact?(Ege(this,"_monthsRegex")||eve.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ege(this,"_monthsShortRegex")||(this._monthsShortRegex=Kbe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Uye.week=function(e){return sve(e,this._week.dow,this._week.doy).week},Uye.firstDayOfYear=function(){return this._week.doy},Uye.firstDayOfWeek=function(){return this._week.dow},Uye.weekdays=function(e,t){var a=kge(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?ove(a,this._week.dow):e?a[e.day()]:a},Uye.weekdaysMin=function(e){return!0===e?ove(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Uye.weekdaysShort=function(e){return!0===e?ove(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Uye.weekdaysParse=function(e,t,a){var r,n,s;if(this._weekdaysParseExact)return fve.call(this,e,t,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(n=Lge([2e3,1]).day(r),a&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),a&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(a&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(a&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!a&&this._weekdaysParse[r].test(e))return r}},Uye.weekdaysRegex=function(e){return this._weekdaysParseExact?(Ege(this,"_weekdaysRegex")||pve.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ege(this,"_weekdaysRegex")||(this._weekdaysRegex=uve),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Uye.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(Ege(this,"_weekdaysRegex")||pve.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ege(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=mve),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Uye.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(Ege(this,"_weekdaysRegex")||pve.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ege(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=hve),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Uye.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Uye.meridiem=function(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"},Cve("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Pbe(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),Sge.lang=Yge("moment.lang is deprecated. Use moment.locale instead.",Cve),Sge.langData=Yge("moment.langData is deprecated. Use moment.localeData instead.",Tve);var qye=Math.abs;function Vye(e,t,a,r){var n=dye(t,a);return e._milliseconds+=r*n._milliseconds,e._days+=r*n._days,e._months+=r*n._months,e._bubble()}function Gye(e){return e<0?Math.floor(e):Math.ceil(e)}function Kye(e){return 4800*e/146097}function Xye(e){return 146097*e/4800}function Qye(e){return function(){return this.as(e)}}var Jye=Qye("ms"),Zye=Qye("s"),ewe=Qye("m"),twe=Qye("h"),awe=Qye("d"),rwe=Qye("w"),nwe=Qye("M"),swe=Qye("Q"),lwe=Qye("y"),owe=Jye;function iwe(e){return function(){return this.isValid()?this._data[e]:NaN}}var dwe=iwe("milliseconds"),cwe=iwe("seconds"),uwe=iwe("minutes"),mwe=iwe("hours"),hwe=iwe("days"),fwe=iwe("months"),pwe=iwe("years"),xwe=Math.round,gwe={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function bwe(e,t,a,r,n){return n.relativeTime(t||1,!!a,e,r)}var vwe=Math.abs;function ywe(e){return(e>0)-(e<0)||+e}function wwe(){if(!this.isValid())return this.localeData().invalidDate();var e,t,a,r,n,s,l,o,i=vwe(this._milliseconds)/1e3,d=vwe(this._days),c=vwe(this._months),u=this.asSeconds();return u?(e=Abe(i/60),t=Abe(e/60),i%=60,e%=60,a=Abe(c/12),c%=12,r=i?i.toFixed(3).replace(/\.?0+$/,""):"",n=u<0?"-":"",s=ywe(this._months)!==ywe(u)?"-":"",l=ywe(this._days)!==ywe(u)?"-":"",o=ywe(this._milliseconds)!==ywe(u)?"-":"",n+"P"+(a?s+a+"Y":"")+(c?s+c+"M":"")+(d?l+d+"D":"")+(t||e||i?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(i?o+r+"S":"")):"P0D"}var jwe=Jve.prototype;jwe.isValid=function(){return this._isValid},jwe.abs=function(){var e=this._data;return this._milliseconds=qye(this._milliseconds),this._days=qye(this._days),this._months=qye(this._months),e.milliseconds=qye(e.milliseconds),e.seconds=qye(e.seconds),e.minutes=qye(e.minutes),e.hours=qye(e.hours),e.months=qye(e.months),e.years=qye(e.years),this},jwe.add=function(e,t){return Vye(this,e,t,1)},jwe.subtract=function(e,t){return Vye(this,e,t,-1)},jwe.as=function(e){if(!this.isValid())return NaN;var t,a,r=this._milliseconds;if("month"===(e=obe(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,a=this._months+Kye(t),e){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(t=this._days+Math.round(Xye(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},jwe.asMilliseconds=Jye,jwe.asSeconds=Zye,jwe.asMinutes=ewe,jwe.asHours=twe,jwe.asDays=awe,jwe.asWeeks=rwe,jwe.asMonths=nwe,jwe.asQuarters=swe,jwe.asYears=lwe,jwe.valueOf=owe,jwe._bubble=function(){var e,t,a,r,n,s=this._milliseconds,l=this._days,o=this._months,i=this._data;return s>=0&&l>=0&&o>=0||s<=0&&l<=0&&o<=0||(s+=864e5*Gye(Xye(o)+l),l=0,o=0),i.milliseconds=s%1e3,e=Abe(s/1e3),i.seconds=e%60,t=Abe(e/60),i.minutes=t%60,a=Abe(t/60),i.hours=a%24,l+=Abe(a/24),o+=n=Abe(Kye(l)),l-=Gye(Xye(n)),r=Abe(o/12),o%=12,i.days=l,i.months=o,i.years=r,this},jwe.clone=function(){return dye(this)},jwe.get=function(e){return e=obe(e),this.isValid()?this[e+"s"]():NaN},jwe.milliseconds=dwe,jwe.seconds=cwe,jwe.minutes=uwe,jwe.hours=mwe,jwe.days=hwe,jwe.weeks=function(){return Abe(this.days()/7)},jwe.months=fwe,jwe.years=pwe,jwe.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var a,r,n=!1,s=gwe;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(s=Object.assign({},gwe,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),r=function(e,t,a,r){var n=dye(e).abs(),s=xwe(n.as("s")),l=xwe(n.as("m")),o=xwe(n.as("h")),i=xwe(n.as("d")),d=xwe(n.as("M")),c=xwe(n.as("w")),u=xwe(n.as("y")),m=s<=a.ss&&["s",s]||s<a.s&&["ss",s]||l<=1&&["m"]||l<a.m&&["mm",l]||o<=1&&["h"]||o<a.h&&["hh",o]||i<=1&&["d"]||i<a.d&&["dd",i];return null!=a.w&&(m=m||c<=1&&["w"]||c<a.w&&["ww",c]),(m=m||d<=1&&["M"]||d<a.M&&["MM",d]||u<=1&&["y"]||["yy",u])[2]=t,m[3]=+e>0,m[4]=r,bwe.apply(null,m)}(this,!n,s,a=this.localeData()),n&&(r=a.pastFuture(+this,r)),a.postformat(r)},jwe.toISOString=wwe,jwe.toString=wwe,jwe.toJSON=wwe,jwe.locale=vye,jwe.localeData=wye,jwe.toIsoString=Yge("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",wwe),jwe.lang=yye,rbe("X",0,0,"unix"),rbe("x",0,0,"valueOf"),Tbe("x",Nbe),Tbe("X",/[+-]?\d+(\.\d{1,3})?/),Lbe("X",(function(e,t,a){a._d=new Date(1e3*parseFloat(e))})),Lbe("x",(function(e,t,a){a._d=new Date(Pbe(e))})),
//! moment.js
Sge.version="2.30.1",jge=Vve,Sge.fn=Bye,Sge.min=function(){return Xve("isBefore",[].slice.call(arguments,0))},Sge.max=function(){return Xve("isAfter",[].slice.call(arguments,0))},Sge.now=function(){return Date.now?Date.now():+new Date},Sge.utc=Lge,Sge.unix=function(e){return Vve(1e3*e)},Sge.months=function(e,t){return Wye(e,t,"months")},Sge.isDate=Age,Sge.locale=Cve,Sge.invalid=Rge,Sge.duration=dye,Sge.isMoment=Hge,Sge.weekdays=function(e,t,a){return Yye(e,t,a,"weekdays")},Sge.parseZone=function(){return Vve.apply(null,arguments).parseZone()},Sge.localeData=Tve,Sge.isDuration=Zve,Sge.monthsShort=function(e,t){return Wye(e,t,"monthsShort")},Sge.weekdaysMin=function(e,t,a){return Yye(e,t,a,"weekdaysMin")},Sge.defineLocale=Eve,Sge.updateLocale=function(e,t){if(null!=t){var a,r,n=wve;null!=jve[e]&&null!=jve[e].parentLocale?jve[e].set(Xge(jve[e]._config,t)):(null!=(r=kve(e))&&(n=r._config),t=Xge(n,t),null==r&&(t.abbr=e),(a=new Qge(t)).parentLocale=jve[e],jve[e]=a),Cve(e)}else null!=jve[e]&&(null!=jve[e].parentLocale?(jve[e]=jve[e].parentLocale,e===Cve()&&Cve(e)):null!=jve[e]&&delete jve[e]);return jve[e]},Sge.locales=function(){return qge(jve)},Sge.weekdaysShort=function(e,t,a){return Yye(e,t,a,"weekdaysShort")},Sge.normalizeUnits=obe,Sge.relativeTimeRounding=function(e){return void 0===e?xwe:"function"==typeof e&&(xwe=e,!0)},Sge.relativeTimeThreshold=function(e,t){return void 0!==gwe[e]&&(void 0===t?gwe[e]:(gwe[e]=t,"s"===e&&(gwe.ss=t-1),!0))},Sge.calendarFormat=function(e,t){var a=e.diff(t,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"},Sge.prototype=Bye,Sge.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Nwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(!1),[_,S]=Q.useState(!1),[k,C]=Q.useState(!1),[E,T]=Q.useState(!1),[O,D]=Q.useState(0),[A,P]=Q.useState(""),M=Q.useRef(0),L=Q.useRef(""),I=rm(),{sectionID:F}=I.state||0;console.log("Student is card section id",F),Q.useEffect((()=>{R()}),[]);const R=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),$=Q.useMemo((()=>l.map((e=>{var t;return{value:null==e?void 0:e.section_id,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name}`}}))),[l]);Q.useEffect((()=>{if(F&&$.length>0){const e=$.find((e=>e.value===F));e&&(r(e),d(F),B(),w([]))}}),[F,$]);const B=()=>p(e,null,(function*(){var e,a;let r=!0,n=F||i;if(i||F?i?(n=i,g("")):(!i&&F||F)&&(n=F,g("")):(g("Please select Class."),r=!1),r)try{u(!0),w([]),P("");const r=localStorage.getItem("authToken"),s=yield Uf.get(`${t}/api/get_studentidcard?section_id=${n}`,{headers:{Authorization:`Bearer ${r}`}});(null==(e=null==s?void 0:s.data)?void 0:e.data)&&0!==(null==(a=null==s?void 0:s.data)?void 0:a.data.length)?(w(s.data.data),D(Math.ceil(s.data.data.length/10))):(hp.error("No student ID card data found for the selected class."),w([]))}catch(s){console.error("Error fetching Student Id Card data:",s),hp.error("An error occurred while fetching Student ID Card data.")}finally{u(!1)}else u(!1)}));console.log("row",y),Q.useEffect((()=>{const e=A.trim().toLowerCase();""!==e&&""===L.current&&(M.current=n,s(0)),""===e&&""!==L.current&&s(M.current),L.current=e}),[A]);const z=y.filter((e=>{var t,a,r,n,s,l,o;const i=A.toLowerCase().trim(),d=(null==(t=null==e?void 0:e.roll_no)?void 0:t.toString().toLowerCase())||"",c=`${null==e?void 0:e.first_name} ${null==e?void 0:e.mid_name} ${null==e?void 0:e.last_name}`.toLowerCase()||"",u=(null==e?void 0:e.dob)?Sge(e.dob).format("DD/MM/YYYY"):"",m=(null==(a=null==e?void 0:e.f_mobile)?void 0:a.toLowerCase())||"",h=(null==(r=null==e?void 0:e.m_mobile)?void 0:r.toLowerCase())||"",f=(null==(n=null==e?void 0:e.blood_group)?void 0:n.toLowerCase())||"",p=(null==(s=null==e?void 0:e.reg_no)?void 0:s.toLowerCase())||"",x=(null==(l=null==e?void 0:e.house)?void 0:l.toLowerCase())||"",g=(null==(o=null==e?void 0:e.permant_add)?void 0:o.toLowerCase())||"",b=`${null==e?void 0:e.class_name} ${null==e?void 0:e.sec_name}`.toLowerCase()||"";return d.includes(i)||c.includes(i)||u.includes(i)||m.includes(i)||h.includes(i)||f.includes(i)||p.includes(i)||x.includes(i)||b.includes(i)||g.includes(i)})).slice(10*n);return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"w-full md:w-[95%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student ID Card"}),oe.jsx(sh,{className:"relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[55%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsx("div",{className:"w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:oe.jsxs("div",{className:"form-group  relative  left-0 md:left-[20%]  w-full md:w-[70%]   flex justify-start gap-x-1 md:gap-x-6 ",children:[oe.jsxs("div",{className:"w-full gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsxs("label",{className:"md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),console.log("selectedStudent",e),d(null==e?void 0:e.value),console.log("sectionid",null==e?void 0:e.value)},options:$,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("button",{type:"search",onClick:B,style:{backgroundColor:"#2196F3"},className:"my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Search"})]})})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Students ID Card List"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>P(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!z||0===z.length)return void hp.error("No data available to download Excel sheet of Student ID Card.");const e=z.map(((e,t)=>[t+1,(null==e?void 0:e.roll_no)||"",(null==e?void 0:e.image_url)||"",`${(null==e?void 0:e.class_name)||""} ${(null==e?void 0:e.sec_name)||""}`,`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`,(null==e?void 0:e.dob)?new Date(e.dob).toLocaleDateString("en-GB"):"",(null==e?void 0:e.f_mobile)||"",(null==e?void 0:e.m_mobile)||"",(null==e?void 0:e.permant_add)||"",(null==e?void 0:e.blood_group)||"",(null==e?void 0:e.reg_no)||"","Unknown House"===(null==e?void 0:e.house)?"":null==e?void 0:e.house,(null==e?void 0:e.image_name)||""])),t=_ge.aoa_to_sheet([["Sr.No","Roll No","Photo URL","Class","Student Name","DOB","Father Mobile No.","Mother Mobile No.","Address","Blood Group","Grn No.","House","Image Name"],...e]);z.forEach(((e,a)=>{(null==e?void 0:e.image_name)&&(t[`M${a+2}`]={t:"s",v:e.image_name,l:{Target:`http://localhost:5173/iDCardDetails/${null==e?void 0:e.student_id}`}})}));const r=_ge.book_new();_ge.book_append_sheet(r,t,"Student Data"),mge(r,`Student idCard list of ${a.label}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e=`Student ID Card List of ${a.label}`,t=`\n     <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n     <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Roll No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Photo</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">DOB</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Father Mobile No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Mother Mobile No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Address</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Blood Group</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Grn No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">House</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Image Name</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${z.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.roll_no)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                  <img src="${(null==e?void 0:e.image_url)||""}" \n                       alt="${null==e?void 0:e.url}" \n                       class="student-photo" />\n                </td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.class_name)||""} ${(null==e?void 0:e.sec_name)||""}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.dob)?new Date(e.dob).toLocaleDateString("en-GB"):""}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.f_mobile)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.m_mobile)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.permant_add)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.blood_group)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.reg_no)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${"Unknown House"===(null==e?void 0:e.house)?"":null==e?void 0:e.house}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.image_name)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","height=800,width=1000");r.document.write(`\n  <html>\n  <head>\n    <title>${e}</title>\n    <style>\n      @page { margin: 0; padding:0; box-sizing:border-box;   ;\n}\n      body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n      #tableHeading {\n  width: 100%;\n  margin: auto; /* Centers the div horizontally */\n  display: flex;\n  justify-content: center;\n}\n\n#tableHeading table {\n  width: 100%; /* Ensures the table fills its container */\n  margin:auto;\n  padding:0 10em 0 10em;\n}\n\n#tableContainer {\n  display: flex;\n  justify-content: center; /* Centers the table horizontally */\n  width: 80%;\n}\n\nh5 {  \n  width: 100%;  \n  text-align: center;  \n  margin: 0;  /* Remove any default margins */\n  padding: 5px 0;  /* Adjust padding if needed */\n}\n\n#tableMain {\nwidth:100%;\nmargin:auto;\nbox-sizing:border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start; /* Prevent unnecessary space */\npadding:0 10em 0 10em;\n}\n\nh5 + * { /* Targets the element after h5 */\n  margin-top: 0; /* Ensures no extra space after h5 */\n}\n\n      table { border-spacing: 0; width: 70%; margin: auto;   }\n      th { font-size: 0.8em; background-color: #f9f9f9; }\n      td { font-size: 12px; }\n      th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n      .student-photo {\n        width: 30px !important; \n        height: 30px !important;\n        object-fit: cover;\n        border-radius: 50%;\n      }\n    </style>\n  </head>\n  <body>\n    ${t}\n  </body>\n  </html>`),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]}),oe.jsxs("button",{type:"button",onClick:()=>{T(!0)},className:"relative bg-blue-400 text-white px-3 rounded hover:bg-blue-500 group "+(j?"opacity-50 cursor-not-allowed":""),disabled:j,children:[oe.jsx(Xm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Download profile images"})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Roll No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Photo"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"DOB"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Father Mobile No."}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Mother Mobile No."}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Address"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Blood Group"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Grn No."}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"House"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Image Name"})]})}),oe.jsx("tbody",{children:z.length?z.map(((e,t)=>{var a,r;return oe.jsxs("tr",{className:"text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*n+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.roll_no}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm py-1",children:[console.log("the teacher image",`${null==e?void 0:e.image_url}`),oe.jsx("img",{src:(null==e?void 0:e.image_url)?`${null==e?void 0:e.image_url}`:"https://via.placeholder.com/50",alt:null==e?void 0:e.name,className:"rounded-full w-8 h-8 lg:w-10 lg:h-10 object-cover"})]})," ",oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm text-nowrap",children:`${null==e?void 0:e.class_name} ${null==e?void 0:e.sec_name}`}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:`${null!=(a=null==e?void 0:e.first_name)?a:""} ${(null==e?void 0:e.mid_name)?e.mid_name+" ":""}${null!=(r=null==e?void 0:e.last_name)?r:""}`.trim()}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:(null==e?void 0:e.dob)?new Date(e.dob).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.f_mobile}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.m_mobile}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.permant_add}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.blood_group}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.reg_no}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"Unknown House"==(null==e?void 0:e.house)?"":null==e?void 0:e.house}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 hover:font-semibold border border-gray-950 text-sm cursor-pointer text-blue-600 hover:text-blue-700",onClick:()=>(e=>{e&&m(`/iDCardDetails/${null==e?void 0:e.student_id}`,{state:{staff:e}})})(e),children:oe.jsx("div",{className:"flex justify-center items-center h-full",children:""===(null==e?void 0:e.image_name)?oe.jsx(zM,{icon:XM,className:"text-2xl text-gray-500"}):oe.jsx("p",{className:" mt-2",children:null==e?void 0:e.image_name})})})]},e.student_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]}),E&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Download Profile Images"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{S(!1),C(!1),T(!1)}})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[95%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to download profile images of",` ${null==a?void 0:a.label}?`]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"py-2 rounded-md bg-blue-500 hover:bg-blue-700 text-white px-3 ",onClick:()=>p(e,null,(function*(){if(!b){v(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found.");const r=yield Uf.get(`${t}/api/get_ziparchive?section_id=${i}`,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(!r.data)return void hp.error("No data available for download.");const n=new Blob([r.data],{type:"application/zip"}),s=window.URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.setAttribute("download",`Student idCard list of ${a.label}.zip`),document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(s),hp.success("ZIP file downloaded successfully!")}catch(e){console.error("Error downloading ZIP file:",e),e.response&&400===e.response.status?hp.error(e.response.data.message||"Download failed."):hp.error("Server error. Please try again later.")}finally{v(!1),T(!1)}}})),disabled:b,children:b?"Downloading...":"Download"})})]})})})})]})},_we=()=>{const t="https://sms.evolvu.in/public";Q.useState(null);const[a,r]=Q.useState(0);Q.useState(!1);const[n,s]=Q.useState(!1),l=sm(),[o,i]=Q.useState(!1),[d,c]=Q.useState([]),[u,m]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),[b,v]=Q.useState(!1),[y,w]=Q.useState("");Q.useEffect((()=>{j()}),[]);const j=()=>p(e,null,(function*(){var e,a,r;try{s(!0),c([]),w("");const n=localStorage.getItem("authToken"),l=yield Uf.get(`${t}/api/get_teacheridcard`,{headers:{Authorization:`Bearer ${n}`}});(null==(e=null==l?void 0:l.data)?void 0:e.data)&&0!==(null==(a=null==l?void 0:l.data)?void 0:a.data.length)?c(null==(r=null==l?void 0:l.data)?void 0:r.data):(hp.error("No student ID card data found for the selected class."),c([]))}catch(n){console.error("Error fetching Student Id Card data:",n),hp.error("An error occurred while fetching Student Id Carddata.")}finally{s(!1)}}));console.log("row",d);const N=d.filter((e=>{var t,a,r,n;const s=y.toLowerCase(),l=(null==(t=null==e?void 0:e.employee_id)?void 0:t.toString().toLowerCase())||"",o=`${null==e?void 0:e.name} `.toLowerCase()||"",i=(null==(a=null==e?void 0:e.phone)?void 0:a.toLowerCase())||"",d=(null==(r=null==e?void 0:e.blood_group)?void 0:r.toLowerCase())||"",c=(null==(n=null==e?void 0:e.sex)?void 0:n.toLowerCase())||"",u=`${null==e?void 0:e.address}`.toLowerCase()||"";return l.includes(s)||o.includes(s)||i.includes(s)||d.includes(s)||c.includes(s)||u.includes(s)})).slice(10*a);return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"w-full md:w-[95%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Teacher ID Card"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{l("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[55%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsx("div",{className:"w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4"})}),n?oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})})}):oe.jsx(oe.Fragment,{children:d.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Teachers ID Card List"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>w(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!N||0===N.length)return void hp.error("No data available to download Excel sheet of Student ID Card.");const e=N.map(((e,t)=>[t+1,(null==e?void 0:e.teacher_image_url)||"  ",`${(null==e?void 0:e.employee_id)||""} `,`${(null==e?void 0:e.name)||""} \n      }`,(null==e?void 0:e.phone)||"  ",(null==e?void 0:e.address)||"  ",(null==e?void 0:e.sex)||" ",(null==e?void 0:e.blood_group)||"  ",(null==e?void 0:e.teacher_image_name)||"  "])),t=_ge.aoa_to_sheet([["Sr.No","Photo URL","Employee Id","Name","Phone No.","Address","Gender","Blood Group","Profile Image Name"],...e]),a=_ge.book_new();_ge.book_append_sheet(a,t,"Teachers Data"),mge(a,"Teachers idCard list .xlsx")},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Teacher ID Card List",t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Photo</th>\n                        <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Employee Id</th>\n\n            \n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Phone No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Address</th>\n                        <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Gender</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Blood Group</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Profile Image Name</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${N.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n               \n                <td class="px-2 text-center py-2 border border-black">\n                  <img src="${(null==e?void 0:e.teacher_image_url)||""}" \n                       alt="${null==e?void 0:e.url}" \n                       class="student-photo" />\n                </td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.employee_id)||" "} </td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.name)||" "} </td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.phone)||" "}</td>\n              \n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.address)||" "}</td>  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.sex)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.blood_group)||" "}</td>\n              \n                \n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.teacher_image_name)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,a=window.open("","_blank","width=1000,height=800");a.document.write(`\n  <html>\n  <head>\n    <title>${e}</title>\n    <style>\n      @page { margin: 0; padding:0; box-sizing:border-box;   ;\n}\n      body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n      #tableHeading {\n  width: 100%;\n  margin: auto; /* Centers the div horizontally */\n  display: flex;\n  justify-content: center;\n}\n\n#tableHeading table {\n  width: 100%; /* Ensures the table fills its container */\n  margin:auto;\n  padding:0 10em 0 10em;\n\n  \n\n\n}\n\n#tableContainer {\n  display: flex;\n  justify-content: center; /* Centers the table horizontally */\n  width: 80%;\n  \n}\n\n \nh5 {  \n  width: 100%;  \n  text-align: center;  \n  margin: 0;  /* Remove any default margins */\n  padding: 5px 0;  /* Adjust padding if needed */\n}\n\n#tableMain {\nwidth:100%;\nmargin:auto;\nbox-sizing:border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start; /* Prevent unnecessary space */\npadding:0 10em 0 10em;\n}\n\nh5 + * { /* Targets the element after h5 */\n  margin-top: 0; /* Ensures no extra space after h5 */\n}\n\n\n      table { border-spacing: 0; width: 70%; margin: auto;   }\n      th { font-size: 0.8em; background-color: #f9f9f9; }\n      td { font-size: 12px; }\n      th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n      .student-photo {\n        width: 30px !important; \n        height: 30px !important;\n        object-fit: cover;\n        border-radius: 50%;\n      }\n    </style>\n  </head>\n  <body>\n    ${t}\n  </body>\n  </html>`),a.document.close(),a.onload=function(){a.focus(),a.print(),a.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]}),oe.jsxs("button",{type:"button",onClick:()=>{v(!0)},className:"relative bg-blue-400 text-white px-3 rounded hover:bg-blue-500 group "+(u?"opacity-50 cursor-not-allowed":""),disabled:u,children:[oe.jsx(Xm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Download profile images"})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden ",children:oe.jsxs("table",{className:"min-w-full leading-normal table-fixed",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider w-[50px]",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider w-[100px]",children:"Photo"}),oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider w-[120px]",children:"Employee Id"}),oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider w-[250px]",children:"Name"}),oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider w-[150px]",children:"Phone No."}),oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider w-[350px]",children:"Address"}),oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider w-[100px]",children:"Gender"}),oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider w-[120px]",children:"Blood Group"}),oe.jsx("th",{className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider w-[200px]",children:"Profile Image Name"})]})}),oe.jsx("tbody",{children:N.length?N.map(((e,t)=>{var r;return oe.jsxs("tr",{className:"text-sm",children:[oe.jsx("td",{className:"px-2 text-center py-2 border border-gray-950 w-[50px]",children:10*a+t+1}),oe.jsx("td",{className:"px-2 py-2 border border-gray-950 w-[80px]",children:oe.jsx("div",{className:"flex justify-center items-center",children:oe.jsx("img",{src:(null==e?void 0:e.teacher_image_url)?`${null==e?void 0:e.teacher_image_url}`:"https://via.placeholder.com/50",alt:null==e?void 0:e.name,className:"rounded-full w-8 h-8 lg:w-10 lg:h-10 object-cover"})})}),oe.jsx("td",{className:"px-2 text-center py-2 border border-gray-950 w-[150px]",children:null==e?void 0:e.employee_id}),oe.jsx("td",{className:"px-2 text-center py-2 border border-gray-950 w-[250px]",children:`${null!=(r=null==e?void 0:e.name)?r:""}`.trim()}),oe.jsx("td",{className:"px-2 text-center py-2 border border-gray-950 w-[150px]",children:null==e?void 0:e.phone}),oe.jsx("td",{className:"px-2 text-center py-2 border border-gray-950 w-[300px]",children:null==e?void 0:e.address}),oe.jsx("td",{className:"px-2 text-center py-2 border border-gray-950 w-[100px]",children:(null==e?void 0:e.sex)||" "}),oe.jsx("td",{className:"px-2 text-center py-2 border border-gray-950 w-[120px]",children:null==e?void 0:e.blood_group}),oe.jsx("td",{className:"px-2 text-center py-2 border border-gray-950 w-[200px]",children:null==e?void 0:e.teacher_image_name})]},e.student_id)})):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"9",className:"text-center py-10 text-red-700 text-xl",children:"Oops! No data found.."})})})]})})})]})})})})]})]})]}),b&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Download Profile Images"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{f(!1),g(!1),v(!1)}})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[95%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsx("p",{children:"Are you sure you want to download profile images"})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"py-2 rounded-md bg-blue-500 hover:bg-blue-700 text-white px-3 ",onClick:()=>p(e,null,(function*(){if(!o){i(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found.");const a=yield Uf.get(`${t}/api/get_teacherziparchiveimages`,{headers:{Authorization:`Bearer ${e}`},responseType:"blob"});if(!a.data)return void hp.error("No data available for download.");const r=new Blob([a.data],{type:"application/zip"}),n=window.URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.setAttribute("download","Teacher idCard list zip"),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(n),hp.success("ZIP file For Teacher Id Card downloaded successfully!")}catch(e){console.error("Error downloading ZIP file For Teacher Id Card:",e),e.response&&400===e.response.status?hp.error(e.response.data.message||"Download failed."):hp.error("Server error. Please try again later.")}finally{i(!1),v(!1)}}})),disabled:o,children:o?"Downloading...":"Download"})})]})})})})]})},Swe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null);Q.useState(!1);const[n,s]=Q.useState(""),l=sm(),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[u,m]=Q.useState([]),[h,f]=Q.useState(!1);Q.useState("");const[x,g]=Q.useState(null),[b,v]=Q.useState(!1),[y,w]=Q.useState(!1),[j,N]=Q.useState(null),[_,S]=Q.useState(!1),k=Q.useMemo((()=>u.map((e=>{var t;return{value:{class_id:e.class_id,section_id:e.section_id},label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name}`}}))),[u]);Q.useEffect((()=>{C()}),[]);const C=()=>p(e,null,(function*(){i(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${e}`}});console.log(a),m(a.data||[])}catch(e){hp.error("Error fetching initial data.")}finally{i(!1)}})),E=()=>{f(!1)};return Q.useEffect((()=>{if(!x||0===Object.keys(x).length)return;const e=(new Date).toLocaleDateString("en-US",{weekday:"long"});if(x.hasOwnProperty(e))w(e);else{const e=Object.keys(x)[0];w(e)}}),[x]),oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),!(b&&x)&&oe.jsx("div",{className:"container mx-auto md:mt-6",children:oe.jsxs("div",{className:"card mx-auto w-full md:w-[80%] lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"TimeTable"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{l("/dashboard")}})]}),oe.jsx("div",{className:"relative w-[97%]  h-1 mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"relative right-0 md:right-10 w-full md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-6 md:mt-10 w-full md:w-[90%] flex flex-row justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-[30%] pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:a,onChange:e=>{console.log("selected option",e),r(e),s("")},options:k,placeholder:"Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),n&&oe.jsx("div",{className:"text-danger relative left-4 text-xs mt-1",children:n})]}),oe.jsx("div",{className:"relative right-0 md:right-16 ",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){if(S(!1),a){i(!0),s(""),v(!0);try{S(!0);const e=localStorage.getItem("authToken"),{class_id:r,section_id:n}=a.value,s=yield Uf.get(`${t}/api/get_classtimetable/${r}/${n}`,{headers:{Authorization:`Bearer ${e}`}});console.log("API Response:",s.data),s.data&&s.data.success?g(s.data.data):(g(null),hp.error("Timetable is not created for this class."))}catch(e){console.error("Error fetching timetable:",e),hp.error("Error fetching class timetable.")}finally{i(!1),S(!1)}}else s("Please select a class.")})),style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded  gap-x-6"+(_?"opacity-50 cursor-not-allowed":""),disabled:_,children:_?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})})})]})}),oe.jsx("div",{className:"flex justify-center",children:oe.jsx("div",{className:"px-4 py-3 border-x-gray-200 mx-auto w-full md:w-[60%]",children:b&&x&&oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"p-3 border bg-white rounded-lg shadow-md text-center",children:[oe.jsxs("div",{className:"relative w-full mb-3",children:[oe.jsxs("h3",{className:"text-pink-600 font-extrabold text-center text-base md:text-lg absolute left-1/2 transform -translate-x-1/2",children:["Timetable - ",a.label]}),oe.jsxs("div",{className:"flex justify-end items-center gap-2",children:[oe.jsx("button",{className:"px-2 py-2 text-sm md:text-md bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-all flex items-center gap-2",onClick:()=>{if(!x||!a)return void alert("Please select a class and ensure timetable data is available.");const e=Object.keys(x).reduce(((e,t)=>(x[t].forEach(((a,r)=>{e[r]||(e[r]={period_no:r+1}),e[r][t]=a})),e)),[]),t=`TimeTable for ${a.label}`,r=`\n      <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n        <h5 class="text-lg font-semibold border border-black">${t}</h5>\n        <div id="tableHeading" class="text-center w-full">\n          <table border="1" class="table">\n            <thead class="bg-gray-200">\n              <tr class="bg-gray-100">\n                <th class="px-3 py-2 border border-black text-sm font-semibold">Period No.</th>\n                <th class="px-3 py-2 border border-black text-sm font-semibold">Monday</th>\n                <th class="px-3 py-2 border border-black text-sm font-semibold">Tuesday</th>\n                <th class="px-3 py-2 border border-black text-sm font-semibold">Wednesday</th>\n                <th class="px-3 py-2 border border-black text-sm font-semibold">Thursday</th>\n                <th class="px-3 py-2 border border-black text-sm font-semibold">Friday</th>\n                <th class="px-3 py-2 border border-black text-sm font-semibold">Saturday</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${e.map(((e,t)=>(0===t?'<tr class="text-sm bg-blue-100">\n                          <td class="px-3 py-2 border border-black font-semibold" colspan="7">Assembly 8.00 - 8.30</td>\n                        </tr>':"")+`\n                    <tr class="text-sm ${t%2==0?"bg-white":"bg-gray-100"}">\n                      <td class="px-3 py-2 border border-black">${t+1}</td>\n                      ${["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((t=>{const a=e[t]||{},r=Array.isArray(a.subject)?a.subject.map((e=>e.subject_name||"")).filter(Boolean):a.subject&&a.subject.subject_name?[a.subject.subject_name]:a.subject&&"string"==typeof a.subject?[a.subject]:[],n=Array.isArray(a.teacher)?a.teacher.map((e=>e.t_name.toLowerCase().replace(/\b\w/g,(e=>e.toUpperCase())))):[],s=Math.max(r.length,n.length);return`<td class="px-3 py-2 border border-black">\n                                    <b>${Array.from({length:s},((e,t)=>`${r[t]||"-"}<br>${n[t]||"-"}`)).join("<br><br>")}</b>\n                                  </td>`})).join("")}\n                        \n                    </tr>`+(1===t?'<tr class="text-sm bg-yellow-500">\n                          <td class="px-3 py-2 border border-black font-semibold" colspan="7">Short Break 9.45 - 10.00</td>\n                        </tr>':"")+(4===t?'<tr class="text-sm bg-red-500">\n                          <td class="px-3 py-2 border border-black font-semibold" colspan="7">Long Break 11.45 - 12.15</td>\n                        </tr>':""))).join("")}\n            </tbody>\n          </table>\n        </div>\n      </div>`,n=window.open("","_blank","height=1000,width=1200");n.document.write(`\n      <html>\n      <head>\n        <title>${t}</title>\n       <style>\n            @page { \n                size: A4 landscape; /* Wider format for better fit */\n                margin: 10px; \n            }\n\n            body { \n                font-family: Arial, sans-serif;\n                margin: 0;\n                padding: 0;\n                box-sizing: border-box;\n            }\n\n            /* Scrollable container */\n            #printContainer {\n                width: 100%;\n                overflow-x: auto;  /* Enables horizontal scrolling */\n                white-space: nowrap; /* Prevents text wrapping */\n            }\n\n            #tableMain {\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: center;\n                padding: 0 10px;\n            }\n\n            table {\n                border-spacing: 0;\n                width: 90vw;\n                min-width: 1200px; /* Ensures table doesn't shrink */\n           margin: auto;\n                table-layout: fixed; /* Ensures even column spacing */\n            }\n\n            th, td {\n                border: 1px solid gray;\n                padding: 8px;\n                text-align: center;\n                font-size: 12px;\n                word-wrap: break-word; /* Ensures text breaks properly */\n            }\n\n            th {\n                font-size: 0.8em;\n                background-color: #f9f9f9;\n            }\n\n            .student-photo {\n                width: 30px !important;\n                height: 30px !important;\n                object-fit: cover;\n                border-radius: 50%;\n            }\n\n            /* Ensure scrolling is available in print mode */\n            @media print {\n                #printContainer {\n                    overflow-x: auto;\n                    display: block;\n                    width: 100%;\n                    height: auto;\n                }\n                table {\n                    min-width: 100%;\n                }\n            }\n        </style>\n      </head>\n      <body>\n        ${r} \n      </body>\n      </html>`),n.document.close(),n.onload=function(){n.focus(),n.print(),n.close()}},children:oe.jsx(zM,{icon:eL})}),oe.jsx("button",{onClick:()=>{v(!1),g(null),w(null),r(null)},className:"p-2 py-2 bg-red-100 text-red-600 hover:bg-red-200 rounded-md transition-all",children:oe.jsx(sh,{className:"text-sm"})})]})]}),oe.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:Object.keys(x).map((e=>oe.jsx("button",{className:"px-4 py-2 rounded-md border transition-all duration-200 "+(y===e?"bg-blue-500 text-white":"bg-gray-200 hover:bg-pink-600 hover:text-white"),onClick:()=>w(e),children:e},e)))})]}),y&&oe.jsx(oe.Fragment,{children:x[y]&&x[y].length>0?oe.jsx("div",{className:"p-4 text-center mx-auto",children:oe.jsxs("div",{className:"space-y-2",children:[oe.jsx("div",{className:"border rounded-lg px-6 py-2 shadow-sm bg-gray-300 text-left",children:oe.jsxs("div",{className:"flex flex-col sm:flex-row items-center text-md font-medium gap-2",children:[oe.jsx("span",{className:"w-[35%] font-bold"}),oe.jsx("span",{className:"font-bold",children:"Assembly"}),oe.jsx("span",{className:"font-bold",children:"saturday"===(null==y?void 0:y.toLowerCase())?"8.00 - 8.20":"8.00 - 8.30"})]})}),x[y].map(((e,t)=>{const a=Array.isArray(e.subject)?e.subject:e.subject?[e.subject]:[],r=Array.isArray(e.teacher)?e.teacher:e.teacher?[e.teacher]:[],n=Math.max(a.length,r.length)||1;return oe.jsx("div",{className:"border rounded-lg px-4 py-2 shadow-md bg-white mb-4",children:oe.jsx("table",{className:"w-full text-md font-medium border border-gray-300",children:oe.jsx("tbody",{children:Array.from({length:n}).map(((t,s)=>{var l,o;return oe.jsxs("tr",{className:"border-b border-gray-300",children:[0===s&&oe.jsx("td",{rowSpan:n,className:"text-center align-middle px-2 py-1 border-r border-gray-300 font-bold w-[10%]",children:e.period_no}),oe.jsx("td",{className:"px-3 py-2 w-[45%] border-r border-gray-200",children:a[s]?"object"==typeof a[s]?(null==(l=a[s])?void 0:l.subject_name)||"-":a[s]:"-"}),oe.jsx("td",{className:"px-3 py-2 w-[45%] text-center",children:r[s]?"object"==typeof r[s]?(null==(o=r[s])?void 0:o.t_name)||"-":r[s]:"-"})]},s)}))})})},t)}))]})}):oe.jsxs("div",{className:"p-4 text-center text-black-500 font-extrabold",children:["No lectures for ",y]})})]})})}),h&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:E})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:"Are you sure you want to delete this timetable?"}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>{c(!0),p(e,null,(function*(){if(!j.class_id||!j.section_id)return void hp.error("Invalid class selection.");const e=localStorage.getItem("authToken");if(e)try{c(!0),200===(yield Uf.delete(`${t}/api/delete_timetable/${j.class_id}/${j.section_id}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).status?(hp.success("Timetable deleted successfully"),E(),g(),r(null)):hp.error("Failed to delete timetable. Please try again.")}catch(a){console.error("Error deleting timetable:",a),hp.error("Network error. Please try again later.")}finally{c(!1)}else hp.error("Authentication failed. Please login again.")}))},disabled:d,children:d?"Deleting...":"Delete"})})]})})})})]})},kwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState(null),[l,o]=Q.useState(!1),[i,d]=Q.useState(""),c=sm(),[h,f]=Q.useState([]),[x,g]=Q.useState(null),[b,v]=Q.useState(!1),[y,w]=Q.useState(""),[j,N]=Q.useState(null),[_,S]=Q.useState(null),[k,C]=Q.useState([]),[E,T]=Q.useState([]),[O,D]=Q.useState(!1),[A,P]=Q.useState(null),[M,L]=Q.useState(null),[I,F]=Q.useState([]),[R,$]=Q.useState([]),[B,z]=Q.useState(!0),[U,H]=Q.useState({}),[W,Y]=Q.useState(8),[q,V]=Q.useState(5),[G,K]=Q.useState(!1),[X,J]=Q.useState({});Q.useEffect((()=>{Z(),A&&M&&p(e,null,(function*(){try{const e=localStorage.getItem("authToken");if(!e)return void hp.error("Authorization token is missing. Please log in again.");if(!A||!M)return void hp.warning("Please select a class and section first.");const a=yield Uf.get(`${t}/api/get_subjectfortimetable?class_id=${A}&section_id=${M}`,{headers:{Authorization:`Bearer ${e}`}});console.log("Subjects Response:",a.data),a.data&&a.data.data?$(a.data.data):($([]),hp.warning("No subjects available."))}catch(e){console.error("Error fetching subjects:",e),hp.error("Failed to fetch subjects. Please try again later.")}finally{z(!1)}}))}),[A,M]);const Z=()=>p(e,null,(function*(){try{o(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?r(a.data):hp.error("Unexpected Data Format")}catch(e){hp.error("Error fetching classes"),console.error("Error fetching classes",e)}finally{o(!1)}})),ee=Q.useMemo((()=>a.map((e=>({value:e.class_id,label:e.name})))),[a]),te=Q.useMemo((()=>Array.isArray(h)?h.map((e=>({value:e.section_id,label:e.name}))):[]),[h]),ae=e=>{let t=[];for(let a=1;a<=e;a++)t.push({value:`Lecture ${a}`,label:`Lecture ${a}`});return t},re=(e=8,t=14,a=5)=>{const r=[],n=60*t;for(let s=60*e;s<=n;s+=a){const e=Math.floor(s/60),t=s%60,a=e>=12?"PM":"AM",n=e>12?e-12:e,l=t<10?`0${t}`:t;r.push(`${n}:${l} ${a}`)}return r},ne=e=>{var t;const a=null==(t=I[e])?void 0:t.startTime;if(a){const e=convertToMinutes(a);return le.filter((t=>convertToMinutes(t)>e))}return le},se=e=>{var t;const a=null==(t=I[e])?void 0:t.satStartTime;if(a){const e=convertToMinutes(a);return ie.filter((t=>convertToMinutes(t)>e))}return ie},le=re(),ie=re(8,11.5);return Q.useEffect((()=>{console.log("Updated timetable:",I)}),[I]),oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"w-full mx-auto md:mt-4",children:oe.jsxs("div",{className:"bg-white shadow-xl rounded-lg border border-pink-500 p-4 lg:w-5/6 mb-0 mx-auto",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center rounded-t-lg",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Create Time Table"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{c("/timeTable")}})]}),oe.jsx("div",{className:"relative w-full h-1 mb-3 mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"w-full mx-auto pt-3 pb-3",children:oe.jsx("div",{className:"w-[95%] mx-auto",children:oe.jsx("div",{className:"border border-pink-500 p-3 rounded-lg shadow-md",children:oe.jsxs("div",{className:"flex items-center",children:[oe.jsxs("div",{className:"w-[25%] p-3",children:[oe.jsxs("label",{htmlFor:"classSelect",className:"block text-gray-700",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"classSelect",menuPortalTarget:document.body,menuPosition:"fixed",value:n,onChange:a=>{var r;s(a),d(""),g(null),f([]),P(null==a?void 0:a.value),a&&(r=a.value,p(e,null,(function*(){try{v(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_divisions/${r}`,{headers:{Authorization:`Bearer ${e}`}});console.log("Divisions API Response:",a.data),Array.isArray(a.data.divisions)?f(a.data.divisions):(hp.error("Unexpected Data Format."),f([]))}catch(e){hp.error("Error fetching divisions"),console.error("Error fetching divisions",e)}finally{v(!1)}})))},options:ee,placeholder:l?"Loading classes...":"Select",isSearchable:!0,isClearable:!0,isDisabled:l,className:"text-sm"}),i&&oe.jsx("div",{className:"text-danger text-xs mt-1",children:i})]}),oe.jsxs("div",{className:"w-[25%] p-3",children:[oe.jsxs("label",{htmlFor:"divisionSelect",className:"block text-gray-700",children:["Division ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"divisionSelect",menuPortalTarget:document.body,menuPosition:"fixed",value:x,onChange:e=>{g(e),L(null==e?void 0:e.value)},options:te,placeholder:b?"Loading divisions...":"Select",isSearchable:!0,isClearable:!0,isDisabled:b,className:"text-sm"}),y&&oe.jsx("div",{className:"text-red-500 text-xs mt-1",children:y})]}),oe.jsxs("div",{className:"w-[25%] p-3",children:[oe.jsxs("label",{htmlFor:"monFriSelect",className:"block text-gray-700",children:["Mon-Fri ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"monFriSelect",menuPortalTarget:document.body,menuPosition:"fixed",value:j,onChange:e=>{N(e);const t=parseInt(e.value,10);C(Array.from({length:t},((e,t)=>t+1)))},options:ae(W),placeholder:"Select Lecture",isSearchable:!0,isClearable:!0,className:"text-sm"})]}),oe.jsxs("div",{className:"w-[25%] p-3",children:[oe.jsxs("label",{htmlFor:"satSelect",className:"block text-gray-700",children:["Sat ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"satSelect",menuPortalTarget:document.body,menuPosition:"fixed",value:_,onChange:e=>{S(e);const t=parseInt(e.value,10);T(Array.from({length:t},((e,t)=>t+1)))},options:ae(q),placeholder:"Select Lecture",isSearchable:!0,isClearable:!0,className:"text-sm"})]}),oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){if(!n)return void hp.error("Please select Class");if(!x)return void hp.error("Please select Division");if(!j||!_)return void hp.error("Please select both Mon-Fri and Sat lecture counts.");const e=parseInt(j.value.split(" ")[1])||0,a=parseInt(_.value.split(" ")[1])||0;try{const r=localStorage.getItem("authToken");if(!r)return void hp.error("Authorization token is missing. Please log in again.");const s={lectures_per_week:e,saturday_lectures:a,class_id:n.value,section_id:x.value};console.log("Sending API request with params:",s);const l=yield Uf.get(`${t}/api/get_fieldsfortimetable`,{headers:{Authorization:`Bearer ${r}`},params:s});console.log("API Response---\x3e:",l.data.data);const o=l.data.data||{};if(l.data.success&&o){K(!0);const e=Object.entries(o||{}).map((([e,t])=>({day:e,lectures:Array.isArray(t)?t:[]})));F(e),console.log("Final Timetable:",e),console.log("setTimeTable is---\x3e",I);const t=e.some((e=>e.lectures.some((e=>Array.isArray(e.subject)&&e.subject.length>0))));console.log("HasSubject---\x3e",t),t?hp.success("Timetable loaded successfully!"):hp.warning("No subjects found. Please fill in the timetable.")}else F([]),hp.error("Invalid timetable data from API.")}catch(r){console.error("Error fetching timetable fields:",r),hp.error("Failed to fetch timetable fields. Please try again later.")}})),style:{backgroundColor:"#2196F3"},className:"mt-4 my-1 md:my-4 btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(O?"opacity-50 cursor-not-allowed":""),disabled:O,children:O?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):"Add"})]})})})})]})}),G&&oe.jsx("div",{className:"relative w-[95%] bg-white shadow-xl rounded-lg border border-pink-500 mx-auto mt-3",children:oe.jsxs("div",{className:"overflow-x-auto p-4",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center rounded-t-lg",children:[oe.jsxs("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:["Create Time Table for ",n.label]}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{c("/timeTable")}})]}),oe.jsx("div",{className:"relative w-full h-1 mb-3 mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsxs("table",{className:"table-auto border-collapse border border-gray-300 w-full",children:[oe.jsx("thead",{className:"bg-gray-200",children:oe.jsxs("tr",{children:[oe.jsx("th",{className:"border p-2 font-semibold text-center",children:"Sr No."}),I.map(((e,t)=>oe.jsx("th",{className:"border p-2 font-semibold text-center",children:e.day},t)))]})}),oe.jsx("tbody",{className:"bg-gray-50",children:I.length>0&&[...Array(Math.max(...I.map((e=>e.lectures.length))))].map(((e,t)=>oe.jsxs("tr",{children:[oe.jsx("td",{className:"border p-1 text-center",children:t+1}),I.map(((e,a)=>{var r,n,s,l,o,i,d,c,h,f,p,x,g,b,v;return oe.jsx("td",{className:"border border-gray-300 p-2",children:e.lectures[t]?oe.jsxs(oe.Fragment,{children:[(""===(null==(r=e.lectures[t])?void 0:r["Time In"])||(null==(n=e.lectures[t])?void 0:n["Time In"]))&&oe.jsxs("select",{className:"w-full px-1 py-1 border border-gray-300",value:(null==(s=e.lectures[t])?void 0:s["Time In"])||"",onChange:e=>((e,t,a)=>{F((r=>{const n=r.map(((r,n)=>n===e?m(u({},r),{lectures:r.lectures.map(((e,r)=>r===t?m(u({},e),{"Time In":a}):e))}):r));return console.log("updatedTimeTable start select",n),n}))})(a,t,e.target.value),children:[oe.jsx("option",{value:"",children:"Select"}),le.map(((e,t)=>oe.jsx("option",{value:e,children:e},t)))]}),(""===(null==(l=e.lectures[t])?void 0:l["Time Out"])||(null==(o=e.lectures[t])?void 0:o["Time Out"]))&&oe.jsxs("select",{className:"w-full px-1 py-1 border border-gray-300 mt-1",value:(null==(i=e.lectures[t])?void 0:i["Time Out"])||"",onChange:e=>((e,t,a)=>{F((r=>{const n=[...r];return n[e].lectures[t]["Time Out"]=a,console.log("updated time end select",n),n}))})(a,t,e.target.value),children:[oe.jsx("option",{value:"",children:"Select"}),ne(a).map(((e,t)=>oe.jsx("option",{value:e,children:e},t)))]}),5===a&&""===(null==(d=e.lectures[t])?void 0:d["Sat Time In"])&&oe.jsxs("select",{className:"w-full px-1 py-1 border border-gray-300",value:(null==(c=e.lectures[t])?void 0:c["Sat Time In"])||"",onChange:e=>((e,t,a)=>{F((r=>{const n=[...r];return n[e].lectures[t]["Sat Time In"]=a,console.log("updatedTimeTable sat start select",n),n}))})(a,t,e.target.value),children:[oe.jsx("option",{value:"",children:"Select Sat "}),ie.map(((e,t)=>oe.jsx("option",{value:e,children:e},t)))]}),5===a&&""===(null==(h=e.lectures[t])?void 0:h["Sat Time Out"])&&oe.jsxs("select",{className:"w-full px-1 py-1 border border-gray-300 mt-1",value:(null==(f=e.lectures[t])?void 0:f["Sat Time Out"])||"",onChange:e=>((e,t,a)=>{F((r=>{const n=[...r];return n[e].lectures[t]["Sat Time Out"]=a,console.log("updatedTimeTable sat end select",n),n}))})(a,t,e.target.value),children:[oe.jsx("option",{value:"",children:"Select Sat Time-Out"}),se(a).map(((e,t)=>oe.jsx("option",{value:e,children:e},t)))]}),(null==(p=e.lectures[t])?void 0:p.subject)&&oe.jsxs("div",{className:"relative",children:[oe.jsxs("div",{className:"w-full border border-gray-300 p-1 bg-white cursor-pointer inline-block truncate text-sm  items-center justify-between",onClick:()=>((e,t)=>{J((a=>{var r;return(null==(r=a[e])?void 0:r[t])?{}:{[e]:{[t]:!0}}}))})(a,t),children:[oe.jsx("span",{className:"truncate",children:(null==(b=null==(g=null==(x=U[a])?void 0:x.lectures[t])?void 0:g.subject)?void 0:b.length)>0?U[a].lectures[t].subject.map((e=>e.name)).join(", "):"Select"}),oe.jsx("span",{className:"ml-1 text-gray-500 ",children:""})," "]}),(null==(v=X[a])?void 0:v[t])&&oe.jsx("div",{className:"absolute bg-white border border-gray-300 w-48 mt-1 z-10 max-h-48 overflow-y-auto",children:R.map((e=>{var r,n,s;return oe.jsxs("label",{className:"flex items-center gap-2 px-2 py-1 whitespace-nowrap",children:[oe.jsx("input",{type:"checkbox",value:e.sm_id,checked:(null==(s=null==(n=null==(r=U[a])?void 0:r.lectures[t])?void 0:n.subject)?void 0:s.some((t=>t.sm_id===e.sm_id)))||!1,onChange:r=>((e,t,a,r)=>{H((n=>{const s=u({},n);return s[e]||(s[e]={lectures:[]}),s[e].lectures[t]||(s[e].lectures[t]={subject:[]}),console.log("selectted subject",s),r?s[e].lectures[t].subject.push(a):s[e].lectures[t].subject=s[e].lectures[t].subject.filter((e=>e.sm_id!==a.sm_id)),u({},s)}))})(a,t,e,r.target.checked),className:"w-4 h-4"}),oe.jsx("span",{className:"text-sm",children:e.name})]},e.sm_id)}))})]})]}):""},a)}))]},t)))})]}),oe.jsx("div",{className:"flex justify-end p-2 relative",children:oe.jsx("button",{className:"btn btn-primary btn-xs",onClick:()=>p(e,null,(function*(){var e,a,r,s;const l=localStorage.getItem("authToken");if(!l)return void hp.error("Authorization token is missing. Please login again");let o,i,d,c;try{if(!n)return void hp.error("Please select a class before submitting.");console.log("Timetable Data:",JSON.stringify(I,null,2));const a=parseInt(null==(e=null==j?void 0:j.value)?void 0:e.split(" ")[1])||0;let r={class_id:n.value,section_id:x.value,num_lec:a};console.log("TimeTable before Submit...",r),I.forEach(((e,t)=>{e.lectures.forEach(((a,n)=>{var s,l,u;let m=n+1;console.log(`Checking before lecture structure for ${e.day}, Lecture ${m}:`,a),o=null==a?void 0:a["Time In"],i=null==a?void 0:a["Time Out"],d=null==a?void 0:a["Sat Time In"],c=null==a?void 0:a["Sat Time Out"],console.log("Lecture Data:",a),console.log("Extracted Times - timeIn:",o,"| timeOut:",i,"| satTimeIn:",d,"| satTimeOut:",c);let h=(null==(u=null==(l=null==(s=U[t])?void 0:s.lectures[n])?void 0:l.subject)?void 0:u.map((e=>e.name)).join(", "))||"";switch(e.day){case"Monday":r[`mon${m}`]=h,r[`time_in${m}`]=o,r[`time_out${m}`]=i;break;case"Tuesday":r[`tue${m}`]=h;break;case"Wednesday":r[`wed${m}`]=h;break;case"Thursday":r[`thu${m}`]=h;break;case"Friday":r[`fri${m}`]=h;break;case"Saturday":r[`sat${m}`]=h,r[`sat_in${m}`]=d,r[`sat_out${m}`]=c}}))})),console.log("Final Timetable Data:",r),console.log("Final Timetable Data before submission:",JSON.stringify(r,null,2)),console.log("Final Result is:","Extracted Times - timeIn:",o,"| timeOut:",i,"| satTimeIn:",d,"| satTimeOut:",c);const s=yield Uf.post(`${t}/api/save_classtimetable`,r,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});console.log("Response:",s.data),200===s.status?hp.success("Timetable saved successfully!"):hp.error(s.data.message||"Failed to save timetable.")}catch(u){console.error("Error saving timetable:",(null==(a=u.response)?void 0:a.data)||u.message),hp.error((null==(s=null==(r=u.response)?void 0:r.data)?void 0:s.message)||"An error occurred while saving the timetable.")}})),children:"Save"})})]})})]})},Cwe=()=>{const t="https://sms.evolvu.in/public",a=sm(),r=rm(),[n,s]=Q.useState(!1),[l,o]=Q.useState(!1),[i,d]=Q.useState([]),[c,h]=Q.useState([]),{staff:f}=r.state||{},{id:x}=om();console.log("student_id from URL:",x),console.log("staff from location:",f);const[g,b]=Q.useState(null);Q.useEffect((()=>{p(e,null,(function*(){var e;try{s(!0);const a=localStorage.getItem("authToken"),r=x||(null==f?void 0:f.student_id);if(!r)return hp.error("Student ID not found."),void s(!1);const n=yield Uf.get(`${t}/api/get_studentidcarddetails?student_id=${r}`,{headers:{Authorization:`Bearer ${a}`}}),l=(null==(e=null==n?void 0:n.data)?void 0:e.data)||[];b(l),d(l)}catch(a){hp.error("Error fetching Student Data")}finally{s(!1)}}))}),[x,null==f?void 0:f.student_id]);const v=(e,t)=>{const{name:a,value:r}=e.target;d((e=>e.map(((e,n)=>n===t?m(u({},e),{[a]:r}):e))))};return n?oe.jsx("div",{className:"flex w-[70%] mx-auto mt-4 justify-center items-center h-64 bg-white",children:oe.jsx(Ag,{})}):i?oe.jsxs("div",{className:"mt-4 bg-gray-200 w-full md:w-[60%] mx-auto",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-full ",children:[oe.jsxs("div",{className:"card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"ID Card Details"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{var e;a("/studentIdCard",{state:{sectionID:null==(e=null==g?void 0:g[0])?void 0:e.section_id}})}})]}),oe.jsx("div",{className:"relative w-full -top-6 h-1 mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsxs("form",{onSubmit:r=>p(e,null,(function*(){var e;if(r.preventDefault(),l)return;h([]);let n=[];if(i.forEach(((e,t)=>{e.blood_group||n.push({field:`student_blood_group_${t}`,message:"Blood Group is required."}),e.permant_add||n.push({field:`student_address_${t}`,message:"Permanent Address is required."}),e.image_base||e.image_name||n.push({field:`student_image_base_${t}`,message:"Please Upload Photo."})})),n.length>0)return void h(n);const s=i[0]||{},d={student_id:s.student_id||"",blood_group:s.blood_group||"",house:s.house||"",permant_add:s.permant_add||"",image_base:s.image_base||""};try{o(!0);const r=localStorage.getItem("authToken");if(200===(yield Uf.post(`${t}/api/save_studentdetailsforidcard`,d,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}})).status){hp.success("ID Card Saved successfully!");const t=null==(e=g[0])?void 0:e.section_id;setTimeout((()=>{a("/studentIdCard",{state:{sectionID:t}})}),1e3)}}catch(c){hp.error("Failed to save ID card.")}finally{o(!1)}})),className:"p-0 overflow-x-hidden shadow-md bg-gray-50",children:[oe.jsx("div",{className:"w-full mx-auto flex flex-wrap p-4 gap-4 justify-center",children:i.map(((e,t)=>{var a,r,n;return oe.jsx("div",{className:"w-full md:w-[70%] border p-4 pt-2 rounded-lg shadow-lg bg-white",children:oe.jsxs("div",{className:"flex flex-col md:grid grid-cols-1 md:grid-cols-3 gap-4",children:[oe.jsx("div",{className:"md:row-span-2 md:col-span-1 flex justify-center mb-4",children:oe.jsxs("div",{className:"rounded-full",children:[oe.jsx(Cg,{photoPreview:(null==e?void 0:e.image_name)||(null==e?void 0:e.image_base),onImageCropped:e=>((e,t)=>{d((a=>a.map(((a,r)=>r===t?m(u({},a),{image_base:e||""}):a)))),h((e=>e.filter((e=>e.field!==`student_image_base_${t}`))))})(e,t)}),c.some((e=>e.field===`student_image_base_${t}`))&&oe.jsx("p",{className:"text-red-500 text-xs ml-3",children:null==(a=c.find((e=>e.field===`student_image_base_${t}`)))?void 0:a.message})]})}),oe.jsxs("div",{className:"flex flex-col mt-2",children:[oe.jsx("label",{className:"font-bold text-sm",children:"Full Name"}),oe.jsxs("p",{className:"bg-gray-200 border rounded-md p-2 shadow-inner",children:[e.first_name||""," ",e.mid_name||""," ",e.last_name||""]})]}),oe.jsxs("div",{className:"flex flex-col mt-2",children:[oe.jsx("label",{className:"font-bold text-sm",children:"Class & Division"}),oe.jsxs("p",{className:"bg-gray-200 border rounded-md p-2 shadow-inner",children:[e.classname||""," - ",e.sectionname||""]})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{className:"font-bold text-sm",children:"Date of Birth"}),oe.jsx("p",{className:"bg-gray-200 border rounded-md p-2 shadow-inner",children:e.dob||""})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{className:"font-bold text-sm",children:["Blood Group ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{name:"blood_group",value:e.blood_group,onChange:e=>v(e,t),className:"w-full border rounded-md p-2 shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),["AB+","AB-","A+","A-","B+","B-","O+","O-"].map((e=>oe.jsx("option",{value:e,children:e},e)))]}),c.some((e=>e.field===`student_blood_group_${t}`))&&oe.jsx("p",{className:"text-red-500 text-xs",children:null==(r=c.find((e=>e.field===`student_blood_group_${t}`)))?void 0:r.message})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{className:"font-bold text-sm",children:"House"}),oe.jsxs("select",{name:"house",value:e.house,onChange:e=>v(e,t),className:"w-full border rounded-md p-2 shadow-inner",children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"E",children:"Emerald"}),oe.jsx("option",{value:"R",children:"Ruby"}),oe.jsx("option",{value:"S",children:"Sapphire"}),oe.jsx("option",{value:"D",children:"Diamond"})]})]}),oe.jsxs("div",{className:"col-span-2 flex flex-col",children:[oe.jsxs("label",{className:"font-bold text-sm",children:["Address ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("textarea",{name:"permant_add",value:e.permant_add||"",onChange:e=>v(e,t),maxLength:240,className:"w-full border rounded-md p-2 shadow-inner"}),c.some((e=>e.field===`student_address_${t}`))&&oe.jsx("p",{className:"text-red-500 text-xs",children:null==(n=c.find((e=>e.field===`student_address_${t}`)))?void 0:n.message})]})]})},t)}))}),oe.jsx("div",{className:"col-span-3 md:mr-9 my-2 text-right",children:(null==g?void 0:g.length)>0&&oe.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded shadow",children:"Submit"})})]})]})]}):oe.jsx("p",{className:"text-center text-red-500",children:"No student data found"})},Ewe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(null),[l,o]=Q.useState(0),[i,d]=Q.useState([]),[c,h]=Q.useState(null);Q.useState(!1);const[f,x]=Q.useState(!1),g=sm(),[b,v]=Q.useState(!1),[y,w]=Q.useState(""),[j,N]=Q.useState(!1),[_,S]=Q.useState([]),[k,C]=Q.useState(0),[E,T]=Q.useState("");Q.useEffect((()=>{O(),M()}),[]);const O=()=>p(e,null,(function*(){var e;try{v(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_classofnewadmission`,{headers:{Authorization:`Bearer ${a}`}});console.log("Class",r),d((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",a)}finally{v(!1)}})),D=[{value:"Applied",label:"Applied"},{value:"Scheduled",label:"Scheduled"},{value:"Verified",label:"Verified"},{value:"Approved",label:"Approved"},{value:"Hold",label:"Hold"},{value:"Rejected",label:"Rejected"}],A={control:(e,{isFocused:t})=>m(u({},e),{borderColor:t?"#6366F1":"#d1d5db"}),singleValue:(e,{data:t})=>m(u({},e),{color:""===t.value?"#9CA3AF":"#000"})},P=Q.useMemo((()=>i.map((e=>({value:null==e?void 0:e.class_id,label:`${e.name}`})))),[i]),M=()=>p(e,null,(function*(){var e,a,r,s,l,o;x(!1),T("");try{x(!0),S([]);const i=localStorage.getItem("authToken"),d={};c&&(d.class_id=c),n&&(d.status=n);const u=yield Uf.get(`${t}/api/get_reportofnewadmission`,{headers:{Authorization:`Bearer ${i}`},params:d});(null==(e=null==u?void 0:u.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.length)?(S(null==(s=null==u?void 0:u.data)?void 0:s.data),C(Math.ceil((null==(o=null==(l=null==u?void 0:u.data)?void 0:l.data)?void 0:o.length)/10))):(hp.error("Admission forms report data not found."),S([]))}catch(i){console.error("Error fetching Admission forms report:",i),hp.error("Error fetching Admission forms report. Please try again.")}finally{N(!1),x(!1)}}));console.log("row",_);const L=_.filter((e=>{var t,a,r,n,s,l,o,i,d,c,u,m,h,f,p,x,g,b,v,y,w,j,N,_,S,k;const C=E.toLowerCase(),T=(null==(t=null==e?void 0:e.form_id)?void 0:t.toLowerCase())||"",O=(null==(a=null==e?void 0:e.academic_yr)?void 0:a.toLowerCase())||"",D=`${null==e?void 0:e.first_name} ${null==e?void 0:e.mid_name} ${null==e?void 0:e.last_name}`.toLowerCase().trim()||"",A=(null==(r=null==e?void 0:e.dob)?void 0:r.toLowerCase())||"",P=(null==(n=null==e?void 0:e.gender)?void 0:n.toLowerCase())||"",M=(null==(s=null==e?void 0:e.application_date)?void 0:s.toLowerCase())||"",L=(null==(l=null==e?void 0:e.religion)?void 0:l.toLowerCase())||"",I=(null==(o=null==e?void 0:e.caste)?void 0:o.toLowerCase())||"",F=(null==(i=null==e?void 0:e.subcaste)?void 0:i.toLowerCase())||"",R=(null==(d=null==e?void 0:e.nationality)?void 0:d.toLowerCase())||"",$=(null==(c=null==e?void 0:e.mother_tongue)?void 0:c.toLowerCase())||"",B=(null==(u=null==e?void 0:e.category)?void 0:u.toLowerCase())||"",z=(null==(m=null==e?void 0:e.locality)?void 0:m.toLowerCase())||"",U=(null==(h=null==e?void 0:e.city)?void 0:h.toLowerCase())||"",H=(null==(f=null==e?void 0:e.state)?void 0:f.toLowerCase())||"",W=(null==(p=null==e?void 0:e.pincode)?void 0:p.toString().toLowerCase())||"",Y=(null==(x=null==e?void 0:e.perm_address)?void 0:x.toLowerCase())||"",q=(null==(g=null==e?void 0:e.father_name)?void 0:g.toLowerCase())||"",V=(null==(b=null==e?void 0:e.f_mobile)?void 0:b.toLowerCase())||"",G=(null==(v=null==e?void 0:e.f_email)?void 0:v.toLowerCase())||"",K=(null==(y=null==e?void 0:e.mother_name)?void 0:y.toLowerCase())||"",X=(null==(w=null==e?void 0:e.m_mobile)?void 0:w.toLowerCase())||"",Q=(null==(j=null==e?void 0:e.m_emailid)?void 0:j.toLowerCase())||"",J=(null==(N=null==e?void 0:e.blood_group)?void 0:N.toLowerCase())||"",Z=(null==(_=null==e?void 0:e.admission_form_status)?void 0:_.toLowerCase())||"",ee=(null==(S=null==e?void 0:e.classname)?void 0:S.toLowerCase())||"",te=(null==(k=null==e?void 0:e.OrderId)?void 0:k.toLowerCase())||"";return T.includes(C)||O.includes(C)||D.includes(C)||A.includes(C)||P.includes(C)||M.includes(C)||L.includes(C)||I.includes(C)||F.includes(C)||R.includes(C)||$.includes(C)||B.includes(C)||z.includes(C)||U.includes(C)||H.includes(C)||W.includes(C)||Y.includes(C)||q.includes(C)||V.includes(C)||G.includes(C)||K.includes(C)||X.includes(C)||Q.includes(C)||J.includes(C)||Z.includes(C)||ee.includes(C)||te.includes(C)})),I=L.slice(10*l);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Admission Forms Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{g("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[85%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Class"}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{w(""),r(e),h(null==e?void 0:e.value)},options:P,placeholder:b?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:b}),y&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:y})]})]}),oe.jsxs("div",{className:"w-full md:w-[45%]  gap-x-4  justify-between  my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:" ml-0 md:ml-4 w-full md:w-[30%]  text-md mt-1.5 ",htmlFor:"studentSelect",children:"Status"})," ",oe.jsx("div",{className:"w-full",children:oe.jsx(Soe,{id:"status",menuPortalTarget:document.body,menuPosition:"fixed",options:D,value:D.find((e=>e.value===n))||null,onChange:e=>s(e?e.value:null),isSearchable:!0,isClearable:!0,className:"text-sm",styles:A,placeholder:"Select"})})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:M,style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(f?"opacity-50 cursor-not-allowed":""),disabled:f,children:f?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})})]})," "]})}),_.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Admission Forms Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>T(e.target.value)})})]}),oe.jsx("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:oe.jsxs("button",{type:"button",onClick:()=>{if(!I||0===I.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Form Id.","Student Name","Class","Application Date","Status","DOB","Birth Place","Present Address","City, State, Pincode","Permanent Address","Gender","Religion","Caste","Subcaste","Nationality","Mother Tongue","Category","Blood Group","Aadhaar No.","Sibling","Father Name","Occupation","Mobile No.","Email Id","Father Aadhaar No.","Qualification","Mother Name","Occupation","Mobile No.","Email Id","Mother Aadhaar No.","Qualification","Areas of Interest","Order Id"],t=I.map(((e,t)=>[t+1,(null==e?void 0:e.form_id)||" ",`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`,(null==e?void 0:e.classname)||" ",`${(null==e?void 0:e.application_date)?new Date(null==e?void 0:e.application_date).toLocaleDateString("en-GB"):""}`,(null==e?void 0:e.admission_form_status)||" ",`${(null==e?void 0:e.dob)?new Date(null==e?void 0:e.dob).toLocaleDateString("en-GB"):""}`,(null==e?void 0:e.birth_place)||" ",(null==e?void 0:e.locality)||" ",`${(null==e?void 0:e.city)||""}, ${(null==e?void 0:e.state)||""}, ${(null==e?void 0:e.pincode)||""}`,(null==e?void 0:e.perm_address)||" ","M"===(null==e?void 0:e.gender)?"Male":"F"===(null==e?void 0:e.gender)?"Female":(null==e?void 0:e.gender)||" ",(null==e?void 0:e.religion)||" ",(null==e?void 0:e.caste)||" ",(null==e?void 0:e.subcaste)||" ",(null==e?void 0:e.nationality)||" ",(null==e?void 0:e.mother_tongue)||" ",(null==e?void 0:e.category)||" ",(null==e?void 0:e.blood_group)||" ",(null==e?void 0:e.stud_aadhar)||" ",(null==e?void 0:e.sibling_student_info)||" ",(null==e?void 0:e.father_name)||" ",(null==e?void 0:e.father_occupation)||" ",(null==e?void 0:e.f_mobile)||" ",(null==e?void 0:e.f_email)||" ",(null==e?void 0:e.f_aadhar_no)||" ",(null==e?void 0:e.f_qualification)||" ",(null==e?void 0:e.mother_name)||" ",(null==e?void 0:e.mother_occupation)||" ",(null==e?void 0:e.m_mobile)||" ",(null==e?void 0:e.m_emailid)||" ",(null==e?void 0:e.m_aadhar_no)||" ",(null==e?void 0:e.m_qualification)||" ",(null==e?void 0:e.area_in_which_parent_can_contribute)||" ",(null==e?void 0:e.OrderId)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Admission_Forms_Report_${(null==a?void 0:a.label)||"ALL"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Form Id.","Student Name","Class","Application Date","Status","DOB","Birth Place","Present Address","City, State, Pincode","Permanent Address","Gender","Religion","Caste","Subcaste","Nationality","Mother Tongue","Category","Blood Group","Aadhaar No.","Sibling","Father Name","Occupation","Mobile No.","Email Id","Father Aadhaar No.","Qualification","Mother Name","Occupation","Mobile No.","Email Id","Mother Aadhaar No.","Qualification","Areas of Interest","Order Id"].map(((e,t)=>{let a="min-w-[150px] px-2";return"Sr No."===e?a="min-w-[50px]":"Present Address"===e&&(a="min-w-[200px]"),oe.jsx("th",{className:`text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider ${a}`,children:e},t)}))})}),oe.jsx("tbody",{children:I.length?null==I?void 0:I.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.form_id}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[e.first_name," ",e.mid_name," ",e.last_name]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.classname}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.application_date?new Date(e.application_date).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.admission_form_status}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.dob?new Date(e.dob).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.birth_place}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.locality}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[e.city,", ",e.state,","," ",e.pincode]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.perm_address}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:"M"===e.gender?"Male":"F"===e.gender?"Female":e.gender}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.religion}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.caste}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.subcaste}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.nationality}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.mother_tongue}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.category}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.blood_group}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.stud_aadhar}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.sibling_student_info}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.father_name}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.father_occupation}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.f_mobile}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.f_email}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.f_aadhar_no}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.f_qualification}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.mother_name}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.mother_occupation}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.m_mobile}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.m_emailid}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.m_aadhar_no}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.m_qualification}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.area_in_which_parent_can_contribute}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.OrderId})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},Twe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null);Q.useState(null);const[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,h]=Q.useState(!1),f=sm(),[x,g]=Q.useState(!1),[b,v]=Q.useState(""),[y,w]=Q.useState(!1),[j,N]=Q.useState([]),[_,S]=Q.useState(0),[k,C]=Q.useState("");Q.useEffect((()=>{E()}),[]);const E=()=>p(e,null,(function*(){try{g(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/staff_list`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{g(!1)}})),T=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.teacher_id,label:`${e.name}`})))),[l]);console.log("row",j);const O=j.filter((e=>{var t,a;const r=k.toLowerCase(),n=(null==(t=null==e?void 0:e.staffname)?void 0:t.toLowerCase())||"",s=(null==(a=null==e?void 0:e.name)?void 0:a.toLowerCase())||"";return n.includes(r)||s.includes(r)})).slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[70%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Balance Leave Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{f("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[90%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[70%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[70%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsxs("label",{className:"md:w-[40%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{v(""),r(e),d(null==e?void 0:e.value)},options:T,placeholder:x?"Loading...":"Select",isSearchable:!0,isClearable:!0,isDisabled:x,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".9em"})}}),b&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:b})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;if(h(!1),!i)return v("Please select Staff Name."),void h(!1);C("");try{h(!0),N([]);const o=localStorage.getItem("authToken"),d={};i&&(d.staff_id=i);const c=yield Uf.get(`${t}/api/get_balanceleavereport`,{headers:{Authorization:`Bearer ${o}`},params:d});(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(N(null==(n=null==c?void 0:c.data)?void 0:n.data),S(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Balance Leave Report data not found."),N([]))}catch(o){console.error("Error fetching Balance Leave Report:",o),hp.error("Error fetching Balance Leave Report. Please try again.")}finally{w(!1),h(!1)}})),style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})})]})," "]})}),j.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Balance Leave Report List"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>C(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!O||0===O.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Staff Name","Leave Type","Balance Leave"],t=O.map(((e,t)=>[t+1,(null==e?void 0:e.staffname)||" ",(null==e?void 0:e.name)||" ",(null==e?void 0:e.balance_leave)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Balance Leave Report ${(null==a?void 0:a.label)?`List of ${a.label}`:": Complete List of All Staff"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Balance Leave Report  "+((null==a?void 0:a.label)?`List of ${a.label}`:": Complete List of All Staff "),t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n    <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Staff Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Leave Type</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Balance Leave</th>\n           \n          </tr>\n        </thead>\n        <tbody>\n          ${O.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.staffname)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.balance_leave)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsx("div",{className:"w-full flex justify-center",children:oe.jsxs("table",{className:"min-w-[80%] leading-normal table-auto border border-gray-300",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Staff Name","Leave Type","Balance Leave"].map(((e,t)=>{let a="min-w-[120px] px-2";return("Sr No."===e||"Balance Leave"===e)&&(a="min-w-[50px]"),oe.jsx("th",{className:`text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider ${a}`,children:e},t)}))})}),oe.jsx("tbody",{children:O.length?null==O?void 0:O.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.staffname)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.balance_leave)||" "})]},e.adm_form_pk))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:4,children:oe.jsx("div",{className:"w-full text-center text-xl text-red-700 py-6",children:"Oops! No data found.."})})})})]})})})})]})})})]})]})]})})},Owe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(null),[l,o]=Q.useState(null),[i,d]=Q.useState(0),[c,h]=Q.useState([]),[f,x]=Q.useState(null);Q.useState(!1);const[g,b]=Q.useState(!1),v=sm(),[y,w]=Q.useState(!1),[j,N]=Q.useState(""),[_,S]=Q.useState(!1),[k,C]=Q.useState([]),[E,T]=Q.useState(0),[O,D]=Q.useState("");Q.useEffect((()=>{A()}),[]);const A=()=>p(e,null,(function*(){try{w(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/staff_list`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),h((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{w(!1)}})),P={P:"Approve",A:"Apply",R:"Reject",H:"Hold",S:"Scheduled",V:"Verified",C:"Cancelled"},M=Q.useMemo((()=>c.map((e=>({value:null==e?void 0:e.teacher_id,label:`${e.name}`})))),[c]);console.log("row",k);const L=k.filter((e=>{var t,a,r,n,s,l,o,i;const d=O.toLowerCase(),c=(null==(t=null==e?void 0:e.StaffName)?void 0:t.toLowerCase())||"",u=(null==(a=null==e?void 0:e.phone)?void 0:a.toLowerCase())||"",m=(null==(r=null==e?void 0:e.LeaveType)?void 0:r.toLowerCase())||"",h=(null==(n=null==e?void 0:e.leave_start_date)?void 0:n.toLowerCase())||"",f=(null==(s=null==e?void 0:e.leave_end_date)?void 0:s.toLowerCase())||"",p=(null==(l=null==e?void 0:e.no_of_days)?void 0:l.toString().toLowerCase())||"",x=(null==(o=P[null==e?void 0:e.status])?void 0:o.toLowerCase())||"",g=(null==(i=null==e?void 0:e.ApprovedBy)?void 0:i.toLowerCase())||"";return c.includes(d)||u.includes(d)||m.includes(d)||h.includes(d)||f.includes(d)||p.includes(d)||x.includes(d)||g.includes(d)})).slice(10*i);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Consolidate Leave Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{v("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[85%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsx("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:oe.jsxs("div",{className:"w-full  gap-x-0 md:gap-x-12 flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full  md:w-[50%] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"w-full md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Staff ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{N(""),r(e),x(null==e?void 0:e.value)},options:M,placeholder:y?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:y,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".9em"})}}),j&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:j})]})]}),oe.jsxs("div",{className:"w-full   md:w-[50%] gap-x-4 justify-between my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"ml-0 md:ml-4 w-full md:w-[50%] text-md mt-1.5",htmlFor:"fromDate",children:"From Date"}),oe.jsx("div",{className:"w-full",children:oe.jsx("input",{type:"date",id:"fromDate",value:l,onChange:e=>o(e.target.value),className:"text-sm w-full border border-gray-300 rounded px-2 py-2"})})]}),oe.jsxs("div",{className:"w-full  md:w-[45%] gap-x-4 justify-between my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"ml-0 md:ml-4 w-full md:w-[50%] text-md mt-1.5",htmlFor:"toDate",children:"To Date"}),oe.jsx("div",{className:"w-full",children:oe.jsx("input",{type:"date",id:"toDate",value:n,onChange:e=>s(e.target.value),className:"text-sm w-full border border-gray-300 rounded px-2 py-2"})})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,s,o,i;if(b(!1),!f)return N("Please select Staff Name."),void b(!1);D("");try{b(!0),C([]);const d=localStorage.getItem("authToken"),c={};f&&(c.staff_id=f),l&&(c.from_date=l),n&&(c.to_date=n);const u=yield Uf.get(`${t}/api/get_consolidatedleavereport`,{headers:{Authorization:`Bearer ${d}`},params:c});(null==(e=null==u?void 0:u.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.length)?(C(null==(s=null==u?void 0:u.data)?void 0:s.data),T(Math.ceil((null==(i=null==(o=null==u?void 0:u.data)?void 0:o.data)?void 0:i.length)/10))):(hp.error("Consolidated Leave Report data not found."),C([]))}catch(d){console.error("Error fetching Consolidated Leave Report:",d),hp.error("Error fetching Consolidated Leave Report. Please try again.")}finally{S(!1),b(!1)}})),style:{backgroundColor:"#2196F3"},className:"btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(g?"opacity-50 cursor-not-allowed":""),disabled:g,children:g?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})})]})})}),k.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Consolidated Leave Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>D(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!L||0===L.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Staff Name","Phone No.","Leave Type","Start Date","End Date","No. of days","Status","Approved By"],t=L.map(((e,t)=>[t+1,(null==e?void 0:e.StaffName)||" ",(null==e?void 0:e.phone)||" ",(null==e?void 0:e.LeaveType)||" ",`${(null==e?void 0:e.leave_start_date)?new Date(null==e?void 0:e.leave_start_date).toLocaleDateString("en-GB"):""}`,`${(null==e?void 0:e.leave_end_date)?new Date(null==e?void 0:e.leave_end_date).toLocaleDateString("en-GB"):""}`,(null==e?void 0:e.no_of_days)||" ",P[null==e?void 0:e.status]||" ",(null==e?void 0:e.ApprovedBy)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Consolidate_Leave_Report_${(null==a?void 0:a.label)||"For All Staff"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Consolidate Leave Report  "+((null==a?void 0:a.label)?`List of ${a.label}`:": Complete List of All Staff "),t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n    <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Staff Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Phone No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Leave Type</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Start Date</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">End Date</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">No. of days</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Status</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Approved By</th>\n           \n          </tr>\n        </thead>\n        <tbody>\n          ${L.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.StaffName)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.phone)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.LeaveType)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.leave_start_date)?new Date(null==e?void 0:e.leave_start_date).toLocaleDateString("en-GB"):""}</td>\n                 <td class="px-2 text-center py-2 border border-black">\n                 ${(null==e?void 0:e.leave_start_date)?new Date(null==e?void 0:e.leave_start_date).toLocaleDateString("en-GB"):""}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.no_of_days)||" "}</td>\n                   <td class="px-2 text-center py-2 border border-black">${P[null==e?void 0:e.status]||" "}</td>\n                    <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.ApprovedBy)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Staff Name","Phone No.","Leave Type","Start Date","End Date","No. of days","Status","Approved By"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:L.length?null==L?void 0:L.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.StaffName)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.phone)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.LeaveType)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.leave_start_date)?new Date(null==e?void 0:e.leave_start_date).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.leave_end_date)?new Date(null==e?void 0:e.leave_end_date).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.no_of_days)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:P[null==e?void 0:e.status]||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.ApprovedBy)||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},Dwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),C=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.section_id,label:`${e.get_class.name} ${e.name}`})))),[l]);console.log("row",y);const E=y.filter((e=>{var t,a,r,n,s,l,o,i,d,c,u,m,h,f,p,x,g,b,v,y,w,j,N,S,k,C,E,T,O;const D=_.toLowerCase(),A=(null==(t=null==e?void 0:e.reg_no)?void 0:t.toLowerCase())||"",P=(null==(a=null==e?void 0:e.admission_class)?void 0:a.toLowerCase())||"",M=`${(null==e?void 0:e.first_name)||""} ${(null==(r=null==e?void 0:e.mid_name)?void 0:r.trim())||""} ${(null==e?void 0:e.last_name)||""}`.toLowerCase().trim(),L=(null==(n=null==e?void 0:e.dob)?void 0:n.toLowerCase())||"",I=(null==(s=null==e?void 0:e.admission_date)?void 0:s.toLowerCase())||"",F=(null==(l=null==e?void 0:e.permant_add)?void 0:l.toLowerCase())||"",R=(null==(o=null==e?void 0:e.city)?void 0:o.toLowerCase())||"",$=(null==(i=null==e?void 0:e.state)?void 0:i.toLowerCase())||"",B=(null==(d=null==e?void 0:e.pincode)?void 0:d.toString().toLowerCase())||"",z=(null==(c=null==e?void 0:e.nationality)?void 0:c.toLowerCase())||"",U=(null==(u=null==e?void 0:e.mother_tongue)?void 0:u.toLowerCase())||"",H="M"===(null==e?void 0:e.gender)?"male":"F"===(null==e?void 0:e.gender)?"female":(null==(m=null==e?void 0:e.gender)?void 0:m.toLowerCase())||"",W=(null==(h=null==e?void 0:e.blood_group)?void 0:h.toLowerCase())||"",Y=(null==(f=null==e?void 0:e.religion)?void 0:f.toLowerCase())||"",q=(null==(p=null==e?void 0:e.caste)?void 0:p.toLowerCase())||"",V=(null==(x=null==e?void 0:e.category)?void 0:x.toLowerCase())||"",G=(null==(g=null==e?void 0:e.emergency_name)?void 0:g.toLowerCase())||"",K=(null==(b=null==e?void 0:e.emergency_add)?void 0:b.toLowerCase())||"",X=(null==(v=null==e?void 0:e.emergency_contact)?void 0:v.toLowerCase())||"",Q=(null==(y=null==e?void 0:e.stu_aadhaar_no)?void 0:y.toLowerCase())||"",J=(null==(w=null==e?void 0:e.father_name)?void 0:w.toLowerCase())||"",Z=(null==(j=null==e?void 0:e.f_mobile)?void 0:j.toLowerCase())||"",ee=(null==(N=null==e?void 0:e.f_email)?void 0:N.toLowerCase())||"",te=(null==(S=null==e?void 0:e.mother_name)?void 0:S.toLowerCase())||"",ae=(null==(k=null==e?void 0:e.m_mobile)?void 0:k.toLowerCase())||"",re=(null==(C=null==e?void 0:e.m_emailid)?void 0:C.toLowerCase())||"",ne=(null==(E=null==e?void 0:e.parent_adhar_no)?void 0:E.toLowerCase())||"",se=(null==(T=null==e?void 0:e.total_percent)?void 0:T.toLowerCase())||"",le=(null==(O=null==e?void 0:e.total_attendance)?void 0:O.toLowerCase())||"";return A.includes(D)||P.includes(D)||M.includes(D)||L.includes(D)||I.includes(D)||F.includes(D)||R.includes(D)||$.includes(D)||B.includes(D)||z.includes(D)||U.includes(D)||H.includes(D)||W.includes(D)||Y.includes(D)||q.includes(D)||V.includes(D)||G.includes(D)||K.includes(D)||X.includes(D)||Q.includes(D)||J.includes(D)||Z.includes(D)||ee.includes(D)||te.includes(D)||ae.includes(D)||re.includes(D)||ne.includes(D)||se.includes(D)||le.includes(D)})).slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[70%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsxs("label",{className:"md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Class ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:C,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;if(u(!1),!i)return g("Please select Class."),void u(!1);S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.section_id=i);const c=yield Uf.get(`${t}/api/get_studentreport`,{headers:{Authorization:`Bearer ${o}`},params:d});(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Student Report data not found."),w([]))}catch(o){console.error("Error fetching Student Report:",o),hp.error("Error fetching Student Report. Please try again.")}finally{v(!1),u(!1)}})),style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Student Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsx("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:oe.jsxs("button",{type:"button",onClick:()=>{if(!E||0===E.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Roll No.","GRN No.","Class","Student Full Name","DOB","DOA","Address","City","State","Pincode","Nationality","Mother Tongue","Gender","Blood Group","Religion","Caste","Category","Emergency name","Emergency Address","Emergency Contact","Student Aadhaar No.","Father Name","Father Mobile No.","Father Email-Id","Mother Name","Mother Mobile No.","Mother Email-Id","Parent's Aadhaar No.","Last year %","Last year attendance"],t=E.map(((e,t)=>{var a;return[t+1,(null==e?void 0:e.roll_no)||" ",(null==e?void 0:e.reg_no)||" ",(null==e?void 0:e.admission_class)||" ",`${(null==e?void 0:e.first_name)||""} ${(null==(a=null==e?void 0:e.mid_name)?void 0:a.trim())||""} ${(null==e?void 0:e.last_name)||""}`,(null==e?void 0:e.dob)||" ",`${(null==e?void 0:e.admission_date)?new Date(null==e?void 0:e.admission_date).toLocaleDateString("en-GB"):""}`,(null==e?void 0:e.permant_add)||" ",(null==e?void 0:e.city)||" ",(null==e?void 0:e.state)||" ",(null==e?void 0:e.pincode)||" ",(null==e?void 0:e.nationality)||" ",(null==e?void 0:e.mother_tongue)||" ","M"===(null==e?void 0:e.gender)?"Male":"F"===(null==e?void 0:e.gender)?"Female":(null==e?void 0:e.gender)||" ",(null==e?void 0:e.blood_group)||" ",(null==e?void 0:e.religion)||" ",(null==e?void 0:e.caste)||" ",(null==e?void 0:e.category)||" ",(null==e?void 0:e.emergency_name)||" ",(null==e?void 0:e.emergency_add)||" ",(null==e?void 0:e.emergency_contact)||" ",(null==e?void 0:e.stu_aadhaar_no)||" ",(null==e?void 0:e.father_name)||" ",(null==e?void 0:e.f_mobile)||" ",(null==e?void 0:e.f_email)||" ",(null==e?void 0:e.mother_name)||" ",(null==e?void 0:e.m_mobile)||" ",(null==e?void 0:e.m_emailid)||" ",(null==e?void 0:e.parent_adhar_no)||" ",(null==e?void 0:e.total_percent)||" ",(null==e?void 0:e.total_attendance)||" "]})),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Student Report Data"),mge(s,`Student_Report_${(null==a?void 0:a.label)||"ALL"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Roll No.","GRN No.","Class","Student Full Name","DOB","DOA","Address","City","State","Pincode","Nationality","Mother Tongue","Gender","Blood Group","Religion","Caste","Category","Emergency name","Emergency Address","Emergency Contact","Student Aadhaar No.","Father Name","Father Mobile No.","Father Email-Id","Mother Name","Mother Mobile No.","Mother Email-Id","Parent's Aadhaar No.","Last year %","Last year attendance"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:E.length?null==E?void 0:E.map(((e,t)=>{var a;return oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.roll_no||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.reg_no||" "}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[e.classname||" "," ",e.sectionname]}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[e.first_name," ",(null==(a=e.mid_name)?void 0:a.trim())||""," ",e.last_name]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.dob?new Date(e.dob).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.admission_date?new Date(e.admission_date).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.permant_add||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.city||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.state||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.pincode||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.nationality||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.mother_tongue||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:"M"===e.gender?"Male":"F"===e.gender?"Female":e.gender}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.blood_group||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.religion||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.caste||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.category||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.emergency_name||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.emergency_add||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.emergency_contact||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.stu_aadhaar_no||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.father_name||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.f_mobile||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.f_email||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.mother_name||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.m_mobile||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.m_emailid||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.parent_adhar_no||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.total_percent||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.total_attendance||" "})]},e.student_id)})):oe.jsx("div",{className:"absolute left-[1%] w-[100%] text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:"text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},Awe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),C=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.section_id,label:`${e.get_class.name} ${e.name}`})))),[l]);console.log("row",y);const E=y.filter((e=>{var t,a,r,n,s,l,o,i;const d=_.toLowerCase(),c=(null==(t=null==e?void 0:e.reg_no)?void 0:t.toLowerCase())||"",u=(null==(a=null==e?void 0:e.classname)?void 0:a.toLowerCase())||"",m=`${null==e?void 0:e.first_name} ${null==e?void 0:e.mid_name} ${null==e?void 0:e.last_name}`.toLowerCase().trim()||"",h=(null==(r=null==e?void 0:e.father_name)?void 0:r.toLowerCase())||"",f=(null==(n=null==e?void 0:e.f_mobile)?void 0:n.toLowerCase())||"",p=(null==(s=null==e?void 0:e.f_email)?void 0:s.toLowerCase())||"",x=(null==(l=null==e?void 0:e.mother_name)?void 0:l.toLowerCase())||"",g=(null==(o=null==e?void 0:e.m_mobile)?void 0:o.toLowerCase())||"",b=(null==(i=null==e?void 0:e.m_emailid)?void 0:i.toLowerCase())||"";return c.includes(d)||u.includes(d)||m.includes(d)||h.includes(d)||f.includes(d)||p.includes(d)||x.includes(d)||g.includes(d)||b.includes(d)})),T=E.slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Contact Details Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[70%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsxs("label",{className:"md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:C,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;if(u(!1),!i)return g("Please select Class."),void u(!1);S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.section_id=i);const c=yield Uf.get(`${t}/api/get_studentcontactdetailsreport`,{headers:{Authorization:`Bearer ${o}`},params:d});(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Student Contact Details Report data not found."),w([]))}catch(o){console.error("Error fetching Student Contact Details Report:",o),hp.error("Error fetching Student Contact Details Report. Please try again.")}finally{v(!1),u(!1)}})),style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Student Contact Details Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!T||0===T.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Roll No.","GRN No.","Class","Student Full Name","Father Name","Father Mobile No.","Father Email-Id","Mother Name","Mother Mobile No.","Mother Email-Id"],t=T.map(((e,t)=>[t+1,(null==e?void 0:e.roll_no)||" ",(null==e?void 0:e.reg_no)||" ",`${(null==e?void 0:e.classname)||" "} ${(null==e?void 0:e.sectionname)||""}}`,`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`,(null==e?void 0:e.father_name)||" ",(null==e?void 0:e.f_mobile)||" ",(null==e?void 0:e.f_email)||" ",(null==e?void 0:e.mother_name)||" ",(null==e?void 0:e.m_mobile)||" ",(null==e?void 0:e.m_emailid)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Student_Contact_Details_Report_${(null==a?void 0:a.label)||"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Student Contact Details Report "+((null==a?void 0:a.label)?`List of Class ${a.label}`:": For All Students "),t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Roll No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">GRN No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Full Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Father Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Father Mobile No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Father Email-Id</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Mother Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Mother Mobile No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Mother Email_-Id</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${T.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.roll_no)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.reg_no)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.classname)||" "} ${(null==e?void 0:e.sectionname)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.first_name)||" "}${(null==e?void 0:e.mid_name)||" "} ${(null==e?void 0:e.last_name)||" "} </td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.father_name)||" "}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.f_mobile)||" "}</td>\n                   <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.f_email)||" "}</td>\n                    <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.mother_name)||" "}</td>\n                     <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.m_mobile)||" "}</td>\n                      <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.m_emailid)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Roll No.","GRN No.","Class","Student Full Name","Father Name","Father Mobile No.","Father Email-Id","Mother Name","Mother Mobile No.","Mother Email-Id"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:T.length?null==T?void 0:T.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.roll_no||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.reg_no||" "}),oe.jsxs("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:[e.classname||" "," ",e.sectionname||" "]}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[e.first_name||" "," ",e.mid_name||" "," ",e.last_name||" "]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.father_name||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.f_mobile||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.f_email||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.mother_name||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.m_mobile||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.m_emailid||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},Pwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState([]),[l,o]=Q.useState(""),[i,d]=Q.useState(""),[c,h]=Q.useState(0),[f,x]=Q.useState(0),[g,b]=Q.useState(null),[v,y]=Q.useState(!1),[w,j]=Q.useState(null),N=sm(),[_,S]=Q.useState(!1),[k,C]=Q.useState([]),[E,T]=Q.useState([]),[O,D]=Q.useState({}),A=Q.useRef(0),P=Q.useRef(""),M=Q.useMemo((()=>a.map((e=>{var t;return{value:{class_id:e.class_id,section_id:e.section_id},label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name}`}}))),[a]),L=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",I=()=>p(e,null,(function*(){var e,a,r;if(!v){if(y(!0),b(""),!l)return b("Please select a Class."),void y(!1);S(!0),d("");try{const a=localStorage.getItem("authToken");if(!a)throw hp.error("Authentication token is missing. Please log in."),new Error("Authentication token is missing.");const{class_id:r,section_id:n}=l||{};if(!r||!n)throw hp.error("Invalid class selection. Please try again."),new Error("Class ID or Section ID is missing.");const o=null==(e=(yield Uf.get(`${t}/api/get_pendingstudentidcard?class_id=${r}&section_id=${n}`,{headers:{Authorization:`Bearer ${a}`}})).data)?void 0:e.data;if(!Array.isArray(o)||0===o.length)return hp.error("No pending students found for this class."),C([]),void s([]);console.log("Extracted Pending Student List:",o),s(o),C(o),x(Math.ceil(o.length/10))}catch(n){console.error("Error fetching student details:",n),hp.error((null==(r=null==(a=n.response)?void 0:a.data)?void 0:r.message)||"Failed to fetch student details. Please try again.")}finally{S(!1),y(!1)}}})),F=(e,t,a)=>{const{value:r}=e.target;D((e=>m(u({},e),{[`${a}-${t}`]:r.trim()?"":`${t} is required`}))),s((e=>e.map(((e,n)=>n===a?m(u({},e),{parent:m(u({},e.parent),{[t]:r})}):e))))},R=(e,t,a,r)=>{const{value:n}=e.target;D((e=>m(u({},e),{[`${a}-${r}-${t}`]:n.trim()?"":`${t} is required`}))),s((e=>e.map(((e,s)=>s===a?m(u({},e),{parent:m(u({},e.parent),{siblings:e.parent.siblings.map(((e,a)=>a===r?m(u({},e),{[t]:n}):e))})}):e))))};Q.useEffect((()=>{p(e,null,(function*(){S(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${e}`}});r(a.data||[])}catch(e){hp.error("Error fetching initial data.")}finally{S(!1)}}))}),[]),Q.useEffect((()=>{if(Array.isArray(n)&&n.length>0){const e=n.map((e=>{var t,a,r,n;return console.log("Processing parent:",e.parent),{parent_id:(null==(t=e.parent)?void 0:t.parent_id)||null,f_mobile:(null==(a=e.parent)?void 0:a.f_mobile)||"",m_mobile:(null==(r=e.parent)?void 0:r.m_mobile)||"",students:Array.isArray(null==(n=e.parent)?void 0:n.siblings)?e.parent.siblings.map((e=>({student_id:e.student_id||null,permant_add:e.permant_add||"",blood_group:e.blood_group||"",house:e.house||""}))):[]}}));console.log(" Formatted parentsData:",e),C(e)}else console.warn(" No valid pendingstudents found."),C([])}),[n]),Q.useEffect((()=>{const e=i.trim().toLowerCase();""!==e&&""===P.current&&(A.current=c,h(0)),""===e&&""!==P.current&&h(A.current),P.current=e}),[i]);const $=Array.isArray(n)?n.filter((e=>{var t,a,r,n,s,l,o,d;const c=i.toLowerCase().trim(),u=`${null!=(a=null==(t=null==e?void 0:e.parent)?void 0:t.father_name)?a:""}`.toLowerCase(),m=null!=(s=null==(n=null==(r=null==e?void 0:e.parent)?void 0:r.siblings)?void 0:n.map((e=>{var t,a,r;return`${null!=(t=e.first_name)?t:""} ${null!=(a=e.mid_name)?a:""} ${null!=(r=e.last_name)?r:""}`.trim().toLowerCase()})).join(" "))?s:"",h=null!=(d=null==(o=null==(l=null==e?void 0:e.parent)?void 0:l.siblings)?void 0:o.map((e=>{var t;return null==(t=e["class-secname"])?void 0:t.toLowerCase()})).join(" "))?d:"";return m.includes(c)||u.includes(c)||h.includes(c)})):[];console.log($);const B=$.slice(10*c,10*(c+1));return console.log("displayedSections",B),oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"md:mx-auto md:w-[90%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header flex justify-between items-center ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Pending Student ID Card"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{N("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white w-full md:w-[100%] mx-auto rounded-md ",children:oe.jsxs("div",{className:"w-full  mx-auto",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"max-w-full bg-white  p-2",children:oe.jsxs("div",{className:" w-full md:w-[49%]   flex  flex-col md:flex-row gap-x-1 md:gap-x-6 ",children:[oe.jsxs("div",{className:"w-full md:w-[60%]   gap-x-3 md:justify-center justify-around  my-1 md:my-4 flex  md:flex-row  ",children:[oe.jsxs("label",{htmlFor:"classSection",className:" mr-2 pt-2 items-center text-center",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-[65%] md:w-[55%] ",children:[oe.jsx(Soe,{value:w,onChange:e=>{b(""),j(e),o(e?e.value:null),s([])},options:M,placeholder:"Select ",isSearchable:!0,isClearable:!0,className:"text-sm"}),g&&oe.jsx("div",{className:" relative top-0.5 ml-1 text-danger text-xs",children:g})]})]}),oe.jsx("button",{onClick:I,type:"button",disabled:v,className:"mr-0 md:mr-4 my-1 md:my-4 btn h-10  w-18 md:w-auto btn-primary ",children:v?"Searching...":"Search"})]})}),n.length>0&&oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Pending Student ID Card List"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>d(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsxs("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full  md:w-[100%] mx-auto",children:[oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[4%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr. No"}),oe.jsx("th",{className:"px-2 w-full md:w-[6%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Parent"}),oe.jsx("th",{className:"px-2 w-full md:w-[9%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Father Mobile No."}),oe.jsx("th",{className:"px-2 w-full md:w-[9%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Mother Mobile No."}),oe.jsxs("th",{className:"px-2 w-full md:w-[60%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:[oe.jsxs("th",{className:"px-2 w-full md:w-[12%] text-center lg:px-3 py-2  text-sm font-semibold text-gray-900 tracking-wider",children:[" ","Student Name"," "]}),oe.jsxs("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2  text-sm font-semibold text-gray-900 tracking-wider",children:[" ","Class"]}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2  text-sm font-semibold text-gray-900 tracking-wider",children:"DOB"}),oe.jsx("th",{className:"px-2 w-full md:w-[16%] text-center lg:px-3 py-2  text-sm font-semibold text-gray-900 tracking-wider",children:"Address"}),oe.jsx("th",{className:"px-2 w-full md:w-[7%] text-center lg:px-3 py-2  text-sm font-semibold text-gray-900 tracking-wider",children:"Blood Group"}),oe.jsx("th",{className:"px-2 w-full md:w-[7%] text-center lg:px-3 py-2  text-sm font-semibold text-gray-900 tracking-wider",children:"House"})]})]})}),oe.jsx("tbody",{children:B.length?B.map(((e,t)=>{var a,r,n,s,l,o;return oe.jsxs("tr",{className:"text-sm",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*c+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsxs("div",{className:"flex flex-col items-center",children:[oe.jsx("input",{type:"checkbox",checked:E.includes(Number(null==(a=e.parent)?void 0:a.parent_id)),onChange:()=>{var t;return(e=>{if(!e)return;const t=Number(e);T((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]))})(Number(null==(t=e.parent)?void 0:t.parent_id))},className:"mb-1"}),oe.jsx("span",{children:L(null==(r=e.parent)?void 0:r.father_name)})]})}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:[oe.jsx("input",{type:"text",className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300",value:(null==(n=e.parent)?void 0:n.f_mobile)||"",onChange:e=>F(e,"f_mobile",t),maxLength:10}),oe.jsx("div",{children:O[`${t}-f_mobile`]&&oe.jsxs("span",{className:"error text-xs text-red-500",children:["Father No. is required!"," "]})})]}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:[oe.jsx("input",{type:"text",className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300",value:(null==(s=e.parent)?void 0:s.m_mobile)||"",onChange:e=>F(e,"m_mobile",t),maxLength:10}),oe.jsx("div",{children:O[`${t}-m_mobile`]&&oe.jsxs("span",{className:"error text-xs text-red-500",children:["Mother No. is required!"," "]})})]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("div",{className:"flex flex-col gap-2 w-full",children:(null==(o=null==(l=e.parent)?void 0:l.siblings)?void 0:o.length)>0?e.parent.siblings.map(((e,a)=>oe.jsxs("div",{className:"flex items-center border border-gray-400 rounded-md p-2 bg-gray-100 text-xs min-h-[100px] max-h-[120px] gap-x-4",children:[oe.jsxs("div",{className:"w-[20%] break-words text-center lg:px-3 py-2 text-sm",children:[L(e.first_name)," ",L(e.mid_name)," ",L(e.last_name)]}),oe.jsx("div",{className:"w-[15%] truncate text-center lg:px-3 py-2  text-sm",children:e["class-secname"]||"N/A"}),oe.jsx("div",{className:"w-[17%] truncate text-center lg:px-3 py-2  text-sm",children:e.dob||"N/A"}),oe.jsxs("div",{className:"w-[25%] text-center  text-sm",children:[oe.jsx("textarea",{maxLength:200,rows:"4",value:(null==e?void 0:e.permant_add)||"",onChange:e=>R(e,"permant_add",t,a),className:"w-full text-xs bg-white border border-gray-400 rounded-md p-1",required:!0}),O[`${t}-${a}-permant_add`]&&oe.jsxs("span",{className:"error text-xs text-red-500",children:["Address is required!"," "]})]}),oe.jsxs("div",{className:"w-[12%] p-1 text-center lg:px-3 py-2  text-sm",children:[oe.jsxs("select",{value:e.blood_group||"",onChange:e=>R(e,"blood_group",t,a),className:"w-full border border-gray-400 rounded-md py-2 px-3 bg-white text-xs",required:!0,children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"})]}),O[`${t}-${a}-blood_group`]&&oe.jsxs("span",{className:"error text-xs text-red-500",children:["Blood group is required!"," "]})]}),oe.jsxs("div",{className:"w-[12%] p-1 text-center lg:px-3 py-2 text-sm",children:[oe.jsxs("select",{value:e.house||"",onChange:e=>R(e,"house",t,a),className:"w-full border border-gray-400 rounded-md py-2 px-3 bg-white text-xs",required:!0,children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"D",children:"Diamond"}),oe.jsx("option",{value:"R",children:"Ruby"}),oe.jsx("option",{value:"E",children:"Emerald"}),oe.jsx("option",{value:"S",children:"Sapphire"})]}),O[`${t}-${a}-house`]&&oe.jsxs("span",{className:"error text-xs text-red-500",children:["House is required!"," "]})]})]},a))):"No Siblings"})})]},e.student_id)})):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"10",className:"text-center text-red-700 py-4",children:"Oops! No data found.."})})})]}),oe.jsx("div",{className:"flex justify-end",children:oe.jsx("button",{className:"text-white bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded m-2",onClick:()=>p(e,null,(function*(){if(console.log("Selected Parents (IDs):",E),console.log("Raw Parents Data:",k),!k||0===k.length)return void hp.error("Data is still loading. Please wait.");const e=new Set(E.map((e=>Number(e))));console.log("Set of Selected Parent IDs:",e);let a=k.filter((t=>e.has(Number(t.parent_id))));if(a=Array.from(new Map(a.map((e=>[e.parent_id,e]))).values()),console.log("Filtered Parents Data for Submission:",a),0===a.length)return void hp.error("No selected parent data available to update.");for(const t of a){if(!t.f_mobile||!t.m_mobile)return void hp.error("Father's and Mother's mobile numbers are required.");for(const e of t.students||[])if(!e.permant_add||!e.blood_group||!e.house)return void hp.error("Permanent Address, Blood Group, and House are required for all students.")}const r=localStorage.getItem("authToken");try{const e={parents:a.map((e=>({parent_id:e.parent_id,f_mobile:e.f_mobile,m_mobile:e.m_mobile,students:e.students?e.students.map((e=>({student_id:e.student_id,permant_add:e.permant_add,blood_group:e.blood_group,house:e.house}))):[]})))};console.log("Submitting Request Data:",e),200===(yield Uf.put(`${t}/api/update_pendingstudentidcard`,e,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).status?(hp.success("ID Card details updated successfully."),I(),T([])):hp.error("Failed to update ID Card details.")}catch(n){console.error("Error updating student ID card:",n),hp.error("Something went wrong. Please try again.")}})),children:"Update"})})]}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:f,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{h(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})})]})})]})})},Mwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k(),E()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),C=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.class_id,label:`${null==e?void 0:e.name} `})))),[l]),E=()=>p(e,null,(function*(){var e,a,r,n,s,l;u(!1),S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.class_id=i);const c=yield Uf.get(`${t}/api/get_categorywisestudentreport`,{headers:{Authorization:`Bearer ${o}`},params:d});(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Categorywise Student Report data not found."),w([]))}catch(o){console.error("Error fetching Categorywise Student Report:",o),hp.error("Error fetching Categorywise Student Report. Please try again.")}finally{v(!1),u(!1)}}));console.log("row",y);const T=y.filter((e=>{var t,a,r;const n=_.toLowerCase(),s=(null==(t=null==e?void 0:e.counts)?void 0:t.toString())||"",l=(null==(a=null==e?void 0:e.name)?void 0:a.toLowerCase())||"",o=(null==(r=null==e?void 0:e.category)?void 0:r.toLowerCase())||"";return s.includes(n)||l.includes(n)||o.includes(n)})).slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[70%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Categorywise Student Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[80%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Class"}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:C,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:E,style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Categorywise Student Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!T||0===T.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Class","Category","No. of Students"],t=T.map(((e,t)=>[t+1,(null==e?void 0:e.name)||" ",(null==e?void 0:e.category)||" ",(null==e?void 0:e.counts)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Categorywise_Student_Report_${(null==a?void 0:a.label)?`List of Class-${null==a?void 0:a.label}`:"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Categorywise Student Report "+((null==a?void 0:a.label)?`List of Class ${a.label}`:": For All Students "),t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Category</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">No. of Students</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${T.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.category)||" "}</td>\n               \n                      <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.counts)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-[80%] md:ml-24",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Class","Category","No. of Students"].map(((e,t)=>{let a="min-w-[130px]";return"Sr No."===e?a="min-w-[50px]":"No. of Students"===e&&(a="min-w-[80px]"),oe.jsx("th",{className:`px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider ${a}`,children:e},t)}))})}),oe.jsx("tbody",{children:T.length?null==T?void 0:T.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.name||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.category||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.counts||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},Lwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k(),E()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),C=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.class_id,label:`${null==e?void 0:e.name} `})))),[l]),E=()=>p(e,null,(function*(){var e,a,r,n,s,l;u(!1),S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.class_id=i);const c=yield Uf.get(`${t}/api/get_religionwisestudentreport`,{headers:{Authorization:`Bearer ${o}`},params:d});(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Religionwise Student Report data not found."),w([]))}catch(o){console.error("Error fetching Religionwise Student Report:",o),hp.error("Error fetching Religionwise Student Report. Please try again.")}finally{v(!1),u(!1)}}));console.log("row",y);const T=y.filter((e=>{var t,a,r;const n=_.toLowerCase(),s=(null==(t=null==e?void 0:e.counts)?void 0:t.toString())||"",l=(null==(a=null==e?void 0:e.name)?void 0:a.toLowerCase())||"",o=(null==(r=null==e?void 0:e.religion)?void 0:r.toLowerCase())||"";return s.includes(n)||l.includes(n)||o.includes(n)})).slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[70%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Religionwise Student Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[80%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[60%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[70%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[30%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Class"}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:C,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:E,style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Religionwise Student Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!T||0===T.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Class","Religion","No. of Students"],t=T.map(((e,t)=>[t+1,(null==e?void 0:e.name)||" ",(null==e?void 0:e.religion)||" ",(null==e?void 0:e.counts)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Religionwise_Student_Report_${(null==a?void 0:a.label)?`List of Class-${null==a?void 0:a.label}`:"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Religionwise Student Report "+((null==a?void 0:a.label)?`List of Class ${a.label}`:": For All Students "),t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Religion</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">No. of Students</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${T.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.religion)||" "}</td>\n               \n                      <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.counts)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-[80%] md:ml-24",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Class","Religion","No. of Students"].map(((e,t)=>{let a="min-w-[120px]";return"Sr No."===e?a="min-w-[50px]":"No. of Students"===e&&(a="min-w-[100px]"),oe.jsx("th",{className:`px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider ${a}`,children:e},t)}))})}),oe.jsx("tbody",{children:T.length?null==T?void 0:T.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.name||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.religion||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.counts||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},Iwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState(""),[k,C]=Q.useState({male:0,female:0});Q.useEffect((()=>{E(),O()}),[]);const E=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),T=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.class_id,label:`${null==e?void 0:e.name} `})))),[l]),O=()=>p(e,null,(function*(){var e,a,r,n,s;u(!1),S("");try{u(!0),w([]);const l=localStorage.getItem("authToken"),o={};i&&(o.class_id=i);const d=yield Uf.get(`${t}/api/get_genderwisestudentreport`,{headers:{Authorization:`Bearer ${l}`},params:o});if((null==(e=null==d?void 0:d.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==d?void 0:d.data)?void 0:a.data)?void 0:r.length)){const e=null==(n=null==d?void 0:d.data)?void 0:n.data,t=null==(s=null==d?void 0:d.data)?void 0:s.MaleFemale;w(e),C(t),N(Math.ceil(e.length/10))}else hp.error("Genderwise Student Report data not found."),w([])}catch(l){console.error("Error fetching Genderwise Student Report:",l),hp.error("Error fetching Genderwise Student Report. Please try again.")}finally{v(!1),u(!1)}}));console.log("row",y),console.log("maleFemale",k);const D=y.filter((e=>{var t,a,r;const n=_.toLowerCase(),s=(null==(t=null==e?void 0:e.counts)?void 0:t.toString())||"",l=(null==(a=null==e?void 0:e.name)?void 0:a.toLowerCase())||"",o=(null==(r=null==e?void 0:e.gender)?void 0:r.toLowerCase())||"";return s.includes(n)||l.includes(n)||o.includes(n)})).slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[70%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Genderwise Student Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[80%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[60%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[70%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[30%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Class"}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:T,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:O,style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Genderwise Student Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!D||0===D.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Class","Gender","No. of Students"],t=[e,...D.map(((e,t)=>[t+1,(null==e?void 0:e.name)||" ","F"===e.gender?"Female":"M"===e.gender?"Male":" ",(null==e?void 0:e.counts)||" "])),["Total Male are","","",(null==k?void 0:k.male)||0],["Total Female are","","",(null==k?void 0:k.female)||0]],r=_ge.aoa_to_sheet(t),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Genderwise_Student_Report_${(null==a?void 0:a.label)?`List of Class-${null==a?void 0:a.label}`:"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Genderwise Student Report "+((null==a?void 0:a.label)?`List of Class ${a.label}`:": For All Students "),t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Gender</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">No. of Students</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${D.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${"F"===e.gender?"Female":"M"===e.gender?"Male":" "}</td>\n               \n                      <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.counts)||" "}</td>\n              </tr>`)).join("")}\n\n            <tr class="border border-gray-300 font-semibold">\n                <td colspan="3" class="text-center">\n                  Total Male are\n                </td>\n                <td colspan="1" class="text-center">\n                  ${k.male}\n                </td>\n            </tr>\n            <tr class="border border-gray-300 font-semibold">\n                <td colspan="3" class="text-center">\n                  Total Female are\n                </td>\n                <td colspan="1" class="text-center">\n                  ${k.female}\n                </td>\n            </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-[80%] md:ml-24",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Class","Gender","No. of Students"].map(((e,t)=>{let a="min-w-[120px]";return"Sr No."===e?a="min-w-[50px]":"No. of Students"===e&&(a="min-w-[100px]"),oe.jsx("th",{className:`px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider ${a}`,children:e},t)}))})}),oe.jsx("tbody",{children:D.length?oe.jsxs(oe.Fragment,{children:[null==D?void 0:D.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.name||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:"F"===e.gender?"Female":"M"===e.gender?"Male":" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.counts||" "})]},e.adm_form_pk))),oe.jsxs("tr",{className:"border border-gray-300 font-semibold",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",colSpan:3,children:"Total Male are"}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",colSpan:1,children:k.male})]}),oe.jsxs("tr",{className:"border border-gray-300 font-semibold",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",colSpan:3,children:"Total Female are"}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",colSpan:1,children:k.female})]})]}):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},Fwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null),[c,u]=Q.useState([]),[m,h]=Q.useState(null),[f,x]=Q.useState(null),[g,b]=Q.useState([]),[v,y]=Q.useState(null),[w,j]=Q.useState(null),[N,_]=Q.useState(null);Q.useState(!1);const[S,k]=Q.useState(!1),C=sm(),[E,T]=Q.useState(!1),[O,D]=Q.useState("");Q.useState(!1);const[A,P]=Q.useState(""),[M,L]=Q.useState([]),[I,F]=Q.useState(0),[R,$]=Q.useState("");Q.useEffect((()=>{B(),U(),W()}),[]);const B=()=>p(e,null,(function*(){try{T(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{T(!1)}})),z=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.section_id,label:`${e.get_class.name} ${e.name} (${e.students_count})`})))),[l]),U=()=>p(e,null,(function*(){try{T(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${e}`}});console.log("Teacher List",a),u((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Teacher List"),console.error("Error fetching Teacher List:",e)}finally{T(!1)}})),H=Q.useMemo((()=>c.map((e=>({value:null==e?void 0:e.reg_id,label:null==e?void 0:e.name})))),[c]),W=()=>p(e,null,(function*(){try{T(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${e}`}});console.log("Student List",a),b((null==a?void 0:a.data.data)||[])}catch(e){hp.error("Error fetching Teacher List"),console.error("Error fetching Teacher List:",e)}finally{T(!1)}})),Y=Q.useMemo((()=>Array.isArray(g)?g.map((e=>({value:null==e?void 0:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`.trim()}))):[]),[g]);console.log("row",M);const q=M.filter((e=>{var t,a,r,n,s;const l=R.toLowerCase(),o=(null==(t=null==e?void 0:e.reg_no)?void 0:t.toLowerCase())||"",i=(null==(a=null==e?void 0:e.classname)?void 0:a.toLowerCase())||"",d=`${null==e?void 0:e.first_name} ${null==e?void 0:e.mid_name} ${null==e?void 0:e.last_name}`.toLowerCase().trim()||"",c=(null==(r=null==e?void 0:e.teachername)?void 0:r.toLowerCase())||"",u=(null==(n=null==e?void 0:e.remark_type)?void 0:n.toLowerCase())||"",m=(null==(s=null==e?void 0:e.remark_desc)?void 0:s.toLowerCase())||"";return o.includes(l)||i.includes(l)||d.includes(l)||c.includes(l)||u.includes(l)||m.includes(l)})),V=q.slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student Remark Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{C("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[100%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[100%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[100%] gap-x-0 md:gap-x-8  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[100%] gap-x-1 justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[35%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Class"}),oe.jsxs("div",{className:"w-full md:w-[70%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{D(""),r(e),d(null==e?void 0:e.value)},options:z,placeholder:E?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:E}),O&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:O})]})]}),oe.jsxs("div",{className:"w-full md:w-[100%] gap-x-1 justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[55%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"teacherSelect",children:"Teacher"}),oe.jsxs("div",{className:" w-full md:w-[100%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"teacherSelect",value:m,onChange:e=>{P(""),h(e),x(null==e?void 0:e.value)},options:H,placeholder:E?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:E}),A&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:A})]})]}),oe.jsxs("div",{className:"w-full md:w-[100%] gap-x-2 justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[45%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Student"}),oe.jsxs("div",{className:" w-full md:w-[80%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:w,onChange:e=>{D(""),j(e),_(null==e?void 0:e.value),console.log("student select id",e.value)},options:Y,placeholder:E?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:E}),O&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:O})]})]}),oe.jsxs("div",{className:"w-full md:w-[100%] gap-x-1 justify-between my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"ml-0 md:ml-7 w-full md:w-[20%] text-md mt-1.5",htmlFor:"toDate",children:"Date"}),oe.jsx("div",{className:"w-full md:w-[65%]",children:oe.jsx("input",{type:"date",id:"toDate",value:v,onChange:e=>y(e.target.value),className:"text-sm w-full border border-gray-300 rounded px-2 py-2"})})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;k(!0),$("");try{L([]);const o=localStorage.getItem("authToken"),d={};v&&(d.date=v),i&&(d.section_id=String(i)),N&&(d.student_id=String(N)),f&&(d.staff_id=String(f)),console.log(" API Request Params:",d);const c=yield Uf.get(`${t}/api/get_studentremarksreport`,{headers:{Authorization:`Bearer ${o}`},params:d});console.log(" API Response:",c),(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(console.log(" Setting Student Remark List:",c.data.data),L(null==(n=null==c?void 0:c.data)?void 0:n.data),F(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(console.warn(" No data found for given params:",d),hp.error("Student Remark Report data not found."),L([]))}catch(o){console.error(" Error fetching Student Remark Report:",o),hp.error("Error fetching Student Remark Report. Please try again.")}finally{k(!1)}})),style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(S?"opacity-50 cursor-not-allowed":""),disabled:S,children:S?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),M.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Student Remark Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>$(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!V||0===V.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Class","Remark Date","Type","Student Name","Teacher Name","Subject","Remark Subject","Remark Description","Academic Year"],t=V.map(((e,t)=>[t+1,`${(null==e?void 0:e.classname)||" "} ${(null==e?void 0:e.sectionname)||""}`,`${(null==e?void 0:e.remark_date)?new Date(null==e?void 0:e.remark_date).toLocaleDateString("en-GB"):""}`,(null==e?void 0:e.remark_type)||" ",`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`,(null==e?void 0:e.teachername)||" ",(null==e?void 0:e.subjectname)||" ",(null==e?void 0:e.remark_subject)||" ",(null==e?void 0:e.remark_desc)||" ",(null==e?void 0:e.academic_yr)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Student_Remark_Report_${(null==a?void 0:a.label)||"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e=`Student Remark Report\n     ${(null==a?void 0:a.label)?`List of Class ${a.label}`:": For All Students "} \n    `,t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Remark Date</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Type</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Teacher Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Subject</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Remark Subject</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Remark Description</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Academic Year</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${V.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                  ${(null==e?void 0:e.classname)||""} ${(null==e?void 0:e.sectionname)||""}\n                </td>\n                <td class="px-2 text-center py-2 border border-black">\n                  ${(null==e?void 0:e.remark_date)?new Date(e.remark_date).toLocaleDateString("en-GB"):""}\n                </td>\n\n                <td class="px-2 text-center py-2 border border-black">\n                  ${null==e?void 0:e.remark_type}\n                </td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.first_name)||" "}  \n                ${(null==e?void 0:e.mid_name)||" "}  \n                ${(null==e?void 0:e.last_name)||" "} </td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.teachername)||" "}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.subjectname)||" "}</td>\n                   <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.remark_subject)||" "}</td>\n                    <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.remark_desc)||" "}</td>\n                     <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.academic_yr)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n              @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Class","Remark Date","Type","Student Name","Teacher Name","Subject","Remark Subject","Remark Description","Academic Year"].map(((e,t)=>oe.jsx("th",{className:`px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider ${{"Sr No.":"w-[60px]",Class:"w-[100px]","Remark Date":"w-[120px]",Type:"w-[100px]","Student Name":"w-[160px]","Teacher Name":"w-[160px]",Subject:"w-[130px]","Remark Subject":"w-[180px]","Remark Description":"w-[250px]","Academic Year":"w-[140px]"}[e]||""}`,children:e},t)))})}),oe.jsx("tbody",{children:V.length?null==V?void 0:V.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[e.classname||" "," ",e.sectionname||" "]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.remark_date?new Date(e.remark_date).toLocaleDateString("en-GB"):" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.remark_type||" "}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[e.first_name||" "," ",e.mid_name||" "," ",e.last_name||" "]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.teachername||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.subjectname||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.remark_subject||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.remark_desc||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.academic_yr||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},Rwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k(),E()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),C=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.class_id,label:`${e.name}`})))),[l]),E=()=>p(e,null,(function*(){var e,a,r,n,s,l;u(!1),S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.class_id=i);const c=yield Uf.get(`${t}/api/get_gendercategorywisestudentreport`,{headers:{Authorization:`Bearer ${o}`},params:d});console.log("genderwise category report",c),(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Student Contact Details Report data not found."),w([]))}catch(o){console.error("Error fetching Student Contact Details Report:",o),hp.error("Error fetching Student Contact Details Report. Please try again.")}finally{v(!1),u(!1)}}));console.log("row",y);const T=y.filter((e=>{var t,a,r,n;const s=_.toLowerCase(),l=(null==(t=null==e?void 0:e.counts)?void 0:t.toString())||"",o=(null==(a=null==e?void 0:e.name)?void 0:a.toLowerCase())||"",i=(null==(r=null==e?void 0:e.gender)?void 0:r.toLowerCase())||"",d=(null==(n=null==e?void 0:e.category)?void 0:n.toLowerCase())||"";return l.includes(s)||o.includes(s)||i.includes(s)||d.includes(s)})),O=T.slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[70%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Genderwise Categorywise Student Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[70%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[60%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[40%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Class"}),oe.jsxs("div",{className:" w-full md:w-[80%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:C,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:E,style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full mt-4 flex justify-center",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Genderwise Categorywise Students Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!O||0===O.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Class","Gender","Category","No.of Students"],t=O.map(((e,t)=>[t+1,(null==e?void 0:e.name)||" ","F"===e.gender?"Female":"M"===e.gender?"Male":" ",(null==e?void 0:e.category)||" ",(null==e?void 0:e.counts)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Genderwise_Categorywise_Student_Report_${(null==a?void 0:a.label)||"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Genderwise Categorywise Student Report "+((null==a?void 0:a.label)?`List of Class ${a.label}`:": For All Students "),t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n    <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Gender</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Category</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">No.of Students</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${O.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${"F"===e.gender?"Female":"M"===e.gender?"Male":" "}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.category)||" "}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.counts)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-[80%] md:ml-24",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr No."}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Gender"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Category"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider w-[150px]",children:"No. of Students"})]})}),oe.jsx("tbody",{children:O.length?null==O?void 0:O.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.name||" "}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:["F"===e.gender?"Female":"M"===e.gender?"Male":" "," "]}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.category||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.counts})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},$we=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k(),E()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),C=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.class_id,label:`${e.name}`})))),[l]),E=()=>p(e,null,(function*(){var e,a,r,n,s,l;u(!1),S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.class_id=i);const c=yield Uf.get(`${t}/api/get_religiongenderwisestudentreport`,{headers:{Authorization:`Bearer ${o}`},params:d});console.log("Genderwise Religionwise Student Report report",c),(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Genderwise Religionwise Student Report data not found."),w([]))}catch(o){console.error("Error fetching Genderwise Religionwise Student Report:",o),hp.error("Error fetching Genderwise Religionwise Student Report. Please try again.")}finally{v(!1),u(!1)}}));console.log("row",y);const T=y.filter((e=>{var t,a,r,n;const s=_.toLowerCase(),l=(null==(t=null==e?void 0:e.counts)?void 0:t.toString())||"",o=(null==(a=null==e?void 0:e.name)?void 0:a.toLowerCase())||"",i=(null==(r=null==e?void 0:e.gender)?void 0:r.toLowerCase())||"",d=(null==(n=null==e?void 0:e.religion)?void 0:n.toLowerCase())||"";return l.includes(s)||o.includes(s)||i.includes(s)||d.includes(s)})),O=T.slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[80%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Genderwise Religionwise Student Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[70%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[60%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[40%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Class"}),oe.jsxs("div",{className:" w-full md:w-[80%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:C,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:E,style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full mt-4 flex justify-center",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Genderwise Religionwise Student Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!O||0===O.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Class","Gender","Religion","No.of Students"],t=O.map(((e,t)=>[t+1,(null==e?void 0:e.name)||" ","F"===e.gender?"Female":"M"===e.gender?"Male":" ",(null==e?void 0:e.religion)||" ",(null==e?void 0:e.counts)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Genderwise_Religionwise_Student_Report_${(null==a?void 0:a.label)||"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Genderwise Religionwise Student Report "+((null==a?void 0:a.label)?`List of Class ${a.label}`:": For All Students "),t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n    <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Gender</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Religion</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">No.of Students</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${O.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${"F"===e.gender?"Female":"M"===e.gender?"Male":" "}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.religion)||" "}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.counts)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-[80%] md:ml-24",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Class","Gender","Religion","No.of Students"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider "+("No. of Students"===e?"min-w-[80px]":"min-w-[100px]"),children:e},t)))})}),oe.jsx("tbody",{children:O.length?null==O?void 0:O.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.name||" "}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:["F"===e.gender?"Female":"M"===e.gender?"Male":" "," "]}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.religion||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.counts||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},Bwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k(),E()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),C=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.class_id,label:`${e.name}`})))),[l]),E=()=>p(e,null,(function*(){var e,a,r,n,s,l;u(!1),S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.class_id=i);const c=yield Uf.get(`${t}/api/get_newstudentreport`,{headers:{Authorization:`Bearer ${o}`},params:d});console.log("New Student Report",c),(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("New Students Report data not found."),w([]))}catch(o){console.error("Error fetching New Students Report:",o),hp.error("Error fetching New Students Report. Please try again.")}finally{v(!1),u(!1)}})),T=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();console.log("row",y);const O=y.filter((e=>{var t,a,r,n;const s=_.toLowerCase(),l=(null==e?void 0:e.roll_no)?String(e.roll_no):"",o=(null==(t=null==e?void 0:e.reg_no)?void 0:t.toLowerCase())||"",i=(null==(a=null==e?void 0:e.class_name)?void 0:a.toLowerCase())||"",d=(null==(r=null==e?void 0:e.sec_name)?void 0:r.toLowerCase())||"",c=(null==(n=(e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${r}/${a}/${t} || ${r}-${a}-${t}`})(null==e?void 0:e.admission_date))?void 0:n.toLowerCase())||"",u=[null==e?void 0:e.first_name,null==e?void 0:e.mid_name,null==e?void 0:e.last_name].filter(Boolean).join(" ").toLowerCase();return l.includes(s)||o.includes(s)||i.includes(s)||u.includes(s)||d.includes(s)||c.includes(s)})),D=O.slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[80%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"New Students Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[70%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[85%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[70%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[40%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Class"}),oe.jsxs("div",{className:" w-full md:w-[80%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:C,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:E,style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-[100%] mt-4 mx-auto",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of New Students Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!D||0===D.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Roll No","Registartion No.","Student Name","Class","Division","Date of Admission"],t=D.map(((e,t)=>[t+1,null==(null==e?void 0:e.roll_no)?" ":null==e?void 0:e.roll_no,(null==e?void 0:e.reg_no)||" ",`${T((null==e?void 0:e.first_name)||"")} ${T((null==e?void 0:e.mid_name)||"")} ${T((null==e?void 0:e.last_name)||"")}`.trim(),(null==e?void 0:e.class_name)||" ",(null==e?void 0:e.sec_name)||" ",` ${(null==e?void 0:e.admission_date)&&!isNaN(new Date(e.admission_date).getTime())?new Date(e.admission_date).toLocaleDateString("en-GB"):""}`])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`New_Students_Report_${(null==a?void 0:a.label)||"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="New Students Report "+((null==a?void 0:a.label)?`${a.label}`:"For All Students "),t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n    <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Roll No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Registration No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Division</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Date of Admission</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${D.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${null==e?void 0:e.roll_no}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.reg_no)||" "}</td>\n                 <td className="px-2 text-center py-2 border border-black">\n                 ${(null==e?void 0:e.first_name)?T(e.first_name):" "}\n                  ${(null==e?void 0:e.mid_name)?" "+T(e.mid_name):" "}\n                  ${(null==e?void 0:e.last_name)?" "+T(e.last_name):" "}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.class_name)||" "}</td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.sec_name)||" "}</td>\n                 <td class="px-2 text-center py-2 border border-black">\n                  ${(null==e?void 0:e.admission_date)&&!isNaN(new Date(e.admission_date).getTime())?new Date(e.admission_date).toLocaleDateString("en-GB"):""}\n                   </td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Roll No","Registartion No.","Student Name","Class","Division","Date of Admission (dd/mm/yyyy)"].map(((e,t)=>{const a="Date of Admission (dd/mm/yyyy)"===e;return oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:a?oe.jsxs(oe.Fragment,{children:["Date of Admission",oe.jsx("br",{}),oe.jsx("span",{className:"px-2 text-center lg:px-3 py-2  text-sm font-semibold text-gray-900 tracking-wider",children:"(dd/mm/yyyy)"})]}):e},t)}))})}),oe.jsx("tbody",{children:D.length?null==D?void 0:D.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.roll_no}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.reg_no||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:[e.first_name,e.mid_name,e.last_name].filter(Boolean).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.class_name||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.sec_name||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:(null==e?void 0:e.admission_date)&&!isNaN(new Date(e.admission_date).getTime())?new Date(e.admission_date).toLocaleDateString("en-GB"):""})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},zwe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null);Q.useState(null),Q.useState(null);const[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,h]=Q.useState(!1),f=sm(),[x,g]=Q.useState(!1),[b,v]=Q.useState(""),[y,w]=Q.useState(!1),[j,N]=Q.useState([]),[_,S]=Q.useState(0),[k,C]=Q.useState("");Q.useEffect((()=>{E(),O()}),[]);const E=()=>p(e,null,(function*(){try{g(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{g(!1)}})),T=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.class_id,label:`${e.name}`})))),[l]),O=()=>p(e,null,(function*(){var e,a,r,n,s,l;h(!1),C("");try{h(!0),N([]);const o=localStorage.getItem("authToken"),d={};i&&(d.class_id=i);const c=yield Uf.get(`${t}/api/get_leftstudentreport`,{headers:{Authorization:`Bearer ${o}`},params:d});(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(N(null==(n=null==c?void 0:c.data)?void 0:n.data),S(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Left Students Report data not found."),N([]))}catch(o){console.error("Error fetching Left Students Report Report:",o),hp.error("Error fetching Left Students Report. Please try again.")}finally{w(!1),h(!1)}})),D=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();console.log("row",j);const A=j.filter((e=>{var t,a,r,n,s,l;const o=k.toLowerCase(),i=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${r}/${a}/${t} || ${r}-${a}-${t}`},d=(null==e?void 0:e.roll_no)?String(e.roll_no):"",c=(null==(t=null==e?void 0:e.reg_no)?void 0:t.toLowerCase())||"",u=[null==e?void 0:e.first_name,null==e?void 0:e.mid_name,null==e?void 0:e.last_name].filter(Boolean).join(" ").toLowerCase(),m=(null==(a=null==e?void 0:e.class_name)?void 0:a.toLowerCase())||"",h=(null==(r=null==e?void 0:e.slc_no)?void 0:r.toLowerCase())||"",f=(null==(n=i(null==e?void 0:e.slcIssueDate))?void 0:n.toLowerCase())||"",p=(null==(s=i(null==e?void 0:e.last_date))?void 0:s.toLowerCase())||"",x=(null==(l=null==e?void 0:e.leaving_remark)?void 0:l.toLowerCase())||"";return d.includes(o)||c.includes(o)||u.includes(o)||m.includes(o)||h.includes(o)||f.includes(o)||p.includes(o)||x.includes(o)})),P=A.slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Left Students Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{f("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[85%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsx("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:oe.jsxs("div",{className:"w-full  md:w-[60%] gap-x-0  md:gap-x-12 flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"w-full md:w-[30%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Class"}),oe.jsxs("div",{className:"w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{v(""),r(e),d(null==e?void 0:e.value)},options:T,placeholder:x?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:x,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".9em"})}}),b&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:b})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:O,style:{backgroundColor:"#2196F3"},className:"btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})})}),j.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Left Students Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>C(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!P||0===P.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Roll No.","Registration No.","Student Name","Class","Division","Last Date","LC No.","LC Issued Date","Leaving Remark"],t=P.map(((e,t)=>[t+1,null==e?void 0:e.roll_no,(null==e?void 0:e.reg_no)||" ",`${D((null==e?void 0:e.first_name)||" ")} ${D((null==e?void 0:e.mid_name)||" ")} ${D((null==e?void 0:e.last_name)||" ")}`,(null==e?void 0:e.class_name)||" ",(null==e?void 0:e.sec_name)||" ",` ${(null==e?void 0:e.last_date)&&!isNaN(new Date(e.last_date).getTime())?new Date(e.last_date).toLocaleDateString("en-GB"):""}`,(null==e?void 0:e.slc_no)||" ",` ${(null==e?void 0:e.slc_issue_date)&&!isNaN(new Date(e.slc_issue_date).getTime())?new Date(e.slc_issue_date).toLocaleDateString("en-GB"):""}`,(null==e?void 0:e.leaving_remark)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Left_Students_Report_${(null==a?void 0:a.label)||"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Left Students Report "+((null==a?void 0:a.label)?`${a.label}`:"For All Students "),t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Roll No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Registration No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Division</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Last Date</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">LC No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">LC Issued Date</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Leaving Remark</th> \n          </tr>\n        </thead>\n        <tbody>\n          ${P.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${null==(null==e?void 0:e.roll_no)?" ":null==e?void 0:e.roll_no}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.reg_no)||" "}</td>\n               <td className="px-2 text-center py-2 border border-black">\n  ${(null==e?void 0:e.first_name)?D(e.first_name):" "}\n  ${(null==e?void 0:e.mid_name)?" "+D(e.mid_name):" "}\n  ${(null==e?void 0:e.last_name)?" "+D(e.last_name):" "}\n</td>\n\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.class_name)||" "}</td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.sec_name)||" "}</td>\n                  <td class="px-2 text-center py-2 border border-black">\n                 ${(null==e?void 0:e.last_date)&&!isNaN(new Date(e.last_date).getTime())?new Date(e.last_date).toLocaleDateString("en-GB"):""}\n                    </td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.slc_no)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.slc_issue_date)&&!isNaN(new Date(e.slc_issue_date).getTime())?new Date(e.slc_issue_date).toLocaleDateString("en-GB"):""}\n                </td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.leaving_remark)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full ",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full w-[1000px] leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Roll No.","Registration No.","Student Name","Class","Division","Last Date","LC No.","LC Issued Date","Leaving Remark"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider "+("Leaving Remark"===e?"w-[300px]":""),children:"Last Date"===e?oe.jsxs(oe.Fragment,{children:["Last Date",oe.jsx("br",{}),oe.jsx("span",{className:"px-2 text-center lg:px-3 py-2 text-sm font-semibold text-gray-900 tracking-wider",children:"(dd/mm/yyyy)"})]}):"LC Issued Date"===e?oe.jsxs(oe.Fragment,{children:["LC Issued Date",oe.jsx("br",{}),oe.jsx("span",{className:"px-2 text-center lg:px-3 py-2 text-sm font-semibold text-gray-900 tracking-wider",children:"(dd/mm/yyyy)"})]}):e},t)))})}),oe.jsx("tbody",{children:P.length?null==P?void 0:P.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==(null==e?void 0:e.roll_no)?" ":null==e?void 0:e.roll_no}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==(null==e?void 0:e.reg_no)?" ":null==e?void 0:e.reg_no}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:[e.first_name,e.mid_name,e.last_name].filter(Boolean).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.class_name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.sec_name)||""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.last_date)&&!isNaN(new Date(e.last_date).getTime())?new Date(e.last_date).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.slc_no)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.slc_issue_date)&&!isNaN(new Date(e.slc_issue_date).getTime())?new Date(e.slc_issue_date).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.leaving_remark)||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})};var Uwe={},Hwe={},Wwe={},Ywe={};function qwe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function Vwe(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Gwe(e,t){const a=qwe(e);return isNaN(t)?Vwe(e,NaN):t?(a.setDate(a.getDate()+t),a):a}function Kwe(e,t){const a=qwe(e);if(isNaN(t))return Vwe(e,NaN);if(!t)return a;const r=a.getDate(),n=Vwe(e,a.getTime());return n.setMonth(a.getMonth()+t+1,0),r>=n.getDate()?n:(a.setFullYear(n.getFullYear(),n.getMonth(),r),a)}function Xwe(e,t){const{years:a=0,months:r=0,weeks:n=0,days:s=0,hours:l=0,minutes:o=0,seconds:i=0}=t,d=qwe(e),c=r||a?Kwe(d,r+12*a):d,u=1e3*(i+60*(o+60*l));return Vwe(e,(s||n?Gwe(c,s+7*n):c).getTime()+u)}function Qwe(e){return 6===qwe(e).getDay()}function Jwe(e){return 0===qwe(e).getDay()}function Zwe(e){const t=qwe(e).getDay();return 0===t||6===t}function eje(e,t){const a=qwe(e),r=Zwe(a);if(isNaN(t))return Vwe(e,NaN);const n=a.getHours(),s=t<0?-1:1,l=Math.trunc(t/5);a.setDate(a.getDate()+7*l);let o=Math.abs(t%5);for(;o>0;)a.setDate(a.getDate()+s),Zwe(a)||(o-=1);return r&&Zwe(a)&&0!==t&&(Qwe(a)&&a.setDate(a.getDate()+(s<0?2:-1)),Jwe(a)&&a.setDate(a.getDate()+(s<0?1:-2))),a.setHours(n),a}function tje(e,t){return Vwe(e,+qwe(e)+t)}const aje=365.2425,rje=6048e5,nje=864e5,sje=6e4,lje=36e5,oje=1e3,ije=525600,dje=43200,cje=1440,uje=3600,mje=86400,hje=31556952,fje=2629746;function pje(e,t){return tje(e,t*lje)}let xje={};function gje(){return xje}function bje(e,t){var a,r,n,s,l,o,i,d;const c=gje(),u=null!=(d=null!=(i=null!=(s=null!=(n=null==t?void 0:t.weekStartsOn)?n:null==(r=null==(a=null==t?void 0:t.locale)?void 0:a.options)?void 0:r.weekStartsOn)?s:c.weekStartsOn)?i:null==(o=null==(l=c.locale)?void 0:l.options)?void 0:o.weekStartsOn)?d:0,m=qwe(e),h=m.getDay(),f=(h<u?7:0)+h-u;return m.setDate(m.getDate()-f),m.setHours(0,0,0,0),m}function vje(e){return bje(e,{weekStartsOn:1})}function yje(e){const t=qwe(e),a=t.getFullYear(),r=Vwe(e,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const n=vje(r),s=Vwe(e,0);s.setFullYear(a,0,4),s.setHours(0,0,0,0);const l=vje(s);return t.getTime()>=n.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1}function wje(e){const t=qwe(e);return t.setHours(0,0,0,0),t}function jje(e){const t=qwe(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function Nje(e,t){const a=wje(e),r=wje(t),n=+a-jje(a),s=+r-jje(r);return Math.round((n-s)/nje)}function _je(e){const t=yje(e),a=Vwe(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),vje(a)}function Sje(e,t){let a=qwe(e);const r=Nje(a,_je(a)),n=Vwe(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),a=_je(n),a.setDate(a.getDate()+r),a}function kje(e,t){return Sje(e,yje(e)+t)}function Cje(e,t){return tje(e,t*sje)}function Eje(e,t){return Kwe(e,3*t)}function Tje(e,t){return tje(e,1e3*t)}function Oje(e,t){return Gwe(e,7*t)}function Dje(e,t){return Kwe(e,12*t)}function Aje(e){let t;return e.forEach((function(e){const a=qwe(e);(void 0===t||t<a||isNaN(Number(a)))&&(t=a)})),t||new Date(NaN)}function Pje(e){let t;return e.forEach((e=>{const a=qwe(e);(!t||t>a||isNaN(+a))&&(t=a)})),t||new Date(NaN)}function Mje(e,t){const a=qwe(e),r=qwe(t),n=a.getTime()-r.getTime();return n<0?-1:n>0?1:n}function Lje(e){return Vwe(e,Date.now())}function Ije(e,t){return+wje(e)==+wje(t)}function Fje(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Rje(e){if(!Fje(e)&&"number"!=typeof e)return!1;const t=qwe(e);return!isNaN(Number(t))}function $je(e,t){return yje(e)-yje(t)}function Bje(e,t){const a=qwe(e),r=qwe(t);return 12*(a.getFullYear()-r.getFullYear())+(a.getMonth()-r.getMonth())}function zje(e){const t=qwe(e);return Math.trunc(t.getMonth()/3)+1}function Uje(e,t){const a=qwe(e),r=qwe(t);return 4*(a.getFullYear()-r.getFullYear())+(zje(a)-zje(r))}function Hje(e,t,a){const r=bje(e,a),n=bje(t,a),s=+r-jje(r),l=+n-jje(n);return Math.round((s-l)/rje)}function Wje(e,t){const a=qwe(e),r=qwe(t);return a.getFullYear()-r.getFullYear()}function Yje(e,t){const a=qwe(e),r=qwe(t),n=qje(a,r),s=Math.abs(Nje(a,r));a.setDate(a.getDate()-n*s);const l=n*(s-Number(qje(a,r)===-n));return 0===l?0:l}function qje(e,t){const a=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return a<0?-1:a>0?1:a}function Vje(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return 0===a?0:a}}function Gje(e,t){return+qwe(e)-+qwe(t)}function Kje(e,t,a){const r=Gje(e,t)/lje;return Vje(null==a?void 0:a.roundingMethod)(r)}function Xje(e,t){return kje(e,-t)}function Qje(e,t,a){const r=Gje(e,t)/sje;return Vje(null==a?void 0:a.roundingMethod)(r)}function Jje(e){const t=qwe(e);return t.setHours(23,59,59,999),t}function Zje(e){const t=qwe(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function eNe(e){const t=qwe(e);return+Jje(t)==+Zje(t)}function tNe(e,t){const a=qwe(e),r=qwe(t),n=Mje(a,r),s=Math.abs(Bje(a,r));let l;if(s<1)l=0;else{1===a.getMonth()&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-n*s);let t=Mje(a,r)===-n;eNe(qwe(e))&&1===s&&1===Mje(e,r)&&(t=!1),l=n*(s-Number(t))}return 0===l?0:l}function aNe(e,t,a){const r=Gje(e,t)/1e3;return Vje(null==a?void 0:a.roundingMethod)(r)}function rNe(e,t){const a=qwe(e),r=qwe(t),n=Mje(a,r),s=Math.abs(Wje(a,r));a.setFullYear(1584),r.setFullYear(1584);const l=n*(s-+(Mje(a,r)===-n));return 0===l?0:l}function nNe(e,t){var a;const r=qwe(e.start),n=qwe(e.end);let s=+r>+n;const l=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0);let i=null!=(a=null==t?void 0:t.step)?a:1;if(!i)return[];i<0&&(i=-i,s=!s);const d=[];for(;+o<=l;)d.push(qwe(o)),o.setDate(o.getDate()+i),o.setHours(0,0,0,0);return s?d.reverse():d}function sNe(e){const t=qwe(e);return t.setSeconds(0,0),t}function lNe(e){const t=qwe(e),a=t.getMonth(),r=a-a%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function oNe(e){const t=nNe(e),a=[];let r=0;for(;r<t.length;){const e=t[r++];Zwe(e)&&a.push(e)}return a}function iNe(e){const t=qwe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function dNe(e){const t=qwe(e),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(23,59,59,999),t}function cNe(e){const t=qwe(e),a=Vwe(e,0);return a.setFullYear(t.getFullYear(),0,1),a.setHours(0,0,0,0),a}function uNe(e,t){var a,r,n,s,l,o,i,d;const c=gje(),u=null!=(d=null!=(i=null!=(s=null!=(n=null==t?void 0:t.weekStartsOn)?n:null==(r=null==(a=null==t?void 0:t.locale)?void 0:a.options)?void 0:r.weekStartsOn)?s:c.weekStartsOn)?i:null==(o=null==(l=c.locale)?void 0:l.options)?void 0:o.weekStartsOn)?d:0,m=qwe(e),h=m.getDay(),f=6+(h<u?-7:0)-(h-u);return m.setDate(m.getDate()+f),m.setHours(23,59,59,999),m}function mNe(e){const t=qwe(e),a=t.getMonth(),r=a-a%3+3;return t.setMonth(r,0),t.setHours(23,59,59,999),t}const hNe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function fNe(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const pNe={date:fNe({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:fNe({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:fNe({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},xNe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function gNe(e){return(t,a)=>{let r;if("formatting"===((null==a?void 0:a.context)?String(a.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,n=(null==a?void 0:a.width)?String(a.width):t;r=e.formattingValues[n]||e.formattingValues[t]}else{const t=e.defaultWidth,n=(null==a?void 0:a.width)?String(a.width):e.defaultWidth;r=e.values[n]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function bNe(e){return(t,a={})=>{const r=a.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(n);if(!s)return null;const l=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],i=Array.isArray(o)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}(o,(e=>e.test(l))):function(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}(o,(e=>e.test(l)));let d;return d=e.valueCallback?e.valueCallback(i):i,d=a.valueCallback?a.valueCallback(d):d,{value:d,rest:t.slice(l.length)}}}var vNe;const yNe={code:"en-US",formatDistance:(e,t,a)=>{let r;const n=hNe[e];return r="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),(null==a?void 0:a.addSuffix)?a.comparison&&a.comparison>0?"in "+r:r+" ago":r},formatLong:pNe,formatRelative:(e,t,a,r)=>xNe[e],localize:{ordinalNumber:(e,t)=>{const a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:gNe({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:gNe({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:gNe({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:gNe({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:gNe({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(vNe={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const a=e.match(vNe.matchPattern);if(!a)return null;const r=a[0],n=e.match(vNe.parsePattern);if(!n)return null;let s=vNe.valueCallback?vNe.valueCallback(n[0]):n[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:bNe({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:bNe({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:bNe({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:bNe({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:bNe({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function wNe(e){const t=qwe(e);return Nje(t,cNe(t))+1}function jNe(e){const t=qwe(e),a=+vje(t)-+_je(t);return Math.round(a/rje)+1}function NNe(e,t){var a,r,n,s,l,o,i,d;const c=qwe(e),u=c.getFullYear(),m=gje(),h=null!=(d=null!=(i=null!=(s=null!=(n=null==t?void 0:t.firstWeekContainsDate)?n:null==(r=null==(a=null==t?void 0:t.locale)?void 0:a.options)?void 0:r.firstWeekContainsDate)?s:m.firstWeekContainsDate)?i:null==(o=null==(l=m.locale)?void 0:l.options)?void 0:o.firstWeekContainsDate)?d:1,f=Vwe(e,0);f.setFullYear(u+1,0,h),f.setHours(0,0,0,0);const p=bje(f,t),x=Vwe(e,0);x.setFullYear(u,0,h),x.setHours(0,0,0,0);const g=bje(x,t);return c.getTime()>=p.getTime()?u+1:c.getTime()>=g.getTime()?u:u-1}function _Ne(e,t){var a,r,n,s,l,o,i,d;const c=gje(),u=null!=(d=null!=(i=null!=(s=null!=(n=null==t?void 0:t.firstWeekContainsDate)?n:null==(r=null==(a=null==t?void 0:t.locale)?void 0:a.options)?void 0:r.firstWeekContainsDate)?s:c.firstWeekContainsDate)?i:null==(o=null==(l=c.locale)?void 0:l.options)?void 0:o.firstWeekContainsDate)?d:1,m=NNe(e,t),h=Vwe(e,0);return h.setFullYear(m,0,u),h.setHours(0,0,0,0),bje(h,t)}function SNe(e,t){const a=qwe(e),r=+bje(a,t)-+_Ne(a,t);return Math.round(r/rje)+1}function kNe(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const CNe={y(e,t){const a=e.getFullYear(),r=a>0?a:1-a;return kNe("yy"===t?r%100:r,t.length)},M(e,t){const a=e.getMonth();return"M"===t?String(a+1):kNe(a+1,2)},d:(e,t)=>kNe(e.getDate(),t.length),a(e,t){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];default:return"am"===a?"a.m.":"p.m."}},h:(e,t)=>kNe(e.getHours()%12||12,t.length),H:(e,t)=>kNe(e.getHours(),t.length),m:(e,t)=>kNe(e.getMinutes(),t.length),s:(e,t)=>kNe(e.getSeconds(),t.length),S(e,t){const a=t.length,r=e.getMilliseconds();return kNe(Math.trunc(r*Math.pow(10,a-3)),t.length)}},ENe="midnight",TNe="noon",ONe="morning",DNe="afternoon",ANe="evening",PNe="night",MNe={G:function(e,t,a){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});default:return a.era(r,{width:"wide"})}},y:function(e,t,a){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return a.ordinalNumber(r,{unit:"year"})}return CNe.y(e,t)},Y:function(e,t,a,r){const n=NNe(e,r),s=n>0?n:1-n;return"YY"===t?kNe(s%100,2):"Yo"===t?a.ordinalNumber(s,{unit:"year"}):kNe(s,t.length)},R:function(e,t){return kNe(yje(e),t.length)},u:function(e,t){return kNe(e.getFullYear(),t.length)},Q:function(e,t,a){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return kNe(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,a){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return kNe(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,a){const r=e.getMonth();switch(t){case"M":case"MM":return CNe.M(e,t);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,a){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return kNe(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,a,r){const n=SNe(e,r);return"wo"===t?a.ordinalNumber(n,{unit:"week"}):kNe(n,t.length)},I:function(e,t,a){const r=jNe(e);return"Io"===t?a.ordinalNumber(r,{unit:"week"}):kNe(r,t.length)},d:function(e,t,a){return"do"===t?a.ordinalNumber(e.getDate(),{unit:"date"}):CNe.d(e,t)},D:function(e,t,a){const r=wNe(e);return"Do"===t?a.ordinalNumber(r,{unit:"dayOfYear"}):kNe(r,t.length)},E:function(e,t,a){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,a,r){const n=e.getDay(),s=(n-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return kNe(s,2);case"eo":return a.ordinalNumber(s,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,a,r){const n=e.getDay(),s=(n-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return kNe(s,t.length);case"co":return a.ordinalNumber(s,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,a){const r=e.getDay(),n=0===r?7:r;switch(t){case"i":return String(n);case"ii":return kNe(n,t.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,a){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,a){const r=e.getHours();let n;switch(n=12===r?TNe:0===r?ENe:r/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,a){const r=e.getHours();let n;switch(n=r>=17?ANe:r>=12?DNe:r>=4?ONe:PNe,t){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,a){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),a.ordinalNumber(t,{unit:"hour"})}return CNe.h(e,t)},H:function(e,t,a){return"Ho"===t?a.ordinalNumber(e.getHours(),{unit:"hour"}):CNe.H(e,t)},K:function(e,t,a){const r=e.getHours()%12;return"Ko"===t?a.ordinalNumber(r,{unit:"hour"}):kNe(r,t.length)},k:function(e,t,a){let r=e.getHours();return 0===r&&(r=24),"ko"===t?a.ordinalNumber(r,{unit:"hour"}):kNe(r,t.length)},m:function(e,t,a){return"mo"===t?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):CNe.m(e,t)},s:function(e,t,a){return"so"===t?a.ordinalNumber(e.getSeconds(),{unit:"second"}):CNe.s(e,t)},S:function(e,t){return CNe.S(e,t)},X:function(e,t,a){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return INe(r);case"XXXX":case"XX":return FNe(r);default:return FNe(r,":")}},x:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"x":return INe(r);case"xxxx":case"xx":return FNe(r);default:return FNe(r,":")}},O:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+LNe(r,":");default:return"GMT"+FNe(r,":")}},z:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+LNe(r,":");default:return"GMT"+FNe(r,":")}},t:function(e,t,a){return kNe(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,a){return kNe(e.getTime(),t.length)}};function LNe(e,t=""){const a=e>0?"-":"+",r=Math.abs(e),n=Math.trunc(r/60),s=r%60;return 0===s?a+String(n):a+String(n)+t+kNe(s,2)}function INe(e,t){return e%60==0?(e>0?"-":"+")+kNe(Math.abs(e)/60,2):FNe(e,t)}function FNe(e,t=""){const a=e>0?"-":"+",r=Math.abs(e);return a+kNe(Math.trunc(r/60),2)+t+kNe(r%60,2)}const RNe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},$Ne=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},BNe={p:$Ne,P:(e,t)=>{const a=e.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return RNe(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",RNe(r,t)).replace("{{time}}",$Ne(n,t))}},zNe=/^D+$/,UNe=/^Y+$/,HNe=["D","DD","YY","YYYY"];function WNe(e){return zNe.test(e)}function YNe(e){return UNe.test(e)}function qNe(e,t,a){const r=function(e,t,a){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,a);if(console.warn(r),HNe.includes(e))throw new RangeError(r)}const VNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GNe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KNe=/^'([^]*?)'?$/,XNe=/''/g,QNe=/[a-zA-Z]/;function JNe(e,t,a){var r,n,s,l,o,i,d,c,u,m,h,f,p,x,g,b,v,y;const w=gje(),j=null!=(n=null!=(r=null==a?void 0:a.locale)?r:w.locale)?n:yNe,N=null!=(m=null!=(u=null!=(i=null!=(o=null==a?void 0:a.firstWeekContainsDate)?o:null==(l=null==(s=null==a?void 0:a.locale)?void 0:s.options)?void 0:l.firstWeekContainsDate)?i:w.firstWeekContainsDate)?u:null==(c=null==(d=w.locale)?void 0:d.options)?void 0:c.firstWeekContainsDate)?m:1,_=null!=(y=null!=(v=null!=(x=null!=(p=null==a?void 0:a.weekStartsOn)?p:null==(f=null==(h=null==a?void 0:a.locale)?void 0:h.options)?void 0:f.weekStartsOn)?x:w.weekStartsOn)?v:null==(b=null==(g=w.locale)?void 0:g.options)?void 0:b.weekStartsOn)?y:0,S=qwe(e);if(!Rje(S))throw new RangeError("Invalid time value");let k=t.match(GNe).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,BNe[t])(e,j.formatLong):e})).join("").match(VNe).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:ZNe(e)};if(MNe[t])return{isToken:!0,value:e};if(t.match(QNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));j.localize.preprocessor&&(k=j.localize.preprocessor(S,k));const C={firstWeekContainsDate:N,weekStartsOn:_,locale:j};return k.map((r=>{if(!r.isToken)return r.value;const n=r.value;return(!(null==a?void 0:a.useAdditionalWeekYearTokens)&&YNe(n)||!(null==a?void 0:a.useAdditionalDayOfYearTokens)&&WNe(n))&&qNe(n,t,String(e)),(0,MNe[n[0]])(S,n,j.localize,C)})).join("")}function ZNe(e){const t=e.match(KNe);return t?t[1].replace(XNe,"'"):e}function e_e(e,t,a){var r,n;const s=gje(),l=null!=(n=null!=(r=null==a?void 0:a.locale)?r:s.locale)?n:yNe,o=Mje(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const i=Object.assign({},a,{addSuffix:null==a?void 0:a.addSuffix,comparison:o});let d,c;o>0?(d=qwe(t),c=qwe(e)):(d=qwe(e),c=qwe(t));const u=aNe(c,d),m=(jje(c)-jje(d))/1e3,h=Math.round((u-m)/60);let f;if(h<2)return(null==a?void 0:a.includeSeconds)?u<5?l.formatDistance("lessThanXSeconds",5,i):u<10?l.formatDistance("lessThanXSeconds",10,i):u<20?l.formatDistance("lessThanXSeconds",20,i):u<40?l.formatDistance("halfAMinute",0,i):u<60?l.formatDistance("lessThanXMinutes",1,i):l.formatDistance("xMinutes",1,i):0===h?l.formatDistance("lessThanXMinutes",1,i):l.formatDistance("xMinutes",h,i);if(h<45)return l.formatDistance("xMinutes",h,i);if(h<90)return l.formatDistance("aboutXHours",1,i);if(h<cje){const e=Math.round(h/60);return l.formatDistance("aboutXHours",e,i)}if(h<2520)return l.formatDistance("xDays",1,i);if(h<dje){const e=Math.round(h/cje);return l.formatDistance("xDays",e,i)}if(h<86400)return f=Math.round(h/dje),l.formatDistance("aboutXMonths",f,i);if(f=tNe(c,d),f<12){const e=Math.round(h/dje);return l.formatDistance("xMonths",e,i)}{const e=f%12,t=Math.trunc(f/12);return e<3?l.formatDistance("aboutXYears",t,i):e<9?l.formatDistance("overXYears",t,i):l.formatDistance("almostXYears",t+1,i)}}function t_e(e,t,a){var r,n,s;const l=gje(),o=null!=(n=null!=(r=null==a?void 0:a.locale)?r:l.locale)?n:yNe,i=Mje(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const d=Object.assign({},a,{addSuffix:null==a?void 0:a.addSuffix,comparison:i});let c,u;i>0?(c=qwe(t),u=qwe(e)):(c=qwe(e),u=qwe(t));const m=Vje(null!=(s=null==a?void 0:a.roundingMethod)?s:"round"),h=u.getTime()-c.getTime(),f=h/sje,p=(h-(jje(u)-jje(c)))/sje,x=null==a?void 0:a.unit;let g;if(g=x||(f<1?"second":f<60?"minute":f<cje?"hour":p<dje?"day":p<ije?"month":"year"),"second"===g){const e=m(h/1e3);return o.formatDistance("xSeconds",e,d)}if("minute"===g){const e=m(f);return o.formatDistance("xMinutes",e,d)}if("hour"===g){const e=m(f/60);return o.formatDistance("xHours",e,d)}if("day"===g){const e=m(p/cje);return o.formatDistance("xDays",e,d)}if("month"===g){const e=m(p/dje);return 12===e&&"month"!==x?o.formatDistance("xYears",1,d):o.formatDistance("xMonths",e,d)}{const e=m(p/ije);return o.formatDistance("xYears",e,d)}}const a_e=["years","months","weeks","days","hours","minutes","seconds"],r_e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n_e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function s_e(e){return qwe(e).getDate()}function l_e(e){return qwe(e).getDay()}function o_e(e){const t=qwe(e),a=t.getFullYear(),r=t.getMonth(),n=Vwe(e,0);return n.setFullYear(a,r+1,0),n.setHours(0,0,0,0),n.getDate()}function i_e(e){const t=qwe(e).getFullYear();return t%400==0||t%4==0&&t%100!=0}function d_e(){return Object.assign({},gje())}function c_e(e){let t=qwe(e).getDay();return 0===t&&(t=7),t}function u_e(e){const t=qwe(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(0,0,0,0),t}function m_e(e,t){const a=t instanceof Date?Vwe(t,0):new t(0);return a.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),a}let h_e=class{constructor(){f(this,"subPriority",0)}validate(e,t){return!0}},f_e=class extends h_e{constructor(e,t,a,r,n){super(),this.value=e,this.validateValue=t,this.setValue=a,this.priority=r,n&&(this.subPriority=n)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,a){return this.setValue(e,t,this.value,a)}};class p_e extends h_e{constructor(){super(...arguments),f(this,"priority",10),f(this,"subPriority",-1)}set(e,t){return t.timestampIsSet?e:Vwe(e,m_e(e,Date))}}let x_e=class{run(e,t,a,r){const n=this.parse(e,t,a,r);return n?{setter:new f_e(n.value,this.validate,this.set,this.priority,this.subPriority),rest:n.rest}:null}validate(e,t,a){return!0}};const g_e=/^(1[0-2]|0?\d)/,b_e=/^(3[0-1]|[0-2]?\d)/,v_e=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,y_e=/^(5[0-3]|[0-4]?\d)/,w_e=/^(2[0-3]|[0-1]?\d)/,j_e=/^(2[0-4]|[0-1]?\d)/,N_e=/^(1[0-1]|0?\d)/,__e=/^(1[0-2]|0?\d)/,S_e=/^[0-5]?\d/,k_e=/^[0-5]?\d/,C_e=/^\d/,E_e=/^\d{1,2}/,T_e=/^\d{1,3}/,O_e=/^\d{1,4}/,D_e=/^-?\d+/,A_e=/^-?\d/,P_e=/^-?\d{1,2}/,M_e=/^-?\d{1,3}/,L_e=/^-?\d{1,4}/,I_e=/^([+-])(\d{2})(\d{2})?|Z/,F_e=/^([+-])(\d{2})(\d{2})|Z/,R_e=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,$_e=/^([+-])(\d{2}):(\d{2})|Z/,B_e=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function z_e(e,t){return e?{value:t(e.value),rest:e.rest}:e}function U_e(e,t){const a=t.match(e);return a?{value:parseInt(a[0],10),rest:t.slice(a[0].length)}:null}function H_e(e,t){const a=t.match(e);if(!a)return null;if("Z"===a[0])return{value:0,rest:t.slice(1)};const r="+"===a[1]?1:-1,n=a[2]?parseInt(a[2],10):0,s=a[3]?parseInt(a[3],10):0,l=a[5]?parseInt(a[5],10):0;return{value:r*(n*lje+s*sje+l*oje),rest:t.slice(a[0].length)}}function W_e(e){return U_e(D_e,e)}function Y_e(e,t){switch(e){case 1:return U_e(C_e,t);case 2:return U_e(E_e,t);case 3:return U_e(T_e,t);case 4:return U_e(O_e,t);default:return U_e(new RegExp("^\\d{1,"+e+"}"),t)}}function q_e(e,t){switch(e){case 1:return U_e(A_e,t);case 2:return U_e(P_e,t);case 3:return U_e(M_e,t);case 4:return U_e(L_e,t);default:return U_e(new RegExp("^-?\\d{1,"+e+"}"),t)}}function V_e(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function G_e(e,t){const a=t>0,r=a?t:1-t;let n;if(r<=50)n=e||100;else{const t=r+50;n=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return a?n:1-n}function K_e(e){return e%400==0||e%4==0&&e%100!=0}function X_e(e,t,a){const r=qwe(e),n=SNe(r,a)-t;return r.setDate(r.getDate()-7*n),r}function Q_e(e,t){const a=qwe(e),r=jNe(a)-t;return a.setDate(a.getDate()-7*r),a}const J_e=[31,28,31,30,31,30,31,31,30,31,30,31],Z_e=[31,29,31,30,31,30,31,31,30,31,30,31];function eSe(e,t,a){var r,n,s,l,o,i,d,c;const u=gje(),m=null!=(c=null!=(d=null!=(l=null!=(s=null==a?void 0:a.weekStartsOn)?s:null==(n=null==(r=null==a?void 0:a.locale)?void 0:r.options)?void 0:n.weekStartsOn)?l:u.weekStartsOn)?d:null==(i=null==(o=u.locale)?void 0:o.options)?void 0:i.weekStartsOn)?c:0,h=qwe(e),f=h.getDay(),p=7-m;return Gwe(h,t<0||t>6?t-(f+p)%7:((t%7+7)%7+p)%7-(f+p)%7)}function tSe(e,t){const a=qwe(e);return Gwe(a,t-c_e(a))}const aSe={G:new class extends x_e{constructor(){super(...arguments),f(this,"priority",140),f(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,a){switch(t){case"G":case"GG":case"GGG":return a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"});case"GGGGG":return a.era(e,{width:"narrow"});default:return a.era(e,{width:"wide"})||a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"})}}set(e,t,a){return t.era=a,e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},y:new class extends x_e{constructor(){super(...arguments),f(this,"priority",130),f(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,a){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return z_e(Y_e(4,e),r);case"yo":return z_e(a.ordinalNumber(e,{unit:"year"}),r);default:return z_e(Y_e(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a){const r=e.getFullYear();if(a.isTwoDigitYear){const t=G_e(a.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const n="era"in t&&1!==t.era?1-a.year:a.year;return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},Y:new class extends x_e{constructor(){super(...arguments),f(this,"priority",130),f(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,a){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return z_e(Y_e(4,e),r);case"Yo":return z_e(a.ordinalNumber(e,{unit:"year"}),r);default:return z_e(Y_e(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a,r){const n=NNe(e,r);if(a.isTwoDigitYear){const t=G_e(a.year,n);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),bje(e,r)}const s="era"in t&&1!==t.era?1-a.year:a.year;return e.setFullYear(s,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),bje(e,r)}},R:new class extends x_e{constructor(){super(...arguments),f(this,"priority",130),f(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return q_e("R"===t?4:t.length,e)}set(e,t,a){const r=Vwe(e,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),vje(r)}},u:new class extends x_e{constructor(){super(...arguments),f(this,"priority",130),f(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return q_e("u"===t?4:t.length,e)}set(e,t,a){return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Q:new class extends x_e{constructor(){super(...arguments),f(this,"priority",120),f(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"Q":case"QQ":return Y_e(t.length,e);case"Qo":return a.ordinalNumber(e,{unit:"quarter"});case"QQQ":return a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(e,{width:"narrow",context:"formatting"});default:return a.quarter(e,{width:"wide",context:"formatting"})||a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth(3*(a-1),1),e.setHours(0,0,0,0),e}},q:new class extends x_e{constructor(){super(...arguments),f(this,"priority",120),f(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"q":case"qq":return Y_e(t.length,e);case"qo":return a.ordinalNumber(e,{unit:"quarter"});case"qqq":return a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(e,{width:"narrow",context:"standalone"});default:return a.quarter(e,{width:"wide",context:"standalone"})||a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth(3*(a-1),1),e.setHours(0,0,0,0),e}},M:new class extends x_e{constructor(){super(...arguments),f(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),f(this,"priority",110)}parse(e,t,a){const r=e=>e-1;switch(t){case"M":return z_e(U_e(g_e,e),r);case"MM":return z_e(Y_e(2,e),r);case"Mo":return z_e(a.ordinalNumber(e,{unit:"month"}),r);case"MMM":return a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(e,{width:"narrow",context:"formatting"});default:return a.month(e,{width:"wide",context:"formatting"})||a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}},L:new class extends x_e{constructor(){super(...arguments),f(this,"priority",110),f(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,a){const r=e=>e-1;switch(t){case"L":return z_e(U_e(g_e,e),r);case"LL":return z_e(Y_e(2,e),r);case"Lo":return z_e(a.ordinalNumber(e,{unit:"month"}),r);case"LLL":return a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(e,{width:"narrow",context:"standalone"});default:return a.month(e,{width:"wide",context:"standalone"})||a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}},w:new class extends x_e{constructor(){super(...arguments),f(this,"priority",100),f(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,a){switch(t){case"w":return U_e(y_e,e);case"wo":return a.ordinalNumber(e,{unit:"week"});default:return Y_e(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a,r){return bje(X_e(e,a,r),r)}},I:new class extends x_e{constructor(){super(...arguments),f(this,"priority",100),f(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,a){switch(t){case"I":return U_e(y_e,e);case"Io":return a.ordinalNumber(e,{unit:"week"});default:return Y_e(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a){return vje(Q_e(e,a))}},d:new class extends x_e{constructor(){super(...arguments),f(this,"priority",90),f(this,"subPriority",1),f(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"d":return U_e(b_e,e);case"do":return a.ordinalNumber(e,{unit:"date"});default:return Y_e(t.length,e)}}validate(e,t){const a=K_e(e.getFullYear()),r=e.getMonth();return a?t>=1&&t<=Z_e[r]:t>=1&&t<=J_e[r]}set(e,t,a){return e.setDate(a),e.setHours(0,0,0,0),e}},D:new class extends x_e{constructor(){super(...arguments),f(this,"priority",90),f(this,"subpriority",1),f(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,a){switch(t){case"D":case"DD":return U_e(v_e,e);case"Do":return a.ordinalNumber(e,{unit:"date"});default:return Y_e(t.length,e)}}validate(e,t){return K_e(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,a){return e.setMonth(0,a),e.setHours(0,0,0,0),e}},E:new class extends x_e{constructor(){super(...arguments),f(this,"priority",90),f(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"E":case"EE":case"EEE":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,r){return(e=eSe(e,a,r)).setHours(0,0,0,0),e}},e:new class extends x_e{constructor(){super(...arguments),f(this,"priority",90),f(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,a,r){const n=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return z_e(Y_e(t.length,e),n);case"eo":return z_e(a.ordinalNumber(e,{unit:"day"}),n);case"eee":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeeee":return a.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,r){return(e=eSe(e,a,r)).setHours(0,0,0,0),e}},c:new class extends x_e{constructor(){super(...arguments),f(this,"priority",90),f(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,a,r){const n=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return z_e(Y_e(t.length,e),n);case"co":return z_e(a.ordinalNumber(e,{unit:"day"}),n);case"ccc":return a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"ccccc":return a.day(e,{width:"narrow",context:"standalone"});case"cccccc":return a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});default:return a.day(e,{width:"wide",context:"standalone"})||a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,r){return(e=eSe(e,a,r)).setHours(0,0,0,0),e}},i:new class extends x_e{constructor(){super(...arguments),f(this,"priority",90),f(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,a){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return Y_e(t.length,e);case"io":return a.ordinalNumber(e,{unit:"day"});case"iii":return z_e(a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return z_e(a.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return z_e(a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),r);default:return z_e(a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,a){return(e=tSe(e,a)).setHours(0,0,0,0),e}},a:new class extends x_e{constructor(){super(...arguments),f(this,"priority",80),f(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,a){switch(t){case"a":case"aa":case"aaa":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(e,{width:"narrow",context:"formatting"});default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(V_e(a),0,0,0),e}},b:new class extends x_e{constructor(){super(...arguments),f(this,"priority",80),f(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,a){switch(t){case"b":case"bb":case"bbb":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(e,{width:"narrow",context:"formatting"});default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(V_e(a),0,0,0),e}},B:new class extends x_e{constructor(){super(...arguments),f(this,"priority",80),f(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,a){switch(t){case"B":case"BB":case"BBB":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(e,{width:"narrow",context:"formatting"});default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(V_e(a),0,0,0),e}},h:new class extends x_e{constructor(){super(...arguments),f(this,"priority",70),f(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,a){switch(t){case"h":return U_e(__e,e);case"ho":return a.ordinalNumber(e,{unit:"hour"});default:return Y_e(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,a){const r=e.getHours()>=12;return r&&a<12?e.setHours(a+12,0,0,0):r||12!==a?e.setHours(a,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends x_e{constructor(){super(...arguments),f(this,"priority",70),f(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,a){switch(t){case"H":return U_e(w_e,e);case"Ho":return a.ordinalNumber(e,{unit:"hour"});default:return Y_e(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,a){return e.setHours(a,0,0,0),e}},K:new class extends x_e{constructor(){super(...arguments),f(this,"priority",70),f(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,a){switch(t){case"K":return U_e(N_e,e);case"Ko":return a.ordinalNumber(e,{unit:"hour"});default:return Y_e(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.getHours()>=12&&a<12?e.setHours(a+12,0,0,0):e.setHours(a,0,0,0),e}},k:new class extends x_e{constructor(){super(...arguments),f(this,"priority",70),f(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,a){switch(t){case"k":return U_e(j_e,e);case"ko":return a.ordinalNumber(e,{unit:"hour"});default:return Y_e(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,a){const r=a<=24?a%24:a;return e.setHours(r,0,0,0),e}},m:new class extends x_e{constructor(){super(...arguments),f(this,"priority",60),f(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"m":return U_e(S_e,e);case"mo":return a.ordinalNumber(e,{unit:"minute"});default:return Y_e(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setMinutes(a,0,0),e}},s:new class extends x_e{constructor(){super(...arguments),f(this,"priority",50),f(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"s":return U_e(k_e,e);case"so":return a.ordinalNumber(e,{unit:"second"});default:return Y_e(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setSeconds(a,0),e}},S:new class extends x_e{constructor(){super(...arguments),f(this,"priority",30),f(this,"incompatibleTokens",["t","T"])}parse(e,t){return z_e(Y_e(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,a){return e.setMilliseconds(a),e}},X:new class extends x_e{constructor(){super(...arguments),f(this,"priority",10),f(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return H_e(I_e,e);case"XX":return H_e(F_e,e);case"XXXX":return H_e(R_e,e);case"XXXXX":return H_e(B_e,e);default:return H_e($_e,e)}}set(e,t,a){return t.timestampIsSet?e:Vwe(e,e.getTime()-jje(e)-a)}},x:new class extends x_e{constructor(){super(...arguments),f(this,"priority",10),f(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return H_e(I_e,e);case"xx":return H_e(F_e,e);case"xxxx":return H_e(R_e,e);case"xxxxx":return H_e(B_e,e);default:return H_e($_e,e)}}set(e,t,a){return t.timestampIsSet?e:Vwe(e,e.getTime()-jje(e)-a)}},t:new class extends x_e{constructor(){super(...arguments),f(this,"priority",40),f(this,"incompatibleTokens","*")}parse(e){return W_e(e)}set(e,t,a){return[Vwe(e,1e3*a),{timestampIsSet:!0}]}},T:new class extends x_e{constructor(){super(...arguments),f(this,"priority",20),f(this,"incompatibleTokens","*")}parse(e){return W_e(e)}set(e,t,a){return[Vwe(e,a),{timestampIsSet:!0}]}}},rSe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nSe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sSe=/^'([^]*?)'?$/,lSe=/''/g,oSe=/\S/,iSe=/[a-zA-Z]/;function dSe(e,t,a,r){var n,s,l,o,i,d,c,u,m,h,f,p,x,g,b,v,y,w;const j=d_e(),N=null!=(s=null!=(n=null==r?void 0:r.locale)?n:j.locale)?s:yNe,_=null!=(h=null!=(m=null!=(d=null!=(i=null==r?void 0:r.firstWeekContainsDate)?i:null==(o=null==(l=null==r?void 0:r.locale)?void 0:l.options)?void 0:o.firstWeekContainsDate)?d:j.firstWeekContainsDate)?m:null==(u=null==(c=j.locale)?void 0:c.options)?void 0:u.firstWeekContainsDate)?h:1,S=null!=(w=null!=(y=null!=(g=null!=(x=null==r?void 0:r.weekStartsOn)?x:null==(p=null==(f=null==r?void 0:r.locale)?void 0:f.options)?void 0:p.weekStartsOn)?g:j.weekStartsOn)?y:null==(v=null==(b=j.locale)?void 0:b.options)?void 0:v.weekStartsOn)?w:0;if(""===t)return""===e?qwe(a):Vwe(a,NaN);const k={firstWeekContainsDate:_,weekStartsOn:S,locale:N},C=[new p_e],E=t.match(nSe).map((e=>{const t=e[0];return t in BNe?(0,BNe[t])(e,N.formatLong):e})).join("").match(rSe),T=[];for(let P of E){!(null==r?void 0:r.useAdditionalWeekYearTokens)&&YNe(P)&&qNe(P,t,e),!(null==r?void 0:r.useAdditionalDayOfYearTokens)&&WNe(P)&&qNe(P,t,e);const n=P[0],s=aSe[n];if(s){const{incompatibleTokens:t}=s;if(Array.isArray(t)){const e=T.find((e=>t.includes(e.token)||e.token===n));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${P}\` at the same time`)}else if("*"===s.incompatibleTokens&&T.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);T.push({token:n,fullToken:P});const r=s.run(e,P,N.match,k);if(!r)return Vwe(a,NaN);C.push(r.setter),e=r.rest}else{if(n.match(iSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===P?P="'":"'"===n&&(P=P.match(sSe)[1].replace(lSe,"'")),0!==e.indexOf(P))return Vwe(a,NaN);e=e.slice(P.length)}}if(e.length>0&&oSe.test(e))return Vwe(a,NaN);const O=C.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,a)=>a.indexOf(e)===t)).map((e=>C.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let D=qwe(a);if(isNaN(D.getTime()))return Vwe(a,NaN);const A={};for(const P of O){if(!P.validate(D,k))return Vwe(a,NaN);const e=P.set(D,A,k);Array.isArray(e)?(D=e[0],Object.assign(A,e[1])):D=e}return Vwe(a,D)}function cSe(e){const t=qwe(e);return t.setMinutes(0,0,0),t}function uSe(e,t){return+cSe(e)==+cSe(t)}function mSe(e,t,a){return+bje(e,a)==+bje(t,a)}function hSe(e,t){return mSe(e,t,{weekStartsOn:1})}function fSe(e,t){return+sNe(e)==+sNe(t)}function pSe(e,t){const a=qwe(e),r=qwe(t);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()}function xSe(e,t){return+lNe(e)==+lNe(t)}function gSe(e){const t=qwe(e);return t.setMilliseconds(0),t}function bSe(e,t){return+gSe(e)==+gSe(t)}function vSe(e,t){const a=qwe(e),r=qwe(t);return a.getFullYear()===r.getFullYear()}function ySe(e,t){return Gwe(e,-t)}function wSe(e,t){var a,r,n,s,l,o,i,d;const c=gje(),u=null!=(d=null!=(i=null!=(s=null!=(n=null==t?void 0:t.weekStartsOn)?n:null==(r=null==(a=null==t?void 0:t.locale)?void 0:a.options)?void 0:r.weekStartsOn)?s:c.weekStartsOn)?i:null==(o=null==(l=c.locale)?void 0:l.options)?void 0:o.weekStartsOn)?d:0,m=qwe(e),h=m.getDay(),f=6+(h<u?-7:0)-(h-u);return m.setHours(0,0,0,0),m.setDate(m.getDate()+f),m}const jSe=/(\w)\1*|''|'(''|[^'])+('|$)|./g,NSe=/^'([^]*?)'?$/,_Se=/''/g,SSe=/[a-zA-Z]/;function kSe(e,t){let a=t-l_e(e);return a<=0&&(a+=7),Gwe(e,a)}const CSe={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ESe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,TSe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,OSe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function DSe(e){return e?parseInt(e):1}function ASe(e){return e&&parseFloat(e.replace(",","."))||0}const PSe=[31,null,31,30,31,30,31,31,30,31,30,31];function MSe(e){return e%400==0||e%4==0&&e%100!=0}function LSe(e,t){let a=l_e(e)-t;return a<=0&&(a+=7),ySe(e,a)}function ISe(e,t){const a=qwe(e),r=a.getFullYear(),n=a.getDate(),s=Vwe(e,0);s.setFullYear(r,t,15),s.setHours(0,0,0,0);const l=o_e(s);return a.setMonth(t,Math.min(n,l)),a}function FSe(e,t){return Kwe(e,-t)}const RSe=Object.freeze(Object.defineProperty({__proto__:null,add:Xwe,addBusinessDays:eje,addDays:Gwe,addHours:pje,addISOWeekYears:kje,addMilliseconds:tje,addMinutes:Cje,addMonths:Kwe,addQuarters:Eje,addSeconds:Tje,addWeeks:Oje,addYears:Dje,areIntervalsOverlapping:function(e,t,a){const[r,n]=[+qwe(e.start),+qwe(e.end)].sort(((e,t)=>e-t)),[s,l]=[+qwe(t.start),+qwe(t.end)].sort(((e,t)=>e-t));return(null==a?void 0:a.inclusive)?r<=l&&s<=n:r<l&&s<n},clamp:function(e,t){return Pje([Aje([e,t.start]),t.end])},closestIndexTo:function(e,t){const a=qwe(e);if(isNaN(Number(a)))return NaN;const r=a.getTime();let n,s;return t.forEach((function(e,t){const a=qwe(e);if(isNaN(Number(a)))return n=NaN,void(s=NaN);const l=Math.abs(r-a.getTime());(null==n||l<s)&&(n=t,s=l)})),n},closestTo:function(e,t){const a=qwe(e);if(isNaN(Number(a)))return Vwe(e,NaN);const r=a.getTime();let n,s;return t.forEach((t=>{const a=qwe(t);if(isNaN(Number(a)))return n=Vwe(e,NaN),void(s=NaN);const l=Math.abs(r-a.getTime());(null==n||l<s)&&(n=a,s=l)})),n},compareAsc:Mje,compareDesc:function(e,t){const a=qwe(e),r=qwe(t),n=a.getTime()-r.getTime();return n>0?-1:n<0?1:n},constructFrom:Vwe,constructNow:Lje,daysToWeeks:function(e){const t=e/7,a=Math.trunc(t);return 0===a?0:a},differenceInBusinessDays:function(e,t){const a=qwe(e);let r=qwe(t);if(!Rje(a)||!Rje(r))return NaN;const n=Nje(a,r),s=n<0?-1:1,l=Math.trunc(n/7);let o=5*l;for(r=Gwe(r,7*l);!Ije(a,r);)o+=Zwe(r)?0:s,r=Gwe(r,s);return 0===o?0:o},differenceInCalendarDays:Nje,differenceInCalendarISOWeekYears:$je,differenceInCalendarISOWeeks:function(e,t){const a=vje(e),r=vje(t),n=+a-jje(a),s=+r-jje(r);return Math.round((n-s)/rje)},differenceInCalendarMonths:Bje,differenceInCalendarQuarters:Uje,differenceInCalendarWeeks:Hje,differenceInCalendarYears:Wje,differenceInDays:Yje,differenceInHours:Kje,differenceInISOWeekYears:function(e,t){let a=qwe(e);const r=qwe(t),n=Mje(a,r),s=Math.abs($je(a,r));a=Xje(a,n*s);const l=n*(s-Number(Mje(a,r)===-n));return 0===l?0:l},differenceInMilliseconds:Gje,differenceInMinutes:Qje,differenceInMonths:tNe,differenceInQuarters:function(e,t,a){const r=tNe(e,t)/3;return Vje(null==a?void 0:a.roundingMethod)(r)},differenceInSeconds:aNe,differenceInWeeks:function(e,t,a){const r=Yje(e,t)/7;return Vje(null==a?void 0:a.roundingMethod)(r)},differenceInYears:rNe,eachDayOfInterval:nNe,eachHourOfInterval:function(e,t){var a;const r=qwe(e.start),n=qwe(e.end);let s=+r>+n;const l=s?+r:+n;let o=s?n:r;o.setMinutes(0,0,0);let i=null!=(a=null==t?void 0:t.step)?a:1;if(!i)return[];i<0&&(i=-i,s=!s);const d=[];for(;+o<=l;)d.push(qwe(o)),o=pje(o,i);return s?d.reverse():d},eachMinuteOfInterval:function(e,t){var a;const r=sNe(qwe(e.start)),n=qwe(e.end);let s=+r>+n;const l=s?+r:+n;let o=s?n:r,i=null!=(a=null==t?void 0:t.step)?a:1;if(!i)return[];i<0&&(i=-i,s=!s);const d=[];for(;+o<=l;)d.push(qwe(o)),o=Cje(o,i);return s?d.reverse():d},eachMonthOfInterval:function(e,t){var a;const r=qwe(e.start),n=qwe(e.end);let s=+r>+n;const l=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0),o.setDate(1);let i=null!=(a=null==t?void 0:t.step)?a:1;if(!i)return[];i<0&&(i=-i,s=!s);const d=[];for(;+o<=l;)d.push(qwe(o)),o.setMonth(o.getMonth()+i);return s?d.reverse():d},eachQuarterOfInterval:function(e,t){var a;const r=qwe(e.start),n=qwe(e.end);let s=+r>+n;const l=s?+lNe(r):+lNe(n);let o=lNe(s?n:r),i=null!=(a=null==t?void 0:t.step)?a:1;if(!i)return[];i<0&&(i=-i,s=!s);const d=[];for(;+o<=l;)d.push(qwe(o)),o=Eje(o,i);return s?d.reverse():d},eachWeekOfInterval:function(e,t){var a;const r=qwe(e.start),n=qwe(e.end);let s=+r>+n;const l=bje(s?n:r,t),o=bje(s?r:n,t);l.setHours(15),o.setHours(15);const i=+o.getTime();let d=l,c=null!=(a=null==t?void 0:t.step)?a:1;if(!c)return[];c<0&&(c=-c,s=!s);const u=[];for(;+d<=i;)d.setHours(0),u.push(qwe(d)),d=Oje(d,c),d.setHours(15);return s?u.reverse():u},eachWeekendOfInterval:oNe,eachWeekendOfMonth:function(e){return oNe({start:iNe(e),end:Zje(e)})},eachWeekendOfYear:function(e){return oNe({start:cNe(e),end:dNe(e)})},eachYearOfInterval:function(e,t){var a;const r=qwe(e.start),n=qwe(e.end);let s=+r>+n;const l=s?+r:+n,o=s?n:r;o.setHours(0,0,0,0),o.setMonth(0,1);let i=null!=(a=null==t?void 0:t.step)?a:1;if(!i)return[];i<0&&(i=-i,s=!s);const d=[];for(;+o<=l;)d.push(qwe(o)),o.setFullYear(o.getFullYear()+i);return s?d.reverse():d},endOfDay:Jje,endOfDecade:function(e){const t=qwe(e),a=t.getFullYear(),r=9+10*Math.floor(a/10);return t.setFullYear(r,11,31),t.setHours(23,59,59,999),t},endOfHour:function(e){const t=qwe(e);return t.setMinutes(59,59,999),t},endOfISOWeek:function(e){return uNe(e,{weekStartsOn:1})},endOfISOWeekYear:function(e){const t=yje(e),a=Vwe(e,0);a.setFullYear(t+1,0,4),a.setHours(0,0,0,0);const r=vje(a);return r.setMilliseconds(r.getMilliseconds()-1),r},endOfMinute:function(e){const t=qwe(e);return t.setSeconds(59,999),t},endOfMonth:Zje,endOfQuarter:mNe,endOfSecond:function(e){const t=qwe(e);return t.setMilliseconds(999),t},endOfToday:function(){return Jje(Date.now())},endOfTomorrow:function(){const e=new Date,t=e.getFullYear(),a=e.getMonth(),r=e.getDate(),n=new Date(0);return n.setFullYear(t,a,r+1),n.setHours(23,59,59,999),n},endOfWeek:uNe,endOfYear:dNe,endOfYesterday:function(){const e=new Date,t=e.getFullYear(),a=e.getMonth(),r=e.getDate(),n=new Date(0);return n.setFullYear(t,a,r-1),n.setHours(23,59,59,999),n},format:JNe,formatDate:JNe,formatDistance:e_e,formatDistanceStrict:t_e,formatDistanceToNow:function(e,t){return e_e(e,Lje(e),t)},formatDistanceToNowStrict:function(e,t){return t_e(e,Lje(e),t)},formatDuration:function(e,t){var a,r,n,s,l;const o=gje(),i=null!=(r=null!=(a=null==t?void 0:t.locale)?a:o.locale)?r:yNe,d=null!=(n=null==t?void 0:t.format)?n:a_e,c=null!=(s=null==t?void 0:t.zero)&&s,u=null!=(l=null==t?void 0:t.delimiter)?l:" ";return i.formatDistance?d.reduce(((t,a)=>{const r=`x${a.replace(/(^.)/,(e=>e.toUpperCase()))}`,n=e[a];return void 0!==n&&(c||e[a])?t.concat(i.formatDistance(r,n)):t}),[]).join(u):""},formatISO:function(e,t){var a,r;const n=qwe(e);if(isNaN(n.getTime()))throw new RangeError("Invalid time value");const s=null!=(a=null==t?void 0:t.format)?a:"extended",l=null!=(r=null==t?void 0:t.representation)?r:"complete";let o="",i="";const d="extended"===s?"-":"",c="extended"===s?":":"";if("time"!==l){const e=kNe(n.getDate(),2),t=kNe(n.getMonth()+1,2);o=`${kNe(n.getFullYear(),4)}${d}${t}${d}${e}`}if("date"!==l){const e=n.getTimezoneOffset();if(0!==e){const t=Math.abs(e);i=`${e<0?"+":"-"}${kNe(Math.trunc(t/60),2)}:${kNe(t%60,2)}`}else i="Z";o=`${o}${""===o?"":"T"}${[kNe(n.getHours(),2),kNe(n.getMinutes(),2),kNe(n.getSeconds(),2)].join(c)}${i}`}return o},formatISO9075:function(e,t){var a,r;const n=qwe(e);if(!Rje(n))throw new RangeError("Invalid time value");const s=null!=(a=null==t?void 0:t.format)?a:"extended",l=null!=(r=null==t?void 0:t.representation)?r:"complete";let o="";const i="extended"===s?"-":"",d="extended"===s?":":"";if("time"!==l){const e=kNe(n.getDate(),2),t=kNe(n.getMonth()+1,2);o=`${kNe(n.getFullYear(),4)}${i}${t}${i}${e}`}return"date"!==l&&(o=`${o}${""===o?"":" "}${kNe(n.getHours(),2)}${d}${kNe(n.getMinutes(),2)}${d}${kNe(n.getSeconds(),2)}`),o},formatISODuration:function(e){const{years:t=0,months:a=0,days:r=0,hours:n=0,minutes:s=0,seconds:l=0}=e;return`P${t}Y${a}M${r}DT${n}H${s}M${l}S`},formatRFC3339:function(e,t){var a;const r=qwe(e);if(!Rje(r))throw new RangeError("Invalid time value");const n=null!=(a=null==t?void 0:t.fractionDigits)?a:0,s=kNe(r.getDate(),2),l=kNe(r.getMonth()+1,2),o=r.getFullYear(),i=kNe(r.getHours(),2),d=kNe(r.getMinutes(),2),c=kNe(r.getSeconds(),2);let u="";if(n>0){const e=r.getMilliseconds();u="."+kNe(Math.trunc(e*Math.pow(10,n-3)),n)}let m="";const h=r.getTimezoneOffset();if(0!==h){const e=Math.abs(h);m=`${h<0?"+":"-"}${kNe(Math.trunc(e/60),2)}:${kNe(e%60,2)}`}else m="Z";return`${o}-${l}-${s}T${i}:${d}:${c}${u}${m}`},formatRFC7231:function(e){const t=qwe(e);if(!Rje(t))throw new RangeError("Invalid time value");return`${r_e[t.getUTCDay()]}, ${kNe(t.getUTCDate(),2)} ${n_e[t.getUTCMonth()]} ${t.getUTCFullYear()} ${kNe(t.getUTCHours(),2)}:${kNe(t.getUTCMinutes(),2)}:${kNe(t.getUTCSeconds(),2)} GMT`},formatRelative:function(e,t,a){var r,n,s,l,o,i,d,c,u,m;const h=qwe(e),f=qwe(t),p=gje(),x=null!=(n=null!=(r=null==a?void 0:a.locale)?r:p.locale)?n:yNe,g=null!=(m=null!=(u=null!=(i=null!=(o=null==a?void 0:a.weekStartsOn)?o:null==(l=null==(s=null==a?void 0:a.locale)?void 0:s.options)?void 0:l.weekStartsOn)?i:p.weekStartsOn)?u:null==(c=null==(d=p.locale)?void 0:d.options)?void 0:c.weekStartsOn)?m:0,b=Nje(h,f);if(isNaN(b))throw new RangeError("Invalid time value");let v;return v=b<-6?"other":b<-1?"lastWeek":b<0?"yesterday":b<1?"today":b<2?"tomorrow":b<7?"nextWeek":"other",JNe(h,x.formatRelative(v,h,f,{locale:x,weekStartsOn:g}),{locale:x,weekStartsOn:g})},formatters:MNe,fromUnixTime:function(e){return qwe(1e3*e)},getDate:s_e,getDay:l_e,getDayOfYear:wNe,getDaysInMonth:o_e,getDaysInYear:function(e){const t=qwe(e);return"Invalid Date"===String(new Date(t))?NaN:i_e(t)?366:365},getDecade:function(e){const t=qwe(e).getFullYear();return 10*Math.floor(t/10)},getDefaultOptions:d_e,getHours:function(e){return qwe(e).getHours()},getISODay:c_e,getISOWeek:jNe,getISOWeekYear:yje,getISOWeeksInYear:function(e){const t=_je(e),a=+_je(Oje(t,60))-+t;return Math.round(a/rje)},getMilliseconds:function(e){return qwe(e).getMilliseconds()},getMinutes:function(e){return qwe(e).getMinutes()},getMonth:function(e){return qwe(e).getMonth()},getOverlappingDaysInIntervals:function(e,t){const[a,r]=[+qwe(e.start),+qwe(e.end)].sort(((e,t)=>e-t)),[n,s]=[+qwe(t.start),+qwe(t.end)].sort(((e,t)=>e-t));if(!(a<s&&n<r))return 0;const l=n<a?a:n,o=l-jje(l),i=s>r?r:s,d=i-jje(i);return Math.ceil((d-o)/nje)},getQuarter:zje,getSeconds:function(e){return qwe(e).getSeconds()},getTime:function(e){return qwe(e).getTime()},getUnixTime:function(e){return Math.trunc(+qwe(e)/1e3)},getWeek:SNe,getWeekOfMonth:function(e,t){var a,r,n,s,l,o,i,d;const c=gje(),u=null!=(d=null!=(i=null!=(s=null!=(n=null==t?void 0:t.weekStartsOn)?n:null==(r=null==(a=null==t?void 0:t.locale)?void 0:a.options)?void 0:r.weekStartsOn)?s:c.weekStartsOn)?i:null==(o=null==(l=c.locale)?void 0:l.options)?void 0:o.weekStartsOn)?d:0,m=s_e(e);if(isNaN(m))return NaN;let h=u-l_e(iNe(e));h<=0&&(h+=7);const f=m-h;return Math.ceil(f/7)+1},getWeekYear:NNe,getWeeksInMonth:function(e,t){return Hje(u_e(e),iNe(e),t)+1},getYear:function(e){return qwe(e).getFullYear()},hoursToMilliseconds:function(e){return Math.trunc(e*lje)},hoursToMinutes:function(e){return Math.trunc(60*e)},hoursToSeconds:function(e){return Math.trunc(e*uje)},interval:function(e,t,a){const r=qwe(e);if(isNaN(+r))throw new TypeError("Start date is invalid");const n=qwe(t);if(isNaN(+n))throw new TypeError("End date is invalid");if((null==a?void 0:a.assertPositive)&&+r>+n)throw new TypeError("End date must be after start date");return{start:r,end:n}},intervalToDuration:function(e){const t=qwe(e.start),a=qwe(e.end),r={},n=rNe(a,t);n&&(r.years=n);const s=Xwe(t,{years:r.years}),l=tNe(a,s);l&&(r.months=l);const o=Xwe(s,{months:r.months}),i=Yje(a,o);i&&(r.days=i);const d=Xwe(o,{days:r.days}),c=Kje(a,d);c&&(r.hours=c);const u=Xwe(d,{hours:r.hours}),m=Qje(a,u);m&&(r.minutes=m);const h=aNe(a,Xwe(u,{minutes:r.minutes}));return h&&(r.seconds=h),r},intlFormat:function(e,t,a){let r;var n;return void 0===(n=t)||"locale"in n?a=t:r=t,new Intl.DateTimeFormat(null==a?void 0:a.locale,r).format(qwe(e))},intlFormatDistance:function(e,t,a){let r,n=0;const s=qwe(e),l=qwe(t);if(null==a?void 0:a.unit)r=null==a?void 0:a.unit,"second"===r?n=aNe(s,l):"minute"===r?n=Qje(s,l):"hour"===r?n=Kje(s,l):"day"===r?n=Nje(s,l):"week"===r?n=Hje(s,l):"month"===r?n=Bje(s,l):"quarter"===r?n=Uje(s,l):"year"===r&&(n=Wje(s,l));else{const e=aNe(s,l);Math.abs(e)<60?(n=aNe(s,l),r="second"):Math.abs(e)<uje?(n=Qje(s,l),r="minute"):Math.abs(e)<mje&&Math.abs(Nje(s,l))<1?(n=Kje(s,l),r="hour"):Math.abs(e)<604800&&(n=Nje(s,l))&&Math.abs(n)<7?r="day":Math.abs(e)<fje?(n=Hje(s,l),r="week"):Math.abs(e)<7889238?(n=Bje(s,l),r="month"):Math.abs(e)<hje&&Uje(s,l)<4?(n=Uje(s,l),r="quarter"):(n=Wje(s,l),r="year")}return new Intl.RelativeTimeFormat(null==a?void 0:a.locale,{localeMatcher:null==a?void 0:a.localeMatcher,numeric:(null==a?void 0:a.numeric)||"auto",style:null==a?void 0:a.style}).format(n,r)},isAfter:function(e,t){const a=qwe(e),r=qwe(t);return a.getTime()>r.getTime()},isBefore:function(e,t){return+qwe(e)<+qwe(t)},isDate:Fje,isEqual:function(e,t){return+qwe(e)==+qwe(t)},isExists:function(e,t,a){const r=new Date(e,t,a);return r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===a},isFirstDayOfMonth:function(e){return 1===qwe(e).getDate()},isFriday:function(e){return 5===qwe(e).getDay()},isFuture:function(e){return+qwe(e)>Date.now()},isLastDayOfMonth:eNe,isLeapYear:i_e,isMatch:function(e,t,a){return Rje(dSe(e,t,new Date,a))},isMonday:function(e){return 1===qwe(e).getDay()},isPast:function(e){return+qwe(e)<Date.now()},isSameDay:Ije,isSameHour:uSe,isSameISOWeek:hSe,isSameISOWeekYear:function(e,t){return+_je(e)==+_je(t)},isSameMinute:fSe,isSameMonth:pSe,isSameQuarter:xSe,isSameSecond:bSe,isSameWeek:mSe,isSameYear:vSe,isSaturday:Qwe,isSunday:Jwe,isThisHour:function(e){return uSe(e,Lje(e))},isThisISOWeek:function(e){return hSe(e,Lje(e))},isThisMinute:function(e){return fSe(e,Lje(e))},isThisMonth:function(e){return pSe(e,Lje(e))},isThisQuarter:function(e){return xSe(e,Lje(e))},isThisSecond:function(e){return bSe(e,Lje(e))},isThisWeek:function(e,t){return mSe(e,Lje(e),t)},isThisYear:function(e){return vSe(e,Lje(e))},isThursday:function(e){return 4===qwe(e).getDay()},isToday:function(e){return Ije(e,Lje(e))},isTomorrow:function(e){return Ije(e,Gwe(Lje(e),1))},isTuesday:function(e){return 2===qwe(e).getDay()},isValid:Rje,isWednesday:function(e){return 3===qwe(e).getDay()},isWeekend:Zwe,isWithinInterval:function(e,t){const a=+qwe(e),[r,n]=[+qwe(t.start),+qwe(t.end)].sort(((e,t)=>e-t));return a>=r&&a<=n},isYesterday:function(e){return Ije(e,ySe(Lje(e),1))},lastDayOfDecade:function(e){const t=qwe(e),a=t.getFullYear(),r=9+10*Math.floor(a/10);return t.setFullYear(r+1,0,0),t.setHours(0,0,0,0),t},lastDayOfISOWeek:function(e){return wSe(e,{weekStartsOn:1})},lastDayOfISOWeekYear:function(e){const t=yje(e),a=Vwe(e,0);a.setFullYear(t+1,0,4),a.setHours(0,0,0,0);const r=vje(a);return r.setDate(r.getDate()-1),r},lastDayOfMonth:u_e,lastDayOfQuarter:function(e){const t=qwe(e),a=t.getMonth(),r=a-a%3+3;return t.setMonth(r,0),t.setHours(0,0,0,0),t},lastDayOfWeek:wSe,lastDayOfYear:function(e){const t=qwe(e),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(0,0,0,0),t},lightFormat:function(e,t){const a=qwe(e);if(!Rje(a))throw new RangeError("Invalid time value");const r=t.match(jSe);return r?r.map((e=>{if("''"===e)return"'";const t=e[0];if("'"===t)return function(e){const t=e.match(NSe);return t?t[1].replace(_Se,"'"):e}(e);const r=CNe[t];if(r)return r(a,e);if(t.match(SSe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join(""):""},lightFormatters:CNe,longFormatters:BNe,max:Aje,milliseconds:function({years:e,months:t,weeks:a,days:r,hours:n,minutes:s,seconds:l}){let o=0;e&&(o+=e*aje),t&&(o+=30.436875*t),a&&(o+=7*a),r&&(o+=r);let i=24*o*60*60;return n&&(i+=60*n*60),s&&(i+=60*s),l&&(i+=l),Math.trunc(1e3*i)},millisecondsToHours:function(e){const t=e/lje;return Math.trunc(t)},millisecondsToMinutes:function(e){const t=e/sje;return Math.trunc(t)},millisecondsToSeconds:function(e){const t=e/oje;return Math.trunc(t)},min:Pje,minutesToHours:function(e){const t=e/60;return Math.trunc(t)},minutesToMilliseconds:function(e){return Math.trunc(e*sje)},minutesToSeconds:function(e){return Math.trunc(60*e)},monthsToQuarters:function(e){const t=e/3;return Math.trunc(t)},monthsToYears:function(e){const t=e/12;return Math.trunc(t)},nextDay:kSe,nextFriday:function(e){return kSe(e,5)},nextMonday:function(e){return kSe(e,1)},nextSaturday:function(e){return kSe(e,6)},nextSunday:function(e){return kSe(e,0)},nextThursday:function(e){return kSe(e,4)},nextTuesday:function(e){return kSe(e,2)},nextWednesday:function(e){return kSe(e,3)},parse:dSe,parseISO:function(e,t){var a;const r=null!=(a=null==t?void 0:t.additionalDigits)?a:2,n=function(e){const t={},a=e.split(CSe.dateTimeDelimiter);let r;if(a.length>2)return t;if(/:/.test(a[0])?r=a[0]:(t.date=a[0],r=a[1],CSe.timeZoneDelimiter.test(t.date)&&(t.date=e.split(CSe.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const e=CSe.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let s;if(n.date){const e=function(e,t){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(a);if(!r)return{year:NaN,restDateString:""};const n=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?n:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(n.date,r);s=function(e,t){if(null===t)return new Date(NaN);const a=e.match(ESe);if(!a)return new Date(NaN);const r=!!a[4],n=DSe(a[1]),s=DSe(a[2])-1,l=DSe(a[3]),o=DSe(a[4]),i=DSe(a[5])-1;if(r)return function(e,t,a){return t>=1&&t<=53&&a>=0&&a<=6}(0,o,i)?function(e,t,a){const r=new Date(0);r.setUTCFullYear(e,0,4);const n=r.getUTCDay()||7,s=7*(t-1)+a+1-n;return r.setUTCDate(r.getUTCDate()+s),r}(t,o,i):new Date(NaN);{const e=new Date(0);return function(e,t,a){return t>=0&&t<=11&&a>=1&&a<=(PSe[t]||(MSe(e)?29:28))}(t,s,l)&&function(e,t){return t>=1&&t<=(MSe(e)?366:365)}(t,n)?(e.setUTCFullYear(t,s,Math.max(n,l)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const l=s.getTime();let o,i=0;if(n.time&&(i=function(e){const t=e.match(TSe);if(!t)return NaN;const a=ASe(t[1]),r=ASe(t[2]),n=ASe(t[3]);return function(e,t,a){return 24===e?0===t&&0===a:a>=0&&a<60&&t>=0&&t<60&&e>=0&&e<25}(a,r,n)?a*lje+r*sje+1e3*n:NaN}(n.time),isNaN(i)))return new Date(NaN);if(!n.timezone){const e=new Date(l+i),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return o=function(e){if("Z"===e)return 0;const t=e.match(OSe);if(!t)return 0;const a="+"===t[1]?-1:1,r=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,n)?a*(r*lje+n*sje):NaN}(n.timezone),isNaN(o)?new Date(NaN):new Date(l+i+o)},parseJSON:function(e){const t=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return t?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4]-(+t[9]||0)*("-"==t[8]?-1:1),+t[5]-(+t[10]||0)*("-"==t[8]?-1:1),+t[6],+((t[7]||"0")+"00").substring(0,3))):new Date(NaN)},parsers:aSe,previousDay:LSe,previousFriday:function(e){return LSe(e,5)},previousMonday:function(e){return LSe(e,1)},previousSaturday:function(e){return LSe(e,6)},previousSunday:function(e){return LSe(e,0)},previousThursday:function(e){return LSe(e,4)},previousTuesday:function(e){return LSe(e,2)},previousWednesday:function(e){return LSe(e,3)},quartersToMonths:function(e){return Math.trunc(3*e)},quartersToYears:function(e){const t=e/4;return Math.trunc(t)},roundToNearestHours:function(e,t){var a,r;const n=null!=(a=null==t?void 0:t.nearestTo)?a:1;if(n<1||n>12)return Vwe(e,NaN);const s=qwe(e),l=s.getMinutes()/60,o=s.getSeconds()/60/60,i=s.getMilliseconds()/1e3/60/60,d=s.getHours()+l+o+i,c=Vje(null!=(r=null==t?void 0:t.roundingMethod)?r:"round")(d/n)*n,u=Vwe(e,s);return u.setHours(c,0,0,0),u},roundToNearestMinutes:function(e,t){var a,r;const n=null!=(a=null==t?void 0:t.nearestTo)?a:1;if(n<1||n>30)return Vwe(e,NaN);const s=qwe(e),l=s.getSeconds()/60,o=s.getMilliseconds()/1e3/60,i=s.getMinutes()+l+o,d=Vje(null!=(r=null==t?void 0:t.roundingMethod)?r:"round")(i/n)*n,c=Vwe(e,s);return c.setMinutes(d,0,0),c},secondsToHours:function(e){const t=e/uje;return Math.trunc(t)},secondsToMilliseconds:function(e){return e*oje},secondsToMinutes:function(e){const t=e/60;return Math.trunc(t)},set:function(e,t){let a=qwe(e);return isNaN(+a)?Vwe(e,NaN):(null!=t.year&&a.setFullYear(t.year),null!=t.month&&(a=ISe(a,t.month)),null!=t.date&&a.setDate(t.date),null!=t.hours&&a.setHours(t.hours),null!=t.minutes&&a.setMinutes(t.minutes),null!=t.seconds&&a.setSeconds(t.seconds),null!=t.milliseconds&&a.setMilliseconds(t.milliseconds),a)},setDate:function(e,t){const a=qwe(e);return a.setDate(t),a},setDay:eSe,setDayOfYear:function(e,t){const a=qwe(e);return a.setMonth(0),a.setDate(t),a},setDefaultOptions:function(e){const t={},a=gje();for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(void 0===e[r]?delete t[r]:t[r]=e[r]);xje=t},setHours:function(e,t){const a=qwe(e);return a.setHours(t),a},setISODay:tSe,setISOWeek:Q_e,setISOWeekYear:Sje,setMilliseconds:function(e,t){const a=qwe(e);return a.setMilliseconds(t),a},setMinutes:function(e,t){const a=qwe(e);return a.setMinutes(t),a},setMonth:ISe,setQuarter:function(e,t){const a=qwe(e),r=t-(Math.trunc(a.getMonth()/3)+1);return ISe(a,a.getMonth()+3*r)},setSeconds:function(e,t){const a=qwe(e);return a.setSeconds(t),a},setWeek:X_e,setWeekYear:function(e,t,a){var r,n,s,l,o,i,d,c;const u=gje(),m=null!=(c=null!=(d=null!=(l=null!=(s=null==a?void 0:a.firstWeekContainsDate)?s:null==(n=null==(r=null==a?void 0:a.locale)?void 0:r.options)?void 0:n.firstWeekContainsDate)?l:u.firstWeekContainsDate)?d:null==(i=null==(o=u.locale)?void 0:o.options)?void 0:i.firstWeekContainsDate)?c:1;let h=qwe(e);const f=Nje(h,_Ne(h,a)),p=Vwe(e,0);return p.setFullYear(t,0,m),p.setHours(0,0,0,0),h=_Ne(p,a),h.setDate(h.getDate()+f),h},setYear:function(e,t){const a=qwe(e);return isNaN(+a)?Vwe(e,NaN):(a.setFullYear(t),a)},startOfDay:wje,startOfDecade:function(e){const t=qwe(e),a=t.getFullYear(),r=10*Math.floor(a/10);return t.setFullYear(r,0,1),t.setHours(0,0,0,0),t},startOfHour:cSe,startOfISOWeek:vje,startOfISOWeekYear:_je,startOfMinute:sNe,startOfMonth:iNe,startOfQuarter:lNe,startOfSecond:gSe,startOfToday:function(){return wje(Date.now())},startOfTomorrow:function(){const e=new Date,t=e.getFullYear(),a=e.getMonth(),r=e.getDate(),n=new Date(0);return n.setFullYear(t,a,r+1),n.setHours(0,0,0,0),n},startOfWeek:bje,startOfWeekYear:_Ne,startOfYear:cNe,startOfYesterday:function(){const e=new Date,t=e.getFullYear(),a=e.getMonth(),r=e.getDate(),n=new Date(0);return n.setFullYear(t,a,r-1),n.setHours(0,0,0,0),n},sub:function(e,t){const{years:a=0,months:r=0,weeks:n=0,days:s=0,hours:l=0,minutes:o=0,seconds:i=0}=t,d=1e3*(i+60*(o+60*l));return Vwe(e,ySe(FSe(e,r+12*a),s+7*n).getTime()-d)},subBusinessDays:function(e,t){return eje(e,-t)},subDays:ySe,subHours:function(e,t){return pje(e,-t)},subISOWeekYears:Xje,subMilliseconds:function(e,t){return tje(e,-t)},subMinutes:function(e,t){return Cje(e,-t)},subMonths:FSe,subQuarters:function(e,t){return Eje(e,-t)},subSeconds:function(e,t){return Tje(e,-t)},subWeeks:function(e,t){return Oje(e,-t)},subYears:function(e,t){return Dje(e,-t)},toDate:qwe,transpose:m_e,weeksToDays:function(e){return Math.trunc(7*e)},yearsToDays:function(e){return Math.trunc(e*aje)},yearsToMonths:function(e){return Math.trunc(12*e)},yearsToQuarters:function(e){return Math.trunc(4*e)}},Symbol.toStringTag,{value:"Module"})),$Se=s(RSe);Object.defineProperty(Ywe,"__esModule",{value:!0}),Ywe.rangeShape=Ywe.default=void 0;var BSe=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=YSe(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=n?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r}(Q),zSe=WSe(sb),USe=WSe(Rg),HSe=$Se;function WSe(e){return e&&e.__esModule?e:{default:e}}function YSe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(YSe=function(e){return e?a:t})(e)}function qSe(){return qSe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},qSe.apply(this,arguments)}function VSe(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class GSe extends BSe.Component{constructor(e,t){super(e,t),VSe(this,"handleKeyEvent",(e=>{const{day:t,onMouseDown:a,onMouseUp:r}=this.props;[13,32].includes(e.keyCode)&&("keydown"===e.type?a(t):r(t))})),VSe(this,"handleMouseEvent",(e=>{const{day:t,disabled:a,onPreviewChange:r,onMouseEnter:n,onMouseDown:s,onMouseUp:l}=this.props,o={};if(a)r();else{switch(e.type){case"mouseenter":n(t),r(t),o.hover=!0;break;case"blur":case"mouseleave":o.hover=!1;break;case"mousedown":o.active=!0,s(t);break;case"mouseup":e.stopPropagation(),o.active=!1,l(t);break;case"focus":r(t)}Object.keys(o).length&&this.setState(o)}})),VSe(this,"getClassNames",(()=>{const{isPassive:e,isToday:t,isWeekend:a,isStartOfWeek:r,isEndOfWeek:n,isStartOfMonth:s,isEndOfMonth:l,disabled:o,styles:i}=this.props;return(0,USe.default)(i.day,{[i.dayPassive]:e,[i.dayDisabled]:o,[i.dayToday]:t,[i.dayWeekend]:a,[i.dayStartOfWeek]:r,[i.dayEndOfWeek]:n,[i.dayStartOfMonth]:s,[i.dayEndOfMonth]:l,[i.dayHovered]:this.state.hover,[i.dayActive]:this.state.active})})),VSe(this,"renderPreviewPlaceholder",(()=>{const{preview:e,day:t,styles:a}=this.props;if(!e)return null;const r=e.startDate?(0,HSe.endOfDay)(e.startDate):null,n=e.endDate?(0,HSe.startOfDay)(e.endDate):null,s=(!r||(0,HSe.isAfter)(t,r))&&(!n||(0,HSe.isBefore)(t,n)),l=!s&&(0,HSe.isSameDay)(t,r),o=!s&&(0,HSe.isSameDay)(t,n);return BSe.default.createElement("span",{className:(0,USe.default)({[a.dayStartPreview]:l,[a.dayInPreview]:s,[a.dayEndPreview]:o}),style:{color:e.color}})})),VSe(this,"renderSelectionPlaceholders",(()=>{const{styles:e,ranges:t,day:a}=this.props;return"date"===this.props.displayMode?(0,HSe.isSameDay)(this.props.day,this.props.date)?BSe.default.createElement("span",{className:e.selected,style:{color:this.props.color}}):null:t.reduce(((e,t)=>{let r=t.startDate,n=t.endDate;r&&n&&(0,HSe.isBefore)(n,r)&&([r,n]=[n,r]),r=r?(0,HSe.endOfDay)(r):null,n=n?(0,HSe.startOfDay)(n):null;const s=(!r||(0,HSe.isAfter)(a,r))&&(!n||(0,HSe.isBefore)(a,n)),l=!s&&(0,HSe.isSameDay)(a,r),o=!s&&(0,HSe.isSameDay)(a,n);return s||l||o?[...e,u({isStartEdge:l,isEndEdge:o,isInRange:s},t)]:e}),[]).map(((t,a)=>BSe.default.createElement("span",{key:a,className:(0,USe.default)({[e.startEdge]:t.isStartEdge,[e.endEdge]:t.isEndEdge,[e.inRange]:t.isInRange}),style:{color:t.color||this.props.color}})))})),this.state={hover:!1,active:!1}}render(){const{dayContentRenderer:e}=this.props;return BSe.default.createElement("button",qSe({type:"button",onMouseEnter:this.handleMouseEvent,onMouseLeave:this.handleMouseEvent,onFocus:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseUp:this.handleMouseEvent,onBlur:this.handleMouseEvent,onPauseCapture:this.handleMouseEvent,onKeyDown:this.handleKeyEvent,onKeyUp:this.handleKeyEvent,className:this.getClassNames(this.props.styles)},this.props.disabled||this.props.isPassive?{tabIndex:-1}:{},{style:{color:this.props.color}}),this.renderSelectionPlaceholders(),this.renderPreviewPlaceholder(),BSe.default.createElement("span",{className:this.props.styles.dayNumber},(null==e?void 0:e(this.props.day))||BSe.default.createElement("span",null,(0,HSe.format)(this.props.day,this.props.dayDisplayFormat))))}}GSe.defaultProps={};const KSe=Ywe.rangeShape=zSe.default.shape({startDate:zSe.default.object,endDate:zSe.default.object,color:zSe.default.string,key:zSe.default.string,autoFocus:zSe.default.bool,disabled:zSe.default.bool,showDateDisplay:zSe.default.bool});GSe.propTypes={day:zSe.default.object.isRequired,dayDisplayFormat:zSe.default.string,date:zSe.default.object,ranges:zSe.default.arrayOf(KSe),preview:zSe.default.shape({startDate:zSe.default.object,endDate:zSe.default.object,color:zSe.default.string}),onPreviewChange:zSe.default.func,previewColor:zSe.default.string,disabled:zSe.default.bool,isPassive:zSe.default.bool,isToday:zSe.default.bool,isWeekend:zSe.default.bool,isStartOfWeek:zSe.default.bool,isEndOfWeek:zSe.default.bool,isStartOfMonth:zSe.default.bool,isEndOfMonth:zSe.default.bool,color:zSe.default.string,displayMode:zSe.default.oneOf(["dateRange","date"]),styles:zSe.default.object,onMouseDown:zSe.default.func,onMouseUp:zSe.default.func,onMouseEnter:zSe.default.func,dayContentRenderer:zSe.default.func},Ywe.default=GSe;var XSe={},QSe={};Object.defineProperty(QSe,"__esModule",{value:!0}),QSe.calcFocusDate=function(e,t){const{shownDate:a,date:r,months:n,ranges:s,focusedRange:l,displayMode:o}=t;let i;if("dateRange"===o){const e=s[l[0]]||{};i={start:e.startDate,end:e.endDate}}else i={start:r,end:r};i.start=(0,ZSe.startOfMonth)(i.start||new Date),i.end=(0,ZSe.endOfMonth)(i.end||i.start);const d=i.start||i.end||a||new Date;return e?(0,ZSe.differenceInCalendarMonths)(i.start,i.end)>n?e:d:a||d},QSe.findNextRangeIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const a=e.findIndex(((e,a)=>a>t&&!1!==e.autoFocus&&!e.disabled));return-1!==a?a:e.findIndex((e=>!1!==e.autoFocus&&!e.disabled))},QSe.generateStyles=function(e){return e.length?e.filter((e=>Boolean(e))).reduce(((e,t)=>(Object.keys(t).forEach((a=>{e[a]=(0,JSe.default)(e[a],t[a])})),e)),{}):{}},QSe.getMonthDisplayRange=function(e,t,a){const r=(0,ZSe.startOfMonth)(e,t),n=(0,ZSe.endOfMonth)(e,t),s=(0,ZSe.startOfWeek)(r,t);let l=(0,ZSe.endOfWeek)(n,t);return a&&(0,ZSe.differenceInCalendarDays)(l,s)<=34&&(l=(0,ZSe.addDays)(l,7)),{start:s,end:l,startDateOfMonth:r,endDateOfMonth:n}};var JSe=function(e){return e&&e.__esModule?e:{default:e}}(Rg),ZSe=$Se;Object.defineProperty(XSe,"__esModule",{value:!0}),XSe.default=void 0;var eke=lke(Q),tke=function(e){return e&&e.__esModule?e:{default:e}}(sb),ake=lke(Ywe),rke=$Se,nke=QSe;function ske(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(ske=function(e){return e?a:t})(e)}function lke(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=ske(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=n?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r}function oke(){return oke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},oke.apply(this,arguments)}let ike=class extends eke.PureComponent{render(){const e=new Date,{displayMode:t,focusedRange:a,drag:r,styles:n,disabledDates:s,disabledDay:l}=this.props,o=this.props.minDate&&(0,rke.startOfDay)(this.props.minDate),i=this.props.maxDate&&(0,rke.endOfDay)(this.props.maxDate),d=(0,nke.getMonthDisplayRange)(this.props.month,this.props.dateOptions,this.props.fixedHeight);let c=this.props.ranges;if("dateRange"===t&&r.status){let{startDate:e,endDate:t}=r.range;c=c.map(((r,n)=>n!==a[0]?r:m(u({},r),{startDate:e,endDate:t})))}const h=this.props.showPreview&&!r.disablePreview;return eke.default.createElement("div",{className:n.month,style:this.props.style},this.props.showMonthName?eke.default.createElement("div",{className:n.monthName},(0,rke.format)(this.props.month,this.props.monthDisplayFormat,this.props.dateOptions)):null,this.props.showWeekDays&&function(e,t,a){const r=new Date;return eke.default.createElement("div",{className:e.weekDays},(0,rke.eachDayOfInterval)({start:(0,rke.startOfWeek)(r,t),end:(0,rke.endOfWeek)(r,t)}).map(((r,n)=>eke.default.createElement("span",{className:e.weekDay,key:n},(0,rke.format)(r,a,t)))))}(n,this.props.dateOptions,this.props.weekdayDisplayFormat),eke.default.createElement("div",{className:n.days,onMouseLeave:this.props.onMouseLeave},(0,rke.eachDayOfInterval)({start:d.start,end:d.end}).map(((t,a)=>{const u=(0,rke.isSameDay)(t,d.startDateOfMonth),m=(0,rke.isSameDay)(t,d.endDateOfMonth),f=o&&(0,rke.isBefore)(t,o)||i&&(0,rke.isAfter)(t,i),p=s.some((e=>(0,rke.isSameDay)(e,t))),x=l(t);return eke.default.createElement(ake.default,oke({},this.props,{ranges:c,day:t,preview:h?this.props.preview:null,isWeekend:(0,rke.isWeekend)(t,this.props.dateOptions),isToday:(0,rke.isSameDay)(t,e),isStartOfWeek:(0,rke.isSameDay)(t,(0,rke.startOfWeek)(t,this.props.dateOptions)),isEndOfWeek:(0,rke.isSameDay)(t,(0,rke.endOfWeek)(t,this.props.dateOptions)),isStartOfMonth:u,isEndOfMonth:m,key:a,disabled:f||p||x,isPassive:!(0,rke.isWithinInterval)(t,{start:d.startDateOfMonth,end:d.endDateOfMonth}),styles:n,onMouseDown:this.props.onDragSelectionStart,onMouseUp:this.props.onDragSelectionEnd,onMouseEnter:this.props.onDragSelectionMove,dragRange:r.range,drag:r.status}))}))))}};ike.defaultProps={},ike.propTypes={style:tke.default.object,styles:tke.default.object,month:tke.default.object,drag:tke.default.object,dateOptions:tke.default.object,disabledDates:tke.default.array,disabledDay:tke.default.func,preview:tke.default.shape({startDate:tke.default.object,endDate:tke.default.object}),showPreview:tke.default.bool,displayMode:tke.default.oneOf(["dateRange","date"]),minDate:tke.default.object,maxDate:tke.default.object,ranges:tke.default.arrayOf(ake.rangeShape),focusedRange:tke.default.arrayOf(tke.default.number),onDragSelectionStart:tke.default.func,onDragSelectionEnd:tke.default.func,onDragSelectionMove:tke.default.func,onMouseLeave:tke.default.func,monthDisplayFormat:tke.default.string,weekdayDisplayFormat:tke.default.string,dayDisplayFormat:tke.default.string,showWeekDays:tke.default.bool,showMonthName:tke.default.bool,fixedHeight:tke.default.bool},XSe.default=ike;var dke={};Object.defineProperty(dke,"__esModule",{value:!0}),dke.default=void 0;var cke=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=pke(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=n?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r}(Q),uke=fke(sb),mke=fke(Rg),hke=$Se;function fke(e){return e&&e.__esModule?e:{default:e}}function pke(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(pke=function(e){return e?a:t})(e)}function xke(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class gke extends cke.PureComponent{constructor(e,t){super(e,t),xke(this,"onKeyDown",(e=>{const{value:t}=this.state;"Enter"===e.key&&this.update(t)})),xke(this,"onChange",(e=>{this.setState({value:e.target.value,changed:!0,invalid:!1})})),xke(this,"onBlur",(()=>{const{value:e}=this.state;this.update(e)})),this.state={invalid:!1,changed:!1,value:this.formatDate(e)}}componentDidUpdate(e){const{value:t}=e;(0,hke.isEqual)(t,this.props.value)||this.setState({value:this.formatDate(this.props)})}formatDate(e){let{value:t,dateDisplayFormat:a,dateOptions:r}=e;return t&&(0,hke.isValid)(t)?(0,hke.format)(t,a,r):""}update(e){const{invalid:t,changed:a}=this.state;if(t||!a||!e)return;const{onChange:r,dateDisplayFormat:n,dateOptions:s}=this.props,l=(0,hke.parse)(e,n,new Date,s);(0,hke.isValid)(l)?this.setState({changed:!1},(()=>r(l))):this.setState({invalid:!0})}render(){const{className:e,readOnly:t,placeholder:a,ariaLabel:r,disabled:n,onFocus:s}=this.props,{value:l,invalid:o}=this.state;return cke.default.createElement("span",{className:(0,mke.default)("rdrDateInput",e)},cke.default.createElement("input",{readOnly:t,disabled:n,value:l,placeholder:a,"aria-label":r,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,onFocus:s}),o&&cke.default.createElement("span",{className:"rdrWarning"},""))}}gke.propTypes={value:uke.default.object,placeholder:uke.default.string,disabled:uke.default.bool,readOnly:uke.default.bool,dateOptions:uke.default.object,dateDisplayFormat:uke.default.string,ariaLabel:uke.default.string,className:uke.default.string,onFocus:uke.default.func.isRequired,onChange:uke.default.func.isRequired},gke.defaultProps={readOnly:!0,disabled:!1,dateDisplayFormat:"MMM D, YYYY"},dke.default=gke;var bke={};"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,function(e,t,a){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function l(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,a){return t=u(t),i(e,c()?Reflect.construct(t,a||[],u(e).constructor):t.apply(e,a))}function i(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!e})()}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e,t,a){return(t=g(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e){var t=b(e,"string");return"symbol"==r(t)?t:t+""}function b(e,t){if("object"!=r(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var v={x:"clientWidth",y:"clientHeight"},y={x:"clientTop",y:"clientLeft"},w={x:"innerWidth",y:"innerHeight"},j={x:"offsetWidth",y:"offsetHeight"},N={x:"offsetLeft",y:"offsetTop"},_={x:"overflowX",y:"overflowY"},S={x:"scrollWidth",y:"scrollHeight"},k={x:"scrollLeft",y:"scrollTop"},C={x:"width",y:"height"},E=function(){},T=!!function(){if("undefined"==typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",E,{get passive(){return e=!0,!1}})}catch(mMe){}return e}()&&{passive:!0},O="ReactList failed to reach a stable state.",D=40,A=function(e,t){for(var a in t)if(e[a]!==t[a])return!1;return!0},P=function(e){for(var t=e.props.axis,a=e.getEl(),r=_[t];a=a.parentElement;)switch(window.getComputedStyle(a)[r]){case"auto":case"scroll":case"overlay":return a}return window},M=function(e){var t=e.props.axis,a=e.scrollParent;return a===window?window[w[t]]:a[v[t]]},L=function(e,t){var a=e.length,r=e.minSize,n=e.type,s=t.from,l=t.size,o=t.itemsPerRow,i=(l=Math.max(l,r))%o;return i&&(l+=o-i),l>a&&(l=a),(i=(s="simple"!==n&&s?Math.max(Math.min(s,a-l),0):0)%o)&&(s-=i,l+=i),s===t.from&&l===t.size?t:p(p({},t),{},{from:s,size:l})},I=e.default=function(e){function t(e){var a;return n(this,t),(a=o(this,t,[e])).state=L(e,{itemsPerRow:1,from:e.initialIndex,size:0}),a.cache={},a.cachedScrollPosition=null,a.prevPrevState={},a.unstable=!1,a.updateCounter=0,a}return m(t,e),l(t,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.axis!==e.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>D)return this.unstable=!0,console.error(O);this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout((function(){t.updateCounter=0,delete t.updateCounterTimeoutId}),0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(A(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,T),this.scrollParent.removeEventListener("mousewheel",E,T)}},{key:"getOffset",value:function(e){var t=this.props.axis,a=e[y[t]]||0,r=N[t];do{a+=e[r]||0}while(e=e.offsetParent);return a}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if("number"==typeof this.cachedScrollPosition)return this.cachedScrollPosition;var e=this.scrollParent,t=this.props.axis,a=k[t],r=e===window?document.body[a]||document.documentElement[a]:e[a],n=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),s=Math.max(0,Math.min(r,n)),l=this.getEl();return this.cachedScrollPosition=this.getOffset(e)+s-this.getOffset(l),this.cachedScrollPosition}},{key:"setScroll",value:function(e){var t=this.scrollParent,a=this.props.axis;if(e+=this.getOffset(this.getEl()),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[k[a]]=e}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,a=t.body,r=t.documentElement,n=S[this.props.axis];return e===window?Math.max(a[n],r[n]):e[n]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter;return"uniform"===e.type||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScrollPosition(),a=Math.max(0,t-e),r=t+this.props.scrollParentViewportSizeGetter(this)+e;return this.hasDeterminateSize()&&(r=Math.min(r,this.getSpaceBefore(this.props.length))),{start:a,end:r}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,a=e.useStaticSize,r=this.state,n=r.itemSize,s=r.itemsPerRow;if(a&&n&&s)return{itemSize:n,itemsPerRow:s};var l=this.items.children;if(!l.length)return{};var o=l[0],i=o[j[t]],d=Math.abs(i-n);if((isNaN(d)||d>=1)&&(n=i),!n)return{};for(var c=N[t],u=o[c],m=l[s=1];m&&m[c]===u;m=l[s])++s;return{itemSize:n,itemsPerRow:s}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(e){return this.clearSizeCache(),this.updateFrame(e)}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=E),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrameAndClearCache),e.removeEventListener("mousewheel",E)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,T),this.scrollParent.addEventListener("mousewheel",E,T))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd().end,a=this.items.children,r=0;if(a.length){var n=this.props.axis,s=a[0],l=a[a.length-1];r=this.getOffset(l)+l[j[n]]-this.getOffset(s)}if(r>t)return e();var o=this.props,i=o.pageSize,d=o.length,c=Math.min(this.state.size+i,d);this.maybeSetState({size:c},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),a=t.start,r=t.end,n=this.props,s=n.length,l=n.pageSize,o=0,i=0,d=0,c=s-1;i<c;){var u=this.getSizeOfItem(i);if(null==u||o+u>a)break;o+=u,++i}for(var m=s-i;d<m&&o<r;){var h=this.getSizeOfItem(i+d);if(null==h){d=Math.min(d+l,m);break}o+=h,++d}this.maybeSetState(L(this.props,{from:i,itemsPerRow:1,size:d}),e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),a=t.itemSize,r=t.itemsPerRow;if(!a||!r)return e();var n=this.getStartAndEnd(),s=n.start,l=n.end,o=L(this.props,{from:Math.floor(s/a)*r,size:(Math.ceil((l-s)/a)+1)*r,itemsPerRow:r}),i=o.from,d=o.size;return this.maybeSetState({itemsPerRow:r,from:i,itemSize:a,size:d},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var a=this.state,r=a.itemSize,n=a.itemsPerRow;if(r)return t[e]=Math.floor(e/n)*r;for(var s=e;s>0&&null==t[--s];);for(var l=t[s]||0,o=s;o<e;++o){t[o]=l;var i=this.getSizeOfItem(o);if(null==i)break;l+=i}return t[e]=l}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,a=this.items.children,r=j[this.props.axis],n=0,s=a.length;n<s;++n)e[t+n]=a[n][r]}},{key:"getSizeOfItem",value:function(e){var t=this.cache,a=this.items,r=this.props,n=r.axis,s=r.itemSizeGetter,l=r.itemSizeEstimator,o=r.type,i=this.state,d=i.from,c=i.itemSize,u=i.size;if(c)return c;if(s)return s(e);if(e in t)return t[e];if("simple"===o&&e>=d&&e<d+u&&a){var m=a.children[e-d];if(m)return m[j[n]]}return l?l(e,t):void 0}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScrollPosition(),a=this.getSpaceBefore(e),r=a-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(e),n=Math.min(r,a),s=Math.max(r,a);return t<=n?this.setScroll(n):t>s?this.setScroll(s):void 0}},{key:"getVisibleRange",value:function(){for(var e,t,a=this.state,r=a.from,n=a.size,s=this.getStartAndEnd(0),l=s.start,o=s.end,i={},d=r;d<r+n;++d){var c=this.getSpaceBefore(d,i),u=c+this.getSizeOfItem(d);null==e&&u>l&&(e=d),null!=e&&c<o&&(t=d)}return[e,t]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,a=t.itemRenderer,r=t.itemsRenderer,n=this.state,s=n.from,l=n.size,o=[],i=0;i<l;++i)o.push(a(s+i,i));return r(o,(function(t){return e.items=t}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.axis,n=t.length,s=t.type,l=t.useTranslate3d,o=this.state,i=o.from,d=o.itemsPerRow,c=this.renderItems();if("simple"===s)return c;var u={position:"relative"},m={},h=Math.ceil(n/d)*d,f=this.getSpaceBefore(h,m);f&&(u[C[r]]=f,"x"===r&&(u.overflowX="hidden"));var p=this.getSpaceBefore(i,m),x="x"===r?p:0,g="y"===r?p:0,b=l?"translate3d(".concat(x,"px, ").concat(g,"px, 0)"):"translate(".concat(x,"px, ").concat(g,"px)"),v={msTransform:b,WebkitTransform:b,transform:b};return(0,a.jsx)("div",{style:u,ref:function(t){return e.el=t},children:(0,a.jsx)("div",{style:v,children:c})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=L(e,t);return a===t?null:a}}])}(t.Component);x(I,"displayName","ReactList"),x(I,"defaultProps",{axis:"y",itemRenderer:function(e,t){return(0,a.jsx)("div",{children:e},t)},itemsRenderer:function(e,t){return(0,a.jsx)("div",{ref:t,children:e})},length:0,minSize:1,pageSize:10,scrollParentGetter:P,scrollParentViewportSizeGetter:M,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1})}(bke,Q,oe);const vke=s(Object.freeze(Object.defineProperty({__proto__:null,shallowEqualArrays:function(e,t){if(e===t)return!0;if(!e||!t)return!1;var a=e.length;if(t.length!==a)return!1;for(var r=0;r<a;r++)if(e[r]!==t[r])return!1;return!0},shallowEqualObjects:function(e,t){if(e===t)return!0;if(!e||!t)return!1;var a=Object.keys(e),r=Object.keys(t),n=a.length;if(r.length!==n)return!1;for(var s=0;s<n;s++){var l=a[s];if(e[l]!==t[l]||!Object.prototype.hasOwnProperty.call(t,l))return!1}return!0}},Symbol.toStringTag,{value:"Module"})));var yke={},wke={formatDistance:void 0};const jke={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};wke.formatDistance=(e,t,a)=>{let r;const n=jke[e];return r="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),(null==a?void 0:a.addSuffix)?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};var Nke={},_ke={buildFormatLongFn:function(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}};Nke.formatLong=void 0;var Ske=_ke;Nke.formatLong={date:(0,Ske.buildFormatLongFn)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,Ske.buildFormatLongFn)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,Ske.buildFormatLongFn)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var kke={formatRelative:void 0};const Cke={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};kke.formatRelative=(e,t,a,r)=>Cke[e];var Eke={},Tke={buildLocalizeFn:function(e){return(t,a)=>{let r;if("formatting"===((null==a?void 0:a.context)?String(a.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,n=(null==a?void 0:a.width)?String(a.width):t;r=e.formattingValues[n]||e.formattingValues[t]}else{const t=e.defaultWidth,n=(null==a?void 0:a.width)?String(a.width):e.defaultWidth;r=e.values[n]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}};Eke.localize=void 0;var Oke=Tke;Eke.localize={ordinalNumber:(e,t)=>{const a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:(0,Oke.buildLocalizeFn)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,Oke.buildLocalizeFn)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:(0,Oke.buildLocalizeFn)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,Oke.buildLocalizeFn)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,Oke.buildLocalizeFn)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};var Dke={},Ake={buildMatchFn:function(e){return(t,a={})=>{const r=a.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(n);if(!s)return null;const l=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],i=Array.isArray(o)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}(o,(e=>e.test(l))):function(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}(o,(e=>e.test(l)));let d;return d=e.valueCallback?e.valueCallback(i):i,d=a.valueCallback?a.valueCallback(d):d,{value:d,rest:t.slice(l.length)}}}},Pke={buildMatchPatternFn:function(e){return(t,a={})=>{const r=t.match(e.matchPattern);if(!r)return null;const n=r[0],s=t.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];return l=a.valueCallback?a.valueCallback(l):l,{value:l,rest:t.slice(n.length)}}}};Dke.match=void 0;var Mke=Ake,Lke=Pke;Dke.match={ordinalNumber:(0,Lke.buildMatchPatternFn)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,Mke.buildMatchFn)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,Mke.buildMatchFn)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,Mke.buildMatchFn)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,Mke.buildMatchFn)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,Mke.buildMatchFn)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},yke.enUS=void 0;var Ike=wke,Fke=Nke,Rke=kke,$ke=Eke,Bke=Dke;yke.enUS={code:"en-US",formatDistance:Ike.formatDistance,formatLong:Fke.formatLong,formatRelative:Rke.formatRelative,localize:$ke.localize,match:Bke.match,options:{weekStartsOn:0,firstWeekContainsDate:1}};var zke={};Object.defineProperty(zke,"__esModule",{value:!0}),zke.default=void 0,zke.default={dateRangeWrapper:"rdrDateRangeWrapper",calendarWrapper:"rdrCalendarWrapper",dateDisplay:"rdrDateDisplay",dateDisplayItem:"rdrDateDisplayItem",dateDisplayItemActive:"rdrDateDisplayItemActive",monthAndYearWrapper:"rdrMonthAndYearWrapper",monthAndYearPickers:"rdrMonthAndYearPickers",nextPrevButton:"rdrNextPrevButton",month:"rdrMonth",weekDays:"rdrWeekDays",weekDay:"rdrWeekDay",days:"rdrDays",day:"rdrDay",dayNumber:"rdrDayNumber",dayPassive:"rdrDayPassive",dayToday:"rdrDayToday",dayStartOfWeek:"rdrDayStartOfWeek",dayEndOfWeek:"rdrDayEndOfWeek",daySelected:"rdrDaySelected",dayDisabled:"rdrDayDisabled",dayStartOfMonth:"rdrDayStartOfMonth",dayEndOfMonth:"rdrDayEndOfMonth",dayWeekend:"rdrDayWeekend",dayStartPreview:"rdrDayStartPreview",dayInPreview:"rdrDayInPreview",dayEndPreview:"rdrDayEndPreview",dayHovered:"rdrDayHovered",dayActive:"rdrDayActive",inRange:"rdrInRange",endEdge:"rdrEndEdge",startEdge:"rdrStartEdge",prevButton:"rdrPprevButton",nextButton:"rdrNextButton",selected:"rdrSelected",months:"rdrMonths",monthPicker:"rdrMonthPicker",yearPicker:"rdrYearPicker",dateDisplayWrapper:"rdrDateDisplayWrapper",definedRangesWrapper:"rdrDefinedRangesWrapper",staticRanges:"rdrStaticRanges",staticRange:"rdrStaticRange",inputRanges:"rdrInputRanges",inputRange:"rdrInputRange",inputRangeInput:"rdrInputRangeInput",dateRangePickerWrapper:"rdrDateRangePickerWrapper",staticRangeLabel:"rdrStaticRangeLabel",staticRangeSelected:"rdrStaticRangeSelected",monthName:"rdrMonthName",infiniteMonths:"rdrInfiniteMonths",monthsVertical:"rdrMonthsVertical",monthsHorizontal:"rdrMonthsHorizontal"};var Uke={};Object.defineProperty(Uke,"__esModule",{value:!0}),Uke.ariaLabelsShape=void 0;var Hke=function(e){return e&&e.__esModule?e:{default:e}}(sb);Uke.ariaLabelsShape=Hke.default.shape({dateInput:Hke.default.objectOf(Hke.default.shape({startDate:Hke.default.string,endDate:Hke.default.string})),monthPicker:Hke.default.string,yearPicker:Hke.default.string,prevButton:Hke.default.string,nextButton:Hke.default.string}),Object.defineProperty(Wwe,"__esModule",{value:!0}),Wwe.default=void 0;var Wke=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=nCe(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=n?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r}(Q),Yke=rCe(sb),qke=Ywe,Vke=rCe(XSe),Gke=rCe(dke),Kke=QSe,Xke=rCe(Rg),Qke=rCe(bke),Jke=vke,Zke=$Se,eCe=yke,tCe=rCe(zke),aCe=Uke;function rCe(e){return e&&e.__esModule?e:{default:e}}function nCe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(nCe=function(e){return e?a:t})(e)}function sCe(){return sCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},sCe.apply(this,arguments)}function lCe(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let oCe=class e extends Wke.PureComponent{constructor(t,a){var r;super(t,a),r=this,lCe(this,"focusToDate",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.props,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t.scroll.enabled){if(a&&t.preventSnapRefocus){const a=(0,Zke.differenceInCalendarMonths)(e,r.state.focusedDate),n="forwards"===t.calendarFocus&&a>=0,s="backwards"===t.calendarFocus&&a<=0;if((n||s)&&Math.abs(a)<t.months)return}return void r.setState({focusedDate:e})}const n=(0,Zke.differenceInCalendarMonths)(e,t.minDate,r.dateOptions),s=r.list.getVisibleRange();a&&s.includes(n)||(r.isFirstRender=!0,r.list.scrollTo(n),r.setState({focusedDate:e}))})),lCe(this,"updateShownDate",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;const t=e.scroll.enabled?m(u({},e),{months:r.list.getVisibleRange().length}):e,a=(0,Kke.calcFocusDate)(r.state.focusedDate,t);r.focusToDate(a,t)})),lCe(this,"updatePreview",(e=>{if(!e)return void this.setState({preview:null});const t={startDate:e,endDate:e,color:this.props.color};this.setState({preview:t})})),lCe(this,"changeShownDate",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set";const{focusedDate:a}=r.state,{onShownDateChange:n,minDate:s,maxDate:l}=r.props,o={monthOffset:()=>(0,Zke.addMonths)(a,e),setMonth:()=>(0,Zke.setMonth)(a,e),setYear:()=>(0,Zke.setYear)(a,e),set:()=>e},i=(0,Zke.min)([(0,Zke.max)([o[t](),s]),l]);r.focusToDate(i,r.props,!1),n&&n(i)})),lCe(this,"handleRangeFocusChange",((e,t)=>{this.props.onRangeFocusChange&&this.props.onRangeFocusChange([e,t])})),lCe(this,"handleScroll",(()=>{const{onShownDateChange:e,minDate:t}=this.props,{focusedDate:a}=this.state,{isFirstRender:r}=this,n=this.list.getVisibleRange();if(void 0===n[0])return;const s=(0,Zke.addMonths)(t,n[0]||0);!(0,Zke.isSameMonth)(s,a)&&!r&&(this.setState({focusedDate:s}),e&&e(s)),this.isFirstRender=!1})),lCe(this,"renderMonthAndYear",((t,a,r)=>{const{showMonthArrow:n,minDate:s,maxDate:l,showMonthAndYearPickers:o,ariaLabels:i}=r,d=(l||e.defaultProps.maxDate).getFullYear(),c=(s||e.defaultProps.minDate).getFullYear(),u=this.styles;return Wke.default.createElement("div",{onMouseUp:e=>e.stopPropagation(),className:u.monthAndYearWrapper},n?Wke.default.createElement("button",{type:"button",className:(0,Xke.default)(u.nextPrevButton,u.prevButton),onClick:()=>a(-1,"monthOffset"),"aria-label":i.prevButton},Wke.default.createElement("i",null)):null,o?Wke.default.createElement("span",{className:u.monthAndYearPickers},Wke.default.createElement("span",{className:u.monthPicker},Wke.default.createElement("select",{value:t.getMonth(),onChange:e=>a(e.target.value,"setMonth"),"aria-label":i.monthPicker},this.state.monthNames.map(((e,t)=>Wke.default.createElement("option",{key:t,value:t},e))))),Wke.default.createElement("span",{className:u.monthAndYearDivider}),Wke.default.createElement("span",{className:u.yearPicker},Wke.default.createElement("select",{value:t.getFullYear(),onChange:e=>a(e.target.value,"setYear"),"aria-label":i.yearPicker},new Array(d-c+1).fill(d).map(((e,t)=>{const a=e-t;return Wke.default.createElement("option",{key:a,value:a},a)}))))):Wke.default.createElement("span",{className:u.monthAndYearPickers},this.state.monthNames[t.getMonth()]," ",t.getFullYear()),n?Wke.default.createElement("button",{type:"button",className:(0,Xke.default)(u.nextPrevButton,u.nextButton),onClick:()=>a(1,"monthOffset"),"aria-label":i.nextButton},Wke.default.createElement("i",null)):null)})),lCe(this,"renderDateDisplay",(()=>{const{focusedRange:e,color:t,ranges:a,rangeColors:r,dateDisplayFormat:n,editableDateInputs:s,startDatePlaceholder:l,endDatePlaceholder:o,ariaLabels:i}=this.props,d=r[e[0]]||t,c=this.styles;return Wke.default.createElement("div",{className:c.dateDisplayWrapper},a.map(((t,a)=>!1===t.showDateDisplay||t.disabled&&!t.showDateDisplay?null:Wke.default.createElement("div",{className:c.dateDisplay,key:a,style:{color:t.color||d}},Wke.default.createElement(Gke.default,{className:(0,Xke.default)(c.dateDisplayItem,{[c.dateDisplayItemActive]:e[0]===a&&0===e[1]}),readOnly:!s,disabled:t.disabled,value:t.startDate,placeholder:l,dateOptions:this.dateOptions,dateDisplayFormat:n,ariaLabel:i.dateInput&&i.dateInput[t.key]&&i.dateInput[t.key].startDate,onChange:this.onDragSelectionEnd,onFocus:()=>this.handleRangeFocusChange(a,0)}),Wke.default.createElement(Gke.default,{className:(0,Xke.default)(c.dateDisplayItem,{[c.dateDisplayItemActive]:e[0]===a&&1===e[1]}),readOnly:!s,disabled:t.disabled,value:t.endDate,placeholder:o,dateOptions:this.dateOptions,dateDisplayFormat:n,ariaLabel:i.dateInput&&i.dateInput[t.key]&&i.dateInput[t.key].endDate,onChange:this.onDragSelectionEnd,onFocus:()=>this.handleRangeFocusChange(a,1)})))))})),lCe(this,"onDragSelectionStart",(e=>{const{onChange:t,dragSelectionEnabled:a}=this.props;a?this.setState({drag:{status:!0,range:{startDate:e,endDate:e},disablePreview:!0}}):t&&t(e)})),lCe(this,"onDragSelectionEnd",(e=>{const{updateRange:t,displayMode:a,onChange:r,dragSelectionEnabled:n}=this.props;if(!n)return;if("date"===a||!this.state.drag.status)return void(r&&r(e));const s={startDate:this.state.drag.range.startDate,endDate:e};"dateRange"!==a||(0,Zke.isSameDay)(s.startDate,e)?this.setState({drag:{status:!1,range:{}}},(()=>r&&r(e))):this.setState({drag:{status:!1,range:{}}},(()=>{t&&t(s)}))})),lCe(this,"onDragSelectionMove",(e=>{const{drag:t}=this.state;t.status&&this.props.dragSelectionEnabled&&this.setState({drag:{status:t.status,range:{startDate:t.range.startDate,endDate:e},disablePreview:!0}})})),lCe(this,"estimateMonthSize",((e,t)=>{const{direction:a,minDate:r}=this.props,{scrollArea:n}=this.state;if(t&&(this.listSizeCache=t,t[e]))return t[e];if("horizontal"===a)return n.monthWidth;const s=(0,Zke.addMonths)(r,e),{start:l,end:o}=(0,Kke.getMonthDisplayRange)(s,this.dateOptions);return(0,Zke.differenceInDays)(o,l,this.dateOptions)+1>35?n.longMonthHeight:n.monthHeight})),this.dateOptions={locale:t.locale},void 0!==t.weekStartsOn&&(this.dateOptions.weekStartsOn=t.weekStartsOn),this.styles=(0,Kke.generateStyles)([tCe.default,t.classNames]),this.listSizeCache={},this.isFirstRender=!0,this.state={monthNames:this.getMonthNames(),focusedDate:(0,Kke.calcFocusDate)(null,t),drag:{status:!1,range:{startDate:null,endDate:null},disablePreview:!1},scrollArea:this.calcScrollArea(t)}}getMonthNames(){return[...Array(12).keys()].map((e=>this.props.locale.localize.month(e)))}calcScrollArea(e){const{direction:t,months:a,scroll:r}=e;if(!r.enabled)return{enabled:!1};const n=r.longMonthHeight||r.monthHeight;return"vertical"===t?{enabled:!0,monthHeight:r.monthHeight||220,longMonthHeight:n||260,calendarWidth:"auto",calendarHeight:(r.calendarHeight||n||240)*a}:{enabled:!0,monthWidth:r.monthWidth||332,calendarWidth:(r.calendarWidth||r.monthWidth||332)*a,monthHeight:n||300,calendarHeight:n||300}}componentDidMount(){this.props.scroll.enabled&&setTimeout((()=>this.focusToDate(this.state.focusedDate)))}componentDidUpdate(e){const t={dateRange:"ranges",date:"date"}[this.props.displayMode];this.props[t]!==e[t]&&this.updateShownDate(this.props),e.locale===this.props.locale&&e.weekStartsOn===this.props.weekStartsOn||(this.dateOptions={locale:this.props.locale},void 0!==this.props.weekStartsOn&&(this.dateOptions.weekStartsOn=this.props.weekStartsOn),this.setState({monthNames:this.getMonthNames()})),(0,Jke.shallowEqualObjects)(e.scroll,this.props.scroll)||this.setState({scrollArea:this.calcScrollArea(this.props)})}renderWeekdays(){const e=new Date;return Wke.default.createElement("div",{className:this.styles.weekDays},(0,Zke.eachDayOfInterval)({start:(0,Zke.startOfWeek)(e,this.dateOptions),end:(0,Zke.endOfWeek)(e,this.dateOptions)}).map(((e,t)=>Wke.default.createElement("span",{className:this.styles.weekDay,key:t},(0,Zke.format)(e,this.props.weekdayDisplayFormat,this.dateOptions)))))}render(){const{showDateDisplay:e,onPreviewChange:t,scroll:a,direction:r,disabledDates:n,disabledDay:s,maxDate:l,minDate:o,rangeColors:i,color:d,navigatorRenderer:c,className:h,preview:f}=this.props,{scrollArea:p,focusedDate:x}=this.state,g="vertical"===r,b=c||this.renderMonthAndYear,v=this.props.ranges.map(((e,t)=>m(u({},e),{color:e.color||i[t]||d})));return Wke.default.createElement("div",{className:(0,Xke.default)(this.styles.calendarWrapper,h),onMouseUp:()=>this.setState({drag:{status:!1,range:{}}}),onMouseLeave:()=>{this.setState({drag:{status:!1,range:{}}})}},e&&this.renderDateDisplay(),b(x,this.changeShownDate,this.props),a.enabled?Wke.default.createElement("div",null,g&&this.renderWeekdays(this.dateOptions),Wke.default.createElement("div",{className:(0,Xke.default)(this.styles.infiniteMonths,g?this.styles.monthsVertical:this.styles.monthsHorizontal),onMouseLeave:()=>t&&t(),style:{width:p.calendarWidth+11,height:p.calendarHeight+11},onScroll:this.handleScroll},Wke.default.createElement(Qke.default,{length:(0,Zke.differenceInCalendarMonths)((0,Zke.endOfMonth)(l),(0,Zke.addDays)((0,Zke.startOfMonth)(o),-1),this.dateOptions),treshold:500,type:"variable",ref:e=>this.list=e,itemSizeEstimator:this.estimateMonthSize,axis:g?"y":"x",itemRenderer:(e,a)=>{const r=(0,Zke.addMonths)(o,e);return Wke.default.createElement(Vke.default,sCe({},this.props,{onPreviewChange:t||this.updatePreview,preview:f||this.state.preview,ranges:v,key:a,drag:this.state.drag,dateOptions:this.dateOptions,disabledDates:n,disabledDay:s,month:r,onDragSelectionStart:this.onDragSelectionStart,onDragSelectionEnd:this.onDragSelectionEnd,onDragSelectionMove:this.onDragSelectionMove,onMouseLeave:()=>t&&t(),styles:this.styles,style:g?{height:this.estimateMonthSize(e)}:{height:p.monthHeight,width:this.estimateMonthSize(e)},showMonthName:!0,showWeekDays:!g}))}}))):Wke.default.createElement("div",{className:(0,Xke.default)(this.styles.months,g?this.styles.monthsVertical:this.styles.monthsHorizontal)},new Array(this.props.months).fill(null).map(((e,a)=>{let r=(0,Zke.addMonths)(this.state.focusedDate,a);return"backwards"===this.props.calendarFocus&&(r=(0,Zke.subMonths)(this.state.focusedDate,this.props.months-1-a)),Wke.default.createElement(Vke.default,sCe({},this.props,{onPreviewChange:t||this.updatePreview,preview:f||this.state.preview,ranges:v,key:a,drag:this.state.drag,dateOptions:this.dateOptions,disabledDates:n,disabledDay:s,month:r,onDragSelectionStart:this.onDragSelectionStart,onDragSelectionEnd:this.onDragSelectionEnd,onDragSelectionMove:this.onDragSelectionMove,onMouseLeave:()=>t&&t(),styles:this.styles,showWeekDays:!g||0===a,showMonthName:!g||a>0}))}))))}};oCe.defaultProps={showMonthArrow:!0,showMonthAndYearPickers:!0,disabledDates:[],disabledDay:()=>{},classNames:{},locale:eCe.enUS,ranges:[],focusedRange:[0,0],dateDisplayFormat:"MMM d, yyyy",monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"E",dayDisplayFormat:"d",showDateDisplay:!0,showPreview:!0,displayMode:"date",months:1,color:"#3d91ff",scroll:{enabled:!1},direction:"vertical",maxDate:(0,Zke.addYears)(new Date,20),minDate:(0,Zke.addYears)(new Date,-100),rangeColors:["#3d91ff","#3ecf8e","#fed14c"],startDatePlaceholder:"Early",endDatePlaceholder:"Continuous",editableDateInputs:!1,dragSelectionEnabled:!0,fixedHeight:!1,calendarFocus:"forwards",preventSnapRefocus:!1,ariaLabels:{}},oCe.propTypes={showMonthArrow:Yke.default.bool,showMonthAndYearPickers:Yke.default.bool,disabledDates:Yke.default.array,disabledDay:Yke.default.func,minDate:Yke.default.object,maxDate:Yke.default.object,date:Yke.default.object,onChange:Yke.default.func,onPreviewChange:Yke.default.func,onRangeFocusChange:Yke.default.func,classNames:Yke.default.object,locale:Yke.default.object,shownDate:Yke.default.object,onShownDateChange:Yke.default.func,ranges:Yke.default.arrayOf(qke.rangeShape),preview:Yke.default.shape({startDate:Yke.default.object,endDate:Yke.default.object,color:Yke.default.string}),dateDisplayFormat:Yke.default.string,monthDisplayFormat:Yke.default.string,weekdayDisplayFormat:Yke.default.string,weekStartsOn:Yke.default.number,dayDisplayFormat:Yke.default.string,focusedRange:Yke.default.arrayOf(Yke.default.number),initialFocusedRange:Yke.default.arrayOf(Yke.default.number),months:Yke.default.number,className:Yke.default.string,showDateDisplay:Yke.default.bool,showPreview:Yke.default.bool,displayMode:Yke.default.oneOf(["dateRange","date"]),color:Yke.default.string,updateRange:Yke.default.func,scroll:Yke.default.shape({enabled:Yke.default.bool,monthHeight:Yke.default.number,longMonthHeight:Yke.default.number,monthWidth:Yke.default.number,calendarWidth:Yke.default.number,calendarHeight:Yke.default.number}),direction:Yke.default.oneOf(["vertical","horizontal"]),startDatePlaceholder:Yke.default.string,endDatePlaceholder:Yke.default.string,navigatorRenderer:Yke.default.func,rangeColors:Yke.default.arrayOf(Yke.default.string),editableDateInputs:Yke.default.bool,dragSelectionEnabled:Yke.default.bool,fixedHeight:Yke.default.bool,calendarFocus:Yke.default.string,preventSnapRefocus:Yke.default.bool,ariaLabels:aCe.ariaLabelsShape},Wwe.default=oCe,Object.defineProperty(Hwe,"__esModule",{value:!0}),Hwe.default=void 0;var iCe=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=gCe(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=n?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r}(Q),dCe=xCe(sb),cCe=xCe(Wwe),uCe=Ywe,mCe=QSe,hCe=$Se,fCe=xCe(Rg),pCe=xCe(zke);function xCe(e){return e&&e.__esModule?e:{default:e}}function gCe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(gCe=function(e){return e?a:t})(e)}function bCe(){return bCe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},bCe.apply(this,arguments)}function vCe(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class yCe extends iCe.Component{constructor(e,t){var a;super(e,t),a=this,vCe(this,"calcNewSelection",(function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=a.props.focusedRange||a.state.focusedRange,{ranges:n,onChange:s,maxDate:l,moveRangeOnFirstSelection:o,retainEndDateOnFirstSelection:i,disabledDates:d}=a.props,c=n[r[0]];if(!c||!s)return{};let{startDate:u,endDate:m}=c;const h=new Date;let f;if(t)if(0===r[1]){const t=(0,hCe.differenceInCalendarDays)(m||h,u);u=e,m=o?(0,hCe.addDays)(e,t):i?!m||(0,hCe.isBefore)(e,m)?m:e:e||h,l&&(m=(0,hCe.min)([m,l])),f=[r[0],1]}else m=e;else u=e.startDate,m=e.endDate;let p=0===r[1];(0,hCe.isBefore)(m,u)&&(p=!p,[u,m]=[m,u]);const x=d.filter((e=>(0,hCe.isWithinInterval)(e,{start:u,end:m})));return x.length>0&&(p?u=(0,hCe.addDays)((0,hCe.max)(x),1):m=(0,hCe.addDays)((0,hCe.min)(x),-1)),f||(f=[(0,mCe.findNextRangeIndex)(a.props.ranges,r[0]),0]),{wasValid:!(x.length>0),range:{startDate:u,endDate:m},nextFocusRange:f}})),vCe(this,"setSelection",((e,t)=>{const{onChange:a,ranges:r,onRangeFocusChange:n}=this.props,s=(this.props.focusedRange||this.state.focusedRange)[0],l=r[s];if(!l)return;const o=this.calcNewSelection(e,t);a({[l.key||`range${s+1}`]:u(u({},l),o.range)}),this.setState({focusedRange:o.nextFocusRange,preview:null}),n&&n(o.nextFocusRange)})),vCe(this,"handleRangeFocusChange",(e=>{this.setState({focusedRange:e}),this.props.onRangeFocusChange&&this.props.onRangeFocusChange(e)})),vCe(this,"updatePreview",(e=>{var t;if(!e)return void this.setState({preview:null});const{rangeColors:a,ranges:r}=this.props,n=this.props.focusedRange||this.state.focusedRange,s=(null==(t=r[n[0]])?void 0:t.color)||a[n[0]]||s;this.setState({preview:m(u({},e.range),{color:s})})})),this.state={focusedRange:e.initialFocusedRange||[(0,mCe.findNextRangeIndex)(e.ranges),0],preview:null},this.styles=(0,mCe.generateStyles)([pCe.default,e.classNames])}render(){return iCe.default.createElement(cCe.default,bCe({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:e=>{this.updatePreview(e?this.calcNewSelection(e):null)}},this.props,{displayMode:"dateRange",className:(0,fCe.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:e=>this.setSelection(e,!1),ref:e=>{this.calendar=e}}))}}yCe.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:!1,retainEndDateOnFirstSelection:!1,rangeColors:["#3d91ff","#3ecf8e","#fed14c"],disabledDates:[]},yCe.propTypes=m(u({},cCe.default.propTypes),{onChange:dCe.default.func,onRangeFocusChange:dCe.default.func,className:dCe.default.string,ranges:dCe.default.arrayOf(uCe.rangeShape),moveRangeOnFirstSelection:dCe.default.bool,retainEndDateOnFirstSelection:dCe.default.bool}),Hwe.default=yCe;var wCe={},jCe={},NCe={};Object.defineProperty(NCe,"__esModule",{value:!0}),NCe.createStaticRanges=CCe,NCe.defaultStaticRanges=NCe.defaultInputRanges=void 0;var _Ce=$Se;const SCe={startOfWeek:(0,_Ce.startOfWeek)(new Date),endOfWeek:(0,_Ce.endOfWeek)(new Date),startOfLastWeek:(0,_Ce.startOfWeek)((0,_Ce.addDays)(new Date,-7)),endOfLastWeek:(0,_Ce.endOfWeek)((0,_Ce.addDays)(new Date,-7)),startOfToday:(0,_Ce.startOfDay)(new Date),endOfToday:(0,_Ce.endOfDay)(new Date),startOfYesterday:(0,_Ce.startOfDay)((0,_Ce.addDays)(new Date,-1)),endOfYesterday:(0,_Ce.endOfDay)((0,_Ce.addDays)(new Date,-1)),startOfMonth:(0,_Ce.startOfMonth)(new Date),endOfMonth:(0,_Ce.endOfMonth)(new Date),startOfLastMonth:(0,_Ce.startOfMonth)((0,_Ce.addMonths)(new Date,-1)),endOfLastMonth:(0,_Ce.endOfMonth)((0,_Ce.addMonths)(new Date,-1))},kCe={range:{},isSelected(e){const t=this.range();return(0,_Ce.isSameDay)(e.startDate,t.startDate)&&(0,_Ce.isSameDay)(e.endDate,t.endDate)}};function CCe(e){return e.map((e=>u(u({},kCe),e)))}NCe.defaultStaticRanges=CCe([{label:"Today",range:()=>({startDate:SCe.startOfToday,endDate:SCe.endOfToday})},{label:"Yesterday",range:()=>({startDate:SCe.startOfYesterday,endDate:SCe.endOfYesterday})},{label:"This Week",range:()=>({startDate:SCe.startOfWeek,endDate:SCe.endOfWeek})},{label:"Last Week",range:()=>({startDate:SCe.startOfLastWeek,endDate:SCe.endOfLastWeek})},{label:"This Month",range:()=>({startDate:SCe.startOfMonth,endDate:SCe.endOfMonth})},{label:"Last Month",range:()=>({startDate:SCe.startOfLastMonth,endDate:SCe.endOfLastMonth})}]),NCe.defaultInputRanges=[{label:"days up to today",range:e=>({startDate:(0,_Ce.addDays)(SCe.startOfToday,-1*(Math.max(Number(e),1)-1)),endDate:SCe.endOfToday}),getCurrentValue:e=>(0,_Ce.isSameDay)(e.endDate,SCe.endOfToday)?e.startDate?(0,_Ce.differenceInCalendarDays)(SCe.endOfToday,e.startDate)+1:"":"-"},{label:"days starting today",range(e){const t=new Date;return{startDate:t,endDate:(0,_Ce.addDays)(t,Math.max(Number(e),1)-1)}},getCurrentValue:e=>(0,_Ce.isSameDay)(e.startDate,SCe.startOfToday)?e.endDate?(0,_Ce.differenceInCalendarDays)(e.endDate,SCe.startOfToday)+1:"":"-"}];var ECe={};Object.defineProperty(ECe,"__esModule",{value:!0}),ECe.default=void 0;var TCe=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=DCe(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=n?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r}(Q),OCe=function(e){return e&&e.__esModule?e:{default:e}}(sb);function DCe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(DCe=function(e){return e?a:t})(e)}function ACe(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class PCe extends TCe.Component{constructor(e,t){super(e,t),ACe(this,"onChange",(e=>{const{onChange:t}=this.props;let a=parseInt(e.target.value,10);a=isNaN(a)?0:Math.max(Math.min(99999,a),0),t(a)}))}shouldComponentUpdate(e){const{value:t,label:a,placeholder:r}=this.props;return t!==e.value||a!==e.label||r!==e.placeholder}render(){const{label:e,placeholder:t,value:a,styles:r,onBlur:n,onFocus:s}=this.props;return TCe.default.createElement("div",{className:r.inputRange},TCe.default.createElement("input",{className:r.inputRangeInput,placeholder:t,value:a,min:0,max:99999,onChange:this.onChange,onFocus:s,onBlur:n}),TCe.default.createElement("span",{className:r.inputRangeLabel},e))}}PCe.propTypes={value:OCe.default.oneOfType([OCe.default.string,OCe.default.number]),label:OCe.default.oneOfType([OCe.default.element,OCe.default.node]).isRequired,placeholder:OCe.default.string,styles:OCe.default.shape({inputRange:OCe.default.string,inputRangeInput:OCe.default.string,inputRangeLabel:OCe.default.string}).isRequired,onBlur:OCe.default.func.isRequired,onFocus:OCe.default.func.isRequired,onChange:OCe.default.func.isRequired},PCe.defaultProps={value:"",placeholder:"-"},ECe.default=PCe,Object.defineProperty(jCe,"__esModule",{value:!0}),jCe.default=void 0;var MCe=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=UCe(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=n?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r}(Q),LCe=zCe(sb),ICe=zCe(zke),FCe=NCe,RCe=Ywe,$Ce=zCe(ECe),BCe=zCe(Rg);function zCe(e){return e&&e.__esModule?e:{default:e}}function UCe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(UCe=function(e){return e?a:t})(e)}function HCe(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class WCe extends MCe.Component{constructor(e){super(e),HCe(this,"handleRangeChange",(e=>{const{onChange:t,ranges:a,focusedRange:r}=this.props,n=a[r[0]];t&&n&&t({[n.key||`range${r[0]+1}`]:u(u({},n),e)})})),this.state={rangeOffset:0,focusedInput:-1}}getRangeOptionValue(e){const{ranges:t=[],focusedRange:a=[]}=this.props;if("function"!=typeof e.getCurrentValue)return"";const r=t[a[0]]||{};return e.getCurrentValue(r)||""}getSelectedRange(e,t){const a=e.findIndex((e=>!(!e.startDate||!e.endDate||e.disabled)&&t.isSelected(e)));return{selectedRange:e[a],focusedRangeIndex:a}}render(){const{headerContent:e,footerContent:t,onPreviewChange:a,inputRanges:r,staticRanges:n,ranges:s,renderStaticRangeLabel:l,rangeColors:o,className:i}=this.props;return MCe.default.createElement("div",{className:(0,BCe.default)(ICe.default.definedRangesWrapper,i)},e,MCe.default.createElement("div",{className:ICe.default.staticRanges},n.map(((e,t)=>{const{selectedRange:r,focusedRangeIndex:n}=this.getSelectedRange(s,e);let i;return i=e.hasCustomRendering?l(e):e.label,MCe.default.createElement("button",{type:"button",className:(0,BCe.default)(ICe.default.staticRange,{[ICe.default.staticRangeSelected]:Boolean(r)}),style:{color:r?r.color||o[n]:null},key:t,onClick:()=>this.handleRangeChange(e.range(this.props)),onFocus:()=>a&&a(e.range(this.props)),onMouseOver:()=>a&&a(e.range(this.props)),onMouseLeave:()=>{a&&a()}},MCe.default.createElement("span",{tabIndex:-1,className:ICe.default.staticRangeLabel},i))}))),MCe.default.createElement("div",{className:ICe.default.inputRanges},r.map(((e,t)=>MCe.default.createElement($Ce.default,{key:t,styles:ICe.default,label:e.label,onFocus:()=>this.setState({focusedInput:t,rangeOffset:0}),onBlur:()=>this.setState({rangeOffset:0}),onChange:t=>this.handleRangeChange(e.range(t,this.props)),value:this.getRangeOptionValue(e)})))),t)}}WCe.propTypes={inputRanges:LCe.default.array,staticRanges:LCe.default.array,ranges:LCe.default.arrayOf(RCe.rangeShape),focusedRange:LCe.default.arrayOf(LCe.default.number),onPreviewChange:LCe.default.func,onChange:LCe.default.func,footerContent:LCe.default.any,headerContent:LCe.default.any,rangeColors:LCe.default.arrayOf(LCe.default.string),className:LCe.default.string,renderStaticRangeLabel:LCe.default.func},WCe.defaultProps={inputRanges:FCe.defaultInputRanges,staticRanges:FCe.defaultStaticRanges,ranges:[],rangeColors:["#3d91ff","#3ecf8e","#fed14c"],focusedRange:[0,0]},jCe.default=WCe,Object.defineProperty(wCe,"__esModule",{value:!0}),wCe.default=void 0;var YCe=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=ZCe(t);if(a&&a.has(e))return a.get(e);var r={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=n?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}return r.default=e,a&&a.set(e,r),r}(Q),qCe=JCe(sb),VCe=JCe(Hwe),GCe=JCe(jCe),KCe=QSe,XCe=JCe(Rg),QCe=JCe(zke);function JCe(e){return e&&e.__esModule?e:{default:e}}function ZCe(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(ZCe=function(e){return e?a:t})(e)}function eEe(){return eEe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},eEe.apply(this,arguments)}class tEe extends YCe.Component{constructor(e){super(e),this.state={focusedRange:[(0,KCe.findNextRangeIndex)(e.ranges),0]},this.styles=(0,KCe.generateStyles)([QCe.default,e.classNames])}render(){const{focusedRange:e}=this.state;return YCe.default.createElement("div",{className:(0,XCe.default)(this.styles.dateRangePickerWrapper,this.props.className)},YCe.default.createElement(GCe.default,eEe({focusedRange:e,onPreviewChange:e=>this.dateRange.updatePreview(e?this.dateRange.calcNewSelection(e,"string"==typeof e):null)},this.props,{range:this.props.ranges[e[0]],className:void 0})),YCe.default.createElement(VCe.default,eEe({onRangeFocusChange:e=>this.setState({focusedRange:e}),focusedRange:e},this.props,{ref:e=>this.dateRange=e,className:void 0})))}}tEe.defaultProps={},tEe.propTypes=m(u(u({},VCe.default.propTypes),GCe.default.propTypes),{className:qCe.default.string}),wCe.default=tEe,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Calendar",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"DateRange",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"DateRangePicker",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"DefinedRange",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"createStaticRanges",{enumerable:!0,get:function(){return s.createStaticRanges}}),Object.defineProperty(e,"defaultInputRanges",{enumerable:!0,get:function(){return s.defaultInputRanges}}),Object.defineProperty(e,"defaultStaticRanges",{enumerable:!0,get:function(){return s.defaultStaticRanges}});var t=l(Hwe),a=l(Wwe),r=l(wCe),n=l(jCe),s=NCe;function l(e){return e&&e.__esModule?e:{default:e}}}(Uwe);const aEe=({onDateChange:e})=>{var t,a;const r=new Date,n=JNe(r,"yyyy-MM-dd"),[s,l]=Q.useState(!1),[o,i]=Q.useState([{startDate:r,endDate:r,key:"selection"}]),[d,c]=Q.useState(o),[u,m]=Q.useState("Today"),h=[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[new Date((new Date).setDate(r.getDate()-1)),new Date((new Date).setDate(r.getDate()-1))]},{label:"This Week",range:[bje(r),uNe(r)]},{label:"This Month",range:[new Date(r.getFullYear(),r.getMonth(),1),r]},{label:"Last Month",range:[new Date(r.getFullYear(),r.getMonth()-1,1),new Date(r.getFullYear(),r.getMonth(),0)]},{label:"This Quarter",range:[lNe(r),mNe(r)]},{label:"This Half Year",range:[new Date(r.getFullYear(),3,1),new Date(r.getFullYear(),8,30)]},{label:"This Year",range:[cNe(r),dNe(r)]},{label:"Custom Range",range:null}];Q.useEffect((()=>{e(n,n)}),[]);const f=e=>JNe(e,"MMMM d, yyyy");return oe.jsxs("div",{className:"relative ",children:[oe.jsxs("div",{className:"border border-gray-300 rounded-lg px-4 py-2 cursor-pointer shadow-md bg-white flex items-center gap-2 hover:ring-2 hover:ring-blue-500 transition-all duration-200",onClick:()=>l(!s),children:[oe.jsx("span",{className:"text-gray-500 font-medium",children:""}),oe.jsx("span",{className:"text-gray-800",children:`${f(null==(t=o[0])?void 0:t.startDate)} - ${f(null==(a=o[0])?void 0:a.endDate)}`})]}),s&&oe.jsxs("div",{className:"absolute top-12 text-black left-0 bg-white border border-gray-300 rounded-lg shadow-lg z-1 w-full md:w-[70%]",children:[oe.jsx("div",{className:"flex flex-col p-3 gap-2",children:h.map(((e,t)=>oe.jsx("button",{className:"px-3 py-1 text-md rounded-md transition-all duration-300 "+(u===e.label?"bg-blue-500 text-white":"bg-gray-100 hover:bg-blue-100 hover:text-blue-500 hover:font-medium"),onClick:()=>(e=>{m(e.label),"Custom Range"===e.label?c(o):c([{startDate:e.range[0],endDate:e.range[1],key:"selection"}])})(e),children:e.label},t)))}),"Custom Range"===u&&oe.jsx("div",{className:"\r\n            absolute top-0 left-full \r\n            bg-white border border-gray-300 rounded-lg shadow-md \r\n            w-0  \r\n            [&_.rdrDay]:!bg-transparent \r\n            [&_.rdrDay]:!shadow-none \r\n            [&_.rdrDayHovered]:!bg-transparent \r\n            [&_.rdrDayHovered]:!shadow-none\r\n          ",children:oe.jsx(Uwe.DateRange,{onChange:e=>c([e.selection]),ranges:d,moveRangeOnFirstSelection:!1,editableDateInputs:!0,showSelectionPreview:!0})}),oe.jsxs("div",{className:"flex justify-end p-2 border-t border-gray-200 gap-2",children:[oe.jsx("button",{className:"bg-green-400 text-white px-4 py-2 rounded-md hover:bg-green-500 font-medium",onClick:()=>{const t=JNe(d[0].startDate,"yyyy-MM-dd"),a=JNe(d[0].endDate,"yyyy-MM-dd");i(d),e(t,a),l(!1)},children:"Apply"}),oe.jsx("button",{className:"bg-red-400 text-white px-4 py-2 rounded-md hover:bg-red-500 font-medium ",onClick:()=>l(!1),children:"Cancel"})]})]})]})},rEe=()=>{Q.useState(null),Q.useState(null);const[t,a]=Q.useState(0);Q.useState([]),Q.useState(null),Q.useState(!1);const[r,n]=Q.useState(!1),s=sm();Q.useState(!1);const[l,o]=Q.useState(""),[i,d]=Q.useState(!1),[c,u]=Q.useState([]),[m,h]=Q.useState(0),[f,x]=Q.useState(""),[g,b]=Q.useState(""),[v,y]=Q.useState("");Q.useEffect((()=>{g&&v&&w()}),[g,v]);const w=()=>p(e,null,(function*(){var e,t,a,r,s,l;n(!1),x("");try{n(!0),u([]);const o=localStorage.getItem("authToken"),i={};g&&(i.searchFrom=g),v&&(i.searchTo=v);const d=yield Uf.get("https://sms.evolvu.in/public/api/getfeepaymentrecordreport",{headers:{Authorization:`Bearer ${o}`},params:i});(null==(e=null==d?void 0:d.data)?void 0:e.data)&&0!==(null==(a=null==(t=null==d?void 0:d.data)?void 0:t.data)?void 0:a.length)?(u(null==(r=null==d?void 0:d.data)?void 0:r.data),h(Math.ceil((null==(l=null==(s=null==d?void 0:d.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Fee Payment Record Report data not found."),u([]))}catch(o){console.error("Error fetching Fee Payment Record Report:",o),hp.error("Error fetching Fee Payment Record Report. Please try again.")}finally{d(!1),n(!1)}}));console.log("row",c);const j=c.filter((e=>{var t,a,r,n;const s=f.toLowerCase(),l=(null==(t=null==e?void 0:e.receipt_no)?void 0:t.toLowerCase())||"",o=`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`.toLowerCase().trim(),i=(null==(a=null==e?void 0:e.payment_date)?void 0:a.toLowerCase())||"",d=(null==(r=null==e?void 0:e.amount)?void 0:r.toLowerCase())||"",c=(null==(n=null==e?void 0:e.payment_mode)?void 0:n.toLowerCase())||"";return l.includes(s)||o.includes(s)||i.includes(s)||d.includes(s)||c.includes(s)})).slice(10*t);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[90%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Fees payment report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{s("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[85%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%]  gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full  md:w-[70%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"w-full md:w-[15%] text-md  mt-1.5",htmlFor:"studentSelect",children:oe.jsx("span",{className:" text-nowrap text-gray-500 font-medium",children:"Payment Date"})}),oe.jsxs("div",{className:" text-sm w-full md:w-[65%]",children:[oe.jsx(aEe,{onDateChange:(e,t)=>{console.log("Updated Dates:",{searchFrom:e,searchTo:t}),b(e),y(t)}}),l&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:l})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:w,style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(r?"opacity-50 cursor-not-allowed":""),disabled:r,children:r?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})})]})," "]})}),c.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Fees payment report List"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>x(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!j||0===j.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Receipt No.","Student Name","Payment date","Amount","Payment mode"],t=j.map(((e,t)=>[t+1,(null==e?void 0:e.receipt_no)||" ",`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`,(null==e?void 0:e.payment_date)||" ",(null==e?void 0:e.payment_amount)||" ",(null==e?void 0:e.payment_mode)||" "])),a=_ge.aoa_to_sheet([e,...t]),r=e.map((()=>({wch:20})));a["!cols"]=r;const n=_ge.book_new();_ge.book_append_sheet(n,a,"Admission Form Data"),mge(n,`Fee Payment Record Report (From ${g} to ${v}).xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e=`Fee Payment Record Report (From ${g} to ${v})`,t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Receipt No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Payment date</th>\n                       <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Amount</th>\n                                   <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Payment mode</th>\n\n          </tr>\n        </thead>\n        <tbody>\n          ${j.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.receipt_no)||" "}</td>\n           <td className="px-2 text-center py-2 border border-black">\n             ${(null==e?void 0:e.first_name)&&`${e.first_name} `}\n             ${(null==e?void 0:e.mid_name)&&`${e.mid_name} `}\n             ${(null==e?void 0:e.last_name)&&`${e.last_name} `}\n           </td>\n\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.payment_date)||" "}</td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.payment_amount)||" "}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.payment_mode)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,a=window.open("","_blank","width=1000,height=800");a.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                @page { margin: 0; }\n        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\n  \n        /* Increase width */\n        #tableMain {\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        }\n  \n        h5 {\n          width: 100%;\n          text-align: center;\n          font-size: 1.5em;\n          font-weight: bold;\n          margin-bottom: 10px;\n        }\n  \n        #tableContainer {\n          width: 100%;\n          display: flex;\n          justify-content: center;\n        }\n  \n        table {\n          width: 80%; /* Increase table width */\n          border-spacing: 0;\n           margin: auto;\n        }\n  \n        th, td {\n          border: 1px solid gray;\n          padding: 12px;\n          text-align: center;\n          font-size: 16px; /* Increase font size */\n        }\n  \n        th {\n          background-color: #f9f9f9;\n          font-size: 1.1em;\n        }\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),a.document.close(),a.onload=function(){a.focus(),a.print(),a.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Receipt No.","Student Name","Payment date","Amount","Payment mode"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:j.length?null==j?void 0:j.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.receipt_no)||" "}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[(null==e?void 0:e.first_name)?`${e.first_name} `:"",(null==e?void 0:e.mid_name)?`${e.mid_name} `:"",(null==e?void 0:e.last_name)?`${e.last_name} `:""]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.date)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.payment_amount)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.payment_mode)||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},nEe=()=>{Q.useState(null);const[t,a]=Q.useState(0),[r,n]=Q.useState(!1);sm();const[s,l]=Q.useState(!1),[o,i]=Q.useState([]),[d,c]=Q.useState(0),[u,m]=Q.useState("");Q.useEffect((()=>{h()}),[]);const h=()=>p(e,null,(function*(){var e,t,a,r,s;n(!1),m("");try{n(!0),i([]);const l=localStorage.getItem("authToken"),o=yield Uf.get("https://sms.evolvu.in/public/api/get_staff_report",{headers:{Authorization:`Bearer ${l}`}});console.log("staff report",o),(null==(e=null==o?void 0:o.data)?void 0:e.data)&&0!==(null==(t=null==o?void 0:o.data)?void 0:t.length)?(i(null==(a=null==o?void 0:o.data)?void 0:a.data),c(Math.ceil((null==(s=null==(r=null==o?void 0:o.data)?void 0:r.data)?void 0:s.length)/10))):(hp.error("Staff Report data not found."),i([]))}catch(o){console.error("Error fetching Staff Report Report:",o),hp.error("Error fetching Staff Report. Please try again.")}finally{l(!1),n(!1)}}));console.log("row",o);const f=o.filter((e=>{var t,a,r,n,s,l,o,i,d,c,m;const h=u.toLowerCase(),f=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${r}/${a}/${t} || ${r}-${a}-${t}`},p=(null==(t=null==e?void 0:e.name)?void 0:t.toLowerCase())||"",x=f(null==e?void 0:e.birthday).toLowerCase(),g=f(null==e?void 0:e.date_of_joining).toLowerCase(),b=(null==(a=null==e?void 0:e.sex)?void 0:a.toLowerCase())||"",v=(null==(r=null==e?void 0:e.blood_group)?void 0:r.toLowerCase())||"",y=(null==(n=null==e?void 0:e.designation)?void 0:n.toLowerCase())||"",w=(null==(s=null==e?void 0:e.phone)?void 0:s.toLowerCase())||"",j=(null==(l=null==e?void 0:e.email)?void 0:l.toLowerCase())||"",N=(null==(o=null==e?void 0:e.address)?void 0:o.toLowerCase())||"",_=(null==(i=null==e?void 0:e.aadhar_card_no)?void 0:i.toLowerCase())||"",S=(null==(d=null==e?void 0:e.academic_qual)?void 0:d.toLowerCase())||"",k=(null==(c=null==e?void 0:e.professional_qual)?void 0:c.toLowerCase())||"",C=(null==(m=null==e?void 0:e.trained)?void 0:m.toLowerCase())||"",E=(null==e?void 0:e.experience)?String(e.experience):"";return p.includes(h)||x.includes(h)||g.includes(h)||b.includes(h)||v.includes(h)||y.includes(h)||w.includes(h)||j.includes(h)||N.includes(h)||_.includes(h)||S.includes(h)||k.includes(h)||C.includes(h)||E.includes(h)})).slice(10*t);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"card rounded-md ",children:r?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):o.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Staff Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>m(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!f||0===f.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Staff Name","Date of Birth","Date of Joining","Gender","Blood Group","Designation","Phone No.","Email","Address","Aadhar Card No.","Academic Qualofication","Professional Qualification","Training Status","Experience"],t=f.map(((e,t)=>[t+1,(null==e?void 0:e.name)||" ",(null==e?void 0:e.birthday)?new Date(e.birthday).toLocaleDateString("en-GB"):" ",(null==e?void 0:e.date_of_joining)?new Date(e.date_of_joining).toLocaleDateString("en-GB"):" ","female"===e.sex?"Female":"male"===e.sex?"Male":" ",(null==e?void 0:e.blood_group)||" ",(null==e?void 0:e.designation)||" ",(null==e?void 0:e.phone)||" ",(null==e?void 0:e.email)||" ",(null==e?void 0:e.address)||" ",(null==e?void 0:e.academic_qual)||" ",`${(null==e?void 0:e.professional_qual)||" "}{" "} ${(null==e?void 0:e.special_sub)||""}`,(null==e?void 0:e.trained)||" ",(null==e?void 0:e.experience)||" "])),a=_ge.aoa_to_sheet([e,...t]),r=e.map((()=>({wch:20})));a["!cols"]=r;const n=_ge.book_new();_ge.book_append_sheet(n,a,"Admission Form Data"),mge(n,"Staff_Report.xlsx")},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Staff Report",t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n      <h5 id="tableHeading5" class="text-lg font-semibold border-1 border-black">${e}</h5>\n      <div id="tableHeading" class="text-center w-3/4">\n        <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n          <thead>\n            <tr class="bg-gray-100">\n              <th class="px-2 py-2 border border-black">Sr.No</th>\n              <th class="px-2 py-2 border border-black">Staff Name</th>\n              <th class="px-2 py-2 border border-black">Date of Birth</th>\n              <th class="px-2 py-2 border border-black">Date of Joining</th>\n              <th class="px-2 py-2 border border-black">Gender</th>\n              <th class="px-2 py-2 border border-black">Blood Group</th>\n              <th class="px-2 py-2 border border-black">Designation</th>\n              <th class="px-2 py-2 border border-black">Phone No.</th>\n              <th class="px-2 py-2 border border-black">Email</th>\n              <th class="px-2 py-2 border border-black">Address</th>\n              <th class="px-2 py-2 border border-black">Aadhaar No.</th>\n              <th class="px-2 py-2 border border-black">Academic Qualification</th>\n              <th class="px-2 py-2 border border-black">Professional Qualification</th>\n              <th class="px-2 py-2 border border-black">Training Status</th>\n              <th class="px-2 py-2 border border-black">Experience</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${f.map(((e,t)=>`\n                <tr>\n                  <td class="border border-black">${t+1}</td>\n                  <td class="border border-black">${(null==e?void 0:e.name)||""}</td>\n                  <td class="border border-black">${(null==e?void 0:e.birthday)?new Date(e.birthday).toLocaleDateString("en-GB"):""}</td>\n                  <td class="border border-black">${(null==e?void 0:e.date_of_joining)?new Date(e.date_of_joining).toLocaleDateString("en-GB"):""}</td>\n                  <td class="border border-black"> ${"female"===e.gender?"Female":"male"===e.gender?"Male":" "}</td>\n                  <td class="border border-black">${(null==e?void 0:e.blood_group)||""}</td>\n                  <td class="border border-black">${(null==e?void 0:e.designation)||""}</td>\n                  <td class="border border-black">${(null==e?void 0:e.phone)||""}</td>\n                  <td class="border border-black">${(null==e?void 0:e.email)||""}</td>\n                  <td class="border border-black">${(null==e?void 0:e.address)||""}</td>\n                  <td class="border border-black">${(null==e?void 0:e.aadhar_card_no)||""}</td>\n                  <td class="border border-black">${(null==e?void 0:e.academic_qual)||""}</td>\n                  <td class="border border-black">\n                  ${(null==e?void 0:e.professional_qual)||""}\n                  ${(null==e?void 0:e.special_sub)||""}\n                   </td>\n                  <td class="border border-black">${(null==e?void 0:e.trained)||""}</td>\n                  <td class="border border-black">${(null==e?void 0:e.experience)||""}</td>\n                </tr>`)).join("")}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  `,a=window.open("","_blank","width=2000,height=1000");a.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                   @page {\n                size: A4 landscape; /* Wider format for better fit */\n                margin: 10px;\n            }\n\n                      body {\n                font-family: Arial, sans-serif;\n                margin: 0;\n                padding: 0;\n                box-sizing: border-box;\n            }\n\n                       /* Scrollable container */\n            #printContainer {\n                width: 100%;\n                overflow-x: auto;  /* Enables horizontal scrolling */\n                white-space: nowrap; /* Prevents text wrapping */\n            }\n\n                      #tableMain {\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: flex-start;\n                padding: 0 10px;\n            }\n\n                       table {\n                border-spacing: 0;\n                width: 100%;\n                min-width: 1200px; /* Ensures table doesn't shrink */\n                margin: auto;\n                table-layout: fixed; /* Ensures even column spacing */\n            }\n\n                      th, td {\n                border: 1px solid gray;\n                padding: 8px;\n                text-align: center;\n                font-size: 12px;\n                word-wrap: break-word; /* Ensures text breaks properly */\n            }\n\n            th {\n                font-size: 0.8em;\n                background-color: #f9f9f9;\n            }\n\n\n           /* Ensure scrolling is available in print mode */\n            @media print {\n                #printContainer {\n                    overflow-x: auto;\n                    display: block;\n                    width: 100%;\n                    height: auto;\n                }\n             table {\n                    min-width: 100%;\n                }\n}\n\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),a.document.close(),a.onload=function(){a.focus(),a.print(),a.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-[550px] lg:h-[550px] overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full w-[2300px] leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"w-12 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr No."}),oe.jsx("th",{className:"w-44 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Staff Name"}),oe.jsx("th",{className:"w-28 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Date of Birth"}),oe.jsx("th",{className:"w-28 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Date of Joining"}),oe.jsx("th",{className:"w-20 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Gender"}),oe.jsx("th",{className:"w-24 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Blood Group"}),oe.jsx("th",{className:"w-36 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Designation"}),oe.jsx("th",{className:"w-32 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Phone No."}),oe.jsx("th",{className:"w-28 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Email"}),oe.jsx("th",{className:"w-64 px-4 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Address"}),oe.jsx("th",{className:"w-36 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Aadhaar Card No."}),oe.jsx("th",{className:"w-32 px-4 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Academic Qualification"}),oe.jsx("th",{className:"w-40 px-4 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Professional Qualification"}),oe.jsx("th",{className:"w-32 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Training Status"}),oe.jsx("th",{className:"w-28 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Experience (in years)"})]})}),oe.jsx("tbody",{children:f.length?null==f?void 0:f.map(((e,t)=>{return oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.birthday)?new Date(e.birthday).toLocaleDateString("en-GB"):" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.date_of_joining)?new Date(e.date_of_joining).toLocaleDateString("en-GB"):" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:"female"===e.sex?"Female":"male"===e.sex?"Male":" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:(null==e?void 0:e.blood_group)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.designation)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.phone)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.email)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(a=(null==e?void 0:e.address)||" ",a.charAt(0).toUpperCase()+a.slice(1).toLowerCase())}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.aadhar_card_no)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.academic_qual)||" "}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[(null==e?void 0:e.professional_qual)||" ",oe.jsx("br",{}),(null==e?void 0:e.special_sub)||""]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.trained)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.experience)||" "})]},e.adm_form_pk);var a})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})})]})})},sEe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null),[c,h]=Q.useState(!1),[f,x]=Q.useState([]),[g,b]=Q.useState(null),[v,y]=Q.useState(""),[w,j]=Q.useState(null),N=sm(),[_,S]=Q.useState(!1),[k,C]=Q.useState(""),[E,T]=Q.useState(!1),[O,D]=Q.useState([]),[A,P]=Q.useState(0),[M,L]=Q.useState("");Q.useEffect((()=>{I()}),[]);const I=()=>p(e,null,(function*(){try{S(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{S(!1)}})),F=Q.useMemo((()=>l.filter((e=>"11"===(null==e?void 0:e.name)||"12"===(null==e?void 0:e.name))).map((e=>({value:null==e?void 0:e.class_id,label:e.name})))),[l]),R=Q.useMemo((()=>Array.isArray(f)?f.map((e=>({value:e.section_id,label:e.name}))):[]),[f]),$=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();console.log("row",O);const B=O.filter((e=>{var t,a,r,n;const s=M.toLowerCase(),l=(null==e?void 0:e.roll_no)?String(e.roll_no):"",o=[null==e?void 0:e.first_name,null==e?void 0:e.mid_name,null==e?void 0:e.last_name].filter(Boolean).join(" ").toLowerCase(),i=(null==(t=null==e?void 0:e.stream_name)?void 0:t.toLowerCase())||"",d=(null==(n=null==(r=null==(a=null==e?void 0:e.subjects)?void 0:a.map((e=>e.subject_name)))?void 0:r.join(", "))?void 0:n.toLowerCase())||"";return l.includes(s)||o.includes(s)||i.includes(s)||d.includes(s)})).slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[90%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"HSC Students Subjects Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{N("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[90%] flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsx("div",{className:"w-full md:w-[95%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:oe.jsxs("div",{className:"w-full  md:w-[90%] gap-x-0  md:gap-x-12 flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[full] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"w-full md:w-[30%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"classSelect",children:["Class ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"classSelect",value:a,onChange:a=>{var n;C(""),r(a),d(null==a?void 0:a.value),a&&(n=a.value,p(e,null,(function*(){try{S(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_divisions/${n}`,{headers:{Authorization:`Bearer ${e}`}});console.log("Divisions API Response:",a.data),Array.isArray(a.data.divisions)?x(a.data.divisions):(hp.error("Unexpected Data Format."),x([]))}catch(e){hp.error("Error fetching divisions"),console.error("Error fetching divisions",e)}finally{S(!1)}})))},options:F,placeholder:_?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:_,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".9em"})}}),k&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:k})]})]}),oe.jsxs("div",{className:"w-full md:w-[full] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"w-full md:w-[40%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"divisionSelect",children:["Division",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[70%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"divisionSelect",value:g,onChange:e=>{y(""),b(e),j(null==e?void 0:e.value)},options:R,placeholder:_?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:_,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".9em"})}}),v&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:v})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;if(h(!1),!i)return C("Please select Class."),void h(!1);if(!w)return y("Please select Division."),void h(!1);L("");try{h(!0),D([]);const o=localStorage.getItem("authToken"),d={};i&&(d.class_id=i),w&&(d.section_id=w);const c=yield Uf.get(`${t}/api/get_subjectshscstudentwisereport`,{headers:{Authorization:`Bearer ${o}`},params:d});(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(D(null==(n=null==c?void 0:c.data)?void 0:n.data),P(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("HSC Students Subjects Report data not found."),D([]))}catch(o){console.error("Error fetching HSC Students Subjects Report:",o),hp.error("Error fetching HSC Students Subjects Report. Please try again.")}finally{T(!1),h(!1)}})),style:{backgroundColor:"#2196F3"},className:"btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})})}),O.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-[full]  mt-4 ",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of HSC Students Subjects Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>L(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!B||0===B.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Roll No.","Student Name","Stream","Subjects"],t=B.map(((e,t)=>{var a;return[t+1,null==e?void 0:e.roll_no,`${$((null==e?void 0:e.first_name)||" ")} ${$((null==e?void 0:e.mid_name)||" ")} ${$((null==e?void 0:e.last_name)||" ")}`,(null==e?void 0:e.stream_name)||" ",(null==(a=null==e?void 0:e.subjects)?void 0:a.map((e=>e.subject_name)).join(", "))||" "]})),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,` HSC_Students_Subjects_Report_${(null==a?void 0:a.label)||" "} -${(null==g?void 0:g.label)||" "}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e=`HSC Students Subjects Report for ${null==a?void 0:a.label}-${null==g?void 0:g.label} Class`,t=`\n    <div id="tableMain">\n      <h5>${e}</h5>\n      <div id="tableContainer">\n        <table>\n          <thead>\n            <tr>\n              <th>Sr.No</th>\n              <th>Roll No.</th>\n              <th>Student Name</th>\n              <th>Stream</th>\n              <th>Subjects</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${B.map(((e,t)=>{var a;return`\n                <tr>\n                  <td>${t+1}</td>\n                  <td>${null==e?void 0:e.roll_no}</td>\n                  <td>\n                   ${(null==e?void 0:e.first_name)?$(e.first_name):" "}\n                   ${(null==e?void 0:e.mid_name)?" "+$(e.mid_name):" "}\n                   ${(null==e?void 0:e.last_name)?" "+$(e.last_name):" "}\n                  </td>\n                  <td>${(null==e?void 0:e.stream_name)||" "}</td>\n                  <td>${(null==(a=null==e?void 0:e.subjects)?void 0:a.map((e=>e.subject_name)).join(", "))||" "}</td>\n                </tr>`})).join("")}\n          </tbody>\n        </table>\n      </div>\n    </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                @page { margin: 0; }\n        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\n  \n        /* Increase width */\n        #tableMain {\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        }\n  \n        h5 {\n          width: 100%;\n          text-align: center;\n          font-size: 1.5em;\n          font-weight: bold;\n          margin-bottom: 10px;\n        }\n  \n        #tableContainer {\n          width: 100%;\n          display: flex;\n          justify-content: center;\n        }\n  \n        table {\n          width: 80%; /* Increase table width */\n          border-spacing: 0;\n           margin: auto;\n        }\n  \n        th, td {\n          border: 1px solid gray;\n          padding: 12px;\n          text-align: center;\n          font-size: 16px; /* Increase font size */\n        }\n  \n        th {\n          background-color: #f9f9f9;\n          font-size: 1.1em;\n        }\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Roll No.","Student Name","Stream","Subjects"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:B.length?null==B?void 0:B.map(((e,t)=>{var a;return oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==e?void 0:e.roll_no}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:[e.first_name,e.mid_name,e.last_name].filter(Boolean).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.stream_name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==(a=null==e?void 0:e.subjects)?void 0:a.map((e=>e.subject_name)).join(", "))||" "})]},e.adm_form_pk)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},lEe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(null),[l,o]=Q.useState(null),[i,d]=Q.useState(0),[c,u]=Q.useState([]),[m,h]=Q.useState(null),[f,x]=Q.useState(!1),[g,b]=Q.useState({value:"",label:"All"}),[v,y]=Q.useState(null),[w,j]=Q.useState(""),N=sm(),[_,S]=Q.useState(!1),[k,C]=Q.useState(""),[E,T]=Q.useState(""),[O,D]=Q.useState(""),[A,P]=Q.useState(!1),[M,L]=Q.useState([]),[I,F]=Q.useState(0),[R,$]=Q.useState("");Q.useEffect((()=>{B()}),[]),Q.useEffect((()=>{g&&y(g.value)}),[g]);const B=()=>p(e,null,(function*(){try{S(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_allstudentwithclass`,{headers:{Authorization:`Bearer ${e}`}});console.log("API Response:",a.data),Array.isArray(a.data)?u(a.data):(u([]),console.error("Unexpected API response format:",a.data))}catch(e){hp.error("Error fetching Students"),console.error("Error fetching Students:",e)}finally{S(!1)}})),z=Q.useMemo((()=>Array.isArray(c)?c.map((e=>({value:null==e?void 0:e.student_id,label:null==e?void 0:e.label}))):[]),[c]),U=[{value:"",label:"All"},{value:"2",label:"Nursery"},{value:"3",label:"KG"},{value:"4",label:"School"}],H=Q.useMemo((()=>U.map((e=>({value:e.value,label:e.label})))),[]),W=(e,t)=>{const{value:a}=e.target;"fromDate"===t?(o(a),C("")):"toDate"===t&&(s(a),T(""))};console.log("row",M);const Y=M.filter((e=>{const t=R.trim().replace(/\s+/g," ").toLowerCase(),a=e=>(null==e?void 0:e.toString().trim().replace(/\s+/g," ").toLowerCase())||"",r=a(null==e?void 0:e.student_name),n=a(null==e?void 0:e.OrderId),s=a(null==e?void 0:e.class_name),l=a((e=>{if(!e)return"";const t=e.split(" ")[0],[a,r,n]=t.split("-");return`${n}/${r}/${a} || ${n}-${r}-${a}`})(null==e?void 0:e.Trnx_date)),o=a(null==e?void 0:e.installment_no),i=a(null==e?void 0:e.Trnx_ref_no),d=a(null==e?void 0:e.Status_code),c=a(null==e?void 0:e.Amount),u=a(null==e?void 0:e.receipt_no);return r.includes(t)||n.includes(t)||s.includes(t)||l.includes(t)||o.includes(t)||i.includes(t)||d.includes(t)||c.includes(t)||u.includes(t)})),q=Y.slice(10*i);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[96%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Worldline Fee Payment Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{N("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:"w-full mx-auto ",children:oe.jsxs("div",{className:"w-full md:w-[97%] mx-auto   flex flex-wrap items-start  justify-start  gap-x-6 p-2",children:[oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsx("label",{className:"text-md mb-1",htmlFor:"orderId",children:"Order ID"}),oe.jsx("input",{type:"text",id:"orderId",className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-[180px]",value:w,onChange:e=>j(e.target.value)})]}),oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsx("label",{className:"text-md mb-1",htmlFor:"studentSelect",children:"Student Name"}),oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{r(e),h(null==e?void 0:e.value)},options:z,placeholder:_?"Loading...":"Select",isSearchable:!0,isClearable:!0,isDisabled:_,className:"text-sm w-[220px]"})]}),oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsxs("label",{className:"text-md mb-1",htmlFor:"fromDate",children:["From Date ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"fromDate",value:l,onChange:e=>W(e,"fromDate"),className:"text-sm border border-gray-300 rounded px-2 py-2 w-[180px]"}),oe.jsx("div",{className:"h-[16px] text-red-500 text-xs mt-1",children:k&&oe.jsx("span",{children:k})})]}),oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsxs("label",{className:"text-md mb-1",htmlFor:"toDate",children:["To Date ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"toDate",value:n,onChange:e=>W(e,"toDate"),className:"text-sm border border-gray-300 rounded px-2 py-2 w-[180px]",min:l,max:(new Date).toISOString().split("T")[0]}),oe.jsx("div",{className:"h-[16px] text-red-500 text-xs mt-1",children:E&&oe.jsx("span",{children:E})})]}),oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsxs("label",{className:"text-md mb-1",htmlFor:"accountType",children:["Account Type ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"accountType",value:g,onChange:e=>{b(e),y(""===e.value?"":e.value),e&&D("")},options:H,placeholder:"Select",isSearchable:!0,isClearable:!1,className:"text-sm w-[180px]"}),oe.jsx("div",{className:"h-[16px] text-red-500 text-xs mt-1",children:O&&oe.jsx("span",{children:O})})]}),oe.jsx("div",{className:"flex items-end mt-4",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,s,o,i;if(x(!1),g){if(!w&&!m){if(!l)return void C("Please select From Date");if(!n)return void T("Please select To Date")}D(""),C(""),T(""),$("");try{x(!0),L([]);const d=localStorage.getItem("authToken");let c={accounttype:""===g.value?"":g.label};m&&l&&n?(c.student_id=m,c.fromdate=l,c.todate=n):(w&&(c.order_id=w),!m||l&&n||(c.student_id=m),!w&&!m&&l&&n&&(c.fromdate=l,c.todate=n)),console.log("API Params:",c);const u=yield Uf.get(`${t}/api/getworldfeepaymentrecordreport`,{headers:{Authorization:`Bearer ${d}`},params:c,paramsSerializer:e=>new URLSearchParams(e).toString()});console.log("API Response:",null==u?void 0:u.data),(null==(e=null==u?void 0:u.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.length)?(L(null==(s=null==u?void 0:u.data)?void 0:s.data),F(Math.ceil((null==(i=null==(o=null==u?void 0:u.data)?void 0:o.data)?void 0:i.length)/10))):(L([]),hp.error("No records found for selected criteria."))}catch(d){console.error("Error fetching report:",d),hp.error("Error fetching data. Please try again.")}finally{P(!1),x(!1)}}else D("Please select Account type.")})),style:{backgroundColor:"#2196F3"},className:"btn h-10 btn-primary text-white font-bold py-1 px-6 rounded "+(f?"opacity-50 cursor-not-allowed":""),disabled:f,children:f?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})}),M.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Worldline Fee Payment Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>$(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!q||0===q.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Order ID","Student Name","Class","Date","Installment No.","Receipt No.","Transcation Ref No.","Status","Amount"],t=q.map(((e,t)=>[t+1,(null==e?void 0:e.OrderId)||" ",(null==e?void 0:e.student_name)||" ",(null==e?void 0:e.class_name)||" ",`${(null==e?void 0:e.Trnx_date)?new Date(e.Trnx_date).toLocaleDateString("en-GB"):" "}`,(null==e?void 0:e.installment_no)||" ",(null==e?void 0:e.receipt_no)||" ",(null==e?void 0:e.Trnx_ref_no)||" ",(null==e?void 0:e.Status_code)||" ",(null==e?void 0:e.Amount)||" "])),a=_ge.aoa_to_sheet([e,...t]),r=e.map((()=>({wch:20})));a["!cols"]=r;const n=_ge.book_new();_ge.book_append_sheet(n,a,"Admission Form Data"),mge(n,"Worldline_Fee_Payment_Report.xlsx")},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e=`Worldline Fee Payment Report ${(null==g?void 0:g.label)||""}`,t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n    <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Order ID</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Date</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Installment No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Receipt No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Transcation Ref No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Status</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${q.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.OrderId)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.student_name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.class_name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.Trnx_date)?new Date(e.Trnx_date).toLocaleDateString("en-GB"):" "}</td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.installment_no)||" "}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.receipt_no)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.Trnx_ref_no)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.Status_code)||" "}</td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.Amount)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,a=window.open("","_blank","width=2000,height=1000");a.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                   @page {\n                size: A4 landscape; /* Wider format for better fit */\n                margin: 10px;\n            }\n\n                      body {\n                font-family: Arial, sans-serif;\n                margin: 0;\n                padding: 0;\n                box-sizing: border-box;\n            }\n\n                       /* Scrollable container */\n            #printContainer {\n                width: 100%;\n                overflow-x: auto;  /* Enables horizontal scrolling */\n                white-space: nowrap; /* Prevents text wrapping */\n            }\n\n                      #tableMain {\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: flex-start;\n                padding: 0 10px;\n            }\n\n                       table {\n                border-spacing: 0;\n                width: 100%;\n                min-width: 1200px; /* Ensures table doesn't shrink */\n                margin: auto;\n                table-layout: fixed; /* Ensures even column spacing */\n            }\n\n                      th, td {\n                border: 1px solid gray;\n                padding: 8px;\n                text-align: center;\n                font-size: 12px;\n                word-wrap: break-word; /* Ensures text breaks properly */\n            }\n\n            th {\n                font-size: 0.8em;\n                background-color: #f9f9f9;\n            }\n\n\n           /* Ensure scrolling is available in print mode */\n            @media print {\n                #printContainer {\n                    overflow-x: auto;\n                    display: block;\n                    width: 100%;\n                    height: auto;\n                }\n             table {\n                    min-width: 100%;\n                }\n}\n\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),a.document.close(),a.onload=function(){a.focus(),a.print(),a.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Order ID","Student Name","Class","Date","Installment No.","Receipt No.","Transcation Ref No.","Status","Amount"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:q.length?null==q?void 0:q.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.OrderId)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.student_name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.class_name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.Trnx_date)?new Date(e.Trnx_date).toLocaleDateString("en-GB"):" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.installment_no)||""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.receipt_no)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.Trnx_ref_no)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.Status_code)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.Amount)||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},oEe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(null),[l,o]=Q.useState(null),[i,d]=Q.useState(0),[c,u]=Q.useState([]),[m,h]=Q.useState(null),[f,x]=Q.useState(!1),[g,b]=Q.useState({value:"",label:"All"}),[v,y]=Q.useState(null),[w,j]=Q.useState(""),N=sm(),[_,S]=Q.useState(!1),[k,C]=Q.useState(""),[E,T]=Q.useState(""),[O,D]=Q.useState(""),[A,P]=Q.useState(!1),[M,L]=Q.useState([]),[I,F]=Q.useState(0),[R,$]=Q.useState("");Q.useEffect((()=>{B()}),[]),Q.useEffect((()=>{g&&y(g.value)}),[g]);const B=()=>p(e,null,(function*(){try{S(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_allstudentwithclass`,{headers:{Authorization:`Bearer ${e}`}});console.log("API Response:",a.data),Array.isArray(a.data)?u(a.data):(u([]),console.error("Unexpected API response format:",a.data))}catch(e){hp.error("Error fetching Students"),console.error("Error fetching Students:",e)}finally{S(!1)}})),z=Q.useMemo((()=>Array.isArray(c)?c.map((e=>({value:null==e?void 0:e.student_id,label:null==e?void 0:e.label}))):[]),[c]),U=[{value:"",label:"All"},{value:"2",label:"Nursery"},{value:"3",label:"KG"},{value:"4",label:"School"}],H=Q.useMemo((()=>U.map((e=>({value:e.value,label:e.label})))),[]),W=(e,t)=>{const{value:a}=e.target;"fromDate"===t?(o(a),C("")):"toDate"===t&&(s(a),T(""))};console.log("row",M);const Y=M.filter((e=>{const t=R.trim().replace(/\s+/g," ").toLowerCase(),a=e=>(null==e?void 0:e.toString().trim().replace(/\s+/g," ").toLowerCase())||"",r=a(null==e?void 0:e.student_name),n=a(null==e?void 0:e.OrderId),s=a(null==e?void 0:e.class_name),l=a((e=>{if(!e)return"";const t=e.split(" ")[0],[a,r,n]=t.split("-");return`${n}/${r}/${a} || ${n}-${r}-${a}`})(null==e?void 0:e.Trnx_date)),o=a(null==e?void 0:e.installment_no),i=a(null==e?void 0:e.razorpay_payment_id),d=a(null==e?void 0:e.Status_code),c=a(null==e?void 0:e.Amount),u=a(null==e?void 0:e.receipt_no);return r.includes(t)||n.includes(t)||s.includes(t)||l.includes(t)||o.includes(t)||i.includes(t)||d.includes(t)||c.includes(t)||u.includes(t)})),q=Y.slice(10*i);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[95%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Razorpay Fee Payment Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{N("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:"w-full mx-auto ",children:oe.jsxs("div",{className:"w-full md:w-[97%] mx-auto   flex flex-wrap items-start  justify-start  gap-x-6 p-2",children:[oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsx("label",{className:"text-md mb-1",htmlFor:"orderId",children:"Order ID"}),oe.jsx("input",{type:"text",id:"orderId",className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-[180px]",value:w,onChange:e=>j(e.target.value)})]}),oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsx("label",{className:"text-md mb-1",htmlFor:"studentSelect",children:"Student Name"}),oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{r(e),h(null==e?void 0:e.value)},options:z,placeholder:_?"Loading...":"Select",isSearchable:!0,isClearable:!0,isDisabled:_,className:"text-sm w-[220px]"})]}),oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsxs("label",{className:"text-md mb-1",htmlFor:"fromDate",children:["From Date ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"fromDate",value:l,onChange:e=>W(e,"fromDate"),className:"text-sm border border-gray-300 rounded px-2 py-2 w-[180px]"}),oe.jsx("div",{className:"h-[16px] text-red-500 text-xs mt-1",children:k&&oe.jsx("span",{children:k})})]}),oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsxs("label",{className:"text-md mb-1",htmlFor:"toDate",children:["To Date ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"toDate",value:n,onChange:e=>W(e,"toDate"),className:"text-sm border border-gray-300 rounded px-2 py-2 w-[180px]",min:l,max:(new Date).toISOString().split("T")[0]}),oe.jsx("div",{className:"h-[16px] text-red-500 text-xs mt-1",children:E&&oe.jsx("span",{children:E})})]}),oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsxs("label",{className:"text-md mb-1",htmlFor:"accountType",children:["Account Type ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"accountType",value:g,onChange:e=>{b(e),y(""===e.value?"":e.value),e&&D("")},options:H,placeholder:"Select",isSearchable:!0,isClearable:!1,className:"text-sm w-[180px]"}),oe.jsx("div",{className:"h-[16px] text-red-500 text-xs mt-1",children:O&&oe.jsx("span",{children:O})})]}),oe.jsx("div",{className:"flex items-end mt-4",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,s,o,i;if(x(!1),g){if(!w&&!m){if(!l)return void C("Please select From Date");if(!n)return void T("Please select To Date")}D(""),C(""),T(""),$("");try{x(!0),L([]);const d=localStorage.getItem("authToken");let c={accounttype:""===g.value?"":g.label};m&&l&&n?(c.student_id=m,c.fromdate=l,c.todate=n):(w&&(c.order_id=w),m&&(c.student_id=m),w||m||(c.fromdate=l,c.todate=n)),console.log("API Params:",c);const u=yield Uf.get(`${t}/api/getrazorpayfeepaymentreport`,{headers:{Authorization:`Bearer ${d}`},params:c,paramsSerializer:e=>new URLSearchParams(e).toString()});console.log("API Response:",null==u?void 0:u.data),(null==(e=null==u?void 0:u.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.length)?(L(null==(s=null==u?void 0:u.data)?void 0:s.data),F(Math.ceil((null==(i=null==(o=null==u?void 0:u.data)?void 0:o.data)?void 0:i.length)/10))):(L([]),hp.error("No records found for selected criteria."))}catch(d){console.error("Error fetching report:",d),hp.error("Error fetching data. Please try again.")}finally{P(!1),x(!1)}}else D("Please select Account type.")})),style:{backgroundColor:"#2196F3"},className:"btn h-10 btn-primary text-white font-bold py-1 px-6 rounded "+(f?"opacity-50 cursor-not-allowed":""),disabled:f,children:f?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})}),M.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Razorpay Fee Payment Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>$(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!q||0===q.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Order ID","Student Name","Class","Date","Installment No.","Receipt No.","Payment ID.","Status","Amount"],t=q.map(((e,t)=>[t+1,(null==e?void 0:e.OrderId)||" ",(null==e?void 0:e.student_name)||" ",(null==e?void 0:e.class_name)||" ",`${(null==e?void 0:e.Trnx_date)?new Date(e.Trnx_date).toLocaleDateString("en-GB"):" "}`,(null==e?void 0:e.installment_no)||" ",(null==e?void 0:e.receipt_no)||" ",(null==e?void 0:e.razorpay_payment_id)||" ",(null==e?void 0:e.Status)||" ",(null==e?void 0:e.Amount)||" "])),a=_ge.aoa_to_sheet([e,...t]),r=e.map((()=>({wch:20})));a["!cols"]=r;const n=_ge.book_new();_ge.book_append_sheet(n,a,"Admission Form Data"),mge(n,"Razorpay_Fee_Payment_Report.xlsx")},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e=`Razorpay Fee Payment Report ${(null==g?void 0:g.label)||""}`,t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n    <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Order ID</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Date</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Installment No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Receipt No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Payment ID.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Status</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${q.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.OrderId)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.student_name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.class_name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.Trnx_date)?new Date(e.Trnx_date).toLocaleDateString("en-GB"):" "}</td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.installment_no)||" "}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.receipt_no)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.razorpay_payment_id)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.Status)||" "}</td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.Amount)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,a=window.open("","_blank","width=2000,height=1000");a.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                   @page {\n                size: A4 landscape; /* Wider format for better fit */\n                margin: 10px;\n            }\n\n                      body {\n                font-family: Arial, sans-serif;\n                margin: 0;\n                padding: 0;\n                box-sizing: border-box;\n            }\n\n                       /* Scrollable container */\n            #printContainer {\n                width: 100%;\n                overflow-x: auto;  /* Enables horizontal scrolling */\n                white-space: nowrap; /* Prevents text wrapping */\n            }\n\n                      #tableMain {\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: flex-start;\n                padding: 0 10px;\n            }\n\n                       table {\n                border-spacing: 0;\n                width: 100%;\n                min-width: 1200px; /* Ensures table doesn't shrink */\n                margin: auto;\n                table-layout: fixed; /* Ensures even column spacing */\n            }\n\n                      th, td {\n                border: 1px solid gray;\n                padding: 8px;\n                text-align: center;\n                font-size: 12px;\n                word-wrap: break-word; /* Ensures text breaks properly */\n            }\n\n            th {\n                font-size: 0.8em;\n                background-color: #f9f9f9;\n            }\n\n\n           /* Ensure scrolling is available in print mode */\n            @media print {\n                #printContainer {\n                    overflow-x: auto;\n                    display: block;\n                    width: 100%;\n                    height: auto;\n                }\n             table {\n                    min-width: 100%;\n                }\n}\n\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),a.document.close(),a.onload=function(){a.focus(),a.print(),a.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Order ID","Student Name","Class","Date","Installment No.","Receipt No.","Payment ID","Status","Amount"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:q.length?null==q?void 0:q.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.OrderId)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.student_name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.class_name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.Trnx_date)?new Date(e.Trnx_date).toLocaleDateString("en-GB"):" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.installment_no)||""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.receipt_no)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.razorpay_payment_id)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.Status)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.Amount)||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},iEe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}}));console.log("row",y);const C=y.filter((e=>{var t,a,r,n;const s=_.toLowerCase(),l=(null==(t=null==e?void 0:e.period)?void 0:t.toString().toLowerCase())||"",o=(null==(a=null==e?void 0:e.date)?void 0:a.toLowerCase())||"",i=(null==(r=null==e?void 0:e.teachername)?void 0:r.toLowerCase())||"",d=`${(null==e?void 0:e.classname)||""} ${(null==e?void 0:e.sectionname)||""} (${(null==e?void 0:e.name)||""})`.toLowerCase(),c=(null==(n=null==e?void 0:e.substitutename)?void 0:n.toLowerCase())||"";return l.includes(s)||o.includes(s)||i.includes(s)||d.includes(s)||c.includes(s)})).slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[80%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Substitute Teacher Monthly Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[80%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsxs("label",{className:"md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Month ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"monthSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:[{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"},{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"}],placeholder:"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;if(u(!1),!i)return g("Please select Month."),void u(!1);S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.month=i);const c=yield Uf.get(`${t}/api/getsubstituteteachermonthlyreport`,{headers:{Authorization:`Bearer ${o}`},params:d});(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Substitute Teacher Monthly Report data not found."),w([]))}catch(o){console.error("Error fetching Substitute Teacher Monthly Report:",o),hp.error("Error fetching Substitute Teacher Monthly Report. Please try again.")}finally{v(!1),u(!1)}})),style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Substitute Teacher Monthly Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!C||0===C.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Period No.","Date","Teacher Name","Class-Subject","Substitute Teacher"],t=C.map(((e,t)=>[t+1,(null==e?void 0:e.period)||" ",(null==e?void 0:e.date)||" ",(null==e?void 0:e.teachername)||" ",`${(null==e?void 0:e.classname)||" "} ${(null==e?void 0:e.sectionname)||" "} (${(null==e?void 0:e.name)||" "})`,(null==e?void 0:e.substitutename)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Substitute_Teacher_Monthly_Report ${(null==a?void 0:a.label)?`List of Month ${a.label}`:": For All Teacher "}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Substitute Teacher Monthly Report "+((null==a?void 0:a.label)?`List of Month ${a.label}`:": For All Teacher "),t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Period No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Date</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Teacher Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class-Subject</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Substitute Teacher</th>\n\n          </tr>\n        </thead>\n        <tbody>\n          ${C.map(((e,t)=>`\n        <tr class="text-sm">\n          <td class="px-2 text-center py-2 border border-black">\n            ${t+1}\n          </td>\n          <td class="px-2 text-center py-2 border border-black">\n            ${(null==e?void 0:e.period)||" "}\n          </td>\n          <td class="px-2 text-center py-2 border border-black">\n            ${(null==e?void 0:e.date)||" "}\n          </td>\n          <td class="px-2 text-center py-2 border border-black">\n            ${(null==e?void 0:e.teachername)||" "}\n          </td>\n          <td class="px-2 text-center py-2 border border-black">\n            ${(null==e?void 0:e.classname)||" "} ${(null==e?void 0:e.sectionname)||" "}\n            (${(null==e?void 0:e.name)||" "})\n          </td>\n          <td class="px-2 text-center py-2 border border-black">\n            ${(null==e?void 0:e.substitutename)||" "}\n          </td>\n        </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                @page { margin: 0; }\n        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\n  \n        /* Increase width */\n        #tableMain {\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        }\n  \n        h5 {\n          width: 100%;\n          text-align: center;\n          font-size: 1.5em;\n          font-weight: bold;\n          margin-bottom: 10px;\n        }\n  \n        #tableContainer {\n          width: 100%;\n          display: flex;\n          justify-content: center;\n        }\n  \n        table {\n          width: 80%; /* Increase table width */\n          border-spacing: 0;\n           margin: auto;\n        }\n  \n        th, td {\n          border: 1px solid gray;\n          padding: 12px;\n          text-align: center;\n          font-size: 16px; /* Increase font size */\n        }\n  \n        th {\n          background-color: #f9f9f9;\n          font-size: 1.1em;\n        }\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full md:w-[90%] mx-auto",children:oe.jsx("div",{className:"h-96 lg:h-96  overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Period No.","Date","Teacher Name","Class-Subject","Substitute Teacher"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:C.length?null==C?void 0:C.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.period||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.date?new Date(e.date).toLocaleDateString("en-GB"):" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.teachername||" "}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[e.classname||" "," ",e.sectionname||" ","(",e.name||" ",")"]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.substitutename||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},dEe=6048e5,cEe=6e4,uEe=36e5,mEe=Symbol.for("constructDateFrom");function hEe(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&mEe in e?e[mEe](t):e instanceof Date?new e.constructor(t):new Date(t)}function fEe(e,t){return hEe(t||e,e)}function pEe(e,t,a){const r=fEe(e,null==a?void 0:a.in);return isNaN(t)?hEe((null==a?void 0:a.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function xEe(e,t,a){const r=fEe(e,null==a?void 0:a.in);if(isNaN(t))return hEe(e,NaN);if(!t)return r;const n=r.getDate(),s=hEe(e,r.getTime());return s.setMonth(r.getMonth()+t+1,0),n>=s.getDate()?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}function gEe(e,t,a){return hEe(e,+fEe(e)+t)}let bEe={};function vEe(){return bEe}function yEe(e,t){var a,r,n,s,l,o,i,d;const c=vEe(),u=null!=(d=null!=(i=null!=(s=null!=(n=null==t?void 0:t.weekStartsOn)?n:null==(r=null==(a=null==t?void 0:t.locale)?void 0:a.options)?void 0:r.weekStartsOn)?s:c.weekStartsOn)?i:null==(o=null==(l=c.locale)?void 0:l.options)?void 0:o.weekStartsOn)?d:0,m=fEe(e,null==t?void 0:t.in),h=m.getDay(),f=(h<u?7:0)+h-u;return m.setDate(m.getDate()-f),m.setHours(0,0,0,0),m}function wEe(e,t){return yEe(e,m(u({},t),{weekStartsOn:1}))}function jEe(e,t){const a=fEe(e,null==t?void 0:t.in),r=a.getFullYear(),n=hEe(a,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=wEe(n),l=hEe(a,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const o=wEe(l);return a.getTime()>=s.getTime()?r+1:a.getTime()>=o.getTime()?r:r-1}function NEe(e){const t=fEe(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function _Ee(e,...t){const a=hEe.bind(null,t.find((e=>"object"==typeof e)));return t.map(a)}function SEe(e,t){const a=fEe(e,null==t?void 0:t.in);return a.setHours(0,0,0,0),a}function kEe(e,t,a){const[r,n]=_Ee(null==a||a.in,e,t),s=SEe(r),l=SEe(n),o=+s-NEe(s),i=+l-NEe(l);return Math.round((o-i)/864e5)}function CEe(e,t,a){const r=fEe(e,null==a?void 0:a.in);return r.setTime(r.getTime()+t*cEe),r}function EEe(e,t,a){return xEe(e,3*t,a)}function TEe(e,t,a){return gEe(e,1e3*t)}function OEe(e,t,a){return pEe(e,7*t,a)}function DEe(e,t,a){return xEe(e,12*t,a)}function AEe(e,t){let a,r=null==t?void 0:t.in;return e.forEach((e=>{r||"object"!=typeof e||(r=hEe.bind(null,e));const t=fEe(e,r);(!a||a<t||isNaN(+t))&&(a=t)})),hEe(r,a||NaN)}function PEe(e,t){let a,r=null==t?void 0:t.in;return e.forEach((e=>{r||"object"!=typeof e||(r=hEe.bind(null,e));const t=fEe(e,r);(!a||a>t||isNaN(+t))&&(a=t)})),hEe(r,a||NaN)}function MEe(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function LEe(e){return!(!MEe(e)&&"number"!=typeof e||isNaN(+fEe(e)))}function IEe(e,t,a){const[r,n]=_Ee(null==a||a.in,e,t);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}function FEe(e,t){const a=fEe(e,null==t?void 0:t.in);return Math.trunc(a.getMonth()/3)+1}function REe(e,t,a){const[r,n]=_Ee(null==a||a.in,e,t);return 4*(r.getFullYear()-n.getFullYear())+(FEe(r)-FEe(n))}function $Ee(e,t,a){const[r,n]=_Ee(null==a||a.in,e,t);return r.getFullYear()-n.getFullYear()}function BEe(e,t){const a=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return a<0?-1:a>0?1:a}function zEe(e,t){const a=fEe(e,null==t?void 0:t.in);return a.setHours(23,59,59,999),a}function UEe(e,t){const a=fEe(e,null==t?void 0:t.in),r=a.getMonth();return a.setFullYear(a.getFullYear(),r+1,0),a.setHours(23,59,59,999),a}function HEe(e,t){const a=fEe(e,null==t?void 0:t.in),r=a.getMonth(),n=r-r%3;return a.setMonth(n,1),a.setHours(0,0,0,0),a}function WEe(e,t){const a=fEe(e,null==t?void 0:t.in);return a.setDate(1),a.setHours(0,0,0,0),a}function YEe(e,t){const a=fEe(e,null==t?void 0:t.in),r=a.getFullYear();return a.setFullYear(r+1,0,0),a.setHours(23,59,59,999),a}function qEe(e,t){const a=fEe(e,null==t?void 0:t.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}const VEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function GEe(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const KEe={date:GEe({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:GEe({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:GEe({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},XEe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function QEe(e){return(t,a)=>{let r;if("formatting"===((null==a?void 0:a.context)?String(a.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,n=(null==a?void 0:a.width)?String(a.width):t;r=e.formattingValues[n]||e.formattingValues[t]}else{const t=e.defaultWidth,n=(null==a?void 0:a.width)?String(a.width):e.defaultWidth;r=e.values[n]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const JEe={ordinalNumber:(e,t)=>{const a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:QEe({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:QEe({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:QEe({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:QEe({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:QEe({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function ZEe(e){return(t,a={})=>{const r=a.width,n=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(n);if(!s)return null;const l=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],i=Array.isArray(o)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}(o,(e=>e.test(l))):function(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}(o,(e=>e.test(l)));let d;return d=e.valueCallback?e.valueCallback(i):i,d=a.valueCallback?a.valueCallback(d):d,{value:d,rest:t.slice(l.length)}}}const eTe={ordinalNumber:function(e){return(t,a={})=>{const r=t.match(e.matchPattern);if(!r)return null;const n=r[0],s=t.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];return l=a.valueCallback?a.valueCallback(l):l,{value:l,rest:t.slice(n.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:ZEe({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ZEe({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:ZEe({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ZEe({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ZEe({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},tTe={code:"en-US",formatDistance:(e,t,a)=>{let r;const n=VEe[e];return r="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),(null==a?void 0:a.addSuffix)?a.comparison&&a.comparison>0?"in "+r:r+" ago":r},formatLong:KEe,formatRelative:(e,t,a,r)=>XEe[e],localize:JEe,match:eTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aTe(e,t){const a=fEe(e,null==t?void 0:t.in),r=+wEe(a)-+function(e,t){const a=jEe(e,t),r=hEe(e,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),wEe(r)}(a);return Math.round(r/dEe)+1}function rTe(e,t){var a,r,n,s,l,o,i,d;const c=fEe(e,null==t?void 0:t.in),u=c.getFullYear(),m=vEe(),h=null!=(d=null!=(i=null!=(s=null!=(n=null==t?void 0:t.firstWeekContainsDate)?n:null==(r=null==(a=null==t?void 0:t.locale)?void 0:a.options)?void 0:r.firstWeekContainsDate)?s:m.firstWeekContainsDate)?i:null==(o=null==(l=m.locale)?void 0:l.options)?void 0:o.firstWeekContainsDate)?d:1,f=hEe((null==t?void 0:t.in)||e,0);f.setFullYear(u+1,0,h),f.setHours(0,0,0,0);const p=yEe(f,t),x=hEe((null==t?void 0:t.in)||e,0);x.setFullYear(u,0,h),x.setHours(0,0,0,0);const g=yEe(x,t);return+c>=+p?u+1:+c>=+g?u:u-1}function nTe(e,t){const a=fEe(e,null==t?void 0:t.in),r=+yEe(a,t)-+function(e,t){var a,r,n,s,l,o,i,d;const c=vEe(),u=null!=(d=null!=(i=null!=(s=null!=(n=null==t?void 0:t.firstWeekContainsDate)?n:null==(r=null==(a=null==t?void 0:t.locale)?void 0:a.options)?void 0:r.firstWeekContainsDate)?s:c.firstWeekContainsDate)?i:null==(o=null==(l=c.locale)?void 0:l.options)?void 0:o.firstWeekContainsDate)?d:1,m=rTe(e,t),h=hEe((null==t?void 0:t.in)||e,0);return h.setFullYear(m,0,u),h.setHours(0,0,0,0),yEe(h,t)}(a,t);return Math.round(r/dEe)+1}function sTe(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const lTe={y(e,t){const a=e.getFullYear(),r=a>0?a:1-a;return sTe("yy"===t?r%100:r,t.length)},M(e,t){const a=e.getMonth();return"M"===t?String(a+1):sTe(a+1,2)},d:(e,t)=>sTe(e.getDate(),t.length),a(e,t){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];default:return"am"===a?"a.m.":"p.m."}},h:(e,t)=>sTe(e.getHours()%12||12,t.length),H:(e,t)=>sTe(e.getHours(),t.length),m:(e,t)=>sTe(e.getMinutes(),t.length),s:(e,t)=>sTe(e.getSeconds(),t.length),S(e,t){const a=t.length,r=e.getMilliseconds();return sTe(Math.trunc(r*Math.pow(10,a-3)),t.length)}},oTe="midnight",iTe="noon",dTe="morning",cTe="afternoon",uTe="evening",mTe="night",hTe={G:function(e,t,a){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});default:return a.era(r,{width:"wide"})}},y:function(e,t,a){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return a.ordinalNumber(r,{unit:"year"})}return lTe.y(e,t)},Y:function(e,t,a,r){const n=rTe(e,r),s=n>0?n:1-n;return"YY"===t?sTe(s%100,2):"Yo"===t?a.ordinalNumber(s,{unit:"year"}):sTe(s,t.length)},R:function(e,t){return sTe(jEe(e),t.length)},u:function(e,t){return sTe(e.getFullYear(),t.length)},Q:function(e,t,a){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return sTe(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,a){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return sTe(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,a){const r=e.getMonth();switch(t){case"M":case"MM":return lTe.M(e,t);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,a){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return sTe(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,a,r){const n=nTe(e,r);return"wo"===t?a.ordinalNumber(n,{unit:"week"}):sTe(n,t.length)},I:function(e,t,a){const r=aTe(e);return"Io"===t?a.ordinalNumber(r,{unit:"week"}):sTe(r,t.length)},d:function(e,t,a){return"do"===t?a.ordinalNumber(e.getDate(),{unit:"date"}):lTe.d(e,t)},D:function(e,t,a){const r=function(e,t){const a=fEe(e,null==t?void 0:t.in);return kEe(a,qEe(a))+1}(e);return"Do"===t?a.ordinalNumber(r,{unit:"dayOfYear"}):sTe(r,t.length)},E:function(e,t,a){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,a,r){const n=e.getDay(),s=(n-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return sTe(s,2);case"eo":return a.ordinalNumber(s,{unit:"day"});case"eee":return a.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(n,{width:"short",context:"formatting"});default:return a.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,a,r){const n=e.getDay(),s=(n-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return sTe(s,t.length);case"co":return a.ordinalNumber(s,{unit:"day"});case"ccc":return a.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(n,{width:"narrow",context:"standalone"});case"cccccc":return a.day(n,{width:"short",context:"standalone"});default:return a.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,a){const r=e.getDay(),n=0===r?7:r;switch(t){case"i":return String(n);case"ii":return sTe(n,t.length);case"io":return a.ordinalNumber(n,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,a){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,a){const r=e.getHours();let n;switch(n=12===r?iTe:0===r?oTe:r/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(n,{width:"narrow",context:"formatting"});default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,a){const r=e.getHours();let n;switch(n=r>=17?uTe:r>=12?cTe:r>=4?dTe:mTe,t){case"B":case"BB":case"BBB":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(n,{width:"narrow",context:"formatting"});default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,a){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),a.ordinalNumber(t,{unit:"hour"})}return lTe.h(e,t)},H:function(e,t,a){return"Ho"===t?a.ordinalNumber(e.getHours(),{unit:"hour"}):lTe.H(e,t)},K:function(e,t,a){const r=e.getHours()%12;return"Ko"===t?a.ordinalNumber(r,{unit:"hour"}):sTe(r,t.length)},k:function(e,t,a){let r=e.getHours();return 0===r&&(r=24),"ko"===t?a.ordinalNumber(r,{unit:"hour"}):sTe(r,t.length)},m:function(e,t,a){return"mo"===t?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):lTe.m(e,t)},s:function(e,t,a){return"so"===t?a.ordinalNumber(e.getSeconds(),{unit:"second"}):lTe.s(e,t)},S:function(e,t){return lTe.S(e,t)},X:function(e,t,a){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return pTe(r);case"XXXX":case"XX":return xTe(r);default:return xTe(r,":")}},x:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"x":return pTe(r);case"xxxx":case"xx":return xTe(r);default:return xTe(r,":")}},O:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fTe(r,":");default:return"GMT"+xTe(r,":")}},z:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fTe(r,":");default:return"GMT"+xTe(r,":")}},t:function(e,t,a){return sTe(Math.trunc(+e/1e3),t.length)},T:function(e,t,a){return sTe(+e,t.length)}};function fTe(e,t=""){const a=e>0?"-":"+",r=Math.abs(e),n=Math.trunc(r/60),s=r%60;return 0===s?a+String(n):a+String(n)+t+sTe(s,2)}function pTe(e,t){return e%60==0?(e>0?"-":"+")+sTe(Math.abs(e)/60,2):xTe(e,t)}function xTe(e,t=""){const a=e>0?"-":"+",r=Math.abs(e);return a+sTe(Math.trunc(r/60),2)+t+sTe(r%60,2)}const gTe=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},bTe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},vTe={p:bTe,P:(e,t)=>{const a=e.match(/(P+)(p+)?/)||[],r=a[1],n=a[2];if(!n)return gTe(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",gTe(r,t)).replace("{{time}}",bTe(n,t))}},yTe=/^D+$/,wTe=/^Y+$/,jTe=["D","DD","YY","YYYY"],NTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_Te=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,STe=/^'([^]*?)'?$/,kTe=/''/g,CTe=/[a-zA-Z]/;function ETe(e,t,a){var r,n,s,l,o,i,d,c,u,m,h,f,p,x,g,b,v,y;const w=vEe(),j=null!=(n=null!=(r=null==a?void 0:a.locale)?r:w.locale)?n:tTe,N=null!=(m=null!=(u=null!=(i=null!=(o=null==a?void 0:a.firstWeekContainsDate)?o:null==(l=null==(s=null==a?void 0:a.locale)?void 0:s.options)?void 0:l.firstWeekContainsDate)?i:w.firstWeekContainsDate)?u:null==(c=null==(d=w.locale)?void 0:d.options)?void 0:c.firstWeekContainsDate)?m:1,_=null!=(y=null!=(v=null!=(x=null!=(p=null==a?void 0:a.weekStartsOn)?p:null==(f=null==(h=null==a?void 0:a.locale)?void 0:h.options)?void 0:f.weekStartsOn)?x:w.weekStartsOn)?v:null==(b=null==(g=w.locale)?void 0:g.options)?void 0:b.weekStartsOn)?y:0,S=fEe(e,null==a?void 0:a.in);if(!LEe(S))throw new RangeError("Invalid time value");let k=t.match(_Te).map((e=>{const t=e[0];return"p"===t||"P"===t?(0,vTe[t])(e,j.formatLong):e})).join("").match(NTe).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:TTe(e)};if(hTe[t])return{isToken:!0,value:e};if(t.match(CTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));j.localize.preprocessor&&(k=j.localize.preprocessor(S,k));const C={firstWeekContainsDate:N,weekStartsOn:_,locale:j};return k.map((r=>{if(!r.isToken)return r.value;const n=r.value;return(!(null==a?void 0:a.useAdditionalWeekYearTokens)&&function(e){return wTe.test(e)}(n)||!(null==a?void 0:a.useAdditionalDayOfYearTokens)&&function(e){return yTe.test(e)}(n))&&function(e,t,a){const r=function(e,t,a){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,a);if(console.warn(r),jTe.includes(e))throw new RangeError(r)}(n,t,String(e)),(0,hTe[n[0]])(S,n,j.localize,C)})).join("")}function TTe(e){const t=e.match(STe);return t?t[1].replace(kTe,"'"):e}function OTe(e,t){return fEe(e,null==t?void 0:t.in).getDate()}function DTe(e,t){return fEe(e,null==t?void 0:t.in).getHours()}function ATe(e,t){return fEe(e,null==t?void 0:t.in).getMinutes()}function PTe(e,t){return fEe(e,null==t?void 0:t.in).getMonth()}function MTe(e){return fEe(e).getSeconds()}function LTe(e){return+fEe(e)}function ITe(e,t){return fEe(e,null==t?void 0:t.in).getFullYear()}function FTe(e,t){return+fEe(e)>+fEe(t)}function RTe(e,t){return+fEe(e)<+fEe(t)}class $Te{constructor(){f(this,"subPriority",0)}validate(e,t){return!0}}class BTe extends $Te{constructor(e,t,a,r,n){super(),this.value=e,this.validateValue=t,this.setValue=a,this.priority=r,n&&(this.subPriority=n)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,a){return this.setValue(e,t,this.value,a)}}class zTe extends $Te{constructor(e,t){super(),f(this,"priority",10),f(this,"subPriority",-1),this.context=e||(e=>hEe(t,e))}set(e,t){return t.timestampIsSet?e:hEe(e,function(e,t){const a=function(e){var t;return"function"==typeof e&&(null==(t=e.prototype)?void 0:t.constructor)===e}(t)?new t(0):hEe(t,0);return a.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),a}(e,this.context))}}class UTe{run(e,t,a,r){const n=this.parse(e,t,a,r);return n?{setter:new BTe(n.value,this.validate,this.set,this.priority,this.subPriority),rest:n.rest}:null}validate(e,t,a){return!0}}const HTe=/^(1[0-2]|0?\d)/,WTe=/^(3[0-1]|[0-2]?\d)/,YTe=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,qTe=/^(5[0-3]|[0-4]?\d)/,VTe=/^(2[0-3]|[0-1]?\d)/,GTe=/^(2[0-4]|[0-1]?\d)/,KTe=/^(1[0-1]|0?\d)/,XTe=/^(1[0-2]|0?\d)/,QTe=/^[0-5]?\d/,JTe=/^[0-5]?\d/,ZTe=/^\d/,eOe=/^\d{1,2}/,tOe=/^\d{1,3}/,aOe=/^\d{1,4}/,rOe=/^-?\d+/,nOe=/^-?\d/,sOe=/^-?\d{1,2}/,lOe=/^-?\d{1,3}/,oOe=/^-?\d{1,4}/,iOe=/^([+-])(\d{2})(\d{2})?|Z/,dOe=/^([+-])(\d{2})(\d{2})|Z/,cOe=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,uOe=/^([+-])(\d{2}):(\d{2})|Z/,mOe=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function hOe(e,t){return e?{value:t(e.value),rest:e.rest}:e}function fOe(e,t){const a=t.match(e);return a?{value:parseInt(a[0],10),rest:t.slice(a[0].length)}:null}function pOe(e,t){const a=t.match(e);if(!a)return null;if("Z"===a[0])return{value:0,rest:t.slice(1)};const r="+"===a[1]?1:-1,n=a[2]?parseInt(a[2],10):0,s=a[3]?parseInt(a[3],10):0,l=a[5]?parseInt(a[5],10):0;return{value:r*(n*uEe+s*cEe+1e3*l),rest:t.slice(a[0].length)}}function xOe(e){return fOe(rOe,e)}function gOe(e,t){switch(e){case 1:return fOe(ZTe,t);case 2:return fOe(eOe,t);case 3:return fOe(tOe,t);case 4:return fOe(aOe,t);default:return fOe(new RegExp("^\\d{1,"+e+"}"),t)}}function bOe(e,t){switch(e){case 1:return fOe(nOe,t);case 2:return fOe(sOe,t);case 3:return fOe(lOe,t);case 4:return fOe(oOe,t);default:return fOe(new RegExp("^-?\\d{1,"+e+"}"),t)}}function vOe(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function yOe(e,t){const a=t>0,r=a?t:1-t;let n;if(r<=50)n=e||100;else{const t=r+50;n=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return a?n:1-n}function wOe(e){return e%400==0||e%4==0&&e%100!=0}const jOe=[31,28,31,30,31,30,31,31,30,31,30,31],NOe=[31,29,31,30,31,30,31,31,30,31,30,31];function _Oe(e,t,a){var r,n,s,l,o,i,d,c;const u=vEe(),m=null!=(c=null!=(d=null!=(l=null!=(s=null==a?void 0:a.weekStartsOn)?s:null==(n=null==(r=null==a?void 0:a.locale)?void 0:r.options)?void 0:n.weekStartsOn)?l:u.weekStartsOn)?d:null==(i=null==(o=u.locale)?void 0:o.options)?void 0:i.weekStartsOn)?c:0,h=fEe(e,null==a?void 0:a.in),f=h.getDay(),p=7-m;return pEe(h,t<0||t>6?t-(f+p)%7:((t%7+7)%7+p)%7-(f+p)%7,a)}function SOe(e,t,a){const r=fEe(e,null==a?void 0:a.in),n=function(e,t){const a=fEe(e,null==t?void 0:t.in).getDay();return 0===a?7:a}(r,a);return pEe(r,t-n,a)}const kOe={G:new class extends UTe{constructor(){super(...arguments),f(this,"priority",140),f(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,a){switch(t){case"G":case"GG":case"GGG":return a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"});case"GGGGG":return a.era(e,{width:"narrow"});default:return a.era(e,{width:"wide"})||a.era(e,{width:"abbreviated"})||a.era(e,{width:"narrow"})}}set(e,t,a){return t.era=a,e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},y:new class extends UTe{constructor(){super(...arguments),f(this,"priority",130),f(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,a){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return hOe(gOe(4,e),r);case"yo":return hOe(a.ordinalNumber(e,{unit:"year"}),r);default:return hOe(gOe(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a){const r=e.getFullYear();if(a.isTwoDigitYear){const t=yOe(a.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const n="era"in t&&1!==t.era?1-a.year:a.year;return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},Y:new class extends UTe{constructor(){super(...arguments),f(this,"priority",130),f(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,a){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return hOe(gOe(4,e),r);case"Yo":return hOe(a.ordinalNumber(e,{unit:"year"}),r);default:return hOe(gOe(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,a,r){const n=rTe(e,r);if(a.isTwoDigitYear){const t=yOe(a.year,n);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),yEe(e,r)}const s="era"in t&&1!==t.era?1-a.year:a.year;return e.setFullYear(s,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),yEe(e,r)}},R:new class extends UTe{constructor(){super(...arguments),f(this,"priority",130),f(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return bOe("R"===t?4:t.length,e)}set(e,t,a){const r=hEe(e,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),wEe(r)}},u:new class extends UTe{constructor(){super(...arguments),f(this,"priority",130),f(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return bOe("u"===t?4:t.length,e)}set(e,t,a){return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}},Q:new class extends UTe{constructor(){super(...arguments),f(this,"priority",120),f(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"Q":case"QQ":return gOe(t.length,e);case"Qo":return a.ordinalNumber(e,{unit:"quarter"});case"QQQ":return a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(e,{width:"narrow",context:"formatting"});default:return a.quarter(e,{width:"wide",context:"formatting"})||a.quarter(e,{width:"abbreviated",context:"formatting"})||a.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth(3*(a-1),1),e.setHours(0,0,0,0),e}},q:new class extends UTe{constructor(){super(...arguments),f(this,"priority",120),f(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"q":case"qq":return gOe(t.length,e);case"qo":return a.ordinalNumber(e,{unit:"quarter"});case"qqq":return a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(e,{width:"narrow",context:"standalone"});default:return a.quarter(e,{width:"wide",context:"standalone"})||a.quarter(e,{width:"abbreviated",context:"standalone"})||a.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,a){return e.setMonth(3*(a-1),1),e.setHours(0,0,0,0),e}},M:new class extends UTe{constructor(){super(...arguments),f(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),f(this,"priority",110)}parse(e,t,a){const r=e=>e-1;switch(t){case"M":return hOe(fOe(HTe,e),r);case"MM":return hOe(gOe(2,e),r);case"Mo":return hOe(a.ordinalNumber(e,{unit:"month"}),r);case"MMM":return a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(e,{width:"narrow",context:"formatting"});default:return a.month(e,{width:"wide",context:"formatting"})||a.month(e,{width:"abbreviated",context:"formatting"})||a.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}},L:new class extends UTe{constructor(){super(...arguments),f(this,"priority",110),f(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,a){const r=e=>e-1;switch(t){case"L":return hOe(fOe(HTe,e),r);case"LL":return hOe(gOe(2,e),r);case"Lo":return hOe(a.ordinalNumber(e,{unit:"month"}),r);case"LLL":return a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(e,{width:"narrow",context:"standalone"});default:return a.month(e,{width:"wide",context:"standalone"})||a.month(e,{width:"abbreviated",context:"standalone"})||a.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.setMonth(a,1),e.setHours(0,0,0,0),e}},w:new class extends UTe{constructor(){super(...arguments),f(this,"priority",100),f(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,a){switch(t){case"w":return fOe(qTe,e);case"wo":return a.ordinalNumber(e,{unit:"week"});default:return gOe(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a,r){return yEe(function(e,t,a){const r=fEe(e,null==a?void 0:a.in),n=nTe(r,a)-t;return r.setDate(r.getDate()-7*n),fEe(r,null==a?void 0:a.in)}(e,a,r),r)}},I:new class extends UTe{constructor(){super(...arguments),f(this,"priority",100),f(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,a){switch(t){case"I":return fOe(qTe,e);case"Io":return a.ordinalNumber(e,{unit:"week"});default:return gOe(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,a){return wEe(function(e,t,a){const r=fEe(e,null==a?void 0:a.in),n=aTe(r,a)-t;return r.setDate(r.getDate()-7*n),r}(e,a))}},d:new class extends UTe{constructor(){super(...arguments),f(this,"priority",90),f(this,"subPriority",1),f(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"d":return fOe(WTe,e);case"do":return a.ordinalNumber(e,{unit:"date"});default:return gOe(t.length,e)}}validate(e,t){const a=wOe(e.getFullYear()),r=e.getMonth();return a?t>=1&&t<=NOe[r]:t>=1&&t<=jOe[r]}set(e,t,a){return e.setDate(a),e.setHours(0,0,0,0),e}},D:new class extends UTe{constructor(){super(...arguments),f(this,"priority",90),f(this,"subpriority",1),f(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,a){switch(t){case"D":case"DD":return fOe(YTe,e);case"Do":return a.ordinalNumber(e,{unit:"date"});default:return gOe(t.length,e)}}validate(e,t){return wOe(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,a){return e.setMonth(0,a),e.setHours(0,0,0,0),e}},E:new class extends UTe{constructor(){super(...arguments),f(this,"priority",90),f(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,a){switch(t){case"E":case"EE":case"EEE":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,r){return(e=_Oe(e,a,r)).setHours(0,0,0,0),e}},e:new class extends UTe{constructor(){super(...arguments),f(this,"priority",90),f(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,a,r){const n=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return hOe(gOe(t.length,e),n);case"eo":return hOe(a.ordinalNumber(e,{unit:"day"}),n);case"eee":return a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});case"eeeee":return a.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"});default:return a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,r){return(e=_Oe(e,a,r)).setHours(0,0,0,0),e}},c:new class extends UTe{constructor(){super(...arguments),f(this,"priority",90),f(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,a,r){const n=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return hOe(gOe(t.length,e),n);case"co":return hOe(a.ordinalNumber(e,{unit:"day"}),n);case"ccc":return a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});case"ccccc":return a.day(e,{width:"narrow",context:"standalone"});case"cccccc":return a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"});default:return a.day(e,{width:"wide",context:"standalone"})||a.day(e,{width:"abbreviated",context:"standalone"})||a.day(e,{width:"short",context:"standalone"})||a.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,a,r){return(e=_Oe(e,a,r)).setHours(0,0,0,0),e}},i:new class extends UTe{constructor(){super(...arguments),f(this,"priority",90),f(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,a){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return gOe(t.length,e);case"io":return a.ordinalNumber(e,{unit:"day"});case"iii":return hOe(a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return hOe(a.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return hOe(a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),r);default:return hOe(a.day(e,{width:"wide",context:"formatting"})||a.day(e,{width:"abbreviated",context:"formatting"})||a.day(e,{width:"short",context:"formatting"})||a.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,a){return(e=SOe(e,a)).setHours(0,0,0,0),e}},a:new class extends UTe{constructor(){super(...arguments),f(this,"priority",80),f(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,a){switch(t){case"a":case"aa":case"aaa":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(e,{width:"narrow",context:"formatting"});default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(vOe(a),0,0,0),e}},b:new class extends UTe{constructor(){super(...arguments),f(this,"priority",80),f(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,a){switch(t){case"b":case"bb":case"bbb":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(e,{width:"narrow",context:"formatting"});default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(vOe(a),0,0,0),e}},B:new class extends UTe{constructor(){super(...arguments),f(this,"priority",80),f(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,a){switch(t){case"B":case"BB":case"BBB":return a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(e,{width:"narrow",context:"formatting"});default:return a.dayPeriod(e,{width:"wide",context:"formatting"})||a.dayPeriod(e,{width:"abbreviated",context:"formatting"})||a.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,a){return e.setHours(vOe(a),0,0,0),e}},h:new class extends UTe{constructor(){super(...arguments),f(this,"priority",70),f(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,a){switch(t){case"h":return fOe(XTe,e);case"ho":return a.ordinalNumber(e,{unit:"hour"});default:return gOe(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,a){const r=e.getHours()>=12;return r&&a<12?e.setHours(a+12,0,0,0):r||12!==a?e.setHours(a,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends UTe{constructor(){super(...arguments),f(this,"priority",70),f(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,a){switch(t){case"H":return fOe(VTe,e);case"Ho":return a.ordinalNumber(e,{unit:"hour"});default:return gOe(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,a){return e.setHours(a,0,0,0),e}},K:new class extends UTe{constructor(){super(...arguments),f(this,"priority",70),f(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,a){switch(t){case"K":return fOe(KTe,e);case"Ko":return a.ordinalNumber(e,{unit:"hour"});default:return gOe(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,a){return e.getHours()>=12&&a<12?e.setHours(a+12,0,0,0):e.setHours(a,0,0,0),e}},k:new class extends UTe{constructor(){super(...arguments),f(this,"priority",70),f(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,a){switch(t){case"k":return fOe(GTe,e);case"ko":return a.ordinalNumber(e,{unit:"hour"});default:return gOe(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,a){const r=a<=24?a%24:a;return e.setHours(r,0,0,0),e}},m:new class extends UTe{constructor(){super(...arguments),f(this,"priority",60),f(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"m":return fOe(QTe,e);case"mo":return a.ordinalNumber(e,{unit:"minute"});default:return gOe(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setMinutes(a,0,0),e}},s:new class extends UTe{constructor(){super(...arguments),f(this,"priority",50),f(this,"incompatibleTokens",["t","T"])}parse(e,t,a){switch(t){case"s":return fOe(JTe,e);case"so":return a.ordinalNumber(e,{unit:"second"});default:return gOe(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,a){return e.setSeconds(a,0),e}},S:new class extends UTe{constructor(){super(...arguments),f(this,"priority",30),f(this,"incompatibleTokens",["t","T"])}parse(e,t){return hOe(gOe(t.length,e),(e=>Math.trunc(e*Math.pow(10,3-t.length))))}set(e,t,a){return e.setMilliseconds(a),e}},X:new class extends UTe{constructor(){super(...arguments),f(this,"priority",10),f(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return pOe(iOe,e);case"XX":return pOe(dOe,e);case"XXXX":return pOe(cOe,e);case"XXXXX":return pOe(mOe,e);default:return pOe(uOe,e)}}set(e,t,a){return t.timestampIsSet?e:hEe(e,e.getTime()-NEe(e)-a)}},x:new class extends UTe{constructor(){super(...arguments),f(this,"priority",10),f(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return pOe(iOe,e);case"xx":return pOe(dOe,e);case"xxxx":return pOe(cOe,e);case"xxxxx":return pOe(mOe,e);default:return pOe(uOe,e)}}set(e,t,a){return t.timestampIsSet?e:hEe(e,e.getTime()-NEe(e)-a)}},t:new class extends UTe{constructor(){super(...arguments),f(this,"priority",40),f(this,"incompatibleTokens","*")}parse(e){return xOe(e)}set(e,t,a){return[hEe(e,1e3*a),{timestampIsSet:!0}]}},T:new class extends UTe{constructor(){super(...arguments),f(this,"priority",20),f(this,"incompatibleTokens","*")}parse(e){return xOe(e)}set(e,t,a){return[hEe(e,a),{timestampIsSet:!0}]}}},COe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,EOe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TOe=/^'([^]*?)'?$/,OOe=/''/g,DOe=/\S/,AOe=/[a-zA-Z]/;function POe(e,t,a,r){var n,s,l,o,i,d,c,u,m,h,f,p,x,g,b,v,y,w;const j=()=>hEe((null==r?void 0:r.in)||a,NaN),N=Object.assign({},vEe()),_=null!=(s=null!=(n=null==r?void 0:r.locale)?n:N.locale)?s:tTe,S=null!=(h=null!=(m=null!=(d=null!=(i=null==r?void 0:r.firstWeekContainsDate)?i:null==(o=null==(l=null==r?void 0:r.locale)?void 0:l.options)?void 0:o.firstWeekContainsDate)?d:N.firstWeekContainsDate)?m:null==(u=null==(c=N.locale)?void 0:c.options)?void 0:u.firstWeekContainsDate)?h:1,k=null!=(w=null!=(y=null!=(g=null!=(x=null==r?void 0:r.weekStartsOn)?x:null==(p=null==(f=null==r?void 0:r.locale)?void 0:f.options)?void 0:p.weekStartsOn)?g:N.weekStartsOn)?y:null==(v=null==(b=N.locale)?void 0:b.options)?void 0:v.weekStartsOn)?w:0;if(!t)return e?j():fEe(a,null==r?void 0:r.in);const C={firstWeekContainsDate:S,weekStartsOn:k,locale:_},E=[new zTe(null==r?void 0:r.in,a)],T=t.match(EOe).map((e=>{const t=e[0];return t in vTe?(0,vTe[t])(e,_.formatLong):e})).join("").match(COe),O=[];for(let M of T){const t=M[0],a=kOe[t];if(a){const{incompatibleTokens:r}=a;if(Array.isArray(r)){const e=O.find((e=>r.includes(e.token)||e.token===t));if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${M}\` at the same time`)}else if("*"===a.incompatibleTokens&&O.length>0)throw new RangeError(`The format string mustn't contain \`${M}\` and any other token at the same time`);O.push({token:t,fullToken:M});const n=a.run(e,M,_.match,C);if(!n)return j();E.push(n.setter),e=n.rest}else{if(t.match(AOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");if("''"===M?M="'":"'"===t&&(M=M.match(TOe)[1].replace(OOe,"'")),0!==e.indexOf(M))return j();e=e.slice(M.length)}}if(e.length>0&&DOe.test(e))return j();const D=E.map((e=>e.priority)).sort(((e,t)=>t-e)).filter(((e,t,a)=>a.indexOf(e)===t)).map((e=>E.filter((t=>t.priority===e)).sort(((e,t)=>t.subPriority-e.subPriority)))).map((e=>e[0]));let A=fEe(a,null==r?void 0:r.in);if(isNaN(+A))return j();const P={};for(const M of D){if(!M.validate(A,C))return j();const e=M.set(A,P,C);Array.isArray(e)?(A=e[0],Object.assign(P,e[1])):A=e}return A}function MOe(e,t,a){const r=+fEe(e,null==a?void 0:a.in),[n,s]=[+fEe(t.start,null==a?void 0:a.in),+fEe(t.end,null==a?void 0:a.in)].sort(((e,t)=>e-t));return r>=n&&r<=s}function LOe(e,t){const a=()=>hEe(null==t?void 0:t.in,NaN),r=function(e){const t={},a=e.split(IOe.dateTimeDelimiter);let r;if(a.length>2)return t;if(/:/.test(a[0])?r=a[0]:(t.date=a[0],r=a[1],IOe.timeZoneDelimiter.test(t.date)&&(t.date=e.split(IOe.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const e=IOe.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let n;if(r.date){const e=function(e,t){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(a);if(!r)return{year:NaN,restDateString:""};const n=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?n:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(r.date,2);n=function(e,t){if(null===t)return new Date(NaN);const a=e.match(FOe);if(!a)return new Date(NaN);const r=!!a[4],n=BOe(a[1]),s=BOe(a[2])-1,l=BOe(a[3]),o=BOe(a[4]),i=BOe(a[5])-1;if(r)return function(e,t,a){return t>=1&&t<=53&&a>=0&&a<=6}(0,o,i)?function(e,t,a){const r=new Date(0);r.setUTCFullYear(e,0,4);const n=r.getUTCDay()||7,s=7*(t-1)+a+1-n;return r.setUTCDate(r.getUTCDate()+s),r}(t,o,i):new Date(NaN);{const e=new Date(0);return function(e,t,a){return t>=0&&t<=11&&a>=1&&a<=(UOe[t]||(HOe(e)?29:28))}(t,s,l)&&function(e,t){return t>=1&&t<=(HOe(e)?366:365)}(t,n)?(e.setUTCFullYear(t,s,Math.max(n,l)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!n||isNaN(+n))return a();const s=+n;let l,o=0;if(r.time&&(o=function(e){const t=e.match(ROe);if(!t)return NaN;const a=zOe(t[1]),r=zOe(t[2]),n=zOe(t[3]);return function(e,t,a){return 24===e?0===t&&0===a:a>=0&&a<60&&t>=0&&t<60&&e>=0&&e<25}(a,r,n)?a*uEe+r*cEe+1e3*n:NaN}(r.time),isNaN(o)))return a();if(!r.timezone){const e=new Date(s+o),a=fEe(0,null==t?void 0:t.in);return a.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),a.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),a}return l=function(e){if("Z"===e)return 0;const t=e.match($Oe);if(!t)return 0;const a="+"===t[1]?-1:1,r=parseInt(t[2]),n=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,n)?a*(r*uEe+n*cEe):NaN}(r.timezone),isNaN(l)?a():fEe(s+o+l,null==t?void 0:t.in)}const IOe={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},FOe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ROe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$Oe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function BOe(e){return e?parseInt(e):1}function zOe(e){return e&&parseFloat(e.replace(",","."))||0}const UOe=[31,null,31,30,31,30,31,31,30,31,30,31];function HOe(e){return e%400==0||e%4==0&&e%100!=0}function WOe(e,t,a){const r=fEe(e,null==a?void 0:a.in),n=r.getFullYear(),s=r.getDate(),l=hEe(e,0);l.setFullYear(n,t,15),l.setHours(0,0,0,0);const o=function(e,t){const a=fEe(e,null==t?void 0:t.in),r=a.getFullYear(),n=a.getMonth(),s=hEe(a,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}(l);return r.setMonth(t,Math.min(s,o)),r}function YOe(e,t,a){const r=fEe(e,null==a?void 0:a.in);return r.setHours(t),r}function qOe(e,t,a){const r=fEe(e,null==a?void 0:a.in);return r.setMinutes(t),r}function VOe(e,t,a){const r=fEe(e,null==a?void 0:a.in),n=t-(Math.trunc(r.getMonth()/3)+1);return WOe(r,r.getMonth()+3*n)}function GOe(e,t,a){const r=fEe(e,null==a?void 0:a.in);return r.setSeconds(t),r}function KOe(e,t,a){const r=fEe(e,null==a?void 0:a.in);return isNaN(+r)?hEe(e,NaN):(r.setFullYear(t),r)}function XOe(e,t,a){return xEe(e,-t,a)}function QOe(e,t,a){return EEe(e,-t,a)}function JOe(e,t,a){return OEe(e,-t,a)}function ZOe(e,t,a){return DEe(e,-t,a)}var eDe="undefined"!=typeof document?Q.useLayoutEffect:Q.useEffect;function tDe(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let a,r,n;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(a=e.length,a!==t.length)return!1;for(r=a;0!=r--;)if(!tDe(e[r],t[r]))return!1;return!0}if(n=Object.keys(e),a=n.length,a!==Object.keys(t).length)return!1;for(r=a;0!=r--;)if(!{}.hasOwnProperty.call(t,n[r]))return!1;for(r=a;0!=r--;){const a=n[r];if(!("_owner"===a&&e.$$typeof||tDe(e[a],t[a])))return!1}return!0}return e!=e&&t!=t}function aDe(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rDe(e,t){const a=aDe(e);return Math.round(t*a)/a}function nDe(e){const t=Q.useRef(e);return eDe((()=>{t.current=e})),t}const sDe=(e,t)=>m(u({},wse(e)),{options:[e,t]}),lDe=(e,t)=>m(u({},(e=>({name:"arrow",options:e,fn(t){const{element:a,padding:r}="function"==typeof e?e(t):e;return a&&(n=a,{}.hasOwnProperty.call(n,"current"))?null!=a.current?Nse({element:a.current,padding:r}).fn(t):{}:a?Nse({element:a,padding:r}).fn(t):{};var n}}))(e)),{options:[e,t]}),oDe=u({},Z),iDe=oDe.useInsertionEffect||(e=>e());var dDe="undefined"!=typeof document?Q.useLayoutEffect:Q.useEffect;let cDe=!1,uDe=0;const mDe=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+uDe++,hDe=oDe.useId||function(){const[e,t]=Q.useState((()=>cDe?mDe():void 0));return dDe((()=>{null==e&&t(mDe())}),[]),Q.useEffect((()=>{cDe=!0}),[]),e},fDe=Q.forwardRef((function(e,t){const a=e,{context:{placement:r,elements:{floating:n},middlewareData:{arrow:s,shift:l}},width:o=14,height:i=7,tipRadius:d=0,strokeWidth:c=0,staticOffset:f,stroke:p,d:x,style:g={}}=a,b=g,{transform:v}=b,y=h(b,["transform"]),w=h(a,["context","width","height","tipRadius","strokeWidth","staticOffset","stroke","d","style"]),j=hDe(),[N,_]=Q.useState(!1);if(dDe((()=>{n&&"rtl"===Zne(n).direction&&_(!0)}),[n]),!n)return null;const[S,k]=r.split("-"),C="top"===S||"bottom"===S;let E=f;(C&&null!=l&&l.x||!C&&null!=l&&l.y)&&(E=null);const T=2*c,O=T/2,D=o/2*(d/-8+1),A=i/2*d/4,P=!!x,M=E&&"end"===k?"bottom":"top";let L=E&&"end"===k?"right":"left";E&&N&&(L="end"===k?"left":"right");const I=null!=(null==s?void 0:s.x)?E||s.x:"",F=null!=(null==s?void 0:s.y)?E||s.y:"",R=x||"M0,0 H"+o+" L"+(o-D)+","+(i-A)+" Q"+o/2+","+i+" "+D+","+(i-A)+" Z",$={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[S];return oe.jsxs("svg",m(u({},w),{"aria-hidden":!0,ref:t,width:P?o:o+T,height:o,viewBox:"0 0 "+o+" "+(i>o?i:o),style:u({position:"absolute",pointerEvents:"none",[L]:I,[M]:F,[S]:C||P?"100%":"calc(100% - "+T/2+"px)",transform:[$,v].filter((e=>!!e)).join(" ")},y),children:[T>0&&oe.jsx("path",{clipPath:"url(#"+j+")",fill:"none",stroke:p,strokeWidth:T+(x?0:1),d:R}),oe.jsx("path",{stroke:T&&!x?w.fill:"none",d:R}),oe.jsx("clipPath",{id:j,children:oe.jsx("rect",{x:-O,y:O*(P?-1:1),width:o+T,height:o})})]}))})),pDe=Q.createContext(null),xDe=Q.createContext(null);function gDe(e){const{open:t=!1,onOpenChange:a,elements:r}=e,n=hDe(),s=Q.useRef({}),[l]=Q.useState((()=>function(){const e=new Map;return{emit(t,a){var r;null==(r=e.get(t))||r.forEach((e=>e(a)))},on(t,a){e.has(t)||e.set(t,new Set),e.get(t).add(a)},off(t,a){var r;null==(r=e.get(t))||r.delete(a)}}}())),o=null!=((null==(i=Q.useContext(pDe))?void 0:i.id)||null);var i;const[d,c]=Q.useState(r.reference),u=function(e){const t=Q.useRef((()=>{}));return iDe((()=>{t.current=e})),Q.useCallback((function(){for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return null==t.current?void 0:t.current(...a)}),[])}(((e,t,r)=>{s.current.openEvent=e?t:void 0,l.emit("openchange",{open:e,event:t,reason:r,nested:o}),null==a||a(e,t,r)})),m=Q.useMemo((()=>({setPositionReference:c})),[]),h=Q.useMemo((()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference})),[d,r.reference,r.floating]);return Q.useMemo((()=>({dataRef:s,open:t,onOpenChange:u,elements:h,events:l,floatingId:n,refs:m})),[t,u,h,l,n,m])}function bDe(e){void 0===e&&(e={});const{nodeId:t}=e,a=gDe(m(u({},e),{elements:u({reference:null,floating:null},e.elements)})),r=e.rootContext||a,n=r.elements,[s,l]=Q.useState(null),[o,i]=Q.useState(null),d=(null==n?void 0:n.domReference)||s,c=Q.useRef(null),h=Q.useContext(xDe);dDe((()=>{d&&(c.current=d)}),[d]);const f=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:a="absolute",middleware:r=[],platform:n,elements:{reference:s,floating:l}={},transform:o=!0,whileElementsMounted:i,open:d}=e,[c,h]=Q.useState({x:0,y:0,strategy:a,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=Q.useState(r);tDe(f,r)||p(r);const[x,g]=Q.useState(null),[b,v]=Q.useState(null),y=Q.useCallback((e=>{e!==_.current&&(_.current=e,g(e))}),[]),w=Q.useCallback((e=>{e!==S.current&&(S.current=e,v(e))}),[]),j=s||x,N=l||b,_=Q.useRef(null),S=Q.useRef(null),k=Q.useRef(c),C=null!=i,E=nDe(i),T=nDe(n),O=nDe(d),D=Q.useCallback((()=>{if(!_.current||!S.current)return;const e={placement:t,strategy:a,middleware:f};T.current&&(e.platform=T.current),_se(_.current,S.current,e).then((e=>{const t=m(u({},e),{isPositioned:!1!==O.current});A.current&&!tDe(k.current,t)&&(k.current=t,fu.flushSync((()=>{h(t)})))}))}),[f,t,a,T,O]);eDe((()=>{!1===d&&k.current.isPositioned&&(k.current.isPositioned=!1,h((e=>m(u({},e),{isPositioned:!1}))))}),[d]);const A=Q.useRef(!1);eDe((()=>(A.current=!0,()=>{A.current=!1})),[]),eDe((()=>{if(j&&(_.current=j),N&&(S.current=N),j&&N){if(E.current)return E.current(j,N,D);D()}}),[j,N,D,E,C]);const P=Q.useMemo((()=>({reference:_,floating:S,setReference:y,setFloating:w})),[y,w]),M=Q.useMemo((()=>({reference:j,floating:N})),[j,N]),L=Q.useMemo((()=>{const e={position:a,left:0,top:0};if(!M.floating)return e;const t=rDe(M.floating,c.x),r=rDe(M.floating,c.y);return o?u(m(u({},e),{transform:"translate("+t+"px, "+r+"px)"}),aDe(M.floating)>=1.5&&{willChange:"transform"}):{position:a,left:t,top:r}}),[a,o,M.floating,c.x,c.y]);return Q.useMemo((()=>m(u({},c),{update:D,refs:P,elements:M,floatingStyles:L})),[c,D,P,M,L])}(m(u({},e),{elements:u(u({},n),o&&{reference:o})})),p=Q.useCallback((e=>{const t=Wne(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;i(t),f.refs.setReference(t)}),[f.refs]),x=Q.useCallback((e=>{(Wne(e)||null===e)&&(c.current=e,l(e)),(Wne(f.refs.reference.current)||null===f.refs.reference.current||null!==e&&!Wne(e))&&f.refs.setReference(e)}),[f.refs]),g=Q.useMemo((()=>m(u({},f.refs),{setReference:x,setPositionReference:p,domReference:c})),[f.refs,x,p]),b=Q.useMemo((()=>m(u({},f.elements),{domReference:d})),[f.elements,d]),v=Q.useMemo((()=>m(u(u({},f),r),{refs:g,elements:b,nodeId:t})),[f,g,b,t,r]);return dDe((()=>{r.dataRef.current.floatingContext=v;const e=null==h?void 0:h.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),Q.useMemo((()=>m(u({},f),{context:v,refs:g,elements:b})),[f,g,b,v])}
/*!
      react-datepicker v8.3.0
      https://github.com/Hacker0x01/react-datepicker
      Released under the MIT License.
    */var vDe=function(e,t){return(vDe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])})(e,t)};function yDe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}vDe(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var wDe=function(){return wDe=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},wDe.apply(this,arguments)};function jDe(e,t,a){if(a||2===arguments.length)for(var r,n=0,s=t.length;n<s;n++)!r&&n in t||(r||(r=Array.prototype.slice.call(t,0,n)),r[n]=t[n]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var NDe,_De,SDe=function(e){var t=e.showTimeSelectOnly,a=void 0!==t&&t,r=e.showTime,n=void 0!==r&&r,s=e.className,l=e.children,o=a?"Choose Time":"Choose Date".concat(n?" and Time":"");return J.createElement("div",{className:s,role:"dialog","aria-label":o,"aria-modal":"true"},l)},kDe=function(e){var t=e.children,a=e.onClickOutside,r=e.className,n=e.containerRef,s=e.style,l=function(e,t){var a=Q.useRef(null),r=Q.useRef(e);r.current=e;var n=Q.useCallback((function(e){var n,s=e.composed&&e.composedPath&&e.composedPath().find((function(e){return e instanceof Node}))||e.target;a.current&&!a.current.contains(s)&&(t&&s instanceof HTMLElement&&s.classList.contains(t)||null===(n=r.current)||void 0===n||n.call(r,e))}),[t]);return Q.useEffect((function(){return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[n]),a}(a,e.ignoreClass);return J.createElement("div",{className:r,style:s,ref:function(e){l.current=e,n&&(n.current=e)}},t)};function CDe(){return"undefined"!=typeof window?window:globalThis}function EDe(e){if(null==e)return new Date;var t="string"==typeof e?LOe(e):fEe(e);return ODe(t)?t:new Date}function TDe(e,t,a,r,n){void 0===n&&(n=EDe());for(var s=KDe(a)||KDe(GDe()),l=0,o=Array.isArray(t)?t:[t];l<o.length;l++){var i=o[l],d=POe(e,i,n,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(ODe(d)&&(!r||e===DDe(d,i,a)))return d}return null}function ODe(e,t){return LEe(e)&&!RTe(e,new Date("1/1/1800"))}function DDe(e,t,a){if("en"===a)return ETe(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=a?KDe(a):void 0;return a&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(a,'"].')),ETe(e,t,{locale:r=r||KDe(GDe()),useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ADe(e,t){var a=t.dateFormat,r=t.locale,n=Array.isArray(a)&&a.length>0?a[0]:a;return e&&DDe(e,n,r)||""}function PDe(e,t){var a=t.hour,r=void 0===a?0:a,n=t.minute,s=void 0===n?0:n,l=t.second;return YOe(qOe(GOe(e,void 0===l?0:l),s),r)}function MDe(e){return SEe(e)}function LDe(e,t,a){return yEe(e,{locale:KDe(t||GDe()),weekStartsOn:a})}function IDe(e){return WEe(e)}function FDe(e){return qEe(e)}function RDe(e){return HEe(e)}function $De(){return SEe(EDe())}function BDe(e){return zEe(e)}function zDe(e){return function(e,t){var a,r,n,s;const l=vEe(),o=null!=(s=null!=(n=l.weekStartsOn)?n:null==(r=null==(a=l.locale)?void 0:a.options)?void 0:r.weekStartsOn)?s:0,i=fEe(e,null==t?void 0:t.in),d=i.getDay(),c=6+(d<o?-7:0)-(d-o);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}(e)}function UDe(e,t){return e&&t?function(e,t,a){const[r,n]=_Ee(null==a||a.in,e,t);return r.getFullYear()===n.getFullYear()}(e,t):!e&&!t}function HDe(e,t){return e&&t?function(e,t,a){const[r,n]=_Ee(null==a||a.in,e,t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}(e,t):!e&&!t}function WDe(e,t){return e&&t?function(e,t,a){const[r,n]=_Ee(null==a||a.in,e,t);return+HEe(r)==+HEe(n)}(e,t):!e&&!t}function YDe(e,t){return e&&t?function(e,t,a){const[r,n]=_Ee(null==a||a.in,e,t);return+SEe(r)==+SEe(n)}(e,t):!e&&!t}function qDe(e,t){return e&&t?(a=t,+fEe(e)==+fEe(a)):!e&&!t;var a}function VDe(e,t,a){var r,n=SEe(t),s=zEe(a);try{r=MOe(e,{start:n,end:s})}catch(l){r=!1}return r}function GDe(){return CDe().__localeId__}function KDe(e){if("string"==typeof e){var t=CDe();return t.__localeData__?t.__localeData__[e]:void 0}return e}function XDe(e,t){return DDe(WOe(EDe(),e),"LLLL",t)}function QDe(e,t){return DDe(WOe(EDe(),e),"LLL",t)}function JDe(e,t){var a=void 0===t?{}:t,r=a.minDate,n=a.maxDate,s=a.excludeDates,l=a.excludeDateIntervals,o=a.includeDates,i=a.includeDateIntervals,d=a.filterDate;return oAe(e,{minDate:r,maxDate:n})||s&&s.some((function(t){return t instanceof Date?YDe(e,t):YDe(e,t.date)}))||l&&l.some((function(t){var a=t.start,r=t.end;return MOe(e,{start:a,end:r})}))||o&&!o.some((function(t){return YDe(e,t)}))||i&&!i.some((function(t){var a=t.start,r=t.end;return MOe(e,{start:a,end:r})}))||d&&!d(EDe(e))||!1}function ZDe(e,t){var a=void 0===t?{}:t,r=a.excludeDates,n=a.excludeDateIntervals;return n&&n.length>0?n.some((function(t){var a=t.start,r=t.end;return MOe(e,{start:a,end:r})})):r&&r.some((function(t){var a;return t instanceof Date?YDe(e,t):YDe(e,null!==(a=t.date)&&void 0!==a?a:new Date)}))||!1}function eAe(e,t){var a=void 0===t?{}:t,r=a.minDate,n=a.maxDate,s=a.excludeDates,l=a.includeDates,o=a.filterDate;return oAe(e,{minDate:r?WEe(r):void 0,maxDate:n?UEe(n):void 0})||(null==s?void 0:s.some((function(t){return HDe(e,t instanceof Date?t:t.date)})))||l&&!l.some((function(t){return HDe(e,t)}))||o&&!o(EDe(e))||!1}function tAe(e,t,a,r){var n=ITe(e),s=PTe(e),l=ITe(t),o=PTe(t),i=ITe(r);return n===l&&n===i?s<=a&&a<=o:n<l&&(i===n&&s<=a||i===l&&o>=a||i<l&&i>n)}function aAe(e,t){var a=void 0===t?{}:t,r=a.minDate,n=a.maxDate,s=a.excludeDates,l=a.includeDates;return oAe(e,{minDate:r,maxDate:n})||s&&s.some((function(t){return HDe(t instanceof Date?t:t.date,e)}))||l&&!l.some((function(t){return HDe(t,e)}))||!1}function rAe(e,t){var a=void 0===t?{}:t,r=a.minDate,n=a.maxDate,s=a.excludeDates,l=a.includeDates,o=a.filterDate;return oAe(e,{minDate:r,maxDate:n})||(null==s?void 0:s.some((function(t){return WDe(e,t instanceof Date?t:t.date)})))||l&&!l.some((function(t){return WDe(e,t)}))||o&&!o(EDe(e))||!1}function nAe(e,t,a){if(!t||!a)return!1;if(!LEe(t)||!LEe(a))return!1;var r=ITe(t),n=ITe(a);return r<=e&&n>=e}function sAe(e,t){var a=void 0===t?{}:t,r=a.minDate,n=a.maxDate,s=a.excludeDates,l=a.includeDates,o=a.filterDate,i=new Date(e,0,1);return oAe(i,{minDate:r?qEe(r):void 0,maxDate:n?YEe(n):void 0})||(null==s?void 0:s.some((function(e){return UDe(i,e instanceof Date?e:e.date)})))||l&&!l.some((function(e){return UDe(i,e)}))||o&&!o(EDe(i))||!1}function lAe(e,t,a,r){var n=ITe(e),s=FEe(e),l=ITe(t),o=FEe(t),i=ITe(r);return n===l&&n===i?s<=a&&a<=o:n<l&&(i===n&&s<=a||i===l&&o>=a||i<l&&i>n)}function oAe(e,t){var a,r=void 0===t?{}:t,n=r.minDate,s=r.maxDate;return null!==(a=n&&kEe(e,n)<0||s&&kEe(e,s)>0)&&void 0!==a&&a}function iAe(e,t){return t.some((function(t){return DTe(t)===DTe(e)&&ATe(t)===ATe(e)&&MTe(t)===MTe(e)}))}function dAe(e,t){var a=void 0===t?{}:t,r=a.excludeTimes,n=a.includeTimes,s=a.filterTime;return r&&iAe(e,r)||n&&!iAe(e,n)||s&&!s(e)||!1}function cAe(e,t){var a=t.minTime,r=t.maxTime;if(!a||!r)throw new Error("Both minTime and maxTime props required");var n=EDe();n=GOe(n=qOe(n=YOe(n,DTe(e)),ATe(e)),MTe(e));var s=EDe();s=GOe(s=qOe(s=YOe(s,DTe(a)),ATe(a)),MTe(a));var l,o=EDe();o=GOe(o=qOe(o=YOe(o,DTe(r)),ATe(r)),MTe(r));try{l=!MOe(n,{start:s,end:o})}catch(i){l=!1}return l}function uAe(e,t){var a=void 0===t?{}:t,r=a.minDate,n=a.includeDates,s=XOe(e,1);return r&&IEe(r,s)>0||n&&n.every((function(e){return IEe(e,s)>0}))||!1}function mAe(e,t){var a=void 0===t?{}:t,r=a.maxDate,n=a.includeDates,s=xEe(e,1);return r&&IEe(s,r)>0||n&&n.every((function(e){return IEe(s,e)>0}))||!1}function hAe(e,t){var a=void 0===t?{}:t,r=a.minDate,n=a.includeDates,s=ZOe(e,1);return r&&$Ee(r,s)>0||n&&n.every((function(e){return $Ee(e,s)>0}))||!1}function fAe(e,t){var a=void 0===t?{}:t,r=a.maxDate,n=a.includeDates,s=DEe(e,1);return r&&$Ee(s,r)>0||n&&n.every((function(e){return $Ee(s,e)>0}))||!1}function pAe(e){var t=e.minDate,a=e.includeDates;return a&&t?PEe(a.filter((function(e){return kEe(e,t)>=0}))):a?PEe(a):t}function xAe(e){var t=e.maxDate,a=e.includeDates;return a&&t?AEe(a.filter((function(e){return kEe(e,t)<=0}))):a?AEe(a):t}function gAe(e,t){var a;void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--highlighted");for(var r=new Map,n=0,s=e.length;n<s;n++){var l=e[n];if(MEe(l)){var o=DDe(l,"MM.dd.yyyy");(m=r.get(o)||[]).includes(t)||(m.push(t),r.set(o,m))}else if("object"==typeof l){var i=null!==(a=Object.keys(l)[0])&&void 0!==a?a:"",d=l[i];if("string"==typeof i&&Array.isArray(d))for(var c=0,u=d.length;c<u;c++){var m,h=d[c];if(h)o=DDe(h,"MM.dd.yyyy"),(m=r.get(o)||[]).includes(i)||(m.push(i),r.set(o,m))}}}return r}function bAe(e,t){void 0===e&&(e=[]),void 0===t&&(t="react-datepicker__day--holidays");var a=new Map;return e.forEach((function(e){var r=e.date,n=e.holidayName;if(MEe(r)){var s=DDe(r,"MM.dd.yyyy"),l=a.get(s)||{className:"",holidayNames:[]};if(!("className"in l)||l.className!==t||(o=l.holidayNames,i=[n],o.length!==i.length||!o.every((function(e,t){return e===i[t]})))){var o,i;l.className=t;var d=l.holidayNames;l.holidayNames=d?jDe(jDe([],d,!0),[n],!1):[n],a.set(s,l)}}})),a}function vAe(e,t,a,r,n){for(var s,l,o=n.length,i=[],d=0;d<o;d++){var c=e,u=n[d];u&&(s=c,l=DTe(u),c=TEe(c=CEe(c=gEe(s,l*uEe),ATe(u)),MTe(u)));var m=CEe(e,(a+1)*r);FTe(c,t)&&RTe(c,m)&&null!=u&&i.push(u)}return i}function yAe(e){return e<10?"0".concat(e):"".concat(e)}function wAe(e,t){void 0===t&&(t=12);var a=Math.ceil(ITe(e)/t)*t;return{startPeriod:a-(t-1),endPeriod:a}}function jAe(e){var t=e.getSeconds(),a=e.getMilliseconds();return fEe(e.getTime()-1e3*t-a)}function NAe(e){if(!MEe(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function _Ae(e,t){if(!MEe(e)||!MEe(t))throw new Error("Invalid date received");return RTe(NAe(e),NAe(t))}function SAe(e){return e.key===NDe.Space}(_De=NDe||(NDe={})).ArrowUp="ArrowUp",_De.ArrowDown="ArrowDown",_De.ArrowLeft="ArrowLeft",_De.ArrowRight="ArrowRight",_De.PageUp="PageUp",_De.PageDown="PageDown",_De.Home="Home",_De.End="End",_De.Enter="Enter",_De.Space=" ",_De.Tab="Tab",_De.Escape="Escape",_De.Backspace="Backspace",_De.X="x";var kAe,CAe=function(e){function t(t){var a=e.call(this,t)||this;return a.inputRef=J.createRef(),a.onTimeChange=function(e){var t,r;a.setState({time:e});var n=a.props.date,s=n instanceof Date&&!isNaN(+n)?n:new Date;if(null==e?void 0:e.includes(":")){var l=e.split(":"),o=l[0],i=l[1];s.setHours(Number(o)),s.setMinutes(Number(i))}null===(r=(t=a.props).onChange)||void 0===r||r.call(t,s)},a.renderTimeInput=function(){var e=a.state.time,t=a.props,r=t.date,n=t.timeString,s=t.customTimeInput;return s?Q.cloneElement(s,{date:r,value:e,onChange:a.onTimeChange}):J.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:a.inputRef,onClick:function(){var e;null===(e=a.inputRef.current)||void 0===e||e.focus()},required:!0,value:e,onChange:function(e){a.onTimeChange(e.target.value||n)}})},a.state={time:a.props.timeString},a}return yDe(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeString!==t.time?{time:e.timeString}:null},t.prototype.render=function(){return J.createElement("div",{className:"react-datepicker__input-time-container"},J.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),J.createElement("div",{className:"react-datepicker-time__input-container"},J.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(Q.Component),EAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dayEl=Q.createRef(),t.handleClick=function(e){!t.isDisabled()&&t.props.onClick&&t.props.onClick(e)},t.handleMouseEnter=function(e){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.handleOnKeyDown=function(e){var a,r;e.key===NDe.Space&&(e.preventDefault(),e.key=NDe.Enter),null===(r=(a=t.props).handleOnKeyDown)||void 0===r||r.call(a,e)},t.isSameDay=function(e){return YDe(t.props.day,e)},t.isKeyboardSelected=function(){var e;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected),r=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!r},t.isDisabled=function(e){return void 0===e&&(e=t.props.day),JDe(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return ZDe(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return YDe(t.props.day,LDe(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(e){return t.props.showWeekPicker&&YDe(e,LDe(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(e){return t.isSameDay(e)||t.isSameWeek(e)},t.getHighLightedClass=function(){var e=t.props,a=e.day,r=e.highlightDates;if(!r)return!1;var n=DDe(a,"MM.dd.yyyy");return r.get(n)},t.getHolidaysClass=function(){var e,a=t.props,r=a.day,n=a.holidays;if(!n)return[void 0];var s=DDe(r,"MM.dd.yyyy");return n.has(s)?[null===(e=n.get(s))||void 0===e?void 0:e.className]:[void 0]},t.isInRange=function(){var e=t.props,a=e.day,r=e.startDate,n=e.endDate;return!(!r||!n)&&VDe(a,r,n)},t.isInSelectingRange=function(){var e,a=t.props,r=a.day,n=a.selectsStart,s=a.selectsEnd,l=a.selectsRange,o=a.selectsDisabledDaysInRange,i=a.startDate,d=a.endDate,c=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return!(!(n||s||l)||!c||!o&&t.isDisabled())&&(n&&d&&(RTe(c,d)||qDe(c,d))?VDe(r,c,d):(s&&i&&!d&&(FTe(c,i)||qDe(c,i))||!(!l||!i||d||!FTe(c,i)&&!qDe(c,i)))&&VDe(r,i,c))},t.isSelectingRangeStart=function(){var e;if(!t.isInSelectingRange())return!1;var a=t.props,r=a.day,n=a.startDate,s=a.selectsStart,l=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return YDe(r,s?l:n)},t.isSelectingRangeEnd=function(){var e;if(!t.isInSelectingRange())return!1;var a=t.props,r=a.day,n=a.endDate,s=a.selectsEnd,l=a.selectsRange,o=null!==(e=t.props.selectingDate)&&void 0!==e?e:t.props.preSelection;return YDe(r,s||l?o:n)},t.isRangeStart=function(){var e=t.props,a=e.day,r=e.startDate,n=e.endDate;return!(!r||!n)&&YDe(r,a)},t.isRangeEnd=function(){var e=t.props,a=e.day,r=e.startDate,n=e.endDate;return!(!r||!n)&&YDe(n,a)},t.isWeekend=function(){var e,a=fEe(t.props.day,null==e?void 0:e.in).getDay();return 0===a||6===a},t.isAfterMonth=function(){return void 0!==t.props.month&&(t.props.month+1)%12===PTe(t.props.day)},t.isBeforeMonth=function(){return void 0!==t.props.month&&(PTe(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(EDe())},t.isSelected=function(){var e;return t.props.selectsMultiple?null===(e=t.props.selectedDates)||void 0===e?void 0:e.some((function(e){return t.isSameDayOrWeek(e)})):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(e){var a;return Wf("react-datepicker__day",t.props.dayClassName?t.props.dayClassName(e):void 0,"react-datepicker__day--"+DDe(t.props.day,"ddd",a),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var e=t.props,a=e.day,r=e.ariaLabelPrefixWhenEnabled,n=void 0===r?"Choose":r,s=e.ariaLabelPrefixWhenDisabled,l=void 0===s?"Not available":s,o=t.isDisabled()||t.isExcluded()?l:n;return"".concat(o," ").concat(DDe(a,"PPPP",t.props.locale))},t.getTitle=function(){var e=t.props,a=e.day,r=e.holidays,n=void 0===r?new Map:r,s=e.excludeDates,l=DDe(a,"MM.dd.yyyy"),o=[];return n.has(l)&&o.push.apply(o,n.get(l).holidayNames),t.isExcluded()&&o.push(null==s?void 0:s.filter((function(e){return e instanceof Date?YDe(e,a):YDe(null==e?void 0:e.date,a)})).map((function(e){if(!(e instanceof Date))return null==e?void 0:e.message}))),o.join(", ")},t.getTabIndex=function(){var e=t.props.selected,a=t.props.preSelection;return(!t.props.showWeekPicker||!t.props.showWeekNumber&&t.isStartOfWeek())&&(t.isKeyboardSelected()||t.isSameDay(e)&&YDe(a,e))?0:-1},t.handleFocusDay=function(){var e;t.shouldFocusDay()&&(null===(e=t.dayEl.current)||void 0===e||e.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(OTe(t.props.day),t.props.day):OTe(t.props.day)},t.render=function(){return J.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),""!==t.getTitle()&&J.createElement("span",{className:"overlay"},t.getTitle()))},t}return yDe(t,e),t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var e=!1;return 0===this.getTabIndex()&&this.isSameDay(this.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(e=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(e=!1),this.isDayActiveElement()&&(e=!0),this.isDuplicateDay()&&(e=!1)),e},t.prototype.isDayActiveElement=function(){var e,t,a;return(null===(t=null===(e=this.props.containerRef)||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains(document.activeElement))&&(null===(a=document.activeElement)||void 0===a?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(Q.Component),TAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.weekNumberEl=Q.createRef(),t.handleClick=function(e){t.props.onClick&&t.props.onClick(e)},t.handleOnKeyDown=function(e){var a,r;e.key===NDe.Space&&(e.preventDefault(),e.key=NDe.Enter),null===(r=(a=t.props).handleOnKeyDown)||void 0===r||r.call(a,e)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!YDe(t.props.date,t.props.selected)&&YDe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||YDe(t.props.date,t.props.selected)&&YDe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(e){var a=!1;0===t.getTabIndex()&&!(null==e?void 0:e.isInputFocused)&&YDe(t.props.date,t.props.preSelection)&&(document.activeElement&&document.activeElement!==document.body||(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return yDe(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(e){this.handleFocusWeekNumber(e)},t.prototype.render=function(){var e=this.props,a=e.weekNumber,r=e.isWeekDisabled,n=e.ariaLabelPrefix,s=void 0===n?t.defaultProps.ariaLabelPrefix:n,l=e.onClick,o={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!r,"react-datepicker__week-number--selected":!!l&&YDe(this.props.date,this.props.selected)};return J.createElement("div",{ref:this.weekNumberEl,className:Wf(o),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},a)},t}(Q.Component),OAe=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.isDisabled=function(e){return JDe(e,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,excludeDateIntervals:a.props.excludeDateIntervals,includeDateIntervals:a.props.includeDateIntervals,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.handleDayClick=function(e,t){a.props.onDayClick&&a.props.onDayClick(e,t)},a.handleDayMouseEnter=function(e){a.props.onDayMouseEnter&&a.props.onDayMouseEnter(e)},a.handleWeekClick=function(e,r,n){for(var s,l,o,i=new Date(e),d=0;d<7;d++){var c=new Date(e);if(c.setDate(c.getDate()+d),!a.isDisabled(c)){i=c;break}}"function"==typeof a.props.onWeekSelect&&a.props.onWeekSelect(i,r,n),a.props.showWeekPicker&&a.handleDayClick(i,n),(null!==(s=a.props.shouldCloseOnSelect)&&void 0!==s?s:t.defaultProps.shouldCloseOnSelect)&&(null===(o=(l=a.props).setOpen)||void 0===o||o.call(l,!1))},a.formatWeekNumber=function(e){return a.props.formatWeekNumber?a.props.formatWeekNumber(e):function(e){return aTe(e)}(e)},a.isWeekDisabled=function(){for(var e=a.startOfWeek(),t=pEe(e,6),r=new Date(e);r<=t;){if(!a.isDisabled(r))return!1;r=pEe(r,1)}return!0},a.renderDays=function(){var e=a.startOfWeek(),r=[],n=a.formatWeekNumber(e);if(a.props.showWeekNumber){var s=a.props.onWeekSelect||a.props.showWeekPicker?a.handleWeekClick.bind(a,e,n):void 0;r.push(J.createElement(TAe,wDe({key:"W"},t.defaultProps,a.props,{weekNumber:n,isWeekDisabled:a.isWeekDisabled(),date:e,onClick:s})))}return r.concat([0,1,2,3,4,5,6].map((function(r){var n=pEe(e,r);return J.createElement(EAe,wDe({},t.defaultProps,a.props,{ariaLabelPrefixWhenEnabled:a.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:a.props.disabledDayAriaLabelPrefix,key:n.valueOf(),day:n,onClick:a.handleDayClick.bind(a,n),onMouseEnter:a.handleDayMouseEnter.bind(a,n)}))})))},a.startOfWeek=function(){return LDe(a.props.day,a.props.locale,a.props.calendarStartDay)},a.isKeyboardSelected=function(){return!a.props.disabledKeyboardNavigation&&!YDe(a.startOfWeek(),a.props.selected)&&YDe(a.startOfWeek(),a.props.preSelection)},a}return yDe(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e={"react-datepicker__week":!0,"react-datepicker__week--selected":YDe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return J.createElement("div",{className:Wf(e)},this.renderDays())},t}(Q.Component),DAe="two_columns",AAe="three_columns",PAe="four_columns",MAe=((kAe={})[DAe]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},kAe[AAe]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},kAe[PAe]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},kAe);function LAe(e,t){return e?PAe:t?DAe:AAe}var IAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.MONTH_REFS=jDe([],Array(12),!0).map((function(){return Q.createRef()})),t.QUARTER_REFS=jDe([],Array(4),!0).map((function(){return Q.createRef()})),t.isDisabled=function(e){return JDe(e,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(e){return ZDe(e,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(e,a){var r,n;null===(n=(r=t.props).onDayClick)||void 0===n||n.call(r,e,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(e){var a,r;null===(r=(a=t.props).onDayMouseEnter)||void 0===r||r.call(a,e)},t.handleMouseLeave=function(){var e,a;null===(a=(e=t.props).onMouseLeave)||void 0===a||a.call(e)},t.isRangeStartMonth=function(e){var a=t.props,r=a.day,n=a.startDate,s=a.endDate;return!(!n||!s)&&HDe(WOe(r,e),n)},t.isRangeStartQuarter=function(e){var a=t.props,r=a.day,n=a.startDate,s=a.endDate;return!(!n||!s)&&WDe(VOe(r,e),n)},t.isRangeEndMonth=function(e){var a=t.props,r=a.day,n=a.startDate,s=a.endDate;return!(!n||!s)&&HDe(WOe(r,e),s)},t.isRangeEndQuarter=function(e){var a=t.props,r=a.day,n=a.startDate,s=a.endDate;return!(!n||!s)&&WDe(VOe(r,e),s)},t.isInSelectingRangeMonth=function(e){var a,r=t.props,n=r.day,s=r.selectsStart,l=r.selectsEnd,o=r.selectsRange,i=r.startDate,d=r.endDate,c=null!==(a=t.props.selectingDate)&&void 0!==a?a:t.props.preSelection;return!(!(s||l||o)||!c)&&(s&&d?tAe(c,d,e,n):(l&&i||!(!o||!i||d))&&tAe(i,c,e,n))},t.isSelectingMonthRangeStart=function(e){var a;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,n=r.day,s=r.startDate,l=r.selectsStart,o=WOe(n,e),i=null!==(a=t.props.selectingDate)&&void 0!==a?a:t.props.preSelection;return HDe(o,l?i:s)},t.isSelectingMonthRangeEnd=function(e){var a;if(!t.isInSelectingRangeMonth(e))return!1;var r=t.props,n=r.day,s=r.endDate,l=r.selectsEnd,o=r.selectsRange,i=WOe(n,e),d=null!==(a=t.props.selectingDate)&&void 0!==a?a:t.props.preSelection;return HDe(i,l||o?d:s)},t.isInSelectingRangeQuarter=function(e){var a,r=t.props,n=r.day,s=r.selectsStart,l=r.selectsEnd,o=r.selectsRange,i=r.startDate,d=r.endDate,c=null!==(a=t.props.selectingDate)&&void 0!==a?a:t.props.preSelection;return!(!(s||l||o)||!c)&&(s&&d?lAe(c,d,e,n):(l&&i||!(!o||!i||d))&&lAe(i,c,e,n))},t.isWeekInMonth=function(e){var a=t.props.day,r=pEe(e,6);return HDe(e,a)||HDe(r,a)},t.isCurrentMonth=function(e,t){return ITe(e)===ITe(EDe())&&t===PTe(EDe())},t.isCurrentQuarter=function(e,t){return ITe(e)===ITe(EDe())&&t===FEe(EDe())},t.isSelectedMonth=function(e,t,a){return PTe(a)===t&&ITe(e)===ITe(a)},t.isSelectMonthInList=function(e,a,r){return r.some((function(r){return t.isSelectedMonth(e,a,r)}))},t.isSelectedQuarter=function(e,t,a){return FEe(e)===t&&ITe(e)===ITe(a)},t.renderWeeks=function(){for(var e,a,r=[],n=t.props.fixedHeight,s=0,l=!1,o=LDe(IDe(t.props.day),t.props.locale,t.props.calendarStartDay),i=t.props.selected?(e=t.props.selected,t.props.showWeekPicker?LDe(e,t.props.locale,t.props.calendarStartDay):t.props.selected):void 0,d=t.props.preSelection?(a=t.props.preSelection,t.props.showWeekPicker?LDe(a,t.props.locale,t.props.calendarStartDay):t.props.preSelection):void 0;r.push(J.createElement(OAe,wDe({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:o,month:PTe(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:i,preSelection:d,showWeekNumber:t.props.showWeekNumbers}))),!l;){s++,o=OEe(o,1);var c=n&&s>=6,u=!n&&!t.isWeekInMonth(o);if(c||u){if(!t.props.peekNextMonth)break;l=!0}}return r},t.onMonthClick=function(e,a){var r=t.isMonthDisabledForLabelDate(a),n=r.isDisabled,s=r.labelDate;n||t.handleDayClick(IDe(s),e)},t.onMonthMouseEnter=function(e){var a=t.isMonthDisabledForLabelDate(e),r=a.isDisabled,n=a.labelDate;r||t.handleDayMouseEnter(IDe(n))},t.handleMonthNavigation=function(e,a){var r,n,s,l;null===(n=(r=t.props).setPreSelection)||void 0===n||n.call(r,a),null===(l=null===(s=t.MONTH_REFS[e])||void 0===s?void 0:s.current)||void 0===l||l.focus()},t.handleKeyboardNavigation=function(e,a,r){var n,s=t.props,l=s.selected,o=s.preSelection,i=s.setPreSelection,d=s.minDate,c=s.maxDate,u=s.showFourColumnMonthYearPicker,m=s.showTwoColumnMonthYearPicker;if(o){var h=LAe(u,m),f=t.getVerticalOffset(h),p=null===(n=MAe[h])||void 0===n?void 0:n.grid,x=function(e,t,a){var r,n,s=t,l=a;switch(e){case NDe.ArrowRight:s=xEe(t,1),l=11===a?0:a+1;break;case NDe.ArrowLeft:s=XOe(t,1),l=0===a?11:a-1;break;case NDe.ArrowUp:s=XOe(t,f),l=(null===(r=null==p?void 0:p[0])||void 0===r?void 0:r.includes(a))?a+12-f:a-f;break;case NDe.ArrowDown:s=xEe(t,f),l=(null===(n=null==p?void 0:p[p.length-1])||void 0===n?void 0:n.includes(a))?a-12+f:a+f}return{newCalculatedDate:s,newCalculatedMonth:l}};if(a!==NDe.Enter){var g=function(e,a,r){for(var n=e,s=!1,l=0,o=x(n,a,r),i=o.newCalculatedDate,u=o.newCalculatedMonth;!s;){if(l>=40){i=a,u=r;break}var m;d&&i<d&&(n=NDe.ArrowRight,i=(m=x(n,i,u)).newCalculatedDate,u=m.newCalculatedMonth),c&&i>c&&(n=NDe.ArrowLeft,i=(m=x(n,i,u)).newCalculatedDate,u=m.newCalculatedMonth),aAe(i,t.props)?(i=(m=x(n,i,u)).newCalculatedDate,u=m.newCalculatedMonth):s=!0,l++}return{newCalculatedDate:i,newCalculatedMonth:u}}(a,o,r),b=g.newCalculatedDate,v=g.newCalculatedMonth;switch(a){case NDe.ArrowRight:case NDe.ArrowLeft:case NDe.ArrowUp:case NDe.ArrowDown:t.handleMonthNavigation(v,b)}}else t.isMonthDisabled(r)||(t.onMonthClick(e,r),null==i||i(l))}},t.getVerticalOffset=function(e){var t,a;return null!==(a=null===(t=MAe[e])||void 0===t?void 0:t.verticalNavigationOffset)&&void 0!==a?a:0},t.onMonthKeyDown=function(e,a){var r=t.props,n=r.disabledKeyboardNavigation,s=r.handleOnMonthKeyDown,l=e.key;l!==NDe.Tab&&e.preventDefault(),n||t.handleKeyboardNavigation(e,l,a),s&&s(e)},t.onQuarterClick=function(e,a){var r=VOe(t.props.day,a);rAe(r,t.props)||t.handleDayClick(RDe(r),e)},t.onQuarterMouseEnter=function(e){var a=VOe(t.props.day,e);rAe(a,t.props)||t.handleDayMouseEnter(RDe(a))},t.handleQuarterNavigation=function(e,a){var r,n,s,l;t.isDisabled(a)||t.isExcluded(a)||(null===(n=(r=t.props).setPreSelection)||void 0===n||n.call(r,a),null===(l=null===(s=t.QUARTER_REFS[e-1])||void 0===s?void 0:s.current)||void 0===l||l.focus())},t.onQuarterKeyDown=function(e,a){var r,n,s=e.key;if(!t.props.disabledKeyboardNavigation)switch(s){case NDe.Enter:t.onQuarterClick(e,a),null===(n=(r=t.props).setPreSelection)||void 0===n||n.call(r,t.props.selected);break;case NDe.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(4===a?1:a+1,EEe(t.props.preSelection,1));break;case NDe.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(1===a?4:a-1,QOe(t.props.preSelection,1))}},t.isMonthDisabledForLabelDate=function(e){var a,r=t.props,n=r.day,s=r.minDate,l=r.maxDate,o=r.excludeDates,i=r.includeDates,d=WOe(n,e);return{isDisabled:null!==(a=(s||l||o||i)&&eAe(d,t.props))&&void 0!==a&&a,labelDate:d}},t.isMonthDisabled=function(e){return t.isMonthDisabledForLabelDate(e).isDisabled},t.getMonthClassNames=function(e){var a=t.props,r=a.day,n=a.startDate,s=a.endDate,l=a.preSelection,o=a.monthClassName,i=o?o(WOe(r,e)):void 0,d=t.getSelection();return Wf("react-datepicker__month-text","react-datepicker__month-".concat(e),i,{"react-datepicker__month-text--disabled":t.isMonthDisabled(e),"react-datepicker__month-text--selected":d?t.isSelectMonthInList(r,e,d):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(r,e,l)&&!t.isMonthDisabled(e),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(e),"react-datepicker__month-text--in-range":n&&s?tAe(n,s,e,r):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(e),"react-datepicker__month-text--range-end":t.isRangeEndMonth(e),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(e),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(e),"react-datepicker__month-text--today":t.isCurrentMonth(r,e)})},t.getTabIndex=function(e){if(null==t.props.preSelection)return"-1";var a=PTe(t.props.preSelection),r=t.isMonthDisabledForLabelDate(a).isDisabled;return e!==a||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getQuarterTabIndex=function(e){if(null==t.props.preSelection)return"-1";var a=FEe(t.props.preSelection),r=rAe(t.props.day,t.props);return e!==a||r||t.props.disabledKeyboardNavigation?"-1":"0"},t.getAriaLabel=function(e){var a=t.props,r=a.chooseDayAriaLabelPrefix,n=void 0===r?"Choose":r,s=a.disabledDayAriaLabelPrefix,l=void 0===s?"Not available":s,o=a.day,i=a.locale,d=WOe(o,e),c=t.isDisabled(d)||t.isExcluded(d)?l:n;return"".concat(c," ").concat(DDe(d,"MMMM yyyy",i))},t.getQuarterClassNames=function(e){var a=t.props,r=a.day,n=a.startDate,s=a.endDate,l=a.selected,o=a.minDate,i=a.maxDate,d=a.excludeDates,c=a.includeDates,u=a.filterDate,m=a.preSelection,h=a.disabledKeyboardNavigation,f=(o||i||d||c||u)&&rAe(VOe(r,e),t.props);return Wf("react-datepicker__quarter-text","react-datepicker__quarter-".concat(e),{"react-datepicker__quarter-text--disabled":f,"react-datepicker__quarter-text--selected":l?t.isSelectedQuarter(r,e,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!h&&m&&t.isSelectedQuarter(r,e,m)&&!f,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(e),"react-datepicker__quarter-text--in-range":n&&s?lAe(n,s,e,r):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(e),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(e),"react-datepicker__quarter-text--today":t.isCurrentQuarter(r,e)})},t.getMonthContent=function(e){var a=t.props,r=a.showFullMonthYearPicker,n=a.renderMonthContent,s=a.locale,l=a.day,o=QDe(e,s),i=XDe(e,s);return n?n(e,o,i,l):r?i:o},t.getQuarterContent=function(e){var a,r=t.props,n=r.renderQuarterContent,s=function(e,t){return DDe(VOe(EDe(),e),"QQQ",t)}(e,r.locale);return null!==(a=null==n?void 0:n(e,s))&&void 0!==a?a:s},t.renderMonths=function(){var e,a=t.props,r=a.showTwoColumnMonthYearPicker,n=a.showFourColumnMonthYearPicker,s=a.day,l=a.selected,o=null===(e=MAe[LAe(n,r)])||void 0===e?void 0:e.grid;return null==o?void 0:o.map((function(e,a){return J.createElement("div",{className:"react-datepicker__month-wrapper",key:a},e.map((function(e,a){return J.createElement("div",{ref:t.MONTH_REFS[e],key:a,onClick:function(a){t.onMonthClick(a,e)},onKeyDown:function(a){SAe(a)&&(a.preventDefault(),a.key=NDe.Enter),t.onMonthKeyDown(a,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(e)}:void 0,tabIndex:Number(t.getTabIndex(e)),className:t.getMonthClassNames(e),"aria-disabled":t.isMonthDisabled(e),role:"option","aria-label":t.getAriaLabel(e),"aria-current":t.isCurrentMonth(s,e)?"date":void 0,"aria-selected":l?t.isSelectedMonth(s,e,l):void 0},t.getMonthContent(e))})))}))},t.renderQuarters=function(){var e=t.props,a=e.day,r=e.selected;return J.createElement("div",{className:"react-datepicker__quarter-wrapper"},[1,2,3,4].map((function(e,n){return J.createElement("div",{key:n,ref:t.QUARTER_REFS[n],role:"option",onClick:function(a){t.onQuarterClick(a,e)},onKeyDown:function(a){t.onQuarterKeyDown(a,e)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(e)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(e)}:void 0,className:t.getQuarterClassNames(e),"aria-selected":r?t.isSelectedQuarter(a,e,r):void 0,tabIndex:Number(t.getQuarterTabIndex(e)),"aria-current":t.isCurrentQuarter(a,e)?"date":void 0},t.getQuarterContent(e))})))},t.getClassNames=function(){var e=t.props,a=e.selectingDate,r=e.selectsStart,n=e.selectsEnd;return Wf("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(r||n)},{"react-datepicker__monthPicker":e.showMonthYearPicker},{"react-datepicker__quarterPicker":e.showQuarterYearPicker},{"react-datepicker__weekPicker":e.showWeekPicker})},t}return yDe(t,e),t.prototype.getSelection=function(){var e=this.props,t=e.selected,a=e.selectedDates;return e.selectsMultiple?a:t?[t]:void 0},t.prototype.render=function(){var e=this.props,t=e.showMonthYearPicker,a=e.showQuarterYearPicker,r=e.day,n=e.ariaLabelPrefix,s=void 0===n?"Month ":n,l=s?s.trim()+" ":"";return J.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(DDe(r,"MMMM, yyyy",this.props.locale)),role:"listbox"},t?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(Q.Component),FAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(e){return t.props.month===e},t.renderOptions=function(){return t.props.monthNames.map((function(e,a){return J.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:e,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?J.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",e)}))},t.onChange=function(e){return t.props.onChange(e)},t.handleClickOutside=function(){return t.props.onCancel()},t}return yDe(t,e),t.prototype.render=function(){return J.createElement(kDe,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(Q.Component),RAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(e){return e.map((function(e,t){return J.createElement("option",{key:e,value:t},e)}))},t.renderSelectMode=function(e){return J.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(e){return t.onChange(parseInt(e.target.value))}},t.renderSelectOptions(e))},t.renderReadView=function(e,a){return J.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(e){return J.createElement(FAe,wDe({key:"dropdown"},t.props,{monthNames:e,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(e){var a=t.state.dropdownVisible,r=[t.renderReadView(!a,e)];return a&&r.unshift(t.renderDropdown(e)),r},t.onChange=function(e){t.toggleDropdown(),e!==t.props.month&&t.props.onChange(e)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return yDe(t,e),t.prototype.render=function(){var e,t=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(e){return QDe(e,t.props.locale)}:function(e){return XDe(e,t.props.locale)});switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode(a);break;case"select":e=this.renderSelectMode(a)}return J.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(Q.Component);function $Ae(e,t){for(var a=[],r=IDe(e),n=IDe(t);!FTe(r,n);)a.push(EDe(r)),r=xEe(r,1);return a}var BAe=function(e){function t(t){var a=e.call(this,t)||this;return a.renderOptions=function(){return a.state.monthYearsList.map((function(e){var t=LTe(e),r=UDe(a.props.date,e)&&HDe(a.props.date,e);return J.createElement("div",{className:r?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:t,onClick:a.onChange.bind(a,t),"aria-selected":r?"true":void 0},r?J.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",DDe(e,a.props.dateFormat,a.props.locale))}))},a.onChange=function(e){return a.props.onChange(e)},a.handleClickOutside=function(){a.props.onCancel()},a.state={monthYearsList:$Ae(a.props.minDate,a.props.maxDate)},a}return yDe(t,e),t.prototype.render=function(){var e=Wf({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return J.createElement(kDe,{className:e,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(Q.Component),zAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=IDe(t.props.minDate),a=IDe(t.props.maxDate),r=[];!FTe(e,a);){var n=LTe(e);r.push(J.createElement("option",{key:n,value:n},DDe(e,t.props.dateFormat,t.props.locale))),e=xEe(e,1)}return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:LTe(IDe(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){var a=DDe(t.props.date,t.props.dateFormat,t.props.locale);return J.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},J.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return J.createElement(BAe,wDe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,a=[t.renderReadView(!e)];return e&&a.unshift(t.renderDropdown()),a},t.onChange=function(e){t.toggleDropdown();var a=EDe(e);UDe(t.props.date,a)&&HDe(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return yDe(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return J.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(Q.Component),UAe=function(e){function t(){var a=null!==e&&e.apply(this,arguments)||this;return a.state={height:null},a.scrollToTheSelectedTime=function(){requestAnimationFrame((function(){var e,r,n;a.list&&(a.list.scrollTop=null!==(n=a.centerLi&&t.calcCenterPosition(a.props.monthRef?a.props.monthRef.clientHeight-(null!==(r=null===(e=a.header)||void 0===e?void 0:e.clientHeight)&&void 0!==r?r:0):a.list.clientHeight,a.centerLi))&&void 0!==n?n:0)}))},a.handleClick=function(e){var t,r;(a.props.minTime||a.props.maxTime)&&cAe(e,a.props)||(a.props.excludeTimes||a.props.includeTimes||a.props.filterTime)&&dAe(e,a.props)||null===(r=(t=a.props).onChange)||void 0===r||r.call(t,e)},a.isSelectedTime=function(e){return a.props.selected&&(t=a.props.selected,r=e,jAe(t).getTime()===jAe(r).getTime());var t,r},a.isDisabledTime=function(e){return(a.props.minTime||a.props.maxTime)&&cAe(e,a.props)||(a.props.excludeTimes||a.props.includeTimes||a.props.filterTime)&&dAe(e,a.props)},a.liClasses=function(e){var r,n=["react-datepicker__time-list-item",a.props.timeClassName?a.props.timeClassName(e):void 0];return a.isSelectedTime(e)&&n.push("react-datepicker__time-list-item--selected"),a.isDisabledTime(e)&&n.push("react-datepicker__time-list-item--disabled"),a.props.injectTimes&&(3600*DTe(e)+60*ATe(e)+MTe(e))%(60*(null!==(r=a.props.intervals)&&void 0!==r?r:t.defaultProps.intervals))!=0&&n.push("react-datepicker__time-list-item--injected"),n.join(" ")},a.handleOnKeyDown=function(e,t){var r,n;e.key===NDe.Space&&(e.preventDefault(),e.key=NDe.Enter),(e.key===NDe.ArrowUp||e.key===NDe.ArrowLeft)&&e.target instanceof HTMLElement&&e.target.previousSibling&&(e.preventDefault(),e.target.previousSibling instanceof HTMLElement&&e.target.previousSibling.focus()),(e.key===NDe.ArrowDown||e.key===NDe.ArrowRight)&&e.target instanceof HTMLElement&&e.target.nextSibling&&(e.preventDefault(),e.target.nextSibling instanceof HTMLElement&&e.target.nextSibling.focus()),e.key===NDe.Enter&&a.handleClick(t),null===(n=(r=a.props).handleOnKeyDown)||void 0===n||n.call(r,e)},a.renderTimes=function(){for(var e,r,n,s,l=[],o="string"==typeof a.props.format?a.props.format:"p",i=null!==(e=a.props.intervals)&&void 0!==e?e:t.defaultProps.intervals,d=a.props.selected||a.props.openToDate||EDe(),c=MDe(d),u=a.props.injectTimes&&a.props.injectTimes.sort((function(e,t){return e.getTime()-t.getTime()})),m=60*(r=d,n=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24),Math.round((+s-+n)/36e5))/i,h=0;h<m;h++){var f=CEe(c,h*i);if(l.push(f),u){var p=vAe(c,f,h,i,u);l=l.concat(p)}}var x=l.reduce((function(e,t){return t.getTime()<=d.getTime()?t:e}),l[0]);return l.map((function(e){return J.createElement("li",{key:e.valueOf(),onClick:a.handleClick.bind(a,e),className:a.liClasses(e),ref:function(t){e===x&&(a.centerLi=t)},onKeyDown:function(t){a.handleOnKeyDown(t,e)},tabIndex:e===x?0:-1,role:"option","aria-selected":a.isSelectedTime(e)?"true":void 0,"aria-disabled":a.isDisabledTime(e)?"true":void 0},DDe(e,o,a.props.locale))}))},a.renderTimeCaption=function(){return!1===a.props.showTimeCaption?J.createElement(J.Fragment,null):J.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(a.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(e){a.header=e}},J.createElement("div",{className:"react-datepicker-time__header"},a.props.timeCaption))},a}return yDe(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var e=this,t=this.props.monthRef;this.updateContainerHeight(),t&&(this.resizeObserver=new ResizeObserver((function(){e.updateContainerHeight()})),this.resizeObserver.observe(t))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var e,a=this,r=this.state.height;return J.createElement("div",{className:"react-datepicker__time-container ".concat((null!==(e=this.props.todayButton)&&void 0!==e?e:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),J.createElement("div",{className:"react-datepicker__time"},J.createElement("div",{className:"react-datepicker__time-box"},J.createElement("ul",{className:"react-datepicker__time-list",ref:function(e){a.list=e},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(e,t){return t.offsetTop-(e/2-t.clientHeight/2)},t}(Q.Component),HAe=function(e){function t(t){var a=e.call(this,t)||this;return a.YEAR_REFS=jDe([],Array(a.props.yearItemNumber),!0).map((function(){return Q.createRef()})),a.isDisabled=function(e){return JDe(e,{minDate:a.props.minDate,maxDate:a.props.maxDate,excludeDates:a.props.excludeDates,includeDates:a.props.includeDates,filterDate:a.props.filterDate})},a.isExcluded=function(e){return ZDe(e,{excludeDates:a.props.excludeDates})},a.selectingDate=function(){var e;return null!==(e=a.props.selectingDate)&&void 0!==e?e:a.props.preSelection},a.updateFocusOnPaginate=function(e){window.requestAnimationFrame((function(){var t,r;null===(r=null===(t=a.YEAR_REFS[e])||void 0===t?void 0:t.current)||void 0===r||r.focus()}))},a.handleYearClick=function(e,t){a.props.onDayClick&&a.props.onDayClick(e,t)},a.handleYearNavigation=function(e,t){var r,n,s,l,o=a.props,i=o.date,d=o.yearItemNumber;if(void 0!==i&&void 0!==d){var c=wAe(i,d).startPeriod;a.isDisabled(t)||a.isExcluded(t)||(null===(n=(r=a.props).setPreSelection)||void 0===n||n.call(r,t),e-c<0?a.updateFocusOnPaginate(d-(c-e)):e-c>=d?a.updateFocusOnPaginate(Math.abs(d-(e-c))):null===(l=null===(s=a.YEAR_REFS[e-c])||void 0===s?void 0:s.current)||void 0===l||l.focus())}},a.isSameDay=function(e,t){return YDe(e,t)},a.isCurrentYear=function(e){return e===ITe(EDe())},a.isRangeStart=function(e){return a.props.startDate&&a.props.endDate&&UDe(KOe(EDe(),e),a.props.startDate)},a.isRangeEnd=function(e){return a.props.startDate&&a.props.endDate&&UDe(KOe(EDe(),e),a.props.endDate)},a.isInRange=function(e){return nAe(e,a.props.startDate,a.props.endDate)},a.isInSelectingRange=function(e){var t=a.props,r=t.selectsStart,n=t.selectsEnd,s=t.selectsRange,l=t.startDate,o=t.endDate;return!(!(r||n||s)||!a.selectingDate())&&(r&&o?nAe(e,a.selectingDate(),o):(n&&l||!(!s||!l||o))&&nAe(e,l,a.selectingDate()))},a.isSelectingRangeStart=function(e){var t;if(!a.isInSelectingRange(e))return!1;var r=a.props,n=r.startDate,s=r.selectsStart,l=KOe(EDe(),e);return UDe(l,s?null!==(t=a.selectingDate())&&void 0!==t?t:null:null!=n?n:null)},a.isSelectingRangeEnd=function(e){var t;if(!a.isInSelectingRange(e))return!1;var r=a.props,n=r.endDate,s=r.selectsEnd,l=r.selectsRange,o=KOe(EDe(),e);return UDe(o,s||l?null!==(t=a.selectingDate())&&void 0!==t?t:null:null!=n?n:null)},a.isKeyboardSelected=function(e){if(void 0!==a.props.date&&null!=a.props.selected&&null!=a.props.preSelection){var t=a.props,r=t.minDate,n=t.maxDate,s=t.excludeDates,l=t.includeDates,o=t.filterDate,i=FDe(KOe(a.props.date,e)),d=(r||n||s||l||o)&&sAe(e,a.props);return!a.props.disabledKeyboardNavigation&&!a.props.inline&&!YDe(i,FDe(a.props.selected))&&YDe(i,FDe(a.props.preSelection))&&!d}},a.isSelectedYear=function(e){var t=a.props,r=t.selectsMultiple,n=t.selected,s=t.selectedDates;return r?null==s?void 0:s.some((function(t){return e===ITe(t)})):!n||e===ITe(n)},a.onYearClick=function(e,t){var r=a.props.date;void 0!==r&&a.handleYearClick(FDe(KOe(r,t)),e)},a.onYearKeyDown=function(e,t){var r,n,s=e.key,l=a.props,o=l.date,i=l.yearItemNumber,d=l.handleOnKeyDown;if(s!==NDe.Tab&&e.preventDefault(),!a.props.disabledKeyboardNavigation)switch(s){case NDe.Enter:if(null==a.props.selected)break;a.onYearClick(e,t),null===(n=(r=a.props).setPreSelection)||void 0===n||n.call(r,a.props.selected);break;case NDe.ArrowRight:if(null==a.props.preSelection)break;a.handleYearNavigation(t+1,DEe(a.props.preSelection,1));break;case NDe.ArrowLeft:if(null==a.props.preSelection)break;a.handleYearNavigation(t-1,ZOe(a.props.preSelection,1));break;case NDe.ArrowUp:if(void 0===o||void 0===i||null==a.props.preSelection)break;var c=wAe(o,i).startPeriod;if((h=t-(m=3))<c){var u=i%m;t>=c&&t<c+u?m=u:m+=u,h=t-m}a.handleYearNavigation(h,ZOe(a.props.preSelection,m));break;case NDe.ArrowDown:if(void 0===o||void 0===i||null==a.props.preSelection)break;var m,h,f=wAe(o,i).endPeriod;(h=t+(m=3))>f&&(u=i%m,t<=f&&t>f-u?m=u:m+=u,h=t+m),a.handleYearNavigation(h,DEe(a.props.preSelection,m))}d&&d(e)},a.getYearClassNames=function(e){var t=a.props,r=t.date,n=t.minDate,s=t.maxDate,l=t.excludeDates,o=t.includeDates,i=t.filterDate,d=t.yearClassName;return Wf("react-datepicker__year-text","react-datepicker__year-".concat(e),r?null==d?void 0:d(KOe(r,e)):void 0,{"react-datepicker__year-text--selected":a.isSelectedYear(e),"react-datepicker__year-text--disabled":(n||s||l||o||i)&&sAe(e,a.props),"react-datepicker__year-text--keyboard-selected":a.isKeyboardSelected(e),"react-datepicker__year-text--range-start":a.isRangeStart(e),"react-datepicker__year-text--range-end":a.isRangeEnd(e),"react-datepicker__year-text--in-range":a.isInRange(e),"react-datepicker__year-text--in-selecting-range":a.isInSelectingRange(e),"react-datepicker__year-text--selecting-range-start":a.isSelectingRangeStart(e),"react-datepicker__year-text--selecting-range-end":a.isSelectingRangeEnd(e),"react-datepicker__year-text--today":a.isCurrentYear(e)})},a.getYearTabIndex=function(e){if(a.props.disabledKeyboardNavigation||null==a.props.preSelection)return"-1";var t=ITe(a.props.preSelection),r=sAe(e,a.props);return e!==t||r?"-1":"0"},a.getYearContent=function(e){return a.props.renderYearContent?a.props.renderYearContent(e):e},a}return yDe(t,e),t.prototype.render=function(){var e=this,t=[],a=this.props,r=a.date,n=a.yearItemNumber,s=a.onYearMouseEnter,l=a.onYearMouseLeave;if(void 0===r)return null;for(var o=wAe(r,n),i=o.startPeriod,d=o.endPeriod,c=function(a){t.push(J.createElement("div",{ref:u.YEAR_REFS[a-i],onClick:function(t){e.onYearClick(t,a)},onKeyDown:function(t){SAe(t)&&(t.preventDefault(),t.key=NDe.Enter),e.onYearKeyDown(t,a)},tabIndex:Number(u.getYearTabIndex(a)),className:u.getYearClassNames(a),onMouseEnter:u.props.usePointerEvent?void 0:function(e){return s(e,a)},onPointerEnter:u.props.usePointerEvent?function(e){return s(e,a)}:void 0,onMouseLeave:u.props.usePointerEvent?void 0:function(e){return l(e,a)},onPointerLeave:u.props.usePointerEvent?function(e){return l(e,a)}:void 0,key:a,"aria-current":u.isCurrentYear(a)?"date":void 0},u.getYearContent(a)))},u=this,m=i;m<=d;m++)c(m);return J.createElement("div",{className:"react-datepicker__year"},J.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},t))},t}(Q.Component);function WAe(e,t,a,r){for(var n=[],s=0;s<2*t+1;s++){var l=e+t-s,o=!0;a&&(o=ITe(a)<=l),r&&o&&(o=ITe(r)>=l),o&&n.push(l)}return n}var YAe,qAe=function(e){function t(t){var a=e.call(this,t)||this;a.renderOptions=function(){var e=a.props.year,t=a.state.yearsList.map((function(t){return J.createElement("div",{className:e===t?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:t,onClick:a.onChange.bind(a,t),"aria-selected":e===t?"true":void 0},e===t?J.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",t)})),r=a.props.minDate?ITe(a.props.minDate):null,n=a.props.maxDate?ITe(a.props.maxDate):null;return n&&a.state.yearsList.find((function(e){return e===n}))||t.unshift(J.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:a.incrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),r&&a.state.yearsList.find((function(e){return e===r}))||t.push(J.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:a.decrementYears},J.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},a.onChange=function(e){a.props.onChange(e)},a.handleClickOutside=function(){a.props.onCancel()},a.shiftYears=function(e){var t=a.state.yearsList.map((function(t){return t+e}));a.setState({yearsList:t})},a.incrementYears=function(){return a.shiftYears(1)},a.decrementYears=function(){return a.shiftYears(-1)};var r=t.yearDropdownItemNumber,n=t.scrollableYearDropdown,s=r||(n?10:5);return a.state={yearsList:WAe(a.props.year,s,a.props.minDate,a.props.maxDate)},a.dropdownRef=Q.createRef(),a}return yDe(t,e),t.prototype.componentDidMount=function(){var e=this.dropdownRef.current;if(e){var t=e.children?Array.from(e.children):null,a=t?t.find((function(e){return e.ariaSelected})):null;e.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-e.clientHeight)/2:(e.scrollHeight-e.clientHeight)/2}},t.prototype.render=function(){var e=Wf({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return J.createElement(kDe,{className:e,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(Q.Component),VAe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var e=t.props.minDate?ITe(t.props.minDate):1900,a=t.props.maxDate?ITe(t.props.maxDate):2100,r=[],n=e;n<=a;n++)r.push(J.createElement("option",{key:n,value:n},n));return r},t.onSelectChange=function(e){t.onChange(parseInt(e.target.value))},t.renderSelectMode=function(){return J.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(e){return J.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(e){return t.toggleDropdown(e)}},J.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),J.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return J.createElement(qAe,wDe({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var e=t.state.dropdownVisible,a=[t.renderReadView(!e)];return e&&a.unshift(t.renderDropdown()),a},t.onChange=function(e){t.toggleDropdown(),e!==t.props.year&&t.props.onChange(e)},t.toggleDropdown=function(e){t.setState({dropdownVisible:!t.state.dropdownVisible},(function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,e)}))},t.handleYearChange=function(e,a){var r;null===(r=t.onSelect)||void 0===r||r.call(t,e,a),t.setOpen()},t.onSelect=function(e,a){var r,n;null===(n=(r=t.props).onSelect)||void 0===n||n.call(r,e,a)},t.setOpen=function(){var e,a;null===(a=(e=t.props).setOpen)||void 0===a||a.call(e,!0)},t}return yDe(t,e),t.prototype.render=function(){var e;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return J.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},e)},t}(Q.Component),GAe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],KAe=function(e){function t(a){var r=e.call(this,a)||this;return r.monthContainer=void 0,r.handleClickOutside=function(e){r.props.onClickOutside(e)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(e){var t,a,n,s;n=e.target,s=(n.className||"").split(/\s+/),GAe.some((function(e){return s.indexOf(e)>=0}))&&(null===(a=(t=r.props).onDropdownFocus)||void 0===a||a.call(t,e))},r.getDateInView=function(){var e=r.props,t=e.preSelection,a=e.selected,n=e.openToDate,s=pAe(r.props),l=xAe(r.props),o=EDe(),i=n||a||t;return i||(s&&RTe(o,s)?s:l&&FTe(o,l)?l:o)},r.increaseMonth=function(){r.setState((function(e){return{date:xEe(e.date,1)}}),(function(){return r.handleMonthChange(r.state.date)}))},r.decreaseMonth=function(){r.setState((function(e){return{date:XOe(e.date,1)}}),(function(){return r.handleMonthChange(r.state.date)}))},r.handleDayClick=function(e,t,a){r.props.onSelect(e,t,a),r.props.setPreSelection&&r.props.setPreSelection(e)},r.handleDayMouseEnter=function(e){r.setState({selectingDate:e}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(e,t){r.setState({selectingDate:KOe(EDe(),t)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(e,t)},r.handleYearMouseLeave=function(e,t){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(e,t)},r.handleYearChange=function(e){var t,a,n,s;null===(a=(t=r.props).onYearChange)||void 0===a||a.call(t,e),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(e),null===(s=(n=r.props).setOpen)||void 0===s||s.call(n,!0)),r.props.setPreSelection&&r.props.setPreSelection(e)},r.getEnabledPreSelectionDateForMonth=function(e){if(!JDe(e,r.props))return e;for(var t=IDe(e),a=function(e){return UEe(e)}(e),n=function(e,t,a){const[r,n]=_Ee(null==a||a.in,e,t),s=BEe(r,n),l=Math.abs(kEe(r,n));r.setDate(r.getDate()-s*l);const o=s*(l-Number(BEe(r,n)===-s));return 0===o?0:o}(a,t),s=null,l=0;l<=n;l++){var o=pEe(t,l);if(!JDe(o,r.props)){s=o;break}}return s},r.handleMonthChange=function(e){var t,a,n,s=null!==(t=r.getEnabledPreSelectionDateForMonth(e))&&void 0!==t?t:e;r.handleCustomMonthChange(s),r.props.adjustDateOnChange&&(r.props.onSelect(s),null===(n=(a=r.props).setOpen)||void 0===n||n.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleCustomMonthChange=function(e){var t,a;null===(a=(t=r.props).onMonthChange)||void 0===a||a.call(t,e),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(e){r.handleYearChange(e),r.handleMonthChange(e)},r.changeYear=function(e){r.setState((function(t){return{date:KOe(t.date,Number(e))}}),(function(){return r.handleYearChange(r.state.date)}))},r.changeMonth=function(e){r.setState((function(t){return{date:WOe(t.date,Number(e))}}),(function(){return r.handleMonthChange(r.state.date)}))},r.changeMonthYear=function(e){r.setState((function(t){return{date:KOe(WOe(t.date,PTe(e)),ITe(e))}}),(function(){return r.handleMonthYearChange(r.state.date)}))},r.header=function(e){void 0===e&&(e=r.state.date);var t=LDe(e,r.props.locale,r.props.calendarStartDay),a=[];return r.props.showWeekNumbers&&a.push(J.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),a.concat([0,1,2,3,4,5,6].map((function(e){var a=pEe(t,e),n=r.formatWeekday(a,r.props.locale),s=r.props.weekDayClassName?r.props.weekDayClassName(a):void 0;return J.createElement("div",{key:e,"aria-label":DDe(a,"EEEE",r.props.locale),className:Wf("react-datepicker__day-name",s)},n)})))},r.formatWeekday=function(e,t){return r.props.formatWeekDay?function(e,t,a){return t(DDe(e,"EEEE",a))}(e,r.props.formatWeekDay,t):r.props.useWeekdaysShort?function(e,t){return DDe(e,"EEE",t)}(e,t):function(e,t){return DDe(e,"EEEEEE",t)}(e,t)},r.decreaseYear=function(){r.setState((function(e){var a;return{date:ZOe(e.date,r.props.showYearPicker?null!==(a=r.props.yearItemNumber)&&void 0!==a?a:t.defaultProps.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var e,a,n;if(!r.props.renderCustomHeader){var s,l=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,o=r.props.showPreviousMonths?l-1:0,i=null!==(a=r.props.monthSelectedIn)&&void 0!==a?a:o,d=XOe(r.state.date,i);switch(!0){case r.props.showMonthYearPicker:s=hAe(r.state.date,r.props);break;case r.props.showYearPicker:s=function(e,t){var a=void 0===t?{}:t,r=a.minDate,n=a.yearItemNumber,s=void 0===n?12:n,l=wAe(FDe(ZOe(e,s)),s).endPeriod,o=r&&ITe(r);return o&&o>l||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=function(e,t){var a=void 0===t?{}:t,r=a.minDate,n=a.includeDates,s=QOe(qEe(e),1);return r&&REe(r,s)>0||n&&n.every((function(e){return REe(e,s)>0}))||!1}(r.state.date,r.props);break;default:s=uAe(d,r.props)}if(((null!==(n=r.props.forceShowMonthNavigation)&&void 0!==n?n:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!s)&&!r.props.showTimeSelectOnly){var c=["react-datepicker__navigation","react-datepicker__navigation--previous"],u=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(u=r.decreaseYear),s&&r.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--previous--disabled"),u=void 0);var m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,f=h.previousMonthButtonLabel,p=void 0===f?t.defaultProps.previousMonthButtonLabel:f,x=h.previousYearButtonLabel,g=void 0===x?t.defaultProps.previousYearButtonLabel:x,b=r.props,v=b.previousMonthAriaLabel,y=void 0===v?"string"==typeof p?p:"Previous Month":v,w=b.previousYearAriaLabel,j=void 0===w?"string"==typeof g?g:"Previous Year":w;return J.createElement("button",{type:"button",className:c.join(" "),onClick:u,onKeyDown:r.props.handleOnKeyDown,"aria-label":m?j:y},J.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"].join(" ")},m?g:p))}}},r.increaseYear=function(){r.setState((function(e){var a;return{date:DEe(e.date,r.props.showYearPicker?null!==(a=r.props.yearItemNumber)&&void 0!==a?a:t.defaultProps.yearItemNumber:1)}}),(function(){return r.handleYearChange(r.state.date)}))},r.renderNextButton=function(){var e;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=fAe(r.state.date,r.props);break;case r.props.showYearPicker:a=function(e,t){var a=void 0===t?{}:t,r=a.maxDate,n=a.yearItemNumber,s=void 0===n?12:n,l=wAe(DEe(e,s),s).startPeriod,o=r&&ITe(r);return o&&o<l||!1}(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=function(e,t){var a=void 0===t?{}:t,r=a.maxDate,n=a.includeDates,s=EEe(YEe(e),1);return r&&REe(s,r)>0||n&&n.every((function(e){return REe(s,e)>0}))||!1}(r.state.date,r.props);break;default:a=mAe(r.state.date,r.props)}if(((null!==(e=r.props.forceShowMonthNavigation)&&void 0!==e?e:t.defaultProps.forceShowMonthNavigation)||r.props.showDisabledMonthNavigation||!a)&&!r.props.showTimeSelectOnly){var n=["react-datepicker__navigation","react-datepicker__navigation--next"];r.props.showTimeSelect&&n.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&n.push("react-datepicker__navigation--next--with-today-button");var s=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(s=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(n.push("react-datepicker__navigation--next--disabled"),s=void 0);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,o=r.props,i=o.nextMonthButtonLabel,d=void 0===i?t.defaultProps.nextMonthButtonLabel:i,c=o.nextYearButtonLabel,u=void 0===c?t.defaultProps.nextYearButtonLabel:c,m=r.props,h=m.nextMonthAriaLabel,f=void 0===h?"string"==typeof d?d:"Next Month":h,p=m.nextYearAriaLabel,x=void 0===p?"string"==typeof u?u:"Next Year":p;return J.createElement("button",{type:"button",className:n.join(" "),onClick:s,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?x:f},J.createElement("span",{className:["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"].join(" ")},l?u:d))}}},r.renderCurrentMonth=function(e){void 0===e&&(e=r.state.date);var t=["react-datepicker__current-month"];return r.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&t.push("react-datepicker__current-month--hasMonthYearDropdown"),J.createElement("h2",{className:t.join(" ")},DDe(e,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showYearDropdown&&!e)return J.createElement(VAe,wDe({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ITe(r.state.date)}))},r.renderMonthDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthDropdown&&!e)return J.createElement(RAe,wDe({},t.defaultProps,r.props,{month:PTe(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(e){if(void 0===e&&(e=!1),r.props.showMonthYearDropdown&&!e)return J.createElement(zAe,wDe({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(e){r.props.onSelect($De(),e),r.props.setPreSelection&&r.props.setPreSelection($De())},r.renderTodayButton=function(){if(r.props.todayButton&&!r.props.showTimeSelectOnly)return J.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(e){var t=e.monthDate,a=e.i;return J.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(t),J.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(0!==a),r.renderMonthYearDropdown(0!==a),r.renderYearDropdown(0!==a)),J.createElement("div",{className:"react-datepicker__day-names"},r.header(t)))},r.renderCustomHeader=function(e){var t,a,n=e.monthDate,s=e.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var l=uAe(r.state.date,r.props),o=mAe(r.state.date,r.props),i=hAe(r.state.date,r.props),d=fAe(r.state.date,r.props),c=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return J.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},null===(a=(t=r.props).renderCustomHeader)||void 0===a?void 0:a.call(t,wDe(wDe({},r.state),{customHeaderCount:s,monthDate:n,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:l,nextMonthButtonDisabled:o,prevYearButtonDisabled:i,nextYearButtonDisabled:d})),c&&J.createElement("div",{className:"react-datepicker__day-names"},r.header(n)))},r.renderYearHeader=function(e){var a=e.monthDate,n=r.props,s=n.showYearPicker,l=n.yearItemNumber,o=wAe(a,void 0===l?t.defaultProps.yearItemNumber:l),i=o.startPeriod,d=o.endPeriod;return J.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},s?"".concat(i," - ").concat(d):ITe(a))},r.renderHeader=function(e){var t=e.monthDate,a=e.i,n={monthDate:t,i:void 0===a?0:a};switch(!0){case void 0!==r.props.renderCustomHeader:return r.renderCustomHeader(n);case r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker:return r.renderYearHeader(n);default:return r.renderDefaultHeader(n)}},r.renderMonths=function(){var e,a;if(!r.props.showTimeSelectOnly&&!r.props.showYearPicker){for(var n=[],s=null!==(e=r.props.monthsShown)&&void 0!==e?e:t.defaultProps.monthsShown,l=r.props.showPreviousMonths?s-1:0,o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?DEe(r.state.date,l):XOe(r.state.date,l),i=null!==(a=r.props.monthSelectedIn)&&void 0!==a?a:l,d=0;d<s;++d){var c=d-i+l,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?DEe(o,c):xEe(o,c),m="month-".concat(d),h=d<s-1,f=d>0;n.push(J.createElement("div",{key:m,ref:function(e){r.monthContainer=null!=e?e:void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:u,i:d}),J.createElement(IAe,wDe({},t.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:u,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:h,monthShowsDuplicateDaysStart:f}))))}return n}},r.renderYears=function(){if(!r.props.showTimeSelectOnly)return r.props.showYearPicker?J.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),J.createElement(HAe,wDe({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave}))):void 0},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return J.createElement(UAe,wDe({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var e=r.props.selected?new Date(r.props.selected):void 0,a=e&&ODe(e)&&Boolean(r.props.selected)?"".concat(yAe(e.getHours()),":").concat(yAe(e.getMinutes())):"";if(r.props.showTimeInput)return J.createElement(CAe,wDe({},t.defaultProps,r.props,{date:e,timeString:a,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var e,a,n=wAe(r.state.date,null!==(e=r.props.yearItemNumber)&&void 0!==e?e:t.defaultProps.yearItemNumber),s=n.startPeriod,l=n.endPeriod;return a=r.props.showYearPicker?"".concat(s," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ITe(r.state.date):"".concat(XDe(PTe(r.state.date),r.props.locale)," ").concat(ITe(r.state.date)),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&a)},r.renderChildren=function(){if(r.props.children)return J.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=Q.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return yDe(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:12}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.props.showTimeSelect&&(this.assignMonthContainer=void e.setState({monthContainer:e.monthContainer}))},t.prototype.componentDidUpdate=function(e){var t=this;if(!this.props.preSelection||YDe(this.props.preSelection,e.preSelection)&&this.props.monthSelectedIn===e.monthSelectedIn)this.props.openToDate&&!YDe(this.props.openToDate,e.openToDate)&&this.setState({date:this.props.openToDate});else{var a=!HDe(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},(function(){return a&&t.handleCustomMonthChange(t.state.date)}))}},t.prototype.render=function(){var e=this.props.container||SDe;return J.createElement(kDe,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},J.createElement("div",{style:{display:"contents"},ref:this.containerRef},J.createElement(e,{className:Wf("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(Q.Component),XAe=function(e){var t=e.icon,a=e.className,r=void 0===a?"":a,n=e.onClick,s="react-datepicker__calendar-icon";if("string"==typeof t)return J.createElement("i",{className:"".concat(s," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:n});if(J.isValidElement(t)){var l=t;return J.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(s," ").concat(r),onClick:function(e){"function"==typeof l.props.onClick&&l.props.onClick(e),"function"==typeof n&&n(e)}})}return J.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:n},J.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},QAe=function(e){function t(t){var a=e.call(this,t)||this;return a.portalRoot=null,a.el=document.createElement("div"),a}return yDe(t,e),t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return pu.createPortal(this.props.children,this.el)},t}(Q.Component),JAe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&-1!==e.tabIndex},ZAe=function(e){function t(t){var a=e.call(this,t)||this;return a.getTabChildren=function(){var e;return Array.prototype.slice.call(null===(e=a.tabLoopRef.current)||void 0===e?void 0:e.querySelectorAll("[tabindex], a, button, input, select, textarea"),1,-1).filter(JAe)},a.handleFocusStart=function(){var e=a.getTabChildren();e&&e.length>1&&e[e.length-1].focus()},a.handleFocusEnd=function(){var e=a.getTabChildren();e&&e.length>1&&e[0].focus()},a.tabLoopRef=Q.createRef(),a}return yDe(t,e),t.prototype.render=function(){var e;return(null!==(e=this.props.enableTabLoop)&&void 0!==e?e:t.defaultProps.enableTabLoop)?J.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},J.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,J.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(Q.Component),ePe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yDe(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,a=e.className,r=e.wrapperClassName,n=e.hidePopper,s=void 0===n?t.defaultProps.hidePopper:n,l=e.popperComponent,o=e.targetComponent,i=e.enableTabLoop,d=e.popperOnKeyDown,c=e.portalId,u=e.portalHost,m=e.popperProps,h=e.showArrow,f=void 0;if(!s){var p=Wf("react-datepicker-popper",a);f=J.createElement(ZAe,{enableTabLoop:i},J.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:p,"data-placement":m.placement,onKeyDown:d},l,h&&J.createElement(fDe,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(f=Q.createElement(this.props.popperContainer,{},f)),c&&!s&&(f=J.createElement(QAe,{portalId:c,portalHost:u},f));var x=Wf("react-datepicker-wrapper",r);return J.createElement(J.Fragment,null,J.createElement("div",{ref:m.refs.setReference,className:x},o),f)},t}(Q.Component),tPe=(YAe=ePe,function(e){var t,a,r,n="boolean"!=typeof e.hidePopper||e.hidePopper,s=Q.useRef(null),l=bDe(wDe({open:!n,whileElementsMounted:yse,placement:e.popperPlacement,middleware:jDe([(a={padding:15},m(u({},jse(a)),{options:[a,r]})),sDe(10),lDe({element:s})],null!==(t=e.popperModifiers)&&void 0!==t?t:[],!0)},e.popperProps)),o=wDe(wDe({},e),{hidePopper:n,popperProps:wDe(wDe({},l),{arrowRef:s})});return J.createElement(YAe,wDe({},o))}),aPe="react-datepicker-ignore-onclickoutside",rPe="Date input not valid.",nPe=function(e){function t(a){var r=e.call(this,a)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:EDe()},r.modifyHolidays=function(){var e;return null===(e=r.props.holidays)||void 0===e?void 0:e.reduce((function(e,t){var a=new Date(t.date);return ODe(a)?jDe(jDe([],e,!0),[wDe(wDe({},t),{date:a})],!1):e}),[])},r.calcInitialState=function(){var e,t=r.getPreSelection(),a=pAe(r.props),n=xAe(r.props),s=a&&RTe(t,MDe(a))?a:n&&FTe(t,BDe(n))?n:t;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:null!==(e=r.props.selectsRange?r.props.startDate:r.props.selected)&&void 0!==e?e:s,highlightDates:gAe(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(wDe(wDe({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(wDe(wDe({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){"hidden"===document.visibilityState&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.focus)||void 0===t||t.call(e,{preventScroll:!0})},r.setBlur=function(){var e,t;null===(t=null===(e=r.input)||void 0===e?void 0:e.blur)||void 0===t||t.call(e),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame((function(){r.setBlur()}))},r.setOpen=function(e,t){void 0===t&&(t=!1),r.setState({open:e,preSelection:e&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:lPe},(function(){e||r.setState((function(e){return{focused:!!t&&e.focused}}),(function(){!t&&r.deferBlur(),r.setState({inputValue:null})}))}))},r.inputOk=function(){return MEe(r.state.preSelection)},r.isCalendarOpen=function(){return void 0===r.props.open?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(e){var t,a,n=r.state.wasHidden,s=!n||r.state.open;n&&r.resetHiddenStatus(),r.state.preventFocus||(null===(a=(t=r.props).onFocus)||void 0===a||a.call(t,e),!s||r.props.preventOpenOnFocus||r.props.readOnly||r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},(function(){r.preventFocusTimeout=setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))}))},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout((function(){return r.setFocus()}),1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(e){var t,a;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&(null===(a=(t=r.props).onBlur)||void 0===a||a.call(t,e)),r.state.open&&!1===r.props.open&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(e){var t,a;r.props.inline||r.setOpen(!1),null===(a=(t=r.props).onClickOutside)||void 0===a||a.call(t,e),r.props.withPortal&&e.preventDefault()},r.handleChange=function(){for(var e,a,n,s,l,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var d=o[0];if(!r.props.onChangeRaw||(r.props.onChangeRaw.apply(r,o),d&&"function"==typeof d.isDefaultPrevented&&!d.isDefaultPrevented())){r.setState({inputValue:(null==d?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:sPe});var c=r.props,u=c.selectsRange,m=c.startDate,h=c.endDate,f=null!==(e=r.props.dateFormat)&&void 0!==e?e:t.defaultProps.dateFormat,p=null!==(a=r.props.strictParsing)&&void 0!==a?a:t.defaultProps.strictParsing,x=(null==d?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(u){var g=x.split("-",2).map((function(e){return e.trim()})),b=g[0],v=g[1],y=TDe(null!=b?b:"",f,r.props.locale,p),w=TDe(null!=v?v:"",f,r.props.locale,p),j=(null==m?void 0:m.getTime())!==(null==y?void 0:y.getTime()),N=(null==h?void 0:h.getTime())!==(null==w?void 0:w.getTime());if(!j&&!N)return;if(y&&JDe(y,r.props))return;if(w&&JDe(w,r.props))return;null===(s=(n=r.props).onChange)||void 0===s||s.call(n,[y,w],d)}else{var _=TDe(x,f,r.props.locale,p,null!==(l=r.props.selected)&&void 0!==l?l:void 0);!_&&x||r.setSelected(_,d,!0)}}},r.handleSelect=function(e,t,a){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(t),r.setSelected(e,t,!1,a),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(e);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var n=r.props,s=n.startDate,l=n.endDate;!s||l||!r.props.swapRange&&_Ae(e,s)||r.setOpen(!1)}},r.setSelected=function(e,t,a,n){var s,l,o=e;if(r.props.showYearPicker){if(null!==o&&sAe(ITe(o),r.props))return}else if(r.props.showMonthYearPicker){if(null!==o&&eAe(o,r.props))return}else if(null!==o&&JDe(o,r.props))return;var i=r.props,d=i.onChange,c=i.selectsRange,u=i.startDate,m=i.endDate,h=i.selectsMultiple,f=i.selectedDates,p=i.minTime,x=i.swapRange;if(!qDe(r.props.selected,o)||r.props.allowSameDay||c||h)if(null!==o&&(!r.props.selected||a&&(r.props.showTimeSelect||r.props.showTimeSelectOnly||r.props.showTimeInput)||(o=PDe(o,{hour:DTe(r.props.selected),minute:ATe(r.props.selected),second:MTe(r.props.selected)})),a||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly||p&&(o=PDe(o,{hour:p.getHours(),minute:p.getMinutes(),second:p.getSeconds()})),r.props.inline||r.setState({preSelection:o}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:n})),c){var g=u&&!m,b=u&&m;u||m?g&&(null===o?null==d||d([null,null],t):_Ae(o,u)?x?null==d||d([o,u],t):null==d||d([o,null],t):null==d||d([u,o],t)):null==d||d([o,null],t),b&&(null==d||d([o,null],t))}else if(h){if(null!==o)if(null==f?void 0:f.length)if(f.some((function(e){return YDe(e,o)}))){var v=f.filter((function(e){return!YDe(e,o)}));null==d||d(v,t)}else null==d||d(jDe(jDe([],f,!0),[o],!1),t);else null==d||d([o],t)}else null==d||d(o,t);a||(null===(l=(s=r.props).onSelect)||void 0===l||l.call(s,o,t),r.setState({inputValue:null}))},r.setPreSelection=function(e){var t=MEe(r.props.minDate),a=MEe(r.props.maxDate),n=!0;if(e){var s=MDe(e);if(t&&a)n=VDe(e,r.props.minDate,r.props.maxDate);else if(t){var l=MDe(r.props.minDate);n=FTe(e,l)||qDe(s,l)}else if(a){var o=BDe(r.props.maxDate);n=RTe(e,o)||qDe(s,o)}}n&&r.setState({preSelection:e})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(e){var t,a;if(!r.props.selectsRange&&!r.props.selectsMultiple){var n=r.props.selected?r.props.selected:r.getPreSelection(),s=r.props.selected?e:PDe(n,{hour:DTe(e),minute:ATe(e)});r.setState({preSelection:s}),null===(a=(t=r.props).onChange)||void 0===a||a.call(t,s),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var e,t;r.props.disabled||r.props.readOnly||r.setOpen(!0),null===(t=(e=r.props).onInputClick)||void 0===t||t.call(e)},r.onInputKeyDown=function(e){var t,a,n,s,l,o;null===(a=(t=r.props).onKeyDown)||void 0===a||a.call(t,e);var i=e.key;if(r.state.open||r.props.inline||r.props.preventOpenOnFocus){if(r.state.open){if(i===NDe.ArrowDown||i===NDe.ArrowUp){e.preventDefault();var d=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',c=(null===(s=r.calendar)||void 0===s?void 0:s.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(d);return void(c instanceof HTMLElement&&c.focus({preventScroll:!0}))}var u=EDe(r.state.preSelection);i===NDe.Enter?(e.preventDefault(),e.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===lPe?(r.handleSelect(u,e),!r.props.shouldCloseOnSelect&&r.setPreSelection(u)):r.setOpen(!1)):i===NDe.Escape?(e.preventDefault(),e.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):i===NDe.Tab&&r.setOpen(!1),r.inputOk()||null===(o=(l=r.props).onInputError)||void 0===o||o.call(l,{code:1,msg:rPe})}}else i!==NDe.ArrowDown&&i!==NDe.ArrowUp&&i!==NDe.Enter||null===(n=r.onInputClick)||void 0===n||n.call(r)},r.onPortalKeyDown=function(e){e.key===NDe.Escape&&(e.preventDefault(),r.setState({preventFocus:!0},(function(){r.setOpen(!1),setTimeout((function(){r.setFocus(),r.setState({preventFocus:!1})}))})))},r.onDayKeyDown=function(e){var t,a,n,s,l,o,i=r.props,d=i.minDate,c=i.maxDate,u=i.disabledKeyboardNavigation,m=i.showWeekPicker,h=i.shouldCloseOnSelect,f=i.locale,p=i.calendarStartDay,x=i.adjustDateOnChange,g=i.inline;if(null===(a=(t=r.props).onKeyDown)||void 0===a||a.call(t,e),!u){var b=e.key,v=e.shiftKey,y=EDe(r.state.preSelection),w=function(e,t){var a=t;switch(e){case NDe.ArrowRight:a=m?OEe(t,1):pEe(t,1);break;case NDe.ArrowLeft:a=m?JOe(t,1):function(e,t,a){return pEe(e,-t,a)}(t,1);break;case NDe.ArrowUp:a=JOe(t,1);break;case NDe.ArrowDown:a=OEe(t,1);break;case NDe.PageUp:a=v?ZOe(t,1):XOe(t,1);break;case NDe.PageDown:a=v?DEe(t,1):xEe(t,1);break;case NDe.Home:a=LDe(t,f,p);break;case NDe.End:a=zDe(t)}return a};if(b===NDe.Enter)return e.preventDefault(),r.handleSelect(y,e),void(!h&&r.setPreSelection(y));if(b===NDe.Escape)return e.preventDefault(),r.setOpen(!1),void(r.inputOk()||null===(s=(n=r.props).onInputError)||void 0===s||s.call(n,{code:1,msg:rPe}));var j=null;switch(b){case NDe.ArrowLeft:case NDe.ArrowRight:case NDe.ArrowUp:case NDe.ArrowDown:case NDe.PageUp:case NDe.PageDown:case NDe.Home:case NDe.End:j=function(e,t){for(var a=e,n=!1,s=0,l=w(e,t);!n;){if(s>=40){l=t;break}d&&l<d&&(a=NDe.ArrowRight,l=JDe(d,r.props)?w(a,l):d),c&&l>c&&(a=NDe.ArrowLeft,l=JDe(c,r.props)?w(a,l):c),JDe(l,r.props)?(a!==NDe.PageUp&&a!==NDe.Home||(a=NDe.ArrowRight),a!==NDe.PageDown&&a!==NDe.End||(a=NDe.ArrowLeft),l=w(a,l)):n=!0,s++}return l}(b,y)}if(j){if(e.preventDefault(),r.setState({lastPreSelectChange:lPe}),x&&r.setSelected(j),r.setPreSelection(j),g){var N=PTe(y),_=PTe(j),S=ITe(y),k=ITe(j);N!==_||S!==k?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}else null===(o=(l=r.props).onInputError)||void 0===o||o.call(l,{code:1,msg:rPe})}},r.onPopperKeyDown=function(e){e.key===NDe.Escape&&(e.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(e){e&&e.preventDefault&&e.preventDefault(),r.sendFocusBackToInput();var t=r.props,a=t.selectsRange,n=t.onChange;a?null==n||n([null,null],e):null==n||n(null,e),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(e){"boolean"==typeof r.props.closeOnScroll&&r.props.closeOnScroll?e.target!==document&&e.target!==document.documentElement&&e.target!==document.body||r.setOpen(!1):"function"==typeof r.props.closeOnScroll&&r.props.closeOnScroll(e)&&r.setOpen(!1)},r.renderCalendar=function(){var e,a;return r.props.inline||r.isCalendarOpen()?J.createElement(KAe,wDe({showMonthYearDropdown:void 0,ref:function(e){r.calendar=e}},r.props,r.state,{setOpen:r.setOpen,dateFormat:null!==(e=r.props.dateFormatCalendar)&&void 0!==e?e:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:bAe(r.modifyHolidays()),outsideClickIgnoreClass:aPe,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:null!==(a=r.props.dropdownMode)&&void 0!==a?a:t.defaultProps.dropdownMode}),r.props.children):null},r.renderAriaLiveRegion=function(){var e,a=r.props,n=a.dateFormat,s=void 0===n?t.defaultProps.dateFormat:n,l=a.locale,o=r.props.showTimeInput||r.props.showTimeSelect?"PPPPp":"PPPP";return e=r.props.selectsRange?"Selected start date: ".concat(ADe(r.props.startDate,{dateFormat:o,locale:l}),". ").concat(r.props.endDate?"End date: "+ADe(r.props.endDate,{dateFormat:o,locale:l}):""):r.props.showTimeSelectOnly?"Selected time: ".concat(ADe(r.props.selected,{dateFormat:s,locale:l})):r.props.showYearPicker?"Selected year: ".concat(ADe(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?"Selected month: ".concat(ADe(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?"Selected quarter: ".concat(ADe(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):"Selected date: ".concat(ADe(r.props.selected,{dateFormat:o,locale:l})),J.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},e)},r.renderDateInput=function(){var e,a,n,s=Wf(r.props.className,((e={})[aPe]=r.state.open,e)),l=r.props.customInput||J.createElement("input",{type:"text"}),o=r.props.customInputRef||"ref",i=r.props,d=i.dateFormat,c=void 0===d?t.defaultProps.dateFormat:d,u=i.locale,m="string"==typeof r.props.value?r.props.value:"string"==typeof r.state.inputValue?r.state.inputValue:r.props.selectsRange?function(e,t,a){if(!e)return"";var r=ADe(e,a),n=t?ADe(t,a):"";return"".concat(r," - ").concat(n)}(r.props.startDate,r.props.endDate,{dateFormat:c,locale:u}):r.props.selectsMultiple?function(e,t){if(!(null==e?void 0:e.length))return"";var a=e[0]?ADe(e[0],t):"";if(1===e.length)return a;if(2===e.length&&e[1]){var r=ADe(e[1],t);return"".concat(a,", ").concat(r)}var n=e.length-1;return"".concat(a," (+").concat(n,")")}(null!==(n=r.props.selectedDates)&&void 0!==n?n:[],{dateFormat:c,locale:u}):ADe(r.props.selected,{dateFormat:c,locale:u});return Q.cloneElement(l,((a={})[o]=function(e){r.input=e},a.value=m,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=Wf(l.props.className,s),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var e=r.props,t=e.isClearable,a=e.disabled,n=e.selected,s=e.startDate,l=e.endDate,o=e.clearButtonTitle,i=e.clearButtonClassName,d=void 0===i?"":i,c=e.ariaLabelClose,u=void 0===c?"Close":c,m=e.selectedDates;return t&&(null!=n||null!=s||null!=l||(null==m?void 0:m.length))?J.createElement("button",{type:"button",className:Wf("react-datepicker__close-icon",d,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":u,onClick:r.onClearClick,title:o,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return yDe(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:12,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(e,t){var a,r,n,s,l,o;e.inline&&(l=e.selected,o=this.props.selected,l&&o?PTe(l)!==PTe(o)||ITe(l)!==ITe(o):l!==o)&&this.setPreSelection(this.props.selected),void 0!==this.state.monthSelectedIn&&e.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),e.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:gAe(this.props.highlightDates)}),t.focused||qDe(e.selected,this.props.selected)||this.setState({inputValue:null}),t.open!==this.state.open&&(!1===t.open&&!0===this.state.open&&(null===(r=(a=this.props).onCalendarOpen)||void 0===r||r.call(a)),!0===t.open&&!1===this.state.open&&(null===(s=(n=this.props).onCalendarClose)||void 0===s||s.call(n)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var e=this.props,t=e.showIcon,a=e.icon,r=e.calendarIconClassname,n=e.calendarIconClassName,s=e.toggleCalendarOnIconClick,l=this.state.open;return r&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),J.createElement("div",{className:"react-datepicker__input-container".concat(t?" react-datepicker__view-calendar-icon":"")},t&&J.createElement(XAe,wDe({icon:a,className:Wf(n,!n&&r,l&&"react-datepicker-ignore-onclickoutside")},s?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var e=this.renderCalendar();if(this.props.inline)return e;if(this.props.withPortal){var t=this.state.open?J.createElement(ZAe,{enableTabLoop:this.props.enableTabLoop},J.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},e)):null;return this.state.open&&this.props.portalId&&(t=J.createElement(QAe,wDe({portalId:this.props.portalId},this.props),t)),J.createElement("div",null,this.renderInputContainer(),t)}return J.createElement(tPe,wDe({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:e,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(Q.Component),sPe="input",lPe="navigate",oPe={exports:{}};!function(e){e.exports=function(){var e=1e3,t=6e4,a=36e5,r="millisecond",n="second",s="minute",l="hour",o="day",i="week",d="month",c="quarter",u="year",m="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||t[0])+"]"}},g=function(e,t,a){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(a)+e},b={s:g,z:function(e){var t=-e.utcOffset(),a=Math.abs(t),r=Math.floor(a/60),n=a%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(n,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var r=12*(a.year()-t.year())+(a.month()-t.month()),n=t.clone().add(r,d),s=a-n<0,l=t.clone().add(r+(s?-1:1),d);return+(-(r+(a-n)/(s?n-l:l-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:u,w:i,d:o,D:m,h:l,m:s,s:n,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",y={};y[v]=x;var w="$isDayjsObject",j=function(e){return e instanceof k||!(!e||!e[w])},N=function e(t,a,r){var n;if(!t)return v;if("string"==typeof t){var s=t.toLowerCase();y[s]&&(n=s),a&&(y[s]=a,n=s);var l=t.split("-");if(!n&&l.length>1)return e(l[0])}else{var o=t.name;y[o]=t,n=o}return!r&&n&&(v=n),n||!r&&v},_=function(e,t){if(j(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new k(a)},S=b;S.l=N,S.i=j,S.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function x(e){this.$L=N(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var g=x.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var n=r[2]-1||0,s=(r[7]||"0").substring(0,3);return a?new Date(Date.UTC(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var a=_(e);return this.startOf(t)<=a&&a<=this.endOf(t)},g.isAfter=function(e,t){return _(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<_(e)},g.$g=function(e,t,a){return S.u(e)?this[t]:this.set(a,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var a=this,r=!!S.u(t)||t,c=S.p(e),h=function(e,t){var n=S.w(a.$u?Date.UTC(a.$y,t,e):new Date(a.$y,t,e),a);return r?n:n.endOf(o)},f=function(e,t){return S.w(a.toDate()[e].apply(a.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),a)},p=this.$W,x=this.$M,g=this.$D,b="set"+(this.$u?"UTC":"");switch(c){case u:return r?h(1,0):h(31,11);case d:return r?h(1,x):h(0,x+1);case i:var v=this.$locale().weekStart||0,y=(p<v?p+7:p)-v;return h(r?g-y:g+(6-y),x);case o:case m:return f(b+"Hours",0);case l:return f(b+"Minutes",1);case s:return f(b+"Seconds",2);case n:return f(b+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var a,i=S.p(e),c="set"+(this.$u?"UTC":""),h=(a={},a[o]=c+"Date",a[m]=c+"Date",a[d]=c+"Month",a[u]=c+"FullYear",a[l]=c+"Hours",a[s]=c+"Minutes",a[n]=c+"Seconds",a[r]=c+"Milliseconds",a)[i],f=i===o?this.$D+(t-this.$W):t;if(i===d||i===u){var p=this.clone().set(m,1);p.$d[h](f),p.init(),this.$d=p.set(m,Math.min(this.$D,p.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(r,c){var m,h=this;r=Number(r);var f=S.p(c),p=function(e){var t=_(h);return S.w(t.date(t.date()+Math.round(e*r)),h)};if(f===d)return this.set(d,this.$M+r);if(f===u)return this.set(u,this.$y+r);if(f===o)return p(1);if(f===i)return p(7);var x=(m={},m[s]=t,m[l]=a,m[n]=e,m)[f]||1,g=this.$d.getTime()+r*x;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=S.z(this),s=this.$H,l=this.$m,o=this.$M,i=a.weekdays,d=a.months,c=a.meridiem,u=function(e,a,n,s){return e&&(e[a]||e(t,r))||n[a].slice(0,s)},m=function(e){return S.s(s%12||12,e,"0")},f=c||function(e,t,a){var r=e<12?"AM":"PM";return a?r.toLowerCase():r};return r.replace(p,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return o+1;case"MM":return S.s(o+1,2,"0");case"MMM":return u(a.monthsShort,o,d,3);case"MMMM":return u(d,o);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(a.weekdaysMin,t.$W,i,2);case"ddd":return u(a.weekdaysShort,t.$W,i,3);case"dddd":return i[t.$W];case"H":return String(s);case"HH":return S.s(s,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return f(s,l,!0);case"A":return f(s,l,!1);case"m":return String(l);case"mm":return S.s(l,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,m,h){var f,p=this,x=S.p(m),g=_(r),b=(g.utcOffset()-this.utcOffset())*t,v=this-g,y=function(){return S.m(p,g)};switch(x){case u:f=y()/12;break;case d:f=y();break;case c:f=y()/3;break;case i:f=(v-b)/6048e5;break;case o:f=(v-b)/864e5;break;case l:f=v/a;break;case s:f=v/t;break;case n:f=v/e;break;default:f=v}return h?f:S.a(f)},g.daysInMonth=function(){return this.endOf(d).$D},g.$locale=function(){return y[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),r=N(e,t,!0);return r&&(a.$L=r),a},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},x}(),C=k.prototype;return _.prototype=C,[["$ms",r],["$s",n],["$m",s],["$H",l],["$W",o],["$M",d],["$y",u],["$D",m]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,k,_),e.$i=!0),_},_.locale=N,_.isDayjs=j,_.unix=function(e){return _(1e3*e)},_.en=y[v],_.Ls=y,_.p={},_}()}(oPe);const iPe=n(oPe.exports),dPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null);Q.useState(null);const[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,h]=Q.useState(!1),f=sm(),[x,g]=Q.useState(!1),[b,v]=Q.useState(""),[y,w]=Q.useState(!1),[j,N]=Q.useState([]),[_,S]=Q.useState(0),[k,C]=Q.useState(""),[E,T]=Q.useState(""),[O,D]=Q.useState(null),A=Q.useRef(null);Q.useEffect((()=>{P()}),[]);const P=()=>p(e,null,(function*(){try{g(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/staff_list`,{headers:{Authorization:`Bearer ${e}`}});console.log("Staff",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{g(!1)}})),M=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.teacher_id,label:`${e.name}`})))),[l]);console.log("row",j);const L=j.filter((e=>{var t,a,r;const n=k.toLowerCase(),s=(null==(t=null==e?void 0:e.teachername)?void 0:t.toLowerCase())||"",l=(null==(a=null==e?void 0:e.week)?void 0:a.toLowerCase())||"",o=(null==(r=null==e?void 0:e.time_difference_decimal)?void 0:r.toString().toLowerCase())||"";return s.includes(n)||l.includes(n)||o.includes(n)})).slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[85%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Substitution Weekly Hours Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{f("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[85%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsx("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:oe.jsxs("div",{className:"w-full md:w-[90%] gap-x-0 md:gap-x-12 flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full  md:w-[50%] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"w-full md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Staff ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{v(""),r(e),d(null==e?void 0:e.value)},options:M,placeholder:x?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:x,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".9em"})}}),b&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:b})]})]}),oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-4 justify-between my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"ml-0 md:ml-4 w-full md:w-[50%] text-md mt-1.5",htmlFor:"fromDate",children:"Select Week"}),oe.jsxs("div",{className:"w-full",children:[oe.jsx("div",{className:"text-sm text-gray-700 mt-0.5 border border-gray-300 p-2 rounded cursor-pointer",onClick:()=>{A.current&&A.current.setOpen(!0)},children:E||oe.jsx(nh,{className:"text-pink-500  "})}),oe.jsx(nPe,{ref:A,selected:O,onChange:e=>{if(D(e),e){const t=iPe(e).startOf("week").format("DD-MM-YYYY"),a=iPe(e).endOf("week").format("DD-MM-YYYY");T(`${t} / ${a}`)}else T("")},dateFormat:"dd-MM-yyyy",className:" outline-none relative -top-10 text-sm w-[1px] h-[1px]  bg-white"})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;if(h(!1),!i)return v("Please select Staff Name."),void h(!1);C("");try{const o=E.replace(/\s/g,"").replace(/%20/g,"");console.log("Formatted Week is: ---\x3e",o),h(!0),N([]);const d=localStorage.getItem("authToken"),c={teacher_id:i,week:o},u=yield Uf.get(`${t}/api/getsubstituteteacherweeklyreport`,{headers:{Authorization:`Bearer ${d}`},params:c});(null==(e=null==u?void 0:u.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.length)?(N(null==(n=null==u?void 0:u.data)?void 0:n.data),S(Math.ceil((null==(l=null==(s=null==u?void 0:u.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Substitution Weekly Hours Report not found."),N([]))}catch(o){console.error("Error fetching Substitution Weekly Hours Report:",o),hp.error("Error fetching Substitution Weekly Hours Report. Please try again.")}finally{w(!1),h(!1)}})),style:{backgroundColor:"#2196F3"},className:"btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})})]})})}),j.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Substitution Weekly Hours Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>C(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!L||0===L.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Name","Week","Total Hours"],t=L.map(((e,t)=>[t+1,(null==e?void 0:e.teachername)||" ",(null==e?void 0:e.week)||" ",(null==e?void 0:e.time_difference_decimal)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,` Substitution_Weekly_Hours_Report\n${(null==a?void 0:a.label)||"For All Staff"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Substitution Weekly Hours Report  "+((null==a?void 0:a.label)?`List of ${a.label}`:": Complete List of All Staff "),t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Week</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Total Hours</th>\n\n           \n          </tr>\n        </thead>\n        <tbody>\n          ${L.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.teachername)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.week)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.time_difference_decimal)||" "}</td>\n               \n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                @page { margin: 0; }\n        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\n  \n        /* Increase width */\n        #tableMain {\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        }\n  \n        h5 {\n          width: 100%;\n          text-align: center;\n          font-size: 1.5em;\n          font-weight: bold;\n          margin-bottom: 10px;\n        }\n  \n        #tableContainer {\n          width: 100%;\n          display: flex;\n          justify-content: center;\n        }\n  \n        table {\n          width: 80%; /* Increase table width */\n          border-spacing: 0;\n           margin: auto;\n        }\n  \n        th, td {\n          border: 1px solid gray;\n          padding: 12px;\n          text-align: center;\n          font-size: 16px; /* Increase font size */\n        }\n  \n        th {\n          background-color: #f9f9f9;\n          font-size: 1.1em;\n        }\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"w-full md:w-[80%] mx-auto leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Name","Week","Total Hours"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:L.length?null==L?void 0:L.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.teachername)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.week)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.time_difference_decimal)||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},cPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),C=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.class_id,label:`${e.name}`})))),[l]);console.log("row",y);const E=y.filter((e=>{var t,a,r,n,s,l;const o=_.trim().toLowerCase(),i=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${r}/${a}/${t} || ${r}-${a}-${t}`},d=(null==e?void 0:e.roll_no)?String(e.roll_no):"",c=(null==e?void 0:e.grn_no)?String(e.grn_no):"",u=(null==e?void 0:e.sr_no)?String(e.sr_no):"",m=(null==(t=null==e?void 0:e.class_name)?void 0:t.toLowerCase())||"",h=(null==(a=null==e?void 0:e.sec_name)?void 0:a.toLowerCase())||"",f=(null==(r=i(null==e?void 0:e.leaving_date))?void 0:r.toLowerCase())||"",p=[null==e?void 0:e.student_name].filter(Boolean).join(" ").toLowerCase(),x=(null==(n=i(null==e?void 0:e.issue_date))?void 0:n.toLowerCase())||"",g=(null==(s=null==e?void 0:e.remark)?void 0:s.toLowerCase())||"",b=(null==(l=null==e?void 0:e.reason_leaving)?void 0:l.toLowerCase())||"";return d.includes(o)||c.includes(o)||u.includes(o)||m.includes(o)||p.includes(o)||h.includes(o)||f.includes(o)||x.includes(o)||g.includes(o)||b.includes(o)})),T=E.slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[98%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Leaving Certificate Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[80%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-14  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-2 justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[20%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Class"}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:C,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;u(!1),S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.class_id=i);const c=yield Uf.get(`${t}/api/getleavingcertificatereport`,{headers:{Authorization:`Bearer ${o}`},params:d});console.log("Leaving Certificate Report",c),(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Leaving Certificate Report data not found."),w([]))}catch(o){console.error("Error fetching Leaving Certificate Report:",o),hp.error("Error fetching Leaving Certificate Report. Please try again.")}finally{v(!1),u(!1)}})),style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-[100%] mt-4 mx-auto",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Leaving Certificate Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!T||0===T.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Roll No","GRN No.","Student Name","Class","LC No.","Last Date","Issue Date","Leaving Remark","Reason"],t=T.map(((e,t)=>[t+1,(null==e?void 0:e.roll_no)||" ",(null==e?void 0:e.grn_no)||" ",`${[e.stud_name,e.mid_name,e.last_name].filter(Boolean).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}`,`${(null==e?void 0:e.class_name)||" "}   ${(null==e?void 0:e.sec_name)||" "}`,(null==e?void 0:e.sr_no)||" ",(null==e?void 0:e.leaving_date)?new Date(e.leaving_date).toLocaleDateString("en-GB"):" ",(null==e?void 0:e.issue_date)?new Date(e.issue_date).toLocaleDateString("en-GB"):" ",(null==e?void 0:e.remark)||" ",(null==e?void 0:e.reason_leaving)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Leaving_Student_Report_${(null==a?void 0:a.label)||"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Leaving Certificate Report "+((null==a?void 0:a.label)?`${a.label}`:"For All Students "),t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n    <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Roll No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">GRN No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">LC No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Last Date</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Issue Date</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Leaving Remark</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Reason</th>\n            \n          </tr>\n        </thead>\n        <tbody>\n          ${T.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.roll_no)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.grn_no)||" "}</td>\n                 <td className="px-2 text-center py-2 border border-black">\n                 ${[e.stud_name,e.mid_name,e.last_name].filter(Boolean).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">\n                 ${(null==e?void 0:e.class_name)||" "}  \n                 ${(null==e?void 0:e.sec_name)||" "}\n                   </td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.sr_no)||" "}</td>\n                 <td class="px-2 text-center py-2 border border-black">\n                 ${(null==e?void 0:e.leaving_date)?new Date(e.leaving_date).toLocaleDateString("en-GB"):" "}\n                 </td>\n                 <td class="px-2 text-center py-2 border border-black">\n                 ${(null==e?void 0:e.issue_date)?new Date(e.issue_date).toLocaleDateString("en-GB"):" "}\n                 </td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.remark)||" "}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.reason_leaving)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                @page { margin: 0; }\n        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\n  \n        /* Increase width */\n        #tableMain {\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        }\n  \n        h5 {\n          width: 100%;\n          text-align: center;\n          font-size: 1.5em;\n          font-weight: bold;\n          margin-bottom: 10px;\n        }\n  \n        #tableContainer {\n          width: 100%;\n          display: flex;\n          justify-content: center;\n        }\n  \n        table {\n          width: 80%; /* Increase table width */\n          border-spacing: 0;\n           margin: auto;\n        }\n  \n        th, td {\n          border: 1px solid gray;\n          padding: 12px;\n          text-align: center;\n          font-size: 16px; /* Increase font size */\n        }\n  \n        th {\n          background-color: #f9f9f9;\n          font-size: 1.1em;\n        }\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Roll No","GRN No.","Student Name","Class","LC No.","Last Date","Issue Date","Leaving Remark","Reason"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:T.length?null==T?void 0:T.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.roll_no}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.grn_no||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:[e.stud_name,e.mid_name,e.last_name].filter(Boolean).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}),oe.jsxs("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:[e.class_name||" "," ",e.sec_name||" "]}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.sr_no||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.leaving_date?new Date(e.leaving_date).toLocaleDateString("en-GB"):" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.issue_date?new Date(e.issue_date).toLocaleDateString("en-GB"):" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.remark||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:e.reason_leaving||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},uPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),C=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.section_id,label:`${e.get_class.name} ${e.name}`})))),[l]),E=[{value:"D",label:"Diamond"},{value:"R",label:"Ruby"},{value:"S",label:"Sapphire"},{value:"E",label:"Emerald"}],T=e=>{const t=E.find((t=>t.value===e));return t?t.label:""};console.log("row",y);const O=y.filter((e=>{var t,a,r,n,s,l,o;const i=_.toLowerCase(),d=(null==e?void 0:e.roll_no)?String(e.roll_no):"",c=(null==(t=null==e?void 0:e.class_name)?void 0:t.toLowerCase())||"",u=`${null==e?void 0:e.first_name} ${null==e?void 0:e.mid_name} ${null==e?void 0:e.last_name}`.toLowerCase().trim()||"",m=(e=>{if(!e)return"";const t=e.split(" ")[0],[a,r,n]=t.split("-");return`${n}/${r}/${a} || ${n}-${r}-${a}`})(null==e?void 0:e.dob).toLowerCase(),h=(null==(a=null==e?void 0:e.permant_add)?void 0:a.toLowerCase())||"",f=(null==(r=null==e?void 0:e.blood_group)?void 0:r.toLowerCase())||"",p=(null==(n=null==e?void 0:e.house)?void 0:n.toLowerCase())||"",x=(null==(s=null==e?void 0:e.father_name)?void 0:s.toLowerCase())||"",g=(null==(l=null==e?void 0:e.m_mobile)?void 0:l.toLowerCase())||"",b=(null==(o=null==e?void 0:e.f_mobile)?void 0:o.toLowerCase())||"";return d.includes(i)||c.includes(i)||u.includes(i)||m.includes(i)||h.includes(i)||f.includes(i)||p.includes(i)||x.includes(i)||g.includes(i)||b.includes(i)})),D=O.slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Pending Students ID Crad Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[70%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsxs("label",{className:"md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:C,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;if(u(!1),!i)return g("Please select Class."),void u(!1);S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.section_id=i);const c=yield Uf.get(`${t}/api/getpendingstudentidcardreport`,{headers:{Authorization:`Bearer ${o}`},params:d});(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Pending Students Id Card Report data not found."),w([]))}catch(o){console.error("Error fetching Pending Students Id Card Report:",o),hp.error("Error fetching Pending Students Id Card Report. Please try again.")}finally{v(!1),u(!1)}})),style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Pending Students ID Card Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!D||0===D.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Roll No.","Student Full Name","Class","Date Of Birth","Address","Blood Group","House","Parent Name","Father Mobile No.","Mother Mobile No."],t=D.map(((e,t)=>[t+1,null==e?void 0:e.roll_no,`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`,`${(null==e?void 0:e.class_name)||" "} ${(null==e?void 0:e.sec_nname)||""}`,`${(null==e?void 0:e.dob)?new Date(e.dob).toLocaleDateString("en-GB"):" "}`,(null==e?void 0:e.permant_add)||" ",(null==e?void 0:e.blood_group)||" ",T(null==e?void 0:e.house)||" ",(null==e?void 0:e.father_name)||" ",(null==e?void 0:e.f_mobile)||" ",(null==e?void 0:e.m_mobile)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,`Pending_Student_Id_Card_Report_${(null==a?void 0:a.label)||"For ALL Students"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Pending Student Id Report "+((null==a?void 0:a.label)?`List of Class ${a.label}`:": For All Students "),t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Roll No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Full Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Date of Birth</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Address</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Blood Group</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">House</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Parent Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Father Mobile No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Mother Mobile No.</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${D.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${null==e?void 0:e.roll_no}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.first_name)||" "}${(null==e?void 0:e.mid_name)||" "} ${(null==e?void 0:e.last_name)||" "} </td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.class_name)||" "} ${(null==e?void 0:e.sec_name)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.dob)?new Date(e.dob).toLocaleDateString("en-GB"):" "}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.permant_add)||" "}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.blood_group)||" "}</td>\n                   <td class="px-2 text-center py-2 border border-black">\n                   ${T((null==e?void 0:e.house)||" ")} </td>\n                    <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.father_name)||" "}</td>\n                     <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.f_mobile)||" "}</td>\n                      <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.m_mobile)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n              @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Roll No.","Student Name","Class","Date Of Birth","Address","Blood Group","House","Parent Name","Father Mobile No.","Mother Mobile No."].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:D.length?null==D?void 0:D.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),console.log("sroll no",e),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.roll_no}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[e.first_name||" "," ",e.mid_name||" "," ",e.last_name||" "]}),oe.jsxs("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:[e.class_name||" "," ",e.sec_name||" "]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.dob?new Date(e.dob).toLocaleDateString("en-GB"):" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.permant_add||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.blood_group||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:T(e.house)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.father_name||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.f_mobile||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.m_mobile||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},mPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),n=Q.useRef({}),[s,l]=Q.useState({});Q.useState({});const[o,i]=Q.useState(0),[d,c]=Q.useState([]),[h,f]=Q.useState(null),[x,g]=Q.useState(!1),[b,v]=Q.useState([]),[y,w]=Q.useState(null),[j,N]=Q.useState(null),_=sm(),[S,k]=Q.useState(!1),[C,E]=Q.useState(""),[T,O]=Q.useState(!1),[D,A]=Q.useState([]),[P,M]=Q.useState(!1),[L,I]=Q.useState({}),[F,R]=Q.useState({}),[$,B]=Q.useState({}),[z,U]=Q.useState(0),[H,W]=Q.useState("");Q.useEffect((()=>{Y(),q(),K()}),[]);const Y=()=>p(e,null,(function*(){var e,a;try{k(!0);const r=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_departments`,{headers:{Authorization:`Bearer ${r}`}});console.log("Departments",n),c((null==(e=null==n?void 0:n.data)?void 0:e.data)||[]),console.log("Departments",null==(a=null==n?void 0:n.data)?void 0:a.data)}catch(r){hp.error("Error fetching Departments"),console.error("Error fetching Departments:",r)}finally{k(!1)}})),q=()=>p(e,null,(function*(){var e;try{k(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_subjectwithoutsocial`,{headers:{Authorization:`Bearer ${a}`}});console.log("Subjects",r),v((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching Subjects"),console.error("Error fetching Subjects:",a)}finally{k(!1)}})),V=Q.useMemo((()=>b.map((e=>({value:null==e?void 0:e.sm_id,label:`${e.name}`})))),[b]),G=Q.useMemo((()=>d.map((e=>({value:null==e?void 0:e.teacher_group,label:null==e?void 0:e.teacher_group})))),[d]),K=()=>p(e,null,(function*(){var e,r,n,s,l,o,i;W("");try{g(!0),A([]);const d=localStorage.getItem("authToken"),c={};h&&(c.departmentname=a.label),j&&(c.subject=j),console.log("API Request Params:",c);const u=yield Uf.get(`${t}/api/get_teacherperiodallocation`,{headers:{Authorization:`Bearer ${d}`},params:c});console.log("API Response Data:",null==(e=null==u?void 0:u.data)?void 0:e.data),(null==(r=null==u?void 0:u.data)?void 0:r.data)&&0!==(null==(s=null==(n=null==u?void 0:u.data)?void 0:n.data)?void 0:s.length)?(A(null==(l=null==u?void 0:u.data)?void 0:l.data),U(Math.ceil((null==(i=null==(o=null==u?void 0:u.data)?void 0:o.data)?void 0:i.length)/10))):(hp.error("Teacher Period Allocation data not found."),A([]))}catch(d){console.error("Error fetching Teacher Period Allocation:",d),hp.error("Error fetching Teacher Period Allocation. Please try again.")}finally{O(!1),g(!1)}})),X=()=>{const e=!P;M(e);const t={};J.forEach((a=>{t[a.teacher_id]=e})),I(t)},J=D.filter((e=>{const t=H.trim().toLowerCase(),a=`${null==e?void 0:e.name}`.toLowerCase().trim()||"",r=`${null==e?void 0:e.periods_allocated}`.toLowerCase()||"";return a.includes(t)||r.includes(t)})).slice(10*o),Z=()=>{if(!F||""===F.trim())return void hp.error("Please enter a period value before applying.");if(F.length>2)return void hp.error("Period value cannot exceed 2 digits.");const e=Object.keys(L).filter((e=>L[e]));if(0===e.length)return void hp.error("Please select at least one teacher before applying.");if(!Array.isArray(J)||0===J.length)return void hp.error("Teacher data is not available. Please refresh and try again.");const t=Number(F.trim());for(const r of e){const e=J.find((e=>String(e.teacher_id)===String(r)));if(!e)return console.error(`No data found for Teacher ID: ${r}`),void hp.error("No data found for selected teacher.");const a=e.name||`ID ${r}`,n=e.periods_used||0;if(console.log(`Checking Teacher: ${a}, periodsUsed: ${n}, periodValueNum: ${t}`),t<n)return void hp.error(`Allocated periods for ${a} must be at least ${n}`)}const a=u({},$);e.forEach((e=>{a[e]=t})),B(a),hp.warning("Period applied successfully to the selected teachers!")};return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[70%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Teacher Period Allocation"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{_("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[95%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[full] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[full] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[70%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[40%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Department"}),oe.jsxs("div",{className:" w-full md:w-[60%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{E(""),r(e),f(null==e?void 0:e.value)},options:G,placeholder:S?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{control:e=>m(u({},e),{fontSize:"0.875rem"}),singleValue:e=>m(u({},e),{fontSize:"0.875rem"}),option:e=>m(u({},e),{fontSize:"0.875rem"})},isDisabled:S}),C&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:C})]})]}),oe.jsxs("div",{className:"w-full md:w-[60%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsx("label",{className:"md:w-[40%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:"Subject"}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:y,onChange:e=>{E(""),w(e),N(null==e?void 0:e.value)},options:V,placeholder:S?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",styles:{control:e=>m(u({},e),{fontSize:"0.875rem"}),singleValue:e=>m(u({},e),{fontSize:"0.875rem"}),option:e=>m(u({},e),{fontSize:"0.875rem"})},isDisabled:S}),C&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:C})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:K,style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(x?"opacity-50 cursor-not-allowed":""),disabled:x,children:x?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})})]})," "]})}),D.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-[full%] mt-4 p-2 px-3",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Teacher Period Allocation"}),oe.jsx("div",{className:"w-1/2 md:w-[25%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>W(e.target.value)})})]})}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Select All","Teacher Name","No. of Periods"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Select All"===e?oe.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[oe.jsx("span",{children:e}),oe.jsx("input",{type:"checkbox",className:"form-checkbox h-3 w-3 text-blue-600",checked:P,onChange:X})]}):"No. of Periods"===e?oe.jsxs("div",{className:"flex flex-col items-center gap-1",children:[oe.jsx("span",{children:e}),oe.jsxs("div",{className:"flex items-center gap-2 ",children:[oe.jsx("input",{type:"number",className:"w-20 px-1 py-1 border border-gray-400 rounded text-center text-sm ml-16",placeholder:"Period",value:F,onChange:e=>{let t=e.target.value.replace(/\D/g,"");t.length>2?hp.error("Allocated periods cannot exceed 2 digits."):R(t)},maxLength:2,inputMode:"numeric"}),oe.jsx("button",{type:"button",className:"px-2 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",onClick:Z,children:"Apply"})]})]}):e},t)))})}),oe.jsx("tbody",{children:J.length?null==J?void 0:J.map(((e,t)=>{var a;return oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:oe.jsx("input",{type:"checkbox",className:"form-checkbox h-3 w-3 text-blue-600",checked:!!L[e.teacher_id],onChange:()=>(e=>{const t=m(u({},L),{[e]:!L[e]});I(t),M(J.every((e=>t[e.teacher_id])))})(e.teacher_id)})}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.name)||" "}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[oe.jsx("input",{type:"number",min:"1",className:"w-20 px-1 py-1 border border-gray-400 rounded text-center text-sm",placeholder:"Period",value:null!=(a=$[e.teacher_id])?a:e.periods_allocated,onChange:t=>((e,t)=>{if(""===t.trim())return void B((t=>m(u({},t),{[e]:""})));const a=Number(t);isNaN(a)||(t.length>2?hp.error("Allocated periods cannot exceed 2 digits."):(B((t=>m(u({},t),{[e]:a}))),l((t=>{const a=u({},t);return a[e]&&delete a[e],a}))))})(e.teacher_id,t.target.value),ref:t=>{t&&(n.current=m(u({},n.current),{[e.teacher_id]:t}))}}),s[e.teacher_id]&&oe.jsx("p",{className:"mt-1 text-xs text-red-600 animate-fadeIn",children:"string"==typeof s?s:"At least 1 period is required."})]})]},e.teacher_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:"flex justify-end w-full mt-2 p-2",children:oe.jsx("button",{type:"submit",style:{backgroundColor:"#2196F3"},className:"text-white font-bold py-1 border border-blue-500 px-4 rounded",onClick:()=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),a=J.filter((e=>L[e.teacher_id])).map((e=>({teacher_id:e.teacher_id,name:e.name,periods_allocated:void 0!==$[e.teacher_id]?$[e.teacher_id]:e.periods_allocated})));if(console.log("selectedTechaers",a),0===a.length)return void hp.error("Please select at least one teacher before submitting.");const r=a.filter((e=>0===e.periods_allocated||""===e.periods_allocated||null===e.periods_allocated||void 0===e.periods_allocated));if(console.log("invalidTechahers",r),r.length>0){const e=u({},s),t=r.find((e=>L[e.teacher_id]));if(t){const a=t.teacher_id;e[a]=!0,l(e),n.current[a]&&(n.current[a].scrollIntoView({behavior:"smooth",block:"center"}),n.current[a].classList.add("animate-pulse"),setTimeout((()=>{var e;null==(e=n.current[a])||e.classList.remove("animate-pulse")}),1e3))}return}if(console.log("Sending Data:",JSON.stringify(a,null,2)),T)return;O(!0);for(const t of a){const e=J.find((e=>String(e.teacher_id)===String(t.teacher_id)));if(!e)return console.error(`No data found for Teacher ID: ${t.teacher_id}`),void hp.error("No data found for selected teacher.");const a=e.name||`ID ${t.teacher_id}`,r=e.periods_used||0;if((t.periods_allocated||0)<r)return hp.error(`Allocated periods for ${a} must be at least ${r}`),void(n.current[t.teacher_id]&&(n.current[t.teacher_id].scrollIntoView({behavior:"smooth",block:"center"}),n.current[t.teacher_id].classList.add("animate-pulse"),setTimeout((()=>{var e;null==(e=n.current[t.teacher_id])||e.classList.remove("animate-pulse")}),1e3)))}const o=yield Uf.post(`${t}/api/save_teacherperiodallocation`,a,{headers:{Authorization:`Bearer ${e}`}});console.log("API Response:",o.data),o?(hp.success("Teacher Period Allocation Created Successfully."),I({}),M(!1),l({}),B({}),R({}),K()):hp.error("Teacher Period Allocation not created.")}catch(e){console.error("Error Submitting Teacher Period Allocation:",e),hp.error("Error Submitting Teacher Period Allocation. Please try again.")}finally{O(!1)}})),disabled:T,children:T?"Saving...":"Save"})})]})]})})})]})]})]})})},hPe=()=>{const t="https://sms.evolvu.in/public";Q.useState(null);const[a,r]=Q.useState(0),[n,s]=Q.useState([]),[l,o]=Q.useState(!1),[i,d]=Q.useState([]),c=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),[b,v]=Q.useState([]),[y,w]=Q.useState({"mon-fri":"",sat:""}),[j,N]=Q.useState({"mon-fri":"",sat:""}),[_,S]=Q.useState(!1),[k,C]=Q.useState({}),[E,T]=Q.useState(0),[O,D]=Q.useState("");Q.useEffect((()=>{A(),P(),M()}),[]);const A=()=>p(e,null,(function*(){var e;try{f(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_classofnewadmission`,{headers:{Authorization:`Bearer ${a}`}});s((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",a)}finally{f(!1)}})),P=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/subject`,{headers:{Authorization:`Bearer ${e}`}});console.log("Subjects",a),d((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Subjects"),console.error("Error fetching Subjects:",e)}finally{f(!1)}})),M=()=>p(e,null,(function*(){var e,a;o(!0),v([]),D("");try{const r=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_classsectionfortimetable`,{headers:{Authorization:`Bearer ${r}`}});if(console.log("Class response",n),(null==(e=null==n?void 0:n.data)?void 0:e.data)&&0!==Object.keys(null==(a=null==n?void 0:n.data)?void 0:a.data).length){const e=Object.values(n.data.data).flat();v(e),T(Math.ceil(e.length/10))}else hp.error("Class data not found."),v([])}catch(r){console.error("Error fetching classwise Period Allotment:",r),hp.error("Error fetching classwise Period Allotment. Please try again.")}finally{g(!1),o(!1)}}));console.log("row",b);const L=()=>{if(!Array.isArray(B)||0===B.length)return void console.log("displayedSections is empty or not an array");const e=!_;S(e);const t={};B.forEach((a=>{a.class_id&&a.section_id&&(t[a.section_id]=e,t[a.class_id]=e)})),console.log("updatedCheckboxes",t),C(t)},I=(e,t,a=null)=>{let r=u({},k);if(null===a){const a=!k[t];e.sections.forEach((e=>{r[e.section_id]=a})),r[t]=a}else{r[a]=!k[a];const n=e.sections.every((e=>r[e.section_id]));r[t]=n}C(r),S(B.every((e=>r[e.class_id])))},F=b.reduce(((e,t)=>{const{class_id:a,classname_section:r}=t;return e[a]||(e[a]={class_id:a,sections:[]}),e[a].sections.push(r),e}),{}),R=Object.values(F);console.log("grouped data",R);const $=(e,t)=>{let a=parseInt(t,10);if(isNaN(a)&&(a=""),"mon-fri"===e){if(""===a)return w((t=>m(u({},t),{[e]:a}))),void N((e=>m(u({},e),{"mon-fri":""})));if(a>9||a<1)return void N((e=>m(u({},e),{"mon-fri":"Mon-Fri Periods between 1 and 9."})));a>=1&&a<=9&&(w((t=>m(u({},t),{[e]:a}))),N((e=>m(u({},e),{"mon-fri":""}))))}if("sat"===e){if(""===a)return w((t=>m(u({},t),{[e]:a}))),void N((e=>m(u({},e),{sat:""})));if(a>5||a<1)return void N((e=>m(u({},e),{sat:"Saturday Periods between 1 and 5."})));a>=1&&a<=5&&(w((t=>m(u({},t),{[e]:a}))),N((e=>m(u({},e),{sat:""}))))}},B=b.filter((e=>{var t;const a=O.toLowerCase().trim();return((null==(t=null==e?void 0:e.classname_section)?void 0:t.toLowerCase().trim())||"").includes(a)})).slice(10*a);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[65%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"",children:oe.jsx("div",{className:"w-full  mt-2",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Classwise Period Allocation"}),oe.jsx(sh,{className:"mt-2 relative  text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{c("/classWisePAllot")}})]})}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full h-full",children:oe.jsx("div",{className:"h-[500px] lg:h-[500px] overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:b.length>0?oe.jsxs(oe.Fragment,{children:[oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Select All","Class"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Select All"===e?oe.jsxs("div",{className:"flex flex-col items-center justify-center gap-1",children:[oe.jsx("span",{children:e}),oe.jsx("input",{type:"checkbox",className:"form-checkbox h-3 w-3 text-blue-600",checked:_,onChange:L})]}):e},t)))})}),oe.jsx("tbody",{children:Object.values(b.reduce(((e,t)=>{const{class_id:a,classname_section:r,section_id:n}=t;return e[a]||(e[a]={class_id:a,sections:[]}),e[a].sections.push({section_id:n,classname_section:r}),e}),{})).map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:oe.jsx("input",{type:"checkbox",className:"form-checkbox h-3 w-3 text-blue-600",checked:!!k[e.class_id],onChange:()=>I(e,e.class_id)})}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:oe.jsx("div",{className:"grid grid-cols-4 gap-4",children:e.sections.map((t=>oe.jsxs("label",{className:"flex items-center gap-2",children:[oe.jsx("input",{type:"checkbox",className:"form-checkbox h-3 w-3 text-green-600",checked:!!k[t.section_id],onChange:()=>I(e,e.class_id,t.section_id)}),oe.jsx("span",{children:t.classname_section})]},t.section_id)))})})]},e.class_id)))})]}),oe.jsx("div",{className:" w-full md:w-[full] flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[full] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[full] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[70%] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[60%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"monfriSelect",children:["Mon-Fri Periods"," ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[65%]",children:[oe.jsx("input",{type:"number",placeholder:"Enter Period",value:y["mon-fri"]||"",onChange:e=>$("mon-fri",e.target.value),max:9,min:1,className:"text-sm w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h}),j["mon-fri"]&&oe.jsx("span",{className:"text-xs text-red-500",children:j["mon-fri"]})]})]}),oe.jsxs("div",{className:"w-full md:w-[60%] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"md:w-[50%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"satSelect",children:["Sat Periods"," ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[65%]",children:[oe.jsx("input",{type:"number",placeholder:"Enter Period",value:y.sat||"",onChange:e=>$("sat",e.target.value),min:1,max:5,className:"text-sm w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:h}),j.sat&&oe.jsx("span",{className:"text-xs text-red-500",children:j.sat})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"submit",onClick:()=>p(e,null,(function*(){o(!0);const e={};if(y["mon-fri"]||(e["mon-fri"]="Mon-Fri Periods are required."),y.sat||(e.sat="Saturday Periods are required."),Object.keys(e).length>0)return N(e),void o(!1);try{const e=localStorage.getItem("authToken");console.log("Displayed Sections:",B),console.log("Selected Checkboxes:",k);const a=B.filter((e=>k[e.class_id]||k[e.section_id])).map((e=>({class_id:e.class_id,section_id:e.section_id,"mon-fri":y["mon-fri"],sat:y.sat})));if(0===a.length)return hp.error("Please select at least one class or section before submitting."),void o(!1);console.log("Sending Data:",JSON.stringify(a,null,2));const r=yield Uf.post(`${t}/api/save_classwiseperiod`,a,{headers:{Authorization:`Bearer ${e}`}});console.log("API Response:",r.data),r.data.success?(hp.success("Classwise Period Allocation Created Successfully."),C({}),S(!1),w(!1),setTimeout((()=>{c("/classWisePAllot")}),1e3)):hp.error("Classwise Period Allocation not created.")}catch(a){console.error("Error Submitting Classwise Period Allocation:",a),hp.error("Error submitting. Please try again.")}finally{g(!1),o(!1)}})),style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(l?"opacity-50 cursor-not-allowed":""),disabled:l,children:l?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Saving..."]}):"Save"})})]})," "]})})]}):oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})})})})]})})})]})})},fPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(0),[n,s]=Q.useState(!1),[l,o]=Q.useState(null),[i,d]=Q.useState(null),[c,h]=Q.useState(null),[f,x]=Q.useState(!1),[g,b]=Q.useState(null),[v,y]=Q.useState(null);Q.useState({});const[w,j]=Q.useState({"mon-fri":"",sat:""}),[N,_]=Q.useState({"mon-fri":"",sat:""}),S=Q.useRef(0),k=Q.useRef(""),[C,E]=Q.useState(!1),T=sm(),[O,D]=Q.useState(!1),[A,P]=Q.useState([]);Q.useState(null);const M=10,[L,I]=Q.useState(0),[F,R]=Q.useState("");Q.useEffect((()=>{$()}),[]);const $=()=>p(e,null,(function*(){var e,a,r,n;R(""),E(!0);try{P([]);const s=localStorage.getItem("authToken"),l=yield Uf.get(`${t}/api/get_classwiseperiodlist`,{headers:{Authorization:`Bearer ${s}`}});console.log("Classwise Period Allocation Data",l),(null==(e=null==l?void 0:l.data)?void 0:e.data)&&0!==(null==(a=null==l?void 0:l.data)?void 0:a.data.length)?Array.isArray(l.data.data)&&(P(null==(r=null==l?void 0:l.data)?void 0:r.data),I(Math.ceil((null==(n=null==l?void 0:l.data)?void 0:n.data.length)/M))):(hp.error("Class-wise period allocation data not found. Please  add class-wise period allocation data"),P([]))}catch(s){console.error("Error fetching Classwise Period Allocation:",s),hp.error("Error fetching Classwise Period Allocation. Please try again.")}finally{D(!1),E(!1)}})),B=()=>{s(!1),x(!1),o(null),h(null),b(),y()},z=(e,t)=>{let a=parseInt(t,10);if(""===t.trim())return _((t=>m(u({},t),{[e]:("mon-fri"===e?"Mon-Fri":"Saturday")+" Periods are required."}))),void j((t=>m(u({},t),{[e]:""})));if(!isNaN(a)){if("mon-fri"===e){if(a<1||a>9)return void _((e=>m(u({},e),{"mon-fri":"Mon-Fri Periods must be between 1 and 9."})))}else if("sat"===e&&(a<1||a>5))return void _((e=>m(u({},e),{sat:"Saturday Periods must be between 1 and 5."})));j((t=>m(u({},t),{[e]:a}))),_((t=>m(u({},t),{[e]:""})))}};Q.useEffect((()=>{console.log("Updated timetable:",A)}),[A]),console.log("row",A),Q.useEffect((()=>{const e=F.trim().toLowerCase();""!==e&&""===k.current&&(S.current=a,r(0)),""===e&&""!==k.current&&r(S.current),k.current=e}),[F]);const U=A.filter((e=>{var t,a,r,n,s,l;const o=F.trim().toLowerCase(),i=(null==(a=null==(t=null==e?void 0:e.classname)?void 0:t.toLowerCase())?void 0:a.trim())||"",d=(null==(n=null==(r=null==e?void 0:e["mon-fri"])?void 0:r.toString())?void 0:n.trim())||"",c=(null==(l=null==(s=null==e?void 0:e.sat)?void 0:s.toString())?void 0:l.trim().toLowerCase())||"";return i.includes(o)||d.includes(o)||c.includes(o)}));Q.useEffect((()=>{I(Math.ceil(U.length/M))}),[U,M]);const H=U.slice(a*M,(a+1)*M);return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"w-full md:w-[60%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-[full%] ",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg ",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Classwise Period Allocation"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:"w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>R(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>T("/createClassWisePAllot"),children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]})}),oe.jsx("div",{className:"relative w-[97%] mb-3 h-1 mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"w-16 text-center px-2 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr No."}),oe.jsx("th",{className:"w-34 text-center px-2 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class - Division"}),oe.jsx("th",{className:"w-34 text-center px-2 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Mon-Fri Periods"}),oe.jsx("th",{className:"w-32 text-center px-2 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sat Periods"}),oe.jsx("th",{className:"w-24 text-center px-2 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"w-24 text-center px-2 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:C?oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center py-6",children:oe.jsx("div",{className:"text-blue-700 text-xl",children:"Please wait while data is loading..."})})}):Array.isArray(H)&&H.length>0?H.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:a*M+t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==e?void 0:e.classname}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==e?void 0:e["mon-fri"]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==e?void 0:e.sat}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:"false"===String(null==e?void 0:e.exists_in_timetable)?oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>{return o((t=e).class_id),h(t.section_id),d(null==t?void 0:t.classname),j({"mon-fri":t["mon-fri"]||"",sat:t.sat||""}),_({}),void x(!0);var t},children:oe.jsx(zM,{icon:HM})}):" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:"false"===String(null==e?void 0:e.exists_in_timetable)?oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent",onClick:()=>{return t=e,console.log("this is class id",t.class_id),o(t.class_id),h(t.section_id),d(t.classname),void s(!0);var t},children:oe.jsx(zM,{icon:VM})}):" "})]},e.adm_form_pk||t))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center text-xl text-red-700 py-4",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 mb-2  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:L,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{r(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})})})]}),f&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Classwise Period Allocation"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:B})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"editStaffName",className:"w-1/2 mt-2",children:["Class Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:"w-[100%]",children:oe.jsx("input",{id:"editStaffName",className:"form-control shadow-md",value:i,disabled:!0})})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"editLeaveAllocated",className:"w-1/2 mt-2",children:["Mon-Fri Period",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-[100%]",children:[oe.jsx("input",{type:"number",id:"leaveAllocated",className:"form-control shadow-md",min:1,max:9,placeholder:"Enter Period",value:w["mon-fri"]||"",onChange:e=>z("mon-fri",e.target.value)}),N["mon-fri"]&&oe.jsx("span",{className:"text-xs text-red-500 block mt-1",children:N["mon-fri"]})]})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"editLeaveAllocated",className:"w-1/2 mt-2",children:["Sat Period",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-[100%]",children:[oe.jsx("input",{type:"number",id:"leaveAllocated",className:"form-control shadow-md",min:1,max:9,placeholder:"Enter Period",value:w.sat||"",onChange:e=>z("sat",e.target.value)}),N.sat&&oe.jsx("span",{className:"text-xs text-red-500 block mt-1",children:N.sat})]})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(e,null,(function*(){if(E(!0),O)return;const e={};if(w["mon-fri"]||(e["mon-fri"]="Mon-Fri Periods are required."),w.sat||(e.sat="Saturday Periods are required."),Object.keys(e).length>0)return _(e),hp.error("Please fill in all required fields before submitting."),void E(!1);D(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.put(`${t}/api/update_classwiseperiod/${l}/${c}`,{"mon-fri":w["mon-fri"],sat:w.sat},{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});console.log("Update response:",a.data),console.log("fetch classwise data",A),B(),yield $(),console.log("after handlesearch",A),hp.success("Class Period Allocation updated successfully!")}catch(a){if(console.error("Error editing Class Period:",a),a.response&&422===a.response.data.status){const e=a.response.data.errors;console.log("error",e)}else hp.error("Server error. Please try again later.")}finally{D(!1),E(!1)}})),disabled:O,children:O?"Updating...":"Update"})})]})})}),n&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title ",children:"Delete Class Period Allocation"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:B})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("p",{children:["Are you sure you want to delete ",i," ","Class Period"]}),console.log("currestclassPeriodDelete",i)]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(e,null,(function*(){if(!O){D(!0);try{const e=localStorage.getItem("authToken");if(!e||!l||!c)throw new Error("Class And Section Id is missing");const a=yield Uf.delete(`${t}/api/delete_classwiseperiod/${l}/${c}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});$(),200===a.status?(B(),hp.success(`${i} Class Period deleted successfully!`)):hp.error("Class not found")}catch(e){console.error("Error deleting Class Period:",e),hp.error("Failed to delete Class Period"),hp.error(e.response.data.error)}finally{D(!1),s(!1)}}})),disabled:O,children:O?"Deleting...":"Delete"})})]})})})})]})};function pPe({periods:e,subjects:t,loading:a,selectedSubjects:r,handleTableData:n,activeTab:s,tabs:l,rowCounts:o,allocatedPeriods:i,usedPeriods:d,setUsedPeriods:c,classSectionNames:h,onOverrideChange:f}){const p=Q.useRef({}),[x,g]=Q.useState({}),[b,v]=Q.useState({}),[y,w]=Q.useState({show:!1,x:0,y:0,items:[]}),j=l.find((e=>e.id===s)),N=null==j?void 0:j.class_id,_=null==j?void 0:j.section_id,S=`${N}-${_}`;Q.useEffect((()=>{if(!e||!Array.isArray(e))return;const t={};["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((a=>{var n,s;t[a]||(t[a]={});const l="Saturday"===a?o.sat:o.mon_fri;for(let o=1;o<=l;o++){const l=null==(s=null==(n=null==r?void 0:r[S])?void 0:n[a])?void 0:s[o],i=e.find((e=>e.day===a&&e.period_no===o));t[a][o]=null!=l?l:{id:(null==i?void 0:i.subject_id)?String(i.subject_id):"",name:(null==i?void 0:i.subject)||""}}})),g(t),v((e=>m(u({},e),{[S]:t})))}),[e,r]);const k=(e,t,a)=>{var r;const s=null==(r=null==x?void 0:x[e])?void 0:r[t],l=!a.id&&(null==s?void 0:s.id)?s.id:void 0,o=m(u({},x),{[e]:m(u({},x[e]),{[t]:a.id?{id:a.id,name:a.name}:u({id:"",name:""},l?{subjectRemove:l}:{})})});c((e=>{const t=!(null==s?void 0:s.id),r=!a.id;return t&&!r?e+1:!t&&r?Math.max(e-1,0):e})),g(o),v((t=>m(u({},t),{[S]:o[e]}))),n(N,_,e,t,u(u({},a),l?{subjectRemove:l}:{}))},C=(t,a,r)=>{var n;const s=null==(n=null==x?void 0:x[t])?void 0:n[a],l=e.find((e=>e.day===t&&e.period_no===a)),o=(null==l?void 0:l.subject)&&l.subject.trim()||(null==l?void 0:l.teachers)&&l.teachers.trim(),i=Object.entries(b).some((([e,r])=>{var n,s;return e!==S&&(null==(s=null==(n=null==r?void 0:r[t])?void 0:n[a])?void 0:s.id)}));if(r.id&&i){const e=Object.keys(b).find((e=>{var r,n,s;return e!==S&&(null==(s=null==(n=null==(r=b[e])?void 0:r[t])?void 0:n[a])?void 0:s.id)})),r=e?h[e.split("-")[1]]:"another section";return void hp.error(oe.jsxs("div",{children:[oe.jsxs("strong",{style:{color:"#e74c3c"},children:["Subject already selected in another section (",r,")"]}),oe.jsx("br",{}),oe.jsxs("span",{style:{color:"#2980b9"},children:["for ",t,", Period ",a,"."]})]}),{position:"top-right",autoClose:5e3})}const d=(null==s?void 0:s.id)||"";if(o&&r.id&&r.id!==d){const e=`${t}-${a}-${r.id}`;if(p.current[e]=!1,!p.current[e])return p.current[e]=!0,void hp.info(oe.jsxs("div",{style:{maxWidth:"600px",width:"100%",padding:"20px",fontFamily:"'Segoe UI', sans-serif",borderRadius:"8px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.12)",backgroundColor:"#fff",textAlign:"center",margin:"0 auto",position:"relative"},children:[oe.jsx("button",{onClick:()=>hp.dismiss(),style:{position:"absolute",top:"1px",right:"5px",background:"transparent",border:"none",fontSize:"18px",color:"red",cursor:"pointer"},"aria-label":"Close",children:""}),oe.jsxs("p",{style:{fontSize:"0.95em",marginBottom:"16px",color:"#1f2937"},children:[oe.jsx("strong",{children:"Subject is already allotted for this period."}),oe.jsx("br",{}),"What would you like to do?"]}),oe.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",flexWrap:"wrap"},className:"flex justify-center gap-2",children:[oe.jsx("button",{onClick:()=>{hp.dismiss(),null==f||f(t,a,"N"),k(t,a,r)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded",children:" Add subject"}),oe.jsx("button",{onClick:()=>{hp.dismiss(),null==f||f(t,a,"Y"),k(t,a,r)},className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded",children:" Overwrite subject(s)"})]})]}),{position:"top-center",autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,pauseOnHover:!0,style:{background:"transparent",boxShadow:"none"}})}else null==f||f(t,a,r.id?"Y":"N"),k(t,a,r)},E=["Monday","Tuesday","Wednesday","Thursday","Friday",...o.sat>0?["Saturday"]:[]];return oe.jsxs("div",{className:"overflow-x-auto",children:[a?oe.jsx("div",{className:"mt-24 flex justify-center items-center p-5",children:oe.jsx(Ag,{})}):oe.jsxs("table",{className:"border-collapse w-full",children:[oe.jsx("thead",{children:oe.jsxs("tr",{children:[oe.jsx("th",{className:"border p-2 bg-gray-200 w-16 text-center",children:"Period"}),E.map((e=>oe.jsx("th",{className:"border p-2 bg-gray-200 text-center",children:e},e)))]})}),oe.jsx("tbody",{children:(a=>{const r=[],n=Math.max(o.mon_fri,o.sat);for(let s=0;s<n;s++)r.push(oe.jsxs("tr",{children:[oe.jsx("td",{className:"border p-2 bg-gray-100 text-center w-16",children:s+1}),a.map((a=>{var r;if("Saturday"===a&&s>=o.sat)return oe.jsx("td",{},a);if("Saturday"!==a&&s>=o.mon_fri)return oe.jsx("td",{},a);const n=(null==(r=x[a])?void 0:r[s+1])||{id:"",name:""},l=e.find((e=>e.day===a&&e.period_no===s+1))||{},c=l.subject||"",h=l.teachers||"",f=Object.entries(b).some((([e,t])=>{var r,n;return e!==S&&(null==(n=null==(r=null==t?void 0:t[a])?void 0:r[s+1])?void 0:n.id)}));return oe.jsxs("td",{className:"border p-2 text-center relative",children:[c&&oe.jsx("div",{className:"text-pink-600 cursor-pointer text-xs",onMouseEnter:e=>{const t=c.split(",").map((e=>e.trim())),a=h.split(",").map((e=>e.trim())),r=t.map(((e,t)=>({subject:e,teacher:a[t]||""})));w({show:!0,x:e.clientX,y:e.clientY,items:r})},onMouseLeave:()=>w((e=>m(u({},e),{show:!1}))),children:c.split(",").map(((e,t)=>oe.jsx("div",{children:e.trim()},t)))}),oe.jsxs("select",{value:void 0!==n.id?String(n.id):"",onChange:e=>{var r;const n=e.target.value,l={id:n,name:(null==(r=t.find((e=>Number(e.sm_id)===Number(n))))?void 0:r.subjectname)||""};C(a,s+1,l)},className:"border p-1 w-full mt-2 "+(f?"bg-pink-100":""),disabled:d>=i&&!(null==n?void 0:n.id),children:[oe.jsx("option",{value:"",children:"Select"}),t.map((e=>oe.jsx("option",{value:e.sm_id,children:e.subjectname},e.subject_id)))]})]},a)}))]},s));return r})(E)})]}),oe.jsx(wp,{}),y.show&&oe.jsx("div",{className:"fixed z-50 bg-white text-gray-700 shadow-lg rounded-lg p-2 border border-gray-300 text-sm",style:{top:y.y+10,left:y.x+10,pointerEvents:"none"},children:y.items.map(((e,t)=>oe.jsxs("div",{className:"font-medium",children:[oe.jsx("span",{className:"text-pink-600",children:e.subject})," ",oe.jsxs("span",{className:"text-black",children:["(",e.teacher,")"]})]},t)))})]})}const xPe=()=>{const t="https://sms.evolvu.in/public";Q.useState(null);const[a,r]=Q.useState([]),[n,s]=Q.useState(null),[l,o]=Q.useState(!1),i=sm(),[d,c]=Q.useState(!1),[h,f]=Q.useState(""),[x,g]=Q.useState(!1),[b,v]=Q.useState([]),[y,w]=Q.useState(0),[j,N]=Q.useState(""),[_,S]=Q.useState({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),[k,C]=Q.useState([]),[E,T]=Q.useState(!1),[O,D]=Q.useState(""),[A,P]=Q.useState([]),[M,L]=Q.useState([]),[I,F]=Q.useState({}),[R,$]=Q.useState(null),[B,z]=Q.useState(null),[U,H]=Q.useState(""),[W,Y]=Q.useState(0),[q,V]=Q.useState(""),G=rm(),[K,X]=Q.useState(!1),[J,Z]=Q.useState({});Q.useState({});const{staff:ee}=G.state||{};console.log("TeacherData is: ",ee),Q.useEffect((()=>{ae(),te()}),[]);const te=()=>p(e,null,(function*(){var e;try{c(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_sectionwithclassname`,{headers:{Authorization:`Bearer ${a}`}});console.log("ClassSection",r.data),C((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching class and section name"),console.error("Error fetching class and section name:",a)}finally{c(!1)}}));Q.useEffect((()=>{p(e,null,(function*(){for(;!(null==ee?void 0:ee.teacher_id);)console.log("Waiting for staff..."),yield new Promise((e=>setTimeout(e,300)));re()}))}),[]);const ae=()=>p(e,null,(function*(){var e;try{c(!0);const a=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_teacherslistbyperiod`,{headers:{Authorization:`Bearer ${a}`}});console.log("Teachers",n.data),r((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching Teachers"),console.error("Error fetching Teachers:",a)}finally{c(!1)}})),re=()=>p(e,null,(function*(){var e,a,r,n,s,l,i,d,c,u,m,h,p;o(!1),X(!1),N(""),V(""),S({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),L([]),F({}),$(null),z(null),H(""),Y(0);try{const x=O.replace(/\s/g,"").replace(/%20/g,"");if(console.log("Formatted Week is: ---\x3e",x),o(!0),v([]),f(""),!(null==ee?void 0:ee.teacher_id))return console.log("Teacher ID is missing. Please select a teacher.",ee.teacher_id),void hp.error("Teacher ID is missing. Please select a teacher.");console.log("Outside Teacher ID is missing. Please select a teacher.",ee.teacher_id);const g=localStorage.getItem("authToken"),b=yield Uf.get(`${t}/api/get_teacherperioddata?teacher_id=${ee.teacher_id}`,{headers:{Authorization:`Bearer ${g}`}});(null==(e=null==b?void 0:b.data)?void 0:e.success)?($(null==(r=null==(a=null==b?void 0:b.data)?void 0:a.data[0])?void 0:r.periods_allocated),z(null==(s=null==(n=null==b?void 0:b.data)?void 0:n.data[0])?void 0:s.periods_used),H(null==(i=null==(l=null==b?void 0:b.data)?void 0:l.data[0])?void 0:i.periods_used)):hp.error("Failed to fetch teacher period data.");const y={teacher_id:null==ee?void 0:ee.teacher_id},j=yield Uf.get(`${t}/api/get_teacherclasstimetable`,{headers:{Authorization:`Bearer ${g}`},params:y});(null==(d=null==j?void 0:j.data)?void 0:d.data)&&0!==(null==(u=null==(c=null==j?void 0:j.data)?void 0:c.data)?void 0:u.length)?(f(""),X(!1),v(null==(m=null==j?void 0:j.data)?void 0:m.data),w(Math.ceil((null==(p=null==(h=null==j?void 0:j.data)?void 0:h.data)?void 0:p.length)/10))):(f("Time Table Planner for selected teacher not found."),X(!0),v([])),console.log("response iddddd---\x3e",j.data.data);const N=j.data.data.map((e=>({id:`${e.classname}-${e.sectionname}`,classname:e.classname,sectionname:e.sectionname,teachername:e.teachername,class_id:e.class_id,section_id:e.section_id}))).sort(((e,t)=>parseInt(e.classname,10)-parseInt(t.classname,10)));L(N),N.length>0&&V(N[0].id)}catch(x){console.error("Error fetching Time Table Planner for selected teacher :",x)}finally{g(!1),o(!1)}}));console.log("staff.tescher_id---\x3e",null==ee?void 0:ee.teacher_id);const ne=e=>{const t=[],a=[],r={mon_fri:e.mon_fri,sat:e.sat};return Object.keys(e).forEach((r=>{"mon_fri"!==r&&"sat"!==r&&e[r].forEach((e=>{!(e.teacher&&Array.isArray(e.teacher)&&e.teacher.length>0)||e.teacher.map((e=>e.t_name)).join(", ");const n=Array.isArray(e.subject)?e.subject.map((e=>e.subject_name||"")).filter(Boolean).join(", "):" ",s=Array.isArray(e.teacher)?e.teacher.map((e=>e.t_name||"")).filter(Boolean).join(", "):" ";t.push({period_no:e.period_no,time_in:e.time_in,time_out:e.time_out,subject_id:e.subject_id,subject:n,teachers:s,day:r}),a.push({day:r,period_no:e.period_no,subject_id:n,teachers:s})}))})),{periods:t,subjects:a,rowCounts:r}};return Q.useEffect((()=>{let a=M.find((e=>e.id===q));var r,n;console.log("activeTabData----\x3e",a),a&&(T(!0),a.selectedStudentId,r=a.class_id,n=a.section_id,p(e,null,(function*(){var e,a;T(!0);try{const s=localStorage.getItem("authToken");if(!s)throw new Error("No authentication token found");const l=yield Uf.get(`${t}/api/get_edittimetablebyclasssection/${r}/${n}/${null==ee?void 0:ee.teacher_id}`,{headers:{Authorization:`Bearer ${s}`}});if(!1===(null==(e=l.data)?void 0:e.success)&&(null==(a=l.data)?void 0:a.message))return hp.error(l.data.message),void S({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}});if(l.data&&l.data.data){const e=ne(l.data.data);S(e)}else S({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}});const o=yield Uf.get(`${t}/api/get_teachersubjectbyclass?teacher_id=${null==ee?void 0:ee.teacher_id}&class_id=${r}&section_id=${n}`,{headers:{Authorization:`Bearer ${s}`}});o.data&&o.data.data?P(o.data.data):P([])}catch(s){console.error("Error fetching timetable data:",s),S({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),P([]),hp.error("Error fetching timetable data. Please try again.")}finally{T(!1)}})))}),[q,n,M]),oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full md:w-[99%] mx-auto p-4 ",children:oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsxs("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:["Edit Time Table Planner for"," ",oe.jsx("span",{className:"text-lg text-pink-600 mt-1 font-semibold",children:oe.jsx("span",{className:"uppercase",children:null==ee?void 0:ee.teachername})})]}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{i("/timetablePlanner")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx(oe.Fragment,{children:l?oe.jsxs(oe.Fragment,{children:[" ",oe.jsxs("div",{className:"flex flex-col justify-center items-center p-10 space-y-5",children:[oe.jsx("div",{className:"w-14 h-14 border-[5px] border-indigo-500 border-t-transparent rounded-full animate-spin shadow-lg"}),oe.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 bg-clip-text text-transparent animate-pulse",children:"Please wait while Loading timetable..."})]})]}):b.length>0?oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg mt-3",children:[oe.jsxs("div",{className:"card-body bg-gray-100 border-none w-full border-3 border-black flex",children:[oe.jsxs("div",{className:"w-[15%] border-r h-[440px] overflow-y-auto p-3 bg-white rounded-xl shadow-lg",style:{scrollbarWidth:"thin",scrollbarColor:"#6366F1 #E5E7EB"},children:[oe.jsx("h3",{className:"text-lg font-semibold text-blue-600 mb-3 text-center",children:"Select Class"}),M.map((e=>oe.jsx("button",{className:"block w-full text-center p-3 my-2 text-lg font-medium rounded-lg transition-all duration-300\n        "+(q===e.id?"bg-indigo-600 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-indigo-200 hover:shadow-md"),onClick:()=>{V(e.id)},children:e.id},e.id)))]}),oe.jsxs("div",{className:"w-[85%] overflow-hidden bg-white rounded-lg shadow-md",children:[oe.jsxs("div",{className:"w-[97%] mx-auto overflow-hidden  flex flex-row justify-between items-center  border-b-2 border-pink-600",children:[null!==R&&oe.jsxs("span",{className:"text-pink-500 text-xl font-medium",children:["Allocated Periods: ",R]}),oe.jsxs("h2",{className:"text-xl   text-blue-500 font-bold mb-2 text-center",children:["Class ",q]}),null!==B&&oe.jsxs("span",{className:"text-pink-500 text-xl font-medium",children:["Occupied Periods: ",B]})]}),oe.jsx("div",{className:"overflow-y-auto h-[400px] border rounded-md p-2",style:{scrollbarWidth:"thin",scrollbarColor:"#4F46E5 #E5E7EB"},children:oe.jsx(pPe,{activeTab:q,tabs:M,periods:_.periods||[],subjects:A||[],loading:E,selectedSubjects:I,handleTableData:(e,t,a,r,n)=>{const s=`${e}-${t}`;F((e=>{var t;return m(u({},e),{[s]:m(u({},e[s]||{}),{[a]:m(u({},(null==(t=e[s])?void 0:t[a])||{}),{[r]:n})})})}))},rowCounts:_.rowCounts,allocatedPeriods:R,usedPeriods:B,setUsedPeriods:z,showToast:(e,t)=>console.log(`${t}: ${e}`),classSectionNames:k,overrideSelections:J,onOverrideChange:(e,t,a)=>{Z((r=>m(u({},r),{[`${e}-${t}`]:a})))}})})]})]}),oe.jsx("div",{className:"flex justify-end px-3 py-1 relative -top-2",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 ",onClick:()=>p(e,null,(function*(){var e;if(B!=U)try{g(!0);const a=Object.keys(I).map((e=>{const[t,a]=e.split("-"),r=I[e];return{class_id:t,section_id:a,subjects:Object.keys(r).map((e=>{const t=r[e];return{day:e,periods:Object.keys(t).map((a=>{const r=t[a]||{};return m(u({period_no:a,subject:{id:r.id||"",name:r.name||""}},r.subjectRemove?{subjectRemove:r.subjectRemove}:{}),{override:J[`${e}-${a}`]||"N"})}))}}))}})),r={teacher_id:null==ee?void 0:ee.teacher_id,period_used:B,timetable_data:a},n=localStorage.getItem("authToken"),s=yield Uf.post(`${t}/api/update_timetableforclass`,r,{headers:{Authorization:`Bearer ${n}`}});(null==(e=null==s?void 0:s.data)?void 0:e.success)?(hp.success("Timetable updated successfully!"),setTimeout((()=>{V(""),S({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),L([]),F({}),$(null),z(null),H(""),Y(0),v([]),i("/timetablePlanner")}),1e3)):hp.error("Failed to submit timetable.")}catch(a){hp.error("An error occurred while submitting the timetable."),console.error(a)}finally{g(!1)}else hp.error("Please select at least one subject.")})),disabled:x,children:x?"Submiting...":"Submit"})})]})}):K?oe.jsx("div",{className:" w-[100%]  text-center flex justify-center items-center mt-4",children:oe.jsx("div",{className:"p-5 text-center font-semibold text-xl text-red-600 ",children:"Oops! Time Table Planner for selected teacher not found.."})}):null})]})})})};function gPe({periods:e,subjects:t,loading:a,selectedSubjects:r,handleTableData:n,activeTab:s,tabs:l,rowCounts:o,allocatedPeriods:i,usedPeriods:d,setUsedPeriods:c,classSectionNames:h,onOverrideChange:f}){const p=Q.useRef({}),[x,g]=Q.useState({}),[b,v]=Q.useState({}),[y,w]=Q.useState({show:!1,x:0,y:0,items:[]}),j=l.find((e=>e.id===s)),N=null==j?void 0:j.class_id,_=null==j?void 0:j.section_id,S=`${N}-${_}`;Q.useEffect((()=>{if(!e||!Array.isArray(e))return;const t={};["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((a=>{var n,s;t[a]||(t[a]={});const l="Saturday"===a?o.sat:o.mon_fri;for(let o=1;o<=l;o++){const l=null==(s=null==(n=null==r?void 0:r[S])?void 0:n[a])?void 0:s[o],i=e.find((e=>e.day===a&&e.period_no===o));t[a][o]=null!=l?l:{id:(null==i?void 0:i.subject_id)?String(i.subject_id):"",name:(null==i?void 0:i.subject)||""}}})),g(t),v((e=>m(u({},e),{[S]:t})))}),[e,r]);const k=(e,t,a)=>{var r;const s=null==(r=null==x?void 0:x[e])?void 0:r[t],l=!a.id&&(null==s?void 0:s.id)?s.id:void 0,o=m(u({},x),{[e]:m(u({},x[e]),{[t]:a.id?{id:a.id,name:a.name}:u({id:"",name:""},l?{subjectRemove:l}:{})})});c((e=>{const t=!(null==s?void 0:s.id),r=!a.id;return t&&!r?e+1:!t&&r?Math.max(e-1,0):e})),g(o),v((t=>m(u({},t),{[S]:o[e]}))),n(N,_,e,t,u(u({},a),l?{subjectRemove:l}:{}))},C=(t,a,r)=>{var n;const s=null==(n=null==x?void 0:x[t])?void 0:n[a],l=e.find((e=>e.day===t&&e.period_no===a)),o=(null==l?void 0:l.subject)&&l.subject.trim()||(null==l?void 0:l.teachers)&&l.teachers.trim(),i=Object.entries(b).some((([e,r])=>{var n,s;return e!==S&&(null==(s=null==(n=null==r?void 0:r[t])?void 0:n[a])?void 0:s.id)}));if(r.id&&i){const e=Object.keys(b).find((e=>{var r,n,s;return e!==S&&(null==(s=null==(n=null==(r=b[e])?void 0:r[t])?void 0:n[a])?void 0:s.id)})),r=e?h[e.split("-")[1]]:"another section";return void hp.error(oe.jsxs("div",{children:[oe.jsxs("strong",{style:{color:"#e74c3c"},children:["Subject already selected in another section (",r,")"]}),oe.jsx("br",{}),oe.jsxs("span",{style:{color:"#2980b9"},children:["for ",t,", Period ",a,"."]})]}),{position:"top-right",autoClose:5e3})}const d=(null==s?void 0:s.id)||"";if(o&&r.id&&r.id!==d){const e=`${t}-${a}-${r.id}`;if(p.current[e]=!1,!p.current[e])return p.current[e]=!0,void hp.info(oe.jsxs("div",{style:{maxWidth:"600px",width:"100%",padding:"20px",fontFamily:"'Segoe UI', sans-serif",borderRadius:"8px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.12)",backgroundColor:"#fff",textAlign:"center",margin:"0 auto",position:"relative"},children:[oe.jsx("button",{onClick:()=>hp.dismiss(),style:{position:"absolute",top:"1px",right:"5px",background:"transparent",border:"none",fontSize:"18px",color:"red",cursor:"pointer"},"aria-label":"Close",children:""}),oe.jsxs("p",{style:{fontSize:"0.95em",marginBottom:"16px",color:"#1f2937"},children:[oe.jsx("strong",{children:"Subject is already allotted for this period."}),oe.jsx("br",{}),"What would you like to do?"]}),oe.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",flexWrap:"wrap"},className:"flex justify-center gap-2",children:[oe.jsx("button",{onClick:()=>{hp.dismiss(),null==f||f(t,a,"N"),k(t,a,r)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded",children:" Add subject"}),oe.jsx("button",{onClick:()=>{hp.dismiss(),null==f||f(t,a,"Y"),k(t,a,r)},className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded",children:" Overwrite subject(s)"})]})]}),{position:"top-center",autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,pauseOnHover:!0,style:{background:"transparent",boxShadow:"none"}})}else null==f||f(t,a,r.id?"Y":"N"),k(t,a,r)},E=["Monday","Tuesday","Wednesday","Thursday","Friday",...o.sat>0?["Saturday"]:[]];return oe.jsxs("div",{className:"overflow-x-auto",children:[a?oe.jsx("div",{className:"mt-24 flex justify-center items-center p-5",children:oe.jsx(Ag,{})}):oe.jsxs("table",{className:"border-collapse w-full",children:[oe.jsx("thead",{children:oe.jsxs("tr",{children:[oe.jsx("th",{className:"border p-2 bg-gray-200 w-16 text-center",children:"Period"}),E.map((e=>oe.jsx("th",{className:"border p-2 bg-gray-200 text-center",children:e},e)))]})}),oe.jsx("tbody",{children:(a=>{const r=[],n=Math.max(o.mon_fri,o.sat);for(let s=0;s<n;s++)r.push(oe.jsxs("tr",{children:[oe.jsx("td",{className:"border p-2 bg-gray-100 text-center w-16",children:s+1}),a.map((a=>{var r;if("Saturday"===a&&s>=o.sat)return oe.jsx("td",{},a);if("Saturday"!==a&&s>=o.mon_fri)return oe.jsx("td",{},a);const n=(null==(r=x[a])?void 0:r[s+1])||{id:"",name:""},l=e.find((e=>e.day===a&&e.period_no===s+1))||{},c=l.subject||"",h=l.teachers||"",f=Object.entries(b).some((([e,t])=>{var r,n;return e!==S&&(null==(n=null==(r=null==t?void 0:t[a])?void 0:r[s+1])?void 0:n.id)}));return oe.jsxs("td",{className:"border p-2 text-center relative",children:[c&&oe.jsx("div",{className:"text-pink-600 cursor-pointer text-xs",onMouseEnter:e=>{const t=c.split(",").map((e=>e.trim())),a=h.split(",").map((e=>e.trim())),r=t.map(((e,t)=>({subject:e,teacher:a[t]||""})));w({show:!0,x:e.clientX,y:e.clientY,items:r})},onMouseLeave:()=>w((e=>m(u({},e),{show:!1}))),children:c.split(",").map(((e,t)=>oe.jsx("div",{children:e.trim()},t)))}),oe.jsxs("select",{value:void 0!==n.id?String(n.id):"",onChange:e=>{var r;const n=e.target.value,l={id:n,name:(null==(r=t.find((e=>Number(e.sm_id)===Number(n))))?void 0:r.subjectname)||""};C(a,s+1,l)},className:"border p-1 w-full mt-2 "+(f?"bg-pink-100":""),disabled:d>=i&&!(null==n?void 0:n.id),children:[oe.jsx("option",{value:"",children:"Select"}),t.map((e=>oe.jsx("option",{value:e.sm_id,children:e.subjectname},e.subject_id)))]})]},a)}))]},s));return r})(E)})]}),oe.jsx(wp,{}),y.show&&oe.jsx("div",{className:"fixed z-50 bg-white text-gray-700 shadow-lg rounded-lg p-2 border border-gray-300 text-sm",style:{top:y.y+10,left:y.x+10,pointerEvents:"none"},children:y.items.map(((e,t)=>oe.jsxs("div",{className:"font-medium",children:[oe.jsx("span",{className:"text-pink-600",children:e.subject})," ",oe.jsxs("span",{className:"text-black",children:["(",e.teacher,")"]})]},t)))})]})}const bPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState([]),[l,o]=Q.useState(null),[i,d]=Q.useState(!1),c=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState(""),[k,C]=Q.useState({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),[E,T]=Q.useState([]),[O,D]=Q.useState(!1),[A,P]=Q.useState(""),[M,L]=Q.useState([]),[I,F]=Q.useState([]),[R,$]=Q.useState({}),[B,z]=Q.useState(null),[U,H]=Q.useState(null),[W,Y]=Q.useState(""),[q,V]=Q.useState(0),[G,K]=Q.useState(!1),[X,J]=Q.useState(""),[Z,ee]=Q.useState({});Q.useEffect((()=>{ae(),te()}),[]);const te=()=>p(e,null,(function*(){var e;try{f(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_sectionwithclassname`,{headers:{Authorization:`Bearer ${a}`}});console.log("ClassSection",r.data),T((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching class and section name"),console.error("Error fetching class and section name:",a)}finally{f(!1)}})),ae=()=>p(e,null,(function*(){var e;try{f(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_teacherslistbyperiod`,{headers:{Authorization:`Bearer ${a}`}});console.log("Teachers",r.data),s((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching Teachers"),console.error("Error fetching Teachers:",a)}finally{f(!1)}})),re=Q.useMemo((()=>n.map((e=>({value:null==e?void 0:e.teacher_id,label:`${e.teachername}`})))),[n]);console.log("studentNameWithClassId[]---\x3e",n),console.log("studentOptions[]---\x3e",re),console.log("row",y);const ne=e=>{const t=[],a=[],r={mon_fri:e.mon_fri,sat:e.sat};return Object.keys(e).forEach((r=>{"mon_fri"!==r&&"sat"!==r&&e[r].forEach((e=>{!(e.teacher&&Array.isArray(e.teacher)&&e.teacher.length>0)||e.teacher.map((e=>e.t_name)).join(", ");const n=Array.isArray(e.subject)?e.subject.map((e=>e.subject_name||"")).filter(Boolean).join(", "):" ",s=Array.isArray(e.teacher)?e.teacher.map((e=>e.t_name||"")).filter(Boolean).join(", "):" ";t.push({period_no:e.period_no,time_in:e.time_in,time_out:e.time_out,subject_id:e.subject_id,subject:n,teachers:s,day:r}),a.push({day:r,period_no:e.period_no,subject_id:n,teachers:s})}))})),{periods:t,subjects:a,rowCounts:r}};return Q.useEffect((()=>{let a=I.find((e=>e.id===X));var r,n,s;a&&(D(!0),r=l,n=a.class_id,s=a.section_id,p(e,null,(function*(){var e,a;D(!0);try{const o=localStorage.getItem("authToken");if(!o)throw new Error("No authentication token found");const i=yield Uf.get(`${t}/api/get_timetablebyclasssection/${n}/${s}/${l}`,{headers:{Authorization:`Bearer ${o}`}});if(!1===(null==(e=i.data)?void 0:e.success)&&(null==(a=i.data)?void 0:a.message))return hp.error(i.data.message),void C({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}});if(i.data&&i.data.data){const e=ne(i.data.data);C(e)}else C({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}});const d=yield Uf.get(`${t}/api/get_teachersubjectbyclass?teacher_id=${r}&class_id=${n}&section_id=${s}`,{headers:{Authorization:`Bearer ${o}`}});d.data&&d.data.data?L(d.data.data):L([])}catch(o){console.error("Error fetching timetable data:",o),C({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),L([]),hp.error("Error fetching timetable data. Please try again.")}finally{D(!1)}})))}),[X,l,I]),oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full md:w-[99%] mx-auto p-4 ",children:oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Time Table Planner"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{c("/timetablePlanner")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[75%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsx("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:oe.jsxs("div",{className:"w-full md:w-[90%] gap-x-0 md:gap-x-12 flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full  md:w-[50%] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"w-full md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Teacher ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),o(null==e?void 0:e.value)},options:re,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".9em"})}}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,o,i,c,u,m,h,f,p;if(d(!1),K(!1),!l)return g("Please select teacher name."),void d(!1);S(""),J(""),C({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),F([]),$({}),z(null),H(null),Y(""),V(0);try{const x=A.replace(/\s/g,"").replace(/%20/g,"");console.log("Formatted Week is: ---\x3e",x),d(!0),w([]);const g=localStorage.getItem("authToken"),b=yield Uf.get(`${t}/api/get_teacherperioddata?teacher_id=${l}`,{headers:{Authorization:`Bearer ${g}`}});(null==(e=null==b?void 0:b.data)?void 0:e.success)?(z(null==(r=null==(a=null==b?void 0:b.data)?void 0:a.data[0])?void 0:r.periods_allocated),H(null==(s=null==(n=null==b?void 0:b.data)?void 0:n.data[0])?void 0:s.periods_used),Y(null==(i=null==(o=null==b?void 0:b.data)?void 0:o.data[0])?void 0:i.periods_used)):hp.error("Failed to fetch teacher period data.");const v={teacher_id:l},y=yield Uf.get(`${t}/api/get_teacherclasstimetable`,{headers:{Authorization:`Bearer ${g}`},params:v});(null==(c=null==y?void 0:y.data)?void 0:c.data)&&0!==(null==(m=null==(u=null==y?void 0:y.data)?void 0:u.data)?void 0:m.length)?(w(null==(h=null==y?void 0:y.data)?void 0:h.data),K(!1),N(Math.ceil((null==(p=null==(f=null==y?void 0:y.data)?void 0:f.data)?void 0:p.length)/10))):(K(!0),w([]));const j=y.data.data.map((e=>({id:`${e.classname}-${e.sectionname}`,classname:e.classname,sectionname:e.sectionname,teachername:e.teachername,class_id:e.class_id,section_id:e.section_id}))).sort(((e,t)=>parseInt(e.classname,10)-parseInt(t.classname,10)));F(j),j.length>0&&J(j[0].id)}catch(x){console.error("Error fetching Time Table Planner for selected teacher :",x)}finally{v(!1),d(!1)}})),style:{backgroundColor:"#2196F3"},className:"btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(i?"opacity-50 cursor-not-allowed":""),disabled:i,children:i?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Adding..."]}):"Add"})})]})})}),y.length>0?oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg mt-3",children:[oe.jsxs("div",{className:"card-body bg-gray-100 border-none w-full border-3 border-black flex",children:[oe.jsxs("div",{className:"w-[15%] border-r h-[440px] overflow-y-auto p-3 bg-white rounded-xl shadow-lg",style:{scrollbarWidth:"thin",scrollbarColor:"#6366F1 #E5E7EB"},children:[oe.jsx("h3",{className:"text-lg font-semibold text-blue-600 mb-3 text-center",children:"Select Class"}),I.map((e=>oe.jsx("button",{className:"block w-full text-center p-3 my-2 text-lg font-medium rounded-lg transition-all duration-300\n        "+(X===e.id?"bg-indigo-600 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-indigo-200 hover:shadow-md"),onClick:()=>{J(e.id)},children:e.id},e.id)))]}),oe.jsxs("div",{className:"w-[85%] overflow-hidden bg-white rounded-lg shadow-md",children:[oe.jsxs("div",{className:"w-[97%] mx-auto overflow-hidden  flex flex-row justify-between items-center  border-b-2 border-pink-600",children:[null!==B&&oe.jsxs("span",{className:"text-pink-500 text-xl font-medium",children:["Allocated Periods: ",B]}),oe.jsxs("h2",{className:"text-xl   text-blue-500 font-bold mb-2 text-center",children:["Class ",X]}),null!==U&&oe.jsxs("span",{className:"text-pink-500 text-xl font-medium",children:["Occupied Periods: ",U]})]}),oe.jsx("div",{className:"overflow-y-auto h-[400px] border rounded-md p-2",style:{scrollbarWidth:"thin",scrollbarColor:"#4F46E5 #E5E7EB"},children:oe.jsx(gPe,{activeTab:X,tabs:I,periods:k.periods||[],subjects:M||[],loading:O,selectedSubjects:R,handleTableData:(e,t,a,r,n)=>{const s=`${e}-${t}`;$((e=>{var t;return m(u({},e),{[s]:m(u({},e[s]||{}),{[a]:m(u({},(null==(t=e[s])?void 0:t[a])||{}),{[r]:n})})})}))},rowCounts:k.rowCounts,allocatedPeriods:B,usedPeriods:U,setUsedPeriods:H,showToast:(e,t)=>console.log(`${t}: ${e}`),classSectionNames:E,overrideSelections:Z,onOverrideChange:(e,t,a)=>{ee((r=>m(u({},r),{[`${e}-${t}`]:a})))}})})]})]}),oe.jsx("div",{className:"flex justify-end px-3 py-1 relative -top-2",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 ",onClick:()=>p(e,null,(function*(){var e;if(U!=W)try{v(!0);const a=Object.keys(R).map((e=>{const[t,a]=e.split("-"),r=R[e];return{class_id:t,section_id:a,subjects:Object.keys(r).map((e=>{const t=r[e];return{day:e,periods:Object.keys(t).map((a=>{const r=t[a]||{};return m(u({period_no:a,subject:{id:r.id||"",name:r.name||""}},r.subjectRemove?{subjectRemove:r.subjectRemove}:{}),{override:Z[`${e}-${a}`]||"N"})}))}}))}})),r={teacher_id:l,period_used:U,timetable_data:a},n=localStorage.getItem("authToken"),s=yield Uf.post(`${t}/api/update_timetableforclass`,r,{headers:{Authorization:`Bearer ${n}`}});(null==(e=null==s?void 0:s.data)?void 0:e.success)?(hp.success("Timetable created successfully!"),setTimeout((()=>{J(""),C({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),F([]),$({}),z(null),H(null),Y(""),V(0),w([])}),1e3)):hp.error("Failed to submit timetable.")}catch(a){hp.error("An error occurred while submitting the timetable."),console.error(a)}finally{v(!1)}else hp.error("Please select at least one subject.")})),disabled:b,children:b?"Submiting...":"Submit"})})]})}):G?oe.jsx("div",{className:" w-[100%]  text-center flex justify-center items-center mt-4",children:oe.jsx("div",{className:"p-5 text-center font-semibold text-xl text-red-600 ",children:"Oops! Time Table Planner for selected teacher not found.."})}):null]})]})})})};function vPe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!0),[s,l]=Q.useState(!1),[o,i]=Q.useState(null),[d,c]=Q.useState(!1),[u,m]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(null),y=Q.useRef(0),w=Q.useRef(""),[j,N]=Q.useState(""),[_,S]=Q.useState(""),[k,C]=Q.useState(""),[E,T]=Q.useState(0),[O,D]=Q.useState(0),A=sm(),P=()=>p(this,null,(function*(){var t,r;try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No authentication token found");const s=yield Uf.get(`${e}/api/get_teacherlistbyperiodallocation`,{headers:{Authorization:`Bearer ${n}`},withCredentials:!0});a(null==(t=null==s?void 0:s.data)?void 0:t.data),D(Math.ceil((null==(r=s.data)?void 0:r.data.length)/10))}catch(s){i(s.message)}finally{n(!1)}}));Q.useEffect((()=>{P()}),[]),console.log("the response of the stafflist",t);const M=()=>{c(!1),m(!1),f(!1),N(""),S(""),g(null)},L=e=>p(this,null,(function*(){console.log("handleview is running on"),A(`/viewTimeTable/view/${e.teacher_id}`,{state:{staff:e}})}));Q.useEffect((()=>{const e=k.trim().toLowerCase();""!==e&&""===w.current&&(y.current=E,T(0)),""===e&&""!==w.current&&T(y.current),w.current=e}),[k]);const I=t.filter((e=>{var t,a;const r=k.toLowerCase().trim(),n=e.teachername.toLowerCase().includes(r),s=(null==(t=e.periods_allocated)?void 0:t.toString())===k,l=(null==(a=e.periods_used)?void 0:a.toString())===k;return n||s||l})).slice(10*E,10*(E+1));return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"w-full md:w-[77%] mx-auto  md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsxs("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:["Time Table Planner List"," "]}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>C(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>A("/createTimetablePlanner"),children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body  w-full box-border",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll  lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Teacher Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Allocated Periods"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Occupied Periods"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"View"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):I.length?I.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[console.log("this is inside the staflist component in the table",e),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:10*E+t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[null==e?void 0:e.teachername," "]})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.periods_allocated})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.periods_used})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("this is the )))))))))",e),A(`/timetablePlanner/edit/${e.teacher_id}`,{state:{staff:e}})})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>{return t=e,console.log("insise detelt"),console.log("this is staffUersid",t.teacher_id),g(t.teacher_id),v(t.teachername),void f(!0);var t},children:oe.jsx(zM,{icon:VM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>L(e),children:oe.jsx(kg,{className:"font-bold text-xl"})})})]},e.teacher_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:O,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{T(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),h&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title  ",children:"Delete Time Table Planner"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:M})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("p",{children:["Are you sure you want to delete: ",b,"?"]}),console.log("currestStaffDelete",x)]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var t;if(!s){l(!0);try{const a=localStorage.getItem("authToken");if(!a||!x)throw new Error("Caretacker ID is missing");const r=yield Uf.delete(`${e}/api/delete_teacherperiodintimetable/${x}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});200===r.status&&(null==(t=r.data)?void 0:t.success)?(P(),M(),hp.success(r.data.message||"Time Table Planner deleted successfully!")):hp.error(r.data.message||"Failed to delete Time Table Planner")}catch(a){console.error("Error deleting Time Table Planner:",a),hp.error("Failed to delete Time Table Planner")}finally{l(!1),f(!1)}}})),disabled:s,children:s?"Deleting...":"Delete"})})]})})})})]})}const yPe=()=>{var t,a,r,n,s;const l="https://sms.evolvu.in/public",[o,i]=Q.useState(null),[d,c]=Q.useState(0),[h,f]=Q.useState([]),[x,g]=Q.useState(null),[b,v]=Q.useState(!1),[y,w]=Q.useState(""),[j,N]=Q.useState(null),[_,S]=Q.useState(null),k=sm(),[C,E]=Q.useState(!1),[T,O]=Q.useState(""),[D,A]=Q.useState(!1),[P,M]=Q.useState([]),[L,I]=Q.useState({}),[F,R]=Q.useState(0),[$,B]=Q.useState("");Q.useEffect((()=>{U(),z()}),[]);const z=()=>p(e,null,(function*(){var e,t;try{E(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${l}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}}),n=null==(t=null==(e=null==r?void 0:r.data)?void 0:e.custom_claims)?void 0:t.academic_year;console.log("Academic Year",n),I((null==r?void 0:r.data)||[])}catch(a){console.error("Error fetching session Data:",a)}finally{E(!1)}})),U=()=>p(e,null,(function*(){try{E(!0);const e=localStorage.getItem("authToken"),t=yield Uf.get(`${l}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",t),f((null==t?void 0:t.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{E(!1)}})),H=Q.useMemo((()=>h.map((e=>({value:null==e?void 0:e.section_id,label:`${e.get_class.name} ${e.name}`})))),[h]),W=[{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"},{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"}],Y=Q.useMemo((()=>W.map((e=>({value:e.value,label:e.label})))),[]),q=e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase();console.log("row",P);const V={students:Array.isArray(null==P?void 0:P.students)?P.students.filter((e=>{var t,a,r;const n=($||"").toLowerCase(),s=(null==e?void 0:e.roll_no)?String(e.roll_no):"",l=[null==e?void 0:e.first_name,null==e?void 0:e.mid_name,null==e?void 0:e.last_name].filter(Boolean).join(" ").toLowerCase(),o=`${(null==e?void 0:e.present_count)||""}/${(null==e?void 0:e.working_days)||""}`.trim(),i=(null==(r=null==(a=null==(t=null==e?void 0:e.subjects)?void 0:t.map((e=>e.subject_name)))?void 0:a.join(", "))?void 0:r.toLowerCase())||"";return s.includes(n)||l.includes(n)||o.includes(n.replace(/\s+/g,"").trim())||i.includes(n)})):[],grand_total_working_days:(null==P?void 0:P.grand_total_working_days)||0,total_attendance:(null==P?void 0:P.total_attendance)||0,total_present_count:(null==P?void 0:P.total_present_count)||0,total_working_days:(null==P?void 0:P.total_working_days)||0},G={students:V.students.slice(10*d),grand_total_working_days:V.grand_total_working_days,total_attendance:V.total_attendance,total_present_count:V.total_present_count,total_working_days:V.total_working_days};return console.log("Filtered Sections:",V),console.log("Displayed Sections:",G),oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[90%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Monthly Attendence Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{k("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[90%] flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsx("div",{className:"w-full md:w-[95%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:oe.jsxs("div",{className:"w-full  md:w-[90%] gap-x-0  md:gap-x-12 flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[full] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"w-full md:w-[30%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"classSelect",children:["Class ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"classSelect",value:o,onChange:e=>{O(""),i(e),g(null==e?void 0:e.value)},options:H,placeholder:C?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:C,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".9em"})}}),T&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:T})]})]}),oe.jsxs("div",{className:"w-full md:w-[full] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"w-full md:w-[40%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"divisionSelect",children:["Month ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[70%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"divisionSelect",value:j,onChange:e=>{N(e),S(e.value),e&&w("")},options:Y,placeholder:C?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:C,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".9em"})}}),y&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:y})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,t,a,r,n,s,o,i;if(v(!1),!x)return O("Please select Class."),void v(!1);if(!_)return w("Please select Month."),void v(!1);B("");try{v(!0),M([]);const d=localStorage.getItem("authToken"),c={};x&&(c.section_id=x),_&&(c.month=j.label);const u=yield Uf.get(`${l}/api/get_monthly_attendance_report`,{headers:{Authorization:`Bearer ${d}`},params:c});(null==(t=null==(e=null==u?void 0:u.data)?void 0:e.data)?void 0:t.students)&&0!==(null==(n=null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.students)?void 0:n.length)?(M(null==(s=null==u?void 0:u.data)?void 0:s.data),R(Math.ceil((null==(i=null==(o=null==u?void 0:u.data)?void 0:o.data)?void 0:i.length)/10))):(hp.error("Monthly Attendence Report data not found."),M([]))}catch(d){console.error("Error fetching Monthly Attendence Report:",d),hp.error("Error fetching Monthly Attendence Report. Please try again.")}finally{A(!1),v(!1)}})),style:{backgroundColor:"#2196F3"},className:"btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(b?"opacity-50 cursor-not-allowed":""),disabled:b,children:b?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})})}),(null==(t=null==P?void 0:P.students)?void 0:t.length)>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-[full]  mt-4 ",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Monthly Attendence Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>B(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{var e,t;if(!(null==G?void 0:G.students)||0===(null==G?void 0:G.students.length))return void hp.error("No data available to download the Excel sheet.");const a=["Sr No.","Roll No.","Student Name",j?`Present Days / Working Days in ${j.label}`:"Present Days / Working Days",(null==(e=null==L?void 0:L.custom_claims)?void 0:e.academic_year)?`Total Attendance in ${null==(t=null==L?void 0:L.custom_claims)?void 0:t.academic_year}`:"Total Attendanc"],r=[...null==G?void 0:G.students.map(((e,t)=>[t+1,null==e?void 0:e.roll_no,`${q((null==e?void 0:e.first_name)||" ")} ${q((null==e?void 0:e.mid_name)||" ")} ${q((null==e?void 0:e.last_name)||" ")}`,`' ${(null==e?void 0:e.present_count)||" "} / ${(null==e?void 0:e.working_days)||" "} '`,`' ${(null==e?void 0:e.total_attendance)||" "} / ${(null==e?void 0:e.total_attendance_till_a_month)||" "} '`])),["TOTAL","","",`' ${(null==G?void 0:G.total_present_count)||" "} / ${(null==G?void 0:G.total_working_days)||" "} '`,`' ${(null==G?void 0:G.total_attendance)||" "} / ${(null==G?void 0:G.grand_total_working_days)||" "} '`]],n=_ge.aoa_to_sheet([a,...r]),s=a.map((()=>({wch:20})));n["!cols"]=s;const l=_ge.book_new();_ge.book_append_sheet(l,n,"Admission Form Data"),mge(l,` Monthly_Attendance_Report_${(null==o?void 0:o.label)||" "} for ${j||" "}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{var e;const t=`Monthly Attendance Report for ${null==o?void 0:o.label} Class for ${j.label}`,a=`\n    <div id="tableMain">\n      <h5>${t}</h5>\n      <div id="tableContainer">\n        <table>\n          <thead>\n            <tr>\n              <th>Sr.No</th>\n              <th>Roll No.</th>\n              <th>Student Name</th>\n              <th>Present Days / Working Days in ${j.label}</th>\n              <th>Total Attendance in ${null==(e=null==L?void 0:L.custom_claims)?void 0:e.academic_year}</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${null==G?void 0:G.students.map(((e,t)=>`\n                <tr>\n                  <td>${t+1}</td>\n\n                  <td>${null==e?void 0:e.roll_no}</td>\n                  <td>\n                   ${(null==e?void 0:e.first_name)?q(e.first_name):" "}\n                   ${(null==e?void 0:e.mid_name)?" "+q(e.mid_name):" "}\n                   ${(null==e?void 0:e.last_name)?" "+q(e.last_name):" "}\n                  </td>\n                  <td>'${(null==e?void 0:e.present_count)||" "} / ${(null==e?void 0:e.working_days)||" "}'</td>\n                  <td>'${(null==e?void 0:e.total_attendance)||" "} / ${(null==e?void 0:e.total_attendance_till_a_month)||" "}'</td>\n                </tr>`)).join("")}\n             <tr class="border border-gray-300 font-semibold">\n                <td colspan="3" class="text-center">\n                  Total\n                </td>\n                <td colspan="1" class="text-center">\n                '${(null==G?void 0:G.total_present_count)||" "} / ${(null==G?void 0:G.total_working_days)||" "}'\n                </td>\n                <td colspan="1" class="text-center">\n                '${(null==G?void 0:G.total_attendance)||" "} / ${(null==G?void 0:G.grand_total_working_days)||" "}'\n                </td>\n              </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${t}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${a}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Roll No.","Student Name",j?`Present Days / Working Days in ${j.label}`:"Present Days / Working Days",(null==(a=null==L?void 0:L.custom_claims)?void 0:a.academic_year)?`Total Attendance in ${null==(r=null==L?void 0:L.custom_claims)?void 0:r.academic_year}`:"Total Attendanc"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:(null==(n=null==G?void 0:G.students)?void 0:n.length)?oe.jsxs(oe.Fragment,{children:[null==(s=null==G?void 0:G.students)?void 0:s.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==e?void 0:e.roll_no}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:[e.first_name,e.mid_name,e.last_name].filter(Boolean).map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:["'",(null==e?void 0:e.present_count)||" ","/",(null==e?void 0:e.working_days)||" ","'"]}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:["'",null==(null==e?void 0:e.total_attendance)?" ":null==e?void 0:e.total_attendance," / ",null==(null==e?void 0:e.total_attendance_till_a_month)?" ":null==e?void 0:e.total_attendance_till_a_month,"'"]})]},e.adm_form_pk))),oe.jsxs("tr",{className:"border border-gray-300 font-semibold",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",colSpan:3,children:"Total"}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",colSpan:1,children:["'",null==(null==G?void 0:G.total_present_count)?" ":null==G?void 0:G.total_present_count,"/",null==(null==G?void 0:G.total_working_days)?" ":null==G?void 0:G.total_working_days,"'"]}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",colSpan:1,children:["'",null==G?void 0:G.total_attendance," / ",null==G?void 0:G.grand_total_working_days,"'"]})]})]}):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},wPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(""),[n,s]=Q.useState(!1),[l,o]=Q.useState({}),[i,d]=Q.useState(""),[c,h]=Q.useState(""),f=sm(),[x,g]=Q.useState(!1),[b,v]=Q.useState({userId:!1,motherName:!1,dob:!1}),y=e=>{v((t=>m(u({},t),{[e]:!0})))},w=a.trim()&&i.trim()&&c;Q.useEffect((()=>{j()}),[]);const j=()=>p(e,null,(function*(){var e;g(!0);try{const a=yield Uf.get(`${t}/api/get_schoolname`,{withCredentials:!0}),r=null==(e=null==a?void 0:a.data)?void 0:e.data;o({name:null==r?void 0:r.page_title,academicYear:null==r?void 0:r.academic_yr})}catch(a){hp.error(a.message||"Failed to fetch school information.")}finally{g(!1)}}));return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"w-screen min-h-screen overflow-x-hidden flex flex-col justify-between items-center",style:{background:"   linear-gradient(to bottom, #E91E63, #2196F3)"},children:[oe.jsxs("div",{className:"",children:[oe.jsxs("div",{className:`${Dj} w-screen flex items-center justify-between px-2  h-12 `,style:{background:"#C03078"},children:[" ",oe.jsxs("div",{className:"w-full flex justify-between items-center px-2",children:[oe.jsx("img",{src:"/ArnoldsLogo.png",alt:"Logo",className:"h-10 bg-transparent",style:{fontSize:"2em"}}),oe.jsx("div",{className:"flex-grow ",children:oe.jsxs("h1",{className:" flex justify-center items-center   lg:text-2xl  font-semibold   sm:font-bold  text-white ",children:[l.name," (",l.academicYear,")"]})}),oe.jsx("div",{className:"text-sm text-gray-700",children:oe.jsx("h1",{className:"text-lg lg:text-sm text-white px-2 hidden lg:block mt-2",children:function(){const e=new Date,t=String(e.getDate()).padStart(2,"0"),a=e.getMonth(),r=String(e.getFullYear()).slice();return`${t} ${["January","February","March","April","May","June","July","August","September","October","November","December"][a]} ${r}`}()})})]})]})," ",oe.jsx("div",{className:"w-full  bg-gray-200  h-4"}),oe.jsx("div",{className:"w-full flex justify-center",children:oe.jsxs("div",{className:"bg-white shadow-lg border rounded-lg px-8 py-3 w-[90%] md:w-[60%] lg:w-[40%] mt-6",children:[oe.jsxs("div",{className:"flex justify-between items-center ",children:[oe.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Forgot Password"}),oe.jsx(sh,{className:"text-2xl text-red-600 hover:cursor-pointer hover:bg-red-100 p-1 rounded",onClick:()=>f("/")})]}),oe.jsx("div",{className:"h-1 w-full bg-pink-700 mb-4 rounded"}),oe.jsxs("form",{className:"space-y-1",children:[oe.jsxs("div",{children:[oe.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-0.5",children:[oe.jsx("span",{className:"text-red-600",children:"*"})," Please enter your user ID"]}),oe.jsx("input",{type:"text",value:a,maxLength:50,onChange:e=>r(e.target.value),onBlur:()=>y("userId"),className:"w-full px-4 py-1  border-1 border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"}),oe.jsx("div",{className:"min-h-[1rem]",children:b.userId&&!a.trim()&&oe.jsx("p",{className:"text-red-600 text-sm ",children:"This field is required."})})]}),oe.jsxs("div",{children:[oe.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-0.5",children:[oe.jsx("span",{className:"text-red-600",children:"*"})," Mother's Name"]}),oe.jsx("input",{type:"text",value:i,maxLength:100,onChange:e=>d(e.target.value),onBlur:()=>y("motherName"),className:"w-full px-4 py-1  border-1 border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"}),oe.jsx("div",{className:"min-h-[1rem]",children:b.motherName&&!i.trim()&&oe.jsx("p",{className:"text-red-600 text-sm ",children:"This field is required."})})]}),oe.jsxs("div",{children:[oe.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-0.5",children:[oe.jsx("span",{className:"text-red-600",children:"*"})," Your Child's Date Of Birth"]}),oe.jsx("input",{type:"date",value:c,onChange:e=>h(e.target.value),onBlur:()=>y("dob"),className:"w-full px-4 py-1  border-1 border-gray-400 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"}),oe.jsx("div",{className:"min-h-[1rem]",children:b.dob&&!c&&oe.jsx("p",{className:"text-red-600 text-sm ",children:"This field is required."})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-4 mt-2",children:[oe.jsx("button",{type:"button",onClick:()=>p(e,null,(function*(){var e,r;if(v({userId:!0,motherName:!0,dob:!0}),w){g(!0);try{const e=yield Uf.post(`${t}/api/update_forgotpassword`,{user_id:a,answer_one:i,dob:c});e.data.success?hp.success("Password reset instructions sent."):hp.error(e.data.message||"Something went wrong.")}catch(n){const t=(null==(r=null==(e=n.response)?void 0:e.data)?void 0:r.message)||"Failed to reset password.";hp.error(t)}finally{g(!1)}}})),disabled:x,className:"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-6 rounded shadow "+(x?"opacity-50 cursor-not-allowed":""),children:x?oe.jsxs("span",{className:"flex items-center justify-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Resetting..."]}):"Reset Password"}),oe.jsx("button",{type:"button",onClick:()=>f("/"),className:"bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 px-6 rounded shadow",children:"Login Page"})]})]}),oe.jsxs("p",{className:"text-sm text-gray-600 mt-3 text-center",children:["If you do not remember answers to these questions then please enter your userid and click on this link to"," ",oe.jsx("button",{className:"text-blue-600 underline hover:bg-gray-50 hover:text-blue-800 hover:underline-offset-4 hover:shadow-md hover:rounded transition-all duration-200 ease-in-out "+(n?"cursor-not-allowed opacity-60":""),onClick:()=>p(e,null,(function*(){if(a.trim()){s(!0);try{const e=yield Uf.post(`${t}/api/save_newpasswordforgot`,{user_id:a});e.data.success?hp.success(e.data.message||"Password sent successfully."):hp.error(e.data.message||"Something went wrong.")}catch(e){hp.error("Failed to send new password.")}finally{s(!1)}}else hp.error("Please enter your user ID.")})),disabled:n,children:n?"Please wait...":"receive a new password"}),"."]})]})})," ",n&&oe.jsx("div",{className:"fixed top-0 left-0 w-full h-full bg-transparent backdrop-blur-md z-50 flex items-center justify-center",children:oe.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[oe.jsxs("div",{className:"relative w-16 h-16",children:[oe.jsx("div",{className:"absolute inset-0 rounded-full border-t-4 border-blue-600 animate-spin"}),oe.jsx("div",{className:"absolute inset-2 rounded-full border-4 border-blue-200 opacity-50 animate-ping"})]}),oe.jsx("p",{className:"text-lg text-blue-700 font-semibold text-center animate-pulse",children:"Please wait  were securely sending your new password..."})]})})]})," ",oe.jsx("div",{className:"w-full",children:oe.jsx(_ae,{})})]})," "]})},jPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState([]),[l,o]=Q.useState(""),[i,d]=Q.useState(""),[c,h]=Q.useState(0),[f,x]=Q.useState(0),[g,b]=Q.useState(null),[v,y]=Q.useState(!1),[w,j]=Q.useState(null),N=sm(),[_,S]=Q.useState(!1),[k,C]=Q.useState(!1),[E,T]=Q.useState(!1),[O,D]=Q.useState([]);Q.useState([]),Q.useState({});const[A,P]=Q.useState({}),M=Q.useRef({}),L=Q.useRef(null),I=Q.useRef(0),F=Q.useRef(""),R=rm(),{sectionID:$}=R.state||{};console.log("update id card section id",$);const[B,z]=Q.useState(""),U=Q.useMemo((()=>a.map((e=>{var t;return{value:{class_id:e.class_id,section_id:e.section_id},label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name}`}}))),[a]);Q.useEffect((()=>{$&&H()}),[$]);const H=()=>p(e,null,(function*(){var e,a,r;if(!v){y(!0),P({}),b(""),S(!0),d("");try{const a=localStorage.getItem("authToken");if(!a)throw hp.error("Authentication token is missing. Please log in."),new Error("Authentication token is missing.");let r;if(l&&l.section_id)r=l.section_id;else{if(!$)return b("Please select a Class."),y(!1),void S(!1);r=$}const n=yield Uf.get(`${t}/api/get_update_idcard_data_by_teacher?section_id=${r}`,{headers:{Authorization:`Bearer ${a}`}}),o=null==(e=n.data)?void 0:e.data;if(!Array.isArray(o)||0===o.length)return hp.error("No Update students found for this class."),D([]),void s([]);console.log("Extracted Update Student List:",o),console.error(n.data),s(o),D(o),x(Math.ceil(o.length/10)),h(0)}catch(n){console.error("Error fetching student details:",n),hp.error((null==(r=null==(a=n.response)?void 0:a.data)?void 0:r.message)||"Failed to fetch student details. Please try again.")}finally{S(!1),y(!1)}}}));Q.useEffect((()=>{h(0)}),[i]);const W={f_mobile:"Father Mobile No.",m_mobile:"Mother Mobile No.",blood_group:"Blood Group",permanent_address:"Permanent Address",image_name:"Student Image"},Y=(e,t,a)=>{const{value:r,dataset:n}=e.target,l=n.parentId,o=`${t}_${l}`,i=W[t]||t.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()));P((e=>m(u({},e),{[o]:r.trim()?"":`${i} is required`}))),s((e=>e.map(((e,n)=>n===a?m(u({},e),{[t]:r,parent_id:l||e.parent_id}):e))))};Q.useEffect((()=>{p(e,null,(function*(){S(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${e}`}});r(a.data||[])}catch(e){hp.error("Error fetching initial data.")}finally{S(!1)}}))}),[]),Q.useEffect((()=>{if(Array.isArray(n)&&n.length>0){const e=n.map((e=>({parent_id:e.parent_id,f_mobile:e.f_mobile||"",m_mobile:e.m_mobile||"",permant_add:e.permant_add||"",blood_group:e.blood_group||"",house:e.house||"",image_name:e.image_name||"",section_id:e.section_id||""})));D(e)}}),[n]),Q.useEffect((()=>{const e=i.trim().toLowerCase();""!==e&&""===F.current&&(I.current=c,h(0)),""===e&&""!==F.current&&h(I.current),F.current=e}),[i]),Q.useEffect((()=>{const e=localStorage.getItem("selectedClassId");e&&(z(e),H(),localStorage.removeItem("selectedClassId"))}),[]);const q=Array.isArray(n)?n.filter((e=>{var t,a,r,n;const s=i.toLowerCase().trim(),l=`${null!=(t=null==e?void 0:e.father_name)?t:""}`.toLowerCase(),o=`${null!=(a=null==e?void 0:e.first_name)?a:""}${null!=(r=null==e?void 0:e.mid_name)?r:""} ${null!=(n=null==e?void 0:e.last_name)?n:""}`.toLowerCase().trim(),d=`${null==e?void 0:e.permant_add}`.toLowerCase(),c=`${null==e?void 0:e.blood_group}`.toLowerCase(),u=`${null==e?void 0:e.house}`.toLowerCase(),m=`${null==e?void 0:e.m_mobile}`.toLowerCase().toString(),h=`${null==e?void 0:e.f_mobile}`.toLowerCase().toString();return l.includes(s)||o.includes(s)||d.includes(s)||c.includes(s)||u.includes(s)||m.includes(s)||h.includes(s)})):[];console.log("filteredsections",q);const V=q.slice(10*c);return console.log("displayedSections",V),Q.useEffect((()=>{const e=localStorage.getItem("selectedClassId");e&&(z(e),H(),localStorage.removeItem("selectedClassId"))}),[]),oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"md:mx-auto md:w-[95%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header flex justify-between items-center ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Update Student ID Card"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{N("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white w-full md:w-[100%] mx-auto rounded-md ",children:oe.jsxs("div",{className:"w-full  mx-auto",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"max-w-full  bg-white  p-2",children:oe.jsxs("div",{className:" relative left-0 md:left-[5%] w-full md:w-[49%]   flex  flex-col md:flex-row gap-x-1 md:gap-x-6 ",children:[oe.jsxs("div",{className:"w-full  md:w-[60%]   gap-x-3 md:justify-center justify-around  my-1 md:my-4 flex  md:flex-row  ",children:[oe.jsxs("label",{htmlFor:"classSection",className:" mr-2 pt-2 items-center text-center",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-[65%] md:w-[55%] ",children:[oe.jsx(Soe,{value:w,onChange:e=>{b(""),j(e),o(e?e.value:null),s([])},options:U,placeholder:"Select ",isSearchable:!0,isClearable:!0,className:"text-sm"}),g&&oe.jsx("div",{className:" relative top-0.5 ml-1 text-danger text-xs",children:g})]})]}),oe.jsx("button",{onClick:H,type:"button",disabled:v,className:"mr-0 md:mr-4 my-1 md:my-4 btn h-10  w-18 md:w-auto btn-primary ",children:v?"Searching...":"Search"})]})}),n.length>0&&oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Update Student ID Card Data"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>d(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsxs("div",{ref:L,className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full  md:w-[100%] mx-auto",children:[oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[4%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr. No"}),oe.jsx("th",{className:"px-2 w-full md:w-[5%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Roll No."}),oe.jsx("th",{className:"px-2 w-full md:w-[5%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Photo"}),oe.jsx("th",{className:"px-2 w-full md:w-[9%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Address"}),oe.jsx("th",{className:"px-2 w-full md:w-[9%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Blood Group"}),oe.jsx("th",{className:"px-2 w-full md:w-[9%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"House"}),oe.jsx("th",{className:"px-2 w-full md:w-[9%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Parent"}),oe.jsx("th",{className:"px-2 w-full md:w-[9%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Father Mobile No."}),oe.jsx("th",{className:"px-2 w-full md:w-[9%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Mother Mobile No."}),oe.jsx("th",{className:"px-2 w-full md:w-[9%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Upload Photo"})]})}),oe.jsx("tbody",{children:V.length?V.map(((e,t)=>{var a;return oe.jsxs("tr",{className:"text-sm",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*c+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("div",{className:"flex flex-col items-center",children:null==e?void 0:e.roll_no})}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:[oe.jsx("div",{className:"flex flex-col items-center mb-3",children:oe.jsx("img",{src:(null==e?void 0:e.image_name)?`${null==e?void 0:e.image_name}`:"https://via.placeholder.com/50",alt:null==e?void 0:e.name,className:"rounded-full w-8 h-8 lg:w-10 lg:h-10 object-cover"})}),"y"===(null==(a=null==e?void 0:e.idcard_confirm)?void 0:a.toLowerCase())&&oe.jsx("span",{className:"mt-3 text-green-600 text-sm font-semibold",children:"Confirmed"})]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsxs("div",{className:"flex flex-col items-center",children:[(null==e?void 0:e.first_name)||""," ",(null==e?void 0:e.mid_name)||""," ",(null==e?void 0:e.last_name)||""]})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("div",{className:"flex flex-col items-center",children:oe.jsxs("div",{className:" text-center  text-2xl",children:[oe.jsx("textarea",{maxLength:200,rows:"4",value:(null==e?void 0:e.permant_add)||"",onChange:e=>Y(e,"permant_add",t),ref:t=>M.current[`permant_add_${e.parent_id}`]=t,"data-parent-id":null==e?void 0:e.parent_id,className:" text-base bg-white border border-gray-400 rounded-md p-1 ",required:!0}),A[`permant_add_${e.parent_id}`]&&oe.jsx("div",{className:"error-message text-xs text-red-500",children:A[`permant_add_${e.parent_id}`]})]})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsxs("div",{className:"flex flex-col items-center",children:[oe.jsxs("select",{value:e.blood_group||"",onChange:e=>Y(e,"blood_group",t),ref:t=>M.current[`blood_group_${e.parent_id}`]=t,"data-parent-id":null==e?void 0:e.parent_id,className:"w-full border border-gray-400 rounded-md py-2 px-3 bg-white text-base",required:!0,children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"AB+",children:"AB+"}),oe.jsx("option",{value:"AB-",children:"AB-"}),oe.jsx("option",{value:"B+",children:"B+"}),oe.jsx("option",{value:"B-",children:"B-"}),oe.jsx("option",{value:"A+",children:"A+"}),oe.jsx("option",{value:"A-",children:"A-"}),oe.jsx("option",{value:"O+",children:"O+"}),oe.jsx("option",{value:"O-",children:"O-"})]}),A[`blood_group_${e.parent_id}`]&&oe.jsx("div",{className:"error-message text-xs text-red-500",children:A[`blood_group_${e.parent_id}`]})]})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("div",{className:"flex flex-col items-center",children:oe.jsxs("select",{value:e.house||"",onChange:e=>Y(e,"house",t),ref:t=>M.current[`house_${e.parent_id}`]=t,"data-parent-id":null==e?void 0:e.parent_id,className:"w-full border border-gray-400 rounded-md py-2 px-3 bg-white text-base",required:!0,children:[oe.jsx("option",{value:"",children:"Select"}),oe.jsx("option",{value:"D",children:"Diamond"}),oe.jsx("option",{value:"R",children:"Ruby"}),oe.jsx("option",{value:"E",children:"Emerald"}),oe.jsx("option",{value:"S",children:"Sapphire"})]})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsx("div",{className:"flex flex-col items-center",children:null==e?void 0:e.father_name})}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:[oe.jsx("input",{type:"text",className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300 text-base",value:e.f_mobile||"",onChange:e=>Y(e,"f_mobile",t),ref:t=>M.current[`f_mobile_${e.parent_id}`]=t,"data-parent-id":null==e?void 0:e.parent_id,maxLength:10}),oe.jsx("div",{children:A[`f_mobile_${e.parent_id}`]&&oe.jsx("div",{className:"error-message text-xs text-red-500",children:A[`f_mobile_${e.parent_id}`]})})]}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:[oe.jsx("input",{type:"text",className:"text-center w-full px-2 py-1 border rounded outline-none focus:ring focus:ring-blue-300 text-base",value:(null==e?void 0:e.m_mobile)||"",onChange:e=>Y(e,"m_mobile",t),ref:t=>M.current[`m_mobile_${e.parent_id}`]=t,"data-parent-id":null==e?void 0:e.parent_id,maxLength:10}),oe.jsx("div",{children:A[`m_mobile_${e.parent_id}`]&&oe.jsx("div",{className:"error-message text-xs text-red-500",children:A[`m_mobile_${e.parent_id}`]})})]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:oe.jsxs("div",{className:"flex flex-col items-center",children:[oe.jsx("span",{onClick:()=>{var t;(t=e)&&N(`/uploadStudentPhoto/${null==t?void 0:t.student_id}`,{state:{staff:t}})},ref:t=>M.current[`image_name_${e.parent_id}`]=t,className:"text-blue-600 hover:underline cursor-pointer text-base",children:"Student"}),A[`image_name_${e.parent_id}`]&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:A[`image_name_${e.parent_id}`]}),oe.jsx("br",{}),oe.jsx("span",{onClick:()=>{var t;(t=e)&&N(`/uploadParentPhoto/${null==t?void 0:t.student_id}`,{state:{staff:t}})},className:"text-blue-600 hover:underline cursor-pointer text-base",children:"Parent"})]})})]},e.student_id)})):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"10",className:"text-center text-red-700 py-4",children:"Oops! No data found.."})})})]}),oe.jsxs("div",{className:"flex justify-end",children:[oe.jsx("button",{className:"text-white bg-yellow-500 hover:bg-yellow-500 px-4 py-2 rounded m-2",onClick:()=>{s([]),j("")},children:"Back"}),oe.jsx("button",{className:"text-white bg-green-600 hover:bg-green-700 px-4 py-2 rounded m-2",onClick:()=>p(e,null,(function*(){if(C(!0),P({}),!O||0===O.length)return hp.error("Data is still loading. Please wait."),void C(!1);const e=localStorage.getItem("authToken");let a;if(l&&l.section_id)a=l.section_id;else{if(!$)return b("Please select a Class."),hp.error("Class or section not selected."),y(!1),void S(!1);a=$}const r={};let n=null,s=!1;for(let t=0;t<O.length;t++){const e=O[t],a=e.parent_id;if(!a)continue;console.warn(O[t]),console.log(`Student ${t+1} Image Name:`,e.image_name);const l=[{key:`f_mobile_${a}`,label:"Father Mobile No.",value:e.f_mobile},{key:`m_mobile_${a}`,label:"Mother Mobile No.",value:e.m_mobile},{key:`permant_add_${a}`,label:"Permanent Address",value:e.permant_add},{key:`blood_group_${a}`,label:"Blood Group",value:e.blood_group},{key:`image_name_${a}`,label:"Student Photo",value:e.image_name}];for(const t of l){let e=!1;if(e=t.key.startsWith("image_name_")?!t.value||"string"!=typeof t.value||""===t.value.trim()||"null"===t.value:!t.value||"string"==typeof t.value&&""===t.value.trim(),e){r[t.key]=`${t.label} is required`,n=t.key,s=!0;break}}if(s)break}if(Object.keys(r).length>0)return P(r),setTimeout((()=>{requestAnimationFrame((()=>{const e=M.current[n];e&&"function"==typeof e.scrollIntoView&&(e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus())}))}),100),void C(!1);const o={section_id:a};O.forEach((e=>{const t=e.parent_id;t&&(o[`f_mobile_${t}`]=e.f_mobile||"",o[`m_mobile_${t}`]=e.m_mobile||"",o[`permant_add_${t}`]=e.permant_add||"",o[`blood_group_${t}`]=e.blood_group||"",o[`house_${t}`]=e.house||"")}));try{200===(yield Uf.put(`${t}/api/update_idcarddataandconfirm`,o,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).status?(hp.success("ID Card details saved and confirmed successfully."),H()):hp.error("Failed to save ID Card details.")}catch(i){console.error("Error updating student ID card:",i),hp.error("Something went wrong. Please try again.")}finally{C(!1)}})),disabled:k,children:k?"Confirming...":"Confirm"}),oe.jsx("button",{className:"text-white bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded m-2",onClick:()=>p(e,null,(function*(){var e;if(T(!0),!O||0===O.length)return void hp.error("Data is still loading. Please wait.");const a=localStorage.getItem("authToken");let r;if(l&&l.section_id)r=l.section_id;else{if(!$)return b("Please select a Class."),hp.error("Class or section not selected."),y(!1),void S(!1);r=$}try{const n={section_id:r};O.forEach((e=>{const t=e.parent_id;t&&(n[`f_mobile_${t}`]=e.f_mobile||"",n[`m_mobile_${t}`]=e.m_mobile||"",n[`permant_add_${t}`]=e.permant_add||"",n[`blood_group_${t}`]=e.blood_group||"",n[`house_${t}`]=e.house||"")})),console.log("Submitting Request Data:",n),200===(yield Uf.put(`${t}/api/update_idcarddata`,n,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).status?(hp.success("ID Card details saved successfully."),H(),null==(e=L.current)||e.scrollTo({top:0,behavior:"smooth"}),window.scrollTo({top:0,behavior:"smooth"})):hp.error("Failed to saved ID Card details.")}catch(n){console.error("Error saving student ID card:",n),hp.error("Something went wrong. Please try again.")}finally{T(!1)}})),disabled:E,children:E?"Saving...":"Save"})]})]})})]})})]})})]})})},NPe=()=>{Q.useState(null);const[t,a]=Q.useState([]),r=sm(),n="https://sms.evolvu.in/public",s=rm(),[l,o]=Q.useState(!1),[i,d]=Q.useState(!1),[c,h]=Q.useState([]),{staff:f}=s.state||{};console.log("IdCardDetails***",f);const[x,g]=Q.useState(null);return Q.useEffect((()=>{p(e,null,(function*(){var e,t;h([]);try{o(!0);const r=localStorage.getItem("authToken"),s=yield Uf.get(`${n}/api/get_studentidcarddetails?student_id=${null==f?void 0:f.student_id}`,{headers:{Authorization:`Bearer ${r}`}}),l=(null==(e=null==s?void 0:s.data)?void 0:e.data)||{},i=null==(t=l[0])?void 0:t.section_id;console.log("section data",i),g(l),a(l||[])}catch(r){hp.error("Error fetching Student Data"),console.error("Error fetching Student Data:",r)}finally{o(!1)}}))}),[]),oe.jsxs("div",{className:"mt-4 w-full md:w-[50%] mx-auto",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-full bg-white shadow-md",children:[oe.jsxs("div",{className:"card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Upload Student Photo"}),(null==x?void 0:x.length)>0&&oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{var e;r("/updateStudentIdCard",{state:{sectionID:null==(e=null==x?void 0:x[0])?void 0:e.section_id}})}})]}),oe.jsx("div",{className:"relative w-full h-1 -top-6 mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"w-full md:w-[100%] mx-auto ",children:oe.jsx("div",{className:"bg-gray-50 overflow-x-hidden shadow-md rounded-md p-4",children:oe.jsx("form",{onSubmit:a=>p(e,null,(function*(){var e,s;if(a.preventDefault(),i)return;h([]);let l=[];if(console.log("Start submitting..."),t.forEach(((e,t)=>{e.image_base||e.image_name||l.push({field:`student_image_base_${t}`,message:"Please Upload Photo"})})),l.length>0)return void h(l);h([]),console.log("Student Data Submit----\x3e",x);const o=t[0]||{},c={student_id:o.student_id||"",image_name:o.image_name||"",image_base:o.image_base||""},m=u({},c);console.log("Before Submitting data ",m);try{d(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");if(200===(yield Uf.put(`${n}/api/update_studentphotoforidcard`,m,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}})).status){hp.success("Student Photo Updated successfully!"),h([]);const t=null==(e=x[0])?void 0:e.section_id;console.log("Navigating with sectionID:",t),setTimeout((()=>{r("/UpdateStudentIdCard",{state:{sectionID:t}})}),1e3)}}catch(f){console.error("Error Updating Student Photo Card:",(null==(s=f.response)?void 0:s.data)||f.message)}finally{d(!1),h([])}})),className:"bg-white rounded-2xl p-8 w-full max-w-xl mx-auto shadow-md",children:l?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsxs("div",{children:[oe.jsx("div",{className:"w-full mx-auto flex flex-wrap p-4 gap-4 justify-center",children:t.map(((e,t)=>{var r;return oe.jsxs("div",{className:"flex flex-col items-center ",children:[" ",oe.jsxs("div",{className:"rounded-full",children:[oe.jsx(Cg,{photoPreview:(null==e?void 0:e.image_name)||(null==e?void 0:e.image_base),onImageCropped:e=>((e,t)=>{a((a=>a.map(((a,r)=>r===t?m(u({},a),{image_base:e||""}):a)))),h((e=>e.filter((e=>e.field!==`student_image_base_${t}`))))})(e,t)})," ",c.some((e=>e.field===`student_image_base_${t}`))&&oe.jsx("p",{className:"text-red-500 text-xs ml-3",children:null==(r=c.find((e=>e.field===`student_image_base_${t}`)))?void 0:r.message})]}),oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 w-full",children:[oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{className:"font-bold text-sm",children:"Full Name"}),oe.jsxs("p",{className:"bg-gray-200 border border-gray-100 rounded-md p-2 shadow-inner  min-h-[40px] w-full",children:[e.first_name||""," ",e.mid_name||""," ",e.last_name||""]})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{className:"font-bold text-sm",children:"Roll No."}),oe.jsx("p",{className:"bg-gray-200 border border-gray-100 rounded-md p-2 shadow-inner min-h-[40px] w-full",children:null==e.roll_no?" ":e.roll_no})]})]})]},t)}))}),oe.jsxs("div",{className:"flex justify-end",children:[(null==x?void 0:x.length)>0&&oe.jsx("button",{type:"submit",className:"bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-2 rounded-md mr-3",onClick:()=>{var e;r("/updateStudentIdCard",{state:{sectionID:null==(e=null==x?void 0:x[0])?void 0:e.section_id}})},children:"Back"}),oe.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md",disabled:i,children:i?"Submitting..":"Submit"})]})]})})})})]})]})},_Pe=()=>{Q.useState(null);const[t,a]=Q.useState([]),r=sm(),n="https://sms.evolvu.in/public",s=rm(),[l,o]=Q.useState(!1),[i,d]=Q.useState(!1),[c,h]=Q.useState([]),{staff:f}=s.state||{};console.log("IdCardDetails***",f);const[x,g]=Q.useState(null);return Q.useEffect((()=>{p(e,null,(function*(){var e;h([]);try{o(!0);const t=localStorage.getItem("authToken"),r=yield Uf.get(`${n}/api/get_parentandguardianimage?student_id=${null==f?void 0:f.student_id}`,{headers:{Authorization:`Bearer ${t}`}});console.log("gardianiddetails",r);const s=(null==(e=null==r?void 0:r.data)?void 0:e.data)||{};g(s),console.log("data",s),a(s||[]),console.log("after setStudents",s)}catch(t){hp.error("Error fetching Student Data"),console.error("Error fetching Student Data:",t)}finally{o(!1)}}))}),[]),oe.jsxs("div",{className:"mt-4 w-full md:w-[90%] mx-auto",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-full bg-white shadow-md",children:[oe.jsxs("div",{className:"card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Upload Parent Photo"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100 rounded-full",onClick:()=>{(null==x?void 0:x.length)>0?r("/updateStudentIdCard",{state:{sectionID:x[0].section_id}}):r("/updateStudentIdCard")}})]}),oe.jsx("div",{className:"relative w-full h-1 -top-6 mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"w-full",children:oe.jsx("form",{onSubmit:a=>p(e,null,(function*(){var e,s;if(a.preventDefault(),i)return;h([]);let l=[];if(console.log("Start submitting..."),t.forEach(((e,t)=>{const a=e.father_image||e.father_image_name,r=e.mother_image||e.mother_image_name,n=e.guardian_image||e.guardian_image_name;a||r||n||l.push({field:`student_image_${t}`,message:"Please upload at least one image."})})),l.length>0)return void h(l);const o=t[0]||{},c={parent_id:(null==f?void 0:f.parent_id)||"",student_id:o.student_id||"",father_image:o.father_image||"",mother_image:o.mother_image||"",guardian_image:o.guardian_image||""};try{d(!0);const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");if(200===(yield Uf.post(`${n}/api/update_parentguradianimage`,c,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}})).status){hp.success("Parent's Photo Updated successfully!"),h([]);const t=null==(e=x[0])?void 0:e.section_id;console.log("Navigating with sectionID:",t),setTimeout((()=>{r("/UpdateStudentIdCard",{state:{sectionID:t}})}),1e3)}}catch(u){console.error("Error Updating Student Photo Card:",(null==(s=u.response)?void 0:s.data)||u.message)}finally{d(!1),h([])}})),children:l?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):t&&t.length>0?oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:"flex flex-wrap gap-4 mx-2",children:t.map(((e,t)=>{const r=c.find((e=>e.field===`student_image_${t}`));return oe.jsxs(J.Fragment,{children:[oe.jsx("div",{className:"flex-1 min-w-[300px] max-w-[450px] bg-gray-50 shadow-md rounded-md p-6",children:oe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md",children:[oe.jsx("h2",{className:"text-xl font-bold mb-4 text-center text-gray-500",children:"Father Information"}),oe.jsxs("div",{className:"flex flex-col items-center mb-6",children:[oe.jsx("div",{className:"rounded-full",children:oe.jsx(Cg,{photoPreview:(null==e?void 0:e.father_image_name)||(null==e?void 0:e.father_image),onImageCropped:e=>((e,t)=>{a((a=>a.map(((a,r)=>r===t?m(u({},a),{father_image:e||""}):a))))})(e,t)})}),r&&oe.jsx("span",{className:"text-xs text-red-500 mt-1",children:r.message})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{className:"font-bold text-sm",children:"Father Name"}),oe.jsx("p",{className:"bg-gray-200 border border-gray-100 rounded-md p-2 shadow-inner min-h-[40px] w-full",children:null==e?void 0:e.father_name})]})]})}),oe.jsx("div",{className:"flex-1 min-w-[300px] max-w-[450px] bg-gray-50 shadow-md rounded-md p-6",children:oe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md",children:[oe.jsx("h2",{className:"text-xl font-bold mb-4 text-center text-gray-500",children:"Mother Information"}),oe.jsx("div",{className:"flex flex-col items-center mb-6",children:oe.jsx("div",{className:"rounded-full",children:oe.jsx(Cg,{photoPreview:(null==e?void 0:e.mother_image_name)||(null==e?void 0:e.mother_image),onImageCropped:e=>((e,t)=>{a((a=>a.map(((a,r)=>r===t?m(u({},a),{mother_image:e||""}):a))))})(e,t)})})}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{className:"font-bold text-sm",children:"Mother Name"}),oe.jsx("p",{className:"bg-gray-200 border border-gray-100 rounded-md p-2 shadow-inner min-h-[40px] w-full",children:null==e?void 0:e.mother_name})]})]})}),oe.jsx("div",{className:"flex-1 min-w-[300px] max-w-[450px] bg-gray-50 shadow-md rounded-md p-6",children:oe.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md",children:[oe.jsx("h2",{className:"text-xl font-bold mb-4 text-center text-gray-500",children:"Guardian Information"}),oe.jsx("div",{className:"flex flex-col items-center mb-6",children:oe.jsx("div",{className:"rounded-full",children:oe.jsx(Cg,{photoPreview:(null==e?void 0:e.guardian_image_name)||(null==e?void 0:e.guardian_image),onImageCropped:e=>((e,t)=>{a((a=>a.map(((a,r)=>r===t?m(u({},a),{guardian_image:e||""}):a))))})(e,t)})})}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{className:"font-bold text-sm",children:"Guardian Name"}),oe.jsx("p",{className:"bg-gray-200 border border-gray-100 rounded-md p-2 shadow-inner min-h-[40px] w-full",children:(null==e?void 0:e.guardian_name)||""})]})]})})]},t)}))}),oe.jsxs("div",{className:"flex justify-end mt-6 mr-4",children:[(null==x?void 0:x.length)>0&&oe.jsx("button",{type:"submit",className:"bg-yellow-500 hover:bg-yellow-500 text-white px-6 py-2 rounded-md mr-3",onClick:()=>{var e;r("/updateStudentIdCard",{state:{sectionID:null==(e=null==x?void 0:x[0])?void 0:e.section_id}})},children:"Back"}),oe.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md",disabled:i,children:i?"Submitting...":"Submit"})]})]}):oe.jsx("div",{className:"flex justify-center items-center h-full text-red-700 text-xl font-semibold",children:"Oops! No data found."})})})]})]})};function SPe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState("Manage"),[r,n]=Q.useState([]),[s,l]=Q.useState([]),[o,i]=Q.useState(""),[d,c]=Q.useState(""),[u,m]=Q.useState(""),[h,f]=Q.useState(""),[x,g]=Q.useState(0),[b,v]=Q.useState(0),[y,w]=Q.useState(null),[j,N]=Q.useState(null),[_,S]=Q.useState(null),[k,C]=Q.useState(!1),[E,T]=Q.useState(!1),O=Q.useRef(0),D=Q.useRef(""),A=sm();Q.useEffect((()=>{M(),L()}),[]);const P=r.map((e=>{var t,a;return{value:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name}-${e.name}`,label:`${null==(a=null==e?void 0:e.get_class)?void 0:a.name} ${e.name}`,class_id:e.class_id,section_id:e.section_id}})),M=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/get_class_section`,{headers:{Authorization:`Bearer ${t}`}});Array.isArray(a.data)?(n(a.data),console.log("the name and section",a.data)):w("Unexpected data format")}catch(t){console.error("Error fetching class and section names:",t),w("Error fetching class and section names")}})),L=()=>p(this,null,(function*(){var t,a,r,n,s;if(!k){C(!0),f("");try{const i=localStorage.getItem("authToken");T(!0);const c=yield Uf.get(`${e}/api/get_absentstudentfortoday`,{headers:{Authorization:`Bearer ${i}`},params:{class_id:o,section_id:d}});console.log("the response of the AllotMarksHeadingTab is *******",c.data),(null==(t=null==c?void 0:c.data)?void 0:t.data.absent_student.length)>0?(l(null==(a=null==c?void 0:c.data)?void 0:a.data.absent_student),v(Math.ceil((null==(r=null==c?void 0:c.data)?void 0:r.data.absent_student.length)/10)),m(null==(s=null==(n=null==c?void 0:c.data)?void 0:n.data)?void 0:s.count_absent_student)):(l([]),m(""),hp.error(`Hooray! No students are absent today in ${_.label} `))}catch(i){console.error("Error fetching Bonafied certificates Listing:",i.response.data.message),w("Error fetching Bonafied certificates"),hp.error(i.response.data.message)}finally{C(!1),T(!1)}}}));Q.useEffect((()=>{const e=h.trim().toLowerCase();""!==e&&""===D.current&&(O.current=x,g(0)),""===e&&""!==D.current&&g(O.current),D.current=e}),[h]);const I=h.trim().toLowerCase(),F=s.filter((e=>{var t,a;const r=`${e.first_name} ${e.mid_name||""} ${e.last_name}`.toLowerCase(),n=(null==(t=e.classname)?void 0:t.toString().toLowerCase())||"",s=(null==(a=e.sectionname)?void 0:a.toString().toLowerCase())||"";return r.includes(I)||n.includes(I)||s.includes(I)})),R=F.slice(10*x,10*(x+1));return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"md:mx-auto md:w-[65%] p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Today's Absent Students"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{A("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white  rounded-md -mt-5",children:"Manage"===t&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"   md:w-[85%] relative left-[5%]  md:mt-[7%] ",children:oe.jsxs("div",{className:"form-group mt-4 w-full md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsx("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:"Select Class"}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:_,onChange:e=>{N(""),S(e),e?(i(e.class_id),c(e.section_id)):(i(" "),c(" ")),console.log("setSelectedClass",_),console.log("setclassIdForManage",o),console.log("setSectionIdForManage",d)},options:P,placeholder:"Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),j&&oe.jsx("div",{className:" relative top-0.5 left-3 ml-1 text-danger text-xs",children:j})," "]}),oe.jsx("button",{onClick:L,type:"button",disabled:k,className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",children:k?"Searching...":"Search"})]})})}),s.length>0&&oe.jsx("div",{className:"container mt-8",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:["Today's Absentee List"," ",oe.jsx("span",{className:"text-[.8em] pb-1 text-blue-500",children:(null==_?void 0:_.label)?`(${_.label} | Absent: ${u} Students)`:`(Total Absent - ${u})`})]}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>f(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center w-full md:w-[10%] lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center   lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2  text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Section"})]})}),oe.jsx("tbody",{children:E?oe.jsx("tr",{children:oe.jsxs("td",{colSpan:"4",className:"text-center py-6 text-blue-700",children:[oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})})," "]})}):R.length?R.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:10*x+t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[e.first_name," ",e.mid_name||""," ",e.last_name]})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.classname})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.sectionname})})]},t))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"4",className:"text-center py-6 text-red-700",children:"Oops! No data found..."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:b,onPageChange:e=>{g(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]})})]})})}function kPe(){const e="https://sms.evolvu.in/public";Q.useState([]);const[t,a]=Q.useState([]),[r,n]=Q.useState(!0),[s,l]=Q.useState(null),o=sm(),[i,d]=Q.useState("Staff Attendance"),[c,u]=Q.useState(!1);Q.useState("");const[m,h]=Q.useState("");Q.useState(0);const[f,x]=Q.useState([]),[g,b]=Q.useState(0),[v,y]=Q.useState([]),[w,j]=Q.useState(0);Q.useState("");const[N,_]=Q.useState("");Q.useEffect((()=>{S()}),[]);const S=()=>p(this,null,(function*(){var t,a,r,s;const o=(new Date).toISOString().split("T")[0];try{const n=localStorage.getItem("authToken");if(!n)throw new Error("No authentication token found");const l=yield Uf.get(`${e}/api/get_absentnonteacherfortoday`,{headers:{Authorization:`Bearer ${n}`},params:{date:o}});console.log("response",l);const i=(null==(a=null==(t=l.data)?void 0:t.data)?void 0:a.nonteacher_absent)||[];console.log("Absent staff",i);const d=(null==(s=null==(r=l.data)?void 0:r.data)?void 0:s.nonteacher_present)||[];console.log("Present staff",d),x(i),y(d),j(d.length),b(i.length)}catch(i){l(i.message||"Something went wrong while fetching data.")}finally{n(!1)}}));t.filter((e=>{const t=m.toLocaleLowerCase().trim(),a=`${e.first_name||""} ${e.mid_name||""} ${e.last_name||""}`.toLowerCase(),r=`${e.classname||""} ${e.sectionname||""}`.toLowerCase(),n=`${e.phone_no||""}`.toLowerCase(),s=`${e.email_id||""} ${e.email_id||""}`.toLowerCase();return a.includes(t)||r.includes(t)||n.includes(t)||s.includes(t)}));const[k,C]=Q.useState([]),E=v.filter((e=>"Y"===e.late)).length>0&&k.length===v.filter((e=>"Y"===e.late)).length;return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"md:mx-auto md:w-[80%] p-3 bg-white mt-2",children:[oe.jsxs("div",{className:"card-header flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Today's Attendance"}),oe.jsx(sh,{className:"float-end relative  -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{o("/dashboard")}})]}),oe.jsx("div",{className:"relative mb-8 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row -top-4",children:[{label:"Staff Attendance",count:w},{label:"Staff on leave",count:g}].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(i===e.label?"text-blue-500 font-bold":""),children:oe.jsxs("button",{onClick:()=>(e=>{d(e)})(e.label),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:[e.label.replace(/([A-Z])/g," $1")," ",oe.jsxs("span",{className:"text-sm text-[#C03078] font-bold",children:["(",e.count,")"]})]})},e.label)))}),oe.jsx("div",{className:"w-full",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsx("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Staff Attendance"===i?` ${(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long"})}`:`${(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long"})} `})})}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white rounded-md mt-3 mb-3 w-[90%] md:ml-16",children:r?oe.jsx("div",{className:"text-center text-xl py-10 text-blue-700",children:"Please wait while data is loading..."}):"Staff Attendance"===i?oe.jsx("div",{className:"h-auto lg:h-96 overflow-y-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-0.5 w-full md:w-[7%] mx-auto text-center lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsxs("th",{className:"px-0.5 w-full md:w-[7%] mx-auto text-center lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:["Select All",oe.jsx("br",{}),oe.jsx("input",{type:"checkbox",checked:E,onChange:()=>{if(E)C([]);else{const e=v.filter((e=>"Y"===e.late)).map((e=>e.teacher_id));C(e)}}})," "]}),oe.jsx("th",{className:"px-0.5 w-full md:w-[25%] mx-auto text-center lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Teachers name"}),oe.jsx("th",{className:"px-0.5 text-center md:w-[10%] lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Punch In"}),oe.jsx("th",{className:"px-0.5 text-center md:w-[10%] lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Punch Out"}),oe.jsx("th",{className:"px-0.5 text-center md:w-[10%] lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delay Time"}),oe.jsx("th",{className:"px-0.5 text-center  md:w-[35%] lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Mobile No."})]})}),oe.jsx("tbody",{children:v.length>0?v.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"sm:px-0.5 text-center lg:px-1 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:t+1})}),oe.jsx("td",{className:"sm:px-0.5 text-center lg:px-1 border border-gray-950 text-sm",children:"Y"===e.late&&oe.jsx("input",{type:"checkbox",checked:k.includes(e.teacher_id),onChange:()=>{return t=e.teacher_id,void C((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:e.punch_time||"-"})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:e.punch_out||"-"})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:"Y"===e.late&&e.punch_time&&e.late_time?(()=>{const t=new Date(`1970-01-01T${e.punch_time}`),a=new Date(`1970-01-01T${e.late_time}`);return`${Math.max(Math.floor((t-a)/6e4),0)} mins late`})():""})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:e.phone||" "})})]},e.student_id))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"8",className:"text-center text-xl py-5 text-red-700 border border-gray-950",children:"No Staff are Late Today."})})})]})}):oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-1 w-full md:w-[10%] mx-auto py-2 border border-gray-950 text-sm font-semibold text-center text-gray-900",children:"S.No"}),oe.jsx("th",{className:" px-0.5 w-full md:w-[30%] mx-auto text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Teachers name"}),oe.jsx("th",{className:" px-0.5 w-full md:w-[20%] mx-auto text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Designation"}),oe.jsx("th",{className:" px-0.5 md:w-[20%] text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Mobile No."}),oe.jsx("th",{className:" px-0.5 w-full md:w-[%] mx-auto text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Leave Status"})]})}),f.length>0?f.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 relative top-2",children:t+1})}),oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 relative top-2 ",children:(null==e?void 0:e.name)||" "})}),oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 relative top-2",children:(null==e?void 0:e.designation)||" - "})}),oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 relative top-2",children:(null==e?void 0:e.phone)||" "})}),oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 relative top-2",children:(null==e?void 0:e.leave_status)||" - "})})]},e.teacher_id))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"4",className:"text-center text-xl py-5 text-red-700",children:"No Satff are on Leave Today."})})]})})}),"Staff Attendance"===i&&v.length>0&&oe.jsxs("div",{className:"bg-white rounded-md mt-3 mb-5 w-[90%] md:ml-16 p-4 shadow",children:[oe.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Select the staff above and enter the message below to send to those who arrived late."}),oe.jsxs("div",{className:"flex flex-row items-end gap-3 w-full",children:[oe.jsxs("div",{className:"w-full md:w-[80%] relative",children:[oe.jsx("textarea",{value:N,onChange:e=>{e.target.value.length<=900&&_(e.target.value)},className:"w-full h-28 p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-150 resize-none",placeholder:"Enter message"}),oe.jsxs("div",{className:"absolute bottom-2 right-3 text-xs text-gray-500 pointer-events-none",children:[N.length," / ",900]})]}),oe.jsx("button",{className:"text-white font-semibold py-2 px-6 rounded-md transition duration-200 "+(c?"bg-blue-500 opacity-50 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),onClick:()=>p(this,null,(function*(){if(0===k.length)return void hp.error("Please select at least one staff.");if(!N.trim())return void hp.error("Please enter a message to send.");const t=localStorage.getItem("authToken"),a=new FormData;k.forEach((e=>{a.append("teacher_id[]",e)})),a.append("message",N);try{u(!0);const r=yield Uf.post(`${e}/api/send_whatsapplatecoming`,a,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});200===r.status?(console.log("success"),hp.success("Messages sent successfully!"),_(""),C([])):(hp.error("Failed to send messages."),console.error("Server response:",r.data))}catch(r){console.error("Sending Error:",r),hp.error("An error occurred while sending messages.")}finally{u(!1)}})),disabled:c,children:c?"Sending":"Send"})]})]})]})})]})]})}const CPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null),[c,h]=Q.useState(!1),f=sm(),[x,g]=Q.useState(!1),[b,v]=Q.useState(""),[y,w]=Q.useState(!1),[j,N]=Q.useState([]),[_,S]=Q.useState(0),[k,C]=Q.useState(""),[E,T]=Q.useState(""),[O,D]=Q.useState(null),A=Q.useRef(null);Q.useEffect((()=>{P()}),[]);const P=()=>p(e,null,(function*(){var e;try{g(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_lesson_plan_created_teachers`,{headers:{Authorization:`Bearer ${a}`}});console.log("Staff",r),o((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching Teachers"),console.error("Error fetching Teachers:",a)}finally{g(!1)}})),M=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.teacher_id,label:`${e.name}`})))),[l]);console.log("row",j);const L=j.filter((e=>{var t,a,r;const n=k.toLowerCase(),s=(null==(t=null==e?void 0:e.teachername)?void 0:t.toLowerCase())||"",l=(null==(a=null==e?void 0:e.week)?void 0:a.toLowerCase())||"",o=(null==(r=null==e?void 0:e.time_difference_decimal)?void 0:r.toString().toLowerCase())||"";return s.includes(n)||l.includes(n)||o.includes(n)})).slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[85%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Approve Lesson Plan"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{f("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[90%]   flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsx("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:oe.jsxs("div",{className:"  w-full md:w-[100%] gap-x-0 md:gap-x-12 flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full  md:w-[50%] gap-x-2 justify-around my-1 md:my-4 flex md:flex-row",children:[oe.jsxs("label",{className:"w-full md:w-[45%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Select Teacher ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{v(""),r(e),d(null==e?void 0:e.value)},options:M,placeholder:x?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:x,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".8em"})}}),b&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:b})]})]}),oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-4 justify-between my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"ml-0 md:ml-4 w-full md:w-[50%] text-md mt-1.5",htmlFor:"fromDate",children:"Select Week"}),oe.jsxs("div",{className:"w-full",children:[oe.jsx("div",{className:"text-sm text-gray-700 mt-0.5 border border-gray-300 p-2 rounded cursor-pointer",onClick:()=>{A.current&&A.current.setOpen(!0)},children:E||oe.jsx(nh,{className:"text-pink-500  "})}),oe.jsx(nPe,{ref:A,selected:O,onChange:e=>{if(D(e),e){const t=iPe(e).startOf("week").format("DD-MM-YYYY"),a=iPe(e).endOf("week").format("DD-MM-YYYY");T(`${t} / ${a}`)}else T("")},dateFormat:"dd-MM-yyyy",className:" outline-none relative -top-10 text-sm w-[1px] h-[1px]  bg-white"})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;if(h(!1),!i)return v("Please select teacher Name."),void h(!1);C("");try{const o=E.replace(/\s/g,"").replace(/%20/g,"");console.log("Formatted Week is: ---\x3e",o),h(!0),N([]);const d=localStorage.getItem("authToken"),c={teacher_id:i,week:o},u=yield Uf.get(`${t}/api/`,{headers:{Authorization:`Bearer ${d}`},params:c});(null==(e=null==u?void 0:u.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==u?void 0:u.data)?void 0:a.data)?void 0:r.length)?(N(null==(n=null==u?void 0:u.data)?void 0:n.data),S(Math.ceil((null==(l=null==(s=null==u?void 0:u.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Approve Lesson Plan not found."),N([]))}catch(o){console.error("Error fetching Approve Lesson Plan:",o),hp.error("Comming Soon Approve Lesson Plan.")}finally{w(!1),h(!1)}})),style:{backgroundColor:"#2196F3"},className:"btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})})]})})}),j.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Approve Lesson Plan"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>C(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!L||0===L.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Name","Week","Total Hours"],t=L.map(((e,t)=>[t+1,(null==e?void 0:e.teachername)||" ",(null==e?void 0:e.week)||" ",(null==e?void 0:e.time_difference_decimal)||" "])),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Admission Form Data"),mge(s,` Substitution_Weekly_Hours_Report\n${(null==a?void 0:a.label)||"For All Staff"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Substitution Weekly Hours Report  "+((null==a?void 0:a.label)?`List of ${a.label}`:": Complete List of All Staff "),t=`\n  <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Week</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Total Hours</th>\n\n           \n          </tr>\n        </thead>\n        <tbody>\n          ${L.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.teachername)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.week)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.time_difference_decimal)||" "}</td>\n               \n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                @page { margin: 0; }\n        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\n  \n        /* Increase width */\n        #tableMain {\n          width: 100%;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n        }\n  \n        h5 {\n          width: 100%;\n          text-align: center;\n          font-size: 1.5em;\n          font-weight: bold;\n          margin-bottom: 10px;\n        }\n  \n        #tableContainer {\n          width: 100%;\n          display: flex;\n          justify-content: center;\n        }\n  \n        table {\n          width: 80%; /* Increase table width */\n          border-spacing: 0;\n           margin: auto;\n        }\n  \n        th, td {\n          border: 1px solid gray;\n          padding: 12px;\n          text-align: center;\n          font-size: 16px; /* Increase font size */\n        }\n  \n        th {\n          background-color: #f9f9f9;\n          font-size: 1.1em;\n        }\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"w-full md:w-[80%] mx-auto leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Name","Week","Total Hours"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:L.length?null==L?void 0:L.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.teachername)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.week)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.time_difference_decimal)||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})};function EPe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState([]),[s,l]=Q.useState([]),[o,i]=Q.useState([]);Q.useState(!1),Q.useState(!1),Q.useState(null);const[d,c]=Q.useState(""),[u,m]=Q.useState(""),[h,f]=Q.useState([]),[x,g]=Q.useState(""),[b,v]=Q.useState(0),[y,w]=Q.useState(0);Q.useState("");const[j,N]=Q.useState([]),[_,S]=Q.useState(null),[k,C]=Q.useState(null),[E,T]=Q.useState([]),O=Q.useRef(0),D=Q.useRef("");Q.useState(null);const[A,P]=Q.useState(null),[M,L]=Q.useState(!1),I=h.map((e=>({value:e.reg_id,label:e.name})));console.log("teacherOptions",I);const F=t.map((e=>{var t;return{value:e.section_id,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name}  ${e.name}`}})),R=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),r=yield Uf.get(`${e}/api/get_class_section`,{headers:{Authorization:`Bearer ${t}`}});Array.isArray(r.data)?(a(r.data),console.log("the name and section",r.data)):S("Unexpected data format")}catch(t){console.error("Error fetching class and section names:",t),S("Error fetching class and section names")}})),$=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/getClassList`,{headers:{Authorization:`Bearer ${t}`}});Array.isArray(a.data)?(n(a.data),console.log("this is the dropdown of the allot subject tab for class",a.data)):S("Unexpected data format")}catch(t){console.error("Error fetching class names:",t),S("Error fetching class names")}})),B=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${e}/api/get_teacher_list`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});f(a.data),console.log("888888888888888888888888 this is the edit of get_teacher list in the subject allotement tab",a.data)}catch(t){S(t.message)}}));Q.useEffect((()=>{R(),B(),$()}),[]);const z=()=>p(this,null,(function*(){if(d)try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/get_divisions_and_subjects/${d}`,{headers:{Authorization:`Bearer ${t}`}});if(a.data&&a.data.divisions&&a.data.subjects){T(a.data.divisions),i(a.data.subjects),console.log("this is get for api get_divisions_and_subjects ",o);const e=a.data.divisions.map((e=>({section_id:e.section_id,name:e.name,subjects:a.data.subjects})));N(e),console.log("formatted Allotments",e)}else hp.error("Unexpected data format")}catch(t){hp.error("Failed to fetch data for Allot Subjected tab. Please try again.")}}));Q.useEffect((()=>{z()}),[d]),Q.useEffect((()=>{const e=x.trim().toLowerCase();""!==e&&""===D.current&&(O.current=b,v(0)),""===e&&""!==D.current&&v(O.current),D.current=e}),[x]);const U=x.trim().toLowerCase(),H=s.filter((e=>{var t,a,r,n;const s=(null==(a=null==(t=null==e?void 0:e.get_teacher)?void 0:t.name)?void 0:a.toLowerCase())||"",l=(null==(n=null==(r=null==e?void 0:e.get_subject)?void 0:r.name)?void 0:n.toLowerCase())||"";return s.toLowerCase().includes(U)||l.toLowerCase().includes(U)}));Q.useEffect((()=>{w(Math.ceil(H.length/10))}),[H,10]);const W=H.slice(10*b,10*(b+1));return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Subject Allotment"}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white  rounded-md -mt-5",children:oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"mb-4",children:oe.jsx("div",{className:"md:w-[80%] mx-auto",children:oe.jsxs("div",{className:"form-group mt-6 md:mt-16 w-full md:w-[80%] flex justify-start gap-x-1 md:gap-x-6",children:[oe.jsxs("label",{htmlFor:"classSection",className:"w-1/4 pt-2 items-center text-center",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{value:A,onChange:e=>{C(""),P(e),m(e?e.value:null)},options:F,placeholder:"Class",isSearchable:!0,isClearable:!0,className:" text-sm w-full md:w-[60%] item-center relative left-0 md:left-4"}),k&&oe.jsx("div",{className:" relative top-0.5 left-3  ml-1 text-danger text-xs",children:k})," "]}),oe.jsx("button",{onClick:()=>p(this,null,(function*(){if(!M){if(L(!0),!u)return C("Please select the class."),void L(!1);g("");try{console.log("for this section id in searching inside subject allotment",u);const t=localStorage.getItem("authToken");l([]);const a=yield Uf.get(`${e}/api/get_subject_Alloted`,{headers:{Authorization:`Bearer ${t}`},params:{section_id:u}});console.log("The response of the subject allotment is: ",a.data),a.data.length>0?(l(a.data),console.log("Updated subjects data",a.data),w(Math.ceil(a.data.length/10))):(l([]),hp.error("No subjects found for the selected class and division."))}catch(t){console.error("Error fetching subjects:",t),S("Error fetching subjects")}finally{L(!1)}}})),type:"button",className:"btn h-10  w-18 md:w-auto relative  right-0 md:right-[15%] btn-primary",disabled:M,children:M?"Searching...":"Search"})]})})}),s.length>0&&oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Subjects List"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>g(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Teacher"})]})}),oe.jsx("tbody",{children:M?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):W.length?W.map(((e,t)=>{var a,r,n,s;return oe.jsxs("tr",{className:" text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*b+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:`${null==(a=null==e?void 0:e.get_class)?void 0:a.name} ${null==(r=null==e?void 0:e.get_division)?void 0:r.name}`}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(n=null==e?void 0:e.get_subject)?void 0:n.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==(s=null==e?void 0:e.get_teacher)?void 0:s.name})]},null==e?void 0:e.subject_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:y,onPageChange:e=>{v(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]})})]})})}const TPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState(""),[l,o]=Q.useState(""),[i,d]=Q.useState(""),[c,u]=Q.useState([]),[m,h]=Q.useState(""),[f,x]=Q.useState(""),[g,b]=Q.useState(""),[v,y]=Q.useState(""),[w,j]=Q.useState([]);Q.useState([]);const[N,_]=Q.useState({}),[S,k]=Q.useState(null),[C,E]=Q.useState([]),[T,O]=Q.useState(!1),D=sm();Q.useEffect((()=>{A()}),[]);const A=()=>p(e,null,(function*(){var e;r(!0);const a=localStorage.getItem("authToken");a||(hp.error("Token expired. Please login again."),setTimeout((()=>{D("/")}),2e3));try{const r=yield Uf.get(`${t}/api/get_departmentlist`,{headers:{Authorization:`Bearer ${a}`}});Array.isArray(r.data.data)?j(null==(e=null==r?void 0:r.data)?void 0:e.data):s("Unexpected data format")}catch(n){hp.error("Error in fatching Department Data"),console.error("Error fetching class names:",n),s("Error fetching class names")}finally{r(!1)}})),P=[...w.map((e=>({label:e.name,value:e.department_id}))),{label:"Non-teaching Staff",value:"S"}],M=()=>{const e=null==S?void 0:S.value,t=N[e]||[];C.length===t.length?E([]):E(t.map((e=>e.teacher_id)))},L=()=>{o(""),d(""),k(null),E([]),_([]),k([]),u([]),h(""),b(""),y("")},I=(a=!1)=>p(e,null,(function*(){var e,n;let s=!1;if(l.trim()?h(""):(h("Subject is required."),s=!0),i.trim()?b(""):(b("Short SMS description is required."),s=!0),S?x(""):(x("Please select a department."),s=!0),(N[null==S?void 0:S.value]||[]).length>0&&0===C.length?(y("Please select at least one staff member."),s=!0):y(""),!s){r(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const r=a?`${t}/api/save_staffsavenpublishshortsms`:`${t}/api/save_noticeforstaffsms`,n=yield Uf.post(r,{department_id:S.value,subject:l.trim(),notice_desc:i.trim(),teacher_id:C},{headers:{Authorization:`Bearer ${e}`}});200===n.status?(hp.success(n.data.message?n.data.message:a?"SMS saved and published successfully!":"SMS saved successfully!"),L()):hp.error("Unexpected server response.")}catch(o){hp.error((null==(n=null==(e=o.response)?void 0:e.data)?void 0:n.message)||"Error while saving the SMS.")}finally{r(!1)}}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mb-4",children:[oe.jsx("div",{className:"card-header flex justify-between items-center"}),oe.jsx("div",{className:"w-full mx-auto",children:oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Create Short SMS"})}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full ml-2",children:a?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsx("div",{className:"lg:overflow-x-hidden",children:oe.jsxs("div",{className:"card-body w-full ml-2",children:[oe.jsxs("div",{className:"grid grid-cols-[180px_1fr] items-start gap-4 mb-2",children:[oe.jsxs("h5",{className:"text-[1em] text-gray-700",children:["Select Department"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{children:[oe.jsx(Soe,{value:S,onChange:a=>{var r;r=a,p(e,null,(function*(){var e;if(!r)return k(null),_({}),void E([]);const a=r.value;k(r),O(!0),E([]);try{const r=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_teacherlistbydepartment?department_id=${a}`,{headers:{Authorization:`Bearer ${r}`}});(null==(e=n.data)?void 0:e.data)&&_({[a]:n.data.data})}catch(n){hp.error("Failed to fetch teachers"),console.error("Error fetching teachers:",n)}finally{O(!1)}})),a&&x("")},options:P,placeholder:"Select ",isSearchable:!0,isClearable:!0,className:"text-sm w-[40%]"}),f&&oe.jsx("div",{className:"min-h-[1.25rem]",children:oe.jsx("p",{className:"text-red-500 text-sm",children:f})}),!f&&oe.jsx("div",{className:"min-h-[1.25rem]"})]})]}),oe.jsxs("div",{className:"grid grid-cols-[180px_1fr] items-start gap-4 mb-2",children:[oe.jsxs("h5",{className:"text-[1em] text-gray-700",children:["Select Staff Name"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),T?oe.jsx("div",{className:"text-sm text-blue-600",children:"Loading teachers, please wait..."}):S?(()=>{var e,t;const a=N[S.value]||[];return 0===a.length?oe.jsx("div",{className:"text-gray-500 text-sm",children:"No staff found for the selected department."}):oe.jsxs("div",{className:"flex flex-col gap-2",children:[oe.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:a.map((e=>{const t=`teacher-${e.teacher_id}`;return oe.jsxs("div",{className:"flex items-center gap-1 flex-nowrap",style:{minWidth:0},children:[oe.jsx("input",{type:"checkbox",id:t,checked:C.includes(e.teacher_id),onChange:()=>(e=>{let t;t=C.includes(e)?C.filter((t=>t!==e)):[...C,e],E(t),t.length>0&&y("")})(e.teacher_id),className:"cursor-pointer flex-shrink-0"}),oe.jsx("label",{htmlFor:t,className:"text-[.8em] text-gray-900 cursor-pointer select-none whitespace-nowrap overflow-hidden text-ellipsis",style:{minWidth:0},children:e.name})]},e.teacher_id)}))})," ",oe.jsxs("label",{className:"font-medium text-sm cursor-pointer",children:[oe.jsx("input",{type:"checkbox",checked:((null==(e=N[S.value])?void 0:e.length)||0)>0&&C.length===(null==(t=N[S.value])?void 0:t.length),onChange:M,className:"mr-2 cursor-pointer"}),"Select All"]}),v&&oe.jsx("div",{className:"min-h-[1.25rem]",children:oe.jsx("p",{className:"text-red-500 text-sm",children:v})}),!v&&oe.jsx("div",{className:"min-h-[1.25rem]"})]})})():oe.jsx("div",{className:"text-gray-500 text-sm",children:"Please select a department to view available staff."})]}),oe.jsxs("div",{className:"grid grid-cols-[180px_1fr] items-start gap-4 ",children:[oe.jsxs("h5",{className:"text-[1em] text-gray-700",children:["Subject ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex flex-col gap-1",children:[oe.jsx("input",{type:"text",className:"w-[40%] px-2 py-1 border border-gray-700 rounded-md shadow-md",value:l,onChange:e=>{o(e.target.value),e.target.value.trim()&&h("")}}),m&&oe.jsx("div",{className:"min-h-[1.25rem]",children:oe.jsx("p",{className:"text-red-500 text-sm",children:m})}),!m&&oe.jsx("div",{className:"min-h-[1.25rem]"})]})]}),oe.jsxs("div",{className:"grid grid-cols-[180px_1fr] items-start gap-4 mb-3",children:[oe.jsxs("h5",{className:"text-[1em] text-gray-700 mt-4",children:["Description ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("p",{className:"font-light relative top-3",children:"Dear Staff,"}),oe.jsx("textarea",{className:"px-2 border border-gray-700 rounded-md shadow-md",rows:"3",value:i,onChange:e=>{d(e.target.value),e.target.value.trim()&&b("")},onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.selectionStart,a=i.slice(0,t),r=i.slice(t);d(`${a}\n ${r}`),setTimeout((()=>{e.target.selectionStart=e.target.selectionEnd=t+3}),0)}}}),g&&oe.jsx("div",{className:"min-h-[1.25rem]",children:oe.jsx("p",{className:"text-red-500 text-sm",children:g})}),!g&&oe.jsx("div",{className:"min-h-[1.25rem]"})]})]})]})})}),!a&&oe.jsxs("div",{className:"flex space-x-2 justify-end m-4",children:[oe.jsx("button",{onClick:()=>I(!1),className:"btn btn-primary",children:"Save"}),oe.jsx("button",{onClick:()=>I(!0),className:"btn btn-primary",children:"Save & Publish"}),oe.jsx("button",{onClick:L,className:"btn btn-danger bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Reset"})]})]})})})]})]})},OPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState("");Q.useState([]);const[l,o]=Q.useState(""),[i,d]=Q.useState(""),[c,u]=Q.useState([]),[m,h]=Q.useState(""),[f,x]=Q.useState(""),[g,b]=Q.useState(""),v=sm(),[y,w]=Q.useState(""),[j,N]=Q.useState([]),[_,S]=Q.useState([]);Q.useState([]);const[k,C]=Q.useState({}),[E,T]=Q.useState(null),[O,D]=Q.useState([]),[A,P]=Q.useState(!1);Q.useEffect((()=>{M()}),[]);const M=()=>p(e,null,(function*(){var e;r(!0);const a=localStorage.getItem("authToken");a||(hp.error("Token expired. Please login again."),setTimeout((()=>{v("/")}),2e3));try{const r=yield Uf.get(`${t}/api/get_departmentlist`,{headers:{Authorization:`Bearer ${a}`}});Array.isArray(r.data.data)?S(null==(e=null==r?void 0:r.data)?void 0:e.data):s("Unexpected data format")}catch(n){hp.error("Error in fatching Department Data"),console.error("Error fetching class names:",n),s("Error fetching class names")}finally{r(!1)}})),L=[..._.map((e=>({label:e.name,value:e.department_id}))),{label:"Non-teaching Staff",value:"N"}],I=()=>{const e=null==E?void 0:E.value,t=k[e]||[];O.length===t.length?D([]):D(t.map((e=>e.teacher_id)))},F=()=>{o(""),d(""),u([]),N([]),h(""),x(""),b(""),T(null),D([]),C([]),T([])},R=(a=!1)=>p(e,null,(function*(){var e,n;let s=!1;if(l.trim()?h(""):(h("Subject is required."),s=!0),i.trim()?x(""):(x("Notice description is required."),s=!0),E?w(""):(w("Please select a department."),s=!0),(k[null==E?void 0:E.value]||[]).length>0&&0===O.length?(b("Please select at least one staff member."),s=!0):b(""),s)return;const o=new FormData;o.append("department_id",E.value),o.append("subject",l),o.append("notice_desc",i),O.forEach((e=>o.append("teacher_checkboxname[]",e))),j.forEach((e=>o.append("userfile[]",e)));const d=a?"save_staffsavenpublishnotice":"save_staffsavenotice";r(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const r=yield Uf.post(`${t}/api/${d}`,o,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}});200===r.status?(hp.success(r.data.message?r.data.message:a?"Notice saved and published successfully!":"Notice saved successfully!"),F()):hp.error("Unexpected server response.")}catch(c){hp.error((null==(n=null==(e=c.response)?void 0:e.data)?void 0:n.message)||"Error while saving the notice.")}finally{r(!1)}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mb-4",children:[oe.jsx("div",{className:"card-header flex justify-between items-center"}),oe.jsx("div",{className:"w-full mx-auto",children:oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Create Notice"})}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full ml-2",children:a?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsx("div",{className:"lg:overflow-x-hidden",children:oe.jsxs("div",{className:"card-body w-full ml-2",children:[oe.jsxs("div",{className:"grid grid-cols-[180px_1fr] items-start gap-4 mb-2",children:[oe.jsxs("h5",{className:"text-[1em] text-gray-700",children:["Select Department"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{children:[oe.jsx(Soe,{value:E,onChange:a=>{var r;r=a,p(e,null,(function*(){var e;if(!r)return T(null),C({}),void D([]);const a=r.value;T(r),P(!0),D([]);try{const r=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_teacherlistbydepartment?department_id=${a}`,{headers:{Authorization:`Bearer ${r}`}});(null==(e=n.data)?void 0:e.data)&&C({[a]:n.data.data})}catch(n){hp.error("Failed to fetch teachers"),console.error("Error fetching teachers:",n)}finally{P(!1)}})),a&&w("")},options:L,placeholder:"Select ",isSearchable:!0,isClearable:!0,className:"text-sm w-[40%]"}),y&&oe.jsx("div",{className:"min-h-[1.25rem]",children:oe.jsx("p",{className:"text-red-500 text-sm",children:y})}),!y&&oe.jsx("div",{className:"min-h-[1.25rem]"})]})]}),oe.jsxs("div",{className:"grid grid-cols-[180px_1fr] items-start gap-4 mb-2",children:[oe.jsxs("h5",{className:"text-[1em] text-gray-700",children:["Select Staff Name"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),A?oe.jsx("div",{className:"text-sm text-blue-600",children:"Loading teachers, please wait..."}):E?(()=>{var e,t;const a=k[E.value]||[];return 0===a.length?oe.jsx("div",{className:"text-gray-500 text-sm",children:"No staff found for the selected department."}):oe.jsxs("div",{className:"flex flex-col gap-2",children:[oe.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:a.map((e=>{const t=`teacher-${e.teacher_id}`;return oe.jsxs("div",{className:"flex items-center gap-1 flex-nowrap",style:{minWidth:0},children:[oe.jsx("input",{type:"checkbox",id:t,checked:O.includes(e.teacher_id),onChange:()=>(e=>{let t;t=O.includes(e)?O.filter((t=>t!==e)):[...O,e],D(t),t.length>0&&b("")})(e.teacher_id),className:"cursor-pointer flex-shrink-0"}),oe.jsx("label",{htmlFor:t,className:"text-[.8em] text-gray-900 cursor-pointer select-none whitespace-nowrap overflow-hidden text-ellipsis",style:{minWidth:0},children:e.name})]},e.teacher_id)}))})," ",oe.jsxs("label",{className:"font-medium text-sm cursor-pointer",children:[oe.jsx("input",{type:"checkbox",checked:((null==(e=k[E.value])?void 0:e.length)||0)>0&&O.length===(null==(t=k[E.value])?void 0:t.length),onChange:I,className:"mr-2 cursor-pointer"}),"Select All"]}),g&&oe.jsx("div",{className:"min-h-[1.25rem]",children:oe.jsx("p",{className:"text-red-500 text-sm",children:g})}),!g&&oe.jsx("div",{className:"min-h-[1.25rem]"})]})})():oe.jsx("div",{className:"text-gray-500 text-sm",children:"Please select a department to view available staff."})]}),oe.jsxs("div",{className:"grid grid-cols-[180px_1fr] items-start gap-4 ",children:[oe.jsxs("h5",{className:"text-[1em] text-gray-700",children:["Subject ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex flex-col gap-1",children:[oe.jsx("input",{type:"text",className:"w-[40%] px-2 py-1 border border-gray-700 rounded-md shadow-md",value:l,onChange:e=>{o(e.target.value),e.target.value.trim()&&h("")}}),m&&oe.jsx("div",{className:"min-h-[1.25rem]",children:oe.jsx("p",{className:"text-red-500 text-sm",children:m})}),!m&&oe.jsx("div",{className:"min-h-[1.25rem]"})]})]}),oe.jsxs("div",{className:"grid grid-cols-[180px_1fr] items-start gap-4 mb-3",children:[oe.jsxs("h5",{className:"text-[1em] text-gray-700 mt-4",children:["Description ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("p",{className:"font-light relative top-3"}),oe.jsx("textarea",{className:"px-2 border border-gray-700 rounded-md shadow-md",rows:"3",value:i,onChange:e=>{d(e.target.value),e.target.value.trim()&&x("")},onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.selectionStart,a=i.slice(0,t),r=i.slice(t);d(`${a}\n ${r}`),setTimeout((()=>{e.target.selectionStart=e.target.selectionEnd=t+3}),0)}}}),f&&oe.jsx("div",{className:"min-h-[1.25rem]",children:oe.jsx("p",{className:"text-red-500 text-sm",children:f})}),!f&&oe.jsx("div",{className:"min-h-[1.25rem]"})]})]}),oe.jsxs("div",{className:"w-full relative -top-5   flex flex-row justify-start gap-x-4 space-x-2 md:space-x-20 ",children:[oe.jsx("h5",{className:"px-2  lg:px-3 py-2 text-[1em] text-nowrap text-gray-700",children:"Upload Files"}),oe.jsx("input",{className:"mt-3 text-xs ",type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);N((e=>[...e,...t]))}})," ",oe.jsx("span",{className:"relative right-[7%] top-5 text-pink-500 text-[.7em]",children:"(Each file must not exceed a maximum size of 2MB)"})]}),oe.jsx("h5",{className:"relative -top-4 text-[1em] text-gray-700 px-2",children:"Attachment:"}),oe.jsx("div",{className:"  -top-10 w-full md:w-[57%] mx-auto relative right-0 md:left-4",children:oe.jsx("div",{className:" text-xs flex flex-col",children:j.map(((e,t)=>oe.jsxs("div",{className:"flex items-center space-x-2 space-y-3",children:[oe.jsx("span",{className:"bg-gray-100 border-1 p-0.5 shadow-sm",children:e.name}),oe.jsx(sh,{className:"text-xl relative -top-1 w-4 h-4 text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>(e=>{N((t=>t.filter(((t,a)=>a!==e))))})(t)})]},t)))})})]})})}),!a&&oe.jsxs("div",{className:"flex space-x-2 justify-end m-4",children:[oe.jsx("button",{onClick:()=>R(!1),className:"btn btn-primary",children:"Save"}),oe.jsx("button",{onClick:()=>R(!0),className:"btn btn-primary",children:"Save & Publish"}),oe.jsx("button",{onClick:F,className:"btn btn-danger bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Reset"})]})]})})})]})]})};function DPe(){var e;const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState("Manage"),[l,o]=Q.useState([]),[i,d]=Q.useState([]),[c,h]=Q.useState(!1),[f,x]=Q.useState(!1),[g,b]=Q.useState(!1),[v,y]=Q.useState(!1),[w,j]=Q.useState(null),[N,_]=Q.useState(""),[S,k]=Q.useState(""),[C,E]=Q.useState(""),[T,O]=Q.useState(""),[D,A]=Q.useState(""),[P,M]=Q.useState(""),[L,I]=Q.useState(""),[F,R]=Q.useState(0),[$,B]=Q.useState(0),[z,U]=Q.useState(!1);Q.useRef(null);const H=Q.useRef(0),W=Q.useRef(""),Y=sm(),[q,V]=Q.useState(null);Q.useState("All");const[G,K]=Q.useState(""),[X,J]=Q.useState([]),[Z,ee]=Q.useState(""),[te,ae]=Q.useState(""),[re,ne]=Q.useState(""),[se,le]=Q.useState(""),[ie,de]=Q.useState([]);Q.useState([]),Q.useEffect((()=>{ue(),ce()}),[]);const ce=()=>p(this,null,(function*(){try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});Array.isArray(a.data)?(d(a.data),console.log("this is the dropdown of the allot subject tab for class",a.data)):V("Unexpected data format")}catch(e){console.error("Error fetching class names:",e),V("Error fetching class names")}})),ue=()=>p(this,null,(function*(){var e,a,n;if(!z){U(!0),I("");try{r(!0);const s=localStorage.getItem("authToken"),l={};G&&(l.notice_date=G);const o=yield Uf.get(`${t}/api/get_staffnoticelist`,{headers:{Authorization:`Bearer ${s}`},params:l});if((null==(a=null==(e=o.data)?void 0:e.data)?void 0:a.length)>0){const e=(null==(n=o.data[0])?void 0:n.smscount)||{},t=o.data.data.map((t=>{const a=e[t.unq_id]||0;return m(u({},t),{showSendButton:"Y"===t.publish&&a>0,count:a})}));J(t),B(Math.ceil(t.length/10))}else J([]),hp.error("No notices found for the selected criteria.")}catch(s){console.error("Error fetching SMS notices:",s),hp.error("Error fetching SMS notices. Please try again.")}finally{U(!1),r(!1)}}})),me=e=>p(this,null,(function*(){const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");try{const r=yield Uf.get(`${t}/api/get_staffnoticedata/${null==e?void 0:e.unq_id}`,{headers:{Authorization:`Bearer ${a}`}}),{imageurl:n}=r.data.data;console.log("imageURL",n),de(n)}catch(r){console.error("Error fetching notice data:",r)}}));ie&&ie.length>0&&ie.map(((e,t)=>{const a=e.substring(e.lastIndexOf("/")+1);return oe.jsxs("div",{className:"flex flex-row text-[.6em] items-center gap-x-2",children:[oe.jsx("span",{children:a}),oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>he(e,a),children:oe.jsx(pie,{})})]},t)}));const he=(e,t)=>{const a=`${e}`,r=document.createElement("a");r.href=a,r.target="none",r.download=t||"downloaded_file.pdf",document.body.appendChild(r),r.click(),document.body.removeChild(r)},[fe,pe]=Q.useState([]),xe=e=>p(this,null,(function*(){if(j(e),ee((null==e?void 0:e.subject)||""),ae((null==e?void 0:e.notice_desc)||""),O((null==e?void 0:e.teacher_names)||""),console.log("enter notice",e),"Notice"===(null==e?void 0:e.notice_type)){console.log("enter notice--\x3estart");try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found");const r=yield Uf.get(`${t}/api/get_staffnoticedata/${e.unq_id}`,{headers:{Authorization:`Bearer ${a}`}});if(console.log("responsedata of notice edit",r),r.data.success){const e=r.data.data.noticedata,t=r.data.data.imageurl||[];ee(e.subject||""),ae(e.notice_desc||""),O(e.teacher_names||""),pe(t)}}catch(a){console.error("Error fetching notice data:",a),hp.error("Failed to fetch notice data.")}}else pe([]);b(!0)})),ge=()=>{ee(""),ae(""),O(""),pe([]),we([]),x(!1),h(!1),b(!1),y(!1)};Q.useEffect((()=>{const e=L.trim().toLowerCase();""!==e&&""===W.current&&(H.current=F,R(0)),""===e&&""!==W.current&&R(H.current),W.current=e}),[L]);const be=L.toLowerCase(),ve=X.filter((e=>{var t,a,r,n,s;const l=(null==(t=null==e?void 0:e.subject)?void 0:t.toLowerCase())||"",o=(null==(a=null==e?void 0:e.dept_name)?void 0:a.toLowerCase())||"",i=(null==(r=null==e?void 0:e.notice_type)?void 0:r.toLowerCase())||"",d=(null==(n=null==e?void 0:e.notice_date)?void 0:n.toLowerCase())||"",c=(null==(s=null==e?void 0:e.name)?void 0:s.toLowerCase())||"";return l.includes(be)||o.includes(be)||i.includes(be)||d.includes(be)||c.includes(be)})).slice(10*F,10*(F+1)),[ye,we]=Q.useState([]),je=e=>{const t=Array.from(e.target.files);we([...ye,...t])};console.log("handleFileUpload",je);const Ne=e=>p(this,null,(function*(){try{const a=localStorage.getItem("authToken");if(!a)return void hp.error("Authentication token not found. Please log in again.");const r=yield Uf.post(`${t}/api/save_sendsms/${e}`,{},{headers:{Authorization:`Bearer ${a}`}});200===r.status&&r.data.success?(hp.success(`SMS sent successfully for Unique ID: ${e}`),ue()):hp.error("Failed to send SMS. Please try again.")}catch(a){console.error("Error sending SMS:",a),hp.error("An error occurred while sending SMS. Please try again.")}}));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Notice/SMS For Staff"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{Y("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row -top-4",children:[{id:"Manage",label:"Manage"},{id:"CreateShortSMS",label:"Create Short SMS"},{id:"CreateNotice",label:"Create Notice"}].map((({id:e,label:t})=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(n===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>{return"Manage"===(t=e)&&ue(),void s(t);var t},className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap","aria-current":n===e?"page":void 0,children:t})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===n&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"mb-4",children:[oe.jsxs("div",{className:"w-full  md:w-[78%] mt-8  gap-x-0 md:gap-x-12 mx-auto   flex flex-col gap-y-2 md:gap-y-0 md:flex-row  ",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-md mt-1.5 mr-1 md:mr-0 w-[40%] md:w-[29%]",htmlFor:"classSelect",children:"Select Date"})," ",oe.jsx("div",{className:"w-full md:w-[60%]",children:oe.jsx("input",{type:"date",id:"date",className:"border border-gray-300 rounded-md py-2 px-3 w-full focus:outline-none focus:ring focus:ring-indigo-200",value:G,onChange:e=>K(e.target.value)})})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{onClick:ue,type:"button",disabled:z,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:z?"Searching...":"Search"})})]})," "]}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:["Manage Notice/SMS"," "]}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>I(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject"})," ",oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Department"})," ",oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Type"})," ",oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Notice Date"})," ",oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Created by"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit/View"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Publish"})]})}),oe.jsx("tbody",{children:a?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):ve.length?ve.map(((e,t)=>oe.jsxs("tr",{className:"text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*F+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.subject}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.dept_name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.notice_type}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.notice_date}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.name}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:"Y"===e.publish?oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>{return t=e,console.log("view data",t),j(t),O(null==t?void 0:t.teacher_names),k(null==t?void 0:t.notice_date),E(null==t?void 0:t.subject),M(null==t?void 0:t.notice_desc),A(null==(a=null==t?void 0:t.get_teacher)?void 0:a.teacher_id),h(!0),void("Notice"===t.notice_type?me(t):de([]));var t,a},children:oe.jsx(kg,{className:"font-bold text-xl"})}):oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>xe(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"N"===e.publish?oe.jsx("button",{onClick:()=>(e=>{var t;console.log("inside delete of subjectallotmenbt____",e),console.log("inside delete of subjectallotmenbt",l);const a=X.find((t=>t.unq_id===e));j({classToDelete:a}),console.log("the currecne t section",w),_(null==(t=null==w?void 0:w.classToDelete)?void 0:t.notice_type),console.log("currestSubjectNameForDelete-----\x3e",N),y(!0)})(null==e?void 0:e.unq_id),className:"text-red-600 hover:text-red-800 hover:bg-transparent ",children:oe.jsx(zM,{icon:VM})}):" "}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:[e.showSendButton?oe.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[oe.jsx("span",{className:"text-nowrap text-red-600 font-bold",children:`${e.count}`}),oe.jsx("span",{className:"text-bule-600 text-nowrap font-medium ",children:"SMS Pending"}),oe.jsxs("button",{className:" flex felx-row items-center justify-center p-2 gap-x-1 bg-blue-500 text-nowrap hover:bg-blue-600 text-white font-medium rounded-md",onClick:()=>Ne(e.unq_id),children:["Send ",oe.jsx(Rj,{})]})]}):" ","N"===e.publish?oe.jsx("button",{onClick:()=>{return j(t=e),console.log("fdsfsdsd handleEdit",t),void x(!0);var t},className:"text-green-500 hover:text-green-700 hover:bg-transparent",children:oe.jsx(Vm,{icon:VM})}):" "]})]},e.notice_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:$,onPageChange:e=>{R(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"CreateShortSMS"===n&&oe.jsx("div",{children:oe.jsx(TPe,{})}),"CreateNotice"===n&&oe.jsxs("div",{children:[oe.jsx(OPe,{})," "]})]})]}),g&&oe.jsx("div",{className:"  fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:" modal show",style:{display:"block"},children:oe.jsx("div",{className:" modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:" modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Notice/SMS"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ge})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"className",className:"w-1/2 mt-2",children:"Staff Name"}),oe.jsx("div",{className:" text-xs input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner break-words",style:{maxWidth:"262px",height:"auto",wordWrap:"break-word"},children:T})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"subject",className:"w-1/2 mt-2",children:"Subject:"}),oe.jsx("input",{id:"subject",type:"text",maxLength:100,className:"form-control shadow-md mb-2 w-full",value:Z,onChange:e=>ee(e.target.value)}),re&&oe.jsx("p",{className:"text-red-500 text-sm h-3",children:re})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"noticeDesc",className:"w-1/2 mt-2",children:"Description:"}),oe.jsx("textarea",{id:"noticeDesc",rows:"2",maxLength:1e3,className:"form-control shadow-md mb-2 w-full",value:te,onChange:e=>ae(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.selectionStart,a=te.slice(0,t),r=te.slice(t);ae(`${a}\n ${r}`),setTimeout((()=>{e.target.selectionStart=e.target.selectionEnd=t+3}),0)}}}),se&&oe.jsx("p",{className:"h-3 relative -top-3 text-red-500 text-sm mt-2",children:se})]}),"Notice"===(null==w?void 0:w.notice_type)&&oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"   relative -top-5 w-full  flex flex-row justify-between gap-x-2 ",children:[oe.jsx("label",{className:"px-2 mt-2 lg:px-3 py-2 ",children:"Upload Files"}),oe.jsx("input",{className:"mt-3 relative right-0 md:right-[11%] text-xs bg-gray-50 ",type:"file",multiple:!0,onChange:je})]}),oe.jsx("label",{className:"px-2 block  mb-2",children:"Attachment:"}),oe.jsxs("div",{className:"",children:[ye.map(((e,t)=>oe.jsxs("div",{className:" w-full flex items-center gap-x-2",children:[oe.jsx("span",{className:"bg-gray-100 border-1 text-[.8em] p-0.5 shadow-sm",children:e.name}),oe.jsx("div",{children:oe.jsx(sh,{className:"text-xl relative  w-4 h-4 text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>(e=>{const t=ye.filter(((t,a)=>a!==e));we(t)})(t)})})]},t))),oe.jsx("div",{children:fe.map(((e,t)=>{const a=e.substring(e.lastIndexOf("/")+1);return oe.jsxs("div",{className:"flex items-center gap-x-2",children:[oe.jsx("span",{className:"bg-gray-100 border-1 p-0.5 text-[.8em] shadow-sm",children:a}),oe.jsx(sh,{className:" text-xl relative - w-4 h-4 text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>(e=>{const t=fe.filter(((t,a)=>a!==e));pe(t)})(t)})]},t)}))})]})]})})]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(z)return;U(!0);let e=!1;if(Z.trim()?ne(""):(ne("Subject is required."),e=!0),te.trim()?le(""):(le("Notice description is required."),e=!0),e)U(!1);else try{const e=localStorage.getItem("authToken");if(!e)throw new Error("Authentication token is missing");const a=new FormData;a.append("subject",Z),a.append("notice_desc",te),ye.forEach((e=>a.append("userfile[]",e))),console.log("filenottobedeleted[]",fe),fe.forEach((e=>{const t=e.split("/").pop();a.append("filenottobedeleted[]",t)})),console.log("Formatted data of the edit SMS part",a),console.log("Selected files",ye),console.log("formated data of the edit sms part",a),console.log("seletd files",ye);const r=yield Uf.post(`${t}/api/update_staffsmsnotice/${null==w?void 0:w.unq_id}`,a,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"},withCredentials:!0});hp.success(`${r.data.message} `||"Notice updated successfully!"),ue(),ge()}catch(a){hp.error(`Error In updating ${N}: ${a.response.data.message}`),console.error(a)}finally{U(!1)}})),disabled:z,children:z?"Updating...":"Update"})})]})})})}),c&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"View Notice/SMS"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ge})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsxs("label",{htmlFor:"newSectionName",className:"w-1/2 mt-2",children:["Staff Name:"," "]}),oe.jsx("div",{className:" text-xs input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner break-words",style:{maxWidth:"262px",height:"auto",wordWrap:"break-word"},children:T})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsxs("label",{htmlFor:"newSectionName",className:"w-1/2 mt-2",children:["Notice Date:"," "]}),oe.jsx("span",{className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner",children:S})]}),oe.jsxs("div",{className:"mb-3 relative flex justify-start mx-4 gap-x-7",children:[oe.jsxs("label",{htmlFor:"newSectionName",className:"w-1/2 mt-2",children:["Subject:"," "]}),oe.jsx("span",{className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner",children:C})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"noticeDesc",className:"w-1/2 mt-2",children:"Description:"}),oe.jsx("textarea",{id:"noticeDesc",rows:"2",maxLength:1e3,readOnly:!0,className:"input-field block border w-full border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner",value:P})]}),ie&&ie.length>0&&oe.jsxs("div",{className:"w-full  flex flex-row",children:[oe.jsx("label",{className:" px-4 mb-2 ",children:"Attachments:"}),oe.jsx("div",{className:"relative mt-2 flex flex-col mx-4 gap-y-2",children:ie.map(((e,t)=>{const a=e.substring(e.lastIndexOf("/")+1);return oe.jsxs("div",{className:" font-semibold flex flex-row text-[.58em]  items-center gap-x-2",children:[oe.jsx("span",{className:" ",children:a}),oe.jsx("button",{className:" text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>he(e,a),children:oe.jsx(pie,{className:"font-2xl w-3 h-3"})})]},t)}))})]})]})]})})})}),v&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ge}),console.log("the currecnt section inside delete of the managesubjhect",w)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete this"," ",` ${null==(e=null==w?void 0:w.classToDelete)?void 0:e.notice_type} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var e,a,r;if(!z){U(!0);try{const n=localStorage.getItem("authToken");if(console.log("the currecnt section inside the delte___",null==(e=null==w?void 0:w.classToDelete)?void 0:e.subject_id),console.log("the classes inside the delete",l),console.log("the current section insde the handlesbmitdelete",w.classToDelete),!n||!w||!(null==(a=null==w?void 0:w.classToDelete)?void 0:a.unq_id))throw new Error("Unique ID is missing");const s=yield Uf.delete(`${t}/api/delete_staffshortsmsnotice/${null==(r=null==w?void 0:w.classToDelete)?void 0:r.unq_id}`,{headers:{Authorization:`Bearer ${n}`},withCredentials:!0});ue(),y(!1),hp.success(s.data.message||`${N} deleted successfully!`)}catch(n){n.response&&n.response.data?hp.error(`Error In Deleting ${N}: ${n.response.data.message}`):hp.error(`Error In Deleting ${N}: ${n.message}`),console.error("Error In Deleting:",n)}finally{U(!1),y(!1)}}})),disabled:z,children:z?"Deleting...":"Delete"})})]})})})}),f&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Publish"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ge}),console.log("the currecnt section inside delete of the managesubjhect",w)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to Publish this"," ",` ${null==w?void 0:w.notice_type} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){var e;if(!z){U(!0);try{const a=localStorage.getItem("authToken");if(console.log("the currecnt section inside the delte___",null==(e=null==w?void 0:w.classToDelete)?void 0:e.subject_id),console.log("the classes inside the delete",l),console.log("the current section insde the handlesbmitdelete",w.classToDelete),!a||!w||!(null==w?void 0:w.unq_id))throw new Error("Unique ID is missing");const r=yield Uf.put(`${t}/api/update_staffnoticesmspublish/${null==w?void 0:w.unq_id}`,{},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});yield ue(),hp.success(r.data.message||`${N} published successfully!`)}catch(a){a.response&&a.response.data?hp.error(`Error In Publishing ${N}: ${a.response.data.message}`):hp.error(`Error In Publishing ${N}: ${a.message}`),console.error("Error In Publishing:",a)}finally{x(!1),U(!1)}}})),disabled:z,children:z?"Publishing...":"Publish"})})]})})})})]})}const APe=()=>{Q.useState(null);const[t,a]=Q.useState(0),[r,n]=Q.useState(!1);sm();const[s,l]=Q.useState(!1),[o,i]=Q.useState([]),[d,c]=Q.useState(0),[u,m]=Q.useState("");Q.useEffect((()=>{h()}),[]);const h=()=>p(e,null,(function*(){var e,t,a,r;n(!1),m("");try{n(!0),i([]);const s=localStorage.getItem("authToken"),l=yield Uf.get("https://sms.evolvu.in/public/api/get_duplicatepaymentreportFinance",{headers:{Authorization:`Bearer ${s}`}});console.log("Duplicate Payment Report",l),(null==(e=null==l?void 0:l.data)?void 0:e.data)?(i(null==(t=null==l?void 0:l.data)?void 0:t.data),c(Math.ceil((null==(r=null==(a=null==l?void 0:l.data)?void 0:a.data)?void 0:r.length)/10))):(hp.error("Duplicate Payment Report data not found."),i([]))}catch(s){console.error("Error fetching Duplicate Payment Report",s),hp.error("Error fetching Duplicate Payment Report. Please try again.")}finally{l(!1),n(!1)}}));console.log("row",o);const f=o.filter((e=>{const t=u.trim().replace(/\s+/g," ").toLowerCase(),a=e=>(null==e?void 0:e.toString().trim().replace(/\s+/g," ").toLowerCase())||"",r=a(null==e?void 0:e.student_name),n=a(null==e?void 0:e.payment_date),s=a(null==e?void 0:e.class),l=a(null==e?void 0:e.amount),o=a(null==e?void 0:e.installment),i=a(null==e?void 0:e.receipt_no);return r.includes(t)||n.includes(t)||s.includes(t)||l.includes(t)||o.includes(t)||i.includes(t)})).slice(10*t);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"card rounded-md ",children:r?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):o.length>0?oe.jsx("div",{className:"w-full",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Duplicate Payment Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>m(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!f||0===f.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Student Name","Payment Date","Class","Installment","Installment Amount","Receipt No."],t=f.map(((e,t)=>[t+1,(null==e?void 0:e.student_name)||" ",(null==e?void 0:e.payment_date)||" ",(null==e?void 0:e.class)||" ",e.installment,(null==e?void 0:e.amount)||" ",(null==e?void 0:e.receipt_no)||" "])),a=_ge.aoa_to_sheet([e,...t]),r=e.map((()=>({wch:20})));a["!cols"]=r;const n=_ge.book_new();_ge.book_append_sheet(n,a,"Duplicate Payment Report"),mge(n,"Duplicate_Payment_Report.xlsx")},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600 text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Duplicate Payment Report",t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n      <h5 id="tableHeading5" class="text-lg font-semibold border-1 border-black">${e}</h5>\n      <div id="tableHeading" class="text-center w-3/4">\n        <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n          <thead>\n            <tr class="bg-gray-100">\n              <th class="px-2 py-2 border border-black">Sr.No</th>\n              <th class="px-2 py-2 border border-black">Student Name</th>\n              <th class="px-2 py-2 border border-black">Payment Date</th>\n              <th class="px-2 py-2 border border-black">Class</th>\n              <th class="px-2 py-2 border border-black">Installment</th>\n              <th class="px-2 py-2 border border-black">Installment Amount</th>\n              <th class="px-2 py-2 border border-black">Receipt No.</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${f.map(((e,t)=>`\n                <tr>\n                  <td class="border border-black">${t+1}</td>\n                  <td class="border border-black">${(null==e?void 0:e.student_name)||""}</td>\n                  <td class="border border-black">${null==e?void 0:e.payment_date}</td>\n                  <td class="border border-black">${null==e?void 0:e.class}</td>\n                  <td class="border border-black"> ${e.installment}</td>\n                  <td class="border border-black">${(null==e?void 0:e.amount)||""}</td>\n                  <td class="border border-black">${(null==e?void 0:e.receipt_no)||""}</td>\n                \n               \n                </tr>`)).join("")}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  `,a=window.open("","_blank","width=800,height=1000");a.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                   @page {\n                size: A4 landscape; /* Wider format for better fit */\n                margin: 10px;\n            }\n\n                      body {\n                font-family: Arial, sans-serif;\n                margin: 0;\n                padding: 0;\n                box-sizing: border-box;\n            }\n\n                       /* Scrollable container */\n            #printContainer {\n                width: 100%;\n                overflow-x: auto;  /* Enables horizontal scrolling */\n                white-space: nowrap; /* Prevents text wrapping */\n            }\n\n                      #tableMain {\n                width: 90%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: flex-start;\n                padding: 0 10px;\n            }\n\n                       table {\n                border-spacing: 0;\n                width: 100%;\n                min-width: 1200px; /* Ensures table doesn't shrink */\n                margin: auto;\n                table-layout: fixed; /* Ensures even column spacing */\n            }\n\n                      th, td {\n                border: 1px solid gray;\n                padding: 8px;\n                text-align: center;\n                font-size: 12px;\n                word-wrap: break-word; /* Ensures text breaks properly */\n            }\n\n            th {\n                font-size: 0.8em;\n                background-color: #f9f9f9;\n            }\n\n\n           /* Ensure scrolling is available in print mode */\n            @media print {\n                #printContainer {\n                    overflow-x: auto;\n                    display: block;\n                    width: 100%;\n                    height: auto;\n                }\n             table {\n                    min-width: 100%;\n                }\n}\n\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),a.document.close(),a.onload=function(){a.focus(),a.print(),a.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600 text-white text-[.7em] rounded-md py-1 px-2",children:"Print"})]})]})]}),oe.jsx("div",{className:"relative w-[97%] mb-3 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-[550px] lg:h-[550px] overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full w-[1500px] leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"w-12 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr No."}),oe.jsx("th",{className:"w-44 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"w-28 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Payment Date"}),oe.jsx("th",{className:"w-28 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"w-20 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Installment"}),oe.jsx("th",{className:"w-24 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Installment Amount"}),oe.jsx("th",{className:"w-36 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Receipt No."})]})}),oe.jsx("tbody",{children:f.length>0?f.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.student_name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==e?void 0:e.payment_date}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==e?void 0:e.class}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==e?void 0:e.installment}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:(null==e?void 0:e.amount)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.receipt_no)||" "})]},e.adm_form_pk))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"7",className:"text-center text-red-700 py-6 text-lg",children:"Oops! No data found.."})})})]})})})]})}):oe.jsx("div",{className:"flex justify-center items-center h-48",children:oe.jsx("div",{className:"text-red-700 text-2xl font-semibold",children:"Oops! No data found.."})})})]})})},PPe=()=>{Q.useState(null);const[t,a]=Q.useState(0),[r,n]=Q.useState(!1);sm();const[s,l]=Q.useState(!1),[o,i]=Q.useState([]),[d,c]=Q.useState(0),[u,m]=Q.useState("");Q.useEffect((()=>{h()}),[]);const h=()=>p(e,null,(function*(){var e,t,a,r,s;n(!1),m("");try{n(!0),i([]);const l=localStorage.getItem("authToken"),o=yield Uf.get("https://sms.evolvu.in/public/api/get_discrepancy_in_WL_payment_report",{headers:{Authorization:`Bearer ${l}`}});console.log("Discrepancy in worldline payment report",o),(null==(e=null==o?void 0:o.data)?void 0:e.data)&&0!==(null==(t=null==o?void 0:o.data)?void 0:t.length)?(i(null==(a=null==o?void 0:o.data)?void 0:a.data),c(Math.ceil((null==(s=null==(r=null==o?void 0:o.data)?void 0:r.data)?void 0:s.length)/10))):(hp.error("Discrepancy in worldline payment report data not found."),i([]))}catch(o){console.error("Error fetching Discrepancy in worldline payment report:",o),hp.error("Error fetching Discrepancy in worldline payment report. Please try again.")}finally{l(!1),n(!1)}}));console.log("row",o);const f=o.filter((e=>{const t=u.toLowerCase(),a=(e.student_name||"").toLowerCase(),r=(e=>{if(!e)return"";const[t,a,r]=e.split(" ")[0].split("-");return`${r}/${a}/${t}`})(e.Trnx_date).toLowerCase(),n=(e.class_name||"").toLowerCase(),s=(e.installment_no||"").toLowerCase(),l=(e.Amount||"").toString().toLowerCase(),o=(e.WL_Amount||"").toString().toLowerCase(),i=(e.receipt_nos||"").toLowerCase();return a.includes(t)||r.includes(t)||n.includes(t)||s.includes(t)||l.includes(t)||o.includes(t)||i.includes(t)})),x=f.slice(10*t);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 mt-4",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"card rounded-md ",children:r?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):o.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Discrepancy in Worldline Payment Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>m(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!x||0===x.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Student Name","Payment Date","Class","Installment","Payment Amount","Worldline Amount","Receipt No."],t=x.map(((e,t)=>[t+1,(null==e?void 0:e.student_name)||" ",(null==e?void 0:e.Trnx_date)?new Date(e.Trnx_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g," "):" ",(null==e?void 0:e.class_name)||" ",(null==e?void 0:e.installment_no)||" ",(null==e?void 0:e.Amount)||" ",(null==e?void 0:e.WL_Amount)||" ",(null==e?void 0:e.receipt_nos)||" "])),a=_ge.aoa_to_sheet([e,...t]),r=e.map((()=>({wch:20})));a["!cols"]=r;const n=_ge.book_new();_ge.book_append_sheet(n,a,"Admission Form Data"),mge(n,"Discrepancy_worldline_Payment_Report.xlsx")},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Discrepancy Worldline Payment Report",t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n      <h5 id="tableHeading5" class="text-lg font-semibold border-1 border-black">${e}</h5>\n      <div id="tableHeading" class="text-center w-3/4">\n        <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n          <thead>\n            <tr class="bg-gray-100">\n              <th class="px-2 py-2 border border-black">Sr.No</th>\n              <th class="px-2 py-2 border border-black">Student Name</th>\n              <th class="px-2 py-2 border border-black">Payment Date</th>\n              <th class="px-2 py-2 border border-black">Class</th>\n              <th class="px-2 py-2 border border-black">Installment</th>\n              <th class="px-2 py-2 border border-black">Payment Amount</th>\n              <th class="px-2 py-2 border border-black">Worldline Amount</th>\n              <th class="px-2 py-2 border border-black">Receipt No.</th>\n            </tr>\n          </thead>\n          <tbody>\n          ${x.map(((e,t)=>`\n                <tr class="border border-gray-300 text-center">\n                  <td class="px-2 py-2 border border-gray-300">${t+1}</td>\n                  <td class="px-2 py-2 border border-gray-300">${(null==e?void 0:e.student_name)||" "}</td>\n                  <td class="px-2 py-2 border border-gray-300">${(null==e?void 0:e.Trnx_date)?new Date(e.Trnx_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g," "):" "}</td>\n                  <td class="px-2 py-2 border border-gray-300">${(null==e?void 0:e.class_name)||" "}</td>\n                  <td class="px-2 py-2 border border-gray-300">${(null==e?void 0:e.installment_no)||" "}</td>\n                  <td class="px-2 py-2 border border-gray-300">${(null==e?void 0:e.Amount)||" "}</td>\n                  <td class="px-2 py-2 border border-gray-300">${(null==e?void 0:e.WL_Amount)||" "}</td>\n                  <td class="px-2 py-2 border border-gray-300">${(null==e?void 0:e.receipt_nos)||" "}</td>\n                </tr>\n              `)).join("")}\n          \n          </tbody>\n        </table>\n      </div>\n    </div>\n  `,a=window.open("","_blank","width=1000,height=1000");a.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                   @page {\n                size: A4 landscape; /* Wider format for better fit */\n                margin: 10px;\n            }\n\n                      body {\n                font-family: Arial, sans-serif;\n                margin: 0;\n                padding: 0;\n                box-sizing: border-box;\n            }\n\n                       /* Scrollable container */\n            #printContainer {\n                width: 100%;\n                overflow-x: auto;  /* Enables horizontal scrolling */\n                white-space: nowrap; /* Prevents text wrapping */\n            }\n\n                      #tableMain {\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: flex-start;\n                padding: 0 10px;\n            }\n\n                       table {\n                border-spacing: 0;\n                width: 100%;\n                min-width: 1200px; /* Ensures table doesn't shrink */\n                margin: auto;\n                table-layout: fixed; /* Ensures even column spacing */\n            }\n\n                      th, td {\n                border: 1px solid gray;\n                padding: 8px;\n                text-align: center;\n                font-size: 12px;\n                word-wrap: break-word; /* Ensures text breaks properly */\n            }\n\n            th {\n                font-size: 0.8em;\n                background-color: #f9f9f9;\n            }\n\n\n           /* Ensure scrolling is available in print mode */\n            @media print {\n                #printContainer {\n                    overflow-x: auto;\n                    display: block;\n                    width: 100%;\n                    height: auto;\n                }\n             table {\n                    min-width: 100%;\n                }\n}\n\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),a.document.close(),a.onload=function(){a.focus(),a.print(),a.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-[550px] lg:h-[550px] overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full w-[1500px] leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"w-12 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr No."}),oe.jsx("th",{className:"w-44 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"w-28 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Payment Date"}),oe.jsx("th",{className:"w-28 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"w-20 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Installment"}),oe.jsx("th",{className:"w-24 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Payment Amount"}),oe.jsx("th",{className:"w-24 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Worldline Amount"}),oe.jsx("th",{className:"w-36 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Receipt No."})]})}),oe.jsx("tbody",{children:x.length?null==x?void 0:x.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.student_name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.Trnx_date)?new Date(e.Trnx_date).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-"):" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.class_name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.installment_no)||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:(null==e?void 0:e.Amount)||" "}),oe.jsx("td",{className:"px-2 py-2 text-nowrap text-center border border-gray-300",children:(null==e?void 0:e.WL_Amount)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.receipt_nos)||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})})]})})},MPe=()=>{const t=rm(),a="https://sms.evolvu.in/public",[r,n]=Q.useState(!1),{staffleave:s}=t.state||{};console.log("staff leave for editing",s);const[l,o]=Q.useState({staff_name:"",staff_id:"",leave_type_id:"",leave_start_date:"",leave_end_date:"",status:"",no_of_days:"",reason:"",reason_for_rejection:""});Q.useEffect((()=>{s&&(o({staff_name:s.teachername||"",staff_id:s.staff_id||"",leave_type_id:s.leave_type_id||"",leave_start_date:s.leave_start_date||"",leave_end_date:s.leave_end_date||"",status:s.status||"",no_of_days:s.no_of_days||"",reason:s.reason||"",reason_for_rejection:s.reason_for_rejection||""}),s.staff_id&&x(s.staff_id))}),[s,a]);const[i,d]=Q.useState({}),[c,u]=Q.useState([]),[m,h]=Q.useState(null),f=sm();(new Date).toISOString().split("T")[0];const x=t=>p(e,null,(function*(){n(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No Authentication token found.");const r=yield Uf.get(`${a}/api/get_leavetypedata/${t}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});Array.isArray(r.data.data)?u(r.data.data):h("Unexpected data format.")}catch(e){h(e.message),hp.error("Error fetching leave type")}finally{n(!1)}}));return oe.jsxs("div",{className:"container mx-auto mt-4 flex items-center justify-center  ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-[80%]",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"View Leave Application For Staff"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{d({}),f("/leaveApplicationP")}})]}),oe.jsx("div",{className:" relative w-full -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("form",{className:"flex items-center justify-center overflow-x-hidden shadow-md p-3 bg-gray-50 space-y-2",children:oe.jsxs("div",{className:"modal-body grid grid-cols-3 gap-4 px-4",children:[oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"staff_name",className:"mb-1",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"staff_name",name:"staff_name",pattern:"^[^\\d].*",title:"Name should not start with a number",required:!0,value:l.staff_name,disabled:!0,className:"form-control shadow-md bg-gray-200"}),i.staff_name&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.staff_name})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"leave_type",className:"mb-1",children:["Leave Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"leave_type",name:"leave_type",value:l.leave_type_id,disabled:!0,required:!0,className:"form-control shadow-md bg-gray-200",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select Leave"}),0===c.length?oe.jsx("option",{children:"No Options"}):c.map((e=>oe.jsx("option",{value:e.leave_type_id,children:e.name},e.leave_type_id)))]}),i.leave_type_id&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.leave_type_id})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"leave_start_date",className:"mb-1",children:["Leave Start Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"leave_start_date",name:"leave_start_date",value:l.leave_start_date,disabled:!0,max:l.leave_end_date||"",required:!0,className:"form-control shadow-md bg-gray-200"}),i.leave_start_date&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.leave_start_date})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"leave_end_date",className:"mb-1",children:["Leave End Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"leave_end_date",name:"leave_end_date",value:l.leave_end_date,disabled:!0,min:l.leave_start_date||"",required:!0,className:"form-control shadow-md bg-gray-200"}),i.leave_end_date&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.leave_end_date})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"no_of_days",className:"mb-1",children:["No. of Days ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",id:"no_of_days",name:"no_of_days",value:l.no_of_days,step:"0.5",min:"0.5",disabled:!0,className:"form-control shadow-md bg-gray-200"}),i.no_of_days&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.no_of_days})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"status",className:"mb-1",children:["Status ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"status",name:"status",value:{R:"Rejected",A:"Applied",H:"Hold",C:"Canceled",P:"Approved"}[l.status]||"",readOnly:!0,disabled:!0,className:" bg-gray-200 p-2 rounded-md shadow-inner"})]}),oe.jsxs("div",{className:"col-span-3 grid grid-cols-2 gap-4",children:[oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{htmlFor:"reason",className:"mb-1",children:"Reason"}),oe.jsx("textarea",{id:"reason",name:"reason",value:l.reason,readOnly:!0,rows:"2",disabled:!0,className:" bg-gray-200 p-2 rounded-md shadow-inner"})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{htmlFor:"reason_for_rejection",className:"mb-1",children:"Approver's Comment"}),oe.jsx("textarea",{id:"reason_for_rejection",name:"reason_for_rejection",value:l.reason_for_rejection,readOnly:!0,rows:"2",disabled:!0,className:" bg-gray-200 p-2 rounded-md shadow-inner"})]})]})]})})]})]})};function LPe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[u,m]=Q.useState(!1),h=Q.useRef(0),f=Q.useRef(""),[x,g]=Q.useState(null),[b,v]=Q.useState(null),[y,w]=Q.useState(""),[j,N]=Q.useState(0),[_,S]=Q.useState(0),k=sm(),C={R:"Rejected",A:"Applied",H:"Hold",C:"Cancelled",P:"Approved"};Q.useEffect((()=>{E()}),[]);const E=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/get_leaveapplicationdata`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a(r.data.data),S(Math.ceil(r.data.data.length/10))}catch(t){l(t.message)}finally{n(!1)}}));console.log("the response of the stafflist",t);const T=()=>{c(!1),i(!1),g(null)},O=e=>p(this,null,(function*(){console.log("handleview is running on"),k(`/leaveApplicationP/view/${e.leave_app_id}`,{state:{staffleave:e}})})),D=e=>{if(!e)return"-";const t=new Date(e);return`${String(t.getDate()).padStart(2,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getFullYear()).slice(-2)}`};Q.useEffect((()=>{const e=y.trim().toLowerCase();""!==e&&""===f.current&&(h.current=j,N(0)),""===e&&""!==f.current&&N(h.current),f.current=e}),[y]);const A=Array.isArray(t)?t.filter((e=>{const t=String(y).trim().toLowerCase(),a=C[null==e?void 0:e.status]||"";return String((null==e?void 0:e.teachername)||"").toLowerCase().includes(t)||D((null==e?void 0:e.leave_start_date)||"").toLowerCase().includes(t)||D((null==e?void 0:e.leave_end_date)||"").toLowerCase().includes(t)||String((null==e?void 0:e.no_of_days)||"").toLowerCase().includes(t)||a.toLowerCase().includes(t)})):[];console.log("filetred staff leave",A);const P=A.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))),M=P.slice(10*j,10*(j+1));return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"md:container w-full md:w-[80%] md:mx-auto md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg mt-4",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Leave Application For Staff"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>w(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>k("/createLeaveApplicationP"),children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full box-border",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Staff Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave Type"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave Start Date"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave End Date"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"No. of Days"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Status"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit/View"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Cancel"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):M.length?M.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:10*j+t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.teachername})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.leavetypename})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:D(e.leave_start_date)})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:D(e.leave_end_date)})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.no_of_days||"-"})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[C[e.status]||"-"," "]})}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[("A"===e.status||"H"===e.status)&&oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{console.log("this is the inside handle submit",e.leave_app_id),k(`/leaveApplicationP/edit/${e.leave_app_id}`,{state:{staffleave:e}})})(e),children:oe.jsx(zM,{icon:HM})}),("C"===e.status||"R"===e.status||"P"===e.status)&&oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>O(e),children:oe.jsx(kg,{className:"font-bold text-xl"})})]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:"P"===e.status&&oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent font-extrabold ",onClick:()=>{return t=e,console.log("this is staffUe leave",t.leave_app_id),g(t.leave_app_id),v(t.teachername),void c(!0);var t},children:oe.jsx(lh,{className:"font-extrabold text-xl"})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:"P"===e.status&&oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>{return t=e,console.log("this is staffUe leave",t.leave_app_id),g(t.leave_app_id),v(t.teachername),void i(!0);var t},children:oe.jsx(zM,{icon:VM})})})]},e.leave_app_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:_,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{N(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title  ",children:"Delete Staff"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:T})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("p",{children:["Are you sure you want to delete: ",b,"?"]}),console.log("currestStaffDelete",x)]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!u){m(!0);try{const t=localStorage.getItem("authToken");if(!t||!x)throw new Error("Leave Id is missing");const a=yield Uf.delete(`${e}/api/delete_leaveapplicationprincipal/${x}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});E(),200===a.status?(T(),hp.success(`Leave Application for ${b} deleted successfully!`)):hp.error("Leave Application not found")}catch(t){console.error("Error deleting staff:",t),hp.error("Failed to delete staff"),hp.error(t.response.data.error)}finally{m(!1),i(!1)}}})),disabled:u,children:u?"Deleting...":"Delete"})})]})})})}),d&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title  ",children:"Cancel Staff"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:T})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("p",{children:["Are you sure you want to Cancel: ",b,"?"]}),console.log("currestStaffDelete",x)]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!u){m(!0);try{const t=localStorage.getItem("authToken");if(!t||!x)throw new Error("Leave Id is missing");const a=yield Uf.put(`${e}/api/update_leaveapplicationcancel/${x}`,{},{headers:{Authorization:`Bearer ${t}`}});E(),200===a.status?(T(),hp.success(`Leave Application for ${b} Cancel successfully!`)):hp.error(`Leave Application for for ${b} not found`)}catch(t){console.error("Error Canceling staff:",t),hp.error("Failed to Cancel staff"),hp.error(t.response.data.error)}finally{m(!1),c(!1)}}})),disabled:u,children:u?"Canceling...":"Cancel"})})]})})})})]})}const IPe=()=>{const t=rm(),a="https://sms.evolvu.in/public",[r,n]=Q.useState(!1),{staffleave:s}=t.state||{};console.log("staff leave for editing",s);const[l,o]=Q.useState({staff_name:"",staff_id:"",leave_type_id:"",leave_start_date:"",leave_end_date:"",status:"",no_of_days:"",reason:"",reason_for_rejection:""});Q.useEffect((()=>{s&&(o({staff_name:s.teachername||"",staff_id:s.staff_id||"",leave_type_id:s.leave_type_id||"",leave_start_date:s.leave_start_date||"",leave_end_date:s.leave_end_date||"",status:s.status||"",no_of_days:s.no_of_days||"",reason:s.reason||"",reason_for_rejection:s.reason_for_rejection||""}),s.staff_id&&b(s.staff_id))}),[s,a]);const[i,d]=Q.useState({}),[c,h]=Q.useState([]),[f,x]=Q.useState(null),g=sm();(new Date).toISOString().split("T")[0];const b=t=>p(e,null,(function*(){n(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No Authentication token found.");const r=yield Uf.get(`${a}/api/get_leavetypedata/${t}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});Array.isArray(r.data.data)?h(r.data.data):x("Unexpected data format.")}catch(e){x(e.message),hp.error("Error fetching leave type")}finally{n(!1)}})),v=Q.useRef(!1),y=e=>{const{name:t,value:a}=e.target;"no_of_days"===t&&(v.current=!0),"leave_start_date"!==t&&"leave_end_date"!==t||(v.current=!1),o((e=>{let r=m(u({},e),{[t]:a});if(r.leave_start_date&&r.leave_end_date&&!v.current){const e=new Date(r.leave_start_date),t=(new Date(r.leave_end_date)-e)/864e5+1;r.no_of_days=t>0?t.toFixed(1):""}return r})),"no_of_days"===t&&(/^\d+(\.\d+)?$/.test(a)?d((e=>m(u({},e),{no_of_days:""}))):d((e=>m(u({},e),{no_of_days:"Please enter a valid positive number (e.g., 0.5)."}))))},w=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`};return oe.jsxs("div",{className:"container mx-auto mt-4 flex items-center justify-center  ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-[80%]",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Leave Application For Staff"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{d({}),g("/leaveApplicationP")}})]}),oe.jsx("div",{className:" relative w-full -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"  md:absolute md:right-6  md:top-[18%]  text-gray-500  ",children:[oe.jsx("span",{className:"text-red-500",children:"*"}),"indicates mandatory information"]}),oe.jsx("form",{className:"flex items-center justify-center overflow-x-hidden shadow-md p-3 bg-gray-50 space-y-2",children:oe.jsxs("div",{className:"modal-body grid grid-cols-3 gap-4 px-4",children:[oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"staff_name",className:"mb-1",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"staff_name",name:"staff_name",pattern:"^[^\\d].*",title:"Name should not start with a number",required:!0,value:l.staff_name,disabled:!0,className:"form-control shadow-md"}),i.staff_name&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.staff_name})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"leave_type",className:"mb-1",children:["Leave Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"leave_type",name:"leave_type",value:l.leave_type_id,onChange:e=>{const{value:t}=e.target;o((e=>m(u({},e),{leave_type_id:t}))),d((e=>m(u({},e),{leave_type_id:t?null:"Leave type is required"})))},required:!0,className:"form-control shadow-md",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select Leave"}),0===c.length?oe.jsx("option",{children:"No Options"}):c.map((e=>oe.jsx("option",{value:e.leave_type_id,children:e.name},e.leave_type_id)))]}),i.leave_type_id&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.leave_type_id})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"leave_start_date",className:"mb-1",children:["Leave Start Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"leave_start_date",name:"leave_start_date",value:l.leave_start_date,onChange:y,max:l.leave_end_date||"",required:!0,className:"form-control shadow-md"}),i.leave_start_date&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.leave_start_date})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"leave_end_date",className:"mb-1",children:["Leave End Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"leave_end_date",name:"leave_end_date",value:l.leave_end_date,onChange:y,min:l.leave_start_date||"",required:!0,className:"form-control shadow-md"}),i.leave_end_date&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.leave_end_date})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"no_of_days",className:"mb-1",children:["No. of Days ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",id:"no_of_days",name:"no_of_days",maxLength:5,value:l.no_of_days,step:"0.5",min:"0.5",onChange:y,onBlur:()=>{v.current=!0},className:"form-control shadow-md"}),i.no_of_days&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.no_of_days})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"status",className:"mb-1",children:["Status ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"status",name:"status",value:l.status||"",onChange:y,required:!0,className:"form-control shadow-md",children:[oe.jsx("option",{value:"",disabled:!0,children:"Select Status"}),[{value:"A",label:"Applied"},{value:"H",label:"Hold"},{value:"R",label:"Rejected"},{value:"P",label:"Approved"},{value:"C",label:"Canceled"}].map((({value:e,label:t})=>oe.jsx("option",{value:e,children:t},e)))]})]}),oe.jsxs("div",{className:"col-span-3 grid grid-cols-2 gap-4",children:[oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{htmlFor:"reason",className:"mb-1",children:"Reason"}),oe.jsx("textarea",{id:"reason",name:"reason",maxLength:500,value:l.reason,onChange:y,readOnly:!0,rows:"2",className:"form-control bg-gray-200 shadow-inner"})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{htmlFor:"reason_for_rejection",className:"mb-1",children:"Approver's Comment"}),oe.jsx("textarea",{id:"reason_for_rejection",name:"reason_for_rejection",maxLength:500,value:l.reason_for_rejection,onChange:y,rows:"2",className:"form-control shadow-md"})]})]}),oe.jsx("div",{className:"col-span-3 text-right mt-4",children:oe.jsx("button",{className:"bg-blue-500 text-white py-1 px-3 rounded hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed",onClick:t=>p(e,null,(function*(){var e;if(t.preventDefault(),r)return;const o=(()=>{const e={};l.staff_name?/^[^\d].*/.test(l.staff_name)||(e.staff_name="Staff name should not start with a number"):e.staff_name="Staff name is required",l.leave_type_id||(e.leave_type_id="Leave type is required"),l.leave_start_date||(e.leave_start_date="Leave start date is required"),l.leave_end_date||(e.leave_end_date="Leave end date is required");const t=(a=l.no_of_days)?/^\d{1,2}(\.\d{1,2})?$/.test(a)?null:"Enter a valid number":"Number of days is required";var a;return t&&(e.no_of_days=t),d(e),e})();if(o&&Object.keys(o).length>0)return d(o),void Object.values(o).forEach((e=>{hp.error(e)}));const i=m(u({},l),{leave_start_date:w(l.leave_start_date),leave_end_date:w(l.leave_end_date),approvercomment:l.reason_for_rejection});try{n(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");console.log("Submitting data:",i),200===(yield Uf.put(`${a}/api/update_leaveapplicationdata/${s.leave_app_id}`,i,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})).status&&(hp.success("Leave updated successfully!"),setTimeout((()=>{g("/leaveApplicationP")}),500))}catch(c){if(console.error("Error updating leave:",(null==(e=c.response)?void 0:e.data)||c.message),c.response&&c.response.data){const{errors:e,message:t}=c.response.data;e&&Object.entries(e).forEach((([e,t])=>{t.forEach((t=>{console.log(`${e}: ${t}`)}))}))}else hp.error("An unexpected error occurred.")}finally{n(!1)}})),disabled:r,children:r?"Updating...":"Update"})})]})})]})]})},FPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState({staff_id:"",leave_type_id:"",leave_start_date:"",leave_end_date:"",no_of_days:"",reason:"",approverscomment:""}),[l,o]=Q.useState([]),[i,d]=Q.useState({}),[c,h]=Q.useState([]);Q.useState("");const[f,x]=Q.useState(null);Q.useState({});const[g,b]=Q.useState(!1),[v,y]=Q.useState(!1),[w,j]=Q.useState(""),[N,_]=Q.useState(null),[S,k]=Q.useState(null),C=sm(),E=(new Date).toISOString().split("T")[0];Q.useEffect((()=>{O(),T()}),[]);const T=a=>p(e,null,(function*(){y(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No Authentication token found.");const r=yield Uf.get(`${t}/api/get_leavetypedata/${a}`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});Array.isArray(r.data.data)?h(r.data.data):x("Unexpected data format.")}catch(e){x(e.message),hp.error("Error fetching leave type")}finally{y(!1)}})),O=()=>p(e,null,(function*(){var e;try{b(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_allstaff`,{headers:{Authorization:`Bearer ${a}`}});console.log("Class",r),o((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching Staff"),console.error("Error fetching Staff:",a)}finally{b(!1)}})),D=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.teacher_id,label:`${e.name}`})))),[l]),A=Q.useRef(!1),P=e=>{const{name:t,value:a}=e.target;"no_of_days"===t&&(A.current=!0),"leave_start_date"!==t&&"leave_end_date"!==t||(A.current=!1),s((e=>{let r=m(u({},e),{[t]:a});if(r.leave_start_date&&r.leave_end_date&&!A.current){const e=new Date(r.leave_start_date),t=(new Date(r.leave_end_date)-e)/864e5+1;r.no_of_days=t>0?t.toFixed(1):""}return r})),"no_of_days"===t&&(/^\d+(\.\d+)?$/.test(a)?d((e=>m(u({},e),{no_of_days:""}))):d((e=>m(u({},e),{no_of_days:"Please enter a valid positive number (e.g., 0.5)."}))))},M=e=>{if(!e)return"";const[t,a,r]=e.split("-");return`${t}-${a}-${r}`},L=a=>p(e,null,(function*(){a.preventDefault();const e=(()=>{const e={};n.selectedStudent?/^[^\d].*/.test(n.staff_name)||(e.staff_name="Staff name should not start with a number"):e.staff_name="Staff name is required",n.leave_type_id||(e.leave_type_id="Leave type is required"),n.leave_start_date||(e.leave_start_date="Leave start date is required"),n.leave_end_date||(e.leave_end_date="Leave end date is required");const t=(a=n.no_of_days)?/^\d{1,2}(\.\d{1,2})?$/.test(a)?null:"Enter a valid number":"Number of days is required";var a;return t&&(e.no_of_days=t),d(e),e})();if(Object.keys(e).length>0)return d(e),void Object.values(e).forEach((e=>{console.log("errors: ",e)}));const s=m(u({},n),{leave_start_date:M(n.leave_start_date),leave_end_date:M(n.leave_end_date),staff_id:N,staff_name:n.staff_name});try{r(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=yield Uf.post(`${t}/api/save_leaveapplicatstaffprincipal`,s,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}),{data:n}=a;n.success?(hp.success("Leave Application Created Successfully!"),setTimeout((()=>{C("/leaveApplicationP")}),500)):hp.error("You have Applied for the leave more than the balance leave.")}catch(l){hp.error("Error submitting leave application"),console.error("Error:",l)}finally{r(!1)}}));return oe.jsxs("div",{className:"container mx-auto mt-4 flex items-center justify-center  ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-[80%] ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Create Leave Application For Staff"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{d({}),C("/leaveApplicationP")}})]}),oe.jsx("div",{className:" relative w-full -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"  md:absolute md:right-6  md:top-[16%]  text-gray-500  ",children:[oe.jsx("span",{className:"text-red-500",children:"*"}),"indicates mandatory information"]}),oe.jsx("form",{onSubmit:L,className:"flex items-center justify-center overflow-x-hidden shadow-md p-3 bg-gray-50 space-y-2",children:oe.jsxs("div",{className:"modal-body px-4 py-2",children:[oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"mb-1",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:S,onChange:e=>{k(e),_(null==e?void 0:e.value),(null==e?void 0:e.value)&&T(e.value),s((t=>m(u({},t),{staff_name:(null==e?void 0:e.label)||"",selectedStudent:e,leave_type_id:""}))),d((t=>{const a=u({},t);return(null==e?void 0:e.value)?delete a.staff_name:a.staff_name="Staff is required",a.leave_type_id="Leave type is required",a}))},options:D,placeholder:g?"Loading...":"Select",isSearchable:!0,isClearable:!0,isDisabled:g,styles:{control:e=>m(u({},e),{fontSize:".9em",minHeight:"30px"}),menu:e=>m(u({},e),{fontSize:"1em"}),option:e=>m(u({},e),{fontSize:".9em"})}}),w&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:w}),i.staff_name&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.staff_name})]}),oe.jsxs("div",{className:"flex flex-col relative",children:[oe.jsxs("label",{htmlFor:"leave_type",className:"mb-1",children:["Leave Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),v?oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("div",{className:" relative top-2 w-4 h-4  border-2 border-t-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"}),oe.jsx("span",{className:" relative top-2 text-sm text-gray-500",children:"Loading leave types..."})]}):oe.jsxs("select",{id:"leave_type",name:"leave_type",value:n.leave_type_id,onChange:e=>{const{value:t}=e.target;s((e=>m(u({},e),{leave_type_id:t}))),d((e=>m(u({},e),{leave_type_id:t?null:"Leave type is required"})))},required:!0,className:"form-control shadow-md",children:[oe.jsx("option",{className:"bg-gray-300",value:"",children:"Select Leave"}),0===c.length?oe.jsx("option",{children:"No Options"}):c.map((e=>oe.jsx("option",{value:e.leave_type_id,children:e.name},e.leave_type_id)))]}),i.leave_type_id&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.leave_type_id})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"leave_start_date",className:"mb-1",children:["Leave Start Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"leave_start_date",min:E,name:"leave_start_date",value:n.leave_start_date,onChange:P,className:"form-control shadow-md"}),i.leave_start_date&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.leave_start_date})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"leave_end_date",className:"mb-1",children:["Leave End Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"date",id:"leave_end_date",min:E,name:"leave_end_date",value:n.leave_end_date,onChange:P,className:"form-control shadow-md"}),i.leave_end_date&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.leave_end_date})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsxs("label",{htmlFor:"no_of_days",className:"mb-1",children:["No. of Days ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"number",id:"no_of_days",name:"no_of_days",maxLength:5,value:n.no_of_days,step:"0.5",min:"0.5",onChange:P,onBlur:()=>{n.no_of_days&&(A.current=!0)},className:"form-control shadow-md"}),i.no_of_days&&oe.jsx("span",{className:"text-danger text-xs mt-1",children:i.no_of_days})]}),oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{htmlFor:"reason",className:"mb-1",children:"Reason"}),oe.jsx("textarea",{maxLength:500,id:"reason",name:"reason",value:n.reason,onChange:P,rows:"2",className:"form-control shadow-md"})]})]}),oe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6 mt-6",children:oe.jsxs("div",{className:"flex flex-col",children:[oe.jsx("label",{htmlFor:"approverscomment",className:"mb-1",children:"Approver's Comments"}),oe.jsx("textarea",{maxLength:500,id:"approverscomment",name:"approverscomment",value:n.approverscomment,onChange:P,rows:"2",className:"form-control shadow-md"})]})}),oe.jsx("div",{className:"text-right mt-6",children:oe.jsx("button",{className:"bg-blue-500 text-white py-1 px-4 rounded hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed",onClick:L,disabled:a,children:a?"Saving...":"Save"})})]})})]})]})},RPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(null),[n,s]=Q.useState(0),[l,o]=Q.useState([]),[i,d]=Q.useState(null);Q.useState(!1);const[c,u]=Q.useState(!1),m=sm(),[h,f]=Q.useState(!1),[x,g]=Q.useState(""),[b,v]=Q.useState(!1),[y,w]=Q.useState([]),[j,N]=Q.useState(0),[_,S]=Q.useState("");Q.useEffect((()=>{k()}),[]);const k=()=>p(e,null,(function*(){try{f(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/get_class_section`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),o((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{f(!1)}})),C=Q.useMemo((()=>l.map((e=>({value:null==e?void 0:e.section_id,label:`${e.get_class.name} ${e.name}`})))),[l]);console.log("row",y);const E=y.filter((e=>{var t,a,r,n,s,l,o,i,d,c,u;const m=_.toString().trim().toLowerCase(),h=(null==(t=null==e?void 0:e.reg_no)?void 0:t.toLowerCase())||"",f=(null==(a=null==e?void 0:e.class)?void 0:a.toLowerCase())||"",p=`${(null==e?void 0:e.first_name)||""} ${(null==(r=null==e?void 0:e.mid_name)?void 0:r.trim())||""} ${(null==e?void 0:e.last_name)||""}`.toLowerCase().trim(),x=(null==(n=null==e?void 0:e.dob)?void 0:n.toLowerCase())||"",g=(null==(s=null==e?void 0:e.permant_add)?void 0:s.toLowerCase())||"",b=(null==(l=null==e?void 0:e.blood_group)?void 0:l.toLowerCase())||"",v=(null==(o=null==e?void 0:e.father_name)?void 0:o.toLowerCase())||"",y=(null==(i=null==e?void 0:e.f_mobile)?void 0:i.toLowerCase())||"",w=(null==(d=null==e?void 0:e.f_email)?void 0:d.toLowerCase())||"",j=(null==(c=null==e?void 0:e.m_mobile)?void 0:c.toLowerCase())||"",N=(null==(u=null==e?void 0:e.house)?void 0:u.toLowerCase())||"";return p.includes(m)||h.includes(m)||f.includes(m)||p.includes(m)||x.includes(m)||g.includes(m)||b.includes(m)||v.includes(m)||y.includes(m)||w.includes(m)||j.includes(m)||N.includes(m)})).slice(10*n);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[100%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Student ID Card Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{m("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[70%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsxs("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:[oe.jsxs("div",{className:"w-full md:w-[75%] gap-x-0 md:gap-x-12  flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full md:w-[50%] gap-x-2   justify-around  my-1 md:my-4 flex md:flex-row ",children:[oe.jsxs("label",{className:"md:w-[25%] text-md pl-0 md:pl-5 mt-1.5",htmlFor:"studentSelect",children:["Class ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsxs("div",{className:" w-full md:w-[65%]",children:[oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"studentSelect",value:a,onChange:e=>{g(""),r(e),d(null==e?void 0:e.value)},options:C,placeholder:h?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-sm",isDisabled:h}),x&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:x})]})]}),oe.jsx("div",{className:"mt-1",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n,s,l;if(u(!1),!i)return g("Please select Class."),void u(!1);S("");try{u(!0),w([]);const o=localStorage.getItem("authToken"),d={};i&&(d.section_id=i);const c=yield Uf.get(`${t}/api/get_studentidcard`,{headers:{Authorization:`Bearer ${o}`},params:d});(null==(e=null==c?void 0:c.data)?void 0:e.data)&&0!==(null==(r=null==(a=null==c?void 0:c.data)?void 0:a.data)?void 0:r.length)?(w(null==(n=null==c?void 0:c.data)?void 0:n.data),N(Math.ceil((null==(l=null==(s=null==c?void 0:c.data)?void 0:s.data)?void 0:l.length)/10))):(hp.error("Student Report data not found."),w([]))}catch(o){console.error("Error fetching Student Report:",o),hp.error("Error fetching Student Report. Please try again.")}finally{v(!1),u(!1)}})),style:{backgroundColor:"#2196F3"},className:" btn h-10 w-18 md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(c?"opacity-50 cursor-not-allowed":""),disabled:c,children:c?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Browsing..."]}):"Browse"})})]})," "]})}),y.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Student ID Card Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!E||0===E.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Photo","Roll No.","Class","Student Name","DOB","Father Mobile No.","Mother Mobile No.","Address","Blood Group","Grn No.","House","Image Name"],t=E.map(((e,t)=>{var a;return[t+1,(null==e?void 0:e.image_url)||"",(null==e?void 0:e.roll_no)||" ",`${(null==e?void 0:e.class_name)||""} ${(null==e?void 0:e.sec_name)||""}`,`${(null==e?void 0:e.first_name)||""} ${(null==(a=null==e?void 0:e.mid_name)?void 0:a.trim())||""} ${(null==e?void 0:e.last_name)||""}`,`${(null==e?void 0:e.dob)?new Date(null==e?void 0:e.dob).toLocaleDateString("en-GB"):""}`,`${null==e?void 0:e.f_mobile}`,`${null==e?void 0:e.m_mobile}`,(null==e?void 0:e.permant_add)||" ",(null==e?void 0:e.blood_group)||" ",(null==e?void 0:e.reg_no)||" ",`${"Unknown House"===(null==e?void 0:e.house)?"":null==e?void 0:e.house}`,(null==e?void 0:e.image_name)||" "]})),r=_ge.aoa_to_sheet([e,...t]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Student ID Card Report Data"),mge(s,`Student_ID_Card_Report_${(null==a?void 0:a.label)||"ALL"}.xlsx`)},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e="Student ID Card Report "+((null==a?void 0:a.label)?`List of Class ${a.label}`:": For All Students "),t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n    <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Photo</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Roll No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">DOB</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Father Mobile No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Mother Mobile No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Address</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Blood Group</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Grn No.</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">House</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Image Name</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${E.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                <img src="${(null==e?void 0:e.image_url)||""}" \n                       alt="${null==e?void 0:e.url}" \n                       class="student-photo" />\n                </td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.roll_no)||" "}\n                </td>\n                <td class="px-2 text-center py-2 border border-black">\n                 ${(null==e?void 0:e.class_name)||""} ${(null==e?void 0:e.sec_name)||""}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">\n                 ${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">\n                 ${(null==e?void 0:e.dob)?new Date(e.dob).toLocaleDateString("en-GB"):""}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.f_mobile)||" "}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.m_mobile)||" "}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.permant_add)||" "}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.blood_group)||" "}\n                </td>\n                 <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.reg_no)||" "}\n                </td>\n                <td class="px-2 text-center py-2 border border-black">\n                 ${"Unknown House"===(null==e?void 0:e.house)||""===(null==e?void 0:e.house)?"":e.house}\n                </td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${(null==e?void 0:e.image_name)||" "}\n                </td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n          @page { margin: 0; padding:0; box-sizing:border-box;   ;\n    }\n          body { margin: 0; padding: 0; box-sizing:border-box; font-family: Arial, sans-serif; }\n          #tableHeading {\n      width: 100%;\n      margin: auto; /* Centers the div horizontally */\n      display: flex;\n      justify-content: center;\n    }\n\n    #tableHeading table {\n      width: 100%; /* Ensures the table fills its container */\n      margin:auto;\n      padding:0 10em 0 10em;\n    }\n\n    #tableContainer {\n      display: flex;\n      justify-content: center; /* Centers the table horizontally */\n      width: 80%;\n\n    }\n\n    h5 {\n      width: 100%;\n      text-align: center;\n      margin: 0;  /* Remove any default margins */\n      padding: 5px 0;  /* Adjust padding if needed */\n    }\n\n    #tableMain {\n    width:100%;\n    margin:auto;\n    box-sizing:border-box;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: flex-start; /* Prevent unnecessary space */\n    padding:0 10em 0 10em;\n    }\n\n    h5 + * { /* Targets the element after h5 */\n      margin-top: 0; /* Ensures no extra space after h5 */\n    }\n\n          table { border-spacing: 0; width: 70%; margin: auto;   }\n          th { font-size: 0.8em; background-color: #f9f9f9; }\n          td { font-size: 12px; }\n          th, td { border: 1px solid gray; padding: 8px; text-align: center; }\n          .student-photo {\n            width: 30px !important;\n            height: 30px !important;\n            object-fit: cover;\n            border-radius: 50%;\n          }\n          </style>\n        </head>\n           <body>\n          <div id="printContainer">\n              ${t}\n          </div>\n      </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{style:{width:"60px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Sr No."}),oe.jsx("th",{style:{width:"80px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Photo"}),oe.jsx("th",{style:{width:"80px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Roll No."}),oe.jsx("th",{style:{width:"100px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Class"}),oe.jsx("th",{style:{width:"230px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Student Full Name"}),oe.jsx("th",{style:{width:"120px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"DOB"}),oe.jsx("th",{style:{width:"140px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Father Mobile No."}),oe.jsx("th",{style:{width:"140px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Mother Mobile No."}),oe.jsx("th",{style:{width:"220px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Address"}),oe.jsx("th",{style:{width:"8px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Blood Group"}),oe.jsx("th",{style:{width:"80px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Grn No."}),oe.jsx("th",{style:{width:"100px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"House"}),oe.jsx("th",{style:{width:"100px"},className:"px-2 text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900",children:"Image Name"})]})}),oe.jsx("tbody",{children:E.length?null==E?void 0:E.map(((e,t)=>{var a;return oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:oe.jsx("img",{src:(null==e?void 0:e.image_url)?`${null==e?void 0:e.image_url}`:"https://via.placeholder.com/50",alt:null==e?void 0:e.name,className:"rounded-full w-8 h-8 lg:w-10 lg:h-10 object-cover"})}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==e?void 0:e.roll_no}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:`${null==e?void 0:e.class_name} ${null==e?void 0:e.sec_name}`}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[e.first_name," ",(null==(a=e.mid_name)?void 0:a.trim())||""," ",e.last_name]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.dob?new Date(e.dob).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.f_mobile}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.m_mobile}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.permant_add||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.blood_group||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.reg_no||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:"Unknown House"===e.house?""===e.house:e.house}),oe.jsx("td",{className:"px-2 text-center align-middle  lg:px-3 py-2 hover:font-semibold border border-gray-950 text-sm cursor-pointer text-blue-600 hover:text-blue-700",onClick:()=>(e=>{e&&m(`/iDCardDetails/${null==e?void 0:e.student_id}`,{state:{staff:e}})})(e),children:oe.jsx("div",{className:"flex justify-center items-center h-full",children:""===(null==e?void 0:e.image_name)?oe.jsx(Tg,{className:"text-xl text-gray-500"}):oe.jsx("p",{className:" mt-2",children:null==e?void 0:e.image_name})})})]},e.student_id)})):oe.jsx("div",{className:"absolute left-[1%] w-[100%] text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:"text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},$Pe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState(!1),l=sm(),[o,i]=Q.useState(!1),[d,c]=Q.useState(""),[h,f]=Q.useState(!1),[x,g]=Q.useState("0/0"),[b,v]=Q.useState([]),[y,w]=Q.useState((()=>(new Date).toISOString().split("T")[0])),[j,N]=Q.useState(""),_=Q.useRef(null),S=Q.useRef(null),k=Q.useRef(null),C=Q.useRef({}),E=Q.useRef(null);Q.useEffect((()=>{T()}),[]);const T=()=>p(e,null,(function*(){try{i(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/classes`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class",a),r((null==a?void 0:a.data)||[])}catch(e){hp.error("Error fetching Classes"),console.error("Error fetching Classes:",e)}finally{i(!1)}})),O=Array.isArray(b)?b.filter((e=>{var t,a,r,n,s,l;const o=j.toString().trim().toLowerCase(),i=(null==(t=null==e?void 0:e.name)?void 0:t.toString().toLowerCase())||"",d=(null==(a=null==e?void 0:e.date_part)?void 0:a.toString().toLowerCase())||"",c=(null==(r=null==e?void 0:e.punch_in_time)?void 0:r.toString().toLowerCase())||"",u=(null==(n=null==e?void 0:e.punch_out_time)?void 0:n.toString().toLowerCase())||"",m=(null==(s=null==e?void 0:e.late_time)?void 0:s.toString().toLowerCase())||"",h=(null==(l=null==e?void 0:e.employee_id)?void 0:l.toString().toLowerCase())||"";return i.includes(o)||d.includes(o)||c.includes(o)||u.includes(o)||m.includes(o)||h.includes(o)})):[],D=O.filter((e=>"Present"===e.status)),A=O.filter((e=>"Late"===e.status)),P=O.filter((e=>"Absent"===e.status)),M=D,L=A,I=P;return Q.useEffect((()=>{if(!j.trim())return;j.toLowerCase().trim();const e=[...D,...A,...P][0];if(!e||!E.current)return;const t=E.current;let a=null;switch(e.status){case"Present":a=_;break;case"Late":a=S;break;case"Absent":a=k}if(null==a?void 0:a.current){const e=a.current.offsetTop-t.offsetTop;t.scrollTo({top:e-20,behavior:"smooth"})}}),[j,D,A,P]),oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[80%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Satff Attendance Daily Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{l("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:" w-full md:w-[80%]  flex justify-center flex-col md:flex-row gap-x-1     ml-0    p-2",children:oe.jsx("div",{className:"w-full md:w-[99%] flex md:flex-row justify-between items-center mt-0 md:mt-4",children:oe.jsxs("div",{className:"w-full flex flex-col md:flex-row md:items-center md:justify-between gap-y-3 md:gap-y-0 mb-4",children:[oe.jsxs("div",{className:"flex  mt-2 items-center w-full md:w-1/3",children:[oe.jsxs("label",{htmlFor:"dateSelect",className:"w-1/3 text-md pl-0 md:pl-5",children:["Date",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-2/3",children:[oe.jsx("input",{type:"date",id:"toDate",value:y,onChange:e=>{w(e.target.value),c("")},className:"w-full px-2 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:o}),oe.jsx("div",{className:" absolute text-red-500 text-xs mt-1",children:d&&oe.jsx("span",{children:d})})]})]}),oe.jsx("div",{className:"flex justify-center md:justify-start w-full md:w-1/4 mt-2 md:mt-0",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,a,r,n;if(s(!1),!y)return c("Please select Date."),void s(!1);N("");try{s(!0),v([]);const l=localStorage.getItem("authToken"),o={};y&&(o.date=y);const i=yield Uf.get(`${t}/api/get_staffdailyattendancereport`,{headers:{Authorization:`Bearer ${l}`},params:o}),d=null==(e=null==i?void 0:i.data)?void 0:e.data;if(d&&((null==(a=d.present_staff)?void 0:a.length)||(null==(r=d.absent_staff)?void 0:r.length)||(null==(n=d.late_staff)?void 0:n.length))){const{present_staff:e=[],late_staff:t=[],absent_staff:a=[],total_attendance:r="0/0"}=d,n=e.map((e=>m(u({},e),{status:"Present"}))),s=t.map((e=>m(u({},e),{status:"Late"}))),l=a.map((e=>m(u({},e),{status:"Absent"}))),o=[...n,...s,...l];v(o),g(r)}else hp.error("Teacher Attendance Daily Report data not found."),v([]),g("0/0");console.log("total attendance",g)}catch(l){console.error("Error fetching Teacher Attendance Daily Report:",l),hp.error("Error fetching Teacher Attendance Daily Report. Please try again.")}finally{f(!1),s(!1)}})),style:{backgroundColor:"#2196F3"},className:"btn h-10 w-full md:w-auto btn-primary text-white font-bold py-1 border-1 border-blue-500 px-4 rounded "+(n?"opacity-50 cursor-not-allowed":""),disabled:n,children:n?oe.jsxs("span",{className:"flex items-center justify-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})}),oe.jsxs("div",{className:"w-full md:w-[35%] text-md font-medium text-gray-800 text-center md:text-right mt-2 md:mt-0 pr-2",children:["Staff Attendance  | ",oe.jsxs("span",{className:"font-semibold",children:["Total Attendance: ",x]})]})]})})}),b.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full   flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List Of Teacher Attendance Daily Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>N(e.target.value)})})]}),oe.jsx("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:oe.jsxs("button",{onClick:()=>{const e="Teacher Attendance Daily Report "+(y?`for ${y}`:"for All Staff"),t=(e,t,a)=>{const r="Absent"!==a;return`\n        <div style="margin-bottom: 30px;">\n          <h5 style="text-align:center; font-size:18px; font-weight:bold; margin-bottom: 10px;">${e}</h5>\n          <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n            <thead>\n              <tr class="bg-gray-100">\n                <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n                <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Name</th>\n                <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Employee ID</th>\n                ${r?'\n                <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Punch Date</th>\n                <th class="px-2 text-center py-2 border border-black text-sm font-semibold">In Time</th>\n                <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Out Time</th>\n                ':""}\n              </tr>\n            </thead>\n            <tbody>\n              ${t.map(((e,t)=>`\n                <tr class="text-sm">\n                  <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.name)||""}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.employee_id)||""}</td>\n                  ${r?`\n                  <td class="px-2 text-center py-2 border border-black">\n                  ${(null==e?void 0:e.date_part)?new Date(null==e?void 0:e.date_part).toLocaleDateString("en-GB"):""}\n                  </td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.punch_in_time)||""}</td>\n                  <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.punch_out_time)||""}</td>\n                  `:""}\n                </tr>`)).join("")}\n            </tbody>\n          </table>\n        </div>\n      `},a=`\n      <div id="tableMain" class="flex flex-col items-center justify-center bg-white">\n        <h2 style="text-align:center; font-size:22px; font-weight:bold;">${e}</h2>\n        ${t("Present Staff",M,"Present")}\n        ${t("Late Staff",L,"Late")}\n        ${t("Absent Staff",I,"Absent")}\n      </div>\n    `,r=window.open("","_blank","width=1000,height=800");r.document.write(`\n      <html>\n        <head>\n          <title>${e}</title>\n          <style>\n            @page { margin: 0; }\n            body {\n              margin: 20px;\n              font-family: Arial, sans-serif;\n            }\n            h2 {\n              text-align: center;\n              font-size: 24px;\n              margin-bottom: 20px;\n            }\n            table {\n              width: 90%;\n              margin: auto;\n              \n              font-size: 14px;\n            }\n            th, td {\n              border: 1px solid #000;\n              padding: 8px;\n              text-align: center;\n            }\n            th {\n              background-color: #f1f1f1;\n            }\n          </style>\n        </head>\n        <body>\n          ${a}\n        </body>\n      </html>\n    `),r.document.close(),r.onload=function(){r.focus(),r.print(),r.close()}},className:"relative flex flex-row justify-center align-middle items-center  bg-blue-400 hover:bg-blue-500 text-white px-3 py-1 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-2 px-2",children:["Print"," "]})]})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{ref:E,className:"h-[600px] overflow-y-scroll border border-gray-200 rounded-md p-4",children:[oe.jsxs("div",{ref:_,className:" card-body w-full md:w-[90%] mx-auto",children:[oe.jsx("h2",{className:"text-xl font-semibold text-center text-gray-800 mb-4",children:"Present Staff"}),oe.jsx("div",{className:"h-96 lg:h-96  overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Name","Employee Id","Punch Date","In Time","Out Time"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:M.length?null==M?void 0:M.map(((e,t)=>oe.jsxs("tr",{ref:t=>{t&&(C.current[e.adm_form_pk]=t)},className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.name||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.employee_id}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.date_part?new Date(e.date_part).toLocaleDateString("en-GB"):" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.punch_in_time||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.punch_out_time||" "})]},e.adm_form_pk))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:6,className:"text-center py-6 text-lg text-red-700 ",children:"Oops! No data found for Present Staff.."})})})]})})]}),oe.jsxs("div",{ref:S,className:"card-body w-full md:w-[90%] mx-auto",children:[oe.jsx("h2",{className:"text-xl font-semibold text-center text-gray-800 mb-4",children:"Late Staff"}),oe.jsx("div",{className:"h-96 lg:h-96  overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Name","Employee Id","Punch Date","In Time","Out Time","Late Time"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:L.length?null==L?void 0:L.map(((e,t)=>oe.jsxs("tr",{ref:t=>{t&&(C.current[e.adm_form_pk]=t)},className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.name||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.employee_id}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.date_part)?new Date(null==e?void 0:e.date_part).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.punch_in_time||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.punch_out_time||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:e.late_time||" "})]},e.adm_form_pk))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:7,className:"text-center py-6 text-lg text-red-700 ",children:"Oops! No data found for Late Staff.."})})})]})})]}),oe.jsxs("div",{ref:k,className:"card-body w-full md:w-[90%] mx-auto",children:[oe.jsx("h2",{className:"text-xl font-semibold text-center text-gray-800 mb-4",children:"Absent Staff"}),oe.jsx("div",{className:"h-96 lg:h-96  overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Name","Employee Id"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:I.length?null==I?void 0:I.map(((e,t)=>oe.jsxs("tr",{ref:t=>{t&&(C.current[e.adm_form_pk]=t)},className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300 text-red-500",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300 text-red-500",children:e.name||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300 text-red-500",children:e.employee_id||" "})]},e.adm_form_pk))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:3,className:"text-center py-6 text-lg text-red-700 ",children:"Oops! No data found for Absent Staff.."})})})]})})]})]})]})})})]})]})]})})},BPe=()=>{const t="https://sms.evolvu.in/public";Q.useState([]);const[a,r]=Q.useState(!1),[n,s]=Q.useState({subjectError:"",noticeDescError:"",classError:""}),[l,o]=Q.useState(!1),[i,d]=Q.useState(!1),[c,h]=Q.useState([]),[f,x]=Q.useState([]),[g,b]=Q.useState(null),[v,y]=Q.useState(""),[w,j]=Q.useState("");Q.useEffect((()=>{N()}),[]);const N=()=>p(e,null,(function*(){var e;try{d(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_allstaff`,{headers:{Authorization:`Bearer ${a}`}});console.log("Staff",r),h((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching Teacher"),console.error("Error fetching Teachers:",a)}finally{d(!1)}})),_=Q.useMemo((()=>c.map((e=>({value:null==e?void 0:e.teacher_id,label:null==e?void 0:e.name})))),[c]),S=()=>{const e={};return f&&f.value||(e.classError="Please select teacher."),v.trim()||(e.subjectError="Subject is required."),w.trim()||(e.remarkError="Remark is required."),s(e),0===Object.keys(e).length},k=()=>{x(null),y(""),j(""),s({})};return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mb-4",children:[oe.jsx("div",{className:"card-header flex justify-between items-center"}),oe.jsx("div",{className:"w-[80%] mx-auto",children:oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Create Remark & Observation"})}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full ml-2",children:a?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsx("div",{className:"card-body w-full ml-2",children:oe.jsxs("div",{className:"space-y-4 mr-10",children:[oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center mb-2",children:[oe.jsxs("label",{className:"w-[28%] text-[1em] text-gray-700",children:["Select Teacher ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx(Soe,{options:_,value:f,onChange:e=>{x(e),b(null==e?void 0:e.value),e&&s((e=>m(u({},e),{classError:""})))},className:"w-[60%]",placeholder:"Select",isClearable:!0}),n.classError&&oe.jsx("p",{className:"text-red-500 text-sm",children:n.classError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsxs("label",{className:"w-[28%] text-[1em] text-gray-700",children:["Subject of Remark"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("input",{type:"text",className:"w-[60%] px-2 py-2 border border-gray-700 rounded-md shadow-md",value:v,onChange:e=>y(e.target.value),maxLength:100}),n.subjectError&&oe.jsx("p",{className:"text-red-500 text-sm",children:n.subjectError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsxs("label",{className:"w-[28%] text-[1em] text-gray-700",children:["Remark ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("textarea",{rows:"3",className:"w-[60%] px-2 py-1 border border-gray-700 rounded-md shadow-md",value:w,maxLength:300,onChange:e=>j(e.target.value)}),n.remarkError&&oe.jsx("p",{className:"text-red-500 text-sm",children:n.remarkError}),oe.jsx("div",{className:"mt-2",children:oe.jsxs("label",{className:"inline-flex flex-col text-sm text-gray-700",children:[oe.jsxs("span",{className:"flex items-center",children:[oe.jsx("input",{type:"checkbox",className:"mr-2",checked:l,onChange:e=>{o(e.target.checked)}}),"Observation"]}),oe.jsx("span",{className:"text-xs text-gray-500 ml-6",children:"(Observation will not be shown to teachers!)"})]})})]})]})]})})}),!a&&oe.jsxs("div",{className:"flex space-x-2 justify-end mb-2 mr-2",children:[oe.jsx("button",{onClick:()=>p(e,null,(function*(){if(!S())return;r(!0);const e=new FormData;e.append("teacherid[]",null==f?void 0:f.value),e.append("remark_subject",v),e.append("remark",w),e.append("remark_type",l?"Observation":"Remark"),console.log("formData:",{teacherid:null==f?void 0:f.value,remark_subject:v,remark:w,remark_type:l?"Observation":"Remark"});try{const a=localStorage.getItem("authToken");200===(yield Uf.post(`${t}/api/save_remarkforteacher`,e,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})).status?(hp.success("Remark Saved successfully!"),null==k||k()):hp.error("Unexpected server response.")}catch(a){console.error("Submit Error",a),hp.error("Error while saving.")}finally{r(!1)}})),className:"btn btn-primary",children:"Save"}),oe.jsx("button",{onClick:()=>p(e,null,(function*(){if(!S())return;r(!0);const e=new FormData;e.append("teacherid[]",null==f?void 0:f.value),e.append("remark_subject",v),e.append("remark",w),e.append("remark_type",l?"Observation":"Remark"),console.log("formData:",{teacherid:null==f?void 0:f.value,remark_subject:v,remark:w,remark_type:l?"Observation":"Remark"});try{const a=localStorage.getItem("authToken");200===(yield Uf.post(`${t}/api/save_savenpublishremarkforteacher`,e,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})).status?(hp.success("Remark Saved and Published successfully!"),null==k||k()):hp.error("Unexpected server response.")}catch(a){console.error("Submit Error",a),hp.error("Error while saving and Publishig.")}finally{r(!1)}})),className:"btn btn-primary",disabled:l,children:"Save & Publish"}),oe.jsx("button",{onClick:k,className:"btn btn-danger bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Reset"})]})]})})})]})]})};function zPe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState(!0),[r,n]=Q.useState("Manage");Q.useState([]);const[s,l]=Q.useState([]),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),[b,v]=Q.useState(null),[y,w]=Q.useState("");Q.useState(""),Q.useState("");const[j,N]=Q.useState("");Q.useState(""),Q.useState("");const[_,S]=Q.useState(""),[k,C]=Q.useState(0),[E,T]=Q.useState(0),[O,D]=Q.useState(!1);Q.useRef(null);const A=Q.useRef(0),P=Q.useRef(""),M=sm(),[L,I]=Q.useState(null);Q.useState("All"),Q.useState("");const[F,R]=Q.useState([]),[$,B]=Q.useState(""),[z,U]=Q.useState(""),[H,W]=Q.useState(""),[Y,q]=Q.useState(""),[V,G]=Q.useState([]);Q.useState([]);const[K,X]=Q.useState(!1);Q.useState("");const[J,Z]=Q.useState({teacherName:"",remarkSubject:"",remarkDescription:""});Q.useEffect((()=>{te(),ee()}),[]);const ee=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/getClassList`,{headers:{Authorization:`Bearer ${t}`}});Array.isArray(a.data)?(l(a.data),console.log("this is the dropdown of the allot subject tab for class",a.data)):I("Unexpected data format")}catch(t){console.error("Error fetching class names:",t),I("Error fetching class names")}})),te=()=>p(this,null,(function*(){var t;if(!O){D(!0),S(""),a(!0);try{const a=localStorage.getItem("authToken"),r={},n=yield Uf.get(`${e}/api/get_remarkforteacherlist`,{headers:{Authorization:`Bearer ${a}`},params:r});console.log("response",n.data);const s=(null==(t=n.data)?void 0:t.date)||[];if(s.length>0){const e=s.map((e=>m(u({},e),{showSendButton:"Y"===e.publish})));R(e),T(Math.ceil(e.length/10))}else R([]),hp.error("No remarks found.")}catch(r){console.error("Error fetching remarks:",r),hp.error("Error fetching remarks. Please try again.")}finally{D(!1),a(!1)}}}));V&&V.length>0&&V.map(((e,t)=>{const a=e.substring(e.lastIndexOf("/")+1);return oe.jsxs("div",{className:"flex flex-row text-[.6em] items-center gap-x-2",children:[oe.jsx("span",{children:a}),oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>ae(e,a),children:oe.jsx(pie,{})})]},t)}));const ae=(e,t)=>{const a=`${e}`,r=document.createElement("a");r.href=a,r.target="none",r.download=t||"downloaded_file.pdf",document.body.appendChild(r),r.click(),document.body.removeChild(r)},[re,ne]=Q.useState([]),se=()=>{B(""),U(""),N(""),ne([]),ce([]),c(!1),i(!1),f(!1),g(!1),X(!1)};Q.useEffect((()=>{const e=_.trim().toLowerCase();""!==e&&""===P.current&&(A.current=k,C(0)),""===e&&""!==P.current&&C(A.current),P.current=e}),[_]);const le=_.trim().toLowerCase(),ie=F.filter((e=>{var t,a,r,n,s;const l=(null==(t=null==e?void 0:e.teachername)?void 0:t.toLowerCase())||"",o=(null==(a=null==e?void 0:e.remark_type)?void 0:a.toLowerCase())||"",i=(null==(r=null==e?void 0:e.remark_subject)?void 0:r.toLowerCase())||"",d=(null==(n=null==e?void 0:e.name)?void 0:n.toLowerCase())||"",c=(null==(s=null==e?void 0:e.publish_date)?void 0:s.toString().toLowerCase().trim())||"";return l.toLowerCase().includes(le)||o.toLowerCase().includes(le)||i.toLowerCase().includes(le)||d.toLowerCase().includes(le)||c.toLowerCase().includes(le)})).slice(10*k,10*(k+1)),[de,ce]=Q.useState([]),ue=e=>{const t=Array.from(e.target.files);ce([...de,...t])};return console.log("handleFileUpload",ue),oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Remark for Teachers"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{M("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row -top-4",children:[{id:"Manage",label:"Manage"},{id:"CreateTeacherRemarkObservation",label:"Create for Teacher"}].map((({id:e,label:t})=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(r===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>{return"Manage"===(t=e)&&te(),void n(t);var t},className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap","aria-current":r===e?"page":void 0,children:t})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===r&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Remark & Observation"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>S(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Teacher Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Type"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Publish Date"})," ",oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject of Remark"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit/View"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Publish"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Acknowledge"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Viewed"})]})}),oe.jsx("tbody",{children:t?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):ie.length?ie.map(((e,t)=>oe.jsxs("tr",{className:"text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*k+t+1}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.name}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.remark_type}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:(null==e?void 0:e.publish_date)&&"0000-00-00"!==e.publish_date?new Date(e.publish_date).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.remark_subject}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:"Y"===e.publish?oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{Z({teacherName:e.name||"",remarkSubject:e.remark_subject||"",remarkDescription:e.remark_desc||""}),X(!0)})(e),children:oe.jsx(kg,{className:"font-bold text-xl"})}):oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>{var t;M(`/remObsTeacher/edit/${(t=e).t_remark_id}`,{state:t})},children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"N"===e.publish?oe.jsx("button",{onClick:()=>(e=>{const t=F.find((t=>t.t_remark_id===e));console.log("classToDelete",t),v({classToDelete:t}),w((null==t?void 0:t.name)||"this remark"),g(!0)})(null==e?void 0:e.t_remark_id),className:"text-red-600 hover:text-red-800 hover:bg-transparent",children:oe.jsx(zM,{icon:VM})}):" "}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"N"===e.publish&&"Observation"!==e.remark_type?oe.jsx("button",{onClick:()=>{return v(t=e),console.log("fdsfsdsd handleEdit",t),void c(!0);var t},className:"text-green-500 hover:text-green-700 hover:bg-transparent",children:oe.jsx(Vm,{})}):""}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"Y"==e.acknowledge&&oe.jsx(zM,{icon:ZM,className:"text-black text-base"})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:1==e.read_status&&oe.jsx(zM,{icon:KM,style:{color:"#C03078"},className:"text-base"})})]},e.notice_id))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"11",className:"text-center py-6 text-red-700 text-lg",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:E,onPageChange:e=>{C(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"CreateTeacherRemarkObservation"===r&&oe.jsx("div",{children:oe.jsx(BPe,{})})]})]}),h&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Notice/SMS"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:se})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"className",className:"w-1/2 mt-2",children:"Class:"}),oe.jsx("div",{className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner break-words",style:{maxWidth:"262px",height:"auto",wordWrap:"break-word"},children:j})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"subject",className:"w-1/2 mt-2",children:"Subject:"}),oe.jsx("input",{id:"subject",type:"text",maxLength:100,className:"form-control shadow-md mb-2 w-full",value:$,onChange:e=>B(e.target.value)}),H&&oe.jsx("p",{className:"text-red-500 text-sm h-3",children:H})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"noticeDesc",className:"w-1/2 mt-2",children:"Description:"}),oe.jsx("textarea",{id:"noticeDesc",rows:"2",maxLength:1e3,className:"form-control shadow-md mb-2 w-full",value:z,onChange:e=>U(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.selectionStart,a=z.slice(0,t),r=z.slice(t);U(`${a}\n ${r}`),setTimeout((()=>{e.target.selectionStart=e.target.selectionEnd=t+3}),0)}}}),Y&&oe.jsx("p",{className:"h-3 relative -top-3 text-red-500 text-sm mt-2",children:Y})]}),"Notice"===(null==b?void 0:b.notice_type)&&oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"  relative -top-5 w-full  flex flex-row justify-between gap-x-2 ",children:[oe.jsx("label",{className:"px-2 mt-2 lg:px-3 py-2 ",children:"Upload Files"}),oe.jsx("input",{className:"mt-3 relative right-0 md:right-[11%] text-xs bg-gray-50 ",type:"file",multiple:!0,onChange:ue})]}),oe.jsx("label",{className:"px-2 block  mb-2",children:"Attachment:"}),oe.jsxs("div",{className:"",children:[de.map(((e,t)=>oe.jsxs("div",{className:"flex items-center gap-x-2",children:[oe.jsx("span",{className:"bg-gray-100 border-1 text-[.8em] p-0.5 shadow-sm",children:e.name}),oe.jsx("div",{children:oe.jsx(sh,{className:"text-xl relative  w-4 h-4 text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>(e=>{const t=de.filter(((t,a)=>a!==e));ce(t)})(t)})})]},t))),oe.jsx("div",{children:re.map(((e,t)=>{const a=e.substring(e.lastIndexOf("/")+1);return oe.jsxs("div",{className:"flex items-center gap-x-2",children:[oe.jsx("span",{className:"bg-gray-100 border-1 p-0.5 text-[.8em] shadow-sm",children:a}),oe.jsx(sh,{className:" text-xl relative - w-4 h-4 text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>(e=>{const t=re.filter(((t,a)=>a!==e));ne(t)})(t)})]},t)}))})]})]})})]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(O)return;D(!0);let t=!1;if($.trim()?W(""):(W("Subject is required."),t=!0),z.trim()?q(""):(q("Notice description is required."),t=!0),t)D(!1);else try{const t=localStorage.getItem("authToken");if(!t)throw new Error("Authentication token is missing");const a=new FormData;a.append("subject",$),a.append("notice_desc",z),de.forEach((e=>a.append("userfile[]",e))),console.log("filenottobedeleted[]",re),re.forEach((e=>{const t=e.split("/").pop();a.append("filenottobedeleted[]",t)})),console.log("Formatted data of the edit SMS part",a),console.log("Selected files",de),console.log("formated data of the edit sms part",a),console.log("seletd files",de),yield Uf.post(`${e}/api/update_smsnotice/${null==b?void 0:b.unq_id}`,a,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"},withCredentials:!0}),hp.success("Notice updated successfully!"),te(),se()}catch(a){hp.error("Error updating notice. Please try again."),console.error(a)}finally{D(!1)}})),disabled:O,children:O?"Updating...":"Update"})})]})})})}),x&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:se}),console.log("the currecnt section inside delete of the managesubjhect",b)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete remark for"," ",y,"?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var t,a;if(!O){D(!0);try{const r=localStorage.getItem("authToken");if(!r||!b||!(null==(t=null==b?void 0:b.classToDelete)?void 0:t.t_remark_id))throw new Error("Remark Id is missing");yield Uf.delete(`${e}/api/delete_remarkforteacher/${null==(a=null==b?void 0:b.classToDelete)?void 0:a.t_remark_id}`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0}),te(),g(!1),hp.success(`${y} Remark Deleted successfully!`)}catch(r){r.response&&r.response.data?hp.error(`Error In Deleting ${y}: ${r.response.data.message}`):hp.error(`Error In Deleting ${y}: ${r.message}`),console.error("Error In Deleting:",r)}finally{D(!1),g(!1)}}})),disabled:O,children:O?"Deleting...":"Delete"})})]})})})}),d&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Publish"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:se}),console.log("the currecnt section inside delete of the managesubjhect",b)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to publish remark for"," ",` ${null==b?void 0:b.name} `," ?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(null==b?void 0:b.t_remark_id){D(!0);try{const t=localStorage.getItem("authToken"),a={remark_subject:b.remark_subject,remark:b.remark_desc};200===(yield Uf.put(`${e}/api/update_publishremarkforteacher/${b.t_remark_id}`,a,{headers:{Authorization:`Bearer ${t}`}})).status?(hp.success("Remark published successfully!"),c(!1),te()):hp.error("Failed to publish remark.")}catch(t){console.error("Error publishing remark:",t),hp.error("Something went wrong.")}finally{D(!1)}}else hp.error("Invalid remark ID.")})),disabled:O,children:O?"Publishing...":"Publish"})})]})})})}),K&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"View Remark"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>X(!1)})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"px-4 mb-3 space-y-4",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("label",{className:"w-[30%] text-gray-700 font-medium",children:"Teacher Name:"}),oe.jsx("input",{type:"text",value:J.teacherName,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-100 text-gray-700"})]}),oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("label",{className:"w-[30%] text-gray-700 font-medium",children:"Remark Subject:"}),oe.jsx("input",{type:"text",value:J.remarkSubject,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-100 text-gray-700"})]}),oe.jsxs("div",{className:"flex items-start",children:[oe.jsx("label",{className:"w-[30%] text-gray-700 font-medium pt-2",children:"Remark Description:"}),oe.jsx("textarea",{value:J.remarkDescription,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-100 text-gray-700",rows:4})]})]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>X(!1),children:"Close"})})]})})})})]})}const UPe=()=>{Q.useState(""),Q.useState("");const[t,a]=Q.useState(!1),[r,n]=Q.useState(!1),[s,l]=Q.useState({subjectError:"",remarkDescError:"",classError:""}),{id:o}=om();console.log("id",o);const i=rm(),d=i.state;console.log("selectedRemark",d);const[c,h]=Q.useState({name:"",remark_subject:"",remark_desc:"",remark_type:"Remark",t_remark_id:""}),f=sm();return Q.useEffect((()=>{i.state&&(h({t_remark_id:i.state.t_remark_id||"",name:i.state.teacher_name||i.state.name||"",remark_subject:i.state.remark_subject||"",remark_desc:i.state.remark||i.state.remark_desc,remark_type:i.state.remark_type||"Remark"}),n("Observation"===i.state.remark_type))}),[i.state]),oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mb-4",children:[oe.jsx("div",{className:"card-header flex justify-between items-center"}),oe.jsx("div",{className:"w-[70%] mx-auto",children:oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Edit Remark & Observation"}),oe.jsx(sh,{className:"text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>f("/remObsTeacher")})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full ml-2",children:t?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsx("div",{className:"card-body w-full ml-2",children:oe.jsxs("div",{className:"space-y-5 mr-14",children:[oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsx("label",{className:"w-[40%] text-[1em] text-gray-700",children:"Teacher Name"}),oe.jsx("div",{className:"flex-1",children:oe.jsx("input",{type:"text",name:"name",value:(null==c?void 0:c.name)||"",readOnly:!0,className:"w-full bg-gray-200 text-gray-700 p-2 rounded"})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsxs("label",{className:"w-[40%] text-[1em] text-gray-700",children:["Subject of Remark"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("input",{type:"text",className:"w-full px-2 py-2 border border-gray-700 rounded-md shadow-md",value:null==c?void 0:c.remark_subject,onChange:e=>h(m(u({},c),{remark_subject:e.target.value}))}),s.subjectError&&oe.jsx("p",{className:"text-red-500 mt-1",children:s.subjectError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsxs("label",{className:"w-[40%] text-[1em] text-gray-700",children:["Remark ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("textarea",{rows:"3",className:"w-full px-2 py-1 border border-gray-700 rounded-md shadow-md",value:c.remark_desc,onChange:e=>h(m(u({},c),{remark_desc:e.target.value}))}),s.remarkDescError&&oe.jsx("p",{className:"text-red-500 mt-1",children:s.remarkDescError})]})]})]})})}),!t&&oe.jsxs("div",{className:"flex space-x-2 justify-end mb-2 mr-2",children:[oe.jsx("button",{onClick:()=>p(e,null,(function*(){if(console.log("handleSubmitEdit is runing",c),console.log(c.remark_subject),console.log(c.remark_desc),console.log("validation start runing"),(()=>{var e,t;const a={};return(null==(e=c.remark_subject)?void 0:e.trim())||(a.subjectError="Subject of the remark is required."),(null==(t=c.remark_desc)?void 0:t.trim())||(a.remarkDescError="Remark description is required."),l(a),0===Object.keys(a).length})()){console.log("validation not run");try{console.log("validation  run"),a(!0);const e=localStorage.getItem("authToken"),t={remarksubject:c.remark_subject,remark:c.remark_desc};console.log("Submitting update:",t);const r=yield Uf.put(`https://sms.evolvu.in/public/api/update_updateremarkforteacher/${c.t_remark_id}`,t,{headers:{Authorization:`Bearer ${e}`}});200===r.status?(hp.success(r.data.message||"Remark updated successfully!"),f("/remObsTeacher")):hp.error(r.data.message||"Failed to update remark.")}catch(e){console.error("Error updating remark:",e),hp.error(e||"Something went wrong.")}finally{a(!1)}}})),className:"btn btn-primary",children:"Update"}),oe.jsx("button",{onClick:()=>{h({t_remark_id:c.t_remark_id,name:c.name,remark_subject:"",remark_desc:"",remark_type:"Remark"}),l({subjectError:"",remarkDescError:"",classError:""}),n(!1)},className:"btn btn-danger bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Reset"})]})]})})})]})]})};function HPe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),u=Q.useRef(0),m=Q.useRef(""),[h,f]=Q.useState(null),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(0),[j,N]=Q.useState(0),_=10,S=sm();Q.useEffect((()=>{k()}),[]);const k=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/get_listforleaveapprove`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("approve leave data",r.data.data),a(r.data.data),N(Math.ceil(r.data.data.length/_))}catch(t){l(t.message)}finally{n(!1)}}));console.log("the response of the approve leave ",t);const C=[{value:"A",label:"Apply"},{value:"R",label:"Rejected"},{value:"P",label:"Approved"},{value:"H",label:"Hold"}],E=()=>{i(!1),f(null)},T=e=>{if(!e)return"-";const t=new Date(e);return`${String(t.getDate()).padStart(2,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getFullYear()).slice(-2)}`};Q.useEffect((()=>{const e=b.trim().toLowerCase();""!==e&&""===m.current&&(u.current=y,w(0)),""===e&&""!==m.current&&w(u.current),m.current=e}),[b]);const O=Array.isArray(t)?t.filter((e=>{const t=String(b).trim().toLowerCase();return String(e.name).toLowerCase().includes(t)||String(T(e.leave_start_date)).toLowerCase().includes(t)||String(T(e.leave_end_date)).toLowerCase().includes(t)||String(e.no_of_days).toLowerCase().includes(t)||String(e.status).toLowerCase().includes(t)})):[];console.log("filetred staff leave",O),Q.useEffect((()=>{N(Math.ceil(O.length/_))}),[O,_]);const D=O.slice(y*_,(y+1)*_);return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"md:container w-full md:w-[95%] md:mx-auto md:mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg mt-4",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Leave Approve"}),oe.jsx("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>v(e.target.value)})})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full box-border",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Staff Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave Type"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave Start Date"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Leave End Date"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"No. of Days"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Status"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):D.length?D.map(((e,t)=>{var a;return oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:y*_+t+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.teachername})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.leavetypename})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:T(e.leave_start_date)})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:T(e.leave_end_date)})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.no_of_days||"-"})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==(a=C.find((t=>t.value===(e.status||"-"))))?void 0:a.label)||"-"})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("this is the inside handle submit",e.leave_app_id),S(`/leaveApprove/edit/${e.leave_app_id}`,{state:{staffleave:e}})})(e),children:oe.jsx(zM,{icon:HM})})})]},e.leave_app_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:j,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{w(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title  ",children:"Delete Staff"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:E})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("p",{children:["Are you sure you want to delete: ",x,"?"]}),console.log("currestStaffDelete",h)]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!d){c(!0);try{const t=localStorage.getItem("authToken");if(!t||!h)throw new Error("Leave Id is missing");const a=yield Uf.delete(`${e}/api/delete_leaveapplication/${h}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});k(),200===a.status?(E(),hp.success(`${x} deleted successfully!`)):hp.error("Leave Application not found")}catch(t){console.error("Error deleting staff:",t),hp.error("Failed to delete staff"),hp.error(t.response.data.error)}finally{c(!1),i(!1)}}})),disabled:d,children:d?"Deleting...":"Delete"})})]})})})})]})}function WPe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState([]),[s,l]=Q.useState(!0),[o,i]=Q.useState(null),d=sm(),[c,u]=Q.useState("Teacher Attendance"),[m,h]=Q.useState(!1);Q.useState("");const[f,x]=Q.useState(""),[g,b]=Q.useState(0),[v,y]=Q.useState([]),[w,j]=Q.useState(0),[N,_]=Q.useState([]),[S,k]=Q.useState(0);Q.useState("");const[C,E]=Q.useState("");Q.useEffect((()=>{T()}),[]);const T=()=>p(this,null,(function*(){var t,a,r,n;const s=(new Date).toISOString().split("T")[0];try{const l=localStorage.getItem("authToken");if(!l)throw new Error("No authentication token found");const o=yield Uf.get(`${e}/api/get_absentteacherfortoday`,{headers:{Authorization:`Bearer ${l}`},params:{date:s}}),i=(null==(a=null==(t=o.data)?void 0:t.data)?void 0:a.absent_staff)||[];console.log("Absent staff",i);const d=(null==(n=null==(r=o.data)?void 0:r.data)?void 0:n.present_late)||[];console.log("Present staff",d),y(i),_(d),k(d.length),j(i.length)}catch(o){i(o.message||"Something went wrong while fetching data.")}finally{l(!1)}})),O=r.filter((e=>{const t=f.toLocaleLowerCase().trim(),a=`${e.first_name||""} ${e.mid_name||""} ${e.last_name||""}`.toLowerCase(),r=`${e.classname||""} ${e.sectionname||""}`.toLowerCase(),n=`${e.phone_no||""}`.toLowerCase(),s=`${e.email_id||""} ${e.email_id||""}`.toLowerCase();return a.includes(t)||r.includes(t)||n.includes(t)||s.includes(t)}));O.slice(10*g),t.filter((e=>{const t=f.toLowerCase().trim(),a=`${e.name||""}`.toLowerCase(),r=`${e.phone||""}`.toLowerCase(),n=`${e.email||""}`.toLowerCase();return a.includes(t)||r.includes(t)||n.includes(t)})).slice(10*g);const[D,A]=Q.useState([]),P=N.filter((e=>"Y"===e.late)).length>0&&D.length===N.filter((e=>"Y"===e.late)).length;return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"md:mx-auto md:w-[80%] p-3 bg-white mt-2",children:[oe.jsxs("div",{className:"card-header flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Today's Attendance"}),oe.jsx(sh,{className:"float-end relative  -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{d("/dashboard")}})]}),oe.jsx("div",{className:"relative mb-8 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row -top-4",children:[{label:"Teacher Attendance",count:S},{label:"Teachers on leave",count:w}].map((e=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(c===e.label?"text-blue-500 font-bold":""),children:oe.jsxs("button",{onClick:()=>(e=>{u(e)})(e.label),className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap",children:[e.label.replace(/([A-Z])/g," $1")," ",oe.jsxs("span",{className:"text-sm text-[#C03078] font-bold",children:["(",e.count,")"]})]})},e.label)))}),oe.jsx("div",{className:"w-full",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsx("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Teacher Attendance"===c?` ${(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long"})}`:`${(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long"})} `})})}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"bg-white rounded-md mt-3 mb-3 w-[90%] md:ml-16",children:s?oe.jsx("div",{className:"text-center text-xl py-10 text-blue-700",children:"Please wait while data is loading..."}):"Teacher Attendance"===c?oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-0.5 w-full md:w-[7%] mx-auto text-center lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsxs("th",{className:"px-0.5 w-full md:w-[7%] mx-auto text-center lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:["Select All",oe.jsx("br",{}),oe.jsx("input",{type:"checkbox",checked:P,onChange:()=>{if(P)A([]);else{const e=N.filter((e=>"Y"===e.late)).map((e=>e.teacher_id));A(e)}}})," "]}),oe.jsx("th",{className:"px-0.5 w-full md:w-[25%] mx-auto text-center lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Teachers name"}),oe.jsx("th",{className:"px-0.5 text-center md:w-[20%] lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-0.5 text-center md:w-[10%] lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Punch In"}),oe.jsx("th",{className:"px-0.5 text-center md:w-[10%] lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Punch Out"}),oe.jsx("th",{className:"px-0.5 text-center md:w-[10%] lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delay Time"}),oe.jsx("th",{className:"px-0.5 text-center  md:w-[35%] lg:px-1 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Mobile No."})]})}),oe.jsx("tbody",{children:N.length>0?N.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"sm:px-0.5 text-center lg:px-1 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:t+1})}),oe.jsx("td",{className:"sm:px-0.5 text-center lg:px-1 border border-gray-950 text-sm",children:"Y"===e.late&&oe.jsx("input",{type:"checkbox",checked:D.includes(e.teacher_id),onChange:()=>{return t=e.teacher_id,void A((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t}})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:e.class_section||"-"})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:e.punch_in||"-"})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:e.punch_out||"-"})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:"Y"===e.late&&e.punch_in&&e.late_time?(()=>{const t=new Date(`1970-01-01T${e.punch_in}`),a=new Date(`1970-01-01T${e.late_time}`);return`${Math.max(Math.floor((t-a)/6e4),0)} mins late`})():""})}),oe.jsx("td",{className:"text-center px-2 lg:px-2 border border-gray-950 text-sm",children:oe.jsx("p",{className:"whitespace-no-wrap relative top-2 "+("Y"===e.late?"text-red-600":"text-gray-900"),children:e.phone||" "})})]},e.student_id))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"8",className:"text-center text-xl py-5 text-red-700 border border-gray-950",children:"No Teachers are Late Today."})})})]})}):oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"px-1 w-full md:w-[10%] mx-auto py-2 border border-gray-950 text-sm font-semibold text-center text-gray-900",children:"S.No"}),oe.jsx("th",{className:" px-0.5 w-full md:w-[30%] mx-auto text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Teachers name"}),oe.jsx("th",{className:" px-0.5 w-full md:w-[30%] mx-auto text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Class"}),oe.jsx("th",{className:" px-0.5 md:w-[10%] text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Mobile No."}),oe.jsx("th",{className:" px-0.5 w-full md:w-[%] mx-auto text-center lg:px-1 py-2  border border-gray-950 text-sm font-semibold text-gray-900  tracking-wider",children:"Leave Status"})]})}),v.length>0?v.map(((e,t)=>oe.jsxs("tr",{className:(t%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900",children:t+1})}),oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900",children:(null==e?void 0:e.name)||" "})}),oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900",children:(null==e?void 0:e.class_section)||" - "})}),oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900",children:(null==e?void 0:e.phone)||" "})}),oe.jsx("td",{className:"text-center border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900",children:(null==e?void 0:e.leave_status)||" - "})})]},e.teacher_id))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"4",className:"text-center text-xl py-5 text-red-700",children:"No Teachers are on Leave Today."})})]})})}),"Teacher Attendance"===c&&N.length>0&&oe.jsxs("div",{className:"bg-white rounded-md mt-3 mb-5 w-[90%] md:ml-16 p-4 shadow",children:[oe.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Select the teachers above and enter the message below to send to those who arrived late."}),oe.jsxs("div",{className:"flex flex-row items-end gap-3 w-full",children:[oe.jsxs("div",{className:"w-full md:w-[80%] relative",children:[oe.jsx("textarea",{value:C,onChange:e=>{e.target.value.length<=900&&E(e.target.value)},className:"w-full h-28 p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-150 resize-none",placeholder:"Enter message"}),oe.jsxs("div",{className:"absolute bottom-2 right-3 text-xs text-gray-500 pointer-events-none",children:[C.length," / ",900]})]}),oe.jsx("button",{className:"text-white font-semibold py-2 px-6 rounded-md transition duration-200 "+(m?"bg-blue-500 opacity-50 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),onClick:()=>p(this,null,(function*(){if(0===D.length)return void hp.error("Please select at least one teacher.");if(!C.trim())return void hp.error("Please enter a message to send.");const t=localStorage.getItem("authToken"),a=new FormData;D.forEach((e=>{a.append("teacher_id[]",e)})),a.append("message",C);try{h(!0);const r=yield Uf.post(`${e}/api/send_whatsapplatecoming`,a,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});200===r.status?(console.log("success"),hp.success("Messages sent successfully!"),E(""),A([])):(hp.error("Failed to send messages."),console.error("Server response:",r.data))}catch(r){console.error("Sending Error:",r),hp.error("An error occurred while sending messages.")}finally{h(!1)}})),disabled:m,children:m?"Sending":"Send"})]})]})]})})]})]})}const YPe=()=>{const t=rm(),a="https://sms.evolvu.in/public",[r,n]=Q.useState(!1),{staffleave:s}=t.state||{};console.log("staff leave for editing",s);const l=[{value:"P",label:"Approve"},{value:"H",label:"Hold"},{value:"R",label:"Rejected"}],[o,i]=Q.useState({teachername:"",leave_type_id:"",leave_start_date:"",leave_end_date:"",status:{value:"Approve",label:"Approve"},no_of_days:"",reason:"",reason_for_rejection:"",approverscomment:""}),[d,c]=Q.useState({}),[h,f]=Q.useState(null),[x,g]=Q.useState([]),b=sm();(new Date).toISOString().split("T")[0],Q.useEffect((()=>{v()}),[]);const v=()=>p(e,null,(function*(){n(!0);try{const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const t=yield Uf.get(`${a}/api/get_listforleaveapprove`,{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});console.log("approve leave data",t.data.data),g(t.data.data)}catch(e){f(e.message)}finally{n(!1)}}));return Q.useEffect((()=>{s&&i({teachername:s.teachername||"",leavetypename:s.leavetypename||"",leave_type_id:s.leave_type_id||"",leave_start_date:s.leave_start_date||"",leave_end_date:s.leave_end_date||"",status:l.find((e=>e.value===s.status))||l[0],no_of_days:s.no_of_days||"",reason:s.reason||"",reason_for_rejection:s.reason_for_rejection||""})}),[s,a]),oe.jsxs("div",{className:"container mx-auto min-h-screen flex items-center justify-center mt-3 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-[66%] ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Leave Approve"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{c({}),b("/approveLeavelist")}})]}),oe.jsx("div",{className:" relative w-full -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"  md:absolute md:right-10  md:top-[11%]  text-gray-500  ",children:[oe.jsx("span",{className:"text-red-500",children:"*"}),"indicates mandatory information"]}),oe.jsx("form",{className:"flex items-center justify-center overflow-x-hidden shadow-md p-3 bg-gray-50 space-y-2",children:oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:100,id:"teacher",name:"teacher",pattern:"^[^\\d].*",title:"Name should not start with a number",required:!0,value:o.teachername,disabled:!0,className:"w-full form-control shadow-md mb-2"}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:d.teacher&&oe.jsx("span",{className:"text-danger text-xs",children:d.teacher})})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"leaveType",className:"w-1/2 mt-2",children:["Leave Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"leaveType",name:"leaveType",value:o.leavetypename,disabled:!0,className:"w-full form-control shadow-md mb-2"}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:d.leave_type_id&&oe.jsx("span",{className:"text-danger text-xs",children:d.leave_type_id})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"startDate",className:"w-1/2 mt-2",children:["Leave Start Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"leave_start_date",name:"leave_start_date",value:o.leave_start_date,disabled:!0,className:"w-full form-control shadow-md mb-2"}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:d.leave_start_date&&oe.jsx("span",{className:"text-danger text-xs",children:d.leave_start_date})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"endDate",className:"w-1/2 mt-2",children:["Leave End Date ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"leave_end_date",name:"leave_end_date",value:o.leave_end_date,disabled:!0,className:"w-full form-control shadow-md mb-2"}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:d.leave_end_date&&oe.jsx("span",{className:"text-danger text-xs",children:d.leave_end_date})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"no_of_days",className:"w-1/2 mt-2",children:["No. of days ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",id:"no_of_days",name:"no_of_days",value:o.no_of_days,disabled:!0,className:"w-full form-control shadow-md mb-2"}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:d.no_of_days&&oe.jsx("span",{className:"text-danger text-xs",children:d.no_of_days})})]}),oe.jsxs("div",{className:"mt-4 relative mb-3 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"status",className:"w-1/2 mt-2",children:["Status ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("div",{className:"w-full",children:oe.jsx(Soe,{id:"status",name:"status",options:l,value:o.status,onChange:e=>{i((t=>m(u({},t),{status:e})))},className:"shadow-inner",classNamePrefix:"react-select",placeholder:"Select",isClearable:!0})})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"comment",className:"w-1/2 mt-2",children:"Reason"}),oe.jsx("textarea",{type:"text",maxLength:200,id:"reason",name:"reason",value:o.reason,rows:"2",className:"input-field resize block w-full border border-gray-300 rounded-md py-1 px-3 shadow-inner bg-gray-200",readOnly:!0})," "]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"comment",className:"w-1/2 mt-2",children:"Approver's Comment"}),oe.jsx("textarea",{type:"text",maxLength:200,id:"reason_for_rejection",name:"reason_for_rejection",value:o.reason_for_rejection,onChange:e=>i(m(u({},o),{reason_for_rejection:e.target.value})),className:"input-field resize block w-full border border-gray-300 rounded-md py-1 px-3 shadow-inner",rows:"2"})," "]}),oe.jsx("div",{className:"col-span-3 text-right mt-4",children:oe.jsx("button",{className:"mr-2 bg-blue-500 text-white py-1 px-3 rounded hover:bg-blue-700 \r\n               disabled:bg-blue-300 disabled:cursor-not-allowed disabled:hover:bg-blue-300",onClick:()=>p(e,null,(function*(){var e;if(null==s?void 0:s.leave_app_id)try{n(!0);const t=localStorage.getItem("authToken"),r=new FormData;r.append("status",(null==(e=o.status)?void 0:e.value)||"A"),r.append("approverscomment",o.reason_for_rejection||""),200===(yield Uf.post(`${a}/api/update_leaveapprovestatus/${s.leave_app_id}`,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}})).status?(hp.success("Leave updated successfully!"),v(),b("/approveLeavelist")):hp.error("Failed to update leave.")}catch(t){console.error("Error updating leave:",t),hp.error("Something went wrong.")}finally{n(!1)}else hp.error("Invalid leave application ID.")})),disabled:r,children:r?"Updating...":"Update"})})]})})]})]})};function qPe({periods:e,subjects:t,loading:a,selectedSubjects:r,handleTableData:n,activeTab:s,tabs:l,rowCounts:o,allocatedPeriods:i,usedPeriods:d,setUsedPeriods:c,classSectionNames:h,onOverrideChange:f}){const[p,x]=Q.useState({}),[g,b]=Q.useState({}),[v,y]=Q.useState({show:!1,x:0,y:0,items:[]}),w=l.find((e=>e.id===s)),j=`${null==w?void 0:w.class_id}-${null==w?void 0:w.section_id}`;Q.useEffect((()=>{if(!e||!Array.isArray(e))return;const t={};["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((a=>{const r=e.filter((e=>e.day===a));t[a]||(t[a]={}),r.forEach((e=>{t[a][e.period_no]={id:e.subject_id||"",name:e.subject||""}}))})),x(t),b((e=>m(u({},e),{[j]:t})))}),[e]);const N=t=>{const a=[],r=Math.max(o.mon_fri,o.sat);for(let n=0;n<r;n++)a.push(oe.jsxs("tr",{children:[oe.jsx("td",{className:"border p-2 bg-gray-100 text-center w-16",children:n+1}),t.map((t=>{var a;null==(a=p[t])||a[n+1];const r=e.find((e=>e.day===t&&e.period_no===n+1))||{},s=r.subject||"-";r.teachers;const l="Saturday"===t&&n>=o.sat,i="Saturday"!==t&&n>=o.mon_fri;return l||i?oe.jsx("td",{className:"border-none p-2 bg-gray-200"},t):oe.jsx("td",{className:"border p-2 text-center relative",children:"-"!==s?oe.jsx("div",{className:"text-pink-600 cursor-pointer text-[1em]",onMouseEnter:e=>{const t=s.split(",").map((e=>e.trim())).map((e=>({subject:e})));y({show:!0,x:e.clientX,y:e.clientY,items:t})},onMouseLeave:()=>y((e=>m(u({},e),{show:!1}))),children:s.split(",").map(((e,t)=>oe.jsx("div",{children:e.trim()},t)))}):oe.jsx("span",{className:"text-gray-400 text-sm",children:"-"})},t)}))]},n));return a},_=["Monday","Tuesday","Wednesday","Thursday","Friday",...o.sat>0?["Saturday"]:[]];return oe.jsxs("div",{className:"overflow-x-auto",children:[a?oe.jsx("div",{className:"mt-24 border-1 border-white flex justify-center items-center p-5",children:oe.jsx(Ag,{})}):(null==e?void 0:e.length)&&t.length&&(null==o?void 0:o.mon_fri)?oe.jsx("div",{className:"overflow-x-auto",children:oe.jsxs("table",{className:"border-collapse w-full",children:[oe.jsx("thead",{children:oe.jsxs("tr",{children:[oe.jsx("th",{className:"border p-2 bg-gray-200 w-16 text-center",children:"Period"}),_.map((e=>oe.jsx("th",{className:"border p-2 bg-gray-200 text-center",children:e},e)))]})}),oe.jsx("tbody",{children:N(_)})]})}):oe.jsxs("div",{className:"flex w-full text-center justify-center mt-14 flex-col items-center space-y-2",children:[oe.jsx("span",{className:"text-4xl animate-bounce",children:""}),oe.jsx("p",{className:"text-xl font-medium text-red-700 tracking-wide drop-shadow-md",children:"Oops! No data found.."})]}),oe.jsx(wp,{}),v.show&&oe.jsx("div",{className:"fixed z-50 bg-white text-gray-700 shadow-lg rounded-lg p-2 border border-gray-300 text-[1.1em]",style:{top:v.y+10,left:v.x+10,pointerEvents:"none",whiteSpace:"pre-line"},children:v.items.map(((e,t)=>oe.jsxs("div",{className:"font-medium",children:[oe.jsx("span",{className:"text-pink-600",children:e.subject})," "]},t)))})]})}const VPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState(null),[l,o]=Q.useState(!1),i=sm(),[d,c]=Q.useState(!1),[h,f]=Q.useState(""),[x,g]=Q.useState(!1),[b,v]=Q.useState([]),[y,w]=Q.useState(0),[j,N]=Q.useState(""),[_,S]=Q.useState({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),[k,C]=Q.useState([]),[E,T]=Q.useState(!1),[O,D]=Q.useState(""),[A,P]=Q.useState([]),[M,L]=Q.useState([]),[I,F]=Q.useState({}),[R,$]=Q.useState(null),[B,z]=Q.useState(null),[U,H]=Q.useState(""),[W,Y]=Q.useState(0),[q,V]=Q.useState(""),G=rm(),[K,X]=Q.useState(!1),[J,Z]=Q.useState({}),{staff:ee}=G.state||{};console.log("TeacherData is: ",ee),Q.useEffect((()=>{ae(),te()}),[]);const te=()=>p(e,null,(function*(){var e;try{c(!0);const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_sectionwithclassname`,{headers:{Authorization:`Bearer ${a}`}});console.log("ClassSection",r.data),C((null==(e=null==r?void 0:r.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching class and section name"),console.error("Error fetching class and section name:",a)}finally{c(!1)}}));Q.useEffect((()=>{p(e,null,(function*(){for(;!(null==ee?void 0:ee.teacher_id);)console.log("Waiting for staff..."),yield new Promise((e=>setTimeout(e,300)));re()}))}),[]);const ae=()=>p(e,null,(function*(){var e;try{c(!0);const a=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_teacherslistbyperiod`,{headers:{Authorization:`Bearer ${a}`}});console.log("Teachers",n.data),r((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching Teachers"),console.error("Error fetching Teachers:",a)}finally{c(!1)}})),re=()=>p(e,null,(function*(){var e,a,r,n,s,l,i,d,c,u,m,h,p;o(!1),X(!1),N(""),V(""),S({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),L([]),F({}),$(null),z(null),H(""),Y(0);try{const x=O.replace(/\s/g,"").replace(/%20/g,"");if(console.log("Formatted Week is: ---\x3e",x),o(!0),v([]),f(""),!(null==ee?void 0:ee.teacher_id))return console.log("Teacher ID is missing. Please select a teacher.---\x3e",ee),void hp.error("Teacher ID is missing. Please select a teacher.");console.log("Outside Teacher ID is missing. Please select a teacher----\x3e>>.",ee);const g=localStorage.getItem("authToken"),b=yield Uf.get(`${t}/api/get_teacherperioddata?teacher_id=${ee.teacher_id}`,{headers:{Authorization:`Bearer ${g}`}});(null==(e=null==b?void 0:b.data)?void 0:e.success)?($(null==(r=null==(a=null==b?void 0:b.data)?void 0:a.data[0])?void 0:r.periods_allocated),z(null==(s=null==(n=null==b?void 0:b.data)?void 0:n.data[0])?void 0:s.periods_used),H(null==(i=null==(l=null==b?void 0:b.data)?void 0:l.data[0])?void 0:i.periods_used)):hp.error("Failed to fetch teacher period data.");const y={teacher_id:null==ee?void 0:ee.teacher_id},j=yield Uf.get(`${t}/api/get_teacherclasstimetable`,{headers:{Authorization:`Bearer ${g}`},params:y});(null==(d=null==j?void 0:j.data)?void 0:d.data)&&0!==(null==(u=null==(c=null==j?void 0:j.data)?void 0:c.data)?void 0:u.length)?(f(""),X(!1),v(null==(m=null==j?void 0:j.data)?void 0:m.data),w(Math.ceil((null==(p=null==(h=null==j?void 0:j.data)?void 0:h.data)?void 0:p.length)/10))):(f("Time Table Planner for selected teacher not found."),X(!0),v([])),console.log("response iddddd---\x3e",j.data.data);const N=j.data.data.map((e=>({id:`${e.classname}-${e.sectionname}`,classname:e.classname,sectionname:e.sectionname,teachername:e.teachername,class_id:e.class_id,section_id:e.section_id}))).sort(((e,t)=>parseInt(e.classname,10)-parseInt(t.classname,10)));L(N),N.length>0&&V(N[0].id)}catch(x){console.error("Error fetching Time Table Planner for selected teacher :",x)}finally{g(!1),o(!1)}}));console.log("staff.tescher_id---\x3e",null==ee?void 0:ee.teacher_id);const ne=e=>{const t=[],a=[],r={mon_fri:e.mon_fri,sat:e.sat};return Object.keys(e).forEach((r=>{"mon_fri"!==r&&"sat"!==r&&e[r].forEach((e=>{!(e.teacher&&Array.isArray(e.teacher)&&e.teacher.length>0)||e.teacher.map((e=>e.t_name)).join(", ");const n=Array.isArray(e.subject)?e.subject.map((e=>e.subject_name||"")).filter(Boolean).join(", "):" ",s=Array.isArray(e.teacher)?e.teacher.map((e=>e.t_name||"")).filter(Boolean).join(", "):" ";t.push({period_no:e.period_no,time_in:e.time_in,time_out:e.time_out,subject_id:e.subject_id,subject:n,teachers:s,day:r}),a.push({day:r,period_no:e.period_no,subject_id:n,teachers:s})}))})),{periods:t,subjects:a,rowCounts:r}};return Q.useEffect((()=>{let a=M.find((e=>e.id===q));var r,n;console.log("activeTabData----\x3e",a),a&&(T(!0),a.selectedStudentId,r=a.class_id,n=a.section_id,p(e,null,(function*(){var e,a;T(!0);try{const s=localStorage.getItem("authToken");if(!s)throw new Error("No authentication token found");const l=yield Uf.get(`${t}/api/get_timetableviewbyteacher/${r}/${n}/${null==ee?void 0:ee.teacher_id}`,{headers:{Authorization:`Bearer ${s}`}});if(!1===(null==(e=l.data)?void 0:e.success)&&(null==(a=l.data)?void 0:a.message))return hp.error(l.data.message),void S({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}});if(l.data&&l.data.data){const e=ne(l.data.data);S(e)}else S({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}});const o=yield Uf.get(`${t}/api/get_teachersubjectbyclass?teacher_id=${null==ee?void 0:ee.teacher_id}&class_id=${r}&section_id=${n}`,{headers:{Authorization:`Bearer ${s}`}});o.data&&o.data.data?P(o.data.data):P([])}catch(s){console.error("Error fetching timetable data:",s),S({periods:[],subjects:[],rowCounts:{mon_fri:0,sat:0}}),P([]),hp.error("Error fetching timetable data. Please try again.")}finally{T(!1)}})))}),[q,n,M]),oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full md:w-[99%] mx-auto p-4 ",children:oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsxs("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:["View Time Table for"," ",oe.jsx("span",{className:"text-lg text-pink-600 mt-1 font-semibold",children:oe.jsx("span",{className:"uppercase",children:null==ee?void 0:ee.teachername})})]}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{i("/timetablePlanner")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx(oe.Fragment,{children:l?oe.jsxs(oe.Fragment,{children:[" ",oe.jsxs("div",{className:"flex flex-col justify-center items-center p-10 space-y-5",children:[oe.jsx("div",{className:"w-14 h-14 border-[5px] border-indigo-500 border-t-transparent rounded-full animate-spin shadow-lg"}),oe.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 bg-clip-text text-transparent animate-pulse",children:"Please wait while Loading timetable..."})]})]}):b.length>0?oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"card mx-auto lg:w-full shadow-lg mt-3",children:oe.jsxs("div",{className:"card-body bg-gray-100 border-none w-full border-3 border-black flex",children:[oe.jsxs("div",{className:"w-[15%] border-r h-[440px] overflow-y-auto p-3 bg-white rounded-xl shadow-lg",style:{scrollbarWidth:"thin",scrollbarColor:"#6366F1 #E5E7EB"},children:[oe.jsx("h3",{className:"text-lg font-semibold text-blue-600 mb-3 text-center",children:"Select Class"}),M.map((e=>oe.jsx("button",{className:"block w-full text-center p-3 my-2 text-lg font-medium rounded-lg transition-all duration-300\n        "+(q===e.id?"bg-indigo-600 text-white shadow-md transform scale-105":"bg-gray-100 text-gray-700 hover:bg-indigo-200 hover:shadow-md"),onClick:()=>{V(e.id)},children:e.id},e.id)))]}),oe.jsxs("div",{className:"w-[85%] overflow-hidden bg-white rounded-lg shadow-md",children:[oe.jsxs("div",{className:"w-[97%] mx-auto overflow-hidden  flex flex-row justify-between items-center  border-b-2 border-pink-600",children:[null!==R&&oe.jsxs("span",{className:"text-pink-500 text-xl font-medium",children:["Allocated Periods: ",R]}),oe.jsxs("h2",{className:"text-xl   text-blue-500 font-bold mb-2 text-center",children:["Class ",q]}),null!==B&&oe.jsxs("span",{className:"text-pink-500 text-xl font-medium",children:["Occupied Periods: ",B]})]}),oe.jsx("div",{className:"overflow-y-auto h-[400px] border rounded-md p-2",style:{scrollbarWidth:"thin",scrollbarColor:"#4F46E5 #E5E7EB"},children:oe.jsx(qPe,{activeTab:q,tabs:M,periods:_.periods||[],subjects:A||[],loading:E,selectedSubjects:I,handleTableData:(e,t,a,r,n)=>{const s=`${e}-${t}`;F((e=>{var t;return m(u({},e),{[s]:m(u({},e[s]),{[a]:m(u({},(null==(t=e[s])?void 0:t[a])||{}),{[r]:n})})})})),console.log("setSelectedSubjects[]-----\x3e",I)},rowCounts:_.rowCounts,allocatedPeriods:R,usedPeriods:B,setUsedPeriods:z,showToast:(e,t)=>console.log(`${t}: ${e}`),classSectionNames:k,overrideSelections:J,onOverrideChange:(e,t,a)=>{Z((r=>m(u({},r),{[`${e}-${t}`]:a})))}})})]})]})})}):K?oe.jsx("div",{className:" w-[100%]  text-center flex justify-center items-center mt-4",children:oe.jsx("div",{className:"p-5 text-center font-semibold text-xl text-red-600 ",children:"Oops! Time Table Planner for selected teacher not found.."})}):null})]})})})};function GPe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(0),[_,S]=Q.useState(0),[k,C]=Q.useState({}),[E,T]=Q.useState(""),[O,D]=Q.useState(!0),[A,P]=Q.useState("");Q.useState([]);const[M,L]=Q.useState(!1);Q.useState(""),Q.useState("");const[I,F]=Q.useState(""),R=Q.useRef(0),$=Q.useRef(""),B=10,z=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=(yield Uf.get(`${e}/api/get_stationery`,{headers:{Authorization:`Bearer ${t}`}})).data.data||[];a(r),S(Math.ceil(r.length/B))}catch(t){l(t.message||"Error fetching data"),hp.error(t.message||"Error fetching data")}finally{n(!1)}})),U=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});P(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")}));Q.useEffect((()=>{z(),U()}),[]),Q.useEffect((()=>{const e=b.trim().toLowerCase();""!==e&&""===$.current&&(R.current=j,N(0)),""===e&&""!==$.current&&N(R.current),$.current=e}),[b]);const H=t.filter((e=>{const t=b.trim().toLowerCase();return e.name.toLowerCase().includes(t)}));Q.useEffect((()=>{S(Math.ceil(H.length/B))}),[H,B]);const W=H.slice(j*B,(j+1)*B),Y=e=>{const t={};return e&&""!==e.trim()||(t.name="Please select Stationery Name."),t},q=()=>{i(!1),c(!1),f(!1),w(""),F(""),g(null),C({}),T("")},V=e=>{const{value:t}=e.target;/^[A-Za-z\s]*$/.test(t)&&(F(t),C((e=>m(u({},e),{name:Y(t).name}))))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container  mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-[70%] shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Stationery"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:b,onChange:e=>v(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 w-full md:w-[80%] mx-auto  overflow-y-scroll lg:overflow-x-hidden ",children:oe.jsx("div",{className:"bg-white  rounded-lg shadow-xs ",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[12%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:" -px-2  w-full md:w-[25%] text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Stationery Name"}),oe.jsx("th",{className:"px-2 w-full md:w-[14%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[14%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center text-blue-700 text-xl py-10",children:"Please wait while data is loading..."})}):W.length?W.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:j*B+a+1})}),oe.jsx("td",{className:"text-center px-2  border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.name})}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{g(e),console.log("stationery_id",e),F(e.name),c(!0)})(e),children:oe.jsx(zM,{icon:HM})})," "]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("id",e),g("");const a=t.find((t=>t.stationery_id===e));g(a),f(!0)})(e.stationery_id),children:oe.jsx(zM,{icon:VM})})})]},e.section_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:_,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{N(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create Stationery"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:q})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[" ",oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-3/4 mt-2",children:["Stationery Name",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"sectionName",value:I,onChange:V}),oe.jsx("div",{className:"absolute top-9 left-[42%]",children:k.name&&oe.jsx("span",{className:"text-danger text-xs",children:k.name})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 mr-2 ",style:{},onClick:()=>p(this,null,(function*(){if(M)return;L(!0);const t=Y(I);if(Object.keys(t).length>0)return C(t),void L(!1);console.log("stationery type",I);try{const t=localStorage.getItem("authToken");if(!t)return void console.error("No authentication token found");const a=yield Uf.post(`${e}/api/save_stationery`,{name:I},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("API Response (checkSetLateTime):",a);const{data:r}=a;if(console.log("API Response Data:",r),!r.success)return console.error("Error: The Name field must contain a unique value.",r),T("The Name field must contain a unique value.."),hp.error("The Name field must contain a unique value.."),D(!1),void L(!1);console.log("Data saved successfully.",r),T(""),hp.success("Stationery added successfully!"),D(!0),z(),q()}catch(a){console.error("Error adding Stationery:",a),hp.error("Server error. Please try again later.")}finally{L(!1)}})),disabled:M,children:M?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Stationery"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:q})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-3/4 mt-2",children:["Stationery Name",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"editSectionName",value:I,onChange:V}),oe.jsx("div",{className:"absolute top-9 left-[42%] ",children:k.name&&oe.jsx("span",{className:"text-danger text-xs",children:k.name})})]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){if(M)return;L(!0);const t=Y(I);if(Object.keys(t).length>0)return C(t),void L(!1);console.log("Current Section:",x),console.log("Current Section ID (stationery id):",x?x.stationery_id:null);try{const t=localStorage.getItem("authToken");if(console.log("Token:",t),!t||!x)throw new Error("No authentication token or Stationery ID found.");console.log("Current Section:",x);const a=yield Uf.put(`${e}/api/update_stationery/${x.stationery_id}`,{name:I},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("response.data.success",a.data.success),!1===a.data.success?hp.error("Stationery name already exists."):hp.success("Stationery updated successfully!"),z(),q()}catch(a){if(a.response){a.response&&(console.error("Error Response:",a.response),console.error("Error Response Data:",a.response.data));const{status:e,message:t}=a.res;400===e&&"Stationery name already exists."===t?(hp.error(t),C((e=>m(u({},e),{name:t})))):hp.error("Server error. Please try again later.")}else console.error("Unexpected Error:",a),hp.error("An unexpected error occurred. Please try again.")}finally{L(!1)}})),disabled:M,children:M?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:q})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete stationery:"," ",x.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!M){L(!0);try{const t=localStorage.getItem("authToken");if(localStorage.getItem("academicYear"),!t||!x||!x.stationery_id)throw new Error("Statonery is missing");const a=yield Uf.delete(`${e}/api/delete_stationery/${x.stationery_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});z(),a.data.success?(f(!1),g(null),hp.success("Stationery deleted successfully!")):hp.error(a.data.message||"Failed to delete Stationery")}catch(t){console.error("Error deleting Stationery:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{L(!1),f(!1)}}})),disabled:M,children:M?"Deleting...":"Delete"})})]})})})]})]})}const KPe=()=>{var t;const a="https://sms.evolvu.in/public",[r,n]=Q.useState(null),[s,l]=Q.useState(null),[o,i]=Q.useState([]),[d,c]=Q.useState([]),[h,f]=Q.useState([]),[x,g]=Q.useState([]),[b,v]=Q.useState(null),[y,w]=Q.useState(null),[j,N]=Q.useState(null),[_,S]=Q.useState(""),[k,C]=Q.useState(""),[E,T]=Q.useState(""),[O,D]=Q.useState("");Q.useState("");const[A,P]=Q.useState(null),[M,L]=Q.useState(null),[I,F]=Q.useState(null),[R,$]=Q.useState(null),[B,z]=Q.useState(!1),[U,H]=Q.useState(!1);Q.useState(!1);const W=sm(),Y={option:(e,t)=>m(u({},e),{fontSize:"0.8rem",backgroundColor:t.isFocused?"rgba(59, 130, 246, 0.1)":"white",color:t.isSelected?"blue":"inherit"}),menu:e=>m(u({},e),{zIndex:50})},[q,V]=Q.useState(""),[G,K]=Q.useState({stud_name:"",father_name:"",mother_name:"",father_email:"",father_phone:"",mother_email:"",mother_phone:"",user_id:""}),[X,J]=Q.useState({stud_name:"",father_name:"",mother_name:"",father_email:"",father_phone:"",mother_email:"",mother_phone:"",user_id:""}),[Z,ee]=Q.useState({}),[te,ae]=Q.useState(!1),[re,ne]=Q.useState(!1),[se,le]=Q.useState(!1),[ie,de]=Q.useState(!1);Q.useEffect((()=>{ce(),ue()}),[]);const ce=()=>p(e,null,(function*(){var e;try{ae(!0),ne(!0);const t=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${a}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${t}`}}),Uf.get(`${a}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${t}`}})]);i(r.data||[]),c((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(t){hp.error("Error fetching data.")}finally{ae(!1),ne(!1)}})),ue=()=>p(e,null,(function*(){var e;try{le(!0),de(!0);const t=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${a}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${t}`}}),Uf.get(`${a}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${t}`}})]);f(r.data||[]),g((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(t){hp.error("Error fetching data.")}finally{le(!1),de(!1)}})),me=Q.useMemo((()=>o.map((e=>{var t;return{value:e.section_id,label:`${(null==(t=null==e?void 0:e.get_class)?void 0:t.name)||""} ${(null==e?void 0:e.name)||""} (${(null==e?void 0:e.students_count)||""})`,key:`${e.class_id}-${e.section_id}`}}))),[o]),he=Q.useMemo((()=>d.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`})))),[d]),fe=t=>p(e,null,(function*(){var e,r,n,s,l,o,i,d,c,u,m,h,f,p,x,g,b,v,y;if(C(""),T(""),S(""),V(""),ee({}),!t)return C("Please select Student Name."),void hp.error("Please select Student Name.!");F(null),K({stud_name:"",parent_id:"",father_name:"",mother_name:"",father_email:"",father_phone:"",mother_email:"",mother_phone:"",user_id:"",siblings:[]});try{H(!0);const p=localStorage.getItem("authToken"),x=yield Uf.get(`${a}/api/get_studentwithSiblings`,{headers:{Authorization:`Bearer ${p}`},params:{student_id:t}});if(console.log("Students data",null==(e=null==x?void 0:x.data)?void 0:e.students),null==(r=null==x?void 0:x.data)?void 0:r.students){const e=null==(n=null==x?void 0:x.data)?void 0:n.students;if(F(e),e&&e.length>0){const t=e[0];K({stud_name:`${(null==t?void 0:t.first_name)||""} ${(null==t?void 0:t.mid_name)||""} ${(null==t?void 0:t.last_name)||""} (${(null==(s=null==t?void 0:t.get_class)?void 0:s.name)||""}-${(null==(l=null==t?void 0:t.get_division)?void 0:l.name)||""})`,father_name:(null==(o=null==t?void 0:t.parents)?void 0:o.father_name)||"",mother_name:(null==(i=null==t?void 0:t.parents)?void 0:i.mother_name)||"",father_email:(null==(d=null==t?void 0:t.parents)?void 0:d.f_email)||"",father_phone:(null==(c=null==t?void 0:t.parents)?void 0:c.f_mobile)||"",parent_id:(null==(u=null==t?void 0:t.parents)?void 0:u.parent_id)||"",mother_email:(null==(m=null==t?void 0:t.parents)?void 0:m.m_emailid)||"",mother_phone:(null==(h=null==t?void 0:t.parents)?void 0:h.m_mobile)||"",user_id:(null==(f=null==t?void 0:t.user_master)?void 0:f.user_id)||"",siblings:(null==t?void 0:t.siblings)||[]}),console.log("fetchedData",e)}else console.error("No students found in the response.")}else console.log("response",x.data.status)}catch(w){console.log("error",null==(x=null==(p=w.response)?void 0:p.data)?void 0:x.message),"No student found matching the search criteria."===(null==(b=null==(g=w.response)?void 0:g.data)?void 0:b.message)?hp.error("Student information not found!"):hp.error((null==(y=null==(v=w.response)?void 0:v.data)?void 0:y.message)||"Student not found!")}finally{H(!1)}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:" w-full md:w-[80%] mt-4 mx-auto",children:oe.jsxs("div",{className:"card mx-auto lg:w-[100%] shadow-lg",children:[oe.jsxs("div",{className:" w-full  p-2 px-3 bg-gray-100 flex justify-between items-center ",children:[oe.jsx("h3",{className:" w-full text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Sibling Unmapping"}),oe.jsx(sh,{className:" relative top-0.5  text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{W("/dashboard")}}),oe.jsx("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10"})]}),oe.jsx("div",{className:" relative w-[97%] h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"w-full  flex flex-col md:flex-row",children:oe.jsxs("div",{className:"w-full md:container ",children:[oe.jsx("div",{className:" w-[70%] border-1  flex justify-left flex-col md:flex-row gap-x-1  bg-white rounded-lg  border-gray-300 shadow-md  mx-auto mt-6 p-6 mb-4 ",children:oe.jsx("div",{className:"w-[99%] flex md:flex-row justify-between items-center ",children:oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-[.9em] mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:"Class"}),oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx(Soe,{id:"classSelect",value:A,onChange:t=>{P(t),n(null),w(null),v(null==t?void 0:t.value),((t=null)=>{p(e,null,(function*(){var e;try{ne(!0);const r=t?{section_id:t}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${a}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});c((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(r){hp.error("Error fetching students.")}finally{ne(!1)}}))})(null==t?void 0:t.value)},options:me,placeholder:te?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-[.8em]",styles:Y,isDisabled:te})})]}),oe.jsxs("div",{className:" w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[98%] my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"md:w-[50%] text-[.9em] mt-1.5",htmlFor:"studentSelect",children:"Student Name"}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:r,onChange:e=>{C(""),n(e),w(null==e?void 0:e.value),fe(null==e?void 0:e.value)},options:he,placeholder:re?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-[.8em]",styles:Y,isDisabled:re}),k&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:k})]})]})]})})}),U?oe.jsx("div",{className:"flex justify-center items-center h-44",children:oe.jsx(Ag,{})}):I&&oe.jsx("div",{className:"card p-4 rounded-md m-5",children:oe.jsxs("div",{className:"flex flex-col md:flex-row bg-gray-50 shadow-md p-4 pt-0 mb-4 gap-6",children:[oe.jsxs("form",{onSubmit:t=>p(e,null,(function*(){var e,r;t.preventDefault();let s=!1;if(y||(C("Please select a student."),s=!0),j||(D("Please select a student."),s=!0),q||(S("Please select any one of 'Set this as parent' option."),s=!0),s)return;if(y===j)return void hp.error(" Both students cannot be the same. Please select different students!",{autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0});const o={operation:"create",set_as_parent:q,student_id1:y,student_id2:j,parent_id1:(null==G?void 0:G.parent_id)||" ",parent_id2:(null==X?void 0:X.parent_id)||" "};console.log("Request Data:",o);try{z(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token is found");200===(yield Uf.post(`${a}/api/save_siblingmapping`,o,{headers:{Authorization:`Bearer ${e}`}})).status&&(hp.success("Student Mapping successfully!"),n(null),l(null),P(null),L(null),V(""),F(null),$(null),C(""),D(""),S(""))}catch(i){hp.error((null==(r=null==(e=i.response)?void 0:e.data)?void 0:r.error)||"An error occurred!"),console.error("Error:",i.response||i.message)}finally{z(!1)}})),className:"w-full md:w-1/2 px-2",children:[oe.jsx("h6",{className:"font-semibold text-gray-800 mt-3 text-md mb-4 border-b pb-2",children:"Student Information"}),oe.jsx("div",{className:" relative w-[97%] -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),[["Student Name",G.stud_name],["Father's Name",G.father_name],["Mother's Name",G.mother_name],["Father's Email",G.father_email],["Father's Phone",G.father_phone],["Mother's Email",G.mother_email],["Mother's Phone",G.mother_phone],["User ID",G.user_id]].map((([e,t],a)=>oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8 mb-2",children:[oe.jsxs("label",{className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:[e," :"]}),oe.jsx("p",{className:"text-gray-700 relative top-2 md:w-[60%]",children:t||""})]},a)))]}),oe.jsxs("div",{className:"w-full md:w-1/2 px-2",children:[oe.jsx("h6",{className:"font-semibold text-gray-800 mt-3 text-md mb-4 border-b pb-2",children:"Sibling Information"}),oe.jsx("div",{className:"relative w-[97%] -top-6 h-1 mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),(null==(t=null==G?void 0:G.siblings)?void 0:t.length)>0?G.siblings.map(((e,t)=>{var a,r;return oe.jsxs("div",{className:"flex justify-between items-center mb-2",children:[oe.jsx("div",{className:"flex flex-col",children:oe.jsxs("span",{className:"text-gray-700",children:[`${e.first_name||""} ${e.mid_name||""} ${e.last_name||""}`.trim()||"Name not available"," ","(",(null==(a=e.get_class)?void 0:a.name)||"Class not available"," ","-"," ",(null==(r=e.get_division)?void 0:r.name)||"Section not available",")"]})}),oe.jsx("button",{type:"button",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:()=>W(`/unmapdetails/edit/${e.student_id}`,{state:{studentName:`${e.first_name||""} ${e.mid_name||""} ${e.last_name||""}`.trim()}}),children:"UnMap"})]},t)})):oe.jsx("div",{children:oe.jsx("p",{className:"text-gray-600",children:"No siblings available."})})]})]})})]})})]})})]})},XPe=()=>{var t;const a="https://sms.evolvu.in/public",[r,n]=Q.useState(null),[s,l]=Q.useState([]),[o,i]=Q.useState([]),[d,c]=Q.useState([]),[h,f]=Q.useState([]),[x,g]=Q.useState(null),[b,v]=Q.useState(null),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(""),[k,C]=Q.useState(null),[E,T]=Q.useState(null),[O,D]=Q.useState(!1),[A,P]=Q.useState(""),[M,L]=Q.useState(""),[I,F]=Q.useState(!1),{id:R}=om();console.log("selected student is",R);const $=(null==(t=rm().state)?void 0:t.studentName)||"Name not provided";console.log("Student Nmme",$);const B=sm(),z={option:(e,t)=>m(u({},e),{fontSize:"0.8rem",backgroundColor:t.isFocused?"rgba(59, 130, 246, 0.1)":"white",color:t.isSelected?"blue":"inherit"}),menu:e=>m(u({},e),{zIndex:50})},[U,H]=Q.useState(""),[W,Y]=Q.useState({stud_name:"",father_name:"",mother_name:"",father_email:"",father_phone:"",mother_email:"",mother_phone:"",user_id:""}),q=e=>{const{name:t,value:a}=e.target;let r=a;["father_name","mother_name"].includes(t)&&(r=a.replace(/[^a-zA-Z\s]/g,"")),se((e=>m(u({},e),{[t]:r})))},[V,G]=Q.useState({}),[K,X]=Q.useState(!1),[J,Z]=Q.useState(!1),[ee,te]=Q.useState(!1),[ae,re]=Q.useState(!1),[ne,se]=Q.useState({father_name:"",f_mobile:"",f_email:"",mother_name:"",m_mobile:"",m_email:"",userIdOption:""});Q.useEffect((()=>{le(),ie()}),[]);const le=()=>p(e,null,(function*(){var e;try{X(!0),Z(!0);const t=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${a}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${t}`}}),Uf.get(`${a}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${t}`}})]);l(r.data||[]),i((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(t){hp.error("Error fetching data.")}finally{X(!1),Z(!1)}})),ie=()=>p(e,null,(function*(){var e;try{te(!0),re(!0);const t=localStorage.getItem("authToken"),[r,n]=yield Promise.all([Uf.get(`${a}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${t}`}}),Uf.get(`${a}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${t}`}})]);c(r.data||[]),f((null==(e=null==n?void 0:n.data)?void 0:e.data)||[])}catch(t){hp.error("Error fetching data.")}finally{te(!1),re(!1)}})),de=Q.useMemo((()=>s.map((e=>{var t;return{value:e.section_id,label:`${(null==(t=null==e?void 0:e.get_class)?void 0:t.name)||""} ${(null==e?void 0:e.name)||""} (${(null==e?void 0:e.students_count)||""})`,key:`${e.class_id}-${e.section_id}`}}))),[s]),ce=Q.useMemo((()=>o.map((e=>({value:e.student_id,label:`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`})))),[o]),ue=t=>p(e,null,(function*(){var e,r,n,s,l,o,i,d,c,u,m,h,f,p,x,g,b,v,y;if(N(""),S(""),w(""),H(""),G({}),!t)return N("Please select Student Name."),void hp.error("Please select Student Name.!");T(null),Y({stud_name:"",parent_id:"",father_name:"",mother_name:"",father_email:"",father_phone:"",mother_email:"",mother_phone:"",user_id:"",siblings:[]});try{D(!0);const p=localStorage.getItem("authToken"),x=yield Uf.get(`${a}/api/get_studentwithSiblings`,{headers:{Authorization:`Bearer ${p}`},params:{student_id:t}});if(console.log("Students data",null==(e=null==x?void 0:x.data)?void 0:e.students),null==(r=null==x?void 0:x.data)?void 0:r.students){const e=null==(n=null==x?void 0:x.data)?void 0:n.students;if(T(e),e&&e.length>0){const t=e[0];Y({stud_name:`${(null==t?void 0:t.first_name)||""} ${(null==t?void 0:t.mid_name)||""} ${(null==t?void 0:t.last_name)||""} (${(null==(s=null==t?void 0:t.get_class)?void 0:s.name)||""}-${(null==(l=null==t?void 0:t.get_division)?void 0:l.name)||""})`,father_name:(null==(o=null==t?void 0:t.parents)?void 0:o.father_name)||"",mother_name:(null==(i=null==t?void 0:t.parents)?void 0:i.mother_name)||"",father_email:(null==(d=null==t?void 0:t.parents)?void 0:d.f_email)||"",father_phone:(null==(c=null==t?void 0:t.parents)?void 0:c.f_mobile)||"",parent_id:(null==(u=null==t?void 0:t.parents)?void 0:u.parent_id)||"",mother_email:(null==(m=null==t?void 0:t.parents)?void 0:m.m_email)||"",mother_phone:(null==(h=null==t?void 0:t.parents)?void 0:h.m_mobile)||"",user_id:(null==(f=null==t?void 0:t.user_master)?void 0:f.user_id)||"",siblings:(null==t?void 0:t.siblings)||[]}),console.log("fetchedData",e)}else console.error("No students found in the response.")}else console.log("response",x.data.status)}catch(j){console.log("error",null==(x=null==(p=j.response)?void 0:p.data)?void 0:x.message),"No student found matching the search criteria."===(null==(b=null==(g=j.response)?void 0:g.data)?void 0:b.message)?hp.error("Student information not found!"):hp.error((null==(y=null==(v=j.response)?void 0:v.data)?void 0:y.message)||"Student not found!")}finally{D(!1)}})),me=()=>p(e,null,(function*(){var e,t,r,n;const s=localStorage.getItem("authToken");if(s)try{F(!0);const r={headers:{Authorization:`Bearer ${s}`}};let n;if("mapWithOther"===A){const e=null==W?void 0:W.parent_id;if(!e)return void hp.error("Missing parent ID.");n=yield Uf.post(`${a}/api/update_studentwithsibling/${R}`,{},m(u({},r),{params:{parent_id:e}}))}else{if("newParent"!==A)return void hp.error("Please select a mapping option.");{const e={father_name:ne.father_name,f_email:ne.f_email,f_mobile:ne.f_mobile,mother_name:ne.mother_name,m_email:ne.m_email,m_mobile:ne.m_mobile,user_id:"mother"===ne.userIdOption?ne.m_email:ne.f_email};n=yield Uf.post(`${a}/api/update_studentwithsibling/${R}`,e,r)}}"success"===(null==(e=null==n?void 0:n.data)?void 0:e.status)?(hp.success("Students unmapped successfully."),he()):hp.error((null==(t=null==n?void 0:n.data)?void 0:t.message)||"Update failed.")}catch(l){console.error("Error:",l),hp.error((null==(n=null==(r=l.response)?void 0:r.data)?void 0:n.message)||"API error occurred.")}finally{F(!1)}else hp.error("Authentication token missing!")})),he=()=>{se({father_name:"",f_mobile:"",f_email:"",mother_name:"",m_mobile:"",m_email:"",userIdOption:""})};return Q.useEffect((()=>{"newParent"===M&&se({father_name:"",f_mobile:"",f_email:"",mother_name:"",m_mobile:"",m_email:"",userIdOption:""})}),[M]),oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:" w-full md:w-[65%] mt-4 mx-auto",children:oe.jsxs("div",{className:"card mx-auto lg:w-[100%] shadow-lg",children:[oe.jsxs("div",{className:" w-full  p-2 px-3 bg-gray-100 flex justify-between items-center ",children:[oe.jsx("h3",{className:" w-full text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Unmap Details"}),oe.jsx(sh,{className:" relative top-0.5  text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>{B("/siblingUnmapping")}}),oe.jsx("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10"})]}),oe.jsx("div",{className:" relative w-[97%] h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"w-full  flex flex-col md:flex-row",children:oe.jsxs("div",{className:"w-full md:container ",children:[oe.jsx("div",{className:"flex justify-center",children:oe.jsxs("div",{className:"border rounded-md p-4 m-6 bg-white shadow-md w-full max-w-[78%]",children:[oe.jsxs("p",{className:"text-lg font-semibold mb-4",children:["Student Name:"," ",oe.jsx("span",{className:"font-bold",children:$})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-2",children:[oe.jsxs("label",{className:"flex items-center gap-2 text-gray-700",children:[oe.jsx("input",{type:"radio",name:"unmapOption",value:"mapWithOther",checked:"mapWithOther"===A,onChange:e=>{P(e.target.value),L("")},className:"accent-blue-600"}),"Map with other student"]}),oe.jsxs("label",{className:"flex items-center gap-2 text-gray-700",children:[oe.jsx("input",{type:"radio",name:"unmapOption",value:"newParent",checked:"newParent"===A,onChange:e=>{P(e.target.value),L("")},className:"accent-blue-600"}),"Add new parent details"]}),oe.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2 rounded",onClick:()=>L(A),children:"Go"})]})]})}),"mapWithOther"===M&&oe.jsxs("div",{className:"card p-4 rounded-md ml-32 mr-32 mb-5 bg-white shadow-md",children:[oe.jsxs("div",{className:"w-full flex flex-col gap-y-2 md:gap-y-0 md:flex-row",children:[oe.jsxs("div",{className:"w-full gap-x-14 md:gap-x-6 md:justify-start my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"text-[.9em] mt-1.5 mr-1 md:mr-0",htmlFor:"classSelect",children:"Class"}),oe.jsx("div",{className:"w-full md:w-[50%]",children:oe.jsx(Soe,{id:"classSelect",value:k,onChange:t=>{C(t),n(null),v(null),g(null==t?void 0:t.value),((t=null)=>{p(e,null,(function*(){var e;try{Z(!0);const r=t?{section_id:t}:{},n=localStorage.getItem("authToken"),s=yield Uf.get(`${a}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${n}`},params:r});i((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(r){hp.error("Error fetching students.")}finally{Z(!1)}}))})(null==t?void 0:t.value)},options:de,placeholder:K?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-[.8em]",styles:z,isDisabled:K})})]}),oe.jsxs("div",{className:" w-full gap-x-6 relative left-0 md:-left-[5%] justify-between md:w-[98%] my-1 md:my-4 flex md:flex-row",children:[oe.jsx("label",{className:"md:w-[50%] text-[.9em] mt-1.5",htmlFor:"studentSelect",children:"Student Name"}),oe.jsxs("div",{className:"w-full md:w-[80%]",children:[oe.jsx(Soe,{id:"studentSelect",value:r,onChange:e=>{N(""),n(e),v(null==e?void 0:e.value),ue(null==e?void 0:e.value)},options:ce,placeholder:J?"Loading...":"Select",isSearchable:!0,isClearable:!0,className:"text-[.8em]",styles:z,isDisabled:J}),j&&oe.jsx("div",{className:"h-8 relative ml-1 text-danger text-xs",children:j})]})]})]}),O&&oe.jsx("div",{className:"flex justify-center items-center h-32 mt-4",children:oe.jsx(Ag,{})}),!O&&E&&oe.jsxs("div",{className:"mt-6 bg-gray-50 p-4 rounded-md",children:[oe.jsx("h6",{className:"font-semibold text-gray-800 text-md mb-4 border-b pb-2",children:"Student Information"}),oe.jsx("div",{className:"relative w-[97%] -top-6 h-1 mx-auto",style:{backgroundColor:"#C03078"}}),[["Student Name",W.stud_name],["Father's Name",W.father_name],["Mother's Name",W.mother_name],["Father's Email",W.father_email],["Father's Phone",W.father_phone],["Mother's Email",W.mother_email],["Mother's Phone",W.mother_phone],["User ID",W.user_id]].map((([e,t],a)=>oe.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-y-2 gap-x-8 mb-2",children:[oe.jsxs("label",{className:"block font-semibold text-[1em] md:w-1/3 text-gray-700",children:[e," :"]}),oe.jsx("p",{className:"text-gray-700 relative top-2 md:w-[60%]",children:t||"-"})]},a)))]}),oe.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[oe.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded",onClick:me,disabled:I,children:I?"Saving...":"Save"}),oe.jsx("button",{type:"button",onClick:()=>{C(null),n(null)},className:"bg-red-500 hover:bg-red-600 text-white font-semibold px-6 py-2 rounded",children:"Reset"})]})]}),"newParent"===M&&oe.jsxs("form",{className:"border rounded-lg p-6 mt-4 w-full max-w-4xl mx-auto bg-white shadow mb-5",onSubmit:e=>{e.preventDefault(),me()},children:[oe.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[oe.jsxs("div",{children:[oe.jsxs("label",{className:"block font-semibold text-black",children:["Father Name"," ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",name:"father_name",value:ne.father_name,onChange:q,className:"w-full border border-gray-300 rounded px-3 py-2 mt-1",placeholder:"Father Name",required:!0})]}),oe.jsxs("div",{children:[oe.jsxs("label",{className:"block font-semibold text-black",children:["Mother Name"," ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",name:"mother_name",value:ne.mother_name,onChange:q,className:"w-full border border-gray-300 rounded px-3 py-2 mt-1",placeholder:"Mother Name",required:!0})]}),oe.jsxs("div",{children:[oe.jsxs("label",{className:"block font-semibold text-black",children:["Father Phone"," ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx("input",{type:"phone",name:"f_mobile",maxLength:10,value:ne.f_mobile,onChange:e=>{const t=e.target.value.replace(/\D/g,"");se((e=>m(u({},e),{f_mobile:t})))},className:"w-full border border-gray-300 rounded px-3 py-2 mt-1",placeholder:"Father Phone",required:!0})]}),oe.jsxs("div",{children:[oe.jsxs("label",{className:"block font-semibold text-black",children:["Mother Phone"," ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx("input",{type:"phone",name:"m_mobile",maxLength:10,value:ne.m_mobile,onChange:q,className:"w-full border border-gray-300 rounded px-3 py-2 mt-1",placeholder:"Mother Phone",required:!0})]}),oe.jsxs("div",{children:[oe.jsxs("label",{className:"block font-semibold text-black",children:["Father Email"," ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx("input",{type:"email",name:"f_email",value:ne.f_email,onChange:q,className:"w-full border border-gray-300 rounded px-3 py-2 mt-1",placeholder:"Father Email",required:!0})]}),oe.jsxs("div",{children:[oe.jsxs("label",{className:"block font-semibold text-black",children:["Mother Email"," ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx("input",{type:"email",name:"m_email",value:ne.m_email,onChange:q,className:"w-full border border-gray-300 rounded px-3 py-2 mt-1",placeholder:"Mother Email",required:!0})]})]}),oe.jsxs("div",{className:"mt-6",children:[oe.jsx("label",{className:"block font-medium mb-2",children:"Set this as UserID:"}),oe.jsxs("label",{className:"inline-flex items-center mr-6",children:[oe.jsx("input",{type:"radio",name:"userIdOption",value:"father",checked:"father"===ne.userIdOption,onChange:q,className:"mr-2"}),"Father Email Id"]}),oe.jsxs("label",{className:"inline-flex items-center",children:[oe.jsx("input",{type:"radio",name:"userIdOption",value:"mother",checked:"mother"===ne.userIdOption,onChange:q,className:"mr-2"}),"Mother Email Id"]})]}),oe.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[oe.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded",disabled:I,children:I?"Saving...":"Save"}),oe.jsx("button",{type:"button",onClick:()=>se({father_name:"",f_mobile:"",f_email:"",mother_name:"",m_mobile:"",m_email:"",userIdOption:""}),className:"bg-red-500 hover:bg-red-600 text-white font-semibold px-6 py-2 rounded",children:"Reset"})]})]})]})})]})})]})};function QPe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState([]),[s,l]=Q.useState(!1),[o,i]=Q.useState(null),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),[b,v]=Q.useState(null),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(""),[k,C]=Q.useState(0),[E,T]=Q.useState(0),[O,D]=Q.useState(!1),A=10,[P,M]=Q.useState({}),L=Q.useRef(0),I=Q.useRef(""),[F,R]=Q.useState(!0),[$,B]=Q.useState(""),[z,U]=Q.useState({}),[H,W]=Q.useState({}),[Y,q]=Q.useState({}),[V,G]=Q.useState(""),K=()=>p(this,null,(function*(){var t;l(!0);try{const r=localStorage.getItem("authToken"),n=localStorage.getItem("academicYear");if(!r)throw new Error("No authentication token found");const s=yield Uf.get(`${e}/api/get_subservicetypeticket`,{headers:{Authorization:`Bearer ${r}`,"X-Academic-Year":n},withCredentials:!0});console.log("response for the get API",s.data.data),a(s.data.data),T(Math.ceil((null==(t=null==s?void 0:s.data)?void 0:t.length)/A))}catch(r){i(r.message)}finally{l(!1)}})),X=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${e}/api/get_servicetypeticket`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});n(a.data.data)}catch(t){i(t.message)}})),J=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});G(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",V)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")}));Q.useEffect((()=>{K(),X(),J()}),[]);const Z=(e,t)=>{const a={};return e&&""!==e.trim()?e.length>30&&(a.name="The name field must not exceed 30 character."):a.name="Please enter sub service name.",t||(a.department_id="Please select service type."),a},ee=()=>{c(!1),f(!1),g(!1),w(""),N(""),v(null),M({}),B(""),U({}),q("")};Q.useEffect((()=>{const e=_.trim().toLowerCase();""!==e&&""===I.current&&(L.current=k,C(0)),""===e&&""!==I.current&&C(L.current),I.current=e}),[_]);const te=_.trim().toLowerCase(),ae=t.filter((e=>{var t;return e.name.toLowerCase().includes(te)||(null==(t=null==e?void 0:e.service_name)?void 0:t.toString().includes(te))}));Q.useEffect((()=>{T(Math.ceil(ae.length/A))}),[ae,A]);const re=ae.slice(k*A,(k+1)*A),ne=e=>{const{value:t}=e.target;B(""),console.log("sectionNameis",H,"value is",e.target.value),q(""),w(t),U((e=>m(u({},e),{name:Z(t,j).name})))},se=e=>{const{value:t}=e.target;console.log("sectionNameis",H,"reatValue",t,"value is",e.target.value),N(t),U((a=>m(u({},a),{department_id:Z(t,e.target.value).department_id})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Sub Service Type"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>S(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{c(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden w-full md:w-[84%] mx-auto",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center w-full md:w-[10%] lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center w-full md:w-[14%]  lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sub Service"}),oe.jsx("th",{className:"px-2 w-full md:w-[19%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Service"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsxs("tbody",{children:[console.log("classLIst module api",re),s?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):re.length?re.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:k*A+a+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.name})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.service_name})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{var t;v(e),console.log("the edit ",e),W(null==(t=null==e?void 0:e.get_department)?void 0:t.name),w(e.name),N(e.service_id),f(!0)})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{const a=t.find((t=>t.class_id===e));console.log("the classto didlete",a),v(a),g(!0)})(e.class_id),children:oe.jsx(zM,{icon:VM})})})]},e.class_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})]})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:E,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{C(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),d&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Sub Service"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"newClassName",className:"w-1/2 mt-2",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})," "]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"newClassName",value:y,onChange:ne}),oe.jsxs("div",{className:"absolute  top-9 left-1/3",children:[!F&&oe.jsx("span",{className:" block text-danger text-xs",children:$}),z.name&&oe.jsx("span",{className:"text-danger text-xs",children:z.name})]})]}),oe.jsxs("div",{className:" relative -top-1 mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"newDepartmentId",className:"w-1/2 mt-2",children:["Service Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{className:"form-control",id:"newDepartmentId shadow-md",value:j,onChange:se,children:[oe.jsx("option",{value:"",children:"Select"}),r.map((e=>oe.jsx("option",{value:e.service_id,children:e.service_name},e.service_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:z.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:z.department_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",onClick:()=>p(this,null,(function*(){if(O)return;D(!0);const t=Z(y,j);if(Object.keys(t).length>0)return U(t),void D(!1);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");yield Uf.post(`${e}/api/save_subservicetypeticket`,{subservicename:y,service_id:j},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),K(),ee(),hp.success("Sub service type added successfully!")}catch(a){a.response&&a.response.data?hp.error(`Error adding class: ${a.response.data.message}`):hp.error(`Error adding class: ${a.message}`),console.error("Error adding class:",a)}finally{D(!1)}})),disabled:O,children:O?"Saving...":"Add"})})]})})})}),h&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Sub Service Type"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"newClassName",className:"w-1/2 mt-2",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"newClassName",value:y,onChange:ne}),oe.jsxs("div",{className:"absolute top-9 left-1/3 ",children:[Y.name&&oe.jsx("span",{className:"text-danger text-xs",children:Y.name.join(", ")}),z.name&&oe.jsx("span",{className:"text-danger text-xs",children:z.name})]})]}),oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"newDepartmentId",className:"w-1/2 mt-2",children:["Service Type ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{className:"form-control",id:"newDepartmentId shadow-md",value:j,onChange:se,children:[oe.jsx("option",{value:"",children:"Select"}),r.map((e=>oe.jsx("option",{value:e.service_id,children:e.service_name},e.service_id)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:z.department_id&&oe.jsx("span",{className:"text-danger text-xs",children:z.department_id})})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary  px-3 mb-2",onClick:()=>p(this,null,(function*(){var t;if(!O){D(!0);try{const t=localStorage.getItem("authToken");console.log("Existing Class:",b),console.log("New Class Name:",y),console.log("New Class Name:",b.class_id);const a=yield Uf.put(`${e}/api/update_subservicetypeticket/${b.sub_servicetype_id}`,{subservicename:y,service_id:j},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("response",a),K(),ee(),hp.success("Sub service type updated successfully!"),q({})}catch(a){if(a.response&&a.response.data){const e=a.response.data.errors;e?(q(e),hp.error(`Error: ${null==(t=e.name)?void 0:t.join(", ")}`)):hp.error(`Error updating class: ${a.response.data.message}`)}else hp.error(`Error updating class: ${a.message}`);console.error("Error editing class:",a)}finally{D(!1)}}})),disabled:O,children:O?"Updating...":"Update"})})]})})})}),x&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Delete Sub Service Type"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[100%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete this sub service"," ",null==b?void 0:b.name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){if(!O){D(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found.");const a=yield Uf.delete(`${e}/api/delete_subservicetypeticket/${b.sub_servicetype_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});if(a.data&&400===a.data.status){const e=a.data.message||"Delete failed.";hp.error(e)}else hp.success("Sub service type deleted successfully!"),K();g(!1)}catch(t){if(console.error("Error deleting class:",t),t.response&&400===t.response.status){const e=t.response.data.message||"Delete failed.";hp.error(e)}else hp.error("Server error. Please try again later.")}finally{D(!1),g(!1)}}})),disabled:O,children:O?"Deleting...":"Delete"})})]})})})})]})}function JPe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!1),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null);Q.useState("");const[b,v]=Q.useState("");Q.useState("");const[y,w]=Q.useState(0),[j,N]=Q.useState(0);Q.useState("");const[_,S]=Q.useState({}),[k,C]=Q.useState(""),[E,T]=Q.useState(!0),[O,D]=Q.useState("");Q.useState([]);const[A,P]=Q.useState(!1),[M,L]=Q.useState([]),[I,F]=Q.useState(""),[R,$]=Q.useState(""),[B,z]=Q.useState([]),[U,H]=Q.useState(""),[W,Y]=Q.useState(""),q=10;Q.useEffect((()=>{J(),Z(),ee(),te()}),[]);const V=[{value:"A",label:"Admin"},{value:"F",label:"Finance"},{value:"L",label:"Librarian"},{value:"M",label:"Management"},{value:"T",label:"Teacher"},{value:"U",label:"AceVentura"}],G=sm(),K=Q.useRef(0),X=Q.useRef(""),J=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/get_allstaff`,{headers:{Authorization:`Bearer ${t}`}});if(console.log(" all staff names",a.data),Array.isArray(a.data.data)){const e=a.data.data.map((e=>({value:e.teacher_id,label:e.name})));L(e)}else C("Unexpected data format.")}catch(t){hp.error("Error fetching Staff Names.",t)}})),Z=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No Authentication token found.");const a=yield Uf.get(`${e}/api/get_leavetype`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("leave type",a.data),Array.isArray(a.data.data)?z(a.data.data):l("Unexpected data format.")}catch(t){l(t.message),hp.error("Error to fetching Service type"),console.log("Error to fetching error.")}finally{n(!1)}})),ee=()=>p(this,null,(function*(){n(!0);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/get_appointmentwindowlist`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});if(console.log("API Response:",r.data),!Array.isArray(r.data.data))throw new Error("Response data is not an array.");a(r.data.data),N(Math.ceil(r.data.data.length/q))}catch(t){l(t.message)}finally{n(!1)}})),te=()=>p(this,null,(function*(){var t;const a=localStorage.getItem("authToken");if(a)try{const r=yield Uf.get(`${e}/api/sessionData`,{headers:{Authorization:`Bearer ${a}`}});D(null==(t=null==r?void 0:r.data)?void 0:t.user.role_id),console.log("roleIDis:",O)}catch(r){console.error("Error fetching data:",r)}else console.error("No authentication token found")}));Q.useEffect((()=>{const e=b.trim().toLowerCase();""!==e&&""===X.current&&(K.current=y,w(0)),""===e&&""!==X.current&&w(K.current),X.current=e}),[b]);const ae=t.filter((e=>{const t=b.trim().toLowerCase();return e.rn.toLowerCase().includes(t)||e.cn.toLowerCase().includes(t)||e.week.toLowerCase().includes(t)||e.weekday.toLowerCase().includes(t)}));Q.useEffect((()=>{N(Math.ceil(ae.length/q))}),[ae,q]);const re=ae.slice(y*q,(y+1)*q),ne=(e,t,a)=>{const r={};return e||(r.name="Please select Staff name."),t&&!isNaN(Number(t))||(r.leave_type_id="Please select Leave Type."),!a||isNaN(Number(a))?r.leaves_allocated="Please enter a valid number of allocated leaves.":Number(a)<=0&&(r.leaves_allocated="Allocated leaves must be greater than zero."),r},se=()=>{i(!1),c(!1),f(!1),g(null),F(),Y(),H(),S({}),C(""),$("")},le=e=>{e?(C(""),F(e.value),S((t=>m(u({},t),{name:ne(e.value,W,U).name})))):(F(""),S((e=>m(u({},e),{name:""}))))},ie=e=>{const{value:t}=e.target;H(t),S((e=>m(u({},e),{leaves_allocated:ne(I,W,t).leaves_allocated})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container  mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-[70%] shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Appointment Window"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:b,onChange:e=>v(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{G("/CreateAppWindow")},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 w-full md:w-[90%] mx-auto  overflow-y-scroll lg:overflow-x-hidden ",children:oe.jsx("div",{className:"bg-white  rounded-lg shadow-xs ",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto ",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[8%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:" -px-2  w-full md:w-[30%] text-center py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Role Name"}),oe.jsx("th",{className:"px-2 text-center md:w-[18%] lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Class"}),oe.jsx("th",{className:"px-2 text-center md:w-[18%] lg:px-5 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Day"}),oe.jsx("th",{className:"px-2 w-full md:w-[14%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[14%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):re.length?re.map(((e,a)=>{var r;return oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:y*q+a+1})}),oe.jsx("td",{className:"text-center px-2  border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:(null==(r=V.find((t=>t.value===e.role_id)))?void 0:r.label)||e.role_id})}),oe.jsx("td",{className:"text-center px-2 lg:px-5 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.cn})}),oe.jsx("td",{className:"text-center px-2 lg:px-5 border border-gray-950 text-sm",children:oe.jsxs("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:[e.week," ",e.weekday]})}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("apponiment id",e.aw_id),G(`/EditAppWindow/edit/${e.aw_id}`,{state:{aw_id:e.aw_id,role_id:e.role_id,class_id:e.class_id,week:e.week,weekday:e.weekday,time_from:e.time_from,time_to:e.time_to,rn:e.rn,cn:e.cn}})})(e),children:oe.jsx(zM,{icon:HM})})," "]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{const a=t.find((t=>t.aw_id===e));a?(g(a),f(!0)):hp.error("Unable to find the apponitment to delete.")})(e.aw_id),children:oe.jsx(zM,{icon:VM})})})]},e.section_id)})):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3  box-border  overflow-hidden",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:j,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{w(e.selected)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Service"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:se})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"staffName",className:"w-1/2 mt-2",children:["Name",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{id:"staffName",className:"w-full border rounded shadow-md p-2",value:U,onChange:ie,placeholder:"Name"}),oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[!E&&oe.jsx("span",{className:"block text-danger text-xs",children:k}),_.name&&oe.jsx("span",{className:"text-danger text-xs",children:_.name})]})]}),oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"leaveType",className:"w-1/2 mt-2",children:["Role",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"staffName",options:M,value:M.find((e=>e.value===I)),onChange:le,placeholder:"Select",className:" shadow-md w-full",isSearchable:!0,isClearable:!0}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:_.leave_type_id&&oe.jsx("span",{className:"text-danger text-xs",children:_.leave_type_id})})]}),oe.jsxs("div",{className:"relative mb-4 mx-4 flex justify-center gap-14",children:[oe.jsx("label",{htmlFor:"description",className:"block mb-1",children:"Description"}),oe.jsx("textarea",{id:"description",className:"w-full border rounded shadow-md p-2",value:U,onChange:ie})]}),oe.jsxs("div",{className:"relative mb-4 mx-4 flex items-center",children:[oe.jsx("label",{htmlFor:"requiresAppointment",className:"w-70 text-right mr-4",children:"Requires Appointment"}),oe.jsx("input",{id:"requiresAppointment",type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600",checked:U,onChange:ie})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 ",style:{},onClick:()=>p(this,null,(function*(){if(A)return;P(!0),T(!1),C("");const t=ne(I,W,U);if(Object.keys(t).length>0)return S(t),console.log("setFieldErrors",_),void P(!1);try{const t=localStorage.getItem("authToken");if(!t)return void console.error("No authentication token found");const a=yield Uf.post(` ${e}/api/save_leaveallocated`,{staff_id:I,leave_type_id:W,leaves_allocated:U},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),{data:r}=a;if(!r.success)return console.error("Service Type already created.",r),C("Service Type already created."),hp.error("Service Type already created."),T(!1),void P(!1);console.log("Data saved successfully.",r),C(""),hp.success("Service added successfully!"),T(!0),ee(),se()}catch(a){console.error("Error adding Service Type:",a),hp.error("Server error. Please try again later.")}finally{P(!1)}})),disabled:A,children:A?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Service Type"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:se})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"staffName",className:"w-1/2 mt-2",children:["Name",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{id:"staffName",className:"w-full border rounded shadow-md p-2",value:U,onChange:ie,placeholder:"Name"}),oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[!E&&oe.jsx("span",{className:"block text-danger text-xs",children:k}),_.name&&oe.jsx("span",{className:"text-danger text-xs",children:_.name})]})]}),oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"leaveType",className:"w-1/2 mt-2",children:["Role",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"staffName",options:M,value:M.find((e=>e.value===I)),onChange:le,placeholder:"Select",className:" shadow-md w-full",isSearchable:!0,isClearable:!0}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:_.leave_type_id&&oe.jsx("span",{className:"text-danger text-xs",children:_.leave_type_id})})]}),oe.jsxs("div",{className:"relative mb-4 mx-4 flex justify-center gap-14",children:[oe.jsx("label",{htmlFor:"description",className:"block mb-1",children:"Description"}),oe.jsx("textarea",{id:"description",className:"w-full border rounded shadow-md p-2"})]}),oe.jsxs("div",{className:"relative mb-4 mx-4 flex items-center",children:[oe.jsx("label",{htmlFor:"requiresAppointment",className:"w-70 text-right mr-4",children:"Requires Appointment"}),oe.jsx("input",{id:"requiresAppointment",type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600"})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",style:{},onClick:()=>p(this,null,(function*(){var a;if(A)return;P(!0);const r=ne(I,W,U);if(Object.keys(r).length>0)return S(r),console.log("setFieldErrors",_),void P(!1);try{const a=localStorage.getItem("authToken");if(!(a&&x&&x.staff_id&&x.leave_type_id))throw new Error("No authentication token or required IDs found");console.log("Preparing to update with:",{staff_id:I,leave_type_id:W,leaves_allocated:U});const r=yield Uf.put(`${e}/api/update_leaveallocation/${null==x?void 0:x.staff_id}/${null==x?void 0:x.leave_type_id}`,{leaves_allocated:U},{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});console.log("Update response:",r.data),console.log("Sections fetched after update:",t),ee(),se(),hp.success("Service updated successfully!")}catch(n){if(console.error("Error editing Service Type:",n),console.log("Error details:",(null==(a=n.response)?void 0:a.data)||n.message),n.response&&422===n.response.data.status){const e=n.response.data.errors;e.staff_id&&(S((t=>m(u({},t),{staff_id:e.staff_id}))),e.staff_id.forEach((e=>hp.error(e))))}else hp.error("Server error. Please try again later.")}finally{P(!1)}})),disabled:A,children:A?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:se})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete Appointment:"," ",{A:"Admin",F:"Finance",L:"Librarian",M:"Management",T:"Teacher",U:"AceVentura"}[null==x?void 0:x.role_id]||(null==x?void 0:x.role_id),"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!A){P(!0);try{const t=localStorage.getItem("authToken");if(!t||!x||!x.aw_id)throw new Error("Role Id is missing");const a=yield Uf.delete(`${e}/api/delete_appointmentwindow/${x.aw_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});a.data.success?(ee(),f(!1),g(null),hp.success("Appointment deleted successfully!")):hp.error(a.data.message||"Failed to delete Appointment.")}catch(t){console.error("Error deleting Appointment:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{P(!1),f(!1)}}})),disabled:A,children:A?"Deleting...":"Delete"})})]})})})]})]})}const ZPe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState({}),[l,o]=Q.useState(!1),[i,d]=Q.useState([{value:"A",label:"Admin"},{value:"F",label:"Finance"},{value:"L",label:"Librarian"},{value:"M",label:"Management"},{value:"T",label:"Teacher"},{value:"U",label:"AceVentura"}]),[c,h]=Q.useState(""),[f,x]=Q.useState(""),[g,b]=Q.useState([]),[v,y]=Q.useState({role_id:"",class_id:"",week:"",weekday:[],time_from:"",time_to:""}),w=sm();Q.useEffect((()=>{j()}),[]);const j=()=>p(e,null,(function*(){r(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});console.log("Fetched classes array:",a.data);const r=(a.data||[]).map((e=>({value:e.class_id,label:e.name})));b(r)}catch(e){console.error("Error fetching class names",e)}finally{r(!1)}})),N=(e,t)=>{if(y((a=>m(u({},a),{[e]:t}))),n[e]&&s((t=>m(u({},t),{[e]:""}))),"time_from"===e||"time_to"===e){const a=new Date("1970-01-01T09:00"),r=new Date("1970-01-01T18:00"),l=m(u({},v),{[e]:t}),o=l.time_from?new Date(`1970-01-01T${l.time_from}`):null,i=l.time_to?new Date(`1970-01-01T${l.time_to}`):null,d=u({},n);"time_from"===e&&o&&(o<a?d.time_from="Please enter a value greater than or equal to 09:00 am":o>r?d.time_from="Please enter a value less than or equal to 18:00.":delete d.time_from,i&&i<=o?d.time_to="End time must be after start time":i&&i>o&&delete d.time_to),"time_to"===e&&i&&(i<a?d.time_to="Please enter a value greater than or equal to 09:00 am":i>r?d.time_to="Please enter a value less than or equal to 18:00.":o&&i<=o?d.time_to="End time must be after start time":delete d.time_to),s(d)}},_=[{value:"First",label:"First"},{value:"Second",label:"Second"},{value:"Third",label:"Third"},{value:"Fourth",label:"Fourth"}],S=[{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"},{value:"Saturday",label:"Saturday"}],k=a=>p(e,null,(function*(){if(a.preventDefault(),l)return;const e=(()=>{const e={};if(v.role_id||(e.role_id="Role is required"),v.class_id||(e.class_id="Class is required"),v.week||(e.week="Please select a appointment"),v.weekday&&0!==v.weekday.length||(e.weekday="At least one weekday must be selected"),v.time_from||(e.time_from="Start time is required"),v.time_to||(e.time_to="End time is required"),v.time_from&&v.time_to){const t=new Date(`1970-01-01T${v.time_from}`);new Date(`1970-01-01T${v.time_to}`)<=t&&(e.time_to="End time must be after start time")}return s(e),e})();if(Object.keys(e).length>0)return void s(e);o(!0);const n=m(u({},v),{role:v.role_id,class:v.class_id,week:v.week,weekday:v.weekday,time_from:v.time_from,time_to:v.time_to});try{r(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=(yield Uf.post(`${t}/api/save_appointmentwindow`,n,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data;a.success?(hp.success("Appointment window saved successfully!"),setTimeout((()=>{w("/appointmentWindow")}),500)):hp.error(a.message||"Failed to save appointment window.")}catch(i){console.error("API Error:",i),hp.error("An error occurred while saving. Please try again.")}finally{o(!1),r(!1)}}));return oe.jsxs("div",{className:"container mx-auto flex items-center justify-center mt-5 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-[60%] ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Create New Appointment Window"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{s({}),w("/appointmentWindow")}})]}),oe.jsx("div",{className:" relative w-full -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"absolute right-10 top-10 md:top-20 text-gray-500",children:[oe.jsx("span",{className:"text-red-500",children:"*"})," indicates mandatory information"]}),oe.jsx("form",{onSubmit:k,className:"flex items-center justify-center overflow-x-hidden shadow-md p-3 bg-gray-50 space-y-2",children:oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"leave_type",className:"w-1/2 mt-2",children:["Role ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"staffName",options:i,value:i.find((e=>e.value===c)),onChange:e=>N("role_id",e?e.value:""),placeholder:"Select",className:" shadow-md w-full",isSearchable:!0,isClearable:!0}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:n.role_id&&oe.jsx("span",{className:"text-danger text-xs",children:n.role_id})})]}),oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"leave_type",className:"w-1/2 mt-2",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"staffName",options:g,value:g.find((e=>e.value===f)),onChange:e=>N("class_id",e?e.value:""),placeholder:"Select",className:" shadow-md w-full",isSearchable:!0,isClearable:!0}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:n.class_id&&oe.jsx("span",{className:"text-danger text-xs",children:n.class_id})})]}),oe.jsxs("div",{className:"mt-4 mb-4 flex items-start justify-start mx-4 gap-5",children:[oe.jsxs("label",{htmlFor:"week",className:"w-[26%] pt-1.5",children:["Appointment Every ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex gap-4 w-[67%]",children:[oe.jsxs("div",{className:"w-[50%]",children:[oe.jsx(Soe,{id:"week",name:"week",options:_,value:_.find((e=>e.value===v.week)),onChange:e=>N("week",e?e.value:""),placeholder:"Select",className:"shadow-md w-full",styles:{menuPortal:e=>m(u({},e),{zIndex:9999}),menu:e=>m(u({},e),{zIndex:9999,maxHeight:150,overflowY:"auto"}),menuList:e=>m(u({},e),{maxHeight:150,overflowY:"auto"})},isSearchable:!0,isClearable:!0}),n.week&&oe.jsx("span",{className:"text-danger text-xs",children:n.week})]}),oe.jsxs("div",{className:"w-[50%]",children:[oe.jsx(Soe,{id:"weekday",name:"weekday",options:S,value:S.filter((e=>{var t;return null==(t=v.weekday)?void 0:t.includes(e.value)})),onChange:e=>N("weekday",e?e.map((e=>e.value)):[]),placeholder:"Select Day",isMulti:!0,isSearchable:!0,isClearable:!0,className:"shadow-md w-full",styles:{menuPortal:e=>m(u({},e),{zIndex:9999}),menu:e=>m(u({},e),{zIndex:9999,maxHeight:150,overflowY:"auto"}),menuList:e=>m(u({},e),{maxHeight:150,overflowY:"auto"})},menuPortalTarget:document.body}),n.weekday&&oe.jsx("span",{className:"text-danger text-xs",children:n.weekday})]})]})]}),oe.jsxs("div",{className:"mt-4 relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"timeFrom",className:"w-1/2 mt-2",children:["Time From ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full flex gap-2 items-start",children:[oe.jsxs("div",{className:"w-1/2",children:[oe.jsx("input",{type:"time",id:"time_from",name:"time_from",value:v.time_from,onChange:e=>N("time_from",e.target.value),required:!0,className:"form-control shadow-md w-full"}),n.time_from&&oe.jsx("span",{className:"text-red-500 text-xs block mt-1",children:n.time_from})]}),oe.jsx("span",{className:"mt-3",children:"To"}),oe.jsxs("div",{className:"w-1/2",children:[oe.jsx("input",{type:"time",id:"time_to",name:"time_to",value:v.time_to,onChange:e=>N("time_to",e.target.value),required:!0,className:"form-control shadow-md w-full"}),n.time_to&&oe.jsx("span",{className:"text-red-500 text-xs block mt-1",children:n.time_to})]})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",style:{},onClick:k,disabled:l,children:l?"Saving...":"Save"})})]})})]})]})},eMe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState({}),[l,o]=Q.useState(!1),[i,d]=Q.useState([]),[c,h]=Q.useState([{value:"A",label:"Admin"},{value:"F",label:"Finance"},{value:"L",label:"Librarian"},{value:"M",label:"Management"},{value:"T",label:"Teacher"},{value:"U",label:"AceVentura"}]);Q.useEffect((()=>{f()}),[]);const f=()=>p(e,null,(function*(){r(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getClassList`,{headers:{Authorization:`Bearer ${e}`}});console.log("Fetched classes array:",a.data);const r=(a.data||[]).map((e=>({value:e.class_id,label:e.name})));d(r)}catch(e){console.error("Error fetching class names",e)}finally{r(!1)}})),{id:x}=om();console.log("id",x);const g=rm().state;console.log("Appointment Navigate",g),Q.useEffect((()=>{g&&v({role_id:g.role_id||"",class_id:g.class_id||"",week:g.week||"",weekday:g.weekday?g.weekday.split(","):[],time_from:g.time_from||"",time_to:g.time_to||""})}),[g]);const[b,v]=Q.useState({role_id:"",class_id:"",week:"",weekday:[],time_from:"",time_to:""}),y=sm(),w=(e,t)=>{v((a=>m(u({},a),{[e]:t})));const a=m(u({},b),{[e]:t}),r=new Date("1970-01-01T09:00"),l=new Date("1970-01-01T18:00"),o=a.time_from?new Date(`1970-01-01T${a.time_from}`):null,i=a.time_to?new Date(`1970-01-01T${a.time_to}`):null,d=u({},n);"time_from"===e&&(t?o<r?d.time_from="Please enter a value greater than or equal to 09:00 am":o>l?d.time_from="Please enter a value less than or equal to 18:00.":delete d.time_from:d.time_from="Start time is required",i&&i<=o?d.time_to="End time must be after start time":i&&delete d.time_to),"time_to"===e&&(t?i<r?d.time_to="Please enter a value greater than or equal to 09:00 am":i>l?d.time_to="Please enter a value less than or equal to 18:00.":o&&i<=o?d.time_to="End time must be after start time":delete d.time_to:d.time_to="End time is required"),"time_from"!==e&&"time_to"!==e&&n[e]&&delete d[e],s(d)},j=[{value:"First",label:"First"},{value:"Second",label:"Second"},{value:"Third",label:"Third"},{value:"Fourth",label:"Fourth"}],N=[{value:"Monday",label:"Monday"},{value:"Tuesday",label:"Tuesday"},{value:"Wednesday",label:"Wednesday"},{value:"Thursday",label:"Thursday"},{value:"Friday",label:"Friday"},{value:"Saturday",label:"Saturday"}],_=a=>p(e,null,(function*(){if(a.preventDefault(),l)return;o(!0);const e=(()=>{const e={};if(b.role_id||(e.role_id="Role is required"),b.class_id||(e.class_id="Class is required"),b.week||(e.week="Week is required"),b.weekday&&0!==b.weekday.length||(e.weekday="At least one weekday must be selected"),b.time_from||(e.time_from="Start time is required"),b.time_to||(e.time_to="End time is required"),b.time_from&&b.time_to){const t=new Date(`1970-01-01T${b.time_from}`);new Date(`1970-01-01T${b.time_to}`)<=t&&(e.time_to="End time must be after start time")}return s(e),e})();if(Object.keys(e).length>0)return s(e),void Object.values(e).forEach((e=>{console.log("errors: ",e),o(!1)}));const n=m(u({},b),{role:b.role_id,class:b.class_id,week:b.week,weekday:b.weekday,time_from:b.time_from,time_to:b.time_to});try{r(!0);const e=localStorage.getItem("authToken");if(!e)throw new Error("No authentication token found");const a=(yield Uf.put(`${t}/api/update_appointmentwindow/${x}`,n,{headers:{Authorization:` Bearer ${e}`,"Content-Type":"application/json"}})).data;a.success?(hp.success("Appointment window updated successfully!"),setTimeout((()=>{y("/appointmentWindow")}),500)):hp.error(a.message||"Failed to save appointment window.")}catch(i){console.error("API Error:",i),hp.error("An error occurred while saving. Please try again.")}finally{o(!1)}}));return oe.jsxs("div",{className:"container mx-auto flex items-center justify-center mt-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md w-[60%] ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Edit Appointment Window"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{s({}),y("/appointmentWindow")}})]}),oe.jsx("div",{className:" relative w-full -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("p",{className:"absolute right-10 top-10 md:top-20 text-gray-500",children:[oe.jsx("span",{className:"text-red-500",children:"*"})," indicates mandatory information"]}),oe.jsx("form",{onSubmit:_,className:"flex items-center justify-center overflow-x-hidden shadow-md p-3 bg-gray-50 space-y-2",children:oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"leave_type",className:"w-1/2 mt-2",children:["Role ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"staffName",options:c,value:c.find((e=>e.value===b.role_id)),onChange:e=>w("role_id",e?e.value:""),placeholder:"Select",className:" shadow-md w-full",isSearchable:!0,isClearable:!0}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:n.role_id&&oe.jsx("span",{className:"text-danger text-xs",children:n.role_id})})]}),oe.jsxs("div",{className:"relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"leave_type",className:"w-1/2 mt-2",children:["Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx(Soe,{id:"staffName",options:i,value:i.find((e=>e.value===b.class_id)),onChange:e=>w("class_id",e?e.value:""),placeholder:"Select",className:" shadow-md w-full",isSearchable:!0,isClearable:!0}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:n.class_id&&oe.jsx("span",{className:"text-danger text-xs",children:n.class_id})})]}),oe.jsxs("div",{className:"mt-4 mb-4 flex items-start justify-start mx-4 gap-5",children:[oe.jsxs("label",{htmlFor:"week",className:"w-[26%] pt-1.5",children:["Appointment Every ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex gap-4 w-[67%]",children:[oe.jsxs("div",{className:"w-[50%] space-y-1",children:[oe.jsx(Soe,{id:"week",name:"week",options:j,value:j.find((e=>e.value===b.week)),onChange:e=>w("week",e?e.value:""),placeholder:"Select",className:"shadow-md w-full",styles:{menuPortal:e=>m(u({},e),{zIndex:9999}),menu:e=>m(u({},e),{zIndex:9999,maxHeight:150,overflowY:"auto"}),menuList:e=>m(u({},e),{maxHeight:150,overflowY:"auto"})},isSearchable:!0,isClearable:!0}),n.week&&oe.jsx("span",{className:"text-danger text-xs",children:n.week})]}),oe.jsxs("div",{className:"w-[50%] space-y-1",children:[oe.jsx(Soe,{id:"weekday",name:"weekday",options:N,value:N.filter((e=>{var t;return null==(t=b.weekday)?void 0:t.includes(e.value)})),onChange:e=>w("weekday",e?e.map((e=>e.value)):[]),placeholder:"Select Day",isMulti:!0,isSearchable:!0,isClearable:!0,className:"shadow-md w-full",styles:{menuPortal:e=>m(u({},e),{zIndex:9999}),menu:e=>m(u({},e),{zIndex:9999,maxHeight:150,overflowY:"auto"}),menuList:e=>m(u({},e),{maxHeight:150,overflowY:"auto"})},menuPortalTarget:document.body}),n.weekday&&oe.jsx("span",{className:"text-danger text-xs",children:n.weekday})]})]})]}),oe.jsxs("div",{className:"mt-4 relative mb-4 flex justify-center mx-4",children:[oe.jsxs("label",{htmlFor:"timeFrom",className:"w-1/2 mt-2",children:["Time From ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full flex gap-2 items-start",children:[oe.jsxs("div",{className:"w-1/2",children:[oe.jsx("input",{type:"time",id:"time_from",name:"time_from",value:b.time_from,onChange:e=>w("time_from",e.target.value),required:!0,className:"form-control shadow-md w-full"}),n.time_from&&oe.jsx("span",{className:"text-red-500 text-xs block mt-1",children:n.time_from})]}),oe.jsx("span",{className:"mt-3",children:"To"}),oe.jsxs("div",{className:"w-1/2",children:[oe.jsx("input",{type:"time",id:"time_to",name:"time_to",value:b.time_to,onChange:e=>w("time_to",e.target.value),required:!0,className:"form-control shadow-md w-full"}),n.time_to&&oe.jsx("span",{className:"text-red-500 text-xs block mt-1",children:n.time_to})]})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",style:{},onClick:_,disabled:l,children:l?"Updating...":"Update"})})]})})]})]})};function tMe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState(!0),[s,l]=Q.useState(null),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(0),[k,C]=Q.useState(0),[E,T]=Q.useState(""),[O,D]=Q.useState({}),[A,P]=Q.useState(""),[M,L]=Q.useState(!0),[I,F]=Q.useState(""),[R,$]=Q.useState("N"),[B,z]=Q.useState([{label:"Admin",value:"A"},{label:"Finance",value:"F"},{label:"Librarian",value:"L"},{label:"Management",value:"M"},{label:"Teacher",value:"T"},{label:"AceVentura",value:"U"}]),[U,H]=Q.useState(!1),W=Q.useRef(0),Y=Q.useRef(""),q=10,V=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const r=yield Uf.get(`${e}/api/get_servicetypeticket`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("the data of service type ticket api inside the service type component",r.data.data),a(r.data.data)}catch(t){l(t.message)}finally{n(!1)}}));Q.useEffect((()=>{V()}),[]),Q.useEffect((()=>{const e=y.trim().toLowerCase();""!==e&&""===Y.current&&(W.current=_,S(0)),""===e&&""!==Y.current&&S(W.current),Y.current=e}),[y]);const G=B.reduce(((e,t)=>(e[t.value]=t.label,e)),{}),K=y.trim().toLowerCase();console.log("sections before filtered sections:",t);const X=t.filter((e=>{var t;const a=null==(t=null==e?void 0:e.service_name)?void 0:t.toLowerCase().includes(K),r=(G[null==e?void 0:e.role_id]||"").toLowerCase().includes(K);return a||r}));Q.useEffect((()=>{C(Math.ceil(X.length/q))}),[X,q]);const J=X.slice(_*q,(_+1)*q);Q.useEffect((()=>{C(Math.ceil(X.length/q))}),[X]);const Z=(e,t)=>{const a={};return e&&""!==e.trim()?e.length>50&&(a.name="The name field must not exceed 50 characters."):a.name="Please enter service type name.",t||(a.role_id="Please select role type."),a},ee=()=>{i(!1),c(!1),f(!1),v(""),T(""),$("N"),F(""),g(null),D({}),P("")},te=e=>{let{value:t}=e.target;t=t.replace(/[^a-zA-Z ]/g,""),v(t),D((e=>m(u({},e),{name:Z(t,E).name})))},ae=e=>{const{value:t}=e.target;console.log("Selected Department ID:",t),T(t),D((e=>m(u({},e),{role_id:Z(b,t).role_id})))},re=e=>{const{value:t}=e.target;N(t),console.log("Selected Department ID:",t),F(t)};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mt-4",children:[oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Service Type"})," ",oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",value:y,onChange:e=>w(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{i(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 w-full md:w-[80%] mx-auto w-overflow-y-scroll lg:overflow-x-hidden",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Role"}),oe.jsx("th",{className:"px-2 w-full md:w-[12%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[12%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:r?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):J.length?J.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:_*q+a+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:null==e?void 0:e.service_name})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:"A"===(null==e?void 0:e.role_id)?"Admin":"F"===(null==e?void 0:e.role_id)?"Finance":"M"===(null==e?void 0:e.role_id)?"Management":"L"===(null==e?void 0:e.role_id)?"Librarian":"T"===(null==e?void 0:e.role_id)?"Teacher":"U"===(null==e?void 0:e.role_id)?"Ace Ventura":null==e?void 0:e.role_id})}),oe.jsxs("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:[oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(e=>{g(e),console.log("this is edit ",e.service_name),console.log("sectionsID for subject",e.service_id),v(e.service_name),N(e.service_name),T(e.role_id),F(e.description),$(e.RequiresAppointment),c(!0),console.log("Success in fetching the data")})(e),children:oe.jsx(zM,{icon:HM})})," "]}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent ",onClick:()=>(e=>{console.log("the deleted subject id",e);const a=t.find((t=>t.service_id===e));console.log("the deleted subject id for sectiontodelete",a),g(a),f(!0)})(e.service_id),children:oe.jsx(zM,{icon:VM})})})]},e.section_id))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:k,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{S(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered ",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Service"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"sectionName",className:"w-1/2 mt-2",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:30,className:"form-control shadow-md mb-2",id:"sectionName",value:b,onChange:te})," ",oe.jsxs("div",{className:"absolute top-9 left-1/3",children:[!M&&oe.jsx("span",{className:" block text-danger text-xs",children:A}),O.name&&oe.jsx("small",{className:"text-danger text-xs",children:O.name})]})]}),oe.jsxs("div",{className:" relative mb-4 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"departmentId",className:"w-1/2 mt-2",children:["Role ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"departmentId",className:"form-control shadow-md",value:E,onChange:ae,children:[oe.jsx("option",{value:"",children:"Select"}),B.map(((e,t)=>oe.jsx("option",{value:e.value,children:e.label},t)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:O.role_id&&oe.jsx("span",{className:"text-danger text-xs",children:O.role_id})})]}),oe.jsxs("div",{className:" relative mb-4 flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"descriptionId",className:"w-1/2 mt-2",children:"Description"}),oe.jsx("textarea",{className:"form-control shadow-md mb-2",id:"description",maxLength:200,value:I,onChange:re})," "]}),oe.jsxs("div",{className:"relative mb-4 mx-4 flex items-center",children:[oe.jsx("label",{htmlFor:"requiresAppointment",className:"w-70 text-right mr-4",children:"Requires Appointment"}),oe.jsx("input",{id:"requiresAppointment",type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600",checked:"Y"===R,onChange:e=>$(e.target.checked?"Y":"N")})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(U)return;H(!0);const t=Z(b,E);if(Object.keys(t).length>0)return D(t),void H(!1);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token or academic year found");yield Uf.post(`${e}/api/save_servicetypeticket`,{servicename:b,role_id:E,description:I,requiresappointment:R},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),V(),ee(),hp.success("New service type created!")}catch(a){console.error("Error adding subject:",a),a.response&&a.response.data&&a.response.data.errors?Object.values(a.response.data.errors).forEach((e=>hp.error(e))):hp.error("Server error. Please try again later.")}finally{H(!1)}})),disabled:U,children:U?"Saving...":"Add"})})]})})})}),d&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Service Type"}),oe.jsx(sh,{className:"float-end relative  mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:" relative mb-3 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editSectionName",className:"w-1/2 mt-2",children:["Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsx("input",{type:"text",maxLength:50,className:"form-control shadow-md mb-2",id:"editSectionName",value:b,onChange:te}),oe.jsxs("div",{className:"absolute top-9 left-1/3 ",children:[!M&&oe.jsx("span",{className:" block text-danger text-xs",children:A}),O.name&&oe.jsx("span",{className:"text-danger text-xs",children:O.name})]})]}),oe.jsxs("div",{className:" relative mb-4 flex justify-center  mx-4",children:[oe.jsxs("label",{htmlFor:"editDepartmentId",className:"w-1/2 mt-2",children:["Role ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("select",{id:"editDepartmentId",className:"form-control shadow-md",value:E,onChange:ae,children:[console.log("the vlause of the class",j),oe.jsx("option",{value:"",children:"Select"}),B.map(((e,t)=>oe.jsxs("option",{value:e.value,children:[" ",e.label]},t)))]}),oe.jsx("div",{className:"absolute top-9 left-1/3",children:O.role_id&&oe.jsx("span",{className:"text-danger text-xs",children:O.role_id})})]}),oe.jsxs("div",{className:" relative mb-4 flex justify-center  mx-4",children:[oe.jsx("label",{htmlFor:"descriptionId",className:"w-1/2 mt-2",children:"Description"}),oe.jsx("textarea",{className:"form-control shadow-md mb-2",id:"description",maxLength:200,value:I,onChange:re})," "]}),oe.jsxs("div",{className:"relative mb-4 mx-4 flex items-center",children:[oe.jsx("label",{htmlFor:"requiresAppointment",className:"w-70 text-right mr-4",children:"Requires Appointment"}),oe.jsx("input",{id:"requiresAppointment",type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600",checked:"Y"===R,onChange:e=>$(e.target.checked?"Y":"N")})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary  px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(U)return;H(!0);const t=Z(b,E);if(Object.keys(t).length)return D(t),void H(!1);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token or academic year found");console.log("This is edit Form******"),console.log("This is Edit data ID:",x.sm_id),console.log("This is Edit data Name:",b),console.log("This is Edit data class_id:",E),console.log("current section",x),yield Uf.put(`${e}/api/update_servicetypeticket/${x.service_id}`,{servicename:b,role_id:E,description:I,requiresappointment:R},{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),V(),ee(),hp.success("Service type updated successfully!")}catch(a){if(console.error("Error editing subject:",a),a.response&&422===a.response.data.status){const e=a.response.data.errors;console.log("error",e),e.name&&(D((t=>m(u({},t),{name:e.name}))),e.name.forEach((e=>hp.error(e))))}else hp.error("Server error. Please try again later.")}finally{H(!1)}})),disabled:U,children:U?"Updating...":"Update"})})]})})}),h&&oe.jsx("div",{className:"modal",style:{display:"block",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Deletion"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete Service type:"," ",null==x?void 0:x.service_name,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",style:{},onClick:()=>p(this,null,(function*(){if(!U){H(!0);try{const t=localStorage.getItem("authToken");if(!t||!x||!x.service_id)throw new Error("subject ID is missing");console.log("delete this service_id",x.service_id);const a=yield Uf.delete(`${e}/api/delete_servicetypeticket/${x.service_id}`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});console.log("The response of the delete api in the division module",a.data),a.data.success?(V(),f(!1),g(null),hp.success("Service type deleted!")):hp.error(a.data.message||"Failed to delete service type!")}catch(t){console.error("Error deleting Subject:",t),t.response&&t.response.data&&t.response.data.error?hp.error(t.response.data.error):hp.error("Server error. Please try again later.")}finally{H(!1),f(!1)}}})),disabled:U,children:U?"Deleting...":"Delete"})})]})})})]})]})}const aMe=()=>{const[t,a]=Q.useState(0),[r,n]=Q.useState(!1),s=sm(),[l,o]=Q.useState(!1),[i,d]=Q.useState([]),[c,u]=Q.useState(0),[m,h]=Q.useState("");Q.useEffect((()=>{f()}),[]);const f=()=>p(e,null,(function*(){var e,t,a,r,s;n(!1),h("");try{n(!0),d([]);const l=localStorage.getItem("authToken"),o=yield Uf.get("https://sms.evolvu.in/public/api/get_ticketlist",{headers:{Authorization:`Bearer ${l}`}});console.log("staff report",o),(null==(e=null==o?void 0:o.data)?void 0:e.data)&&0!==(null==(t=null==o?void 0:o.data)?void 0:t.length)?(d(null==(a=null==o?void 0:o.data)?void 0:a.data),u(Math.ceil((null==(s=null==(r=null==o?void 0:o.data)?void 0:r.data)?void 0:s.length)/10))):(hp.error("Staff Report data not found."),d([]))}catch(l){console.error("Error fetching Staff Report Report:",l),hp.error("Error fetching Staff Report. Please try again.")}finally{o(!1),n(!1)}})),x=e=>e?new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}).replace(","," ,").toLowerCase():"",g=i.filter((e=>{var t,a,r,n,s;const l=m.toLowerCase(),o=(null==(t=null==e?void 0:e.first_name)?void 0:t.toLowerCase())||"",i=(null==(a=null==e?void 0:e.service_name)?void 0:a.toLowerCase())||"",d=(null==(r=null==e?void 0:e.ticket_id)?void 0:r.toString().toLowerCase())||"",c=(null==(n=null==e?void 0:e.title)?void 0:n.toLowerCase())||"",u=(null==(s=null==e?void 0:e.status)?void 0:s.toLowerCase())||"",h=x(null==e?void 0:e.raised_on).toLowerCase()||"";return o.includes(l)||i.includes(l)||d.includes(l)||c.includes(l)||u.includes(l)||h.includes(l)})).slice(10*t);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[90%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsx("div",{className:"card rounded-md ",children:r?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):i.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Tickets"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>h(e.target.value)})})]})}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-[550px] lg:h-[550px] overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full w-[1000px] leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-100",children:[oe.jsx("th",{className:"w-12 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr No."}),oe.jsx("th",{className:"w-12 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Ticket ID"}),oe.jsx("th",{className:"w-40 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"w-20 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Service Name"}),oe.jsx("th",{className:"w-20 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Title"}),oe.jsx("th",{className:"w-28 px-2 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Raised On"}),oe.jsx("th",{className:"w-20 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Status"}),oe.jsx("th",{className:"w-12 px-3 py-2 text-center border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"View"})]})}),oe.jsx("tbody",{children:g.length?null==g?void 0:g.map(((t,a)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:a+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==t?void 0:t.ticket_id)||" "}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[null==t?void 0:t.first_name," ",null==t?void 0:t.mid_name," ",null==t?void 0:t.last_name]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==t?void 0:t.service_name}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:null==t?void 0:t.title}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==t?void 0:t.raised_on)?x(t.raised_on):" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==t?void 0:t.status)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent ",onClick:()=>(t=>p(e,null,(function*(){console.log("handle VIew is running on"),console.log("ticket_id",t.ticket_id),s(`/ticketList/view/${t.ticket_id}`,{state:{ticketDetails:t}})})))(t),children:oe.jsx(kg,{className:"font-bold text-xl"})})})]},t.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})})]})})},rMe=()=>{const t="https://sms.evolvu.in/public";Q.useState(null);const[a,r]=Q.useState(null),[n,s]=Q.useState(null),[l,o]=Q.useState(0);Q.useState([]),Q.useState(null);const[i,d]=Q.useState(!1),[c,u]=Q.useState(null),[m,h]=Q.useState(null);Q.useState("");const f=sm();Q.useState(!1);const[x,g]=Q.useState(""),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(!1),[_,S]=Q.useState([]),[k,C]=Q.useState([]),[E,T]=Q.useState(0),[O,D]=Q.useState("");Q.useEffect((()=>{c&&h(c.value)}),[c]);const A=e=>e?new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}).replace(","," ,").toLowerCase():"";Q.useEffect((()=>{p(e,null,(function*(){var e;try{const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_statusesforticketlist`,{headers:{Authorization:`Bearer ${a}`}});if(null==(e=r.data)?void 0:e.data){const e=r.data.data.map((e=>({value:e.status,label:e.status})));S(e)}}catch(a){console.error("Failed to fetch status options",a)}}))}),[]);const P=(e,t)=>{const{value:a}=e.target;"fromDate"===t?(s(a),g("")):"toDate"===t&&(r(a),v(""))};console.log("row",k);const M=k.filter((e=>{const t=O.trim().replace(/\s+/g," ").toLowerCase(),a=e=>(null==e?void 0:e.toString().trim().replace(/\s+/g," ").toLowerCase())||"",r=a(`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`.trim()),n=a(null==e?void 0:e.createdby),s=A(null==e?void 0:e.raised_on),l=a(null==e?void 0:e.class_name),o=a(null==e?void 0:e.service_name),i=a(null==e?void 0:e.sectionname);return r.includes(t)||n.includes(t)||s.includes(t)||l.includes(t)||o.includes(t)||i.includes(t)})),L=M.slice(10*l);return oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"w-full md:w-[96%] mx-auto p-4 ",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"card p-4 rounded-md ",children:[oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center ",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"Ticket Report"}),oe.jsx(sh,{className:" relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{f("/dashboard")}})]}),oe.jsx("div",{className:" relative w-full   -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs(oe.Fragment,{children:[oe.jsx("div",{className:"container mx-auto px-4",children:oe.jsxs("div",{className:"w-full md:w-[110%] relative right-0  mx-auto flex flex-wrap items-start gap-10 p-2",children:[oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsxs("label",{className:"text-md mb-1",htmlFor:"status",children:["Status ",oe.jsx("span",{className:"text-sm text-red-500",children:"*"})]}),oe.jsx(Soe,{menuPortalTarget:document.body,menuPosition:"fixed",id:"status",value:c,onChange:e=>{u(e),h(""===e.value?"":e.value),e&&w("")},options:_,placeholder:"Select",isSearchable:!0,isClearable:!1,className:"text-sm w-[180px]"}),oe.jsx("div",{className:"h-[16px] text-red-500 text-xs mt-1",children:y&&oe.jsx("span",{children:y})})]}),oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsx("label",{className:"text-md mb-1",htmlFor:"fromDate",children:"From Date"}),oe.jsx("input",{type:"date",id:"fromDate",value:n,onChange:e=>P(e,"fromDate"),className:"text-sm border border-gray-300 rounded px-2 py-2 w-[180px]"}),oe.jsx("div",{className:"h-[16px] text-red-500 text-xs mt-1",children:x&&oe.jsx("span",{children:x})})]}),oe.jsxs("div",{className:"flex flex-col h-[80px]",children:[oe.jsx("label",{className:"text-md mb-1",htmlFor:"toDate",children:"To Date"}),oe.jsx("input",{type:"date",id:"toDate",value:a,onChange:e=>P(e,"toDate"),className:"text-sm border border-gray-300 rounded px-2 py-2 w-[180px]",min:n,max:(new Date).toISOString().split("T")[0]}),oe.jsx("div",{className:"h-[16px] text-red-500 text-xs mt-1",children:b&&oe.jsx("span",{children:b})})]}),oe.jsx("div",{className:"flex items-end mt-4",children:oe.jsx("button",{type:"search",onClick:()=>p(e,null,(function*(){var e,r,s,l,o,i;if(d(!1),c){w(""),g(""),v(""),D("");try{d(!0),C([]);const u=localStorage.getItem("authToken");let m={status:""===c.value?"":c.label};n&&(m.from_date=n),a&&(m.to_date=a),console.log("API Params:",m);const h=yield Uf.get(`${t}/api/get_ticketreport`,{headers:{Authorization:`Bearer ${u}`},params:m,paramsSerializer:e=>new URLSearchParams(e).toString()});console.log("API Response:",null==h?void 0:h.data),(null==(e=null==h?void 0:h.data)?void 0:e.data)&&0!==(null==(s=null==(r=null==h?void 0:h.data)?void 0:r.data)?void 0:s.length)?(C(null==(l=null==h?void 0:h.data)?void 0:l.data),T(Math.ceil((null==(i=null==(o=null==h?void 0:h.data)?void 0:o.data)?void 0:i.length)/10))):(C([]),hp.error("No records found for selected criteria."))}catch(u){console.error("Error fetching report:",u),hp.error("Error fetching data. Please try again.")}finally{N(!1),d(!1)}}else w("Please select Status.")})),style:{backgroundColor:"#2196F3"},className:"btn h-10 btn-primary text-white font-bold py-1 px-6 rounded "+(i?"opacity-50 cursor-not-allowed":""),disabled:i,children:i?oe.jsxs("span",{className:"flex items-center",children:[oe.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[oe.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),oe.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Searching..."]}):"Search"})})]})}),k.length>0&&oe.jsx(oe.Fragment,{children:oe.jsx("div",{className:"w-full  mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsxs("div",{className:"w-full flex flex-row justify-between mr-0 md:mr-4 ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"List of Ticket Report"}),oe.jsx("div",{className:"w-1/2 md:w-[18%] mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>D(e.target.value)})})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row gap-x-1 justify-center md:justify-end",children:[oe.jsxs("button",{type:"button",onClick:()=>{if(!L||0===L.length)return void hp.error("No data available to download the Excel sheet.");const e=["Sr No.","Status","Raised On","Service Name","Created By","Student Name","Class","Division"],t=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t))return"";const a=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();let s=t.getHours();const l=String(t.getMinutes()).padStart(2,"0"),o=String(t.getSeconds()).padStart(2,"0"),i=s>=12?"pm":"am";return s=s%12||12,`${a}/${r}/${n} , ${String(s).padStart(2,"0")}:${l}:${o} ${i}`},a=L.map(((e,a)=>[a+1,(null==e?void 0:e.status)||" ",`${t((null==e?void 0:e.raised_on)||" ")}`,(null==e?void 0:e.service_name)||" ",(null==e?void 0:e.createdby)||" ",`${null==e?void 0:e.first_name} ${null==e?void 0:e.mid_name} ${null==e?void 0:e.last_name}`,(null==e?void 0:e.classname)||" ",(null==e?void 0:e.sectionname)||" "])),r=_ge.aoa_to_sheet([e,...a]),n=e.map((()=>({wch:20})));r["!cols"]=n;const s=_ge.book_new();_ge.book_append_sheet(s,r,"Ticket Report Data"),mge(s,"Ticket_Report.xlsx")},className:"relative bg-blue-400 py-1 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(Qm,{}),oe.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:"Exports to excel"})]}),oe.jsxs("button",{onClick:()=>{const e=` Ticket Report ${(null==c?void 0:c.label)||""}`,t=`\n    <div id="tableMain" class="flex items-center justify-center min-h-screen bg-white">\n         <h5 id="tableHeading5"  class="text-lg font-semibold border-1 border-black">${e}</h5>\n    <div id="tableHeading" class="text-center w-3/4">\n      <table class="min-w-full leading-normal table-auto border border-black mx-auto mt-2">\n        <thead>\n          <tr class="bg-gray-100">\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Sr.No</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Status</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Raised On</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Service Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Created By</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Student Name</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Class</th>\n            <th class="px-2 text-center py-2 border border-black text-sm font-semibold">Division</th>\n          </tr>\n        </thead>\n        <tbody>\n          ${L.map(((e,t)=>`\n              <tr class="text-sm">\n                <td class="px-2 text-center py-2 border border-black">${t+1}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.status)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">\n                ${A((null==e?void 0:e.raised_on)||" ")}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.service_name)||""}</td>\n                 <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.createdby)||""}</td>\n                  <td class="px-2 text-center py-2 border border-black">\n                  ${null==e?void 0:e.first_name} ${null==e?void 0:e.mid_name} ${null==e?void 0:e.last_name}\n                  </td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.classname)||" "}</td>\n                <td class="px-2 text-center py-2 border border-black">${(null==e?void 0:e.sectionname)||" "}</td>\n              </tr>`)).join("")}\n        </tbody>\n      </table>\n    </div>\n  </div>`,a=window.open("","_blank","width=2000,height=1000");a.document.write(`\n    <html>\n      <head>\n        <title>${e}</title>\n        <style>\n                   @page {\n                size: A4 landscape; /* Wider format for better fit */\n                margin: 10px;\n            }\n\n                      body {\n                font-family: Arial, sans-serif;\n                margin: 0;\n                padding: 0;\n                box-sizing: border-box;\n            }\n\n                       /* Scrollable container */\n            #printContainer {\n                width: 100%;\n                overflow-x: auto;  /* Enables horizontal scrolling */\n                white-space: nowrap; /* Prevents text wrapping */\n            }\n\n                      #tableMain {\n                width: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: flex-start;\n                padding: 0 10px;\n            }\n\n                       table {\n                border-spacing: 0;\n                width: 100%;\n                min-width: 1200px; /* Ensures table doesn't shrink */\n                margin: auto;\n                table-layout: fixed; /* Ensures even column spacing */\n            }\n\n                      th, td {\n                border: 1px solid gray;\n                padding: 8px;\n                text-align: center;\n                font-size: 12px;\n                word-wrap: break-word; /* Ensures text breaks properly */\n            }\n\n            th {\n                font-size: 0.8em;\n                background-color: #f9f9f9;\n            }\n\n\n           /* Ensure scrolling is available in print mode */\n            @media print {\n                #printContainer {\n                    overflow-x: auto;\n                    display: block;\n                    width: 100%;\n                    height: auto;\n                }\n             table {\n                    min-width: 100%;\n                }\n        }\n\n        </style>\n      </head>\n         <body>\n        <div id="printContainer">\n            ${t}\n        </div>\n    </body>\n    </html>\n  `),a.document.close(),a.onload=function(){a.focus(),a.print(),a.close()}},className:"relative flex flex-row justify-center align-middle items-center gap-x-1 bg-blue-400 hover:bg-blue-500 text-white px-3 rounded group",children:[oe.jsx(iie,{}),oe.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 hidden group-hover:flex items-center justify-center bg-gray-600  text-white text-[.7em] rounded-md py-1 px-2",children:["Print"," "]})]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full",children:oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll overflow-x-scroll",style:{scrollbarWidth:"thin",scrollbarColor:"#C03178 transparent"},children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsx("tr",{className:"bg-gray-100",children:["Sr No.","Status","Raised On","Service Name","Created By","Student Name","Class","Division"].map(((e,t)=>oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:e},t)))})}),oe.jsx("tbody",{children:L.length?null==L?void 0:L.map(((e,t)=>oe.jsxs("tr",{className:"border border-gray-300",children:[oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:t+1}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.status)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.raised_on)?A(null==e?void 0:e.raised_on):""}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.service_name)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.createdby)||""}),oe.jsxs("td",{className:"px-2 py-2 text-center border border-gray-300",children:[null==e?void 0:e.first_name," ",null==e?void 0:e.mid_name," ",null==e?void 0:e.last_name]}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.classname)||" "}),oe.jsx("td",{className:"px-2 py-2 text-center border border-gray-300",children:(null==e?void 0:e.sectionname)||" "})]},e.adm_form_pk))):oe.jsx("div",{className:" absolute left-[1%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-red-700",children:"Oops! No data found.."})})})]})})})]})})})]})]})]})})},nMe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState(!1),[n,s]=Q.useState(""),[l,o]=Q.useState({}),[i,d]=Q.useState(""),[c,u]=Q.useState([]),[m,h]=Q.useState(""),[f,x]=Q.useState([]),[g,b]=Q.useState(!1),[v,y]=Q.useState([]),[w,j]=Q.useState([]),[N,_]=Q.useState(""),[S,k]=Q.useState(!1),[C,E]=Q.useState(!1),[T,O]=Q.useState([]),[D,A]=Q.useState({}),P=sm(),{id:M}=om();Q.useEffect((()=>{L()}),[M]),Q.useEffect((()=>{c&&(A({status:c.status,comment:c.comment,appointment_date_time:c.appointment_date_time,files:[]}),d(c.status),s(c.comment),_(c.appointment_date_time))}),[c]);const L=()=>p(e,null,(function*(){var e,a;try{const r=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_ticketinformation/${M}`,{headers:{Authorization:`Bearer ${r}`}});if(null==(e=n.data)?void 0:e.data){const e=n.data.data||[];u(e);const t=null==(a=e[0])?void 0:a.class_id;t&&I(t)}}catch(r){console.error("Failed to fetch ticket details:",r)}})),I=a=>p(e,null,(function*(){var e;try{const r=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_appointmenttimelist/${a}`,{headers:{Authorization:`Bearer ${r}`}});(null==(e=n.data)?void 0:e.data)&&j(n.data.data)}catch(r){console.error("Failed to fetch appointment times:",r)}}));Q.useEffect((()=>{p(e,null,(function*(){var e;try{const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_statusesforticketlist`,{headers:{Authorization:`Bearer ${a}`}});if(null==(e=r.data)?void 0:e.data){const e=r.data.data.map((e=>({value:e.status,label:e.status})));y(e)}}catch(a){console.error("Failed to fetch status options",a)}}))}),[]);const F=()=>{r(!1)},R=e=>{d(e.target.value),console.log("Status changed to:",e.target.value)},$=e=>e?new Date(e).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}).replace(","," ,").toLowerCase():"",B=Array.isArray(c)?c.filter((e=>{var t,a,r,n,s;if(!m.trim())return!0;const l=m.toLowerCase(),o=(null==(t=null==e?void 0:e.first_name)?void 0:t.toLowerCase())||"",i=(null==(a=null==e?void 0:e.service_name)?void 0:a.toLowerCase())||"",d=(null==(r=null==e?void 0:e.ticket_id)?void 0:r.toString().toLowerCase())||"",c=(null==(n=null==e?void 0:e.title)?void 0:n.toLowerCase())||"",u=(null==(s=null==e?void 0:e.status)?void 0:s.toLowerCase())||"";return o.includes(l)||i.includes(l)||d.includes(l)||c.includes(l)||u.includes(l)})):[];return console.log("Filtered Sections",B),Q.useEffect((()=>{var e;Array.isArray(c)&&c.length>0&&d((null==(e=c[0])?void 0:e.status)||"New")}),[c]),oe.jsx("div",{className:"w-full px-4 md:px-8 mt-3",children:oe.jsxs("div",{className:"card p-4 rounded-md w-full md:w-[80%] mx-auto",children:[oe.jsx(wp,{}),oe.jsxs("div",{className:" card-header mb-4 flex justify-between items-center",children:[oe.jsx("h5",{className:"text-gray-700 mt-1 text-md lg:text-lg",children:"View Ticket"}),oe.jsx(sh,{className:"float-end relative right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{o({}),P("/ticketList")}})]}),oe.jsx("div",{className:" relative w-full -top-6 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),B.map(((e,t)=>oe.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[oe.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[oe.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-2",children:oe.jsxs("div",{className:"flex items-center space-x-4",children:[oe.jsx("div",{className:"pl-3",children:oe.jsx("i",{className:"fas fa-user-graduate text-lg text-white"})}),oe.jsx("h2",{className:"text-2xl font-bold text-white",children:"Student Details"})]})}),oe.jsxs("div",{className:"p-6 space-y-4",children:[oe.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[oe.jsx("i",{className:"fas fa-user text-purple-500"}),oe.jsx("span",{className:"text-gray-600 font-medium",children:"Student Name"})]}),oe.jsxs("span",{className:"text-gray-800 font-semibold",children:[e.first_name," ",e.mid_name," ",e.last_name]})]}),oe.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[oe.jsx("i",{className:"fas fa-school text-purple-500"}),oe.jsx("span",{className:"text-gray-600 font-medium",children:"Class & Division"})]}),oe.jsxs("span",{className:"text-gray-800 font-semibold",children:[e.classname," (",e.sectionname,")"]})]}),oe.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[oe.jsx("i",{className:"fas fa-id-card text-purple-500"}),oe.jsx("span",{className:"text-gray-600 font-medium",children:"Roll No"})]}),oe.jsx("span",{className:"text-gray-800 font-semibold",children:e.roll_no})]}),oe.jsxs("div",{className:"flex items-center justify-between py-3",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[oe.jsx("i",{className:"fas fa-barcode text-purple-500"}),oe.jsx("span",{className:"text-gray-600 font-medium",children:"GRN No"})]}),oe.jsx("span",{className:"text-gray-800 font-semibold",children:e.reg_no})]})]})]}),oe.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[oe.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-2",children:oe.jsxs("div",{className:"flex items-center space-x-4",children:[oe.jsx("div",{className:"pl-3",children:oe.jsx("i",{className:"fas fa-clipboard-list text-lg text-white"})}),oe.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Ticket Details (",e.ticket_id,")"]})]})}),oe.jsxs("div",{className:"p-6 space-y-4",children:[oe.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[oe.jsx("div",{className:"flex items-center space-x-3",children:oe.jsx("span",{className:"text-gray-600 font-medium",children:"Status"})}),oe.jsxs("div",{className:"relative",children:[oe.jsx("select",{value:i,onChange:R,className:"rounded-full px-4 py-2 shadow-sm border border-gray-300 font-semibold appearance-none pr-8 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-300 transition-all duration-200",children:v.map((e=>oe.jsx("option",{value:e.value,children:e.label},e.value)))}),oe.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:oe.jsx("i",{className:"fas fa-chevron-down text-xs text-gray-600"})})]})]}),oe.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[oe.jsx("i",{className:"fas fa-calendar-plus text-blue-500"}),oe.jsx("span",{className:"text-gray-600 font-medium",children:"Raised on"})]}),oe.jsx("span",{className:"text-gray-800 font-semibold",children:e.raised_on?$(e.raised_on):""})]}),oe.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[oe.jsx("i",{className:"fas fa-cogs text-blue-500"}),oe.jsx("span",{className:"text-gray-600 font-medium",children:"Service Name"})]}),oe.jsx("span",{className:"text-gray-800 font-semibold",children:e.service_name})]}),oe.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[oe.jsx("i",{className:"fas fa-heading text-blue-500"}),oe.jsx("span",{className:"text-gray-600 font-medium",children:"Title"})]}),oe.jsx("span",{className:"text-gray-800 font-semibold",children:e.title})]}),oe.jsx("div",{className:"py-3 border-b border-gray-100",children:oe.jsxs("div",{className:"flex items-start space-x-3",children:[oe.jsxs("div",{className:"flex items-center space-x-2 min-w-[120px]",children:[oe.jsx("i",{className:"fas fa-align-left text-blue-500"}),oe.jsx("span",{className:"text-gray-600 font-medium",children:"Description"})]}),oe.jsx("p",{className:"text-gray-900 bg-gray-50 p-2 rounded-lg w-full",children:e.description})]})}),"Y"===e.RequiresAppointment&&oe.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[oe.jsx("i",{className:"fas fa-clock text-blue-500"}),oe.jsx("span",{className:"text-gray-600 font-medium",children:"Date & Time"})]}),oe.jsx("div",{className:"text-right",children:w.length>0?oe.jsx("div",{className:"space-y-2",children:w.map(((t,a)=>oe.jsxs("label",{className:"flex items-center space-x-2 justify-end",children:[oe.jsx("input",{type:"radio",name:`appointment-time-${e.ticket_id}`,value:t.value,checked:N===t.value,onChange:()=>{return e=t.value,void("Approved"===i?_(e):hp.error("Please select status as Approved first!!"));var e},className:"text-blue-800 focus:ring-blue-800"}),oe.jsx("span",{className:"text-gray-800 text-sm",children:t.display})]},a)))}):oe.jsx("span",{className:"text-gray-800 font-semibold",children:"Not Available"})})]})]})]})]},t))),oe.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[oe.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-3",children:[oe.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[oe.jsx("i",{className:"fas fa-paperclip text-2xl text-green-500"}),oe.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Attachments"})]}),oe.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-green-400 ",children:[oe.jsx("i",{className:"fas fa-cloud-upload-alt text-2xl text-gray-400 mb-2"}),oe.jsx("p",{className:"text-gray-600 mb-2",children:"Upload supporting documents"}),oe.jsx("input",{type:"file",id:"file-upload",multiple:!0,className:"hidden",onChange:e=>O([...e.target.files])}),oe.jsx("label",{htmlFor:"file-upload",className:"bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg cursor-pointer transition-colors duration-300 inline-flex items-center space-x-2",children:oe.jsx("span",{children:"Choose Files"})})]})]}),oe.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[oe.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[oe.jsx("i",{className:"fas fa-comments text-2xl text-pink-500"}),oe.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Comments"})]}),oe.jsx("textarea",{value:n,onChange:e=>s(e.target.value),rows:"2",className:"w-full border border-gray-300 rounded-lg p-4 focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",placeholder:"Add your comments here..."}),oe.jsx("div",{className:"flex justify-end mt-3",children:oe.jsx("button",{onClick:()=>p(e,null,(function*(){var e;r(!0),b(!0);try{const a=localStorage.getItem("authToken"),r=yield Uf.get(`${t}/api/get_commentticketlist/${M}`,{headers:{Authorization:`Bearer ${a}`}});(null==(e=null==r?void 0:r.data)?void 0:e.data)?x(r.data.data):x([])}catch(a){console.error("Failed to fetch comments:",a),hp.error("Failed to load comments.")}finally{b(!1)}})),type:"button",className:"flex-2 bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-lg  justify-center space-x-2",children:oe.jsx("span",{children:"View Comment"})})})]})]}),oe.jsx("div",{className:"mt-8 flex justify-end space-x-2",children:oe.jsx("button",{type:"button",onClick:a=>p(e,null,(function*(){if(a.preventDefault(),k(!0),i===D.status&&n===D.comment&&(N||"")===(D.appointment_date_time||"")&&0===T.length)return hp.error("No changes detected. Please modify a field before submitting."),void k(!1);if("Approved"===i&&!N)return hp.error("Please select Date and Time for Approved status."),void k(!1);try{E(!0);const e=localStorage.getItem("authToken"),a=new FormData;a.append("status",i),a.append("comment",n),a.append("appointment_date_time",N||(null==c?void 0:c.appointment_date_time)||""),T.forEach((e=>{a.append("fileupload",e)}));const r=yield Uf.post(`${t}/api/save_ticketinformation/${M}`,a,{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}});console.log("save api response",r),200===r.data.status?(hp.success("Data Saved successfully!"),setTimeout((()=>{P("/ticketList")}),2e3)):hp.error(r.data.message||"Save failed.")}catch(e){console.error("Error saving ticket:",e),hp.error("Something went wrong!")}finally{E(!1),k(!1)}})),disabled:S,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-4 py-2 rounded-lg shadow-lg hover:shadow-xl "+(S?"opacity-50 cursor-not-allowed":""),children:oe.jsx("span",{className:"font-semibold",children:S?"Saving...":"Save"})})}),a&&oe.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:oe.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-6xl shadow-2xl transform scale-100 transition-all duration-300",children:[oe.jsx("div",{className:"bg-gradient-to-r  from-purple-600 to-pink-600 p-3 rounded-t-xl",children:oe.jsxs("div",{className:"flex items-center justify-between",children:[oe.jsxs("div",{className:"flex items-center space-x-3",children:[oe.jsx("i",{className:"fas fa-history text-base text-white"}),oe.jsx("h2",{className:"text-2xl font-bold text-white",children:"Comments History"})]}),oe.jsx("button",{onClick:F,className:"bg-white/20 hover:bg-white/30 p-2 rounded-full transition-colors duration-300",children:oe.jsx("i",{className:"fas fa-times text-white"})})]})}),oe.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:oe.jsx("div",{className:"overflow-x-auto",children:oe.jsxs("table",{className:"min-w-full border border-gray-300 border-collapse",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-50",children:[oe.jsx("th",{className:"p-2 text-center text-sm font-semibold text-gray-600 border border-gray-300",children:"Date"}),oe.jsx("th",{className:"p-2 text-center text-sm font-semibold text-gray-600 border border-gray-300",children:"Status"}),oe.jsx("th",{className:"p-2 text-center text-sm font-semibold text-gray-600 border border-gray-300",children:"Comments"}),oe.jsx("th",{className:"p-2 text-center text-sm font-semibold text-gray-600 border border-gray-300",children:"Appointment Date & Time"}),oe.jsx("th",{className:"p-2 text-center text-sm font-semibold text-gray-600 border border-gray-300",children:"User"}),oe.jsx("th",{className:"p-2 text-center text-sm font-semibold text-gray-600 border border-gray-300",children:"Attachment"})]})}),oe.jsx("tbody",{children:g?oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center py-6 text-blue-600 font-semibold border border-gray-300",children:"Loading comments..."})}):0===f.length?oe.jsx("tr",{children:oe.jsx("td",{colSpan:"6",className:"text-center text-gray-500 py-6 border border-gray-300",children:oe.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[oe.jsx("i",{className:"fas fa-inbox text-4xl text-gray-300"}),oe.jsx("p",{className:"text-lg",children:"No comments available"}),oe.jsx("p",{className:"text-sm",children:"Comments will appear here when added"})]})})}):f.map(((t,a)=>oe.jsxs("tr",{className:"hover:bg-gray-50 text-center",children:[oe.jsx("td",{className:"p-2 text-sm text-gray-700 border border-gray-300",children:t.date?$(t.date):" "}),oe.jsx("td",{className:"p-2 text-sm text-gray-700 border border-gray-300",children:t.status||""}),oe.jsx("td",{className:"p-2 text-sm text-gray-700 border border-gray-300",children:t.comment||""}),oe.jsx("td",{className:"p-2 text-sm text-gray-700 border border-gray-300",children:t.appointment_date_time||""}),oe.jsxs("td",{className:"p-2 text-sm text-gray-700 border border-gray-300",children:[t.login_type||""," ",t.name||""]}),oe.jsx("td",{className:"p-2 text-sm text-gray-700 border border-gray-300",children:t.image_url?oe.jsxs("div",{className:"flex items-center space-x-2",children:[oe.jsx("a",{href:t.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:t.image_url.split("/").pop()}),oe.jsx("button",{onClick:()=>{return a=t.image_url,p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),t=yield Uf.get(a,{responseType:"blob",headers:{Authorization:`Bearer ${e}`}}),r=new Blob([t.data]),n=window.URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=a.split("/").pop(),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(n)}catch(e){console.error("Download failed:",e),hp.error("File download failed")}}));var a},className:"text-green-600 hover:text-green-800",title:"Download File",children:oe.jsx("i",{className:"fas fa-download"})})]}):""})]},a)))})]})})}),oe.jsx("div",{className:"bg-gray-50 p-2 rounded-b-2xl flex justify-end",children:oe.jsx("button",{onClick:F,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-lg transition-colors duration-300 flex items-center space-x-2",children:oe.jsx("span",{children:"Close"})})})]})})]})})};function sMe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState([]),[r,n]=Q.useState([]),[s,l]=Q.useState(!1),[o,i]=Q.useState(null),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(!1),[b,v]=Q.useState(null),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(""),[k,C]=Q.useState(0),[E,T]=Q.useState(0),[O,D]=Q.useState(!1),A=10,[P,M]=Q.useState({}),L=Q.useRef(0),I=Q.useRef(""),[F,R]=Q.useState([]);Q.useState(!0);const[$,B]=Q.useState("");Q.useState({});const[z,U]=Q.useState({}),[H,W]=Q.useState([]),[Y,q]=Q.useState(""),[V,G]=Q.useState(""),[K,X]=Q.useState({});Q.useEffect((()=>{J(),ee(),te(),Z()}),[]);const J=()=>p(this,null,(function*(){var t,r,n;l(!0);try{const s=localStorage.getItem("authToken");if(!s)throw new Error("No authentication token found");const l=yield Uf.get(`${e}/api/get_allotspecialrolelist`,{headers:{Authorization:`Bearer ${s}`},withCredentials:!0});a(null==(t=l.data)?void 0:t.data),T(Math.ceil((null==(n=null==(r=null==l?void 0:l.data)?void 0:r.data)?void 0:n.length)/A))}catch(s){i(s.message)}finally{l(!1)}})),Z=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/get_specialrole`,{headers:{Authorization:`Bearer ${t}`}}),r=Array.isArray(a.data.data)?a.data.data.map((e=>({value:e.sp_role_id,label:e.name}))):[];W(r)}catch(t){hp.error("Error fetching roles")}})),ee=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken"),a=yield Uf.get(`${e}/api/get_allstaff_without_caretaker`,{headers:{Authorization:`Bearer ${t}`}});if(console.log(" all staff names",a.data),Array.isArray(a.data.data)){const e=a.data.data.map((e=>({value:e.teacher_id,label:e.name})));R(e)}else B("Unexpected data format.")}catch(t){hp.error("Error fetching Staff Names.",t)}})),te=()=>p(this,null,(function*(){try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a=yield Uf.get(`${e}/api/sections`,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0});n(a.data)}catch(t){i(t.message)}})),ae=({departmentId:e,staff:t,role:a})=>{const r={};return e||(r.department_id="Please select a department"),t||(r.staff="Please select a staff member"),a||(r.role="Please select a role"),r},re=()=>{c(!1),f(!1),g(!1),w(""),N(""),v(null),M({}),B(""),X({}),U(""),N(""),G(""),q(""),M({}),G("")};Q.useEffect((()=>{const e=_.trim().toLowerCase();""!==e&&""===I.current&&(L.current=k,C(0)),""===e&&""!==I.current&&C(L.current),I.current=e}),[_]);const ne=_.trim().toLowerCase(),se=t.filter((e=>{var t;return e.role.toLowerCase().includes(ne)||(null==(t=null==e?void 0:e.departmentname.toLowerCase())?void 0:t.includes(ne))||(null==e?void 0:e.teachername.toLowerCase().includes(ne))}));Q.useEffect((()=>{T(Math.ceil(se.length/A))}),[se,A]);const le=se.slice(k*A,(k+1)*A),ie=e=>{const{value:t}=e.target;N(t),X((e=>m(u({},e),{department_id:t?"":"Please select a department"})))};return oe.jsxs(oe.Fragment,{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-3/4 shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Special Role Allotment"}),oe.jsxs("div",{className:"box-border flex md:gap-x-2 justify-end md:h-10",children:[oe.jsx("div",{className:" w-1/2 md:w-fit mr-1",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search",onChange:e=>S(e.target.value)})}),oe.jsxs("button",{className:"btn btn-primary btn-sm md:h-9 text-xs md:text-sm",onClick:()=>{c(!0)},children:[oe.jsx(zM,{icon:QM,style:{marginRight:"5px"}}),"Add"]})]})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"w-full md:w-[84%] h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden mx-auto",children:oe.jsx("div",{className:"bg-white rounded-lg shadow-xs",children:s?oe.jsx("div",{className:"flex justify-center items-center w-full h-[50vh]",children:oe.jsx("div",{className:"text-xl text-blue-700 text-center",children:"Please wait while data is loading..."})}):oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center w-full md:w-[10%] lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center w-full md:w-[14%]  lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Department"}),oe.jsxs("th",{className:"px-2 w-full md:w-[19%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:["Teacher"," "]}),oe.jsx("th",{className:"px-2 w-full md:w-[25%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Role"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit"}),oe.jsx("th",{className:"px-2 w-full md:w-[10%] text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"})]})}),oe.jsx("tbody",{children:le.length?le.map(((e,a)=>oe.jsxs("tr",{className:(a%2==0?"bg-white":"bg-gray-100")+" hover:bg-gray-50",children:[oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:k*A+a+1})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.departmentname})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.teachername})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("p",{className:"text-gray-900 whitespace-no-wrap relative top-2",children:e.role})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{v(e),w(e.name),N(e.department_id),q({value:e.teacher_id,label:e.teachername}),G({value:e.role,label:e.role}),f(!0)})(e),children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:oe.jsx("button",{className:"text-red-600 hover:text-red-800 hover:bg-transparent",onClick:()=>(e=>{const a=t.find((t=>t.special_role_id===e));a?(v(a),g(!0)):hp.error("Special Role not found for deletion.")})(e.special_role_id),children:oe.jsx(zM,{icon:VM})})})]},e.class_id))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:6,className:"text-center py-6 text-red-700 text-lg",children:"Oops! No data found.."})})})]})})}),oe.jsx("div",{className:" flex justify-center  pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:E,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{C(e.selected)},containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active"})})]})]})}),d&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Create New Class"}),oe.jsx(sh,{className:"float-end relative top-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:re})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative  flex justify-center items-start mx-4",children:[oe.jsxs("label",{htmlFor:"newDepartmentId",className:"w-1/2 mt-2",children:["Department ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsxs("select",{className:"form-control shadow-md",id:"newDepartmentId",value:j,onChange:ie,children:[oe.jsx("option",{value:"",children:"Select"}),r.map((e=>oe.jsx("option",{value:e.department_id,children:e.name},e.department_id)))]}),oe.jsx("div",{className:"min-h-[2rem]",children:K.department_id&&oe.jsx("p",{className:"text-red-500 text-xs",children:K.department_id})})]})]}),oe.jsxs("div",{className:"relative  flex justify-center items-start mx-4",children:[oe.jsxs("label",{className:"w-1/2 mt-2",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{options:F,value:Y,onChange:e=>{q(e),X((e=>m(u({},e),{staff:""})))},placeholder:"Select Staff",className:"shadow-md",isSearchable:!0,isClearable:!0}),oe.jsx("div",{className:"min-h-[2rem]",children:K.staff&&oe.jsx("p",{className:"text-red-500 text-xs",children:K.staff})})]})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center items-start mx-4",children:[oe.jsxs("label",{className:"w-1/2 mt-2",children:["Role Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{options:H,value:V,onChange:e=>{G(e),X((e=>m(u({},e),{role:""})))},placeholder:"Select Role",className:"shadow-md",isSearchable:!0,isClearable:!0}),oe.jsx("div",{className:"min-h-[2rem]",children:K.role&&oe.jsx("p",{className:"text-red-500 text-xs",children:K.role})})]})]})]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2 ",onClick:()=>p(this,null,(function*(){if(O)return;D(!0);const t=ae({departmentId:j,staff:Y,role:V});if(Object.keys(t).length>0)return X(t),void D(!1);try{const t=localStorage.getItem("authToken");if(!t)throw new Error("No authentication token found");const a={teacher_id:null==Y?void 0:Y.value,department_id:j,role:null==V?void 0:V.value};yield Uf.post(`${e}/api/save_allotspecialrole`,a,{headers:{Authorization:`Bearer ${t}`},withCredentials:!0}),J(),re(),hp.success("Special Role Alloted successfully!")}catch(a){a.response&&a.response.data?hp.error(`Error Alloting Special Role: ${a.response.data.message}`):hp.error(`ErrorAlloting Special Role: ${a.message}`),console.error("Error aAlloting Special Role:",a)}finally{D(!1)}})),disabled:O,children:O?"Saving...":"Add"})})]})})})}),h&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Special Role allotment"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:re})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center items-start mx-4",children:[oe.jsxs("label",{htmlFor:"newDepartmentId",className:"w-1/2 mt-2",children:["Department ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsxs("select",{className:"form-control shadow-md",id:"newDepartmentId",value:j,onChange:ie,disabled:!0,children:[oe.jsx("option",{value:"",children:"Select"}),r.map((e=>oe.jsx("option",{value:e.department_id,children:e.name},e.department_id)))]}),oe.jsx("div",{className:"min-h-[1rem]",children:K.department_id&&oe.jsx("p",{className:"text-red-500 text-xs",children:K.department_id})})]})]}),oe.jsxs("div",{className:"relative  flex justify-center items-start mx-4",children:[oe.jsxs("label",{className:"w-1/2 mt-2",children:["Staff Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{options:F,value:Y,onChange:e=>{q(e),X((e=>m(u({},e),{staff:""})))},placeholder:"Select Staff",className:"shadow-md",isSearchable:!0,isClearable:!0}),oe.jsx("div",{className:"min-h-[1rem]",children:K.staff&&oe.jsx("p",{className:"text-red-500 text-xs",children:K.staff})})]})]}),oe.jsxs("div",{className:"relative  flex justify-center items-start mx-4",children:[oe.jsxs("label",{className:"w-1/2 mt-2",children:["Role Name ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"w-full",children:[oe.jsx(Soe,{options:H,value:V,onChange:e=>{G(e),X((e=>m(u({},e),{role:""})))},placeholder:"Select Role",className:"shadow-md",isSearchable:!0,isClearable:!0}),oe.jsx("div",{className:"min-h-[1rem]",children:K.role&&oe.jsx("p",{className:"text-red-500 text-xs",children:K.role})})]})]})]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){var t;if(O)return;D(!0);const a=ae({departmentId:j,staff:Y,role:V});if(Object.keys(a).length>0)return X(a),void D(!1);try{const t=localStorage.getItem("authToken");if(!t||!(null==b?void 0:b.special_role_id))throw new Error("Special Role ID is missing");const a={teacher_id:null==Y?void 0:Y.value,role:null==V?void 0:V.value};console.log("payload data is for edit---\x3e",a),yield Uf.put(`${e}/api/update_allotspecialrole/${b.special_role_id}`,a,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},withCredentials:!0}),J(),re(),hp.success("Allot Special Role updated successfully!"),U({})}catch(r){if(r.response&&r.response.data){const e=r.response.data.errors;e?(U(e),hp.error(`Error: ${null==(t=e.name)?void 0:t.join(", ")}`)):hp.error(`Error updating Allot Special Role: ${r.response.data.message}`)}else hp.error(`Error updating Allot Special Role: ${r.message}`);console.error("Error editing Allot Special Role:",r)}finally{D(!1)}})),disabled:O,children:O?"Updating...":"Update"})})]})})})}),x&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show ",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog  modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Delete Special Role allotment"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:re})]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[100%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"modal-body",children:oe.jsxs("p",{children:["Are you sure you want to delete this special role allotment for ",null==b?void 0:b.teachername,"?"]})}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var t,a,r;if(!O&&(null==b?void 0:b.special_role_id)){D(!0);try{const a=localStorage.getItem("authToken");if(!a)throw new Error("No authentication token found.");const r=yield Uf.delete(`${e}/api/delete_allotspecialrole/${b.special_role_id}`,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0});400===(null==(t=null==r?void 0:r.data)?void 0:t.status)?hp.error(r.data.message||"Failed to delete."):(hp.success("Special Role allotment deleted successfully!"),J()),g(!1),v(null)}catch(n){console.error("Error deleting Special Role:",n),hp.error((null==(r=null==(a=n.response)?void 0:a.data)?void 0:r.message)||"Failed to delete. Please try again.")}finally{D(!1)}}})),disabled:O,children:O?"Deleting...":"Delete"})})]})})})})]})}const lMe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState(!1),[l,o]=Q.useState({subjectError:"",noticeDescError:"",classError:""}),[i,d]=Q.useState([]),[c,h]=Q.useState(null),[f,x]=Q.useState(null),[g,b]=Q.useState(null),[v,y]=Q.useState(null),[w,j]=Q.useState(null),[N,_]=Q.useState([]),[S,k]=Q.useState(!1),[C,E]=Q.useState(""),[T,O]=Q.useState([]),[D,A]=Q.useState(!1),[P,M]=Q.useState(!1),[L,I]=Q.useState(null),[F,R]=Q.useState(!1),[$,B]=Q.useState(""),[z,U]=Q.useState(""),[H,W]=Q.useState(!1),[Y,q]=Q.useState(!1),[V,G]=Q.useState([]);Q.useEffect((()=>{X()}),[]),Q.useEffect((()=>{c&&K(c)}),[c]),Q.useEffect((()=>{p(e,null,(function*(){if(w){k(!0);try{const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getStudentListBySectionData?section_id=${w}`,{headers:{Authorization:`Bearer ${e}`}});a.data.success?_(a.data.data):(_([]),E("No students found."))}catch(e){console.error(e),E("Error fetching students.")}finally{k(!1)}}}))}),[w]);const K=(a,r)=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_subjectbyclasssection/${a}/${r}`,{headers:{Authorization:`Bearer ${e}`}});console.log("Subjects:",n.data),d(n.data.data||[])}catch(e){console.error("Failed to fetch subjects",e)}})),X=()=>p(e,null,(function*(){try{R(!0),M(!0);const e=localStorage.getItem("authToken"),a=yield Uf.get(`${t}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${e}`}});console.log("Class Data",a.data),r(a.data||[])}catch(e){hp.error("Error fetching data.")}finally{R(!1),M(!1)}})),J=Q.useMemo((()=>a.map((e=>{var t;return{value:e.section_id,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name} (${e.students_count})`}}))),[a]),Z=Q.useMemo((()=>(i||[]).map((e=>({value:e.sm_id,label:e.name})))),[i]),ee=(r,n=!1)=>p(e,null,(function*(){var e;if(r.preventDefault(),!(()=>{const e={};return L||(e.classError="Please select a class."),T&&0!==T.length||(e.studentError="Please select at least one student."),z.trim()||(e.remarkSubjectError="Remark subject is required."),$.trim()||(e.remarkDescriptionError="Remark description is required."),o(e),0===Object.keys(e).length})())return;n?q(!0):W(!0);const s=new FormData;s.append("save_publish",n?"Y":"N"),D&&s.append("observation","yes"),s.append("remark_desc",$||""),s.append("remark_subject",z||"");const l=(null==L?void 0:L.value)||"";s.append("section_id",l);const i=a.find((e=>e.section_id===l)),d=(null==(e=null==i?void 0:i.get_class)?void 0:e.class_id)||"";s.append("class_id",d),s.append("subject_id",(null==f?void 0:f.value)||"0"),T.forEach((e=>{s.append("student_id[]",e)})),V.forEach((e=>{s.append("userfile[]",e)}));try{const e=localStorage.getItem("authToken");(yield Uf.post(`${t}/api/save_remarkobservationforstudents`,s,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}})).data.success?hp.success(n?"Remark Saved & published successfully!":"Remark saved successfully!"):hp.error("Failed to save remark.")}catch(c){console.error("Error submitting remark:",c),hp.error("Something went wrong while saving.")}finally{W(!1),q(!1)}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mb-4",children:[oe.jsx("div",{className:"card-header flex justify-between items-center"}),oe.jsx("div",{className:"w-[95%] mx-auto",children:oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Create Remark & Observation"})}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full ml-2",children:n?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsx("div",{className:"card-body w-full ml-2",children:oe.jsxs("div",{className:"space-y-4 mr-10",children:[oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3",children:[oe.jsxs("label",{className:"w-[18%] text-[1em] text-gray-700",children:["Select Class ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx(Soe,{options:J,value:J.find((e=>e.value===(null==L?void 0:L.value))),onChange:e=>{var t;I(e),b(null),y(null),l.classError&&o((e=>m(u({},e),{classError:""})));const r=null==e?void 0:e.value;if(!r)return;j(r);const n=a.find((e=>e.section_id===r)),s=null==(t=null==n?void 0:n.get_class)?void 0:t.class_id;s&&(h(s),K(s,r))},className:"w-[40%]",placeholder:"Select",isClearable:!0},L?L.value:"reset"),l.classError&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.classError})]})]}),oe.jsxs("div",{className:"grid grid-cols-[180px_1fr] items-start gap-4 mb-2",children:[oe.jsxs("label",{className:"text-[1em] text-gray-700",children:["Select Student ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),S?oe.jsx("div",{className:"text-sm text-blue-600",children:"Loading students, please wait..."}):L?0===N.length?oe.jsx("div",{className:"text-gray-500 text-sm",children:"No students found for the selected class."}):oe.jsxs("div",{className:"flex flex-col gap-2",children:[oe.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:N.map((e=>{const t=`student-${e.student_id}`;return oe.jsxs("div",{className:"flex items-center gap-1 flex-nowrap",style:{minWidth:0},children:[oe.jsx("input",{type:"checkbox",id:t,checked:T.includes(e.student_id),onChange:()=>{return t=e.student_id,void O((e=>{const a=e.includes(t)?e.filter((e=>e!==t)):[...e,t];return a.length>0&&l.studentError&&o((e=>m(u({},e),{studentError:""}))),a}));var t},className:"cursor-pointer flex-shrink-0"}),oe.jsxs("label",{htmlFor:t,className:"text-[.8em] text-gray-900 cursor-pointer select-none whitespace-nowrap overflow-hidden text-ellipsis",style:{minWidth:0},children:[e.first_name," ",e.mid_name," ",e.last_name]})]},e.student_id)}))}),oe.jsxs("label",{className:"font-medium text-sm cursor-pointer",children:[oe.jsx("input",{type:"checkbox",checked:N.length>0&&T.length===N.length,onChange:()=>{T.length===N.length?O([]):O(N.map((e=>e.student_id)))},className:"mr-2 cursor-pointer"}),"Select All"]}),l.studentError&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.studentError})]}):oe.jsx("div",{className:"text-gray-500 text-sm",children:"Please select a class to view students."})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3",children:[oe.jsx("label",{className:"w-[18%] text-[1em] text-gray-700",children:"Subject"}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx(Soe,{options:Z,value:f,onChange:e=>{x(e),e&&o((e=>m(u({},e),{subjectError:""})))},className:"w-[40%]",placeholder:"Select",isClearable:!0}),l.subjectError&&oe.jsx("p",{className:"text-red-500 mt-1",children:l.subjectError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3",children:[oe.jsxs("label",{className:"w-[18%] text-[1em] text-gray-700",children:["Subject of Remark"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("input",{type:"text",className:"w-[40%] px-2 py-2 border border-gray-700 rounded-md shadow-md",value:z,onChange:e=>{U(e.target.value),l.remarkSubjectError&&o((e=>m(u({},e),{remarkSubjectError:""})))}}),l.remarkSubjectError&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.remarkSubjectError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3",children:[oe.jsxs("label",{className:"w-[18%] text-[1em] text-gray-700",children:["Remark ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("textarea",{rows:"3",className:"w-[40%] px-2 py-1 border border-gray-700 rounded-md shadow-md",value:$,onChange:e=>{B(e.target.value),l.remarkDescriptionError&&o((e=>m(u({},e),{remarkDescriptionError:""})))}}),l.remarkDescriptionError&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.remarkDescriptionError}),oe.jsx("div",{className:"mt-2",children:oe.jsxs("label",{className:"inline-flex flex-col text-sm text-gray-700",children:[oe.jsxs("span",{className:"flex items-center",children:[oe.jsx("input",{type:"checkbox",className:"mr-2",checked:D,onChange:e=>{A(e.target.checked)}}),"Observation"]}),oe.jsx("span",{className:"text-xs text-gray-500 ml-6",children:"(Observation will not be shown to parents!)"})]})})]})]}),!D&&oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-start gap-3",children:[oe.jsx("label",{className:"w-[18%] text-[1em] text-gray-700 pt-2",children:"Attachment"}),oe.jsxs("div",{className:"flex-1 space-y-2",children:[oe.jsx("input",{type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files),a=t.filter((e=>e.size<=2097152));a.length<t.length&&hp.error("Some files exceed the 2MB limit and were not added."),G((e=>[...e,...a]))},className:"text-sm"}),oe.jsx("p",{className:"text-pink-500 text-xs",children:"(Each file must not exceed a maximum size of 2MB)"}),V.length>0&&oe.jsx("div",{className:"border border-gray-300 bg-gray-50 rounded p-3 text-sm text-gray-700",children:oe.jsx("ul",{className:"space-y-1",children:V.map(((e,t)=>oe.jsxs("li",{className:"flex items-center justify-between hover:bg-gray-100 px-2 py-1 rounded",children:[oe.jsxs("span",{children:[e.name," (",(e.size/1024).toFixed(1)," KB)"]}),oe.jsx("button",{type:"button",onClick:()=>{return e=t,void G((t=>t.filter(((t,a)=>a!==e))));var e},className:"text-red-500 hover:text-red-700 ml-3",title:"Remove file",children:oe.jsx("i",{className:"fas fa-times-circle"})})]},t)))})})]})]})]})})}),oe.jsx("form",{onSubmit:e=>ee(e,!1),children:!n&&oe.jsxs("div",{className:"flex space-x-2 justify-end mb-2 mr-2",children:[oe.jsx("button",{type:"submit",className:"btn btn-primary",disabled:H,children:H?"Saving...":"Save"}),oe.jsx("button",{type:"button",onClick:e=>ee(e,!0),className:"btn btn-primary",disabled:Y||D,children:Y?"Saving & Publishing":"Save & Publish"}),oe.jsx("button",{type:"button",onClick:()=>{I(null),x(null),O([]),U(""),B(""),G([]),A(!1),o({}),h(""),j("")},className:"btn btn-danger bg-gray-500 text-white rounded-md hover:bg-gray-600",disabled:H,children:"Reset"})]})})]})})})]})]})},oMe=()=>{const t="https://sms.evolvu.in/public",[a,r]=Q.useState([]),[n,s]=Q.useState(!1),[l,o]=Q.useState({subjectError:"",noticeDescError:"",classError:""}),[i,d]=Q.useState([]),[c,h]=Q.useState(null),[f,x]=Q.useState(null),[g,b]=Q.useState(null),[v,y]=Q.useState([]),[w,j]=Q.useState(!1),[N,_]=Q.useState(null),[S,k]=Q.useState(!1),[C,E]=Q.useState(""),[T,O]=Q.useState(""),[D,A]=Q.useState(""),[P,M]=Q.useState(""),[L,I]=Q.useState(!1),[F,R]=Q.useState(!1),[$,B]=Q.useState([]);Q.useEffect((()=>{z()}),[]),Q.useEffect((()=>{D&&P&&W(D,P)}),[D,P]);const z=()=>p(e,null,(function*(){var e;try{k(!0);const a=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${a}`}});console.log("Student Data",n.data),r((null==(e=n.data)?void 0:e.data)||[])}catch(a){hp.error("Error fetching data.")}finally{k(!1)}})),U=Q.useMemo((()=>Array.isArray(a)?a.map((e=>({value:e.student_id,label:`${null==e?void 0:e.first_name} ${e.mid_name||""} (${e.last_name})`,class_id:e.class_id,section_id:e.section_id}))):[]),[a]),H=Q.useMemo((()=>(i||[]).map((e=>({value:e.sm_id,label:e.name})))),[i]),W=(a,r)=>p(e,null,(function*(){try{const e=localStorage.getItem("authToken"),n=yield Uf.get(`${t}/api/get_subjectbyclasssection/${a}/${r}`,{headers:{Authorization:`Bearer ${e}`}});n.data.success?d(n.data.data):hp.error("Failed to load subjects.")}catch(e){console.error("Error fetching subjects:",e),hp.error("Error fetching subjects.")}})),Y=()=>{_(null),x(null),y([]),O(""),E(""),B([]),j(!1),o({}),h(""),b("")},q=(r,n=!1)=>p(e,null,(function*(){if(r.preventDefault(),!(()=>{const e={};return N||(e.classError="Please select a Student."),T.trim()||(e.remarkSubjectError="Remark subject is required."),C.trim()||(e.remarkDescriptionError="Remark description is required."),o(e),0===Object.keys(e).length})())return;n?R(!0):I(!0);const e=new FormData;e.append("save_publish",n?"Y":"N"),w&&e.append("observation","yes"),e.append("remark_desc",C||""),e.append("remark_subject",T||"");const s=a.find((e=>e.student_id===N.value));if(console.log("selectedClass",s),s){e.append("student_id[]",s.student_id),e.append("class_id",s.class_id),e.append("section_id",s.section_id),e.append("subject_id",(null==f?void 0:f.value)||"0"),$.forEach((t=>{e.append("userfile[]",t)}));try{const a=localStorage.getItem("authToken");(yield Uf.post(`${t}/api/save_remarkobservationforstudents`,e,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"multipart/form-data"}})).data.success?(hp.success(n?"Remark Saved & published successfully!":"Remark saved successfully!"),Y()):hp.error("Failed to save remark.")}catch(l){console.error("Error submitting remark:",l),hp.error("Something went wrong while saving.")}finally{I(!1),R(!1)}}else hp.error("Please select a valid student.")}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mb-4",children:[oe.jsx("div",{className:"card-header flex justify-between items-center"}),oe.jsx("div",{className:"w-[80%] mx-auto",children:oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsx("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Create Remark & Observation"})}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full ml-2",children:n?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsx("div",{className:"card-body w-full ml-2",children:oe.jsxs("div",{className:"space-y-4 mr-10",children:[oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3",children:[oe.jsxs("label",{className:"w-[28%] text-[1em] text-gray-700",children:["Select Student ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx(Soe,{options:U,value:U.find((e=>e.value===(null==N?void 0:N.value))),onChange:e=>{_(e),console.log("Selected Student ID:",null==e?void 0:e.value),console.log("Class ID:",null==e?void 0:e.class_id),console.log("Section ID:",null==e?void 0:e.section_id),(null==e?void 0:e.class_id)&&(null==e?void 0:e.section_id)&&W(e.class_id,e.section_id),l.classError&&o((e=>m(u({},e),{classError:""})))},className:"w-[60%]",placeholder:"Select",isClearable:!0},N?N.value:"reset"),l.classError&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.classError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3",children:[oe.jsx("label",{className:"w-[28%] text-[1em] text-gray-700",children:"Subject"}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx(Soe,{options:H,value:f,onChange:e=>{x(e),e&&o((e=>m(u({},e),{subjectError:""})))},className:"w-[60%]",placeholder:"Select",isClearable:!0}),l.subjectError&&oe.jsx("p",{className:"text-red-500 mt-1",children:l.subjectError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3",children:[oe.jsxs("label",{className:"w-[28%] text-[1em] text-gray-700",children:["Subject of Remark"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("input",{type:"text",className:"w-[60%] px-2 py-2 border border-gray-700 rounded-md shadow-md",value:T,onChange:e=>{O(e.target.value),l.remarkSubjectError&&o((e=>m(u({},e),{remarkSubjectError:""})))}}),l.remarkSubjectError&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.remarkSubjectError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-3",children:[oe.jsxs("label",{className:"w-[28%] text-[1em] text-gray-700",children:["Remark ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("textarea",{rows:"3",className:"w-[60%] px-2 py-1 border border-gray-700 rounded-md shadow-md",value:C,onChange:e=>{E(e.target.value),l.remarkDescriptionError&&o((e=>m(u({},e),{remarkDescriptionError:""})))}}),l.remarkDescriptionError&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.remarkDescriptionError}),oe.jsx("div",{className:"mt-2",children:oe.jsxs("label",{className:"inline-flex flex-col text-sm text-gray-700",children:[oe.jsxs("span",{className:"flex items-center",children:[oe.jsx("input",{type:"checkbox",className:"mr-2",checked:w,onChange:e=>{j(e.target.checked)}}),"Observation"]}),oe.jsx("span",{className:"text-xs text-gray-500 ml-6",children:"(Observation will not be shown to parents!)"})]})})]})]}),!w&&oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-start gap-3",children:[oe.jsx("label",{className:"w-[28%] text-[1em] text-gray-700 pt-2",children:"Attachment"}),oe.jsxs("div",{className:"flex-1 space-y-2",children:[oe.jsx("input",{type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files),a=t.filter((e=>e.size<=2097152));a.length<t.length&&hp.error("Some files exceed the 2MB limit and were not added."),B((e=>[...e,...a]))},className:"text-sm"}),oe.jsx("p",{className:"text-pink-500 text-xs",children:"(Each file must not exceed a maximum size of 2MB)"}),$.length>0&&oe.jsx("div",{className:"border border-gray-300 bg-gray-50 rounded p-3 text-sm text-gray-700",children:oe.jsx("ul",{className:"space-y-1",children:$.map(((e,t)=>oe.jsxs("li",{className:"flex items-center justify-between hover:bg-gray-100 px-2 py-1 rounded",children:[oe.jsxs("span",{children:[e.name," (",(e.size/1024).toFixed(1)," KB)"]}),oe.jsx("button",{type:"button",onClick:()=>{return e=t,void B((t=>t.filter(((t,a)=>a!==e))));var e},className:"text-red-500 hover:text-red-700 ml-3",title:"Remove file",children:oe.jsx("i",{className:"fas fa-times-circle"})})]},t)))})})]})]})]})})}),oe.jsx("form",{onSubmit:e=>q(e,!1),children:!n&&oe.jsxs("div",{className:"flex space-x-2 justify-end mb-2 mr-2",children:[oe.jsx("button",{type:"submit",className:"btn btn-primary",disabled:L,children:L?"Saving...":"Save"}),oe.jsx("button",{type:"button",onClick:e=>q(e,!0),className:"btn btn-primary",disabled:F||w,children:F?"Saving & Publishing":"Save & Publish"}),oe.jsx("button",{type:"button",onClick:Y,className:"btn btn-danger bg-gray-500 text-white rounded-md hover:bg-gray-600",disabled:L,children:"Reset"})]})})]})})})]})]})};function iMe(){const e="https://sms.evolvu.in/public",[t,a]=Q.useState(!0),[r,n]=Q.useState("Manage"),[s,l]=Q.useState(!1),[o,i]=Q.useState(!1),[d,c]=Q.useState(!1),[h,f]=Q.useState(!1),[x,g]=Q.useState(null),[b,v]=Q.useState(""),[y,w]=Q.useState(""),[j,N]=Q.useState(""),[_,S]=Q.useState(0),[k,C]=Q.useState(0),[E,T]=Q.useState(!1);Q.useRef(null);const O=Q.useRef(0),D=Q.useRef(""),A=sm(),[P,M]=Q.useState([]),[L,I]=Q.useState(""),[F,R]=Q.useState(""),[$,B]=Q.useState(""),[z,U]=Q.useState(""),[H,W]=Q.useState([]),[Y,q]=Q.useState(!1),[V,G]=Q.useState({teacherName:"",remarkSubject:"",remarkDescription:"",studentName:"",classDivision:"",attachments:[]});Q.useEffect((()=>{K()}),[]);const K=()=>p(this,null,(function*(){var t;if(!E){T(!0),N(""),a(!0);try{const a=localStorage.getItem("authToken"),r={},n=yield Uf.get(`${e}/api/get_remarklistforstudents`,{headers:{Authorization:`Bearer ${a}`},params:r}),s=(null==(t=null==n?void 0:n.data)?void 0:t.data)||[];if(s.length>0){const e=s.map((e=>m(u({},e),{showSendButton:"Y"===e.publish})));console.log("remark list",e),M(e),C(Math.ceil(e.length/10))}else M([]),hp.error("No remarks found.")}catch(r){console.error("Error fetching remarks:",r),hp.error("Error fetching remarks. Please try again.")}finally{T(!1),a(!1)}}}));H&&H.length>0&&H.map(((e,t)=>{const a=e.substring(e.lastIndexOf("/")+1);return oe.jsxs("div",{className:"flex flex-row text-[.6em] items-center gap-x-2",children:[oe.jsx("span",{children:a}),oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>X(e,a),children:oe.jsx(pie,{})})]},t)}));const X=(e,t)=>{const a=`${e}`,r=document.createElement("a");r.href=a,r.target="none",r.download=t||"downloaded_file.pdf",document.body.appendChild(r),r.click(),document.body.removeChild(r)},[J,Z]=Q.useState([]),ee=()=>{I(""),R(""),w(""),Z([]),ne([]),i(!1),l(!1),c(!1),f(!1),q(!1)};Q.useEffect((()=>{const e=j.trim().toLowerCase();""!==e&&""===D.current&&(O.current=_,S(0)),""===e&&""!==D.current&&S(O.current),D.current=e}),[j]);const te=j.toLowerCase().trim(),ae=P.filter((e=>{var t,a,r,n;const s=(null==(t=null==e?void 0:e.remark_type)?void 0:t.toLowerCase())||"",l=(null==(a=null==e?void 0:e.remark_subject)?void 0:a.toLowerCase())||"",o=`${(null==e?void 0:e.first_name)||""} ${(null==e?void 0:e.mid_name)||""} ${(null==e?void 0:e.last_name)||""}`.toLowerCase().trim(),i=(null==(r=null==e?void 0:e.publish_date)?void 0:r.toLowerCase().trim())||"",d=(null==(n=null==e?void 0:e.subjectname)?void 0:n.toLowerCase())||"";return s.includes(te)||d.includes(te)||l.includes(te)||o.includes(te)||i.includes(te)})).slice(10*_,10*(_+1));console.log("disply section",ae);const[re,ne]=Q.useState([]),se=e=>{const t=Array.from(e.target.files);ne([...re,...t])};return console.log("handleFileUpload",se),oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"md:mx-auto md:w-3/4 p-4 bg-white mt-4 ",children:[oe.jsxs("div",{className:" card-header  flex justify-between items-center  ",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Remark & Observation"}),oe.jsx(sh,{className:"float-end relative -top-1 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>{A("/dashboard")}})]}),oe.jsx("div",{className:" relative  mb-8   h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsx("ul",{className:"grid grid-cols-2 gap-x-10 relative -left-6 md:left-0 md:flex md:flex-row -top-4",children:[{id:"Manage",label:"Manage"},{id:"CreateRemarkObservation",label:"Create"},{id:"CreateRemarkObservationStudent",label:"Create for Student"}].map((({id:e,label:t})=>oe.jsx("li",{className:"md:-ml-7 shadow-md "+(r===e?"text-blue-500 font-bold":""),children:oe.jsx("button",{onClick:()=>{return"Manage"===(t=e)&&K(),void n(t);var t},className:"px-2 md:px-4 py-1 hover:bg-gray-200 text-[1em] md:text-sm text-nowrap","aria-current":r===e?"page":void 0,children:t})},e)))}),oe.jsxs("div",{className:"bg-white  rounded-md -mt-5",children:["Manage"===r&&oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl text-nowrap",children:"Manage Remark & Observation"}),oe.jsx("div",{className:"w-1/2 md:w-fit mr-1 ",children:oe.jsx("input",{type:"text",className:"form-control",placeholder:"Search ",onChange:e=>N(e.target.value)})})]}),oe.jsx("div",{className:" relative w-[97%]   mb-3 h-1  mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"card-body w-full",children:[oe.jsx("div",{className:"h-96 lg:h-96 overflow-y-scroll lg:overflow-x-hidden",children:oe.jsxs("table",{className:"min-w-full leading-normal table-auto",children:[oe.jsx("thead",{children:oe.jsxs("tr",{className:"bg-gray-200",children:[oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Sr.No"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Student Name"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Type"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Publish Date"})," ",oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Subject of Remark"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Edit/View"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Delete"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Publish"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Acknowledge"}),oe.jsx("th",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm font-semibold text-gray-900 tracking-wider",children:"Viewed"})]})}),oe.jsx("tbody",{children:t?oe.jsx("div",{className:" absolute left-[4%] w-[100%]  text-center flex justify-center items-center mt-14",children:oe.jsx("div",{className:" text-center text-xl text-blue-700",children:"Please wait while data is loading..."})}):ae.length?ae.map(((e,t)=>oe.jsxs("tr",{className:"text-sm ",children:[oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:10*_+t+1}),oe.jsxs("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:[null==e?void 0:e.first_name," ",null==e?void 0:e.mid_name," ",null==e?void 0:e.last_name]}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.remark_type}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:(null==e?void 0:e.publish_date)&&"0000-00-00"!==e.publish_date?new Date(e.publish_date).toLocaleDateString("en-GB"):""}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.subjectname}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:null==e?void 0:e.remark_subject}),oe.jsx("td",{className:"text-center px-2 lg:px-3 border border-gray-950 text-sm",children:"Y"===e.publish?oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>(e=>{G({teacherName:e.name||"",remarkSubject:e.remark_subject||"",remarkDescription:e.remark_desc||"",studentName:e.first_name||"",classDivision:e.classname||"",attachments:e.files||[]}),q(!0)})(e),children:oe.jsx(kg,{className:"font-bold text-xl"})}):oe.jsx("button",{className:"text-blue-600 hover:text-blue-800 hover:bg-transparent",onClick:()=>{var t;A(`/remObsStudent/edit/${(t=e).remark_id}`,{state:t})},children:oe.jsx(zM,{icon:HM})})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"N"===e.publish?oe.jsx("button",{onClick:()=>(e=>{const t=P.find((t=>t.remark_id===e));console.log("classToDelete",t),g({classToDelete:t}),v(`${(null==t?void 0:t.first_name)||""} ${(null==t?void 0:t.mid_name)||""} ${(null==t?void 0:t.last_name)||""}`.trim()),f(!0)})(null==e?void 0:e.remark_id),className:"text-red-600 hover:text-red-800 hover:bg-transparent",children:oe.jsx(zM,{icon:VM})}):" "}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"N"===e.publish&&"Observation"!==e.remark_type?oe.jsx("button",{onClick:()=>{return g(t=e),console.log("fdsfsdsd handleEdit",t),void i(!0);var t},className:"text-green-500 hover:text-green-700 hover:bg-transparent",children:oe.jsx(Vm,{})}):""}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:"Y"==e.acknowledge&&oe.jsx(zM,{icon:ZM,className:"text-black text-base"})}),oe.jsx("td",{className:"px-2 text-center lg:px-3 py-2 border border-gray-950 text-sm",children:1==e.read_status&&oe.jsx(zM,{icon:KM,style:{color:"#C03078"},className:"text-base"})})]},e.notice_id))):oe.jsx("tr",{children:oe.jsx("td",{colSpan:"11",className:"text-center py-6 text-red-700 text-lg",children:"Oops! No data found.."})})})]})}),oe.jsx("div",{className:" flex justify-center pt-2 -mb-3",children:oe.jsx(hae,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:k,onPageChange:e=>{S(e.selected)},marginPagesDisplayed:1,pageRangeDisplayed:1,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})]}),"CreateRemarkObservation"===r&&oe.jsx("div",{children:oe.jsx(lMe,{})}),"CreateRemarkObservationStudent"===r&&oe.jsxs("div",{children:[oe.jsx(oMe,{})," "]})]})]}),d&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Edit Notice/SMS"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"className",className:"w-1/2 mt-2",children:"Class:"}),oe.jsx("div",{className:"input-field block border w-full border-1 border-gray-900 rounded-md py-1 px-3 bg-gray-200 shadow-inner break-words",style:{maxWidth:"262px",height:"auto",wordWrap:"break-word"},children:y})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"subject",className:"w-1/2 mt-2",children:"Subject:"}),oe.jsx("input",{id:"subject",type:"text",maxLength:100,className:"form-control shadow-md mb-2 w-full",value:L,onChange:e=>I(e.target.value)}),$&&oe.jsx("p",{className:"text-red-500 text-sm h-3",children:$})]}),oe.jsxs("div",{className:"relative mb-3 flex justify-center mx-4 gap-x-7",children:[oe.jsx("label",{htmlFor:"noticeDesc",className:"w-1/2 mt-2",children:"Description:"}),oe.jsx("textarea",{id:"noticeDesc",rows:"2",maxLength:1e3,className:"form-control shadow-md mb-2 w-full",value:F,onChange:e=>R(e.target.value),onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();const t=e.target.selectionStart,a=F.slice(0,t),r=F.slice(t);R(`${a}\n ${r}`),setTimeout((()=>{e.target.selectionStart=e.target.selectionEnd=t+3}),0)}}}),z&&oe.jsx("p",{className:"h-3 relative -top-3 text-red-500 text-sm mt-2",children:z})]}),"Notice"===(null==x?void 0:x.notice_type)&&oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"modal-body",children:[oe.jsxs("div",{className:"  relative -top-5 w-full  flex flex-row justify-between gap-x-2 ",children:[oe.jsx("label",{className:"px-2 mt-2 lg:px-3 py-2 ",children:"Upload Files"}),oe.jsx("input",{className:"mt-3 relative right-0 md:right-[11%] text-xs bg-gray-50 ",type:"file",multiple:!0,onChange:se})]}),oe.jsx("label",{className:"px-2 block  mb-2",children:"Attachment:"}),oe.jsxs("div",{className:"",children:[re.map(((e,t)=>oe.jsxs("div",{className:"flex items-center gap-x-2",children:[oe.jsx("span",{className:"bg-gray-100 border-1 text-[.8em] p-0.5 shadow-sm",children:e.name}),oe.jsx("div",{children:oe.jsx(sh,{className:"text-xl relative  w-4 h-4 text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>(e=>{const t=re.filter(((t,a)=>a!==e));ne(t)})(t)})})]},t))),oe.jsx("div",{children:J.map(((e,t)=>{const a=e.substring(e.lastIndexOf("/")+1);return oe.jsxs("div",{className:"flex items-center gap-x-2",children:[oe.jsx("span",{className:"bg-gray-100 border-1 p-0.5 text-[.8em] shadow-sm",children:a}),oe.jsx(sh,{className:" text-xl relative - w-4 h-4 text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>(e=>{const t=J.filter(((t,a)=>a!==e));Z(t)})(t)})]},t)}))})]})]})})]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(E)return;T(!0);let t=!1;if(L.trim()?B(""):(B("Subject is required."),t=!0),F.trim()?U(""):(U("Notice description is required."),t=!0),t)T(!1);else try{const t=localStorage.getItem("authToken");if(!t)throw new Error("Authentication token is missing");const a=new FormData;a.append("subject",L),a.append("notice_desc",F),re.forEach((e=>a.append("userfile[]",e))),console.log("filenottobedeleted[]",J),J.forEach((e=>{const t=e.split("/").pop();a.append("filenottobedeleted[]",t)})),console.log("Formatted data of the edit SMS part",a),console.log("Selected files",re),console.log("formated data of the edit sms part",a),console.log("seletd files",re),yield Uf.post(`${e}/api/update_smsnotice/${null==x?void 0:x.unq_id}`,a,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"},withCredentials:!0}),hp.success("Notice updated successfully!"),K(),ee()}catch(a){hp.error("Error updating notice. Please try again."),console.error(a)}finally{T(!1)}})),disabled:E,children:E?"Updating...":"Update"})})]})})})}),h&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Delete"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee}),console.log("the currecnt section inside delete of the managesubjhect",x)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to delete remark for"," ",b,"?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>p(this,null,(function*(){var t,a;if(!E){T(!0);try{const r=localStorage.getItem("authToken");if(!r||!x||!(null==(t=null==x?void 0:x.classToDelete)?void 0:t.remark_id))throw new Error("Remark Id is missing");yield Uf.delete(`${e}/api/delete_remarkforstudent/${null==(a=null==x?void 0:x.classToDelete)?void 0:a.remark_id}`,{headers:{Authorization:`Bearer ${r}`},withCredentials:!0}),K(),f(!1),hp.success(`${b} Remark Deleted successfully!`)}catch(r){r.response&&r.response.data?hp.error(`Error In Deleting ${b}: ${r.response.data.message}`):hp.error(`Error In Deleting ${b}: ${r.message}`),console.error("Error In Deleting:",r)}finally{T(!1),f(!1)}}})),disabled:E,children:E?"Deleting...":"Delete"})})]})})})}),o&&oe.jsx("div",{className:"fixed inset-0 z-50   flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"Confirm Publish"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:ee}),console.log("the currecnt section inside delete of the managesubjhect",x)]}),oe.jsx("div",{className:" relative  mb-3 h-1 w-[97%] mx-auto bg-red-700",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"modal-body",children:["Are you sure you want to publish remark for"," ",` ${null==x?void 0:x.first_name} ${null==x?void 0:x.mid_name} ${null==x?void 0:x.last_name}`," ","?"]}),oe.jsx("div",{className:" flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-primary px-3 mb-2",onClick:()=>p(this,null,(function*(){if(null==x?void 0:x.remark_id){T(!0);try{const t=localStorage.getItem("authToken");200===(yield Uf.put(`${e}/api/update_publishremarkforstudent/${x.remark_id}`,{},{headers:{Authorization:`Bearer ${t}`}})).status?(hp.success("Remark published successfully!"),i(!1),K()):hp.error("Failed to publish remark.")}catch(t){console.error("Error publishing remark:",t),hp.error("Something went wrong.")}finally{T(!1)}}else hp.error("Invalid remark ID.")})),disabled:E,children:E?"Publishing...":"Publish"})})]})})})}),Y&&oe.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:oe.jsx("div",{className:"modal fade show",style:{display:"block"},children:oe.jsx("div",{className:"modal-dialog modal-dialog-centered",children:oe.jsxs("div",{className:"modal-content",children:[oe.jsxs("div",{className:"flex justify-between p-3",children:[oe.jsx("h5",{className:"modal-title",children:"View Remark"}),oe.jsx(sh,{className:"float-end relative mt-2 right-2 text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",onClick:()=>q(!1)})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsxs("div",{className:"px-4 mb-3 space-y-4",children:[oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("label",{className:"w-[30%] text-gray-700 font-medium",children:"Student Name:"}),oe.jsx("input",{type:"text",value:V.studentName,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-100 text-gray-700"})]}),oe.jsxs("div",{className:"flex items-center",children:[oe.jsx("label",{className:"w-[30%] text-gray-700 font-medium",children:"Class/Division:"}),oe.jsx("input",{type:"text",value:V.classDivision,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-100 text-gray-700"})]}),oe.jsxs("div",{className:"flex items-start",children:[oe.jsx("label",{className:"w-[30%] text-gray-700 font-medium pt-2",children:"Remark Description:"}),oe.jsx("textarea",{value:V.remarkDescription,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded bg-gray-100 text-gray-700",rows:4})]}),oe.jsxs("div",{className:"flex items-start",children:[oe.jsx("label",{className:"w-[30%] text-gray-700 font-medium pt-2",children:"Attachments:"}),oe.jsx("div",{className:"flex-1 space-y-2",children:V.attachments&&V.attachments.length>0?V.attachments.map(((e,t)=>oe.jsxs("div",{className:"flex items-center gap-2",children:[oe.jsx("a",{target:"_blank",rel:"noopener noreferrer",download:!0,className:"text-blue-600 underline text-sm break-all",children:e.image_name}),oe.jsx("a",{href:e.file_url,download:!0,className:"text-green-700 hover:text-blue-600",title:"Download",children:oe.jsx(zM,{icon:GM,size:"sm"})})]},t))):oe.jsx("p",{className:"text-sm text-gray-500",children:"No attachments available."})})]})]}),oe.jsx("div",{className:"flex justify-end p-3",children:oe.jsx("button",{type:"button",className:"btn btn-danger px-3 mb-2",onClick:()=>q(!1),children:"Close"})})]})})})})]})}const dMe=()=>{var t;const a="https://sms.evolvu.in/public",[r,n]=Q.useState([]),[s,l]=Q.useState([]),[o,i]=Q.useState(!1),[d,c]=Q.useState({subjectError:"",noticeDescError:"",classError:""}),{id:h}=om();console.log("id",h);const f=rm(),x=f.state;console.log("selectedRemark",x);const[g,b]=Q.useState(!1),[v,y]=Q.useState(!1),[w,j]=Q.useState([]);Q.useState(null),Q.useState(null),Q.useState(""),Q.useState(null),Q.useState(""),Q.useState(null);const[N,_]=Q.useState(!1),S=sm(),[k,C]=Q.useState({name:"",remark_subject:"",remark_desc:"",remark_type:"Remark",remark_id:"",filenotbedeleted:[],userfile:[]});Q.useEffect((()=>{f.state&&(C({remark_id:f.state.remark_id||"",name:f.state.first_name||f.state.name||"",remark_subject:f.state.remark_subject||"",remark_desc:f.state.remark||f.state.remark_desc||"",remark_type:f.state.remark_type||"Remark",filenotbedeleted:f.state.files||[],userfile:[],subjectname:f.state.subjectname||f.state.subjectname||"",fullname:`${f.state.first_name||""} ${f.state.midname||""} ${f.state.last_name||""}`.trim(),classname:`${f.state.classname||""} ${f.state.sectionname||""}`.trim()}),l(f.state.selected_class_ids||[]),b("Observation"===f.state.remark_type))}),[f.state]),Q.useEffect((()=>{E()}),[]),Q.useMemo((()=>r.map((e=>{var t;return{value:e.section_id,label:`${null==(t=null==e?void 0:e.get_class)?void 0:t.name} ${e.name} (${e.students_count})`}}))),[r]);const E=()=>p(e,null,(function*(){var e;try{_(!0),y(!0);const t=localStorage.getItem("authToken"),[r,s]=yield Promise.all([Uf.get(`${a}/api/getallClassWithStudentCount`,{headers:{Authorization:`Bearer ${t}`}}),Uf.get(`${a}/api/getStudentListBySectionData`,{headers:{Authorization:`Bearer ${t}`}})]);console.log("Class Data",r.data),n(r.data||[]),j((null==(e=null==s?void 0:s.data)?void 0:e.data)||[])}catch(t){hp.error("Error fetching data.")}finally{_(!1),y(!1)}}));return oe.jsxs("div",{children:[oe.jsx(wp,{}),oe.jsxs("div",{className:"container mb-4",children:[oe.jsx("div",{className:"card-header flex justify-between items-center"}),oe.jsx("div",{className:"w-[70%] mx-auto",children:oe.jsx("div",{className:"container mt-4",children:oe.jsxs("div",{className:"card mx-auto lg:w-full shadow-lg",children:[oe.jsxs("div",{className:"p-2 px-3 bg-gray-100 border-none flex justify-between items-center",children:[oe.jsx("h3",{className:"text-gray-700 mt-1 text-[1.2em] lg:text-xl",children:"Edit Remark & Observation"}),oe.jsx(sh,{className:"text-xl text-red-600 hover:cursor-pointer hover:bg-red-100",type:"button",onClick:()=>S("/remObsStudent")})]}),oe.jsx("div",{className:"relative mb-3 h-1 w-[97%] mx-auto",style:{backgroundColor:"#C03078"}}),oe.jsx("div",{className:"card-body w-full ml-2",children:o?oe.jsx("div",{className:"flex justify-center items-center h-64",children:oe.jsx(Ag,{})}):oe.jsx("div",{className:"card-body w-full ml-2",children:oe.jsxs("div",{className:"space-y-5 mr-14",children:[oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsx("label",{className:"w-[40%] text-[1em] text-gray-700",children:"Class"}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("input",{type:"text",value:k.classname,readOnly:!0,className:"w-full bg-gray-200 text-gray-700 p-2 rounded"}),d.classError&&oe.jsx("p",{className:"text-red-500 mt-1",children:d.classError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsx("label",{className:"w-[40%] text-[1em] text-gray-700",children:"Student"}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("input",{type:"text",readOnly:!0,value:k.fullname,className:"w-full bg-gray-200 text-gray-700 p-2 rounded"}),d.classError&&oe.jsx("p",{className:"text-red-500 mt-1",children:d.classError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsx("label",{className:"w-[40%] text-[1em] text-gray-700",children:"Subject"}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("input",{type:"text",value:k.subjectname,readOnly:!0,className:"w-full bg-gray-200 text-gray-700 p-2 rounded"}),d.classError&&oe.jsx("p",{className:"text-red-500 mt-1",children:d.classError})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsxs("label",{className:"w-[40%] text-[1em] text-gray-700",children:["Subject of Remark"," ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("input",{type:"text",className:"w-full px-2 py-2 border border-gray-700 rounded-md shadow-md",value:k.remark_subject,onChange:e=>C((t=>m(u({},t),{remark_subject:e.target.value})))}),d.remark_subject&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.remark_subject})]})]}),oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsxs("label",{className:"w-[40%] text-[1em] text-gray-700",children:["Remark ",oe.jsx("span",{className:"text-red-500",children:"*"})]}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("textarea",{rows:"3",className:"w-full px-2 py-1 border border-gray-700 rounded-md shadow-md",value:k.remark_desc,onChange:e=>C((t=>m(u({},t),{remark_desc:e.target.value})))}),d.remark_desc&&oe.jsx("p",{className:"text-red-500 text-sm mt-1",children:d.remark_desc}),oe.jsx("div",{className:"mt-2",children:oe.jsxs("label",{className:"inline-flex flex-col text-sm text-gray-700",children:[oe.jsxs("span",{className:"flex items-center",children:[oe.jsx("input",{type:"checkbox",className:"mr-2",checked:g,onChange:e=>{b(e.target.checked)}}),"Observation"]}),oe.jsx("span",{className:"text-xs text-gray-500 ml-6",children:"(Observation will not be shown to parents!)"})]})})]})]}),!g&&oe.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center",children:[oe.jsx("label",{className:"w-[40%] text-[1em] text-gray-700",children:"Attachment"}),oe.jsxs("div",{className:"flex-1",children:[oe.jsx("input",{type:"file",multiple:!0,onChange:e=>{const t=Array.from(e.target.files);C((e=>m(u({},e),{userfile:t})))},className:"text-sm"}),oe.jsx("p",{className:"text-pink-500 text-xs mt-1",children:"(Each file must not exceed a maximum size of 2MB)"}),(null==(t=k.filenotbedeleted)?void 0:t.length)>0&&oe.jsxs("div",{className:"mt-2",children:[oe.jsx("label",{className:"text-sm text-gray-700",children:"Previously Uploaded Files:"}),oe.jsx("ul",{className:"list-disc ml-5 text-blue-600 underline text-sm",children:k.filenotbedeleted.map(((e,t)=>oe.jsxs("li",{className:"flex items-center space-x-2",children:[oe.jsx("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e.image_name||`File ${t+1}`}),oe.jsxs("span",{className:"text-gray-500 text-xs",children:["(",(Number(e.file_size)/1024).toFixed(2)," ","KB)"]}),oe.jsx("button",{type:"button",onClick:()=>{return e=t,void C((t=>m(u({},t),{filenotbedeleted:t.filenotbedeleted.filter(((t,a)=>a!==e))})));var e},className:"text-red-500 text-xs ml-2 hover:underline",children:oe.jsx("i",{className:"fas fa-times-circle"})})]},t)))})]})]})]})]})})}),!o&&oe.jsxs("div",{className:"flex justify-end space-x-2 mb-2 mr-2",children:[oe.jsx("button",{type:"button",onClick:t=>p(e,null,(function*(){if(t.preventDefault(),!(()=>{const e={};return k.remark_subject.trim()||(e.remark_subject="Subject of Remark is required."),k.remark_desc.trim()||(e.remark_desc="Remark description is required."),c(e),0===Object.keys(e).length})())return;const e=new FormData;e.append("remark_id",k.remark_id),e.append("remark_subject",k.remark_subject),e.append("remark_desc",k.remark_desc),e.append("remark_type",g?"Observation":"Remark"),k.userfile.forEach((t=>{e.append("userfile[]",t)})),k.filenotbedeleted.forEach(((t,a)=>{e.append(`filenotbedeleted[${a}][file_url]`,t.file_url),e.append(`filenotbedeleted[${a}][image_name]`,t.image_name)}));try{const t=localStorage.getItem("authToken"),r=yield Uf.post(`${a}/api/update_remarkforstudent/${h}`,e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});r.data.success?(hp.success("Remark updated successfully!"),S("/remObsStudent")):hp.error(r.data.message||"Something went wrong")}catch(r){console.error("Error updating remark:",r),hp.error("Error updating remark")}})),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Update"}),oe.jsx("button",{type:"button",onClick:()=>{C({name:"",remark_subject:"",remark_desc:"",remark_type:"Remark",remark_id:"",filenotbedeleted:[],userfile:[],subjectname:"",fullname:"",classname:""}),l([]),b(!1)},className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-gray-600",children:"Reset"})]})]})})})]})]})};function cMe(){return oe.jsxs(wm,{children:[oe.jsx(vm,{path:"/",element:oe.jsx(uL,{})}),oe.jsx(vm,{path:"/login",element:oe.jsx(aL,{})}),oe.jsx(vm,{path:"/notification",element:oe.jsx(xae,{})}),oe.jsx(vm,{path:"/forgotPassword",element:oe.jsx(wPe,{})}),oe.jsxs(vm,{path:"/",element:oe.jsx(Sae,{}),children:[oe.jsx(vm,{path:"/manageMenus",element:oe.jsx(Oj,{element:oe.jsx(koe,{})})}),oe.jsx(vm,{path:"/manageRoles",element:oe.jsx(Oj,{element:oe.jsx(Aae,{})})}),oe.jsx(vm,{path:"/manageRoleAccess",element:oe.jsx(Oj,{element:oe.jsx(Dae,{})})}),oe.jsx(vm,{path:"/manageRoleAccess/:roleId",element:oe.jsx(Oj,{element:oe.jsx(Pae,{})})}),oe.jsx(vm,{path:"/student-create",element:oe.jsx(Oj,{element:oe.jsx(Lg,{})})}),oe.jsx(vm,{path:"/student-list",element:oe.jsx(Oj,{element:oe.jsx(Uj,{})})}),oe.jsx(vm,{path:"/student/:id/edit",element:oe.jsx(Oj,{element:oe.jsx(yD,{})})}),oe.jsx(vm,{path:"/student-demo-table",element:oe.jsx(Oj,{element:oe.jsx(vD,{})})}),oe.jsx(vm,{path:"/comingSoon",element:oe.jsx(Oj,{element:oe.jsx(bae,{})})}),oe.jsx(vm,{path:"/bonafiedCertificates",element:oe.jsx(Oj,{element:oe.jsx(bie,{})})}),oe.jsx(vm,{path:"/bonafied/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(Oie,{})})}),oe.jsx(vm,{path:"/castCertificate",element:oe.jsx(Oj,{element:oe.jsx(jie,{})})}),oe.jsx(vm,{path:"/studentCast/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(Die,{})})}),oe.jsx(vm,{path:"/percentageCertificate",element:oe.jsx(Oj,{element:oe.jsx(kie,{})})}),oe.jsx(vm,{path:"/stud_Percent/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(Mie,{})})}),oe.jsx(vm,{path:"/characterCertificate",element:oe.jsx(Oj,{element:oe.jsx(_ie,{})})}),oe.jsx(vm,{path:"/stud_Char/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(Aie,{})})}),oe.jsx(vm,{path:"/simpleBonafied",element:oe.jsx(Oj,{element:oe.jsx(yie,{})})}),oe.jsx(vm,{path:"/sm_Bonafied/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(Pie,{})})}),oe.jsx(vm,{path:"/leavingCertificate",element:oe.jsx(Oj,{element:oe.jsx(Eie,{})})}),oe.jsx(vm,{path:"/studentLC/view/:id",element:oe.jsx(Oj,{element:oe.jsx(Iie,{})})}),oe.jsx(vm,{path:"/manageStudentLC",element:oe.jsx(Oj,{element:oe.jsx(Lie,{})})}),oe.jsx(vm,{path:"/deleteStudent",element:oe.jsx(Oj,{element:oe.jsx(Fie,{})})}),oe.jsx(vm,{path:"/deletedStudent/view/:id",element:oe.jsx(Oj,{element:oe.jsx(Rie,{})})}),oe.jsx(vm,{path:"/deletedStudent/edit/:id",element:oe.jsx(Oj,{element:oe.jsx($ie,{})})}),oe.jsx(vm,{path:"/studentLC/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(Tie,{})})}),oe.jsx(vm,{path:"/PromoteStudent",element:oe.jsx(Oj,{element:oe.jsx(Xie,{})})}),oe.jsx(vm,{path:"/SendUserIdToParent",element:oe.jsx(Oj,{element:oe.jsx(Qie,{})})}),oe.jsx(vm,{path:"/SiblingMapping",element:oe.jsx(Oj,{element:oe.jsx(nde,{})})}),oe.jsx(vm,{path:"/StaffList",element:oe.jsx(Oj,{element:oe.jsx(Cae,{})})}),oe.jsx(vm,{path:"/CreateStaff",element:oe.jsx(Oj,{element:oe.jsx(Eae,{})})}),oe.jsx(vm,{path:"/staff/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(Tae,{})})}),oe.jsx(vm,{path:"/staff/view/:id",element:oe.jsx(Oj,{element:oe.jsx(Oae,{})})}),oe.jsx(vm,{path:"/leavetype",element:oe.jsx(Oj,{element:oe.jsx(lde,{})})}),oe.jsx(vm,{path:"/LeaveAllocation",element:oe.jsx(Oj,{element:oe.jsx(Jie,{})})}),oe.jsx(vm,{path:"/LeaveApplication",element:oe.jsx(Oj,{element:oe.jsx(Zie,{})})}),oe.jsx(vm,{path:"/createLeaveApplication",element:oe.jsx(Oj,{element:oe.jsx(ede,{})})}),oe.jsx(vm,{path:"/leaveApplication/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(tde,{})})}),oe.jsx(vm,{path:"/leaveApplication/view/:id",element:oe.jsx(Oj,{element:oe.jsx(ade,{})})}),oe.jsx(vm,{path:"/leaveAllocationtoAllStaff",element:oe.jsx(Oj,{element:oe.jsx(rde,{})})}),oe.jsx(vm,{path:"/SubstituteTeacher",element:oe.jsx(Oj,{element:oe.jsx(Vie,{})})}),oe.jsx(vm,{path:"/substitute/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(Gie,{})})}),oe.jsx(vm,{path:"/noticeAndSms",element:oe.jsx(Oj,{element:oe.jsx(Uie,{})})}),oe.jsx(vm,{path:"/holidayList",element:oe.jsx(Oj,{element:oe.jsx(pde,{})})}),oe.jsx(vm,{path:"/careTacker",element:oe.jsx(Oj,{element:oe.jsx(uie,{})})}),oe.jsx(vm,{path:"/CreateCareTacker",element:oe.jsx(Oj,{element:oe.jsx(mie,{})})}),oe.jsx(vm,{path:"/CareTacker/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(hie,{})})}),oe.jsx(vm,{path:"/CareTacker/view/:id",element:oe.jsx(Oj,{element:oe.jsx(fie,{})})}),oe.jsx(vm,{path:"/teacherPeriodAlloction",element:oe.jsx(Oj,{element:oe.jsx(mPe,{})})}),oe.jsx(vm,{path:"/createClassWisePAllot",element:oe.jsx(Oj,{element:oe.jsx(hPe,{})})}),oe.jsx(vm,{path:"/classWisePAllot",element:oe.jsx(Oj,{element:oe.jsx(fPe,{})})}),oe.jsx(vm,{path:"/SetLateTime",element:oe.jsx(Oj,{element:oe.jsx(Kie,{})})}),oe.jsx(vm,{path:"/eventcard",element:oe.jsx(Oj,{element:oe.jsx(aR,{})})}),oe.jsx(vm,{path:"/dashboard",element:oe.jsx(Oj,{element:oe.jsx(uae,{})})}),oe.jsx(vm,{path:"/myprofile",element:oe.jsx(Oj,{element:oe.jsx(rL,{})})}),oe.jsx(vm,{path:"/allotSpecialRole",element:oe.jsx(Oj,{element:oe.jsx(sMe,{})})}),oe.jsx(vm,{path:"/classes",element:oe.jsx(Oj,{element:oe.jsx(fae,{})})}),oe.jsx(vm,{path:"/division",element:oe.jsx(Oj,{element:oe.jsx(Coe,{})})}),oe.jsx(vm,{path:"/subjects",element:oe.jsx(Oj,{element:oe.jsx(Eoe,{})})}),oe.jsx(vm,{path:"/subject_allotment",element:oe.jsx(Oj,{element:oe.jsx(Koe,{})})}),oe.jsx(vm,{path:"/SubjectAllotmentHSC",element:oe.jsx(Oj,{element:oe.jsx(sde,{})})}),oe.jsx(vm,{path:"/subjectforReportcard",element:oe.jsx(Oj,{element:oe.jsx(tie,{})})}),oe.jsx(vm,{path:"/managesubjectforreportcard",element:oe.jsx(Oj,{element:oe.jsx(eie,{})})}),oe.jsx(vm,{path:"/manageStudent",element:oe.jsx(Oj,{element:oe.jsx(Qoe,{})})}),oe.jsx(vm,{path:"/newStudentList",element:oe.jsx(Oj,{element:oe.jsx(aie,{})})}),oe.jsx(vm,{path:"/student/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(Lg,{})})}),oe.jsx(vm,{path:"/student/view/:id",element:oe.jsx(Oj,{element:oe.jsx(Joe,{})})}),oe.jsx(vm,{path:"/newStudetEdit/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(rie,{})})}),oe.jsx(vm,{path:"/allotClassTeacher",element:oe.jsx(Oj,{element:oe.jsx(nie,{})})}),oe.jsx(vm,{path:"/allotGRNumber",element:oe.jsx(Oj,{element:oe.jsx(ide,{})})}),oe.jsx(vm,{path:"/StudentSearchUsingGRN",element:oe.jsx(Oj,{element:oe.jsx(fde,{})})}),oe.jsx(vm,{path:"/updateStudentID",element:oe.jsx(Oj,{element:oe.jsx(dde,{})})}),oe.jsx(vm,{path:"/timetablePlanner",element:oe.jsx(Oj,{element:oe.jsx(vPe,{})})}),oe.jsx(vm,{path:"/timetablePlanner/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(xPe,{})})}),oe.jsx(vm,{path:"/createTimetablePlanner",element:oe.jsx(Oj,{element:oe.jsx(bPe,{})})}),oe.jsx(vm,{path:"/timeTable",element:oe.jsx(Oj,{element:oe.jsx(Swe,{})})}),oe.jsx(vm,{path:"/createTimeTable",element:oe.jsx(Oj,{element:oe.jsx(kwe,{})})}),oe.jsx(vm,{path:"/categoryReligion",element:oe.jsx(Oj,{element:oe.jsx(ode,{})})}),oe.jsx(vm,{path:"/exams",element:oe.jsx(Oj,{element:oe.jsx(sie,{})})}),oe.jsx(vm,{path:"/grades",element:oe.jsx(Oj,{element:oe.jsx(lie,{})})}),oe.jsx(vm,{path:"/marksHeading",element:oe.jsx(Oj,{element:oe.jsx(oie,{})})}),oe.jsx(vm,{path:"/allot_Marks_Heading",element:oe.jsx(Oj,{element:oe.jsx(cie,{})})}),oe.jsx(vm,{path:"/exam_TImeTable",element:oe.jsx(Oj,{element:oe.jsx(Hie,{})})}),oe.jsx(vm,{path:"/creaExamTimeTable",element:oe.jsx(Oj,{element:oe.jsx(Wie,{})})}),oe.jsx(vm,{path:"/viewTimeTable/view/:id",element:oe.jsx(Oj,{element:oe.jsx(VPe,{})})}),oe.jsx(vm,{path:"/examTimeTable/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(Yie,{})})}),oe.jsx(vm,{path:"/examTimeTable/view/:id",element:oe.jsx(Oj,{element:oe.jsx(qie,{})})}),oe.jsx(vm,{path:"/sections",element:oe.jsx(Oj,{element:oe.jsx(pae,{})})}),oe.jsx(vm,{path:"/studentIdCard",element:oe.jsx(Oj,{element:oe.jsx(Nwe,{})})}),oe.jsx(vm,{path:"/teacherIdCard",element:oe.jsx(Oj,{element:oe.jsx(_we,{})})}),oe.jsx(vm,{path:"/updateStudentIdCard",element:oe.jsx(Oj,{element:oe.jsx(jPe,{})})}),oe.jsx(vm,{path:"/uploadStudentPhoto/:id",element:oe.jsx(Oj,{element:oe.jsx(NPe,{})})}),oe.jsx(vm,{path:"/uploadParentPhoto/:id",element:oe.jsx(Oj,{element:oe.jsx(_Pe,{})})}),oe.jsx(vm,{path:"/pendingStudentId",element:oe.jsx(Oj,{element:oe.jsx(Pwe,{})})}),oe.jsx(vm,{path:"/iDCardDetails/:id",element:oe.jsx(Oj,{element:oe.jsx(Cwe,{})})}),oe.jsx(vm,{path:"/remObsStudent",element:oe.jsx(Oj,{element:oe.jsx(iMe,{})})}),oe.jsx(vm,{path:"/remObsStudent/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(dMe,{})})}),oe.jsx(vm,{path:"/createremObsStudent",element:oe.jsx(Oj,{element:oe.jsx(oMe,{})})}),oe.jsx(vm,{path:"createremObs",element:oe.jsx(Oj,{element:oe.jsx(lMe,{})})}),oe.jsx(vm,{path:"/serviceType",element:oe.jsx(Oj,{element:oe.jsx(tMe,{})})}),oe.jsx(vm,{path:"/subServiceType",element:oe.jsx(Oj,{element:oe.jsx(QPe,{})})}),oe.jsx(vm,{path:"/appointmentWindow",element:oe.jsx(Oj,{element:oe.jsx(JPe,{})})}),oe.jsx(vm,{path:"/CreateAppWindow",element:oe.jsx(Oj,{element:oe.jsx(ZPe,{})})}),oe.jsx(vm,{path:"/EditAppWindow/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(eMe,{})})}),oe.jsx(vm,{path:"/ticketList",element:oe.jsx(Oj,{element:oe.jsx(aMe,{})})}),oe.jsx(vm,{path:"/ticketReport",element:oe.jsx(Oj,{element:oe.jsx(rMe,{})})}),oe.jsx(vm,{path:"/ticketList/view/:id",element:oe.jsx(Oj,{element:oe.jsx(nMe,{})})}),oe.jsx(vm,{path:"/listAdmFrmRep",element:oe.jsx(Oj,{element:oe.jsx(Ewe,{})})}),oe.jsx(vm,{path:"/balanceleave",element:oe.jsx(Oj,{element:oe.jsx(Twe,{})})}),oe.jsx(vm,{path:"/consolidatedLeave",element:oe.jsx(Oj,{element:oe.jsx(Owe,{})})}),oe.jsx(vm,{path:"/studentReport",element:oe.jsx(Oj,{element:oe.jsx(Dwe,{})})}),oe.jsx(vm,{path:"/studentContactDetailsReport",element:oe.jsx(Oj,{element:oe.jsx(Awe,{})})}),oe.jsx(vm,{path:"/catWiseStudRepo",element:oe.jsx(Oj,{element:oe.jsx(Mwe,{})})}),oe.jsx(vm,{path:"/relgWiseStudRepo",element:oe.jsx(Oj,{element:oe.jsx(Lwe,{})})}),oe.jsx(vm,{path:"/genWiseRelignRepo",element:oe.jsx(Oj,{element:oe.jsx($we,{})})}),oe.jsx(vm,{path:"/gendrWiseStudRepo",element:oe.jsx(Oj,{element:oe.jsx(Iwe,{})})}),oe.jsx(vm,{path:"/studentRemarkReport",element:oe.jsx(Oj,{element:oe.jsx(Fwe,{})})}),oe.jsx(vm,{path:"/genWiseCatRepo",element:oe.jsx(Oj,{element:oe.jsx(Rwe,{})})}),oe.jsx(vm,{path:"/newStudentsRepo",element:oe.jsx(Oj,{element:oe.jsx(Bwe,{})})}),oe.jsx(vm,{path:"/leftStudentsRepo",element:oe.jsx(Oj,{element:oe.jsx(zwe,{})})}),oe.jsx(vm,{path:"/staffReport",element:oe.jsx(Oj,{element:oe.jsx(nEe,{})})}),oe.jsx(vm,{path:"/monthlyAttendenceRepo",element:oe.jsx(Oj,{element:oe.jsx(yPe,{})})}),oe.jsx(vm,{path:"/hSCStudSubjectsRepo",element:oe.jsx(Oj,{element:oe.jsx(sEe,{})})}),oe.jsx(vm,{path:"/feePaymentRepo",element:oe.jsx(Oj,{element:oe.jsx(rEe,{})})}),oe.jsx(vm,{path:"/worldlinfeePayRepo",element:oe.jsx(Oj,{element:oe.jsx(lEe,{})})}),oe.jsx(vm,{path:"/rozorpayfeePayRepo",element:oe.jsx(Oj,{element:oe.jsx(oEe,{})})}),oe.jsx(vm,{path:"/SubsTeaMonthlyRepo",element:oe.jsx(Oj,{element:oe.jsx(iEe,{})})}),oe.jsx(vm,{path:"/SubsWklyHrsRepo",element:oe.jsx(Oj,{element:oe.jsx(dPe,{})})}),oe.jsx(vm,{path:"/LeavCertifRepo",element:oe.jsx(Oj,{element:oe.jsx(cPe,{})})}),oe.jsx(vm,{path:"/PndingStudIdCrdRepo",element:oe.jsx(Oj,{element:oe.jsx(uPe,{})})}),oe.jsx(vm,{path:"/notification",element:oe.jsx(xae,{})}),oe.jsx(vm,{path:"/changepassword",element:oe.jsx(Nae,{})}),oe.jsx(vm,{path:"/ticktinglist",element:oe.jsx(Oj,{element:oe.jsx(vae,{})})}),oe.jsx(vm,{path:"/approveLeavelist",element:oe.jsx(Oj,{element:oe.jsx(HPe,{})})}),oe.jsx(vm,{path:"/leaveApprove/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(YPe,{})})}),oe.jsx(vm,{path:"/feependinglist",element:oe.jsx(Oj,{element:oe.jsx(jae,{})})}),oe.jsx(vm,{path:"/studentAbsent",element:oe.jsx(Oj,{element:oe.jsx(SPe,{})})}),oe.jsx(vm,{path:"/nonTeachingStaff",element:oe.jsx(Oj,{element:oe.jsx(kPe,{})})}),oe.jsx(vm,{path:"/approveLessonP",element:oe.jsx(Oj,{element:oe.jsx(CPe,{})})}),oe.jsx(vm,{path:"/staffbirthlist",element:oe.jsx(Oj,{element:oe.jsx(gae,{})})}),oe.jsx(vm,{path:"/teacherList",element:oe.jsx(Oj,{element:oe.jsx(WPe,{})})}),oe.jsx(vm,{path:"/manageSubjectP",element:oe.jsx(Oj,{element:oe.jsx(EPe,{})})}),oe.jsx(vm,{path:"/staffNoticeAndSms",element:oe.jsx(Oj,{element:oe.jsx(DPe,{})})}),oe.jsx(vm,{path:"/duplicatePaymentReport",element:oe.jsx(Oj,{element:oe.jsx(APe,{})})}),oe.jsx(vm,{path:"/LeaveApplicationP",element:oe.jsx(Oj,{element:oe.jsx(LPe,{})})}),oe.jsx(vm,{path:"/createLeaveApplicationP",element:oe.jsx(Oj,{element:oe.jsx(FPe,{})})}),oe.jsx(vm,{path:"/leaveApplicationP/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(IPe,{})})}),oe.jsx(vm,{path:"/leaveApplicationP/view/:id",element:oe.jsx(Oj,{element:oe.jsx(MPe,{})})}),oe.jsx(vm,{path:"/dwPaymentReport",element:oe.jsx(Oj,{element:oe.jsx(PPe,{})})}),oe.jsx(vm,{path:"/studentIdcDReport",element:oe.jsx(Oj,{element:oe.jsx(RPe,{})})}),oe.jsx(vm,{path:"/stationery",element:oe.jsx(Oj,{element:oe.jsx(GPe,{})})}),oe.jsx(vm,{path:"/siblingUnmapping",element:oe.jsx(Oj,{element:oe.jsx(KPe,{})})}),oe.jsx(vm,{path:"/unmapDetails/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(XPe,{})})}),oe.jsx(vm,{path:"/TeacherADReport",element:oe.jsx(Oj,{element:oe.jsx($Pe,{})})}),oe.jsx(vm,{path:"/remObsTeacher",element:oe.jsx(Oj,{element:oe.jsx(zPe,{})})}),oe.jsx(vm,{path:"/remObsTeacher/edit/:id",element:oe.jsx(Oj,{element:oe.jsx(UPe,{})})})]}),oe.jsx(vm,{path:"*",element:oe.jsx(Oj,{element:oe.jsx(kae,{})})})]})}function uMe(){return oe.jsx("div",{className:"overflow-x-hidden",children:oe.jsx(cMe,{})})}ie.createRoot(document.getElementById("root")).render(oe.jsx(km,{children:oe.jsx(uMe,{})}))}},function(){return t||(0,e[s(e)[0]])((t={exports:{}}).exports,t),t.exports});export default x();
